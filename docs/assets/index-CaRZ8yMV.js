var Fie=Object.defineProperty;var qie=(e,t,n)=>t in e?Fie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var cl=(e,t,n)=>qie(e,typeof t!="symbol"?t+"":t,n);function m9(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const d=Object.getOwnPropertyDescriptor(r,i);d&&Object.defineProperty(e,i,d.get?d:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&r(g)}).observe(document,{childList:!0,subtree:!0});function n(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(i){if(i.ep)return;i.ep=!0;const d=n(i);fetch(i.href,d)}})();var wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function by(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ww={exports:{}},cI={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zU;function zie(){if(zU)return cI;zU=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,d){var g=null;if(d!==void 0&&(g=""+d),i.key!==void 0&&(g=""+i.key),"key"in i){d={};for(var v in i)v!=="key"&&(d[v]=i[v])}else d=i;return i=d.ref,{$$typeof:e,type:r,key:g,ref:i!==void 0?i:null,props:d}}return cI.Fragment=t,cI.jsx=n,cI.jsxs=n,cI}var HU;function Hie(){return HU||(HU=1,ww.exports=zie()),ww.exports}var s=Hie(),Nw={exports:{}},ea={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GU;function Gie(){if(GU)return ea;GU=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),I=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),_=Symbol.iterator;function N(ue){return ue===null||typeof ue!="object"?null:(ue=_&&ue[_]||ue["@@iterator"],typeof ue=="function"?ue:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,O={};function R(ue,ye,be){this.props=ue,this.context=ye,this.refs=O,this.updater=be||A}R.prototype.isReactComponent={},R.prototype.setState=function(ue,ye){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,ye,"setState")},R.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function D(){}D.prototype=R.prototype;function j(ue,ye,be){this.props=ue,this.context=ye,this.refs=O,this.updater=be||A}var L=j.prototype=new D;L.constructor=j,w(L,R.prototype),L.isPureReactComponent=!0;var U=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function z(ue,ye,be,oe,pe,fe){return be=fe.ref,{$$typeof:e,type:ue,key:ye,ref:be!==void 0?be:null,props:fe}}function H(ue,ye){return z(ue.type,ye,void 0,void 0,void 0,ue.props)}function V(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===e}function K(ue){var ye={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(be){return ye[be]})}var J=/\/+/g;function te(ue,ye){return typeof ue=="object"&&ue!==null&&ue.key!=null?K(""+ue.key):ye.toString(36)}function Z(){}function X(ue){switch(ue.status){case"fulfilled":return ue.value;case"rejected":throw ue.reason;default:switch(typeof ue.status=="string"?ue.then(Z,Z):(ue.status="pending",ue.then(function(ye){ue.status==="pending"&&(ue.status="fulfilled",ue.value=ye)},function(ye){ue.status==="pending"&&(ue.status="rejected",ue.reason=ye)})),ue.status){case"fulfilled":return ue.value;case"rejected":throw ue.reason}}throw ue}function re(ue,ye,be,oe,pe){var fe=typeof ue;(fe==="undefined"||fe==="boolean")&&(ue=null);var _e=!1;if(ue===null)_e=!0;else switch(fe){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(ue.$$typeof){case e:case t:_e=!0;break;case T:return _e=ue._init,re(_e(ue._payload),ye,be,oe,pe)}}if(_e)return pe=pe(ue),_e=oe===""?"."+te(ue,0):oe,U(pe)?(be="",_e!=null&&(be=_e.replace(J,"$&/")+"/"),re(pe,ye,be,"",function(De){return De})):pe!=null&&(V(pe)&&(pe=H(pe,be+(pe.key==null||ue&&ue.key===pe.key?"":(""+pe.key).replace(J,"$&/")+"/")+_e)),ye.push(pe)),1;_e=0;var Te=oe===""?".":oe+":";if(U(ue))for(var Se=0;Se<ue.length;Se++)oe=ue[Se],fe=Te+te(oe,Se),_e+=re(oe,ye,be,fe,pe);else if(Se=N(ue),typeof Se=="function")for(ue=Se.call(ue),Se=0;!(oe=ue.next()).done;)oe=oe.value,fe=Te+te(oe,Se++),_e+=re(oe,ye,be,fe,pe);else if(fe==="object"){if(typeof ue.then=="function")return re(X(ue),ye,be,oe,pe);throw ye=String(ue),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.")}return _e}function ee(ue,ye,be){if(ue==null)return ue;var oe=[],pe=0;return re(ue,oe,"","",function(fe){return ye.call(be,fe,pe++)}),oe}function ae(ue){if(ue._status===-1){var ye=ue._result;ye=ye(),ye.then(function(be){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=be)},function(be){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=be)}),ue._status===-1&&(ue._status=0,ue._result=ye)}if(ue._status===1)return ue._result.default;throw ue._result}var de=typeof reportError=="function"?reportError:function(ue){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ye=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ue=="object"&&ue!==null&&typeof ue.message=="string"?String(ue.message):String(ue),error:ue});if(!window.dispatchEvent(ye))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ue);return}console.error(ue)};function he(){}return ea.Children={map:ee,forEach:function(ue,ye,be){ee(ue,function(){ye.apply(this,arguments)},be)},count:function(ue){var ye=0;return ee(ue,function(){ye++}),ye},toArray:function(ue){return ee(ue,function(ye){return ye})||[]},only:function(ue){if(!V(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}},ea.Component=R,ea.Fragment=n,ea.Profiler=i,ea.PureComponent=j,ea.StrictMode=r,ea.Suspense=S,ea.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ea.__COMPILER_RUNTIME={__proto__:null,c:function(ue){return $.H.useMemoCache(ue)}},ea.cache=function(ue){return function(){return ue.apply(null,arguments)}},ea.cloneElement=function(ue,ye,be){if(ue==null)throw Error("The argument must be a React element, but you passed "+ue+".");var oe=w({},ue.props),pe=ue.key,fe=void 0;if(ye!=null)for(_e in ye.ref!==void 0&&(fe=void 0),ye.key!==void 0&&(pe=""+ye.key),ye)!F.call(ye,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&ye.ref===void 0||(oe[_e]=ye[_e]);var _e=arguments.length-2;if(_e===1)oe.children=be;else if(1<_e){for(var Te=Array(_e),Se=0;Se<_e;Se++)Te[Se]=arguments[Se+2];oe.children=Te}return z(ue.type,pe,void 0,void 0,fe,oe)},ea.createContext=function(ue){return ue={$$typeof:g,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null},ue.Provider=ue,ue.Consumer={$$typeof:d,_context:ue},ue},ea.createElement=function(ue,ye,be){var oe,pe={},fe=null;if(ye!=null)for(oe in ye.key!==void 0&&(fe=""+ye.key),ye)F.call(ye,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(pe[oe]=ye[oe]);var _e=arguments.length-2;if(_e===1)pe.children=be;else if(1<_e){for(var Te=Array(_e),Se=0;Se<_e;Se++)Te[Se]=arguments[Se+2];pe.children=Te}if(ue&&ue.defaultProps)for(oe in _e=ue.defaultProps,_e)pe[oe]===void 0&&(pe[oe]=_e[oe]);return z(ue,fe,void 0,void 0,null,pe)},ea.createRef=function(){return{current:null}},ea.forwardRef=function(ue){return{$$typeof:v,render:ue}},ea.isValidElement=V,ea.lazy=function(ue){return{$$typeof:T,_payload:{_status:-1,_result:ue},_init:ae}},ea.memo=function(ue,ye){return{$$typeof:I,type:ue,compare:ye===void 0?null:ye}},ea.startTransition=function(ue){var ye=$.T,be={};$.T=be;try{var oe=ue(),pe=$.S;pe!==null&&pe(be,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(he,de)}catch(fe){de(fe)}finally{$.T=ye}},ea.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ea.use=function(ue){return $.H.use(ue)},ea.useActionState=function(ue,ye,be){return $.H.useActionState(ue,ye,be)},ea.useCallback=function(ue,ye){return $.H.useCallback(ue,ye)},ea.useContext=function(ue){return $.H.useContext(ue)},ea.useDebugValue=function(){},ea.useDeferredValue=function(ue,ye){return $.H.useDeferredValue(ue,ye)},ea.useEffect=function(ue,ye,be){var oe=$.H;if(typeof be=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(ue,ye)},ea.useId=function(){return $.H.useId()},ea.useImperativeHandle=function(ue,ye,be){return $.H.useImperativeHandle(ue,ye,be)},ea.useInsertionEffect=function(ue,ye){return $.H.useInsertionEffect(ue,ye)},ea.useLayoutEffect=function(ue,ye){return $.H.useLayoutEffect(ue,ye)},ea.useMemo=function(ue,ye){return $.H.useMemo(ue,ye)},ea.useOptimistic=function(ue,ye){return $.H.useOptimistic(ue,ye)},ea.useReducer=function(ue,ye,be){return $.H.useReducer(ue,ye,be)},ea.useRef=function(ue){return $.H.useRef(ue)},ea.useState=function(ue){return $.H.useState(ue)},ea.useSyncExternalStore=function(ue,ye,be){return $.H.useSyncExternalStore(ue,ye,be)},ea.useTransition=function(){return $.H.useTransition()},ea.version="19.1.0",ea}var KU;function XP(){return KU||(KU=1,Nw.exports=Gie()),Nw.exports}var E=XP();const Xe=by(E),JM=m9({__proto__:null,default:Xe},[E]);var Rw={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var WU;function Kie(){return WU||(WU=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var d="",g=0;g<arguments.length;g++){var v=arguments[g];v&&(d=i(d,r(v)))}return d}function r(d){if(typeof d=="string"||typeof d=="number")return d;if(typeof d!="object")return"";if(Array.isArray(d))return n.apply(null,d);if(d.toString!==Object.prototype.toString&&!d.toString.toString().includes("[native code]"))return d.toString();var g="";for(var v in d)t.call(d,v)&&d[v]&&(g=i(g,v));return g}function i(d,g){return g?d?d+" "+g:d+g:d}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(Rw)),Rw.exports}var Wie=Kie();const Ue=by(Wie);function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kt.apply(null,arguments)}function qn(e){"@babel/helpers - typeof";return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(e)}var Yie=Symbol.for("react.element"),Xie=Symbol.for("react.transitional.element"),Jie=Symbol.for("react.fragment");function f9(e){return e&&qn(e)==="object"&&(e.$$typeof===Yie||e.$$typeof===Xie)&&e.type===Jie}function ps(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return Xe.Children.forEach(e,function(r){r==null&&!t.keepEmpty||(Array.isArray(r)?n=n.concat(ps(r)):f9(r)&&r.props?n=n.concat(ps(r.props.children,t)):n.push(r))}),n}var hL={},Qie=function(t){};function Zie(e,t){}function eoe(e,t){}function toe(){hL={}}function g9(e,t,n){!t&&!hL[n]&&(e(!1,n),hL[n]=!0)}function pi(e,t){g9(Zie,e,t)}function noe(e,t){g9(eoe,e,t)}pi.preMessage=Qie;pi.resetWarned=toe;pi.noteOnce=noe;function roe(e,t){if(qn(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h9(e){var t=roe(e,"string");return qn(t)=="symbol"?t:t+""}function Ce(e,t,n){return(t=h9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YU(Object(n),!0).forEach(function(r){Ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Aw={exports:{}},ss={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XU;function aoe(){if(XU)return ss;XU=1;var e=XP();function t(S){var I="https://react.dev/errors/"+S;if(1<arguments.length){I+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)I+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+S+"; visit "+I+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function d(S,I,T){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:S,containerInfo:I,implementation:T}}var g=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(S,I){if(S==="font")return"";if(typeof I=="string")return I==="use-credentials"?I:""}return ss.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ss.createPortal=function(S,I){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!I||I.nodeType!==1&&I.nodeType!==9&&I.nodeType!==11)throw Error(t(299));return d(S,I,null,T)},ss.flushSync=function(S){var I=g.T,T=r.p;try{if(g.T=null,r.p=2,S)return S()}finally{g.T=I,r.p=T,r.d.f()}},ss.preconnect=function(S,I){typeof S=="string"&&(I?(I=I.crossOrigin,I=typeof I=="string"?I==="use-credentials"?I:"":void 0):I=null,r.d.C(S,I))},ss.prefetchDNS=function(S){typeof S=="string"&&r.d.D(S)},ss.preinit=function(S,I){if(typeof S=="string"&&I&&typeof I.as=="string"){var T=I.as,_=v(T,I.crossOrigin),N=typeof I.integrity=="string"?I.integrity:void 0,A=typeof I.fetchPriority=="string"?I.fetchPriority:void 0;T==="style"?r.d.S(S,typeof I.precedence=="string"?I.precedence:void 0,{crossOrigin:_,integrity:N,fetchPriority:A}):T==="script"&&r.d.X(S,{crossOrigin:_,integrity:N,fetchPriority:A,nonce:typeof I.nonce=="string"?I.nonce:void 0})}},ss.preinitModule=function(S,I){if(typeof S=="string")if(typeof I=="object"&&I!==null){if(I.as==null||I.as==="script"){var T=v(I.as,I.crossOrigin);r.d.M(S,{crossOrigin:T,integrity:typeof I.integrity=="string"?I.integrity:void 0,nonce:typeof I.nonce=="string"?I.nonce:void 0})}}else I==null&&r.d.M(S)},ss.preload=function(S,I){if(typeof S=="string"&&typeof I=="object"&&I!==null&&typeof I.as=="string"){var T=I.as,_=v(T,I.crossOrigin);r.d.L(S,T,{crossOrigin:_,integrity:typeof I.integrity=="string"?I.integrity:void 0,nonce:typeof I.nonce=="string"?I.nonce:void 0,type:typeof I.type=="string"?I.type:void 0,fetchPriority:typeof I.fetchPriority=="string"?I.fetchPriority:void 0,referrerPolicy:typeof I.referrerPolicy=="string"?I.referrerPolicy:void 0,imageSrcSet:typeof I.imageSrcSet=="string"?I.imageSrcSet:void 0,imageSizes:typeof I.imageSizes=="string"?I.imageSizes:void 0,media:typeof I.media=="string"?I.media:void 0})}},ss.preloadModule=function(S,I){if(typeof S=="string")if(I){var T=v(I.as,I.crossOrigin);r.d.m(S,{as:typeof I.as=="string"&&I.as!=="script"?I.as:void 0,crossOrigin:T,integrity:typeof I.integrity=="string"?I.integrity:void 0})}else r.d.m(S)},ss.requestFormReset=function(S){r.d.r(S)},ss.unstable_batchedUpdates=function(S,I){return S(I)},ss.useFormState=function(S,I,T){return g.H.useFormState(S,I,T)},ss.useFormStatus=function(){return g.H.useHostTransitionStatus()},ss.version="19.1.0",ss}var JU;function v9(){if(JU)return Aw.exports;JU=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Aw.exports=aoe(),Aw.exports}var Ac=v9();const KI=by(Ac),ioe=m9({__proto__:null,default:KI},[Ac]);function WI(e){return e instanceof HTMLElement||e instanceof SVGElement}function b0(e){return e&&qn(e)==="object"&&WI(e.nativeElement)?e.nativeElement:WI(e)?e:null}function iM(e){var t=b0(e);if(t)return t;if(e instanceof Xe.Component){var n;return(n=KI.findDOMNode)===null||n===void 0?void 0:n.call(KI,e)}return null}var Ow={exports:{}},Ga={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QU;function ooe(){if(QU)return Ga;QU=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.server_context"),S=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function O(R){if(typeof R=="object"&&R!==null){var D=R.$$typeof;switch(D){case e:switch(R=R.type,R){case n:case i:case r:case I:case T:return R;default:switch(R=R&&R.$$typeof,R){case v:case g:case S:case N:case _:case d:return R;default:return D}}case t:return D}}}return Ga.ContextConsumer=g,Ga.ContextProvider=d,Ga.Element=e,Ga.ForwardRef=S,Ga.Fragment=n,Ga.Lazy=N,Ga.Memo=_,Ga.Portal=t,Ga.Profiler=i,Ga.StrictMode=r,Ga.Suspense=I,Ga.SuspenseList=T,Ga.isAsyncMode=function(){return!1},Ga.isConcurrentMode=function(){return!1},Ga.isContextConsumer=function(R){return O(R)===g},Ga.isContextProvider=function(R){return O(R)===d},Ga.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},Ga.isForwardRef=function(R){return O(R)===S},Ga.isFragment=function(R){return O(R)===n},Ga.isLazy=function(R){return O(R)===N},Ga.isMemo=function(R){return O(R)===_},Ga.isPortal=function(R){return O(R)===t},Ga.isProfiler=function(R){return O(R)===i},Ga.isStrictMode=function(R){return O(R)===r},Ga.isSuspense=function(R){return O(R)===I},Ga.isSuspenseList=function(R){return O(R)===T},Ga.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===n||R===i||R===r||R===I||R===T||R===A||typeof R=="object"&&R!==null&&(R.$$typeof===N||R.$$typeof===_||R.$$typeof===d||R.$$typeof===g||R.$$typeof===S||R.$$typeof===w||R.getModuleId!==void 0)},Ga.typeOf=O,Ga}var ZU;function soe(){return ZU||(ZU=1,Ow.exports=ooe()),Ow.exports}var kw=soe();function Sg(e,t,n){var r=E.useRef({});return(!("value"in r.current)||n(r.current.condition,t))&&(r.current.value=e(),r.current.condition=t),r.current.value}var loe=Number(E.version.split(".")[0]),YI=function(t,n){typeof t=="function"?t(n):qn(t)==="object"&&t&&"current"in t&&(t.current=n)},Bo=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);return i.length<=1?i[0]:function(d){n.forEach(function(g){YI(g,d)})}},Im=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Sg(function(){return Bo.apply(void 0,n)},n,function(i,d){return i.length!==d.length||i.every(function(g,v){return g!==d[v]})})},Oc=function(t){var n,r;if(!t)return!1;if(JP(t)&&loe>=19)return!0;var i=kw.isMemo(t)?t.type.type:t.type;return!(typeof i=="function"&&!((n=i.prototype)!==null&&n!==void 0&&n.render)&&i.$$typeof!==kw.ForwardRef||typeof t=="function"&&!((r=t.prototype)!==null&&r!==void 0&&r.render)&&t.$$typeof!==kw.ForwardRef)};function JP(e){return E.isValidElement(e)&&!f9(e)}var coe=function(t){return JP(t)&&Oc(t)},Em=function(t){if(t&&JP(t)){var n=t;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null},vL=E.createContext(null);function uoe(e){var t=e.children,n=e.onBatchResize,r=E.useRef(0),i=E.useRef([]),d=E.useContext(vL),g=E.useCallback(function(v,S,I){r.current+=1;var T=r.current;i.current.push({size:v,element:S,data:I}),Promise.resolve().then(function(){T===r.current&&(n==null||n(i.current),i.current=[])}),d==null||d(v,S,I)},[n,d]);return E.createElement(vL.Provider,{value:g},t)}var y9=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(i,d){return i[0]===n?(r=d,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(n,r){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,i=e(r,n);~i&&r.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,d=this.__entries__;i<d.length;i++){var g=d[i];n.call(r,g[1],g[0])}},t}()}(),yL=typeof window<"u"&&typeof document<"u"&&window.document===document,MM=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),doe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(MM):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),poe=2;function moe(e,t){var n=!1,r=!1,i=0;function d(){n&&(n=!1,e()),r&&v()}function g(){doe(d)}function v(){var S=Date.now();if(n){if(S-i<poe)return;r=!0}else n=!0,r=!1,setTimeout(g,t);i=S}return v}var foe=20,goe=["top","right","bottom","left","width","height","size","weight"],hoe=typeof MutationObserver<"u",voe=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=moe(this.refresh.bind(this),foe)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!yL||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),hoe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!yL||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,i=goe.some(function(d){return!!~r.indexOf(d)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),b9=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},cy=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||MM},S9=QM(0,0,0,0);function _M(e){return parseFloat(e)||0}function eB(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,i){var d=e["border-"+i+"-width"];return r+_M(d)},0)}function yoe(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var d=i[r],g=e["padding-"+d];n[d]=_M(g)}return n}function boe(e){var t=e.getBBox();return QM(0,0,t.width,t.height)}function Soe(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return S9;var r=cy(e).getComputedStyle(e),i=yoe(r),d=i.left+i.right,g=i.top+i.bottom,v=_M(r.width),S=_M(r.height);if(r.boxSizing==="border-box"&&(Math.round(v+d)!==t&&(v-=eB(r,"left","right")+d),Math.round(S+g)!==n&&(S-=eB(r,"top","bottom")+g)),!Eoe(e)){var I=Math.round(v+d)-t,T=Math.round(S+g)-n;Math.abs(I)!==1&&(v-=I),Math.abs(T)!==1&&(S-=T)}return QM(i.left,i.top,v,S)}var Ioe=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof cy(e).SVGGraphicsElement}:function(e){return e instanceof cy(e).SVGElement&&typeof e.getBBox=="function"}}();function Eoe(e){return e===cy(e).document.documentElement}function Coe(e){return yL?Ioe(e)?boe(e):Soe(e):S9}function Toe(e){var t=e.x,n=e.y,r=e.width,i=e.height,d=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,g=Object.create(d.prototype);return b9(g,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),g}function QM(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Moe=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=QM(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Coe(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),_oe=function(){function e(t,n){var r=Toe(n);b9(this,{target:t,contentRect:r})}return e}(),xoe=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new y9,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof cy(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new Moe(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof cy(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new _oe(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),I9=typeof WeakMap<"u"?new WeakMap:new y9,E9=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=voe.getInstance(),r=new xoe(t,n,this);I9.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){E9.prototype[e]=function(){var t;return(t=I9.get(this))[e].apply(t,arguments)}});var woe=function(){return typeof MM.ResizeObserver<"u"?MM.ResizeObserver:E9}(),fm=new Map;function Noe(e){e.forEach(function(t){var n,r=t.target;(n=fm.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var C9=new woe(Noe);function Roe(e,t){fm.has(e)||(fm.set(e,new Set),C9.observe(e)),fm.get(e).add(t)}function Aoe(e,t){fm.has(e)&&(fm.get(e).delete(t),fm.get(e).size||(C9.unobserve(e),fm.delete(e)))}function mi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h9(r.key),r)}}function fi(e,t,n){return t&&tB(e.prototype,t),n&&tB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function XI(e,t){return XI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},XI(e,t)}function vl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XI(e,t)}function pg(e){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pg(e)}function ZM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZM=function(){return!!e})()}function vn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T9(e,t){if(t&&(qn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vn(e)}function Kl(e){var t=ZM();return function(){var n,r=pg(e);if(t){var i=pg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T9(this,n)}}var Ooe=function(e){vl(n,e);var t=Kl(n);function n(){return mi(this,n),t.apply(this,arguments)}return fi(n,[{key:"render",value:function(){return this.props.children}}]),n}(E.Component);function koe(e,t){var n=e.children,r=e.disabled,i=E.useRef(null),d=E.useRef(null),g=E.useContext(vL),v=typeof n=="function",S=v?n(i):n,I=E.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),T=!v&&E.isValidElement(S)&&Oc(S),_=T?Em(S):null,N=Im(_,i),A=function(){var D;return iM(i.current)||(i.current&&qn(i.current)==="object"?iM((D=i.current)===null||D===void 0?void 0:D.nativeElement):null)||iM(d.current)};E.useImperativeHandle(t,function(){return A()});var w=E.useRef(e);w.current=e;var O=E.useCallback(function(R){var D=w.current,j=D.onResize,L=D.data,U=R.getBoundingClientRect(),$=U.width,F=U.height,z=R.offsetWidth,H=R.offsetHeight,V=Math.floor($),K=Math.floor(F);if(I.current.width!==V||I.current.height!==K||I.current.offsetWidth!==z||I.current.offsetHeight!==H){var J={width:V,height:K,offsetWidth:z,offsetHeight:H};I.current=J;var te=z===Math.round($)?$:z,Z=H===Math.round(F)?F:H,X=Pe(Pe({},J),{},{offsetWidth:te,offsetHeight:Z});g==null||g(X,R,L),j&&Promise.resolve().then(function(){j(X,R)})}},[]);return E.useEffect(function(){var R=A();return R&&!r&&Roe(R,O),function(){return Aoe(R,O)}},[i.current,r]),E.createElement(Ooe,{ref:d},T?E.cloneElement(S,{ref:N}):S)}var Loe=E.forwardRef(koe),Poe="rc-observer-key";function Doe(e,t){var n=e.children,r=typeof n=="function"?[n]:ps(n);return r.map(function(i,d){var g=(i==null?void 0:i.key)||"".concat(Poe,"-").concat(d);return E.createElement(Loe,kt({},e,{key:g,ref:d===0?t:void 0}),i)})}var Do=E.forwardRef(Doe);Do.Collection=uoe;function bL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function joe(e){if(Array.isArray(e))return bL(e)}function M9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QP(e,t){if(e){if(typeof e=="string")return bL(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bL(e,t):void 0}}function Voe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rt(e){return joe(e)||M9(e)||QP(e)||Voe()}var _9=function(t){return+setTimeout(t,16)},x9=function(t){return clearTimeout(t)};typeof window<"u"&&"requestAnimationFrame"in window&&(_9=function(t){return window.requestAnimationFrame(t)},x9=function(t){return window.cancelAnimationFrame(t)});var nB=0,ZP=new Map;function w9(e){ZP.delete(e)}var Fr=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;nB+=1;var r=nB;function i(d){if(d===0)w9(r),t();else{var g=_9(function(){i(d-1)});ZP.set(r,g)}}return i(n),r};Fr.cancel=function(e){var t=ZP.get(e);return w9(e),x9(t)};function rB(e){let t;const n=i=>()=>{t=null,e.apply(void 0,Rt(i))},r=(...i)=>{t==null&&(t=Fr(n(i)))};return r.cancel=()=>{Fr.cancel(t),t=null},r}function N9(e){if(Array.isArray(e))return e}function $oe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,d,g,v=[],S=!0,I=!1;try{if(d=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;S=!1}else for(;!(S=(r=d.call(n)).done)&&(v.push(r.value),v.length!==t);S=!0);}catch(T){I=!0,i=T}finally{try{if(!S&&n.return!=null&&(g=n.return(),Object(g)!==g))return}finally{if(I)throw i}}return v}}function R9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function at(e,t){return N9(e)||$oe(e,t)||QP(e,t)||R9()}function JI(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function jo(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Uoe(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var aB="data-rc-order",iB="data-rc-priority",Boe="rc-util-key",SL=new Map;function A9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Boe}function e_(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function Foe(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function eD(e){return Array.from((SL.get(e)||e).children).filter(function(t){return t.tagName==="STYLE"})}function O9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!jo())return null;var n=t.csp,r=t.prepend,i=t.priority,d=i===void 0?0:i,g=Foe(r),v=g==="prependQueue",S=document.createElement("style");S.setAttribute(aB,g),v&&d&&S.setAttribute(iB,"".concat(d)),n!=null&&n.nonce&&(S.nonce=n==null?void 0:n.nonce),S.innerHTML=e;var I=e_(t),T=I.firstChild;if(r){if(v){var _=(t.styles||eD(I)).filter(function(N){if(!["prepend","prependQueue"].includes(N.getAttribute(aB)))return!1;var A=Number(N.getAttribute(iB)||0);return d>=A});if(_.length)return I.insertBefore(S,_[_.length-1].nextSibling),S}I.insertBefore(S,T)}else I.appendChild(S);return S}function k9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e_(t);return(t.styles||eD(n)).find(function(r){return r.getAttribute(A9(t))===e})}function QI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=k9(e,t);if(n){var r=e_(t);r.removeChild(n)}}function qoe(e,t){var n=SL.get(e);if(!n||!Uoe(document,n)){var r=O9("",t),i=r.parentNode;SL.set(e,i),e.removeChild(r)}}function Rd(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e_(n),i=eD(r),d=Pe(Pe({},n),{},{styles:i});qoe(r,d);var g=k9(t,d);if(g){var v,S;if((v=d.csp)!==null&&v!==void 0&&v.nonce&&g.nonce!==((S=d.csp)===null||S===void 0?void 0:S.nonce)){var I;g.nonce=(I=d.csp)===null||I===void 0?void 0:I.nonce}return g.innerHTML!==e&&(g.innerHTML=e),g}var T=O9(e,d);return T.setAttribute(A9(d),t),T}function zoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ir(e,t){if(e==null)return{};var n,r,i=zoe(e,t);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(r=0;r<d.length;r++)n=d[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cu(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(d,g){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=r.has(d);if(pi(!S,"Warning: There may be circular references"),S)return!1;if(d===g)return!0;if(n&&v>1)return!1;r.add(d);var I=v+1;if(Array.isArray(d)){if(!Array.isArray(g)||d.length!==g.length)return!1;for(var T=0;T<d.length;T++)if(!i(d[T],g[T],I))return!1;return!0}if(d&&g&&qn(d)==="object"&&qn(g)==="object"){var _=Object.keys(d);return _.length!==Object.keys(g).length?!1:_.every(function(N){return i(d[N],g[N],I)})}return!1}return i(e,t)}var Hoe="%";function IL(e){return e.join(Hoe)}var Goe=function(){function e(t){mi(this,e),Ce(this,"instanceId",void 0),Ce(this,"cache",new Map),this.instanceId=t}return fi(e,[{key:"get",value:function(n){return this.opGet(IL(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(IL(n),r)}},{key:"opUpdate",value:function(n,r){var i=this.cache.get(n),d=r(i);d===null?this.cache.delete(n):this.cache.set(n,d)}}]),e}(),uy="data-token-hash",wc="data-css-hash",gm="__cssinjs_instance__";function Koe(){var e=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(wc,"]"))||[],n=document.head.firstChild;Array.from(t).forEach(function(i){i[gm]=i[gm]||e,i[gm]===e&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(wc,"]"))).forEach(function(i){var d=i.getAttribute(wc);if(r[d]){if(i[gm]===e){var g;(g=i.parentNode)===null||g===void 0||g.removeChild(i)}}else r[d]=!0})}return new Goe(e)}var S0=E.createContext({hashPriority:"low",cache:Koe(),defaultCache:!0});function Woe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var tD=function(){function e(){mi(this,e),Ce(this,"cache",void 0),Ce(this,"keys",void 0),Ce(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return fi(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g={map:this.cache};return n.forEach(function(v){if(!g)g=void 0;else{var S;g=(S=g)===null||S===void 0||(S=S.map)===null||S===void 0?void 0:S.get(v)}}),(r=g)!==null&&r!==void 0&&r.value&&d&&(g.value[1]=this.cacheCallTimes++),(i=g)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var d=this.keys.reduce(function(I,T){var _=at(I,2),N=_[1];return i.internalGet(T)[1]<N?[T,i.internalGet(T)[1]]:I},[this.keys[0],this.cacheCallTimes]),g=at(d,1),v=g[0];this.delete(v)}this.keys.push(n)}var S=this.cache;n.forEach(function(I,T){if(T===n.length-1)S.set(I,{value:[r,i.cacheCallTimes++]});else{var _=S.get(I);_?_.map||(_.map=new Map):S.set(I,{map:new Map}),S=S.get(I).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var d;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(d=i.value)===null||d===void 0?void 0:d[0]}var g=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),g}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!Woe(r,n)}),this.deleteByPath(this.cache,n)}}]),e}();Ce(tD,"MAX_CACHE_SIZE",20);Ce(tD,"MAX_CACHE_OFFSET",5);var oB=0,L9=function(){function e(t){mi(this,e),Ce(this,"derivatives",void 0),Ce(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=oB,t.length===0&&(t.length>0,void 0),oB+=1}return fi(e,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),e}(),Lw=new tD;function EL(e){var t=Array.isArray(e)?e:[e];return Lw.has(t)||Lw.set(t,new L9(t)),Lw.get(t)}var Yoe=new WeakMap,Pw={};function Xoe(e,t){for(var n=Yoe,r=0;r<t.length;r+=1){var i=t[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(Pw)||n.set(Pw,e()),n.get(Pw)}var sB=new WeakMap;function VI(e){var t=sB.get(e)||"";return t||(Object.keys(e).forEach(function(n){var r=e[n];t+=n,r instanceof L9?t+=r.id:r&&qn(r)==="object"?t+=VI(r):t+=r}),t=JI(t),sB.set(e,t)),t}function lB(e,t){return JI("".concat(t,"_").concat(VI(e)))}var CL=jo();function Le(e){return typeof e=="number"?"".concat(e,"px"):e}function xM(e,t,n){var r,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(d)return e;var g=Pe(Pe({},i),{},(r={},Ce(r,uy,t),Ce(r,wc,n),r)),v=Object.keys(g).map(function(S){var I=g[S];return I?"".concat(S,'="').concat(I,'"'):null}).filter(function(S){return S}).join(" ");return"<style ".concat(v,">").concat(e,"</style>")}var oM=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Joe=function(t,n,r){return Object.keys(t).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(t).map(function(i){var d=at(i,2),g=d[0],v=d[1];return"".concat(g,":").concat(v,";")}).join(""),"}"):""},P9=function(t,n,r){var i={},d={};return Object.entries(t).forEach(function(g){var v,S,I=at(g,2),T=I[0],_=I[1];if(r!=null&&(v=r.preserve)!==null&&v!==void 0&&v[T])d[T]=_;else if((typeof _=="string"||typeof _=="number")&&!(r!=null&&(S=r.ignore)!==null&&S!==void 0&&S[T])){var N,A=oM(T,r==null?void 0:r.prefix);i[A]=typeof _=="number"&&!(r!=null&&(N=r.unitless)!==null&&N!==void 0&&N[T])?"".concat(_,"px"):String(_),d[T]="var(".concat(A,")")}}),[d,Joe(i,n,{scope:r==null?void 0:r.scope})]},cB=jo()?E.useLayoutEffect:E.useEffect,Hr=function(t,n){var r=E.useRef(!0);cB(function(){return t(r.current)},n),cB(function(){return r.current=!1,function(){r.current=!0}},[])},ny=function(t,n){Hr(function(r){if(!r)return t()},n)},Qoe=Pe({},JM),uB=Qoe.useInsertionEffect,Zoe=function(t,n,r){E.useMemo(t,r),Hr(function(){return n(!0)},r)},ese=uB?function(e,t,n){return uB(function(){return e(),t()},n)}:Zoe,tse=Pe({},JM),nse=tse.useInsertionEffect,rse=function(t){var n=[],r=!1;function i(d){r||n.push(d)}return E.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(d){return d()})}},t),i},ase=function(){return function(t){t()}},ise=typeof nse<"u"?rse:ase;function nD(e,t,n,r,i){var d=E.useContext(S0),g=d.cache,v=[e].concat(Rt(t)),S=IL(v),I=ise([S]),T=function(w){g.opUpdate(S,function(O){var R=O||[void 0,void 0],D=at(R,2),j=D[0],L=j===void 0?0:j,U=D[1],$=U,F=$||n(),z=[L,F];return w?w(z):z})};E.useMemo(function(){T()},[S]);var _=g.opGet(S),N=_[1];return ese(function(){i==null||i(N)},function(A){return T(function(w){var O=at(w,2),R=O[0],D=O[1];return A&&R===0&&(i==null||i(N)),[R+1,D]}),function(){g.opUpdate(S,function(w){var O=w||[],R=at(O,2),D=R[0],j=D===void 0?0:D,L=R[1],U=j-1;return U===0?(I(function(){(A||!g.opGet(S))&&(r==null||r(L,!1))}),null):[j-1,L]})}},[S]),N}var ose={},sse="css",rg=new Map;function lse(e){rg.set(e,(rg.get(e)||0)+1)}function cse(e,t){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(uy,'="').concat(e,'"]'));n.forEach(function(r){if(r[gm]===t){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var use=0;function dse(e,t){rg.set(e,(rg.get(e)||0)-1);var n=Array.from(rg.keys()),r=n.filter(function(i){var d=rg.get(i)||0;return d<=0});n.length-r.length>use&&r.forEach(function(i){cse(i,t),rg.delete(i)})}var pse=function(t,n,r,i){var d=r.getDerivativeToken(t),g=Pe(Pe({},d),n);return i&&(g=i(g)),g},D9="token";function mse(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=E.useContext(S0),i=r.cache.instanceId,d=r.container,g=n.salt,v=g===void 0?"":g,S=n.override,I=S===void 0?ose:S,T=n.formatToken,_=n.getComputedToken,N=n.cssVar,A=Xoe(function(){return Object.assign.apply(Object,[{}].concat(Rt(t)))},t),w=VI(A),O=VI(I),R=N?VI(N):"",D=nD(D9,[v,e.id,w,O,R],function(){var j,L=_?_(A,I,e):pse(A,I,e,T),U=Pe({},L),$="";if(N){var F=P9(L,N.key,{prefix:N.prefix,ignore:N.ignore,unitless:N.unitless,preserve:N.preserve}),z=at(F,2);L=z[0],$=z[1]}var H=lB(L,v);L._tokenKey=H,U._tokenKey=lB(U,v);var V=(j=N==null?void 0:N.key)!==null&&j!==void 0?j:H;L._themeKey=V,lse(V);var K="".concat(sse,"-").concat(JI(H));return L._hashId=K,[L,K,U,$,(N==null?void 0:N.key)||""]},function(j){dse(j[0]._themeKey,i)},function(j){var L=at(j,4),U=L[0],$=L[3];if(N&&$){var F=Rd($,JI("css-variables-".concat(U._themeKey)),{mark:wc,prepend:"queue",attachTo:d,priority:-999});F[gm]=i,F.setAttribute(uy,U._themeKey)}});return D}var fse=function(t,n,r){var i=at(t,5),d=i[2],g=i[3],v=i[4],S=r||{},I=S.plain;if(!g)return null;var T=d._tokenKey,_=-999,N={"data-rc-order":"prependQueue","data-rc-priority":"".concat(_)},A=xM(g,v,T,N,I);return[_,T,A]},gse={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},j9="comm",V9="rule",$9="decl",hse="@import",vse="@namespace",yse="@keyframes",bse="@layer",U9=Math.abs,rD=String.fromCharCode;function B9(e){return e.trim()}function sM(e,t,n){return e.replace(t,n)}function Sse(e,t,n){return e.indexOf(t,n)}function ry(e,t){return e.charCodeAt(t)|0}function dy(e,t,n){return e.slice(t,n)}function Su(e){return e.length}function Ise(e){return e.length}function ZC(e,t){return t.push(e),e}var t_=1,py=1,F9=0,Hl=0,ao=0,Sy="";function aD(e,t,n,r,i,d,g,v){return{value:e,root:t,parent:n,type:r,props:i,children:d,line:t_,column:py,length:g,return:"",siblings:v}}function Ese(){return ao}function Cse(){return ao=Hl>0?ry(Sy,--Hl):0,py--,ao===10&&(py=1,t_--),ao}function Nc(){return ao=Hl<F9?ry(Sy,Hl++):0,py++,ao===10&&(py=1,t_++),ao}function hm(){return ry(Sy,Hl)}function lM(){return Hl}function n_(e,t){return dy(Sy,e,t)}function ZI(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Tse(e){return t_=py=1,F9=Su(Sy=e),Hl=0,[]}function Mse(e){return Sy="",e}function Dw(e){return B9(n_(Hl-1,TL(e===91?e+2:e===40?e+1:e)))}function _se(e){for(;(ao=hm())&&ao<33;)Nc();return ZI(e)>2||ZI(ao)>3?"":" "}function xse(e,t){for(;--t&&Nc()&&!(ao<48||ao>102||ao>57&&ao<65||ao>70&&ao<97););return n_(e,lM()+(t<6&&hm()==32&&Nc()==32))}function TL(e){for(;Nc();)switch(ao){case e:return Hl;case 34:case 39:e!==34&&e!==39&&TL(ao);break;case 40:e===41&&TL(e);break;case 92:Nc();break}return Hl}function wse(e,t){for(;Nc()&&e+ao!==57;)if(e+ao===84&&hm()===47)break;return"/*"+n_(t,Hl-1)+"*"+rD(e===47?e:Nc())}function Nse(e){for(;!ZI(hm());)Nc();return n_(e,Hl)}function Rse(e){return Mse(cM("",null,null,null,[""],e=Tse(e),0,[0],e))}function cM(e,t,n,r,i,d,g,v,S){for(var I=0,T=0,_=g,N=0,A=0,w=0,O=1,R=1,D=1,j=0,L="",U=i,$=d,F=r,z=L;R;)switch(w=j,j=Nc()){case 40:if(w!=108&&ry(z,_-1)==58){Sse(z+=sM(Dw(j),"&","&\f"),"&\f",U9(I?v[I-1]:0))!=-1&&(D=-1);break}case 34:case 39:case 91:z+=Dw(j);break;case 9:case 10:case 13:case 32:z+=_se(w);break;case 92:z+=xse(lM()-1,7);continue;case 47:switch(hm()){case 42:case 47:ZC(Ase(wse(Nc(),lM()),t,n,S),S),(ZI(w||1)==5||ZI(hm()||1)==5)&&Su(z)&&dy(z,-1,void 0)!==" "&&(z+=" ");break;default:z+="/"}break;case 123*O:v[I++]=Su(z)*D;case 125*O:case 59:case 0:switch(j){case 0:case 125:R=0;case 59+T:D==-1&&(z=sM(z,/\f/g,"")),A>0&&(Su(z)-_||O===0&&w===47)&&ZC(A>32?pB(z+";",r,n,_-1,S):pB(sM(z," ","")+";",r,n,_-2,S),S);break;case 59:z+=";";default:if(ZC(F=dB(z,t,n,I,T,i,v,L,U=[],$=[],_,d),d),j===123)if(T===0)cM(z,t,F,F,U,d,_,v,$);else{switch(N){case 99:if(ry(z,3)===110)break;case 108:if(ry(z,2)===97)break;default:T=0;case 100:case 109:case 115:}T?cM(e,F,F,r&&ZC(dB(e,F,F,0,0,i,v,L,i,U=[],_,$),$),i,$,_,v,r?U:$):cM(z,F,F,F,[""],$,0,v,$)}}I=T=A=0,O=D=1,L=z="",_=g;break;case 58:_=1+Su(z),A=w;default:if(O<1){if(j==123)--O;else if(j==125&&O++==0&&Cse()==125)continue}switch(z+=rD(j),j*O){case 38:D=T>0?1:(z+="\f",-1);break;case 44:v[I++]=(Su(z)-1)*D,D=1;break;case 64:hm()===45&&(z+=Dw(Nc())),N=hm(),T=_=Su(L=z+=Nse(lM())),j++;break;case 45:w===45&&Su(z)==2&&(O=0)}}return d}function dB(e,t,n,r,i,d,g,v,S,I,T,_){for(var N=i-1,A=i===0?d:[""],w=Ise(A),O=0,R=0,D=0;O<r;++O)for(var j=0,L=dy(e,N+1,N=U9(R=g[O])),U=e;j<w;++j)(U=B9(R>0?A[j]+" "+L:sM(L,/&\f/g,A[j])))&&(S[D++]=U);return aD(e,t,n,i===0?V9:v,S,I,T,_)}function Ase(e,t,n,r){return aD(e,t,n,j9,rD(Ese()),dy(e,2,-2),0,r)}function pB(e,t,n,r,i){return aD(e,t,n,$9,dy(e,0,r),dy(e,r+1,-1),r,i)}function ML(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Ose(e,t,n,r){switch(e.type){case bse:if(e.children.length)break;case hse:case vse:case $9:return e.return=e.return||e.value;case j9:return"";case yse:return e.return=e.value+"{"+ML(e.children,r)+"}";case V9:if(!Su(e.value=e.props.join(",")))return""}return Su(n=ML(e.children,r))?e.return=e.value+"{"+n+"}":""}var mB="data-ant-cssinjs-cache-path",q9="_FILE_STYLE__",cg,z9=!0;function kse(){if(!cg&&(cg={},jo())){var e=document.createElement("div");e.className=mB,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";t=t.replace(/^"/,"").replace(/"$/,""),t.split(";").forEach(function(i){var d=i.split(":"),g=at(d,2),v=g[0],S=g[1];cg[v]=S});var n=document.querySelector("style[".concat(mB,"]"));if(n){var r;z9=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(e)}}function Lse(e){return kse(),!!cg[e]}function Pse(e){var t=cg[e],n=null;if(t&&jo())if(z9)n=q9;else{var r=document.querySelector("style[".concat(wc,'="').concat(cg[e],'"]'));r?n=r.innerHTML:delete cg[e]}return[n,t]}var Dse="_skip_check_",H9="_multi_value_";function uM(e){var t=ML(Rse(e),Ose);return t.replace(/\{%%%\:[^;];}/g,";")}function jse(e){return qn(e)==="object"&&e&&(Dse in e||H9 in e)}function fB(e,t,n){if(!t)return e;var r=".".concat(t),i=n==="low"?":where(".concat(r,")"):r,d=e.split(",").map(function(g){var v,S=g.trim().split(/\s+/),I=S[0]||"",T=((v=I.match(/^\w+/))===null||v===void 0?void 0:v[0])||"";return I="".concat(T).concat(i).concat(I.slice(T.length)),[I].concat(Rt(S.slice(1))).join(" ")});return d.join(",")}var Vse=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,d=r.injectHash,g=r.parentSelectors,v=n.hashId,S=n.layer;n.path;var I=n.hashPriority,T=n.transformers,_=T===void 0?[]:T;n.linters;var N="",A={};function w(D){var j=D.getName(v);if(!A[j]){var L=e(D.style,n,{root:!1,parentSelectors:g}),U=at(L,1),$=U[0];A[j]="@keyframes ".concat(D.getName(v)).concat($)}}function O(D){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return D.forEach(function(L){Array.isArray(L)?O(L,j):L&&j.push(L)}),j}var R=O(Array.isArray(t)?t:[t]);return R.forEach(function(D){var j=typeof D=="string"&&!i?{}:D;if(typeof j=="string")N+="".concat(j,`
`);else if(j._keyframe)w(j);else{var L=_.reduce(function(U,$){var F;return($==null||(F=$.visit)===null||F===void 0?void 0:F.call($,U))||U},j);Object.keys(L).forEach(function(U){var $=L[U];if(qn($)==="object"&&$&&(U!=="animationName"||!$._keyframe)&&!jse($)){var F=!1,z=U.trim(),H=!1;(i||d)&&v?z.startsWith("@")?F=!0:z==="&"?z=fB("",v,I):z=fB(U,v,I):i&&!v&&(z==="&"||z==="")&&(z="",H=!0);var V=e($,n,{root:H,injectHash:F,parentSelectors:[].concat(Rt(g),[z])}),K=at(V,2),J=K[0],te=K[1];A=Pe(Pe({},A),te),N+="".concat(z).concat(J)}else{let re=function(ee,ae){var de=ee.replace(/[A-Z]/g,function(ue){return"-".concat(ue.toLowerCase())}),he=ae;!gse[ee]&&typeof he=="number"&&he!==0&&(he="".concat(he,"px")),ee==="animationName"&&ae!==null&&ae!==void 0&&ae._keyframe&&(w(ae),he=ae.getName(v)),N+="".concat(de,":").concat(he,";")};var Z,X=(Z=$==null?void 0:$.value)!==null&&Z!==void 0?Z:$;qn($)==="object"&&$!==null&&$!==void 0&&$[H9]&&Array.isArray(X)?X.forEach(function(ee){re(U,ee)}):re(U,X)}})}}),i?S&&(N&&(N="@layer ".concat(S.name," {").concat(N,"}")),S.dependencies&&(A["@layer ".concat(S.name)]=S.dependencies.map(function(D){return"@layer ".concat(D,", ").concat(S.name,";")}).join(`
`))):N="{".concat(N,"}"),[N,A]};function G9(e,t){return JI("".concat(e.join("%")).concat(t))}function $se(){return null}var K9="style";function _L(e,t){var n=e.token,r=e.path,i=e.hashId,d=e.layer,g=e.nonce,v=e.clientOnly,S=e.order,I=S===void 0?0:S,T=E.useContext(S0),_=T.autoClear;T.mock;var N=T.defaultCache,A=T.hashPriority,w=T.container,O=T.ssrInline,R=T.transformers,D=T.linters,j=T.cache,L=T.layer,U=n._tokenKey,$=[U];L&&$.push("layer"),$.push.apply($,Rt(r));var F=CL,z=nD(K9,$,function(){var te=$.join("|");if(Lse(te)){var Z=Pse(te),X=at(Z,2),re=X[0],ee=X[1];if(re)return[re,U,ee,{},v,I]}var ae=t(),de=Vse(ae,{hashId:i,hashPriority:A,layer:L?d:void 0,path:r.join("-"),transformers:R,linters:D}),he=at(de,2),ue=he[0],ye=he[1],be=uM(ue),oe=G9($,be);return[be,U,oe,ye,v,I]},function(te,Z){var X=at(te,3),re=X[2];(Z||_)&&CL&&QI(re,{mark:wc})},function(te){var Z=at(te,4),X=Z[0];Z[1];var re=Z[2],ee=Z[3];if(F&&X!==q9){var ae={mark:wc,prepend:L?!1:"queue",attachTo:w,priority:I},de=typeof g=="function"?g():g;de&&(ae.csp={nonce:de});var he=[],ue=[];Object.keys(ee).forEach(function(be){be.startsWith("@layer")?he.push(be):ue.push(be)}),he.forEach(function(be){Rd(uM(ee[be]),"_layer-".concat(be),Pe(Pe({},ae),{},{prepend:!0}))});var ye=Rd(X,re,ae);ye[gm]=j.instanceId,ye.setAttribute(uy,U),ue.forEach(function(be){Rd(uM(ee[be]),"_effect-".concat(be),ae)})}}),H=at(z,3),V=H[0],K=H[1],J=H[2];return function(te){var Z;if(!O||F||!N)Z=E.createElement($se,null);else{var X;Z=E.createElement("style",kt({},(X={},Ce(X,uy,K),Ce(X,wc,J),X),{dangerouslySetInnerHTML:{__html:V}}))}return E.createElement(E.Fragment,null,Z,te)}}var Use=function(t,n,r){var i=at(t,6),d=i[0],g=i[1],v=i[2],S=i[3],I=i[4],T=i[5],_=r||{},N=_.plain;if(I)return null;var A=d,w={"data-rc-order":"prependQueue","data-rc-priority":"".concat(T)};return A=xM(d,g,v,w,N),S&&Object.keys(S).forEach(function(O){if(!n[O]){n[O]=!0;var R=uM(S[O]),D=xM(R,g,"_effect-".concat(O),w,N);O.startsWith("@layer")?A=D+A:A+=D}}),[T,v,A]},W9="cssVar",Bse=function(t,n){var r=t.key,i=t.prefix,d=t.unitless,g=t.ignore,v=t.token,S=t.scope,I=S===void 0?"":S,T=E.useContext(S0),_=T.cache.instanceId,N=T.container,A=v._tokenKey,w=[].concat(Rt(t.path),[r,I,A]),O=nD(W9,w,function(){var R=n(),D=P9(R,r,{prefix:i,unitless:d,ignore:g,scope:I}),j=at(D,2),L=j[0],U=j[1],$=G9(w,U);return[L,U,$,r]},function(R){var D=at(R,3),j=D[2];CL&&QI(j,{mark:wc})},function(R){var D=at(R,3),j=D[1],L=D[2];if(j){var U=Rd(j,L,{mark:wc,prepend:"queue",attachTo:N,priority:-999});U[gm]=_,U.setAttribute(uy,r)}});return O},Fse=function(t,n,r){var i=at(t,4),d=i[1],g=i[2],v=i[3],S=r||{},I=S.plain;if(!d)return null;var T=-999,_={"data-rc-order":"prependQueue","data-rc-priority":"".concat(T)},N=xM(d,v,g,_,I);return[T,g,N]},uI;uI={},Ce(uI,K9,Use),Ce(uI,D9,fse),Ce(uI,W9,Fse);var ca=function(){function e(t,n){mi(this,e),Ce(this,"name",void 0),Ce(this,"style",void 0),Ce(this,"_keyframe",!0),this.name=t,this.style=n}return fi(e,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),e}();function Rv(e){return e.notSplit=!0,e}Rv(["borderTop","borderBottom"]),Rv(["borderTop"]),Rv(["borderBottom"]),Rv(["borderLeft","borderRight"]),Rv(["borderLeft"]),Rv(["borderRight"]);var iD=E.createContext({});function Y9(e){return N9(e)||M9(e)||QP(e)||R9()}function _s(e,t){for(var n=e,r=0;r<t.length;r+=1){if(n==null)return;n=n[t[r]]}return n}function X9(e,t,n,r){if(!t.length)return n;var i=Y9(t),d=i[0],g=i.slice(1),v;return!e&&typeof d=="number"?v=[]:Array.isArray(e)?v=Rt(e):v=Pe({},e),r&&n===void 0&&g.length===1?delete v[d][g[0]]:v[d]=X9(v[d],g,n,r),v}function zl(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return t.length&&r&&n===void 0&&!_s(e,t.slice(0,-1))?e:X9(e,t,n,r)}function qse(e){return qn(e)==="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function gB(e){return Array.isArray(e)?[]:{}}var zse=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Kv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=gB(t[0]);return t.forEach(function(i){function d(g,v){var S=new Set(v),I=_s(i,g),T=Array.isArray(I);if(T||qse(I)){if(!S.has(I)){S.add(I);var _=_s(r,g);T?r=zl(r,g,[]):(!_||qn(_)!=="object")&&(r=zl(r,g,gB(I))),zse(I).forEach(function(N){d([].concat(Rt(g),[N]),S)})}}else r=zl(r,g,I)}d([])}),r}function Hse(){}const Gse=E.createContext({}),Cm=()=>{const e=()=>{};return e.deprecated=Hse,e},J9=E.createContext(void 0);var Q9={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},Kse={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},Wse=Pe(Pe({},Kse),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const Z9={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},hB={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Wse),timePickerLocale:Object.assign({},Z9)},ul="${label} is not a valid ${type}",Tu={locale:"en",Pagination:Q9,DatePicker:hB,TimePicker:Z9,Calendar:hB,global:{placeholder:"Please select",close:"Close"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:ul,method:ul,array:ul,object:ul,number:ul,date:ul,boolean:ul,integer:ul,float:ul,regexp:ul,email:ul,url:ul,hex:ul},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};Object.assign({},Tu.Modal);let dM=[];const vB=()=>dM.reduce((e,t)=>Object.assign(Object.assign({},e),t),Tu.Modal);function Yse(e){if(e){const t=Object.assign({},e);return dM.push(t),vB(),()=>{dM=dM.filter(n=>n!==t),vB()}}Object.assign({},Tu.Modal)}const oD=E.createContext(void 0),Tm=(e,t)=>{const n=E.useContext(oD),r=E.useMemo(()=>{var d;const g=t||Tu[e],v=(d=n==null?void 0:n[e])!==null&&d!==void 0?d:{};return Object.assign(Object.assign({},typeof g=="function"?g():g),v||{})},[e,t,n]),i=E.useMemo(()=>{const d=n==null?void 0:n.locale;return n!=null&&n.exist&&!d?Tu.locale:d},[n]);return[r,i]},Xse="internalMark",Jse=e=>{const{locale:t={},children:n,_ANT_MARK__:r}=e;E.useEffect(()=>Yse(t==null?void 0:t.Modal),[t]);const i=E.useMemo(()=>Object.assign(Object.assign({},t),{exist:!0}),[t]);return E.createElement(oD.Provider,{value:i},n)},eK={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},e0=Object.assign(Object.assign({},eK),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),To=Math.round;function jw(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=t(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const yB=(e,t,n)=>n===0?e:e/100;function dI(e,t){const n=t||255;return e>n?n:e<0?0:e}let wa=class tK{constructor(t){Ce(this,"isValid",!0),Ce(this,"r",0),Ce(this,"g",0),Ce(this,"b",0),Ce(this,"a",1),Ce(this,"_h",void 0),Ce(this,"_s",void 0),Ce(this,"_l",void 0),Ce(this,"_v",void 0),Ce(this,"_max",void 0),Ce(this,"_min",void 0),Ce(this,"_brightness",void 0);function n(i){return i[0]in t&&i[1]in t&&i[2]in t}if(t)if(typeof t=="string"){let d=function(g){return i.startsWith(g)};var r=d;const i=t.trim();/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):d("rgb")?this.fromRgbString(i):d("hsl")?this.fromHslString(i):(d("hsv")||d("hsb"))&&this.fromHsvString(i)}else if(t instanceof tK)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(n("rgb"))this.r=dI(t.r),this.g=dI(t.g),this.b=dI(t.b),this.a=typeof t.a=="number"?dI(t.a,1):1;else if(n("hsl"))this.fromHsl(t);else if(n("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const n=this.toHsv();return n.h=t,this._c(n)}getLuminance(){function t(d){const g=d/255;return g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4)}const n=t(this.r),r=t(this.g),i=t(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=To(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-t/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(t=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+t/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(t,n=50){const r=this._c(t),i=n/100,d=v=>(r[v]-this[v])*i+this[v],g={r:To(d("r")),g:To(d("g")),b:To(d("b")),a:To(d("a")*100)/100};return this._c(g)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const n=this._c(t),r=this.a+n.a*(1-this.a),i=d=>To((this[d]*this.a+n[d]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const n=(this.r||0).toString(16);t+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);t+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(t+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const d=To(this.a*255).toString(16);t+=d.length===2?d:"0"+d}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),n=To(this.getSaturation()*100),r=To(this.getLightness()*100);return this.a!==1?`hsla(${t},${n}%,${r}%,${this.a})`:`hsl(${t},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,n,r){const i=this.clone();return i[t]=dI(n,r),i}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const n=t.replace("#","");function r(i,d){return parseInt(n[i]+n[d||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:t,s:n,l:r,a:i}){if(this._h=t%360,this._s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const N=To(r*255);this.r=N,this.g=N,this.b=N}let d=0,g=0,v=0;const S=t/60,I=(1-Math.abs(2*r-1))*n,T=I*(1-Math.abs(S%2-1));S>=0&&S<1?(d=I,g=T):S>=1&&S<2?(d=T,g=I):S>=2&&S<3?(g=I,v=T):S>=3&&S<4?(g=T,v=I):S>=4&&S<5?(d=T,v=I):S>=5&&S<6&&(d=I,v=T);const _=r-I/2;this.r=To((d+_)*255),this.g=To((g+_)*255),this.b=To((v+_)*255)}fromHsv({h:t,s:n,v:r,a:i}){this._h=t%360,this._s=n,this._v=r,this.a=typeof i=="number"?i:1;const d=To(r*255);if(this.r=d,this.g=d,this.b=d,n<=0)return;const g=t/60,v=Math.floor(g),S=g-v,I=To(r*(1-n)*255),T=To(r*(1-n*S)*255),_=To(r*(1-n*(1-S))*255);switch(v){case 0:this.g=_,this.b=I;break;case 1:this.r=T,this.b=I;break;case 2:this.r=I,this.b=_;break;case 3:this.r=I,this.g=T;break;case 4:this.r=_,this.g=I;break;case 5:default:this.g=I,this.b=T;break}}fromHsvString(t){const n=jw(t,yB);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(t){const n=jw(t,yB);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(t){const n=jw(t,(r,i)=>i.includes("%")?To(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}};var eT=2,bB=.16,Qse=.05,Zse=.05,ele=.15,nK=5,rK=4,tle=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function SB(e,t,n){var r;return Math.round(e.h)>=60&&Math.round(e.h)<=240?r=n?Math.round(e.h)-eT*t:Math.round(e.h)+eT*t:r=n?Math.round(e.h)+eT*t:Math.round(e.h)-eT*t,r<0?r+=360:r>=360&&(r-=360),r}function IB(e,t,n){if(e.h===0&&e.s===0)return e.s;var r;return n?r=e.s-bB*t:t===rK?r=e.s+bB:r=e.s+Qse*t,r>1&&(r=1),n&&t===nK&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function EB(e,t,n){var r;return n?r=e.v+Zse*t:r=e.v-ele*t,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function t0(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new wa(e),i=r.toHsv(),d=nK;d>0;d-=1){var g=new wa({h:SB(i,d,!0),s:IB(i,d,!0),v:EB(i,d,!0)});n.push(g)}n.push(r);for(var v=1;v<=rK;v+=1){var S=new wa({h:SB(i,v),s:IB(i,v),v:EB(i,v)});n.push(S)}return t.theme==="dark"?tle.map(function(I){var T=I.index,_=I.amount;return new wa(t.backgroundColor||"#141414").mix(n[T],_).toHexString()}):n.map(function(I){return I.toHexString()})}var ay={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},xL=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];xL.primary=xL[5];var wL=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];wL.primary=wL[5];var NL=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];NL.primary=NL[5];var wM=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];wM.primary=wM[5];var RL=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];RL.primary=RL[5];var AL=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];AL.primary=AL[5];var OL=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];OL.primary=OL[5];var kL=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];kL.primary=kL[5];var my=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];my.primary=my[5];var LL=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];LL.primary=LL[5];var PL=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];PL.primary=PL[5];var DL=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];DL.primary=DL[5];var jL=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];jL.primary=jL[5];var Vw={red:xL,volcano:wL,orange:NL,gold:wM,yellow:RL,lime:AL,green:OL,cyan:kL,blue:my,geekblue:LL,purple:PL,magenta:DL,grey:jL};function nle(e,{generateColorPalettes:t,generateNeutralColorPalettes:n}){const{colorSuccess:r,colorWarning:i,colorError:d,colorInfo:g,colorPrimary:v,colorBgBase:S,colorTextBase:I}=e,T=t(v),_=t(r),N=t(i),A=t(d),w=t(g),O=n(S,I),R=e.colorLink||e.colorInfo,D=t(R),j=new wa(A[1]).mix(new wa(A[3]),50).toHexString();return Object.assign(Object.assign({},O),{colorPrimaryBg:T[1],colorPrimaryBgHover:T[2],colorPrimaryBorder:T[3],colorPrimaryBorderHover:T[4],colorPrimaryHover:T[5],colorPrimary:T[6],colorPrimaryActive:T[7],colorPrimaryTextHover:T[8],colorPrimaryText:T[9],colorPrimaryTextActive:T[10],colorSuccessBg:_[1],colorSuccessBgHover:_[2],colorSuccessBorder:_[3],colorSuccessBorderHover:_[4],colorSuccessHover:_[4],colorSuccess:_[6],colorSuccessActive:_[7],colorSuccessTextHover:_[8],colorSuccessText:_[9],colorSuccessTextActive:_[10],colorErrorBg:A[1],colorErrorBgHover:A[2],colorErrorBgFilledHover:j,colorErrorBgActive:A[3],colorErrorBorder:A[3],colorErrorBorderHover:A[4],colorErrorHover:A[5],colorError:A[6],colorErrorActive:A[7],colorErrorTextHover:A[8],colorErrorText:A[9],colorErrorTextActive:A[10],colorWarningBg:N[1],colorWarningBgHover:N[2],colorWarningBorder:N[3],colorWarningBorderHover:N[4],colorWarningHover:N[4],colorWarning:N[6],colorWarningActive:N[7],colorWarningTextHover:N[8],colorWarningText:N[9],colorWarningTextActive:N[10],colorInfoBg:w[1],colorInfoBgHover:w[2],colorInfoBorder:w[3],colorInfoBorderHover:w[4],colorInfoHover:w[4],colorInfo:w[6],colorInfoActive:w[7],colorInfoTextHover:w[8],colorInfoText:w[9],colorInfoTextActive:w[10],colorLinkHover:D[4],colorLink:D[6],colorLinkActive:D[7],colorBgMask:new wa("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const rle=e=>{let t=e,n=e,r=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:i}};function ale(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:i}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+t*2).toFixed(1)}s`,motionDurationSlow:`${(n+t*3).toFixed(1)}s`,lineWidthBold:i+1},rle(r))}const ile=e=>{const{controlHeight:t}=e;return{controlHeightSM:t*.75,controlHeightXS:t*.5,controlHeightLG:t*1.25}};function pM(e){return(e+8)/e}function ole(e){const t=Array.from({length:10}).map((n,r)=>{const i=r-1,d=e*Math.pow(Math.E,i/5),g=r>1?Math.floor(d):Math.ceil(d);return Math.floor(g/2)*2});return t[1]=e,t.map(n=>({size:n,lineHeight:pM(n)}))}const sle=e=>{const t=ole(e),n=t.map(T=>T.size),r=t.map(T=>T.lineHeight),i=n[1],d=n[0],g=n[2],v=r[1],S=r[0],I=r[2];return{fontSizeSM:d,fontSize:i,fontSizeLG:g,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:v,lineHeightLG:I,lineHeightSM:S,fontHeight:Math.round(v*i),fontHeightLG:Math.round(I*g),fontHeightSM:Math.round(S*d),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function lle(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}const $l=(e,t)=>new wa(e).setA(t).toRgbString(),pI=(e,t)=>new wa(e).darken(t).toHexString(),cle=e=>{const t=t0(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},ule=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:$l(r,.88),colorTextSecondary:$l(r,.65),colorTextTertiary:$l(r,.45),colorTextQuaternary:$l(r,.25),colorFill:$l(r,.15),colorFillSecondary:$l(r,.06),colorFillTertiary:$l(r,.04),colorFillQuaternary:$l(r,.02),colorBgSolid:$l(r,1),colorBgSolidHover:$l(r,.75),colorBgSolidActive:$l(r,.95),colorBgLayout:pI(n,4),colorBgContainer:pI(n,0),colorBgElevated:pI(n,0),colorBgSpotlight:$l(r,.85),colorBgBlur:"transparent",colorBorder:pI(n,15),colorBorderSecondary:pI(n,6)}};function dle(e){ay.pink=ay.magenta,Vw.pink=Vw.magenta;const t=Object.keys(eK).map(n=>{const r=e[n]===ay[n]?Vw[n]:t0(e[n]);return Array.from({length:10},()=>1).reduce((i,d,g)=>(i[`${n}-${g+1}`]=r[g],i[`${n}${g+1}`]=r[g],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),nle(e,{generateColorPalettes:cle,generateNeutralColorPalettes:ule})),sle(e.fontSize)),lle(e)),ile(e)),ale(e))}const aK=EL(dle),VL={token:e0,override:{override:e0},hashed:!0},iK=Xe.createContext(VL),n0="ant",r_="anticon",ple=["outlined","borderless","filled","underlined"],mle=(e,t)=>t||(e?`${n0}-${e}`:n0),rr=E.createContext({getPrefixCls:mle,iconPrefixCls:r_}),{Consumer:KUe}=rr,CB={};function Fo(e){const t=E.useContext(rr),{getPrefixCls:n,direction:r,getPopupContainer:i}=t,d=t[e];return Object.assign(Object.assign({classNames:CB,styles:CB},d),{getPrefixCls:n,direction:r,getPopupContainer:i})}const fle=`-ant-${Date.now()}-${Math.random()}`;function gle(e,t){const n={},r=(g,v)=>{let S=g.clone();return S=(v==null?void 0:v(S))||S,S.toRgbString()},i=(g,v)=>{const S=new wa(g),I=t0(S.toRgbString());n[`${v}-color`]=r(S),n[`${v}-color-disabled`]=I[1],n[`${v}-color-hover`]=I[4],n[`${v}-color-active`]=I[6],n[`${v}-color-outline`]=S.clone().setA(.2).toRgbString(),n[`${v}-color-deprecated-bg`]=I[0],n[`${v}-color-deprecated-border`]=I[2]};if(t.primaryColor){i(t.primaryColor,"primary");const g=new wa(t.primaryColor),v=t0(g.toRgbString());v.forEach((I,T)=>{n[`primary-${T+1}`]=I}),n["primary-color-deprecated-l-35"]=r(g,I=>I.lighten(35)),n["primary-color-deprecated-l-20"]=r(g,I=>I.lighten(20)),n["primary-color-deprecated-t-20"]=r(g,I=>I.tint(20)),n["primary-color-deprecated-t-50"]=r(g,I=>I.tint(50)),n["primary-color-deprecated-f-12"]=r(g,I=>I.setA(I.a*.12));const S=new wa(v[0]);n["primary-color-active-deprecated-f-30"]=r(S,I=>I.setA(I.a*.3)),n["primary-color-active-deprecated-d-02"]=r(S,I=>I.darken(2))}return t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(g=>`--${e}-${g}: ${n[g]};`).join(`
`)}
  }
  `.trim()}function hle(e,t){const n=gle(e,t);jo()&&Rd(n,`${fle}-dynamic-theme`)}const Xs=E.createContext(!1),oK=({children:e,disabled:t})=>{const n=E.useContext(Xs);return E.createElement(Xs.Provider,{value:t??n},e)},mg=E.createContext(void 0),vle=({children:e,size:t})=>{const n=E.useContext(mg);return E.createElement(mg.Provider,{value:t||n},e)};function yle(){const e=E.useContext(Xs),t=E.useContext(mg);return{componentDisabled:e,componentSize:t}}var sK=fi(function e(){mi(this,e)}),lK="CALC_UNIT",ble=new RegExp(lK,"g");function $w(e){return typeof e=="number"?"".concat(e).concat(lK):e}var Sle=function(e){vl(n,e);var t=Kl(n);function n(r,i){var d;mi(this,n),d=t.call(this),Ce(vn(d),"result",""),Ce(vn(d),"unitlessCssVar",void 0),Ce(vn(d),"lowPriority",void 0);var g=qn(r);return d.unitlessCssVar=i,r instanceof n?d.result="(".concat(r.result,")"):g==="number"?d.result=$w(r):g==="string"&&(d.result=r),d}return fi(n,[{key:"add",value:function(i){return i instanceof n?this.result="".concat(this.result," + ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," + ").concat($w(i))),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof n?this.result="".concat(this.result," - ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," - ").concat($w(i))),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," * ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," * ").concat(i)),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," / ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," / ").concat(i)),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(i){var d=this,g=i||{},v=g.unit,S=!0;return typeof v=="boolean"?S=v:Array.from(this.unitlessCssVar).some(function(I){return d.result.includes(I)})&&(S=!1),this.result=this.result.replace(ble,S?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(sK),Ile=function(e){vl(n,e);var t=Kl(n);function n(r){var i;return mi(this,n),i=t.call(this),Ce(vn(i),"result",0),r instanceof n?i.result=r.result:typeof r=="number"&&(i.result=r),i}return fi(n,[{key:"add",value:function(i){return i instanceof n?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof n?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof n?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof n?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),n}(sK),Ele=function(t,n){var r=t==="css"?Sle:Ile;return function(i){return new r(i,n)}},TB=function(t,n){return"".concat([n,t.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function xa(e){var t=E.useRef();t.current=e;var n=E.useCallback(function(){for(var r,i=arguments.length,d=new Array(i),g=0;g<i;g++)d[g]=arguments[g];return(r=t.current)===null||r===void 0?void 0:r.call.apply(r,[t].concat(d))},[]);return n}function fy(e){var t=E.useRef(!1),n=E.useState(e),r=at(n,2),i=r[0],d=r[1];E.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function g(v,S){S&&t.current||d(v)}return[i,g]}function Uw(e){return e!==void 0}function Si(e,t){var n=t||{},r=n.defaultValue,i=n.value,d=n.onChange,g=n.postState,v=fy(function(){return Uw(i)?i:Uw(r)?typeof r=="function"?r():r:typeof e=="function"?e():e}),S=at(v,2),I=S[0],T=S[1],_=i!==void 0?i:I,N=g?g(_):_,A=xa(d),w=fy([_]),O=at(w,2),R=O[0],D=O[1];ny(function(){var L=R[0];I!==L&&A(I,L)},[R]),ny(function(){Uw(i)||T(i)},[i]);var j=xa(function(L,U){T(L,U),D([_],U)});return[N,j]}function MB(e,t,n,r){var i=Pe({},t[e]);if(r!=null&&r.deprecatedTokens){var d=r.deprecatedTokens;d.forEach(function(v){var S=at(v,2),I=S[0],T=S[1];if(i!=null&&i[I]||i!=null&&i[T]){var _;(_=i[T])!==null&&_!==void 0||(i[T]=i==null?void 0:i[I])}})}var g=Pe(Pe({},n),i);return Object.keys(g).forEach(function(v){g[v]===t[v]&&delete g[v]}),g}var cK=typeof CSSINJS_STATISTIC<"u",$L=!0;function qr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!cK)return Object.assign.apply(Object,[{}].concat(t));$L=!1;var r={};return t.forEach(function(i){if(qn(i)==="object"){var d=Object.keys(i);d.forEach(function(g){Object.defineProperty(r,g,{configurable:!0,enumerable:!0,get:function(){return i[g]}})})}}),$L=!0,r}var _B={};function Cle(){}var Tle=function(t){var n,r=t,i=Cle;return cK&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(t,{get:function(g,v){if($L){var S;(S=n)===null||S===void 0||S.add(v)}return g[v]}}),i=function(g,v){var S;_B[g]={global:Array.from(n),component:Pe(Pe({},(S=_B[g])===null||S===void 0?void 0:S.component),v)}}),{token:r,keys:n,flush:i}};function xB(e,t,n){if(typeof n=="function"){var r;return n(qr(t,(r=t[e])!==null&&r!==void 0?r:{}))}return n??{}}function Mle(e){return e==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"max(".concat(r.map(function(d){return Le(d)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"min(".concat(r.map(function(d){return Le(d)}).join(","),")")}}}var _le=1e3*60*10,xle=function(){function e(){mi(this,e),Ce(this,"map",new Map),Ce(this,"objectIDMap",new WeakMap),Ce(this,"nextID",0),Ce(this,"lastAccessBeat",new Map),Ce(this,"accessBeat",0)}return fi(e,[{key:"set",value:function(n,r){this.clear();var i=this.getCompositeKey(n);this.map.set(i,r),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),i=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(n){var r=this,i=n.map(function(d){return d&&qn(d)==="object"?"obj_".concat(r.getObjectID(d)):"".concat(qn(d),"_").concat(d)});return i.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(i,d){r-i>_le&&(n.map.delete(d),n.lastAccessBeat.delete(d))}),this.accessBeat=0}}}]),e}(),wB=new xle;function wle(e,t){return Xe.useMemo(function(){var n=wB.get(t);if(n)return n;var r=e();return wB.set(t,r),r},t)}var Nle=function(){return{}};function Rle(e){var t=e.useCSP,n=t===void 0?Nle:t,r=e.useToken,i=e.usePrefix,d=e.getResetStyles,g=e.getCommonStyle,v=e.getCompUnitless;function S(N,A,w,O){var R=Array.isArray(N)?N[0]:N;function D(H){return"".concat(String(R)).concat(H.slice(0,1).toUpperCase()).concat(H.slice(1))}var j=(O==null?void 0:O.unitless)||{},L=typeof v=="function"?v(N):{},U=Pe(Pe({},L),{},Ce({},D("zIndexPopup"),!0));Object.keys(j).forEach(function(H){U[D(H)]=j[H]});var $=Pe(Pe({},O),{},{unitless:U,prefixToken:D}),F=T(N,A,w,$),z=I(R,w,$);return function(H){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:H,K=F(H,V),J=at(K,2),te=J[1],Z=z(V),X=at(Z,2),re=X[0],ee=X[1];return[re,te,ee]}}function I(N,A,w){var O=w.unitless,R=w.injectStyle,D=R===void 0?!0:R,j=w.prefixToken,L=w.ignore,U=function(z){var H=z.rootCls,V=z.cssVar,K=V===void 0?{}:V,J=r(),te=J.realToken;return Bse({path:[N],prefix:K.prefix,key:K.key,unitless:O,ignore:L,token:te,scope:H},function(){var Z=xB(N,te,A),X=MB(N,te,Z,{deprecatedTokens:w==null?void 0:w.deprecatedTokens});return Object.keys(Z).forEach(function(re){X[j(re)]=X[re],delete X[re]}),X}),null},$=function(z){var H=r(),V=H.cssVar;return[function(K){return D&&V?Xe.createElement(Xe.Fragment,null,Xe.createElement(U,{rootCls:z,cssVar:V,component:N}),K):K},V==null?void 0:V.key]};return $}function T(N,A,w){var O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},R=Array.isArray(N)?N:[N,N],D=at(R,1),j=D[0],L=R.join("-"),U=e.layer||{name:"antd"};return function($){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$,z=r(),H=z.theme,V=z.realToken,K=z.hashId,J=z.token,te=z.cssVar,Z=i(),X=Z.rootPrefixCls,re=Z.iconPrefixCls,ee=n(),ae=te?"css":"js",de=wle(function(){var pe=new Set;return te&&Object.keys(O.unitless||{}).forEach(function(fe){pe.add(oM(fe,te.prefix)),pe.add(oM(fe,TB(j,te.prefix)))}),Ele(ae,pe)},[ae,j,te==null?void 0:te.prefix]),he=Mle(ae),ue=he.max,ye=he.min,be={theme:H,token:J,hashId:K,nonce:function(){return ee.nonce},clientOnly:O.clientOnly,layer:U,order:O.order||-999};typeof d=="function"&&_L(Pe(Pe({},be),{},{clientOnly:!1,path:["Shared",X]}),function(){return d(J,{prefix:{rootPrefixCls:X,iconPrefixCls:re},csp:ee})});var oe=_L(Pe(Pe({},be),{},{path:[L,$,re]}),function(){if(O.injectStyle===!1)return[];var pe=Tle(J),fe=pe.token,_e=pe.flush,Te=xB(j,V,w),Se=".".concat($),De=MB(j,V,Te,{deprecatedTokens:O.deprecatedTokens});te&&Te&&qn(Te)==="object"&&Object.keys(Te).forEach(function(Ne){Te[Ne]="var(".concat(oM(Ne,TB(j,te.prefix)),")")});var je=qr(fe,{componentCls:Se,prefixCls:$,iconCls:".".concat(re),antCls:".".concat(X),calc:de,max:ue,min:ye},te?Te:De),ke=A(je,{hashId:K,prefixCls:$,rootPrefixCls:X,iconPrefixCls:re});_e(j,De);var Oe=typeof g=="function"?g(je,$,F,O.resetFont):null;return[O.resetStyle===!1?null:Oe,ke]});return[oe,K]}}function _(N,A,w){var O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},R=T(N,A,w,Pe({resetStyle:!1,order:-998},O)),D=function(L){var U=L.prefixCls,$=L.rootCls,F=$===void 0?U:$;return R(U,F),null};return D}return{genStyleHooks:S,genSubStyleComponent:_,genComponentStyleHook:T}}const fg=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],Ale="5.26.4";function Bw(e){return e>=0&&e<=255}function NI(e,t){const{r:n,g:r,b:i,a:d}=new wa(e).toRgb();if(d<1)return e;const{r:g,g:v,b:S}=new wa(t).toRgb();for(let I=.01;I<=1;I+=.01){const T=Math.round((n-g*(1-I))/I),_=Math.round((r-v*(1-I))/I),N=Math.round((i-S*(1-I))/I);if(Bw(T)&&Bw(_)&&Bw(N))return new wa({r:T,g:_,b:N,a:Math.round(I*100)/100}).toRgbString()}return new wa({r:n,g:r,b:i,a:1}).toRgbString()}var Ole=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function uK(e){const{override:t}=e,n=Ole(e,["override"]),r=Object.assign({},t);Object.keys(e0).forEach(N=>{delete r[N]});const i=Object.assign(Object.assign({},n),r),d=480,g=576,v=768,S=992,I=1200,T=1600;if(i.motion===!1){const N="0s";i.motionDurationFast=N,i.motionDurationMid=N,i.motionDurationSlow=N}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:NI(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:NI(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:NI(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*3,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:NI(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:d,screenXSMin:d,screenXSMax:g-1,screenSM:g,screenSMMin:g,screenSMMax:v-1,screenMD:v,screenMDMin:v,screenMDMax:S-1,screenLG:S,screenLGMin:S,screenLGMax:I-1,screenXL:I,screenXLMin:I,screenXLMax:T-1,screenXXL:T,screenXXLMin:T,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new wa("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new wa("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new wa("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var NB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const dK={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},kle={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Lle={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},pK=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:i}=t,d=NB(t,["override"]);let g=Object.assign(Object.assign({},r),{override:i});return g=uK(g),d&&Object.entries(d).forEach(([v,S])=>{const{theme:I}=S,T=NB(S,["theme"]);let _=T;I&&(_=pK(Object.assign(Object.assign({},g),T),{override:T},I)),g[v]=_}),g};function ms(){const{token:e,hashed:t,theme:n,override:r,cssVar:i}=Xe.useContext(iK),d=`${Ale}-${t||""}`,g=n||aK,[v,S,I]=mse(g,[e0,e],{salt:d,override:r,getComputedToken:pK,formatToken:uK,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:dK,ignore:kle,preserve:Lle}});return[g,I,t?S:"",v,i]}const kc={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Sa=(e,t=!1)=>({boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}),Iy=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Mu=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),Ple=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),Dle=(e,t,n,r)=>{const i=`[class^="${t}"], [class*=" ${t}"]`,d=n?`.${n}`:i,g={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let v={};return r!==!1&&(v={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[d]:Object.assign(Object.assign(Object.assign({},v),g),{[i]:g})}},_u=(e,t)=>({outline:`${Le(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:t??1,transition:"outline-offset 0s, outline 0s"}),Od=(e,t)=>({"&:focus-visible":Object.assign({},_u(e,t))}),mK=e=>({[`.${e}`]:Object.assign(Object.assign({},Iy()),{[`.${e} .${e}-icon`]:{display:"block"}})}),sD=e=>Object.assign(Object.assign({color:e.colorLink,textDecoration:e.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},Od(e)),{"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}}),{genStyleHooks:fa,genComponentStyleHook:jle,genSubStyleComponent:I0}=Rle({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=E.useContext(rr);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,n,r,i]=ms();return{theme:e,realToken:t,hashId:n,token:r,cssVar:i}},useCSP:()=>{const{csp:e}=E.useContext(rr);return e??{}},getResetStyles:(e,t)=>{var n;const r=Ple(e);return[r,{"&":r},mK((n=t==null?void 0:t.prefix.iconPrefixCls)!==null&&n!==void 0?n:r_)]},getCommonStyle:Dle,getCompUnitless:()=>dK});function fK(e,t){return fg.reduce((n,r)=>{const i=e[`${r}1`],d=e[`${r}3`],g=e[`${r}6`],v=e[`${r}7`];return Object.assign(Object.assign({},n),t(r,{lightColor:i,lightBorderColor:d,darkColor:g,textColor:v}))},{})}const Vle=(e,t)=>{const[n,r]=ms();return _L({token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>t==null?void 0:t.nonce,layer:{name:"antd"}},()=>[mK(e)])},$le=Object.assign({},JM),{useId:RB}=$le,Ule=()=>"",Ble=typeof RB>"u"?Ule:RB;function Fle(e,t,n){var r;Cm();const i=e||{},d=i.inherit===!1||!t?Object.assign(Object.assign({},VL),{hashed:(r=t==null?void 0:t.hashed)!==null&&r!==void 0?r:VL.hashed,cssVar:t==null?void 0:t.cssVar}):t,g=Ble();return Sg(()=>{var v,S;if(!e)return t;const I=Object.assign({},d.components);Object.keys(e.components||{}).forEach(N=>{I[N]=Object.assign(Object.assign({},I[N]),e.components[N])});const T=`css-var-${g.replace(/:/g,"")}`,_=((v=i.cssVar)!==null&&v!==void 0?v:d.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof d.cssVar=="object"?d.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((S=i.cssVar)===null||S===void 0?void 0:S.key)||T});return Object.assign(Object.assign(Object.assign({},d),i),{token:Object.assign(Object.assign({},d.token),i.token),components:I,cssVar:_})},[i,d],(v,S)=>v.some((I,T)=>{const _=S[T];return!Cu(I,_,!0)}))}var qle=["children"],gK=E.createContext({});function zle(e){var t=e.children,n=ir(e,qle);return E.createElement(gK.Provider,{value:n},t)}var Hle=function(e){vl(n,e);var t=Kl(n);function n(){return mi(this,n),t.apply(this,arguments)}return fi(n,[{key:"render",value:function(){return this.props.children}}]),n}(E.Component);function Gle(e){var t=E.useReducer(function(v){return v+1},0),n=at(t,2),r=n[1],i=E.useRef(e),d=xa(function(){return i.current}),g=xa(function(v){i.current=typeof v=="function"?v(i.current):v,r()});return[d,g]}var lm="none",tT="appear",nT="enter",rT="leave",AB="none",_c="prepare",Wv="start",Yv="active",lD="end",hK="prepared";function OB(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}function Kle(e,t){var n={animationend:OB("Animation","AnimationEnd"),transitionend:OB("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}var Wle=Kle(jo(),typeof window<"u"?window:{}),vK={};if(jo()){var Yle=document.createElement("div");vK=Yle.style}var aT={};function yK(e){if(aT[e])return aT[e];var t=Wle[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var d=n[i];if(Object.prototype.hasOwnProperty.call(t,d)&&d in vK)return aT[e]=t[d],aT[e]}return""}var bK=yK("animationend"),SK=yK("transitionend"),IK=!!(bK&&SK),kB=bK||"animationend",LB=SK||"transitionend";function PB(e,t){if(!e)return null;if(qn(e)==="object"){var n=t.replace(/-\w/g,function(r){return r[1].toUpperCase()});return e[n]}return"".concat(e,"-").concat(t)}const Xle=function(e){var t=E.useRef();function n(i){i&&(i.removeEventListener(LB,e),i.removeEventListener(kB,e))}function r(i){t.current&&t.current!==i&&n(t.current),i&&i!==t.current&&(i.addEventListener(LB,e),i.addEventListener(kB,e),t.current=i)}return E.useEffect(function(){return function(){n(t.current)}},[]),[r,n]};var EK=jo()?E.useLayoutEffect:E.useEffect;const Jle=function(){var e=E.useRef(null);function t(){Fr.cancel(e.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;t();var d=Fr(function(){i<=1?r({isCanceled:function(){return d!==e.current}}):n(r,i-1)});e.current=d}return E.useEffect(function(){return function(){t()}},[]),[n,t]};var Qle=[_c,Wv,Yv,lD],Zle=[_c,hK],CK=!1,ece=!0;function TK(e){return e===Yv||e===lD}const tce=function(e,t,n){var r=fy(AB),i=at(r,2),d=i[0],g=i[1],v=Jle(),S=at(v,2),I=S[0],T=S[1];function _(){g(_c,!0)}var N=t?Zle:Qle;return EK(function(){if(d!==AB&&d!==lD){var A=N.indexOf(d),w=N[A+1],O=n(d);O===CK?g(w,!0):w&&I(function(R){function D(){R.isCanceled()||g(w,!0)}O===!0?D():Promise.resolve(O).then(D)})}},[e,d]),E.useEffect(function(){return function(){T()}},[]),[_,d]};function nce(e,t,n,r){var i=r.motionEnter,d=i===void 0?!0:i,g=r.motionAppear,v=g===void 0?!0:g,S=r.motionLeave,I=S===void 0?!0:S,T=r.motionDeadline,_=r.motionLeaveImmediately,N=r.onAppearPrepare,A=r.onEnterPrepare,w=r.onLeavePrepare,O=r.onAppearStart,R=r.onEnterStart,D=r.onLeaveStart,j=r.onAppearActive,L=r.onEnterActive,U=r.onLeaveActive,$=r.onAppearEnd,F=r.onEnterEnd,z=r.onLeaveEnd,H=r.onVisibleChanged,V=fy(),K=at(V,2),J=K[0],te=K[1],Z=Gle(lm),X=at(Z,2),re=X[0],ee=X[1],ae=fy(null),de=at(ae,2),he=de[0],ue=de[1],ye=re(),be=E.useRef(!1),oe=E.useRef(null);function pe(){return n()}var fe=E.useRef(!1);function _e(){ee(lm),ue(null,!0)}var Te=xa(function(et){var Ye=re();if(Ye!==lm){var pt=pe();if(!(et&&!et.deadline&&et.target!==pt)){var ct=fe.current,xt;Ye===tT&&ct?xt=$==null?void 0:$(pt,et):Ye===nT&&ct?xt=F==null?void 0:F(pt,et):Ye===rT&&ct&&(xt=z==null?void 0:z(pt,et)),ct&&xt!==!1&&_e()}}}),Se=Xle(Te),De=at(Se,1),je=De[0],ke=function(Ye){switch(Ye){case tT:return Ce(Ce(Ce({},_c,N),Wv,O),Yv,j);case nT:return Ce(Ce(Ce({},_c,A),Wv,R),Yv,L);case rT:return Ce(Ce(Ce({},_c,w),Wv,D),Yv,U);default:return{}}},Oe=E.useMemo(function(){return ke(ye)},[ye]),Ne=tce(ye,!e,function(et){if(et===_c){var Ye=Oe[_c];return Ye?Ye(pe()):CK}if(He in Oe){var pt;ue(((pt=Oe[He])===null||pt===void 0?void 0:pt.call(Oe,pe(),null))||null)}return He===Yv&&ye!==lm&&(je(pe()),T>0&&(clearTimeout(oe.current),oe.current=setTimeout(function(){Te({deadline:!0})},T))),He===hK&&_e(),ece}),qe=at(Ne,2),Ke=qe[0],He=qe[1],nt=TK(He);fe.current=nt;var Je=E.useRef(null);EK(function(){if(!(be.current&&Je.current===t)){te(t);var et=be.current;be.current=!0;var Ye;!et&&t&&v&&(Ye=tT),et&&t&&d&&(Ye=nT),(et&&!t&&I||!et&&_&&!t&&I)&&(Ye=rT);var pt=ke(Ye);Ye&&(e||pt[_c])?(ee(Ye),Ke()):ee(lm),Je.current=t}},[t]),E.useEffect(function(){(ye===tT&&!v||ye===nT&&!d||ye===rT&&!I)&&ee(lm)},[v,d,I]),E.useEffect(function(){return function(){be.current=!1,clearTimeout(oe.current)}},[]);var ut=E.useRef(!1);E.useEffect(function(){J&&(ut.current=!0),J!==void 0&&ye===lm&&((ut.current||J)&&(H==null||H(J)),ut.current=!0)},[J,ye]);var lt=he;return Oe[_c]&&He===Wv&&(lt=Pe({transition:"none"},lt)),[ye,He,lt,J??t]}function rce(e){var t=e;qn(e)==="object"&&(t=e.transitionSupport);function n(i,d){return!!(i.motionName&&t&&d!==!1)}var r=E.forwardRef(function(i,d){var g=i.visible,v=g===void 0?!0:g,S=i.removeOnLeave,I=S===void 0?!0:S,T=i.forceRender,_=i.children,N=i.motionName,A=i.leavedClassName,w=i.eventProps,O=E.useContext(gK),R=O.motion,D=n(i,R),j=E.useRef(),L=E.useRef();function U(){try{return j.current instanceof HTMLElement?j.current:iM(L.current)}catch{return null}}var $=nce(D,v,U,i),F=at($,4),z=F[0],H=F[1],V=F[2],K=F[3],J=E.useRef(K);K&&(J.current=!0);var te=E.useCallback(function(de){j.current=de,YI(d,de)},[d]),Z,X=Pe(Pe({},w),{},{visible:v});if(!_)Z=null;else if(z===lm)K?Z=_(Pe({},X),te):!I&&J.current&&A?Z=_(Pe(Pe({},X),{},{className:A}),te):T||!I&&!A?Z=_(Pe(Pe({},X),{},{style:{display:"none"}}),te):Z=null;else{var re;H===_c?re="prepare":TK(H)?re="active":H===Wv&&(re="start");var ee=PB(N,"".concat(z,"-").concat(re));Z=_(Pe(Pe({},X),{},{className:Ue(PB(N,z),Ce(Ce({},ee,ee&&re),N,typeof N=="string")),style:V}),te)}if(E.isValidElement(Z)&&Oc(Z)){var ae=Em(Z);ae||(Z=E.cloneElement(Z,{ref:te}))}return E.createElement(Hle,{ref:L},Z)});return r.displayName="CSSMotion",r}const Wl=rce(IK);var UL="add",BL="keep",FL="remove",Fw="removed";function ace(e){var t;return e&&qn(e)==="object"&&"key"in e?t=e:t={key:e},Pe(Pe({},t),{},{key:String(t.key)})}function qL(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(ace)}function ice(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=t.length,d=qL(e),g=qL(t);d.forEach(function(I){for(var T=!1,_=r;_<i;_+=1){var N=g[_];if(N.key===I.key){r<_&&(n=n.concat(g.slice(r,_).map(function(A){return Pe(Pe({},A),{},{status:UL})})),r=_),n.push(Pe(Pe({},N),{},{status:BL})),r+=1,T=!0;break}}T||n.push(Pe(Pe({},I),{},{status:FL}))}),r<i&&(n=n.concat(g.slice(r).map(function(I){return Pe(Pe({},I),{},{status:UL})})));var v={};n.forEach(function(I){var T=I.key;v[T]=(v[T]||0)+1});var S=Object.keys(v).filter(function(I){return v[I]>1});return S.forEach(function(I){n=n.filter(function(T){var _=T.key,N=T.status;return _!==I||N!==FL}),n.forEach(function(T){T.key===I&&(T.status=BL)})}),n}var oce=["component","children","onVisibleChanged","onAllRemoved"],sce=["status"],lce=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function cce(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wl,n=function(r){vl(d,r);var i=Kl(d);function d(){var g;mi(this,d);for(var v=arguments.length,S=new Array(v),I=0;I<v;I++)S[I]=arguments[I];return g=i.call.apply(i,[this].concat(S)),Ce(vn(g),"state",{keyEntities:[]}),Ce(vn(g),"removeKey",function(T){g.setState(function(_){var N=_.keyEntities.map(function(A){return A.key!==T?A:Pe(Pe({},A),{},{status:Fw})});return{keyEntities:N}},function(){var _=g.state.keyEntities,N=_.filter(function(A){var w=A.status;return w!==Fw}).length;N===0&&g.props.onAllRemoved&&g.props.onAllRemoved()})}),g}return fi(d,[{key:"render",value:function(){var v=this,S=this.state.keyEntities,I=this.props,T=I.component,_=I.children,N=I.onVisibleChanged;I.onAllRemoved;var A=ir(I,oce),w=T||E.Fragment,O={};return lce.forEach(function(R){O[R]=A[R],delete A[R]}),delete A.keys,E.createElement(w,A,S.map(function(R,D){var j=R.status,L=ir(R,sce),U=j===UL||j===BL;return E.createElement(t,kt({},O,{key:L.key,visible:U,eventProps:L,onVisibleChanged:function(F){N==null||N(F,{key:L.key}),F||v.removeKey(L.key)}}),function($,F){return _(Pe(Pe({},$),{},{index:D}),F)})}))}}],[{key:"getDerivedStateFromProps",value:function(v,S){var I=v.keys,T=S.keyEntities,_=qL(I),N=ice(T,_);return{keyEntities:N.filter(function(A){var w=T.find(function(O){var R=O.key;return A.key===R});return!(w&&w.status===Fw&&A.status===FL)})}}}]),d}(E.Component);return Ce(n,"defaultProps",{component:"div"}),n}const cD=cce(IK),DB=E.createContext(!0);function uce(e){const t=E.useContext(DB),{children:n}=e,[,r]=ms(),{motion:i}=r,d=E.useRef(!1);return d.current||(d.current=t!==i),d.current?E.createElement(DB.Provider,{value:i},E.createElement(zle,{motion:i},n)):n}const dce=()=>null;var pce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const mce=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let NM,MK,_K,xK;function mM(){return NM||n0}function fce(){return MK||r_}function gce(e){return Object.keys(e).some(t=>t.endsWith("Color"))}const hce=e=>{const{prefixCls:t,iconPrefixCls:n,theme:r,holderRender:i}=e;t!==void 0&&(NM=t),n!==void 0&&(MK=n),"holderRender"in e&&(xK=i),r&&(gce(r)?hle(mM(),r):_K=r)},vce=()=>({getPrefixCls:(e,t)=>t||(e?`${mM()}-${e}`:mM()),getIconPrefixCls:fce,getRootPrefixCls:()=>NM||mM(),getTheme:()=>_K,holderRender:xK}),yce=e=>{const{children:t,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:d,form:g,locale:v,componentSize:S,direction:I,space:T,splitter:_,virtual:N,dropdownMatchSelectWidth:A,popupMatchSelectWidth:w,popupOverflow:O,legacyLocale:R,parentContext:D,iconPrefixCls:j,theme:L,componentDisabled:U,segmented:$,statistic:F,spin:z,calendar:H,carousel:V,cascader:K,collapse:J,typography:te,checkbox:Z,descriptions:X,divider:re,drawer:ee,skeleton:ae,steps:de,image:he,layout:ue,list:ye,mentions:be,modal:oe,progress:pe,result:fe,slider:_e,breadcrumb:Te,menu:Se,pagination:De,input:je,textArea:ke,empty:Oe,badge:Ne,radio:qe,rate:Ke,switch:He,transfer:nt,avatar:Je,message:ut,tag:lt,table:et,card:Ye,tabs:pt,timeline:ct,timePicker:xt,upload:jt,notification:Ut,tree:Vt,colorPicker:wt,datePicker:Bt,rangePicker:Pt,flex:ot,wave:qt,dropdown:vt,warning:bt,tour:yt,tooltip:gt,popover:Jt,popconfirm:bn,floatButtonGroup:Qn,variant:Dn,inputNumber:tn,treeSelect:_n}=e,Fn=E.useCallback((jn,Zn)=>{const{prefixCls:An}=e;if(Zn)return Zn;const On=An||D.getPrefixCls("");return jn?`${On}-${jn}`:On},[D.getPrefixCls,e.prefixCls]),Wt=j||D.iconPrefixCls||r_,xn=n||D.csp;Vle(Wt,xn);const En=Fle(L,D.theme,{prefixCls:Fn("")}),Sn={csp:xn,autoInsertSpaceInButton:r,alert:i,anchor:d,locale:v||R,direction:I,space:T,splitter:_,virtual:N,popupMatchSelectWidth:w??A,popupOverflow:O,getPrefixCls:Fn,iconPrefixCls:Wt,theme:En,segmented:$,statistic:F,spin:z,calendar:H,carousel:V,cascader:K,collapse:J,typography:te,checkbox:Z,descriptions:X,divider:re,drawer:ee,skeleton:ae,steps:de,image:he,input:je,textArea:ke,layout:ue,list:ye,mentions:be,modal:oe,progress:pe,result:fe,slider:_e,breadcrumb:Te,menu:Se,pagination:De,empty:Oe,badge:Ne,radio:qe,rate:Ke,switch:He,transfer:nt,avatar:Je,message:ut,tag:lt,table:et,card:Ye,tabs:pt,timeline:ct,timePicker:xt,upload:jt,notification:Ut,tree:Vt,colorPicker:wt,datePicker:Bt,rangePicker:Pt,flex:ot,wave:qt,dropdown:vt,warning:bt,tour:yt,tooltip:gt,popover:Jt,popconfirm:bn,floatButtonGroup:Qn,variant:Dn,inputNumber:tn,treeSelect:_n},Qt=Object.assign({},D);Object.keys(Sn).forEach(jn=>{Sn[jn]!==void 0&&(Qt[jn]=Sn[jn])}),mce.forEach(jn=>{const Zn=e[jn];Zn&&(Qt[jn]=Zn)}),typeof r<"u"&&(Qt.button=Object.assign({autoInsertSpace:r},Qt.button));const Rn=Sg(()=>Qt,Qt,(jn,Zn)=>{const An=Object.keys(jn),On=Object.keys(Zn);return An.length!==On.length||An.some(sn=>jn[sn]!==Zn[sn])}),{layer:fn}=E.useContext(S0),Gt=E.useMemo(()=>({prefixCls:Wt,csp:xn,layer:fn?"antd":void 0}),[Wt,xn,fn]);let Xt=E.createElement(E.Fragment,null,E.createElement(dce,{dropdownMatchSelectWidth:A}),t);const $n=E.useMemo(()=>{var jn,Zn,An,On;return Kv(((jn=Tu.Form)===null||jn===void 0?void 0:jn.defaultValidateMessages)||{},((An=(Zn=Rn.locale)===null||Zn===void 0?void 0:Zn.Form)===null||An===void 0?void 0:An.defaultValidateMessages)||{},((On=Rn.form)===null||On===void 0?void 0:On.validateMessages)||{},(g==null?void 0:g.validateMessages)||{})},[Rn,g==null?void 0:g.validateMessages]);Object.keys($n).length>0&&(Xt=E.createElement(J9.Provider,{value:$n},Xt)),v&&(Xt=E.createElement(Jse,{locale:v,_ANT_MARK__:Xse},Xt)),Xt=E.createElement(iD.Provider,{value:Gt},Xt),S&&(Xt=E.createElement(vle,{size:S},Xt)),Xt=E.createElement(uce,null,Xt);const Un=E.useMemo(()=>{const jn=En||{},{algorithm:Zn,token:An,components:On,cssVar:sn}=jn,tr=pce(jn,["algorithm","token","components","cssVar"]),wr=Zn&&(!Array.isArray(Zn)||Zn.length>0)?EL(Zn):aK,Ar={};Object.entries(On||{}).forEach(([jr,Ur])=>{const Pr=Object.assign({},Ur);"algorithm"in Pr&&(Pr.algorithm===!0?Pr.theme=wr:(Array.isArray(Pr.algorithm)||typeof Pr.algorithm=="function")&&(Pr.theme=EL(Pr.algorithm)),delete Pr.algorithm),Ar[jr]=Pr});const nn=Object.assign(Object.assign({},e0),An);return Object.assign(Object.assign({},tr),{theme:wr,token:nn,components:Ar,override:Object.assign({override:nn},Ar),cssVar:sn})},[En]);return L&&(Xt=E.createElement(iK.Provider,{value:Un},Xt)),Rn.warning&&(Xt=E.createElement(Gse.Provider,{value:Rn.warning},Xt)),U!==void 0&&(Xt=E.createElement(oK,{disabled:U},Xt)),E.createElement(rr.Provider,{value:Rn},Xt)},Mm=e=>{const t=E.useContext(rr),n=E.useContext(oD);return E.createElement(yce,Object.assign({parentContext:t,legacyLocale:n},e))};Mm.ConfigContext=rr;Mm.SizeContext=mg;Mm.config=hce;Mm.useConfig=yle;Object.defineProperty(Mm,"SizeContext",{get:()=>mg});const bce=e=>{const{componentCls:t}=e;return{[t]:{position:"fixed",zIndex:e.zIndexPopup}}},Sce=e=>({zIndexPopup:e.zIndexBase+10}),Ice=fa("Affix",bce,Sce);function iT(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function jB(e,t,n){if(n!==void 0&&Math.round(t.top)>Math.round(e.top)-n)return n+t.top}function VB(e,t,n){if(n!==void 0&&Math.round(t.bottom)<Math.round(e.bottom)+n){const r=window.innerHeight-t.bottom;return n+r}}var Ece=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const $B=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function Cce(){return typeof window<"u"?window:null}const UB=0,BB=1,Tce=Xe.forwardRef((e,t)=>{var n;const{style:r,offsetTop:i,offsetBottom:d,prefixCls:g,className:v,rootClassName:S,children:I,target:T,onChange:_,onTestUpdatePosition:N}=e,A=Ece(e,["style","offsetTop","offsetBottom","prefixCls","className","rootClassName","children","target","onChange","onTestUpdatePosition"]),{getPrefixCls:w,getTargetContainer:O}=Xe.useContext(rr),R=w("affix",g),[D,j]=Xe.useState(!1),[L,U]=Xe.useState(),[$,F]=Xe.useState(),z=Xe.useRef(UB),H=Xe.useRef(null),V=Xe.useRef(null),K=Xe.useRef(null),J=Xe.useRef(null),te=Xe.useRef(null),Z=(n=T??O)!==null&&n!==void 0?n:Cce,X=d===void 0&&i===void 0?0:i,re=()=>{if(z.current!==BB||!J.current||!K.current||!Z)return;const _e=Z();if(_e){const Te={status:UB},Se=iT(K.current);if(Se.top===0&&Se.left===0&&Se.width===0&&Se.height===0)return;const De=iT(_e),je=jB(Se,De,X),ke=VB(Se,De,d);je!==void 0?(Te.affixStyle={position:"fixed",top:je,width:Se.width,height:Se.height},Te.placeholderStyle={width:Se.width,height:Se.height}):ke!==void 0&&(Te.affixStyle={position:"fixed",bottom:ke,width:Se.width,height:Se.height},Te.placeholderStyle={width:Se.width,height:Se.height}),Te.lastAffix=!!Te.affixStyle,D!==Te.lastAffix&&(_==null||_(Te.lastAffix)),z.current=Te.status,U(Te.affixStyle),F(Te.placeholderStyle),j(Te.lastAffix)}},ee=()=>{z.current=BB,re()},ae=rB(()=>{ee()}),de=rB(()=>{if(Z&&L){const _e=Z();if(_e&&K.current){const Te=iT(_e),Se=iT(K.current),De=jB(Se,Te,X),je=VB(Se,Te,d);if(De!==void 0&&L.top===De||je!==void 0&&L.bottom===je)return}}ee()}),he=()=>{const _e=Z==null?void 0:Z();_e&&($B.forEach(Te=>{var Se;V.current&&((Se=H.current)===null||Se===void 0||Se.removeEventListener(Te,V.current)),_e==null||_e.addEventListener(Te,de)}),H.current=_e,V.current=de)},ue=()=>{te.current&&(clearTimeout(te.current),te.current=null);const _e=Z==null?void 0:Z();$B.forEach(Te=>{var Se;_e==null||_e.removeEventListener(Te,de),V.current&&((Se=H.current)===null||Se===void 0||Se.removeEventListener(Te,V.current))}),ae.cancel(),de.cancel()};Xe.useImperativeHandle(t,()=>({updatePosition:ae})),Xe.useEffect(()=>(te.current=setTimeout(he),()=>ue()),[]),Xe.useEffect(()=>(he(),()=>ue()),[T,L,D,i,d]),Xe.useEffect(()=>{ae()},[T,i,d]);const[ye,be,oe]=Ice(R),pe=Ue(S,be,R,oe),fe=Ue({[pe]:L});return ye(Xe.createElement(Do,{onResize:ae},Xe.createElement("div",Object.assign({style:r,className:v,ref:K},A),L&&Xe.createElement("div",{style:$,"aria-hidden":"true"}),Xe.createElement("div",{className:fe,ref:J,style:L},Xe.createElement(Do,{onResize:ae},I)))))});var Mce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function wK(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}function _ce(e){return wK(e)instanceof ShadowRoot}function RM(e){return _ce(e)?wK(e):null}function xce(e){return e.replace(/-(.)/g,function(t,n){return n.toUpperCase()})}function wce(e,t){pi(e,"[@ant-design/icons] ".concat(t))}function FB(e){return qn(e)==="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(qn(e.icon)==="object"||typeof e.icon=="function")}function qB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:delete t[n],t[xce(n)]=r}return t},{})}function zL(e,t,n){return n?Xe.createElement(e.tag,Pe(Pe({key:t},qB(e.attrs)),n),(e.children||[]).map(function(r,i){return zL(r,"".concat(t,"-").concat(e.tag,"-").concat(i))})):Xe.createElement(e.tag,Pe({key:t},qB(e.attrs)),(e.children||[]).map(function(r,i){return zL(r,"".concat(t,"-").concat(e.tag,"-").concat(i))}))}function NK(e){return t0(e)[0]}function RK(e){return e?Array.isArray(e)?e:[e]:[]}var Nce=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Rce=function(t){var n=E.useContext(iD),r=n.csp,i=n.prefixCls,d=n.layer,g=Nce;i&&(g=g.replace(/anticon/g,i)),d&&(g="@layer ".concat(d,` {
`).concat(g,`
}`)),E.useEffect(function(){var v=t.current,S=RM(v);Rd(g,"@ant-design-icons",{prepend:!d,csp:r,attachTo:S})},[])},Ace=["icon","className","onClick","style","primaryColor","secondaryColor"],$I={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Oce(e){var t=e.primaryColor,n=e.secondaryColor;$I.primaryColor=t,$I.secondaryColor=n||NK(t),$I.calculated=!!n}function kce(){return Pe({},$I)}var Ey=function(t){var n=t.icon,r=t.className,i=t.onClick,d=t.style,g=t.primaryColor,v=t.secondaryColor,S=ir(t,Ace),I=E.useRef(),T=$I;if(g&&(T={primaryColor:g,secondaryColor:v||NK(g)}),Rce(I),wce(FB(n),"icon should be icon definiton, but got ".concat(n)),!FB(n))return null;var _=n;return _&&typeof _.icon=="function"&&(_=Pe(Pe({},_),{},{icon:_.icon(T.primaryColor,T.secondaryColor)})),zL(_.icon,"svg-".concat(_.name),Pe(Pe({className:r,onClick:i,style:d,"data-icon":_.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},S),{},{ref:I}))};Ey.displayName="IconReact";Ey.getTwoToneColors=kce;Ey.setTwoToneColors=Oce;function AK(e){var t=RK(e),n=at(t,2),r=n[0],i=n[1];return Ey.setTwoToneColors({primaryColor:r,secondaryColor:i})}function Lce(){var e=Ey.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var Pce=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];AK(my.primary);var ta=E.forwardRef(function(e,t){var n=e.className,r=e.icon,i=e.spin,d=e.rotate,g=e.tabIndex,v=e.onClick,S=e.twoToneColor,I=ir(e,Pce),T=E.useContext(iD),_=T.prefixCls,N=_===void 0?"anticon":_,A=T.rootClassName,w=Ue(A,N,Ce(Ce({},"".concat(N,"-").concat(r.name),!!r.name),"".concat(N,"-spin"),!!i||r.name==="loading"),n),O=g;O===void 0&&v&&(O=-1);var R=d?{msTransform:"rotate(".concat(d,"deg)"),transform:"rotate(".concat(d,"deg)")}:void 0,D=RK(S),j=at(D,2),L=j[0],U=j[1];return E.createElement("span",kt({role:"img","aria-label":r.name},I,{ref:t,tabIndex:O,onClick:v,className:w}),E.createElement(Ey,{icon:r,primaryColor:L,secondaryColor:U,style:R}))});ta.displayName="AntdIcon";ta.getTwoToneColor=Lce;ta.setTwoToneColor=AK;var Dce=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:Mce}))},a_=E.forwardRef(Dce),jce={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},Vce=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:jce}))},Cy=E.forwardRef(Vce),$ce={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},Uce=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:$ce}))},Ty=E.forwardRef(Uce),Bce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},Fce=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:Bce}))},uD=E.forwardRef(Fce),qce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},zce=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:qce}))},OK=E.forwardRef(zce),Hce=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Gce=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,Kce="".concat(Hce," ").concat(Gce).split(/[\s\n]+/),Wce="aria-",Yce="data-";function zB(e,t){return e.indexOf(t)===0}function ws(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;t===!1?n={aria:!0,data:!0,attr:!0}:t===!0?n={aria:!0}:n=Pe({},t);var r={};return Object.keys(e).forEach(function(i){(n.aria&&(i==="role"||zB(i,Wce))||n.data&&zB(i,Yce)||n.attr&&Kce.includes(i))&&(r[i]=e[i])}),r}function kK(e){return e&&Xe.isValidElement(e)&&e.type===Xe.Fragment}const dD=(e,t,n)=>Xe.isValidElement(e)?Xe.cloneElement(e,typeof n=="function"?n(e.props||{}):n):t;function Vo(e,t){return dD(e,e,t)}const oT=(e,t,n,r,i)=>({background:e,border:`${Le(r.lineWidth)} ${r.lineType} ${t}`,[`${i}-icon`]:{color:n}}),Xce=e=>{const{componentCls:t,motionDurationSlow:n,marginXS:r,marginSM:i,fontSize:d,fontSizeLG:g,lineHeight:v,borderRadiusLG:S,motionEaseInOutCirc:I,withDescriptionIconSize:T,colorText:_,colorTextHeading:N,withDescriptionPadding:A,defaultPadding:w}=e;return{[t]:Object.assign(Object.assign({},Sa(e)),{position:"relative",display:"flex",alignItems:"center",padding:w,wordWrap:"break-word",borderRadius:S,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:d,lineHeight:v},"&-message":{color:N},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${I}, opacity ${n} ${I},
        padding-top ${n} ${I}, padding-bottom ${n} ${I},
        margin-bottom ${n} ${I}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:A,[`${t}-icon`]:{marginInlineEnd:i,fontSize:T,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:r,color:N,fontSize:g},[`${t}-description`]:{display:"block",color:_}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Jce=e=>{const{componentCls:t,colorSuccess:n,colorSuccessBorder:r,colorSuccessBg:i,colorWarning:d,colorWarningBorder:g,colorWarningBg:v,colorError:S,colorErrorBorder:I,colorErrorBg:T,colorInfo:_,colorInfoBorder:N,colorInfoBg:A}=e;return{[t]:{"&-success":oT(i,r,n,e,t),"&-info":oT(A,N,_,e,t),"&-warning":oT(v,g,d,e,t),"&-error":Object.assign(Object.assign({},oT(T,I,S,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},Qce=e=>{const{componentCls:t,iconCls:n,motionDurationMid:r,marginXS:i,fontSizeIcon:d,colorIcon:g,colorIconHover:v}=e;return{[t]:{"&-action":{marginInlineStart:i},[`${t}-close-icon`]:{marginInlineStart:i,padding:0,overflow:"hidden",fontSize:d,lineHeight:Le(d),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:g,transition:`color ${r}`,"&:hover":{color:v}}},"&-close-text":{color:g,transition:`color ${r}`,"&:hover":{color:v}}}}},Zce=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}),eue=fa("Alert",e=>[Xce(e),Jce(e),Qce(e)],Zce);var HB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const tue={success:a_,info:OK,error:Cy,warning:uD},nue=e=>{const{icon:t,prefixCls:n,type:r}=e,i=tue[r]||null;return t?dD(t,E.createElement("span",{className:`${n}-icon`},t),()=>({className:Ue(`${n}-icon`,t.props.className)})):E.createElement(i,{className:`${n}-icon`})},rue=e=>{const{isClosable:t,prefixCls:n,closeIcon:r,handleClose:i,ariaProps:d}=e,g=r===!0||r===void 0?E.createElement(Ty,null):r;return t?E.createElement("button",Object.assign({type:"button",onClick:i,className:`${n}-close-icon`,tabIndex:0},d),g):null},LK=E.forwardRef((e,t)=>{const{description:n,prefixCls:r,message:i,banner:d,className:g,rootClassName:v,style:S,onMouseEnter:I,onMouseLeave:T,onClick:_,afterClose:N,showIcon:A,closable:w,closeText:O,closeIcon:R,action:D,id:j}=e,L=HB(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[U,$]=E.useState(!1),F=E.useRef(null);E.useImperativeHandle(t,()=>({nativeElement:F.current}));const{getPrefixCls:z,direction:H,closable:V,closeIcon:K,className:J,style:te}=Fo("alert"),Z=z("alert",r),[X,re,ee]=eue(Z),ae=fe=>{var _e;$(!0),(_e=e.onClose)===null||_e===void 0||_e.call(e,fe)},de=E.useMemo(()=>e.type!==void 0?e.type:d?"warning":"info",[e.type,d]),he=E.useMemo(()=>typeof w=="object"&&w.closeIcon||O?!0:typeof w=="boolean"?w:R!==!1&&R!==null&&R!==void 0?!0:!!V,[O,R,w,V]),ue=d&&A===void 0?!0:A,ye=Ue(Z,`${Z}-${de}`,{[`${Z}-with-description`]:!!n,[`${Z}-no-icon`]:!ue,[`${Z}-banner`]:!!d,[`${Z}-rtl`]:H==="rtl"},J,g,v,ee,re),be=ws(L,{aria:!0,data:!0}),oe=E.useMemo(()=>typeof w=="object"&&w.closeIcon?w.closeIcon:O||(R!==void 0?R:typeof V=="object"&&V.closeIcon?V.closeIcon:K),[R,w,O,K]),pe=E.useMemo(()=>{const fe=w??V;if(typeof fe=="object"){const{closeIcon:_e}=fe;return HB(fe,["closeIcon"])}return{}},[w,V]);return X(E.createElement(Wl,{visible:!U,motionName:`${Z}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:fe=>({maxHeight:fe.offsetHeight}),onLeaveEnd:N},({className:fe,style:_e},Te)=>E.createElement("div",Object.assign({id:j,ref:Bo(F,Te),"data-show":!U,className:Ue(ye,fe),style:Object.assign(Object.assign(Object.assign({},te),S),_e),onMouseEnter:I,onMouseLeave:T,onClick:_,role:"alert"},be),ue?E.createElement(nue,{description:n,icon:e.icon,prefixCls:Z,type:de}):null,E.createElement("div",{className:`${Z}-content`},i?E.createElement("div",{className:`${Z}-message`},i):null,n?E.createElement("div",{className:`${Z}-description`},n):null),D?E.createElement("div",{className:`${Z}-action`},D):null,E.createElement(rue,{isClosable:he,prefixCls:Z,closeIcon:oe,handleClose:ae,ariaProps:pe}))))});function aue(e,t,n){return t=pg(t),T9(e,ZM()?Reflect.construct(t,n||[],pg(e).constructor):t.apply(e,n))}let iue=function(e){function t(){var n;return mi(this,t),n=aue(this,t,arguments),n.state={error:void 0,info:{componentStack:""}},n}return vl(t,e),fi(t,[{key:"componentDidCatch",value:function(r,i){this.setState({error:r,info:i})}},{key:"render",value:function(){const{message:r,description:i,id:d,children:g}=this.props,{error:v,info:S}=this.state,I=(S==null?void 0:S.componentStack)||null,T=typeof r>"u"?(v||"").toString():r,_=typeof i>"u"?I:i;return v?E.createElement(LK,{id:d,type:"error",message:T,description:E.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},_)}):g}}])}(E.Component);const pD=LK;pD.ErrorBoundary=iue;const GB=e=>typeof e=="object"&&e!=null&&e.nodeType===1,KB=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",sT=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return KB(n.overflowY,t)||KB(n.overflowX,t)||(r=>{const i=(d=>{if(!d.ownerDocument||!d.ownerDocument.defaultView)return null;try{return d.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(e)}return!1},lT=(e,t,n,r,i,d,g,v)=>d<e&&g>t||d>e&&g<t?0:d<=e&&v<=n||g>=t&&v>=n?d-e-r:g>t&&v<n||d<e&&v>n?g-t+i:0,oue=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},WB=(e,t)=>{var n,r,i,d;if(typeof document>"u")return[];const{scrollMode:g,block:v,inline:S,boundary:I,skipOverflowHiddenElements:T}=t,_=typeof I=="function"?I:ee=>ee!==I;if(!GB(e))throw new TypeError("Invalid target");const N=document.scrollingElement||document.documentElement,A=[];let w=e;for(;GB(w)&&_(w);){if(w=oue(w),w===N){A.push(w);break}w!=null&&w===document.body&&sT(w)&&!sT(document.documentElement)||w!=null&&sT(w,T)&&A.push(w)}const O=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,R=(d=(i=window.visualViewport)==null?void 0:i.height)!=null?d:innerHeight,{scrollX:D,scrollY:j}=window,{height:L,width:U,top:$,right:F,bottom:z,left:H}=e.getBoundingClientRect(),{top:V,right:K,bottom:J,left:te}=(ee=>{const ae=window.getComputedStyle(ee);return{top:parseFloat(ae.scrollMarginTop)||0,right:parseFloat(ae.scrollMarginRight)||0,bottom:parseFloat(ae.scrollMarginBottom)||0,left:parseFloat(ae.scrollMarginLeft)||0}})(e);let Z=v==="start"||v==="nearest"?$-V:v==="end"?z+J:$+L/2-V+J,X=S==="center"?H+U/2-te+K:S==="end"?F+K:H-te;const re=[];for(let ee=0;ee<A.length;ee++){const ae=A[ee],{height:de,width:he,top:ue,right:ye,bottom:be,left:oe}=ae.getBoundingClientRect();if(g==="if-needed"&&$>=0&&H>=0&&z<=R&&F<=O&&(ae===N&&!sT(ae)||$>=ue&&z<=be&&H>=oe&&F<=ye))return re;const pe=getComputedStyle(ae),fe=parseInt(pe.borderLeftWidth,10),_e=parseInt(pe.borderTopWidth,10),Te=parseInt(pe.borderRightWidth,10),Se=parseInt(pe.borderBottomWidth,10);let De=0,je=0;const ke="offsetWidth"in ae?ae.offsetWidth-ae.clientWidth-fe-Te:0,Oe="offsetHeight"in ae?ae.offsetHeight-ae.clientHeight-_e-Se:0,Ne="offsetWidth"in ae?ae.offsetWidth===0?0:he/ae.offsetWidth:0,qe="offsetHeight"in ae?ae.offsetHeight===0?0:de/ae.offsetHeight:0;if(N===ae)De=v==="start"?Z:v==="end"?Z-R:v==="nearest"?lT(j,j+R,R,_e,Se,j+Z,j+Z+L,L):Z-R/2,je=S==="start"?X:S==="center"?X-O/2:S==="end"?X-O:lT(D,D+O,O,fe,Te,D+X,D+X+U,U),De=Math.max(0,De+j),je=Math.max(0,je+D);else{De=v==="start"?Z-ue-_e:v==="end"?Z-be+Se+Oe:v==="nearest"?lT(ue,be,de,_e,Se+Oe,Z,Z+L,L):Z-(ue+de/2)+Oe/2,je=S==="start"?X-oe-fe:S==="center"?X-(oe+he/2)+ke/2:S==="end"?X-ye+Te+ke:lT(oe,ye,he,fe,Te+ke,X,X+U,U);const{scrollLeft:Ke,scrollTop:He}=ae;De=qe===0?0:Math.max(0,Math.min(He+De/qe,ae.scrollHeight-de/qe+Oe)),je=Ne===0?0:Math.max(0,Math.min(Ke+je/Ne,ae.scrollWidth-he/Ne+ke)),Z+=He-De,X+=Ke-je}re.push({el:ae,top:De,left:je})}return re},sue=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function PK(e,t){if(!e.isConnected||!(i=>{let d=i;for(;d&&d.parentNode;){if(d.parentNode===document)return!0;d=d.parentNode instanceof ShadowRoot?d.parentNode.host:d.parentNode}return!1})(e))return;const n=(i=>{const d=window.getComputedStyle(i);return{top:parseFloat(d.scrollMarginTop)||0,right:parseFloat(d.scrollMarginRight)||0,bottom:parseFloat(d.scrollMarginBottom)||0,left:parseFloat(d.scrollMarginLeft)||0}})(e);if((i=>typeof i=="object"&&typeof i.behavior=="function")(t))return t.behavior(WB(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:i,top:d,left:g}of WB(e,sue(t))){const v=d-n.top+n.bottom,S=g-n.left+n.right;i.scroll({top:v,left:S,behavior:r})}}function HL(e){return e!=null&&e===e.window}const DK=e=>{var t,n;if(typeof window>"u")return 0;let r=0;return HL(e)?r=e.pageYOffset:e instanceof Document?r=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(r=e.scrollTop),e&&!HL(e)&&typeof r!="number"&&(r=(n=((t=e.ownerDocument)!==null&&t!==void 0?t:e).documentElement)===null||n===void 0?void 0:n.scrollTop),r};function lue(e,t,n,r){const i=n-t;return e/=r/2,e<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}function jK(e,t={}){const{getContainer:n=()=>window,callback:r,duration:i=450}=t,d=n(),g=DK(d),v=Date.now(),S=()=>{const T=Date.now()-v,_=lue(T>i?i:T,g,e,i);HL(d)?d.scrollTo(window.pageXOffset,_):d instanceof Document||d.constructor.name==="HTMLDocument"?d.documentElement.scrollTop=_:d.scrollTop=_,T<i?Fr(S):typeof r=="function"&&r()};Fr(S)}const xo=e=>{const[,,,,t]=ms();return t?`${e}-css-var`:""},VK=E.createContext(void 0),$K=e=>{const{href:t,title:n,prefixCls:r,children:i,className:d,target:g,replace:v}=e,S=E.useContext(VK),{registerLink:I,unregisterLink:T,scrollTo:_,onClick:N,activeLink:A,direction:w}=S||{};E.useEffect(()=>(I==null||I(t),()=>{T==null||T(t)}),[t]);const O=$=>{if(N==null||N($,{title:n,href:t}),_==null||_(t),$.defaultPrevented)return;if(t.startsWith("http://")||t.startsWith("https://")){v&&($.preventDefault(),window.location.replace(t));return}$.preventDefault();const z=v?"replaceState":"pushState";window.history[z](null,"",t)},{getPrefixCls:R}=E.useContext(rr),D=R("anchor",r),j=A===t,L=Ue(`${D}-link`,d,{[`${D}-link-active`]:j}),U=Ue(`${D}-link-title`,{[`${D}-link-title-active`]:j});return E.createElement("div",{className:L},E.createElement("a",{className:U,href:t,title:typeof n=="string"?n:"",target:g,onClick:O},n),w!=="horizontal"?i:null)},cue=e=>{const{componentCls:t,holderOffsetBlock:n,motionDurationSlow:r,lineWidthBold:i,colorPrimary:d,lineType:g,colorSplit:v,calc:S}=e;return{[`${t}-wrapper`]:{marginBlockStart:S(n).mul(-1).equal(),paddingBlockStart:n,[t]:Object.assign(Object.assign({},Sa(e)),{position:"relative",paddingInlineStart:i,[`${t}-link`]:{paddingBlock:e.linkPaddingBlock,paddingInline:`${Le(e.linkPaddingInlineStart)} 0`,"&-title":Object.assign(Object.assign({},kc),{position:"relative",display:"block",marginBlockEnd:e.anchorTitleBlock,color:e.colorText,transition:`all ${e.motionDurationSlow}`,"&:only-child":{marginBlockEnd:0}}),[`&-active > ${t}-link-title`]:{color:e.colorPrimary},[`${t}-link`]:{paddingBlock:e.anchorPaddingBlockSecondary}}}),[`&:not(${t}-wrapper-horizontal)`]:{[t]:{"&::before":{position:"absolute",insetInlineStart:0,top:0,height:"100%",borderInlineStart:`${Le(i)} ${g} ${v}`,content:'" "'},[`${t}-ink`]:{position:"absolute",insetInlineStart:0,display:"none",transform:"translateY(-50%)",transition:`top ${r} ease-in-out`,width:i,backgroundColor:d,[`&${t}-ink-visible`]:{display:"inline-block"}}}},[`${t}-fixed ${t}-ink ${t}-ink`]:{display:"none"}}}},uue=e=>{const{componentCls:t,motionDurationSlow:n,lineWidthBold:r,colorPrimary:i}=e;return{[`${t}-wrapper-horizontal`]:{position:"relative","&::before":{position:"absolute",left:{_skip_check_:!0,value:0},right:{_skip_check_:!0,value:0},bottom:0,borderBottom:`${Le(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,content:'" "'},[t]:{overflowX:"scroll",position:"relative",display:"flex",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},[`${t}-link:first-of-type`]:{paddingInline:0},[`${t}-ink`]:{position:"absolute",bottom:0,transition:`left ${n} ease-in-out, width ${n} ease-in-out`,height:r,backgroundColor:i}}}}},due=e=>({linkPaddingBlock:e.paddingXXS,linkPaddingInlineStart:e.padding}),pue=fa("Anchor",e=>{const{fontSize:t,fontSizeLG:n,paddingXXS:r,calc:i}=e,d=qr(e,{holderOffsetBlock:r,anchorPaddingBlockSecondary:i(r).div(2).equal(),anchorTitleBlock:i(t).div(14).mul(3).equal(),anchorBallSize:i(n).div(2).equal()});return[cue(d),uue(d)]},due);function mue(){return window}function YB(e,t){if(!e.getClientRects().length)return 0;const n=e.getBoundingClientRect();return n.width||n.height?t===window?n.top-e.ownerDocument.documentElement.clientTop:n.top-t.getBoundingClientRect().top:n.top}const XB=/#([\S ]+)$/,fue=e=>{var t;const{rootClassName:n,prefixCls:r,className:i,style:d,offsetTop:g,affix:v=!0,showInkInFixed:S=!1,children:I,items:T,direction:_="vertical",bounds:N,targetOffset:A,onClick:w,onChange:O,getContainer:R,getCurrentAnchor:D,replace:j}=e,[L,U]=E.useState([]),[$,F]=E.useState(null),z=E.useRef($),H=E.useRef(null),V=E.useRef(null),K=E.useRef(!1),{direction:J,getPrefixCls:te,className:Z,style:X}=Fo("anchor"),{getTargetContainer:re}=E.useContext(rr),ee=te("anchor",r),ae=xo(ee),[de,he,ue]=pue(ee,ae),ye=(t=R??re)!==null&&t!==void 0?t:mue,be=JSON.stringify(L),oe=xa(Je=>{L.includes(Je)||U(ut=>[].concat(Rt(ut),[Je]))}),pe=xa(Je=>{L.includes(Je)&&U(ut=>ut.filter(lt=>lt!==Je))}),fe=()=>{var Je;const ut=(Je=H.current)===null||Je===void 0?void 0:Je.querySelector(`.${ee}-link-title-active`);if(ut&&V.current){const{style:lt}=V.current,et=_==="horizontal";lt.top=et?"":`${ut.offsetTop+ut.clientHeight/2}px`,lt.height=et?"":`${ut.clientHeight}px`,lt.left=et?`${ut.offsetLeft}px`:"",lt.width=et?`${ut.clientWidth}px`:"",et&&PK(ut,{scrollMode:"if-needed",block:"nearest"})}},_e=(Je,ut=0,lt=5)=>{const et=[],Ye=ye();return Je.forEach(pt=>{const ct=XB.exec(pt==null?void 0:pt.toString());if(!ct)return;const xt=document.getElementById(ct[1]);if(xt){const jt=YB(xt,Ye);jt<=ut+lt&&et.push({link:pt,top:jt})}}),et.length?et.reduce((ct,xt)=>xt.top>ct.top?xt:ct).link:""},Te=xa(Je=>{if(z.current===Je)return;const ut=typeof D=="function"?D(Je):Je;F(ut),z.current=ut,O==null||O(Je)}),Se=E.useCallback(()=>{if(K.current)return;const Je=_e(L,A!==void 0?A:g||0,N);Te(Je)},[be,A,g]),De=E.useCallback(Je=>{Te(Je);const ut=XB.exec(Je);if(!ut)return;const lt=document.getElementById(ut[1]);if(!lt)return;const et=ye(),Ye=DK(et),pt=YB(lt,et);let ct=Ye+pt;ct-=A!==void 0?A:g||0,K.current=!0,jK(ct,{getContainer:ye,callback(){K.current=!1}})},[A,g]),je=Ue(he,ue,ae,n,`${ee}-wrapper`,{[`${ee}-wrapper-horizontal`]:_==="horizontal",[`${ee}-rtl`]:J==="rtl"},i,Z),ke=Ue(ee,{[`${ee}-fixed`]:!v&&!S}),Oe=Ue(`${ee}-ink`,{[`${ee}-ink-visible`]:$}),Ne=Object.assign(Object.assign({maxHeight:g?`calc(100vh - ${g}px)`:"100vh"},X),d),qe=Je=>Array.isArray(Je)?Je.map(ut=>E.createElement($K,Object.assign({replace:j},ut,{key:ut.key}),_==="vertical"&&qe(ut.children))):null,Ke=E.createElement("div",{ref:H,className:je,style:Ne},E.createElement("div",{className:ke},E.createElement("span",{className:Oe,ref:V}),"items"in e?qe(T):I));E.useEffect(()=>{const Je=ye();return Se(),Je==null||Je.addEventListener("scroll",Se),()=>{Je==null||Je.removeEventListener("scroll",Se)}},[be]),E.useEffect(()=>{typeof D=="function"&&Te(D(z.current||""))},[D]),E.useEffect(()=>{fe()},[_,D,be,$]);const He=E.useMemo(()=>({registerLink:oe,unregisterLink:pe,scrollTo:De,activeLink:$,onClick:w,direction:_}),[$,w,De,_]),nt=v&&typeof v=="object"?v:void 0;return de(E.createElement(VK.Provider,{value:He},v?E.createElement(Tce,Object.assign({offsetTop:g,target:ye},nt),Ke):Ke))},UK=fue;UK.Link=$K;var Vn={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},BK=E.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,i=e.className,d=e.duration,g=d===void 0?4.5:d,v=e.showProgress,S=e.pauseOnHover,I=S===void 0?!0:S,T=e.eventKey,_=e.content,N=e.closable,A=e.closeIcon,w=A===void 0?"x":A,O=e.props,R=e.onClick,D=e.onNoticeClose,j=e.times,L=e.hovering,U=E.useState(!1),$=at(U,2),F=$[0],z=$[1],H=E.useState(0),V=at(H,2),K=V[0],J=V[1],te=E.useState(0),Z=at(te,2),X=Z[0],re=Z[1],ee=L||F,ae=g>0&&v,de=function(){D(T)},he=function(fe){(fe.key==="Enter"||fe.code==="Enter"||fe.keyCode===Vn.ENTER)&&de()};E.useEffect(function(){if(!ee&&g>0){var pe=Date.now()-X,fe=setTimeout(function(){de()},g*1e3-X);return function(){I&&clearTimeout(fe),re(Date.now()-pe)}}},[g,ee,j]),E.useEffect(function(){if(!ee&&ae&&(I||X===0)){var pe=performance.now(),fe,_e=function Te(){cancelAnimationFrame(fe),fe=requestAnimationFrame(function(Se){var De=Se+X-pe,je=Math.min(De/(g*1e3),1);J(je*100),je<1&&Te()})};return _e(),function(){I&&cancelAnimationFrame(fe)}}},[g,X,ee,ae,j]);var ue=E.useMemo(function(){return qn(N)==="object"&&N!==null?N:N?{closeIcon:w}:{}},[N,w]),ye=ws(ue,!0),be=100-(!K||K<0?0:K>100?100:K),oe="".concat(n,"-notice");return E.createElement("div",kt({},O,{ref:t,className:Ue(oe,i,Ce({},"".concat(oe,"-closable"),N)),style:r,onMouseEnter:function(fe){var _e;z(!0),O==null||(_e=O.onMouseEnter)===null||_e===void 0||_e.call(O,fe)},onMouseLeave:function(fe){var _e;z(!1),O==null||(_e=O.onMouseLeave)===null||_e===void 0||_e.call(O,fe)},onClick:R}),E.createElement("div",{className:"".concat(oe,"-content")},_),N&&E.createElement("a",kt({tabIndex:0,className:"".concat(oe,"-close"),onKeyDown:he,"aria-label":"Close"},ye,{onClick:function(fe){fe.preventDefault(),fe.stopPropagation(),de()}}),ue.closeIcon),ae&&E.createElement("progress",{className:"".concat(oe,"-progress"),max:"100",value:be},be+"%"))}),FK=Xe.createContext({}),gue=function(t){var n=t.children,r=t.classNames;return Xe.createElement(FK.Provider,{value:{classNames:r}},n)},JB=8,QB=3,ZB=16,hue=function(t){var n={offset:JB,threshold:QB,gap:ZB};if(t&&qn(t)==="object"){var r,i,d;n.offset=(r=t.offset)!==null&&r!==void 0?r:JB,n.threshold=(i=t.threshold)!==null&&i!==void 0?i:QB,n.gap=(d=t.gap)!==null&&d!==void 0?d:ZB}return[!!t,n]},vue=["className","style","classNames","styles"],yue=function(t){var n=t.configList,r=t.placement,i=t.prefixCls,d=t.className,g=t.style,v=t.motion,S=t.onAllNoticeRemoved,I=t.onNoticeClose,T=t.stack,_=E.useContext(FK),N=_.classNames,A=E.useRef({}),w=E.useState(null),O=at(w,2),R=O[0],D=O[1],j=E.useState([]),L=at(j,2),U=L[0],$=L[1],F=n.map(function(ee){return{config:ee,key:String(ee.key)}}),z=hue(T),H=at(z,2),V=H[0],K=H[1],J=K.offset,te=K.threshold,Z=K.gap,X=V&&(U.length>0||F.length<=te),re=typeof v=="function"?v(r):v;return E.useEffect(function(){V&&U.length>1&&$(function(ee){return ee.filter(function(ae){return F.some(function(de){var he=de.key;return ae===he})})})},[U,F,V]),E.useEffect(function(){var ee;if(V&&A.current[(ee=F[F.length-1])===null||ee===void 0?void 0:ee.key]){var ae;D(A.current[(ae=F[F.length-1])===null||ae===void 0?void 0:ae.key])}},[F,V]),Xe.createElement(cD,kt({key:r,className:Ue(i,"".concat(i,"-").concat(r),N==null?void 0:N.list,d,Ce(Ce({},"".concat(i,"-stack"),!!V),"".concat(i,"-stack-expanded"),X)),style:g,keys:F,motionAppear:!0},re,{onAllRemoved:function(){S(r)}}),function(ee,ae){var de=ee.config,he=ee.className,ue=ee.style,ye=ee.index,be=de,oe=be.key,pe=be.times,fe=String(oe),_e=de,Te=_e.className,Se=_e.style,De=_e.classNames,je=_e.styles,ke=ir(_e,vue),Oe=F.findIndex(function(ct){return ct.key===fe}),Ne={};if(V){var qe=F.length-1-(Oe>-1?Oe:ye-1),Ke=r==="top"||r==="bottom"?"-50%":"0";if(qe>0){var He,nt,Je;Ne.height=X?(He=A.current[fe])===null||He===void 0?void 0:He.offsetHeight:R==null?void 0:R.offsetHeight;for(var ut=0,lt=0;lt<qe;lt++){var et;ut+=((et=A.current[F[F.length-1-lt].key])===null||et===void 0?void 0:et.offsetHeight)+Z}var Ye=(X?ut:qe*J)*(r.startsWith("top")?1:-1),pt=!X&&R!==null&&R!==void 0&&R.offsetWidth&&(nt=A.current[fe])!==null&&nt!==void 0&&nt.offsetWidth?((R==null?void 0:R.offsetWidth)-J*2*(qe<3?qe:3))/((Je=A.current[fe])===null||Je===void 0?void 0:Je.offsetWidth):1;Ne.transform="translate3d(".concat(Ke,", ").concat(Ye,"px, 0) scaleX(").concat(pt,")")}else Ne.transform="translate3d(".concat(Ke,", 0, 0)")}return Xe.createElement("div",{ref:ae,className:Ue("".concat(i,"-notice-wrapper"),he,De==null?void 0:De.wrapper),style:Pe(Pe(Pe({},ue),Ne),je==null?void 0:je.wrapper),onMouseEnter:function(){return $(function(xt){return xt.includes(fe)?xt:[].concat(Rt(xt),[fe])})},onMouseLeave:function(){return $(function(xt){return xt.filter(function(jt){return jt!==fe})})}},Xe.createElement(BK,kt({},ke,{ref:function(xt){Oe>-1?A.current[fe]=xt:delete A.current[fe]},prefixCls:i,classNames:De,styles:je,className:Ue(Te,N==null?void 0:N.notice),style:Se,times:pe,key:oe,eventKey:oe,onNoticeClose:I,hovering:V&&U.length>0})))})},bue=E.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-notification":n,i=e.container,d=e.motion,g=e.maxCount,v=e.className,S=e.style,I=e.onAllRemoved,T=e.stack,_=e.renderNotifications,N=E.useState([]),A=at(N,2),w=A[0],O=A[1],R=function(V){var K,J=w.find(function(te){return te.key===V});J==null||(K=J.onClose)===null||K===void 0||K.call(J),O(function(te){return te.filter(function(Z){return Z.key!==V})})};E.useImperativeHandle(t,function(){return{open:function(V){O(function(K){var J=Rt(K),te=J.findIndex(function(re){return re.key===V.key}),Z=Pe({},V);if(te>=0){var X;Z.times=(((X=K[te])===null||X===void 0?void 0:X.times)||0)+1,J[te]=Z}else Z.times=0,J.push(Z);return g>0&&J.length>g&&(J=J.slice(-g)),J})},close:function(V){R(V)},destroy:function(){O([])}}});var D=E.useState({}),j=at(D,2),L=j[0],U=j[1];E.useEffect(function(){var H={};w.forEach(function(V){var K=V.placement,J=K===void 0?"topRight":K;J&&(H[J]=H[J]||[],H[J].push(V))}),Object.keys(L).forEach(function(V){H[V]=H[V]||[]}),U(H)},[w]);var $=function(V){U(function(K){var J=Pe({},K),te=J[V]||[];return te.length||delete J[V],J})},F=E.useRef(!1);if(E.useEffect(function(){Object.keys(L).length>0?F.current=!0:F.current&&(I==null||I(),F.current=!1)},[L]),!i)return null;var z=Object.keys(L);return Ac.createPortal(E.createElement(E.Fragment,null,z.map(function(H){var V=L[H],K=E.createElement(yue,{key:H,configList:V,placement:H,prefixCls:r,className:v==null?void 0:v(H),style:S==null?void 0:S(H),motion:d,onNoticeClose:R,onAllNoticeRemoved:$,stack:T});return _?_(K,{prefixCls:r,key:H}):K})),i)}),Sue=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Iue=function(){return document.body},eF=0;function Eue(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(i){i&&Object.keys(i).forEach(function(d){var g=i[d];g!==void 0&&(e[d]=g)})}),e}function Cue(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,n=t===void 0?Iue:t,r=e.motion,i=e.prefixCls,d=e.maxCount,g=e.className,v=e.style,S=e.onAllRemoved,I=e.stack,T=e.renderNotifications,_=ir(e,Sue),N=E.useState(),A=at(N,2),w=A[0],O=A[1],R=E.useRef(),D=E.createElement(bue,{container:w,ref:R,prefixCls:i,motion:r,maxCount:d,className:g,style:v,onAllRemoved:S,stack:I,renderNotifications:T}),j=E.useState([]),L=at(j,2),U=L[0],$=L[1],F=xa(function(H){var V=Eue(_,H);(V.key===null||V.key===void 0)&&(V.key="rc-notification-".concat(eF),eF+=1),$(function(K){return[].concat(Rt(K),[{type:"open",config:V}])})}),z=E.useMemo(function(){return{open:F,close:function(V){$(function(K){return[].concat(Rt(K),[{type:"close",key:V}])})},destroy:function(){$(function(V){return[].concat(Rt(V),[{type:"destroy"}])})}}},[]);return E.useEffect(function(){O(n())}),E.useEffect(function(){if(R.current&&U.length){U.forEach(function(K){switch(K.type){case"open":R.current.open(K.config);break;case"close":R.current.close(K.key);break;case"destroy":R.current.destroy();break}});var H,V;$(function(K){return(H!==K||!V)&&(H=K,V=K.filter(function(J){return!U.includes(J)})),V})}},[U]),[z,D]}var Tue={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Mue=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:Tue}))},kd=E.forwardRef(Mue);const mD=Xe.createContext(void 0),cm=100,_ue=10,xue=cm*_ue,qK={Modal:cm,Drawer:cm,Popover:cm,Popconfirm:cm,Tooltip:cm,Tour:cm,FloatButton:cm},wue={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function Nue(e){return e in qK}const i_=(e,t)=>{const[,n]=ms(),r=Xe.useContext(mD),i=Nue(e);let d;if(t!==void 0)d=[t,t];else{let g=r??0;i?g+=(r?0:n.zIndexPopupBase)+qK[e]:g+=wue[e],d=[r===void 0?t:g,g]}return d},Rue=e=>{const{componentCls:t,iconCls:n,boxShadow:r,colorText:i,colorSuccess:d,colorError:g,colorWarning:v,colorInfo:S,fontSizeLG:I,motionEaseInOutCirc:T,motionDurationSlow:_,marginXS:N,paddingXS:A,borderRadiusLG:w,zIndexPopup:O,contentPadding:R,contentBg:D}=e,j=`${t}-notice`,L=new ca("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:A,transform:"translateY(0)",opacity:1}}),U=new ca("MessageMoveOut",{"0%":{maxHeight:e.height,padding:A,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),$={padding:A,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${n}`]:{marginInlineEnd:N,fontSize:I},[`${j}-content`]:{display:"inline-block",padding:R,background:D,borderRadius:w,boxShadow:r,pointerEvents:"all"},[`${t}-success > ${n}`]:{color:d},[`${t}-error > ${n}`]:{color:g},[`${t}-warning > ${n}`]:{color:v},[`${t}-info > ${n},
      ${t}-loading > ${n}`]:{color:S}};return[{[t]:Object.assign(Object.assign({},Sa(e)),{color:i,position:"fixed",top:N,width:"100%",pointerEvents:"none",zIndex:O,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:L,animationDuration:_,animationPlayState:"paused",animationTimingFunction:T},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:U,animationDuration:_,animationPlayState:"paused",animationTimingFunction:T},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${j}-wrapper`]:Object.assign({},$)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},$),{padding:0,textAlign:"start"})}]},Aue=e=>({zIndexPopup:e.zIndexPopupBase+xue+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`}),zK=fa("Message",e=>{const t=qr(e,{height:150});return[Rue(t)]},Aue);var Oue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const kue={info:E.createElement(OK,null),success:E.createElement(a_,null),error:E.createElement(Cy,null),warning:E.createElement(uD,null),loading:E.createElement(kd,null)},HK=({prefixCls:e,type:t,icon:n,children:r})=>E.createElement("div",{className:Ue(`${e}-custom-content`,`${e}-${t}`)},n||kue[t],E.createElement("span",null,r)),Lue=e=>{const{prefixCls:t,className:n,type:r,icon:i,content:d}=e,g=Oue(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:v}=E.useContext(rr),S=t||v("message"),I=xo(S),[T,_,N]=zK(S,I);return T(E.createElement(BK,Object.assign({},g,{prefixCls:S,className:Ue(n,_,`${S}-notice-pure-panel`,N,I),eventKey:"pure",duration:null,content:E.createElement(HK,{prefixCls:S,type:r,icon:i},d)})))};function Pue(e,t){return{motionName:t??`${e}-move-up`}}function fD(e){let t;const n=new Promise(i=>{t=e(()=>{i(!0)})}),r=()=>{t==null||t()};return r.then=(i,d)=>n.then(i,d),r.promise=n,r}var Due=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const jue=8,Vue=3,$ue=({children:e,prefixCls:t})=>{const n=xo(t),[r,i,d]=zK(t,n);return r(E.createElement(gue,{classNames:{list:Ue(i,d,n)}},e))},Uue=(e,{prefixCls:t,key:n})=>E.createElement($ue,{prefixCls:t,key:n},e),Bue=E.forwardRef((e,t)=>{const{top:n,prefixCls:r,getContainer:i,maxCount:d,duration:g=Vue,rtl:v,transitionName:S,onAllRemoved:I}=e,{getPrefixCls:T,getPopupContainer:_,message:N,direction:A}=E.useContext(rr),w=r||T("message"),O=()=>({left:"50%",transform:"translateX(-50%)",top:n??jue}),R=()=>Ue({[`${w}-rtl`]:v??A==="rtl"}),D=()=>Pue(w,S),j=E.createElement("span",{className:`${w}-close-x`},E.createElement(Ty,{className:`${w}-close-icon`})),[L,U]=Cue({prefixCls:w,style:O,className:R,motion:D,closable:!1,closeIcon:j,duration:g,getContainer:()=>(i==null?void 0:i())||(_==null?void 0:_())||document.body,maxCount:d,onAllRemoved:I,renderNotifications:Uue});return E.useImperativeHandle(t,()=>Object.assign(Object.assign({},L),{prefixCls:w,message:N})),U});let tF=0;function GK(e){const t=E.useRef(null);return Cm(),[E.useMemo(()=>{const r=S=>{var I;(I=t.current)===null||I===void 0||I.close(S)},i=S=>{if(!t.current){const F=()=>{};return F.then=()=>{},F}const{open:I,prefixCls:T,message:_}=t.current,N=`${T}-notice`,{content:A,icon:w,type:O,key:R,className:D,style:j,onClose:L}=S,U=Due(S,["content","icon","type","key","className","style","onClose"]);let $=R;return $==null&&(tF+=1,$=`antd-message-${tF}`),fD(F=>(I(Object.assign(Object.assign({},U),{key:$,content:E.createElement(HK,{prefixCls:T,type:O,icon:w},A),placement:"top",className:Ue(O&&`${N}-${O}`,D,_==null?void 0:_.className),style:Object.assign(Object.assign({},_==null?void 0:_.style),j),onClose:()=>{L==null||L(),F()}})),()=>{r($)}))},g={open:i,destroy:S=>{var I;S!==void 0?r(S):(I=t.current)===null||I===void 0||I.destroy()}};return["info","success","warning","error","loading"].forEach(S=>{const I=(T,_,N)=>{let A;T&&typeof T=="object"&&"content"in T?A=T:A={content:T};let w,O;typeof _=="function"?O=_:(w=_,O=N);const R=Object.assign(Object.assign({onClose:O,duration:w},A),{type:S});return i(R)};g[S]=I}),g},[]),E.createElement(Bue,Object.assign({key:"message-holder"},e,{ref:t}))]}function Fue(e){return GK(e)}function KK(e,t){this.v=e,this.k=t}function ls(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch{i=0}ls=function(g,v,S,I){if(v)i?i(g,v,{value:S,enumerable:!I,configurable:!I,writable:!I}):g[v]=S;else{var T=function(N,A){ls(g,N,function(w){return this._invoke(N,A,w)})};T("next",0),T("throw",1),T("return",2)}},ls(e,t,n,r)}function gD(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n=typeof Symbol=="function"?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function d(A,w,O,R){var D=w&&w.prototype instanceof v?w:v,j=Object.create(D.prototype);return ls(j,"_invoke",function(L,U,$){var F,z,H,V=0,K=$||[],J=!1,te={p:0,n:0,v:e,a:Z,f:Z.bind(e,4),d:function(re,ee){return F=re,z=0,H=e,te.n=ee,g}};function Z(X,re){for(z=X,H=re,t=0;!J&&V&&!ee&&t<K.length;t++){var ee,ae=K[t],de=te.p,he=ae[2];X>3?(ee=he===re)&&(H=ae[(z=ae[4])?5:(z=3,3)],ae[4]=ae[5]=e):ae[0]<=de&&((ee=X<2&&de<ae[1])?(z=0,te.v=re,te.n=ae[1]):de<he&&(ee=X<3||ae[0]>re||re>he)&&(ae[4]=X,ae[5]=re,te.n=he,z=0))}if(ee||X>1)return g;throw J=!0,re}return function(X,re,ee){if(V>1)throw TypeError("Generator is already running");for(J&&re===1&&Z(re,ee),z=re,H=ee;(t=z<2?e:H)||!J;){F||(z?z<3?(z>1&&(te.n=-1),Z(z,H)):te.n=H:te.v=H);try{if(V=2,F){if(z||(X="next"),t=F[X]){if(!(t=t.call(F,H)))throw TypeError("iterator result is not an object");if(!t.done)return t;H=t.value,z<2&&(z=0)}else z===1&&(t=F.return)&&t.call(F),z<2&&(H=TypeError("The iterator does not provide a '"+X+"' method"),z=1);F=e}else if((t=(J=te.n<0)?H:L.call(U,te))!==g)break}catch(ae){F=e,z=1,H=ae}finally{V=1}}return{value:t,done:J}}}(A,O,R),!0),j}var g={};function v(){}function S(){}function I(){}t=Object.getPrototypeOf;var T=[][r]?t(t([][r]())):(ls(t={},r,function(){return this}),t),_=I.prototype=v.prototype=Object.create(T);function N(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,I):(A.__proto__=I,ls(A,i,"GeneratorFunction")),A.prototype=Object.create(_),A}return S.prototype=I,ls(_,"constructor",I),ls(I,"constructor",S),S.displayName="GeneratorFunction",ls(I,i,"GeneratorFunction"),ls(_),ls(_,i,"Generator"),ls(_,r,function(){return this}),ls(_,"toString",function(){return"[object Generator]"}),(gD=function(){return{w:d,m:N}})()}function AM(e,t){function n(i,d,g,v){try{var S=e[i](d),I=S.value;return I instanceof KK?t.resolve(I.v).then(function(T){n("next",T,g,v)},function(T){n("throw",T,g,v)}):t.resolve(I).then(function(T){S.value=T,g(S)},function(T){return n("throw",T,g,v)})}catch(T){v(T)}}var r;this.next||(ls(AM.prototype),ls(AM.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),ls(this,"_invoke",function(i,d,g){function v(){return new t(function(S,I){n(i,g,S,I)})}return r=r?r.then(v,v):v()},!0)}function WK(e,t,n,r,i){return new AM(gD().w(e,t,n,r),i||Promise)}function que(e,t,n,r,i){var d=WK(e,t,n,r,i);return d.next().then(function(g){return g.done?g.value:d.next()})}function zue(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function i(){for(;n.length;)if((r=n.pop())in t)return i.value=r,i.done=!1,i;return i.done=!0,i}}function nF(e){if(e!=null){var t=e[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(qn(e)+" is not iterable")}function Oa(){var e=gD(),t=e.m(Oa),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(g){var v=typeof g=="function"&&g.constructor;return!!v&&(v===n||(v.displayName||v.name)==="GeneratorFunction")}var i={throw:1,return:2,break:3,continue:3};function d(g){var v,S;return function(I){v||(v={stop:function(){return S(I.a,2)},catch:function(){return I.v},abrupt:function(_,N){return S(I.a,i[_],N)},delegateYield:function(_,N,A){return v.resultName=N,S(I.d,nF(_),A)},finish:function(_){return S(I.f,_)}},S=function(_,N,A){I.p=v.prev,I.n=v.next;try{return _(N,A)}finally{v.next=I.n}}),v.resultName&&(v[v.resultName]=I.v,v.resultName=void 0),v.sent=I.v,v.next=I.n;try{return g.call(this,v)}finally{I.p=v.prev,I.n=v.next}}}return(Oa=function(){return{wrap:function(S,I,T,_){return e.w(d(S),I,T,_&&_.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(S,I){return new KK(S,I)},AsyncIterator:AM,async:function(S,I,T,_,N){return(r(I)?WK:que)(d(S),I,T,_,N)},keys:zue,values:nF}})()}function rF(e,t,n,r,i,d,g){try{var v=e[d](g),S=v.value}catch(I){return void n(I)}v.done?t(S):Promise.resolve(S).then(r,i)}function xs(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var d=e.apply(t,n);function g(S){rF(d,r,i,g,v,"next",S)}function v(S){rF(d,r,i,g,v,"throw",S)}g(void 0)})}}var E0=Pe({},ioe),Hue=E0.version,qw=E0.render,Gue=E0.unmountComponentAtNode,o_;try{var Kue=Number((Hue||"").split(".")[0]);Kue>=18&&(o_=E0.createRoot)}catch{}function aF(e){var t=E0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&qn(t)==="object"&&(t.usingClientEntryPoint=e)}var OM="__rc_react_root__";function Wue(e,t){aF(!0);var n=t[OM]||o_(t);aF(!1),n.render(e),t[OM]=n}function Yue(e,t){qw==null||qw(e,t)}function Xue(e,t){if(o_){Wue(e,t);return}Yue(e,t)}function Jue(e){return GL.apply(this,arguments)}function GL(){return GL=xs(Oa().mark(function e(t){return Oa().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=t[OM])===null||i===void 0||i.unmount(),delete t[OM]}));case 1:case"end":return r.stop()}},e)})),GL.apply(this,arguments)}function Que(e){Gue(e)}function Zue(e){return KL.apply(this,arguments)}function KL(){return KL=xs(Oa().mark(function e(t){return Oa().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o_===void 0){r.next=2;break}return r.abrupt("return",Jue(t));case 2:Que(t);case 3:case"end":return r.stop()}},e)})),KL.apply(this,arguments)}const ede=(e,t)=>(Xue(e,t),()=>Zue(t));let iF=ede;function hD(e){return e&&(iF=e),iF}const zw=()=>({height:0,opacity:0}),oF=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},tde=e=>({height:e?e.offsetHeight:0}),Hw=(e,t)=>(t==null?void 0:t.deadline)===!0||t.propertyName==="height",r0=(e=n0)=>({motionName:`${e}-motion-collapse`,onAppearStart:zw,onEnterStart:zw,onAppearActive:oF,onEnterActive:oF,onLeaveStart:tde,onLeaveActive:zw,onAppearEnd:Hw,onEnterEnd:Hw,onLeaveEnd:Hw,motionDeadline:500}),vD=(e,t,n)=>n!==void 0?n:`${e}-${t}`;function ri(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach(function(r){delete n[r]}),n}const C0=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),d=i.width,g=i.height;if(d||g)return!0}}return!1},nde=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},rde=jle("Wave",e=>[nde(e)]),s_=`${n0}-wave-target`;function Gw(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function ade(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return Gw(t)?t:Gw(n)?n:Gw(r)?r:null}function Kw(e){return Number.isNaN(e)?0:e}const ide=e=>{const{className:t,target:n,component:r,registerUnmount:i}=e,d=E.useRef(null),g=E.useRef(null);E.useEffect(()=>{g.current=i()},[]);const[v,S]=E.useState(null),[I,T]=E.useState([]),[_,N]=E.useState(0),[A,w]=E.useState(0),[O,R]=E.useState(0),[D,j]=E.useState(0),[L,U]=E.useState(!1),$={left:_,top:A,width:O,height:D,borderRadius:I.map(H=>`${H}px`).join(" ")};v&&($["--wave-color"]=v);function F(){const H=getComputedStyle(n);S(ade(n));const V=H.position==="static",{borderLeftWidth:K,borderTopWidth:J}=H;N(V?n.offsetLeft:Kw(-parseFloat(K))),w(V?n.offsetTop:Kw(-parseFloat(J))),R(n.offsetWidth),j(n.offsetHeight);const{borderTopLeftRadius:te,borderTopRightRadius:Z,borderBottomLeftRadius:X,borderBottomRightRadius:re}=H;T([te,Z,re,X].map(ee=>Kw(parseFloat(ee))))}if(E.useEffect(()=>{if(n){const H=Fr(()=>{F(),U(!0)});let V;return typeof ResizeObserver<"u"&&(V=new ResizeObserver(F),V.observe(n)),()=>{Fr.cancel(H),V==null||V.disconnect()}}},[]),!L)return null;const z=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(s_));return E.createElement(Wl,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(H,V)=>{var K,J;if(V.deadline||V.propertyName==="opacity"){const te=(K=d.current)===null||K===void 0?void 0:K.parentElement;(J=g.current)===null||J===void 0||J.call(g).then(()=>{te==null||te.remove()})}return!1}},({className:H},V)=>E.createElement("div",{ref:Bo(d,V),className:Ue(t,H,{"wave-quick":z}),style:$}))},ode=(e,t)=>{var n;const{component:r}=t;if(r==="Checkbox"&&!(!((n=e.querySelector("input"))===null||n===void 0)&&n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",e==null||e.insertBefore(i,e==null?void 0:e.firstChild);const d=hD();let g=null;function v(){return g}g=d(E.createElement(ide,Object.assign({},t,{target:e,registerUnmount:v})),i)},sde=(e,t,n)=>{const{wave:r}=E.useContext(rr),[,i,d]=ms(),g=xa(I=>{const T=e.current;if(r!=null&&r.disabled||!T)return;const _=T.querySelector(`.${s_}`)||T,{showEffect:N}=r||{};(N||ode)(_,{className:t,token:i,component:n,event:I,hashId:d})}),v=E.useRef(null);return I=>{Fr.cancel(v.current),v.current=Fr(()=>{g(I)})}},T0=e=>{const{children:t,disabled:n,component:r}=e,{getPrefixCls:i}=E.useContext(rr),d=E.useRef(null),g=i("wave"),[,v]=rde(g),S=sde(d,Ue(g,v),r);if(Xe.useEffect(()=>{const T=d.current;if(!T||T.nodeType!==1||n)return;const _=N=>{!C0(N.target)||!T.getAttribute||T.getAttribute("disabled")||T.disabled||T.className.includes("disabled")||T.className.includes("-leave")||S(N)};return T.addEventListener("click",_,!0),()=>{T.removeEventListener("click",_,!0)}},[n]),!Xe.isValidElement(t))return t??null;const I=Oc(t)?Bo(Em(t),d):d;return Vo(t,{ref:I})},qo=e=>{const t=Xe.useContext(mg);return Xe.useMemo(()=>e?typeof e=="string"?e??t:typeof e=="function"?e(t):t:t,[e,t])},lde=e=>{const{componentCls:t}=e;return{[t]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},cde=e=>{const{componentCls:t,antCls:n}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${t}-item:empty`]:{display:"none"},[`${t}-item > ${n}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},ude=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}}}},YK=fa("Space",e=>{const t=qr(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[cde(t),ude(t),lde(t)]},()=>({}),{resetStyle:!1});var XK=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const l_=E.createContext(null),Ig=(e,t)=>{const n=E.useContext(l_),r=E.useMemo(()=>{if(!n)return"";const{compactDirection:i,isFirstItem:d,isLastItem:g}=n,v=i==="vertical"?"-vertical-":"-";return Ue(`${e}-compact${v}item`,{[`${e}-compact${v}first-item`]:d,[`${e}-compact${v}last-item`]:g,[`${e}-compact${v}item-rtl`]:t==="rtl"})},[e,t,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},dde=e=>{const{children:t}=e;return E.createElement(l_.Provider,{value:null},t)},pde=e=>{const{children:t}=e,n=XK(e,["children"]);return E.createElement(l_.Provider,{value:E.useMemo(()=>n,[n])},t)},mde=e=>{const{getPrefixCls:t,direction:n}=E.useContext(rr),{size:r,direction:i,block:d,prefixCls:g,className:v,rootClassName:S,children:I}=e,T=XK(e,["size","direction","block","prefixCls","className","rootClassName","children"]),_=qo(L=>r??L),N=t("space-compact",g),[A,w]=YK(N),O=Ue(N,w,{[`${N}-rtl`]:n==="rtl",[`${N}-block`]:d,[`${N}-vertical`]:i==="vertical"},v,S),R=E.useContext(l_),D=ps(I),j=E.useMemo(()=>D.map((L,U)=>{const $=(L==null?void 0:L.key)||`${N}-item-${U}`;return E.createElement(pde,{key:$,compactSize:_,compactDirection:i,isFirstItem:U===0&&(!R||(R==null?void 0:R.isFirstItem)),isLastItem:U===D.length-1&&(!R||(R==null?void 0:R.isLastItem))},L)}),[r,D,R]);return D.length===0?null:A(E.createElement("div",Object.assign({className:O},T),j))};var fde=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const JK=E.createContext(void 0),gde=e=>{const{getPrefixCls:t,direction:n}=E.useContext(rr),{prefixCls:r,size:i,className:d}=e,g=fde(e,["prefixCls","size","className"]),v=t("btn-group",r),[,,S]=ms(),I=E.useMemo(()=>{switch(i){case"large":return"lg";case"small":return"sm";default:return""}},[i]),T=Ue(v,{[`${v}-${I}`]:I,[`${v}-rtl`]:n==="rtl"},d,S);return E.createElement(JK.Provider,{value:i},E.createElement("div",Object.assign({},g,{className:T})))},sF=/^[\u4E00-\u9FA5]{2}$/,WL=sF.test.bind(sF);function lF(e){return typeof e=="string"}function Ww(e){return e==="text"||e==="link"}function hde(e,t){if(e==null)return;const n=t?" ":"";return typeof e!="string"&&typeof e!="number"&&lF(e.type)&&WL(e.props.children)?Vo(e,{children:e.props.children.split("").join(n)}):lF(e)?WL(e)?Xe.createElement("span",null,e.split("").join(n)):Xe.createElement("span",null,e):kK(e)?Xe.createElement("span",null,e):e}function vde(e,t){let n=!1;const r=[];return Xe.Children.forEach(e,i=>{const d=typeof i,g=d==="string"||d==="number";if(n&&g){const v=r.length-1,S=r[v];r[v]=`${S}${i}`}else r.push(i);n=g}),Xe.Children.map(r,i=>hde(i,t))}["default","primary","danger"].concat(Rt(fg));const YL=E.forwardRef((e,t)=>{const{className:n,style:r,children:i,prefixCls:d}=e,g=Ue(`${d}-icon`,n);return Xe.createElement("span",{ref:t,className:g,style:r},i)}),cF=E.forwardRef((e,t)=>{const{prefixCls:n,className:r,style:i,iconClassName:d}=e,g=Ue(`${n}-loading-icon`,r);return Xe.createElement(YL,{prefixCls:n,className:g,style:i,ref:t},Xe.createElement(kd,{className:d}))}),Yw=()=>({width:0,opacity:0,transform:"scale(0)"}),Xw=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),yde=e=>{const{prefixCls:t,loading:n,existIcon:r,className:i,style:d,mount:g}=e,v=!!n;return r?Xe.createElement(cF,{prefixCls:t,className:i,style:d}):Xe.createElement(Wl,{visible:v,motionName:`${t}-loading-icon-motion`,motionAppear:!g,motionEnter:!g,motionLeave:!g,removeOnLeave:!0,onAppearStart:Yw,onAppearActive:Xw,onEnterStart:Yw,onEnterActive:Xw,onLeaveStart:Xw,onLeaveActive:Yw},({className:S,style:I},T)=>{const _=Object.assign(Object.assign({},d),I);return Xe.createElement(cF,{prefixCls:t,className:Ue(i,S),style:_,ref:T})})},uF=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),bde=e=>{const{componentCls:t,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:d}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(r).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},uF(`${t}-primary`,i),uF(`${t}-danger`,d)]}},Mo=Math.round;function Jw(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=t(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const dF=(e,t,n)=>n===0?e:e/100;function mI(e,t){const n=t||255;return e>n?n:e<0?0:e}let QK=class ZK{constructor(t){Ce(this,"isValid",!0),Ce(this,"r",0),Ce(this,"g",0),Ce(this,"b",0),Ce(this,"a",1),Ce(this,"_h",void 0),Ce(this,"_s",void 0),Ce(this,"_l",void 0),Ce(this,"_v",void 0),Ce(this,"_max",void 0),Ce(this,"_min",void 0),Ce(this,"_brightness",void 0);function n(i){return i[0]in t&&i[1]in t&&i[2]in t}if(t)if(typeof t=="string"){let d=function(g){return i.startsWith(g)};var r=d;const i=t.trim();/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):d("rgb")?this.fromRgbString(i):d("hsl")?this.fromHslString(i):(d("hsv")||d("hsb"))&&this.fromHsvString(i)}else if(t instanceof ZK)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(n("rgb"))this.r=mI(t.r),this.g=mI(t.g),this.b=mI(t.b),this.a=typeof t.a=="number"?mI(t.a,1):1;else if(n("hsl"))this.fromHsl(t);else if(n("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const n=this.toHsv();return n.h=t,this._c(n)}getLuminance(){function t(d){const g=d/255;return g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4)}const n=t(this.r),r=t(this.g),i=t(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=Mo(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-t/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(t=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+t/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(t,n=50){const r=this._c(t),i=n/100,d=v=>(r[v]-this[v])*i+this[v],g={r:Mo(d("r")),g:Mo(d("g")),b:Mo(d("b")),a:Mo(d("a")*100)/100};return this._c(g)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const n=this._c(t),r=this.a+n.a*(1-this.a),i=d=>Mo((this[d]*this.a+n[d]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const n=(this.r||0).toString(16);t+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);t+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(t+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const d=Mo(this.a*255).toString(16);t+=d.length===2?d:"0"+d}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),n=Mo(this.getSaturation()*100),r=Mo(this.getLightness()*100);return this.a!==1?`hsla(${t},${n}%,${r}%,${this.a})`:`hsl(${t},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,n,r){const i=this.clone();return i[t]=mI(n,r),i}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const n=t.replace("#","");function r(i,d){return parseInt(n[i]+n[d||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:t,s:n,l:r,a:i}){if(this._h=t%360,this._s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const N=Mo(r*255);this.r=N,this.g=N,this.b=N}let d=0,g=0,v=0;const S=t/60,I=(1-Math.abs(2*r-1))*n,T=I*(1-Math.abs(S%2-1));S>=0&&S<1?(d=I,g=T):S>=1&&S<2?(d=T,g=I):S>=2&&S<3?(g=I,v=T):S>=3&&S<4?(g=T,v=I):S>=4&&S<5?(d=T,v=I):S>=5&&S<6&&(d=I,v=T);const _=r-I/2;this.r=Mo((d+_)*255),this.g=Mo((g+_)*255),this.b=Mo((v+_)*255)}fromHsv({h:t,s:n,v:r,a:i}){this._h=t%360,this._s=n,this._v=r,this.a=typeof i=="number"?i:1;const d=Mo(r*255);if(this.r=d,this.g=d,this.b=d,n<=0)return;const g=t/60,v=Math.floor(g),S=g-v,I=Mo(r*(1-n)*255),T=Mo(r*(1-n*S)*255),_=Mo(r*(1-n*(1-S))*255);switch(v){case 0:this.g=_,this.b=I;break;case 1:this.r=T,this.b=I;break;case 2:this.r=I,this.b=_;break;case 3:this.r=I,this.g=T;break;case 4:this.r=_,this.g=I;break;case 5:default:this.g=I,this.b=T;break}}fromHsvString(t){const n=Jw(t,dF);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(t){const n=Jw(t,dF);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(t){const n=Jw(t,(r,i)=>i.includes("%")?Mo(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}};var Sde=["b"],Ide=["v"],Qw=function(t){return Math.round(Number(t||0))},Ede=function(t){if(t instanceof QK)return t;if(t&&qn(t)==="object"&&"h"in t&&"b"in t){var n=t,r=n.b,i=ir(n,Sde);return Pe(Pe({},i),{},{v:r})}return typeof t=="string"&&/hsb/.test(t)?t.replace(/hsb/,"hsv"):t},a0=function(e){vl(n,e);var t=Kl(n);function n(r){return mi(this,n),t.call(this,Ede(r))}return fi(n,[{key:"toHsbString",value:function(){var i=this.toHsb(),d=Qw(i.s*100),g=Qw(i.b*100),v=Qw(i.h),S=i.a,I="hsb(".concat(v,", ").concat(d,"%, ").concat(g,"%)"),T="hsba(".concat(v,", ").concat(d,"%, ").concat(g,"%, ").concat(S.toFixed(S===0?0:2),")");return S===1?I:T}},{key:"toHsb",value:function(){var i=this.toHsv(),d=i.v,g=ir(i,Ide);return Pe(Pe({},g),{},{b:d,a:this.a})}}]),n}(QK),Cde=function(t){return t instanceof a0?t:new a0(t)};Cde("#1677ff");const Tde=(e,t)=>(e==null?void 0:e.replace(/[^\w/]/g,"").slice(0,t?8:6))||"",Mde=(e,t)=>e?Tde(e,t):"";let _de=function(){function e(t){mi(this,e);var n;if(this.cleared=!1,t instanceof e){this.metaColor=t.metaColor.clone(),this.colors=(n=t.colors)===null||n===void 0?void 0:n.map(i=>({color:new e(i.color),percent:i.percent})),this.cleared=t.cleared;return}const r=Array.isArray(t);r&&t.length?(this.colors=t.map(({color:i,percent:d})=>({color:new e(i),percent:d})),this.metaColor=new a0(this.colors[0].color.metaColor)):this.metaColor=new a0(r?"":t),(!t||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return fi(e,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return Mde(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:n}=this;return n?`linear-gradient(90deg, ${n.map(i=>`${i.color.toRgbString()} ${i.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(n){return!n||this.isGradient()!==n.isGradient()?!1:this.isGradient()?this.colors.length===n.colors.length&&this.colors.every((r,i)=>{const d=n.colors[i];return r.percent===d.percent&&r.color.equals(d.color)}):this.toHexString()===n.toHexString()}}])}();var xde={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},wde=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:xde}))},i0=E.forwardRef(wde);const c_=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),Nde=e=>({animationDuration:e,animationFillMode:"both"}),Rde=e=>({animationDuration:e,animationFillMode:"both"}),u_=(e,t,n,r,i=!1)=>{const d=i?"&":"";return{[`
      ${d}${e}-enter,
      ${d}${e}-appear
    `]:Object.assign(Object.assign({},Nde(r)),{animationPlayState:"paused"}),[`${d}${e}-leave`]:Object.assign(Object.assign({},Rde(r)),{animationPlayState:"paused"}),[`
      ${d}${e}-enter${e}-enter-active,
      ${d}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${d}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},Ade=new ca("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Ode=new ca("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),kde=(e,t=!1)=>{const{antCls:n}=e,r=`${n}-fade`,i=t?"&":"";return[u_(r,Ade,Ode,e.motionDurationMid,t),{[`
        ${i}${r}-enter,
        ${i}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${r}-leave`]:{animationTimingFunction:"linear"}}]},Lde=new ca("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Pde=new ca("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),Dde=new ca("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),jde=new ca("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Vde=new ca("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),$de=new ca("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Ude=new ca("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Bde=new ca("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),Fde={"move-up":{inKeyframes:Ude,outKeyframes:Bde},"move-down":{inKeyframes:Lde,outKeyframes:Pde},"move-left":{inKeyframes:Dde,outKeyframes:jde},"move-right":{inKeyframes:Vde,outKeyframes:$de}},kM=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:d}=Fde[t];return[u_(r,i,d,e.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},yD=new ca("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),bD=new ca("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),SD=new ca("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),ID=new ca("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),qde=new ca("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),zde=new ca("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),Hde=new ca("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),Gde=new ca("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Kde={"slide-up":{inKeyframes:yD,outKeyframes:bD},"slide-down":{inKeyframes:SD,outKeyframes:ID},"slide-left":{inKeyframes:qde,outKeyframes:zde},"slide-right":{inKeyframes:Hde,outKeyframes:Gde}},bm=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:d}=Kde[t];return[u_(r,i,d,e.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},ED=new ca("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Wde=new ca("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),pF=new ca("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),mF=new ca("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),Yde=new ca("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),Xde=new ca("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),Jde=new ca("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),Qde=new ca("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),Zde=new ca("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),epe=new ca("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),tpe=new ca("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),npe=new ca("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),rpe={zoom:{inKeyframes:ED,outKeyframes:Wde},"zoom-big":{inKeyframes:pF,outKeyframes:mF},"zoom-big-fast":{inKeyframes:pF,outKeyframes:mF},"zoom-left":{inKeyframes:Jde,outKeyframes:Qde},"zoom-right":{inKeyframes:Zde,outKeyframes:epe},"zoom-up":{inKeyframes:Yde,outKeyframes:Xde},"zoom-down":{inKeyframes:tpe,outKeyframes:npe}},CD=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:d}=rpe[t];return[u_(r,i,d,t==="zoom-big-fast"?e.motionDurationFast:e.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},ape=(e,t)=>{const{r:n,g:r,b:i,a:d}=e.toRgb(),g=new a0(e.toRgbString()).onBackground(t).toHsv();return d<=.5?g.v>.5:n*.299+r*.587+i*.114>192},eW=e=>{const{paddingInline:t,onlyIconSize:n}=e;return qr(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},tW=e=>{var t,n,r,i,d,g;const v=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,S=(n=e.contentFontSizeSM)!==null&&n!==void 0?n:e.fontSize,I=(r=e.contentFontSizeLG)!==null&&r!==void 0?r:e.fontSizeLG,T=(i=e.contentLineHeight)!==null&&i!==void 0?i:pM(v),_=(d=e.contentLineHeightSM)!==null&&d!==void 0?d:pM(S),N=(g=e.contentLineHeightLG)!==null&&g!==void 0?g:pM(I),A=ape(new _de(e.colorBgSolid),"#fff")?"#000":"#fff",w=fg.reduce((O,R)=>Object.assign(Object.assign({},O),{[`${R}ShadowColor`]:`0 ${Le(e.controlOutlineWidth)} 0 ${NI(e[`${R}1`],e.colorBgContainer)}`}),{});return Object.assign(Object.assign({},w),{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:A,contentFontSize:v,contentFontSizeSM:S,contentFontSizeLG:I,contentLineHeight:T,contentLineHeightSM:_,contentLineHeightLG:N,paddingBlock:Math.max((e.controlHeight-v*T)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-S*_)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-I*N)/2-e.lineWidth,0)})},ipe=e=>{const{componentCls:t,iconCls:n,fontWeight:r,opacityLoading:i,motionDurationSlow:d,motionEaseInOut:g,marginXS:v,calc:S}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Le(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:Iy(),"> a":{color:"currentColor"},"&:not(:disabled)":Od(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"}},[`&${t}-loading`]:{opacity:i,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(I=>`${I} ${d} ${g}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:S(v).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:S(v).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:S(v).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:S(v).mul(-1).equal()}}}}}},nW=(e,t,n)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":n}}),ope=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),spe=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),lpe=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),d_=(e,t,n,r,i,d,g,v)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:r||void 0,boxShadow:"none"},nW(e,Object.assign({background:t},g),Object.assign({background:t},v))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:d||void 0}})}),cpe=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},lpe(e))}),upe=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),p_=(e,t,n,r)=>{const d=r&&["link","text"].includes(r)?upe:cpe;return Object.assign(Object.assign({},d(e)),nW(e.componentCls,t,n))},m_=(e,t,n,r,i)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:n},p_(e,r,i))}),f_=(e,t,n,r,i)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:n},p_(e,r,i))}),g_=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),h_=(e,t,n,r)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},p_(e,n,r))}),xu=(e,t,n,r,i)=>({[`&${e.componentCls}-variant-${n}`]:Object.assign({color:t,boxShadow:"none"},p_(e,r,i,n))}),dpe=e=>{const{componentCls:t}=e;return fg.reduce((n,r)=>{const i=e[`${r}6`],d=e[`${r}1`],g=e[`${r}5`],v=e[`${r}2`],S=e[`${r}3`],I=e[`${r}7`];return Object.assign(Object.assign({},n),{[`&${t}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:i,boxShadow:e[`${r}ShadowColor`]},m_(e,e.colorTextLightSolid,i,{background:g},{background:I})),f_(e,i,e.colorBgContainer,{color:g,borderColor:g,background:e.colorBgContainer},{color:I,borderColor:I,background:e.colorBgContainer})),g_(e)),h_(e,d,{background:v},{background:S})),xu(e,i,"link",{color:g},{color:I})),xu(e,i,"text",{color:g,background:d},{color:I,background:S}))})},{})},ppe=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},m_(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),g_(e)),h_(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),d_(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),xu(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),mpe=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},f_(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),g_(e)),h_(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),xu(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),xu(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),d_(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),fpe=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},m_(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),f_(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),g_(e)),h_(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),xu(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),xu(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),d_(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),gpe=e=>Object.assign(Object.assign({},xu(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),d_(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),hpe=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:ppe(e),[`${t}-color-primary`]:mpe(e),[`${t}-color-dangerous`]:fpe(e),[`${t}-color-link`]:gpe(e)},dpe(e))},vpe=e=>Object.assign(Object.assign(Object.assign(Object.assign({},f_(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),xu(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),m_(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),xu(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),TD=(e,t="")=>{const{componentCls:n,controlHeight:r,fontSize:i,borderRadius:d,buttonPaddingHorizontal:g,iconCls:v,buttonPaddingVertical:S,buttonIconOnlyFontSize:I}=e;return[{[t]:{fontSize:i,height:r,padding:`${Le(S)} ${Le(g)}`,borderRadius:d,[`&${n}-icon-only`]:{width:r,[v]:{fontSize:I}}}},{[`${n}${n}-circle${t}`]:ope(e)},{[`${n}${n}-round${t}`]:spe(e)}]},ype=e=>{const t=qr(e,{fontSize:e.contentFontSize});return TD(t,e.componentCls)},bpe=e=>{const t=qr(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return TD(t,`${e.componentCls}-sm`)},Spe=e=>{const t=qr(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return TD(t,`${e.componentCls}-lg`)},Ipe=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},Epe=fa("Button",e=>{const t=eW(e);return[ipe(t),ype(t),bpe(t),Spe(t),Ipe(t),hpe(t),vpe(t),bde(t)]},tW,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function Cpe(e,t,n){const{focusElCls:r,focus:i,borderElCls:d}=n,g=d?"> *":"",v=["hover",i?"focus":null,"active"].filter(Boolean).map(S=>`&:${S} ${g}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[v]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${g}`]:{zIndex:0}})}}function Tpe(e,t,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function v_(e,t={focus:!0}){const{componentCls:n}=e,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},Cpe(e,r,t)),Tpe(n,r,t))}}function Mpe(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function _pe(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function xpe(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},Mpe(e,t)),_pe(e.componentCls,t))}}const wpe=e=>{const{componentCls:t,colorPrimaryHover:n,lineWidth:r,calc:i}=e,d=i(r).mul(-1).equal(),g=v=>{const S=`${t}-compact${v?"-vertical":""}-item${t}-primary:not([disabled])`;return{[`${S} + ${S}::before`]:{position:"absolute",top:v?d:0,insetInlineStart:v?0:d,backgroundColor:n,content:'""',width:v?"100%":r,height:v?r:"100%"}}};return Object.assign(Object.assign({},g()),g(!0))},Npe=I0(["Button","compact"],e=>{const t=eW(e);return[v_(t),xpe(t),wpe(t)]},tW);var Rpe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Ape(e){if(typeof e=="object"&&e){let t=e==null?void 0:e.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const Ope={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},kpe=Xe.forwardRef((e,t)=>{var n,r;const{loading:i=!1,prefixCls:d,color:g,variant:v,type:S,danger:I=!1,shape:T="default",size:_,styles:N,disabled:A,className:w,rootClassName:O,children:R,icon:D,iconPosition:j="start",ghost:L=!1,block:U=!1,htmlType:$="button",classNames:F,style:z={},autoInsertSpace:H,autoFocus:V}=e,K=Rpe(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),J=S||"default",{button:te}=Xe.useContext(rr),[Z,X]=E.useMemo(()=>{if(g&&v)return[g,v];if(S||I){const yt=Ope[J]||[];return I?["danger",yt[1]]:yt}return te!=null&&te.color&&(te!=null&&te.variant)?[te.color,te.variant]:["default","outlined"]},[S,g,v,I,te==null?void 0:te.variant,te==null?void 0:te.color]),ee=Z==="danger"?"dangerous":Z,{getPrefixCls:ae,direction:de,autoInsertSpace:he,className:ue,style:ye,classNames:be,styles:oe}=Fo("button"),pe=(n=H??he)!==null&&n!==void 0?n:!0,fe=ae("btn",d),[_e,Te,Se]=Epe(fe),De=E.useContext(Xs),je=A??De,ke=E.useContext(JK),Oe=E.useMemo(()=>Ape(i),[i]),[Ne,qe]=E.useState(Oe.loading),[Ke,He]=E.useState(!1),nt=E.useRef(null),Je=Im(t,nt),ut=E.Children.count(R)===1&&!D&&!Ww(X),lt=E.useRef(!0);Xe.useEffect(()=>(lt.current=!1,()=>{lt.current=!0}),[]),E.useLayoutEffect(()=>{let yt=null;Oe.delay>0?yt=setTimeout(()=>{yt=null,qe(!0)},Oe.delay):qe(Oe.loading);function gt(){yt&&(clearTimeout(yt),yt=null)}return gt},[Oe.delay,Oe.loading]),E.useEffect(()=>{if(!nt.current||!pe)return;const yt=nt.current.textContent||"";ut&&WL(yt)?Ke||He(!0):Ke&&He(!1)}),E.useEffect(()=>{V&&nt.current&&nt.current.focus()},[]);const et=Xe.useCallback(yt=>{var gt;if(Ne||je){yt.preventDefault();return}(gt=e.onClick)===null||gt===void 0||gt.call(e,("href"in e,yt))},[e.onClick,Ne,je]),{compactSize:Ye,compactItemClassnames:pt}=Ig(fe,de),ct={large:"lg",small:"sm",middle:void 0},xt=qo(yt=>{var gt,Jt;return(Jt=(gt=_??Ye)!==null&&gt!==void 0?gt:ke)!==null&&Jt!==void 0?Jt:yt}),jt=xt&&(r=ct[xt])!==null&&r!==void 0?r:"",Ut=Ne?"loading":D,Vt=ri(K,["navigate"]),wt=Ue(fe,Te,Se,{[`${fe}-${T}`]:T!=="default"&&T,[`${fe}-${J}`]:J,[`${fe}-dangerous`]:I,[`${fe}-color-${ee}`]:ee,[`${fe}-variant-${X}`]:X,[`${fe}-${jt}`]:jt,[`${fe}-icon-only`]:!R&&R!==0&&!!Ut,[`${fe}-background-ghost`]:L&&!Ww(X),[`${fe}-loading`]:Ne,[`${fe}-two-chinese-chars`]:Ke&&pe&&!Ne,[`${fe}-block`]:U,[`${fe}-rtl`]:de==="rtl",[`${fe}-icon-end`]:j==="end"},pt,w,O,ue),Bt=Object.assign(Object.assign({},ye),z),Pt=Ue(F==null?void 0:F.icon,be.icon),ot=Object.assign(Object.assign({},(N==null?void 0:N.icon)||{}),oe.icon||{}),qt=D&&!Ne?Xe.createElement(YL,{prefixCls:fe,className:Pt,style:ot},D):i&&typeof i=="object"&&i.icon?Xe.createElement(YL,{prefixCls:fe,className:Pt,style:ot},i.icon):Xe.createElement(yde,{existIcon:!!D,prefixCls:fe,loading:Ne,mount:lt.current}),vt=R||R===0?vde(R,ut&&pe):null;if(Vt.href!==void 0)return _e(Xe.createElement("a",Object.assign({},Vt,{className:Ue(wt,{[`${fe}-disabled`]:je}),href:je?void 0:Vt.href,style:Bt,onClick:et,ref:Je,tabIndex:je?-1:0}),qt,vt));let bt=Xe.createElement("button",Object.assign({},K,{type:$,className:wt,style:Bt,onClick:et,disabled:je,ref:Je}),qt,vt,pt&&Xe.createElement(Npe,{prefixCls:fe}));return Ww(X)||(bt=Xe.createElement(T0,{component:"Button",disabled:Ne},bt)),_e(bt)}),Ze=kpe;Ze.Group=gde;Ze.__ANT_BUTTON=!0;var rW=E.createContext(null),fF=[];function Lpe(e,t){var n=E.useState(function(){if(!jo())return null;var w=document.createElement("div");return w}),r=at(n,1),i=r[0],d=E.useRef(!1),g=E.useContext(rW),v=E.useState(fF),S=at(v,2),I=S[0],T=S[1],_=g||(d.current?void 0:function(w){T(function(O){var R=[w].concat(Rt(O));return R})});function N(){i.parentElement||document.body.appendChild(i),d.current=!0}function A(){var w;(w=i.parentElement)===null||w===void 0||w.removeChild(i),d.current=!1}return Hr(function(){return e?g?g(N):N():A(),A},[e]),Hr(function(){I.length&&(I.forEach(function(w){return w()}),T(fF))},[I]),[i,_]}var Zw;function aW(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r=n.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var i,d;if(e){var g=getComputedStyle(e);r.scrollbarColor=g.scrollbarColor,r.scrollbarWidth=g.scrollbarWidth;var v=getComputedStyle(e,"::-webkit-scrollbar"),S=parseInt(v.width,10),I=parseInt(v.height,10);try{var T=S?"width: ".concat(v.width,";"):"",_=I?"height: ".concat(v.height,";"):"";Rd(`
#`.concat(t,`::-webkit-scrollbar {
`).concat(T,`
`).concat(_,`
}`),t)}catch(w){console.error(w),i=S,d=I}}document.body.appendChild(n);var N=e&&i&&!isNaN(i)?i:n.offsetWidth-n.clientWidth,A=e&&d&&!isNaN(d)?d:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),QI(t),{width:N,height:A}}function gF(e){return typeof document>"u"?0:(Zw===void 0&&(Zw=aW()),Zw.width)}function XL(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:aW(e)}function Ppe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Dpe="rc-util-locker-".concat(Date.now()),hF=0;function jpe(e){var t=!!e,n=E.useState(function(){return hF+=1,"".concat(Dpe,"_").concat(hF)}),r=at(n,1),i=r[0];Hr(function(){if(t){var d=XL(document.body).width,g=Ppe();Rd(`
html body {
  overflow-y: hidden;
  `.concat(g?"width: calc(100% - ".concat(d,"px);"):"",`
}`),i)}else QI(i);return function(){QI(i)}},[t,i])}var Vpe=!1;function $pe(e){return Vpe}var vF=function(t){return t===!1?!1:!jo()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},iW=E.forwardRef(function(e,t){var n=e.open,r=e.autoLock,i=e.getContainer;e.debug;var d=e.autoDestroy,g=d===void 0?!0:d,v=e.children,S=E.useState(n),I=at(S,2),T=I[0],_=I[1],N=T||n;E.useEffect(function(){(g||n)&&_(n)},[n,g]);var A=E.useState(function(){return vF(i)}),w=at(A,2),O=w[0],R=w[1];E.useEffect(function(){var J=vF(i);R(J??null)});var D=Lpe(N&&!O),j=at(D,2),L=j[0],U=j[1],$=O??L;jpe(r&&n&&jo()&&($===L||$===document.body));var F=null;if(v&&Oc(v)&&t){var z=v;F=z.ref}var H=Im(F,t);if(!N||!jo()||O===void 0)return null;var V=$===!1||$pe(),K=v;return t&&(K=E.cloneElement(v,{ref:H})),E.createElement(rW.Provider,{value:U},V?K:Ac.createPortal(K,$))});function Upe(){var e=Pe({},JM);return e.useId}var yF=0,bF=Upe();const MD=bF?function(t){var n=bF();return t||n}:function(t){var n=E.useState("ssr-id"),r=at(n,2),i=r[0],d=r[1];return E.useEffect(function(){var g=yF;yF+=1,d("rc_unique_".concat(g))},[]),t||i};var ag="RC_FORM_INTERNAL_HOOKS",ni=function(){pi(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},gg=E.createContext({getFieldValue:ni,getFieldsValue:ni,getFieldError:ni,getFieldWarning:ni,getFieldsError:ni,isFieldsTouched:ni,isFieldTouched:ni,isFieldValidating:ni,isFieldsValidating:ni,resetFields:ni,setFields:ni,setFieldValue:ni,setFieldsValue:ni,validateFields:ni,submit:ni,getInternalHooks:function(){return ni(),{dispatch:ni,initEntityValue:ni,registerField:ni,useSubscribe:ni,setInitialValues:ni,destroyForm:ni,setCallbacks:ni,registerWatch:ni,getFields:ni,setValidateMessages:ni,setPreserve:ni,getInitialValue:ni}}}),o0=E.createContext(null);function JL(e){return e==null?[]:Array.isArray(e)?e:[e]}function Bpe(e){return e&&!!e._init}function QL(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var ZL=QL();function Fpe(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function qpe(e,t,n){if(ZM())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&XI(i,n.prototype),i}function eP(e){var t=typeof Map=="function"?new Map:void 0;return eP=function(r){if(r===null||!Fpe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return qpe(r,arguments,pg(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),XI(i,r)},eP(e)}var zpe=/%[sdj%]/g,Hpe=function(){};function tP(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function gl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,d=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var g=e.replace(zpe,function(v){if(v==="%%")return"%";if(i>=d)return v;switch(v){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return v}});return g}return e}function Gpe(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function vo(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||Gpe(t)&&typeof e=="string"&&!e)}function Kpe(e,t,n){var r=[],i=0,d=e.length;function g(v){r.push.apply(r,Rt(v||[])),i++,i===d&&n(r)}e.forEach(function(v){t(v,g)})}function SF(e,t,n){var r=0,i=e.length;function d(g){if(g&&g.length){n(g);return}var v=r;r=r+1,v<i?t(e[v],d):n([])}d([])}function Wpe(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,Rt(e[n]||[]))}),t}var IF=function(e){vl(n,e);var t=Kl(n);function n(r,i){var d;return mi(this,n),d=t.call(this,"Async Validation Error"),Ce(vn(d),"errors",void 0),Ce(vn(d),"fields",void 0),d.errors=r,d.fields=i,d}return fi(n)}(eP(Error));function Ype(e,t,n,r,i){if(t.first){var d=new Promise(function(N,A){var w=function(D){return r(D),D.length?A(new IF(D,tP(D))):N(i)},O=Wpe(e);SF(O,n,w)});return d.catch(function(N){return N}),d}var g=t.firstFields===!0?Object.keys(e):t.firstFields||[],v=Object.keys(e),S=v.length,I=0,T=[],_=new Promise(function(N,A){var w=function(R){if(T.push.apply(T,R),I++,I===S)return r(T),T.length?A(new IF(T,tP(T))):N(i)};v.length||(r(T),N(i)),v.forEach(function(O){var R=e[O];g.indexOf(O)!==-1?SF(R,n,w):Kpe(R,n,w)})});return _.catch(function(N){return N}),_}function Xpe(e){return!!(e&&e.message!==void 0)}function Jpe(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function EF(e,t){return function(n){var r;return e.fullFields?r=Jpe(t,e.fullFields):r=t[n.field||e.fullField],Xpe(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function CF(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];qn(r)==="object"&&qn(e[n])==="object"?e[n]=Pe(Pe({},e[n]),r):e[n]=r}}return e}var Av="enum",Qpe=function(t,n,r,i,d){t[Av]=Array.isArray(t[Av])?t[Av]:[],t[Av].indexOf(n)===-1&&i.push(gl(d.messages[Av],t.fullField,t[Av].join(", ")))},Zpe=function(t,n,r,i,d){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||i.push(gl(d.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var g=new RegExp(t.pattern);g.test(n)||i.push(gl(d.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},eme=function(t,n,r,i,d){var g=typeof t.len=="number",v=typeof t.min=="number",S=typeof t.max=="number",I=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,T=n,_=null,N=typeof n=="number",A=typeof n=="string",w=Array.isArray(n);if(N?_="number":A?_="string":w&&(_="array"),!_)return!1;w&&(T=n.length),A&&(T=n.replace(I,"_").length),g?T!==t.len&&i.push(gl(d.messages[_].len,t.fullField,t.len)):v&&!S&&T<t.min?i.push(gl(d.messages[_].min,t.fullField,t.min)):S&&!v&&T>t.max?i.push(gl(d.messages[_].max,t.fullField,t.max)):v&&S&&(T<t.min||T>t.max)&&i.push(gl(d.messages[_].range,t.fullField,t.min,t.max))},oW=function(t,n,r,i,d,g){t.required&&(!r.hasOwnProperty(t.field)||vo(n,g||t.type))&&i.push(gl(d.messages.required,t.fullField))},cT;const tme=function(){if(cT)return cT;var e="[a-fA-F\\d:]",t=function(F){return F&&F.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],d="(?:%[0-9a-zA-Z]{1,})?",g="(?:".concat(i.join("|"),")").concat(d),v=new RegExp("(?:^".concat(n,"$)|(?:^").concat(g,"$)")),S=new RegExp("^".concat(n,"$")),I=new RegExp("^".concat(g,"$")),T=function(F){return F&&F.exact?v:new RegExp("(?:".concat(t(F)).concat(n).concat(t(F),")|(?:").concat(t(F)).concat(g).concat(t(F),")"),"g")};T.v4=function($){return $&&$.exact?S:new RegExp("".concat(t($)).concat(n).concat(t($)),"g")},T.v6=function($){return $&&$.exact?I:new RegExp("".concat(t($)).concat(g).concat(t($)),"g")};var _="(?:(?:[a-z]+:)?//)",N="(?:\\S+(?::\\S*)?@)?",A=T.v4().source,w=T.v6().source,O="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",R="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",D="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",j="(?::\\d{2,5})?",L='(?:[/?#][^\\s"]*)?',U="(?:".concat(_,"|www\\.)").concat(N,"(?:localhost|").concat(A,"|").concat(w,"|").concat(O).concat(R).concat(D,")").concat(j).concat(L);return cT=new RegExp("(?:^".concat(U,"$)"),"i"),cT};var TF={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},RI={integer:function(t){return RI.number(t)&&parseInt(t,10)===t},float:function(t){return RI.number(t)&&!RI.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return qn(t)==="object"&&!RI.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(TF.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(tme())},hex:function(t){return typeof t=="string"&&!!t.match(TF.hex)}},nme=function(t,n,r,i,d){if(t.required&&n===void 0){oW(t,n,r,i,d);return}var g=["integer","float","array","regexp","object","method","email","number","date","url","hex"],v=t.type;g.indexOf(v)>-1?RI[v](n)||i.push(gl(d.messages.types[v],t.fullField,t.type)):v&&qn(n)!==t.type&&i.push(gl(d.messages.types[v],t.fullField,t.type))},rme=function(t,n,r,i,d){(/^\s+$/.test(n)||n==="")&&i.push(gl(d.messages.whitespace,t.fullField))};const ba={required:oW,whitespace:rme,type:nme,range:eme,enum:Qpe,pattern:Zpe};var ame=function(t,n,r,i,d){var g=[],v=t.required||!t.required&&i.hasOwnProperty(t.field);if(v){if(vo(n)&&!t.required)return r();ba.required(t,n,i,g,d)}r(g)},ime=function(t,n,r,i,d){var g=[],v=t.required||!t.required&&i.hasOwnProperty(t.field);if(v){if(n==null&&!t.required)return r();ba.required(t,n,i,g,d,"array"),n!=null&&(ba.type(t,n,i,g,d),ba.range(t,n,i,g,d))}r(g)},ome=function(t,n,r,i,d){var g=[],v=t.required||!t.required&&i.hasOwnProperty(t.field);if(v){if(vo(n)&&!t.required)return r();ba.required(t,n,i,g,d),n!==void 0&&ba.type(t,n,i,g,d)}r(g)},sme=function(t,n,r,i,d){var g=[],v=t.required||!t.required&&i.hasOwnProperty(t.field);if(v){if(vo(n,"date")&&!t.required)return r();if(ba.required(t,n,i,g,d),!vo(n,"date")){var S;n instanceof Date?S=n:S=new Date(n),ba.type(t,S,i,g,d),S&&ba.range(t,S.getTime(),i,g,d)}}r(g)},lme="enum",cme=function(t,n,r,i,d){var g=[],v=t.required||!t.required&&i.hasOwnProperty(t.field);if(v){if(vo(n)&&!t.required)return r();ba.required(t,n,i,g,d),n!==void 0&&ba[lme](t,n,i,g,d)}r(g)},ume=function(t,n,r,i,d){var g=[],v=t.required||!t.required&&i.hasOwnProperty(t.field);if(v){if(vo(n)&&!t.required)return r();ba.required(t,n,i,g,d),n!==void 0&&(ba.type(t,n,i,g,d),ba.range(t,n,i,g,d))}r(g)},dme=function(t,n,r,i,d){var g=[],v=t.required||!t.required&&i.hasOwnProperty(t.field);if(v){if(vo(n)&&!t.required)return r();ba.required(t,n,i,g,d),n!==void 0&&(ba.type(t,n,i,g,d),ba.range(t,n,i,g,d))}r(g)},pme=function(t,n,r,i,d){var g=[],v=t.required||!t.required&&i.hasOwnProperty(t.field);if(v){if(vo(n)&&!t.required)return r();ba.required(t,n,i,g,d),n!==void 0&&ba.type(t,n,i,g,d)}r(g)},mme=function(t,n,r,i,d){var g=[],v=t.required||!t.required&&i.hasOwnProperty(t.field);if(v){if(n===""&&(n=void 0),vo(n)&&!t.required)return r();ba.required(t,n,i,g,d),n!==void 0&&(ba.type(t,n,i,g,d),ba.range(t,n,i,g,d))}r(g)},fme=function(t,n,r,i,d){var g=[],v=t.required||!t.required&&i.hasOwnProperty(t.field);if(v){if(vo(n)&&!t.required)return r();ba.required(t,n,i,g,d),n!==void 0&&ba.type(t,n,i,g,d)}r(g)},gme=function(t,n,r,i,d){var g=[],v=t.required||!t.required&&i.hasOwnProperty(t.field);if(v){if(vo(n,"string")&&!t.required)return r();ba.required(t,n,i,g,d),vo(n,"string")||ba.pattern(t,n,i,g,d)}r(g)},hme=function(t,n,r,i,d){var g=[],v=t.required||!t.required&&i.hasOwnProperty(t.field);if(v){if(vo(n)&&!t.required)return r();ba.required(t,n,i,g,d),vo(n)||ba.type(t,n,i,g,d)}r(g)},vme=function(t,n,r,i,d){var g=[],v=Array.isArray(n)?"array":qn(n);ba.required(t,n,i,g,d,v),r(g)},yme=function(t,n,r,i,d){var g=[],v=t.required||!t.required&&i.hasOwnProperty(t.field);if(v){if(vo(n,"string")&&!t.required)return r();ba.required(t,n,i,g,d,"string"),vo(n,"string")||(ba.type(t,n,i,g,d),ba.range(t,n,i,g,d),ba.pattern(t,n,i,g,d),t.whitespace===!0&&ba.whitespace(t,n,i,g,d))}r(g)},eN=function(t,n,r,i,d){var g=t.type,v=[],S=t.required||!t.required&&i.hasOwnProperty(t.field);if(S){if(vo(n,g)&&!t.required)return r();ba.required(t,n,i,v,d,g),vo(n,g)||ba.type(t,n,i,v,d)}r(v)};const UI={string:yme,method:pme,number:mme,boolean:ome,regexp:hme,integer:dme,float:ume,array:ime,object:fme,enum:cme,pattern:gme,date:sme,url:eN,hex:eN,email:eN,required:vme,any:ame};var M0=function(){function e(t){mi(this,e),Ce(this,"rules",null),Ce(this,"_messages",ZL),this.define(t)}return fi(e,[{key:"define",value:function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(qn(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(i){var d=n[i];r.rules[i]=Array.isArray(d)?d:[d]})}},{key:"messages",value:function(n){return n&&(this._messages=CF(QL(),n)),this._messages}},{key:"validate",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},g=n,v=i,S=d;if(typeof v=="function"&&(S=v,v={}),!this.rules||Object.keys(this.rules).length===0)return S&&S(null,g),Promise.resolve(g);function I(w){var O=[],R={};function D(L){if(Array.isArray(L)){var U;O=(U=O).concat.apply(U,Rt(L))}else O.push(L)}for(var j=0;j<w.length;j++)D(w[j]);O.length?(R=tP(O),S(O,R)):S(null,g)}if(v.messages){var T=this.messages();T===ZL&&(T=QL()),CF(T,v.messages),v.messages=T}else v.messages=this.messages();var _={},N=v.keys||Object.keys(this.rules);N.forEach(function(w){var O=r.rules[w],R=g[w];O.forEach(function(D){var j=D;typeof j.transform=="function"&&(g===n&&(g=Pe({},g)),R=g[w]=j.transform(R),R!=null&&(j.type=j.type||(Array.isArray(R)?"array":qn(R)))),typeof j=="function"?j={validator:j}:j=Pe({},j),j.validator=r.getValidationMethod(j),j.validator&&(j.field=w,j.fullField=j.fullField||w,j.type=r.getType(j),_[w]=_[w]||[],_[w].push({rule:j,value:R,source:g,field:w}))})});var A={};return Ype(_,v,function(w,O){var R=w.rule,D=(R.type==="object"||R.type==="array")&&(qn(R.fields)==="object"||qn(R.defaultField)==="object");D=D&&(R.required||!R.required&&w.value),R.field=w.field;function j(z,H){return Pe(Pe({},H),{},{fullField:"".concat(R.fullField,".").concat(z),fullFields:R.fullFields?[].concat(Rt(R.fullFields),[z]):[z]})}function L(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],H=Array.isArray(z)?z:[z];!v.suppressWarning&&H.length&&e.warning("async-validator:",H),H.length&&R.message!==void 0&&(H=[].concat(R.message));var V=H.map(EF(R,g));if(v.first&&V.length)return A[R.field]=1,O(V);if(!D)O(V);else{if(R.required&&!w.value)return R.message!==void 0?V=[].concat(R.message).map(EF(R,g)):v.error&&(V=[v.error(R,gl(v.messages.required,R.field))]),O(V);var K={};R.defaultField&&Object.keys(w.value).map(function(Z){K[Z]=R.defaultField}),K=Pe(Pe({},K),w.rule.fields);var J={};Object.keys(K).forEach(function(Z){var X=K[Z],re=Array.isArray(X)?X:[X];J[Z]=re.map(j.bind(null,Z))});var te=new e(J);te.messages(v.messages),w.rule.options&&(w.rule.options.messages=v.messages,w.rule.options.error=v.error),te.validate(w.value,w.rule.options||v,function(Z){var X=[];V&&V.length&&X.push.apply(X,Rt(V)),Z&&Z.length&&X.push.apply(X,Rt(Z)),O(X.length?X:null)})}}var U;if(R.asyncValidator)U=R.asyncValidator(R,w.value,L,w.source,v);else if(R.validator){try{U=R.validator(R,w.value,L,w.source,v)}catch(z){var $,F;($=(F=console).error)===null||$===void 0||$.call(F,z),v.suppressValidatorError||setTimeout(function(){throw z},0),L(z.message)}U===!0?L():U===!1?L(typeof R.message=="function"?R.message(R.fullField||R.field):R.message||"".concat(R.fullField||R.field," fails")):U instanceof Array?L(U):U instanceof Error&&L(U.message)}U&&U.then&&U.then(function(){return L()},function(z){return L(z)})},function(w){I(w)},g)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!UI.hasOwnProperty(n.type))throw new Error(gl("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),i=r.indexOf("message");return i!==-1&&r.splice(i,1),r.length===1&&r[0]==="required"?UI.required:UI[this.getType(n)]||void 0}}]),e}();Ce(M0,"register",function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");UI[t]=n});Ce(M0,"warning",Hpe);Ce(M0,"messages",ZL);Ce(M0,"validators",UI);var dl="'${name}' is not a valid ${type}",sW={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:dl,method:dl,array:dl,object:dl,number:dl,date:dl,boolean:dl,integer:dl,float:dl,regexp:dl,email:dl,url:dl,hex:dl},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},MF=M0;function bme(e,t){return e.replace(/\\?\$\{\w+\}/g,function(n){if(n.startsWith("\\"))return n.slice(1);var r=n.slice(2,-1);return t[r]})}var _F="CODE_LOGIC_ERROR";function nP(e,t,n,r,i){return rP.apply(this,arguments)}function rP(){return rP=xs(Oa().mark(function e(t,n,r,i,d){var g,v,S,I,T,_,N,A,w;return Oa().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return g=Pe({},r),delete g.ruleIndex,MF.warning=function(){},g.validator&&(v=g.validator,g.validator=function(){try{return v.apply(void 0,arguments)}catch(D){return console.error(D),Promise.reject(_F)}}),S=null,g&&g.type==="array"&&g.defaultField&&(S=g.defaultField,delete g.defaultField),I=new MF(Ce({},t,[g])),T=Kv(sW,i.validateMessages),I.messages(T),_=[],R.prev=10,R.next=13,Promise.resolve(I.validate(Ce({},t,n),Pe({},i)));case 13:R.next=18;break;case 15:R.prev=15,R.t0=R.catch(10),R.t0.errors&&(_=R.t0.errors.map(function(D,j){var L=D.message,U=L===_F?T.default:L;return E.isValidElement(U)?E.cloneElement(U,{key:"error_".concat(j)}):U}));case 18:if(!(!_.length&&S)){R.next=23;break}return R.next=21,Promise.all(n.map(function(D,j){return nP("".concat(t,".").concat(j),D,S,i,d)}));case 21:return N=R.sent,R.abrupt("return",N.reduce(function(D,j){return[].concat(Rt(D),Rt(j))},[]));case 23:return A=Pe(Pe({},r),{},{name:t,enum:(r.enum||[]).join(", ")},d),w=_.map(function(D){return typeof D=="string"?bme(D,A):D}),R.abrupt("return",w);case 26:case"end":return R.stop()}},e,null,[[10,15]])})),rP.apply(this,arguments)}function Sme(e,t,n,r,i,d){var g=e.join("."),v=n.map(function(T,_){var N=T.validator,A=Pe(Pe({},T),{},{ruleIndex:_});return N&&(A.validator=function(w,O,R){var D=!1,j=function(){for(var $=arguments.length,F=new Array($),z=0;z<$;z++)F[z]=arguments[z];Promise.resolve().then(function(){pi(!D,"Your validator function has already return a promise. `callback` will be ignored."),D||R.apply(void 0,F)})},L=N(w,O,j);D=L&&typeof L.then=="function"&&typeof L.catch=="function",pi(D,"`callback` is deprecated. Please return a promise instead."),D&&L.then(function(){R()}).catch(function(U){R(U||" ")})}),A}).sort(function(T,_){var N=T.warningOnly,A=T.ruleIndex,w=_.warningOnly,O=_.ruleIndex;return!!N==!!w?A-O:N?1:-1}),S;if(i===!0)S=new Promise(function(){var T=xs(Oa().mark(function _(N,A){var w,O,R;return Oa().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:w=0;case 1:if(!(w<v.length)){j.next=12;break}return O=v[w],j.next=5,nP(g,t,O,r,d);case 5:if(R=j.sent,!R.length){j.next=9;break}return A([{errors:R,rule:O}]),j.abrupt("return");case 9:w+=1,j.next=1;break;case 12:N([]);case 13:case"end":return j.stop()}},_)}));return function(_,N){return T.apply(this,arguments)}}());else{var I=v.map(function(T){return nP(g,t,T,r,d).then(function(_){return{errors:_,rule:T}})});S=(i?Eme(I):Ime(I)).then(function(T){return Promise.reject(T)})}return S.catch(function(T){return T}),S}function Ime(e){return aP.apply(this,arguments)}function aP(){return aP=xs(Oa().mark(function e(t){return Oa().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(t).then(function(i){var d,g=(d=[]).concat.apply(d,Rt(i));return g}));case 1:case"end":return r.stop()}},e)})),aP.apply(this,arguments)}function Eme(e){return iP.apply(this,arguments)}function iP(){return iP=xs(Oa().mark(function e(t){var n;return Oa().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(d){t.forEach(function(g){g.then(function(v){v.errors.length&&d([v]),n+=1,n===t.length&&d([])})})}));case 2:case"end":return i.stop()}},e)})),iP.apply(this,arguments)}function Ki(e){return JL(e)}function xF(e,t){var n={};return t.forEach(function(r){var i=_s(e,r);n=zl(n,r,i)}),n}function iy(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e&&e.some(function(r){return lW(t,r,n)})}function lW(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!t||!n&&e.length!==t.length?!1:t.every(function(r,i){return e[i]===r})}function Cme(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||qn(e)!=="object"||qn(t)!=="object")return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(n,r));return Rt(i).every(function(d){var g=e[d],v=t[d];return typeof g=="function"&&typeof v=="function"?!0:g===v})}function Tme(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&qn(t.target)==="object"&&e in t.target?t.target[e]:t}function wF(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],d=t-n;return d>0?[].concat(Rt(e.slice(0,n)),[i],Rt(e.slice(n,t)),Rt(e.slice(t+1,r))):d<0?[].concat(Rt(e.slice(0,t)),Rt(e.slice(t+1,n+1)),[i],Rt(e.slice(n+1,r))):e}var Mme=["name"],Ul=[];function tN(e,t,n,r,i,d){return typeof e=="function"?e(t,n,"source"in d?{source:d.source}:{}):r!==i}var _D=function(e){vl(n,e);var t=Kl(n);function n(r){var i;if(mi(this,n),i=t.call(this,r),Ce(vn(i),"state",{resetCount:0}),Ce(vn(i),"cancelRegisterFunc",null),Ce(vn(i),"mounted",!1),Ce(vn(i),"touched",!1),Ce(vn(i),"dirty",!1),Ce(vn(i),"validatePromise",void 0),Ce(vn(i),"prevValidating",void 0),Ce(vn(i),"errors",Ul),Ce(vn(i),"warnings",Ul),Ce(vn(i),"cancelRegister",function(){var S=i.props,I=S.preserve,T=S.isListField,_=S.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(T,I,Ki(_)),i.cancelRegisterFunc=null}),Ce(vn(i),"getNamePath",function(){var S=i.props,I=S.name,T=S.fieldContext,_=T.prefixName,N=_===void 0?[]:_;return I!==void 0?[].concat(Rt(N),Rt(I)):[]}),Ce(vn(i),"getRules",function(){var S=i.props,I=S.rules,T=I===void 0?[]:I,_=S.fieldContext;return T.map(function(N){return typeof N=="function"?N(_):N})}),Ce(vn(i),"refresh",function(){i.mounted&&i.setState(function(S){var I=S.resetCount;return{resetCount:I+1}})}),Ce(vn(i),"metaCache",null),Ce(vn(i),"triggerMetaEvent",function(S){var I=i.props.onMetaChange;if(I){var T=Pe(Pe({},i.getMeta()),{},{destroy:S});Cu(i.metaCache,T)||I(T),i.metaCache=T}else i.metaCache=null}),Ce(vn(i),"onStoreChange",function(S,I,T){var _=i.props,N=_.shouldUpdate,A=_.dependencies,w=A===void 0?[]:A,O=_.onReset,R=T.store,D=i.getNamePath(),j=i.getValue(S),L=i.getValue(R),U=I&&iy(I,D);switch(T.type==="valueUpdate"&&T.source==="external"&&!Cu(j,L)&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=Ul,i.warnings=Ul,i.triggerMetaEvent()),T.type){case"reset":if(!I||U){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=Ul,i.warnings=Ul,i.triggerMetaEvent(),O==null||O(),i.refresh();return}break;case"remove":{if(N&&tN(N,S,R,j,L,T)){i.reRender();return}break}case"setField":{var $=T.data;if(U){"touched"in $&&(i.touched=$.touched),"validating"in $&&!("originRCField"in $)&&(i.validatePromise=$.validating?Promise.resolve([]):null),"errors"in $&&(i.errors=$.errors||Ul),"warnings"in $&&(i.warnings=$.warnings||Ul),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in $&&iy(I,D,!0)){i.reRender();return}if(N&&!D.length&&tN(N,S,R,j,L,T)){i.reRender();return}break}case"dependenciesUpdate":{var F=w.map(Ki);if(F.some(function(z){return iy(T.relatedFields,z)})){i.reRender();return}break}default:if(U||(!w.length||D.length||N)&&tN(N,S,R,j,L,T)){i.reRender();return}break}N===!0&&i.reRender()}),Ce(vn(i),"validateRules",function(S){var I=i.getNamePath(),T=i.getValue(),_=S||{},N=_.triggerName,A=_.validateOnly,w=A===void 0?!1:A,O=Promise.resolve().then(xs(Oa().mark(function R(){var D,j,L,U,$,F,z;return Oa().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(i.mounted){V.next=2;break}return V.abrupt("return",[]);case 2:if(D=i.props,j=D.validateFirst,L=j===void 0?!1:j,U=D.messageVariables,$=D.validateDebounce,F=i.getRules(),N&&(F=F.filter(function(K){return K}).filter(function(K){var J=K.validateTrigger;if(!J)return!0;var te=JL(J);return te.includes(N)})),!($&&N)){V.next=10;break}return V.next=8,new Promise(function(K){setTimeout(K,$)});case 8:if(i.validatePromise===O){V.next=10;break}return V.abrupt("return",[]);case 10:return z=Sme(I,T,F,S,L,U),z.catch(function(K){return K}).then(function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ul;if(i.validatePromise===O){var J;i.validatePromise=null;var te=[],Z=[];(J=K.forEach)===null||J===void 0||J.call(K,function(X){var re=X.rule.warningOnly,ee=X.errors,ae=ee===void 0?Ul:ee;re?Z.push.apply(Z,Rt(ae)):te.push.apply(te,Rt(ae))}),i.errors=te,i.warnings=Z,i.triggerMetaEvent(),i.reRender()}}),V.abrupt("return",z);case 13:case"end":return V.stop()}},R)})));return w||(i.validatePromise=O,i.dirty=!0,i.errors=Ul,i.warnings=Ul,i.triggerMetaEvent(),i.reRender()),O}),Ce(vn(i),"isFieldValidating",function(){return!!i.validatePromise}),Ce(vn(i),"isFieldTouched",function(){return i.touched}),Ce(vn(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var S=i.props.fieldContext,I=S.getInternalHooks(ag),T=I.getInitialValue;return T(i.getNamePath())!==void 0}),Ce(vn(i),"getErrors",function(){return i.errors}),Ce(vn(i),"getWarnings",function(){return i.warnings}),Ce(vn(i),"isListField",function(){return i.props.isListField}),Ce(vn(i),"isList",function(){return i.props.isList}),Ce(vn(i),"isPreserve",function(){return i.props.preserve}),Ce(vn(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var S={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return S}),Ce(vn(i),"getOnlyChild",function(S){if(typeof S=="function"){var I=i.getMeta();return Pe(Pe({},i.getOnlyChild(S(i.getControlled(),I,i.props.fieldContext))),{},{isFunction:!0})}var T=ps(S);return T.length!==1||!E.isValidElement(T[0])?{child:T,isFunction:!1}:{child:T[0],isFunction:!1}}),Ce(vn(i),"getValue",function(S){var I=i.props.fieldContext.getFieldsValue,T=i.getNamePath();return _s(S||I(!0),T)}),Ce(vn(i),"getControlled",function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=i.props,T=I.name,_=I.trigger,N=I.validateTrigger,A=I.getValueFromEvent,w=I.normalize,O=I.valuePropName,R=I.getValueProps,D=I.fieldContext,j=N!==void 0?N:D.validateTrigger,L=i.getNamePath(),U=D.getInternalHooks,$=D.getFieldsValue,F=U(ag),z=F.dispatch,H=i.getValue(),V=R||function(X){return Ce({},O,X)},K=S[_],J=T!==void 0?V(H):{},te=Pe(Pe({},S),J);te[_]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var X,re=arguments.length,ee=new Array(re),ae=0;ae<re;ae++)ee[ae]=arguments[ae];A?X=A.apply(void 0,ee):X=Tme.apply(void 0,[O].concat(ee)),w&&(X=w(X,H,$(!0))),X!==H&&z({type:"updateValue",namePath:L,value:X}),K&&K.apply(void 0,ee)};var Z=JL(j||[]);return Z.forEach(function(X){var re=te[X];te[X]=function(){re&&re.apply(void 0,arguments);var ee=i.props.rules;ee&&ee.length&&z({type:"validateField",namePath:L,triggerName:X})}}),te}),r.fieldContext){var d=r.fieldContext.getInternalHooks,g=d(ag),v=g.initEntityValue;v(vn(i))}return i}return fi(n,[{key:"componentDidMount",value:function(){var i=this.props,d=i.shouldUpdate,g=i.fieldContext;if(this.mounted=!0,g){var v=g.getInternalHooks,S=v(ag),I=S.registerField;this.cancelRegisterFunc=I(this)}d===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,d=this.props.children,g=this.getOnlyChild(d),v=g.child,S=g.isFunction,I;return S?I=v:E.isValidElement(v)?I=E.cloneElement(v,this.getControlled(v.props)):(pi(!v,"`children` of Field is not validate ReactElement."),I=v),E.createElement(E.Fragment,{key:i},I)}}]),n}(E.Component);Ce(_D,"contextType",gg);Ce(_D,"defaultProps",{trigger:"onChange",valuePropName:"value"});function xD(e){var t,n=e.name,r=ir(e,Mme),i=E.useContext(gg),d=E.useContext(o0),g=n!==void 0?Ki(n):void 0,v=(t=r.isListField)!==null&&t!==void 0?t:!!d,S="keep";return v||(S="_".concat((g||[]).join("_"))),E.createElement(_D,kt({key:S,name:g,isListField:v},r,{fieldContext:i}))}function cW(e){var t=e.name,n=e.initialValue,r=e.children,i=e.rules,d=e.validateTrigger,g=e.isListField,v=E.useContext(gg),S=E.useContext(o0),I=E.useRef({keys:[],id:0}),T=I.current,_=E.useMemo(function(){var O=Ki(v.prefixName)||[];return[].concat(Rt(O),Rt(Ki(t)))},[v.prefixName,t]),N=E.useMemo(function(){return Pe(Pe({},v),{},{prefixName:_})},[v,_]),A=E.useMemo(function(){return{getKey:function(R){var D=_.length,j=R[D];return[T.keys[j],R.slice(D+1)]}}},[_]);if(typeof r!="function")return pi(!1,"Form.List only accepts function as children."),null;var w=function(R,D,j){var L=j.source;return L==="internal"?!1:R!==D};return E.createElement(o0.Provider,{value:A},E.createElement(gg.Provider,{value:N},E.createElement(xD,{name:[],shouldUpdate:w,rules:i,validateTrigger:d,initialValue:n,isList:!0,isListField:g??!!S},function(O,R){var D=O.value,j=D===void 0?[]:D,L=O.onChange,U=v.getFieldValue,$=function(){var V=U(_||[]);return V||[]},F={add:function(V,K){var J=$();K>=0&&K<=J.length?(T.keys=[].concat(Rt(T.keys.slice(0,K)),[T.id],Rt(T.keys.slice(K))),L([].concat(Rt(J.slice(0,K)),[V],Rt(J.slice(K))))):(T.keys=[].concat(Rt(T.keys),[T.id]),L([].concat(Rt(J),[V]))),T.id+=1},remove:function(V){var K=$(),J=new Set(Array.isArray(V)?V:[V]);J.size<=0||(T.keys=T.keys.filter(function(te,Z){return!J.has(Z)}),L(K.filter(function(te,Z){return!J.has(Z)})))},move:function(V,K){if(V!==K){var J=$();V<0||V>=J.length||K<0||K>=J.length||(T.keys=wF(T.keys,V,K),L(wF(J,V,K)))}}},z=j||[];return Array.isArray(z)||(z=[]),r(z.map(function(H,V){var K=T.keys[V];return K===void 0&&(T.keys[V]=T.id,K=T.keys[V],T.id+=1),{name:V,key:K,isListField:!0}}),F,R)})))}function _me(e){var t=!1,n=e.length,r=[];return e.length?new Promise(function(i,d){e.forEach(function(g,v){g.catch(function(S){return t=!0,S}).then(function(S){n-=1,r[v]=S,!(n>0)&&(t&&d(r),i(r))})})}):Promise.resolve([])}var uW="__@field_split__";function nN(e){return e.map(function(t){return"".concat(qn(t),":").concat(t)}).join(uW)}var Ov=function(){function e(){mi(this,e),Ce(this,"kvs",new Map)}return fi(e,[{key:"set",value:function(n,r){this.kvs.set(nN(n),r)}},{key:"get",value:function(n){return this.kvs.get(nN(n))}},{key:"update",value:function(n,r){var i=this.get(n),d=r(i);d?this.set(n,d):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(nN(n))}},{key:"map",value:function(n){return Rt(this.kvs.entries()).map(function(r){var i=at(r,2),d=i[0],g=i[1],v=d.split(uW);return n({key:v.map(function(S){var I=S.match(/^([^:]*):(.*)$/),T=at(I,3),_=T[1],N=T[2];return _==="number"?Number(N):N}),value:g})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,d=r.value;return n[i.join(".")]=d,null}),n}}]),e}(),xme=["name"],wme=fi(function e(t){var n=this;mi(this,e),Ce(this,"formHooked",!1),Ce(this,"forceRootUpdate",void 0),Ce(this,"subscribable",!0),Ce(this,"store",{}),Ce(this,"fieldEntities",[]),Ce(this,"initialValues",{}),Ce(this,"callbacks",{}),Ce(this,"validateMessages",null),Ce(this,"preserve",null),Ce(this,"lastValidatePromise",null),Ce(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),Ce(this,"getInternalHooks",function(r){return r===ag?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(pi(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),Ce(this,"useSubscribe",function(r){n.subscribable=r}),Ce(this,"prevWithoutPreserves",null),Ce(this,"setInitialValues",function(r,i){if(n.initialValues=r||{},i){var d,g=Kv(r,n.store);(d=n.prevWithoutPreserves)===null||d===void 0||d.map(function(v){var S=v.key;g=zl(g,S,_s(r,S))}),n.prevWithoutPreserves=null,n.updateStore(g)}}),Ce(this,"destroyForm",function(r){if(r)n.updateStore({});else{var i=new Ov;n.getFieldEntities(!0).forEach(function(d){n.isMergedPreserve(d.isPreserve())||i.set(d.getNamePath(),!0)}),n.prevWithoutPreserves=i}}),Ce(this,"getInitialValue",function(r){var i=_s(n.initialValues,r);return r.length?Kv(i):i}),Ce(this,"setCallbacks",function(r){n.callbacks=r}),Ce(this,"setValidateMessages",function(r){n.validateMessages=r}),Ce(this,"setPreserve",function(r){n.preserve=r}),Ce(this,"watchList",[]),Ce(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),Ce(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),d=n.getFieldsValue(!0);n.watchList.forEach(function(g){g(i,d,r)})}}),Ce(this,"timeoutId",null),Ce(this,"warningUnhooked",function(){}),Ce(this,"updateStore",function(r){n.store=r}),Ce(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities}),Ce(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new Ov;return n.getFieldEntities(r).forEach(function(d){var g=d.getNamePath();i.set(g,d)}),i}),Ce(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(d){var g=Ki(d);return i.get(g)||{INVALIDATE_NAME_PATH:Ki(d)}})}),Ce(this,"getFieldsValue",function(r,i){n.warningUnhooked();var d,g,v;if(r===!0||Array.isArray(r)?(d=r,g=i):r&&qn(r)==="object"&&(v=r.strict,g=r.filter),d===!0&&!g)return n.store;var S=n.getFieldEntitiesForNamePathList(Array.isArray(d)?d:null),I=[];return S.forEach(function(T){var _,N,A="INVALIDATE_NAME_PATH"in T?T.INVALIDATE_NAME_PATH:T.getNamePath();if(v){var w,O;if((w=(O=T).isList)!==null&&w!==void 0&&w.call(O))return}else if(!d&&(_=(N=T).isListField)!==null&&_!==void 0&&_.call(N))return;if(!g)I.push(A);else{var R="getMeta"in T?T.getMeta():null;g(R)&&I.push(A)}}),xF(n.store,I.map(Ki))}),Ce(this,"getFieldValue",function(r){n.warningUnhooked();var i=Ki(r);return _s(n.store,i)}),Ce(this,"getFieldsError",function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(d,g){return d&&!("INVALIDATE_NAME_PATH"in d)?{name:d.getNamePath(),errors:d.getErrors(),warnings:d.getWarnings()}:{name:Ki(r[g]),errors:[],warnings:[]}})}),Ce(this,"getFieldError",function(r){n.warningUnhooked();var i=Ki(r),d=n.getFieldsError([i])[0];return d.errors}),Ce(this,"getFieldWarning",function(r){n.warningUnhooked();var i=Ki(r),d=n.getFieldsError([i])[0];return d.warnings}),Ce(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),d=0;d<r;d++)i[d]=arguments[d];var g=i[0],v=i[1],S,I=!1;i.length===0?S=null:i.length===1?Array.isArray(g)?(S=g.map(Ki),I=!1):(S=null,I=g):(S=g.map(Ki),I=v);var T=n.getFieldEntities(!0),_=function(R){return R.isFieldTouched()};if(!S)return I?T.every(function(O){return _(O)||O.isList()}):T.some(_);var N=new Ov;S.forEach(function(O){N.set(O,[])}),T.forEach(function(O){var R=O.getNamePath();S.forEach(function(D){D.every(function(j,L){return R[L]===j})&&N.update(D,function(j){return[].concat(Rt(j),[O])})})});var A=function(R){return R.some(_)},w=N.map(function(O){var R=O.value;return R});return I?w.every(A):w.some(A)}),Ce(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),Ce(this,"isFieldsValidating",function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(g){return g.isFieldValidating()});var d=r.map(Ki);return i.some(function(g){var v=g.getNamePath();return iy(d,v)&&g.isFieldValidating()})}),Ce(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),Ce(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new Ov,d=n.getFieldEntities(!0);d.forEach(function(S){var I=S.props.initialValue,T=S.getNamePath();if(I!==void 0){var _=i.get(T)||new Set;_.add({entity:S,value:I}),i.set(T,_)}});var g=function(I){I.forEach(function(T){var _=T.props.initialValue;if(_!==void 0){var N=T.getNamePath(),A=n.getInitialValue(N);if(A!==void 0)pi(!1,"Form already set 'initialValues' with path '".concat(N.join("."),"'. Field can not overwrite it."));else{var w=i.get(N);if(w&&w.size>1)pi(!1,"Multiple Field with path '".concat(N.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(w){var O=n.getFieldValue(N),R=T.isListField();!R&&(!r.skipExist||O===void 0)&&n.updateStore(zl(n.store,N,Rt(w)[0].value))}}}})},v;r.entities?v=r.entities:r.namePathList?(v=[],r.namePathList.forEach(function(S){var I=i.get(S);if(I){var T;(T=v).push.apply(T,Rt(Rt(I).map(function(_){return _.entity})))}})):v=d,g(v)}),Ce(this,"resetFields",function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(Kv(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var d=r.map(Ki);d.forEach(function(g){var v=n.getInitialValue(g);n.updateStore(zl(n.store,g,v))}),n.resetWithFieldInitialValue({namePathList:d}),n.notifyObservers(i,d,{type:"reset"}),n.notifyWatch(d)}),Ce(this,"setFields",function(r){n.warningUnhooked();var i=n.store,d=[];r.forEach(function(g){var v=g.name,S=ir(g,xme),I=Ki(v);d.push(I),"value"in S&&n.updateStore(zl(n.store,I,S.value)),n.notifyObservers(i,[I],{type:"setField",data:g})}),n.notifyWatch(d)}),Ce(this,"getFields",function(){var r=n.getFieldEntities(!0),i=r.map(function(d){var g=d.getNamePath(),v=d.getMeta(),S=Pe(Pe({},v),{},{name:g,value:n.getFieldValue(g)});return Object.defineProperty(S,"originRCField",{value:!0}),S});return i}),Ce(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var d=r.getNamePath(),g=_s(n.store,d);g===void 0&&n.updateStore(zl(n.store,d,i))}}),Ce(this,"isMergedPreserve",function(r){var i=r!==void 0?r:n.preserve;return i??!0}),Ce(this,"registerField",function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var d=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(d,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(g,v){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(_){return _!==r}),!n.isMergedPreserve(v)&&(!g||S.length>1)){var I=g?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==I&&n.fieldEntities.every(function(_){return!lW(_.getNamePath(),i)})){var T=n.store;n.updateStore(zl(T,i,I,!0)),n.notifyObservers(T,[i],{type:"remove"}),n.triggerDependenciesUpdate(T,i)}}n.notifyWatch([i])}}),Ce(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,d=r.value;n.updateValue(i,d);break}case"validateField":{var g=r.namePath,v=r.triggerName;n.validateFields([g],{triggerName:v});break}}}),Ce(this,"notifyObservers",function(r,i,d){if(n.subscribable){var g=Pe(Pe({},d),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(v){var S=v.onStoreChange;S(r,i,g)})}else n.forceRootUpdate()}),Ce(this,"triggerDependenciesUpdate",function(r,i){var d=n.getDependencyChildrenFields(i);return d.length&&n.validateFields(d),n.notifyObservers(r,d,{type:"dependenciesUpdate",relatedFields:[i].concat(Rt(d))}),d}),Ce(this,"updateValue",function(r,i){var d=Ki(r),g=n.store;n.updateStore(zl(n.store,d,i)),n.notifyObservers(g,[d],{type:"valueUpdate",source:"internal"}),n.notifyWatch([d]);var v=n.triggerDependenciesUpdate(g,d),S=n.callbacks.onValuesChange;if(S){var I=xF(n.store,[d]);S(I,n.getFieldsValue())}n.triggerOnFieldsChange([d].concat(Rt(v)))}),Ce(this,"setFieldsValue",function(r){n.warningUnhooked();var i=n.store;if(r){var d=Kv(n.store,r);n.updateStore(d)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),Ce(this,"setFieldValue",function(r,i){n.setFields([{name:r,value:i,errors:[],warnings:[]}])}),Ce(this,"getDependencyChildrenFields",function(r){var i=new Set,d=[],g=new Ov;n.getFieldEntities().forEach(function(S){var I=S.props.dependencies;(I||[]).forEach(function(T){var _=Ki(T);g.update(_,function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return N.add(S),N})})});var v=function S(I){var T=g.get(I)||new Set;T.forEach(function(_){if(!i.has(_)){i.add(_);var N=_.getNamePath();_.isFieldDirty()&&N.length&&(d.push(N),S(N))}})};return v(r),d}),Ce(this,"triggerOnFieldsChange",function(r,i){var d=n.callbacks.onFieldsChange;if(d){var g=n.getFields();if(i){var v=new Ov;i.forEach(function(I){var T=I.name,_=I.errors;v.set(T,_)}),g.forEach(function(I){I.errors=v.get(I.name)||I.errors})}var S=g.filter(function(I){var T=I.name;return iy(r,T)});S.length&&d(S,g)}}),Ce(this,"validateFields",function(r,i){n.warningUnhooked();var d,g;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(d=r,g=i):g=r;var v=!!d,S=v?d.map(Ki):[],I=[],T=String(Date.now()),_=new Set,N=g||{},A=N.recursive,w=N.dirty;n.getFieldEntities(!0).forEach(function(j){if(v||S.push(j.getNamePath()),!(!j.props.rules||!j.props.rules.length)&&!(w&&!j.isFieldDirty())){var L=j.getNamePath();if(_.add(L.join(T)),!v||iy(S,L,A)){var U=j.validateRules(Pe({validateMessages:Pe(Pe({},sW),n.validateMessages)},g));I.push(U.then(function(){return{name:L,errors:[],warnings:[]}}).catch(function($){var F,z=[],H=[];return(F=$.forEach)===null||F===void 0||F.call($,function(V){var K=V.rule.warningOnly,J=V.errors;K?H.push.apply(H,Rt(J)):z.push.apply(z,Rt(J))}),z.length?Promise.reject({name:L,errors:z,warnings:H}):{name:L,errors:z,warnings:H}}))}}});var O=_me(I);n.lastValidatePromise=O,O.catch(function(j){return j}).then(function(j){var L=j.map(function(U){var $=U.name;return $});n.notifyObservers(n.store,L,{type:"validateFinish"}),n.triggerOnFieldsChange(L,j)});var R=O.then(function(){return n.lastValidatePromise===O?Promise.resolve(n.getFieldsValue(S)):Promise.reject([])}).catch(function(j){var L=j.filter(function(U){return U&&U.errors.length});return Promise.reject({values:n.getFieldsValue(S),errorFields:L,outOfDate:n.lastValidatePromise!==O})});R.catch(function(j){return j});var D=S.filter(function(j){return _.has(j.join(T))});return n.triggerOnFieldsChange(D),R}),Ce(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(d){console.error(d)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=t});function wD(e){var t=E.useRef(),n=E.useState({}),r=at(n,2),i=r[1];if(!t.current)if(e)t.current=e;else{var d=function(){i({})},g=new wme(d);t.current=g.getForm()}return[t.current]}var oP=E.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),dW=function(t){var n=t.validateMessages,r=t.onFormChange,i=t.onFormFinish,d=t.children,g=E.useContext(oP),v=E.useRef({});return E.createElement(oP.Provider,{value:Pe(Pe({},g),{},{validateMessages:Pe(Pe({},g.validateMessages),n),triggerFormChange:function(I,T){r&&r(I,{changedFields:T,forms:v.current}),g.triggerFormChange(I,T)},triggerFormFinish:function(I,T){i&&i(I,{values:T,forms:v.current}),g.triggerFormFinish(I,T)},registerForm:function(I,T){I&&(v.current=Pe(Pe({},v.current),{},Ce({},I,T))),g.registerForm(I,T)},unregisterForm:function(I){var T=Pe({},v.current);delete T[I],v.current=T,g.unregisterForm(I)}})},d)},Nme=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Rme=function(t,n){var r=t.name,i=t.initialValues,d=t.fields,g=t.form,v=t.preserve,S=t.children,I=t.component,T=I===void 0?"form":I,_=t.validateMessages,N=t.validateTrigger,A=N===void 0?"onChange":N,w=t.onValuesChange,O=t.onFieldsChange,R=t.onFinish,D=t.onFinishFailed,j=t.clearOnDestroy,L=ir(t,Nme),U=E.useRef(null),$=E.useContext(oP),F=wD(g),z=at(F,1),H=z[0],V=H.getInternalHooks(ag),K=V.useSubscribe,J=V.setInitialValues,te=V.setCallbacks,Z=V.setValidateMessages,X=V.setPreserve,re=V.destroyForm;E.useImperativeHandle(n,function(){return Pe(Pe({},H),{},{nativeElement:U.current})}),E.useEffect(function(){return $.registerForm(r,H),function(){$.unregisterForm(r)}},[$,H,r]),Z(Pe(Pe({},$.validateMessages),_)),te({onValuesChange:w,onFieldsChange:function(pe){if($.triggerFormChange(r,pe),O){for(var fe=arguments.length,_e=new Array(fe>1?fe-1:0),Te=1;Te<fe;Te++)_e[Te-1]=arguments[Te];O.apply(void 0,[pe].concat(_e))}},onFinish:function(pe){$.triggerFormFinish(r,pe),R&&R(pe)},onFinishFailed:D}),X(v);var ee=E.useRef(null);J(i,!ee.current),ee.current||(ee.current=!0),E.useEffect(function(){return function(){return re(j)}},[]);var ae,de=typeof S=="function";if(de){var he=H.getFieldsValue(!0);ae=S(he,H)}else ae=S;K(!de);var ue=E.useRef();E.useEffect(function(){Cme(ue.current||[],d||[])||H.setFields(d||[]),ue.current=d},[d,H]);var ye=E.useMemo(function(){return Pe(Pe({},H),{},{validateTrigger:A})},[H,A]),be=E.createElement(o0.Provider,{value:null},E.createElement(gg.Provider,{value:ye},ae));return T===!1?be:E.createElement(T,kt({},L,{ref:U,onSubmit:function(pe){pe.preventDefault(),pe.stopPropagation(),H.submit()},onReset:function(pe){var fe;pe.preventDefault(),H.resetFields(),(fe=L.onReset)===null||fe===void 0||fe.call(L,pe)}}),be)};function NF(e){try{return JSON.stringify(e)}catch{return Math.random()}}function pW(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],d=i===void 0?{}:i,g=Bpe(d)?{form:d}:d,v=g.form,S=E.useState(),I=at(S,2),T=I[0],_=I[1],N=E.useMemo(function(){return NF(T)},[T]),A=E.useRef(N);A.current=N;var w=E.useContext(gg),O=v||w,R=O&&O._init,D=Ki(r),j=E.useRef(D);return j.current=D,E.useEffect(function(){if(R){var L=O.getFieldsValue,U=O.getInternalHooks,$=U(ag),F=$.registerWatch,z=function(J,te){var Z=g.preserve?te:J;return typeof r=="function"?r(Z):_s(Z,j.current)},H=F(function(K,J){var te=z(K,J),Z=NF(te);A.current!==Z&&(A.current=Z,_(te))}),V=z(L(),L(!0));return T!==V&&_(V),H}},[R]),T}var Ame=E.forwardRef(Rme),My=Ame;My.FormProvider=dW;My.Field=xD;My.List=cW;My.useForm=wD;My.useWatch=pW;const Ld=E.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),mW=E.createContext(null),fW=e=>{const t=ri(e,["prefixCls"]);return E.createElement(dW,Object.assign({},t))},ND=E.createContext({prefixCls:""}),$o=E.createContext({}),Ome=({children:e,status:t,override:n})=>{const r=E.useContext($o),i=E.useMemo(()=>{const d=Object.assign({},r);return n&&delete d.isFormItemInput,t&&(delete d.status,delete d.hasFeedback,delete d.feedbackIcon),d},[t,n,r]);return E.createElement($o.Provider,{value:i},e)},gW=E.createContext(void 0),gy=e=>{const{space:t,form:n,children:r}=e;if(r==null)return null;let i=r;return n&&(i=Xe.createElement(Ome,{override:!0,status:!0},i)),t&&(i=Xe.createElement(dde,null,i)),i};function s0(...e){const t={};return e.forEach(n=>{n&&Object.keys(n).forEach(r=>{n[r]!==void 0&&(t[r]=n[r])})}),t}function RF(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function AF(e){const{closable:t,closeIcon:n}=e||{};return Xe.useMemo(()=>{if(!t&&(t===!1||n===!1||n===null))return!1;if(t===void 0&&n===void 0)return null;let r={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return t&&typeof t=="object"&&(r=Object.assign(Object.assign({},r),t)),r},[t,n])}const kme={};function Lme(e,t,n=kme){const r=AF(e),i=AF(t),[d]=Tm("global",Tu.global),g=typeof r!="boolean"?!!(r!=null&&r.disabled):!1,v=Xe.useMemo(()=>Object.assign({closeIcon:Xe.createElement(Ty,null)},n),[n]),S=Xe.useMemo(()=>r===!1?!1:r?s0(v,i,r):i===!1?!1:i?s0(v,i):v.closable?v:!1,[r,i,v]);return Xe.useMemo(()=>{if(S===!1)return[!1,null,g,{}];const{closeIconRender:I}=v,{closeIcon:T}=S;let _=T;const N=ws(S,!0);return _!=null&&(I&&(_=I(T)),_=Xe.isValidElement(_)?Xe.cloneElement(_,Object.assign({"aria-label":d.close},N)):Xe.createElement("span",Object.assign({"aria-label":d.close},N),_)),[!0,_,g,N]},[S,v])}var hW=function(t){if(jo()&&window.document.documentElement){var n=Array.isArray(t)?t:[t],r=window.document.documentElement;return n.some(function(i){return i in r.style})}return!1},Pme=function(t,n){if(!hW(t))return!1;var r=document.createElement("div"),i=r.style[t];return r.style[t]=n,r.style[t]!==i};function sP(e,t){return!Array.isArray(e)&&t!==void 0?Pme(e,t):hW(e)}const y_=e=>{const{prefixCls:t,className:n,style:r,size:i,shape:d}=e,g=Ue({[`${t}-lg`]:i==="large",[`${t}-sm`]:i==="small"}),v=Ue({[`${t}-circle`]:d==="circle",[`${t}-square`]:d==="square",[`${t}-round`]:d==="round"}),S=E.useMemo(()=>typeof i=="number"?{width:i,height:i,lineHeight:`${i}px`}:{},[i]);return E.createElement("span",{className:Ue(t,g,v,n),style:Object.assign(Object.assign({},S),r)})},Dme=new ca("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),b_=e=>({height:e,lineHeight:Le(e)}),oy=e=>Object.assign({width:e},b_(e)),jme=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Dme,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),rN=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},b_(e)),Vme=e=>{const{skeletonAvatarCls:t,gradientFromColor:n,controlHeight:r,controlHeightLG:i,controlHeightSM:d}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},oy(r)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},oy(i)),[`${t}${t}-sm`]:Object.assign({},oy(d))}},$me=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:i,controlHeightSM:d,gradientFromColor:g,calc:v}=e;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:g,borderRadius:n},rN(t,v)),[`${r}-lg`]:Object.assign({},rN(i,v)),[`${r}-sm`]:Object.assign({},rN(d,v))}},OF=e=>Object.assign({width:e},b_(e)),Ume=e=>{const{skeletonImageCls:t,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:i,calc:d}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:i},OF(d(n).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},OF(n)),{maxWidth:d(n).mul(4).equal(),maxHeight:d(n).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},aN=(e,t,n)=>{const{skeletonButtonCls:r}=e;return{[`${n}${r}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:t}}},iN=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},b_(e)),Bme=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:r,controlHeightLG:i,controlHeightSM:d,gradientFromColor:g,calc:v}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:g,borderRadius:t,width:v(r).mul(2).equal(),minWidth:v(r).mul(2).equal()},iN(r,v))},aN(e,r,n)),{[`${n}-lg`]:Object.assign({},iN(i,v))}),aN(e,i,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},iN(d,v))}),aN(e,d,`${n}-sm`))},Fme=e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:i,skeletonButtonCls:d,skeletonInputCls:g,skeletonImageCls:v,controlHeight:S,controlHeightLG:I,controlHeightSM:T,gradientFromColor:_,padding:N,marginSM:A,borderRadius:w,titleHeight:O,blockRadius:R,paragraphLiHeight:D,controlHeightXS:j,paragraphMarginTop:L}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:N,verticalAlign:"top",[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:_},oy(S)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},oy(I)),[`${n}-sm`]:Object.assign({},oy(T))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:O,background:_,borderRadius:R,[`+ ${i}`]:{marginBlockStart:T}},[i]:{padding:0,"> li":{width:"100%",height:D,listStyle:"none",background:_,borderRadius:R,"+ li":{marginBlockStart:j}}},[`${i}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${r}, ${i} > li`]:{borderRadius:w}}},[`${t}-with-avatar ${t}-content`]:{[r]:{marginBlockStart:A,[`+ ${i}`]:{marginBlockStart:L}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Bme(e)),Vme(e)),$me(e)),Ume(e)),[`${t}${t}-block`]:{width:"100%",[d]:{width:"100%"},[g]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${r},
        ${i} > li,
        ${n},
        ${d},
        ${g},
        ${v}
      `]:Object.assign({},jme(e))}}},qme=e=>{const{colorFillContent:t,colorFill:n}=e,r=t,i=n;return{color:r,colorGradientEnd:i,gradientFromColor:r,gradientToColor:i,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},_y=fa("Skeleton",e=>{const{componentCls:t,calc:n}=e,r=qr(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:n(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Fme(r)]},qme,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),zme=e=>{const{prefixCls:t,className:n,rootClassName:r,active:i,shape:d="circle",size:g="default"}=e,{getPrefixCls:v}=E.useContext(rr),S=v("skeleton",t),[I,T,_]=_y(S),N=ri(e,["prefixCls","className"]),A=Ue(S,`${S}-element`,{[`${S}-active`]:i},n,r,T,_);return I(E.createElement("div",{className:A},E.createElement(y_,Object.assign({prefixCls:`${S}-avatar`,shape:d,size:g},N))))},Hme=e=>{const{prefixCls:t,className:n,rootClassName:r,active:i,block:d=!1,size:g="default"}=e,{getPrefixCls:v}=E.useContext(rr),S=v("skeleton",t),[I,T,_]=_y(S),N=ri(e,["prefixCls"]),A=Ue(S,`${S}-element`,{[`${S}-active`]:i,[`${S}-block`]:d},n,r,T,_);return I(E.createElement("div",{className:A},E.createElement(y_,Object.assign({prefixCls:`${S}-button`,size:g},N))))},Gme="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Kme=e=>{const{prefixCls:t,className:n,rootClassName:r,style:i,active:d}=e,{getPrefixCls:g}=E.useContext(rr),v=g("skeleton",t),[S,I,T]=_y(v),_=Ue(v,`${v}-element`,{[`${v}-active`]:d},n,r,I,T);return S(E.createElement("div",{className:_},E.createElement("div",{className:Ue(`${v}-image`,n),style:i},E.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${v}-image-svg`},E.createElement("title",null,"Image placeholder"),E.createElement("path",{d:Gme,className:`${v}-image-path`})))))},Wme=e=>{const{prefixCls:t,className:n,rootClassName:r,active:i,block:d,size:g="default"}=e,{getPrefixCls:v}=E.useContext(rr),S=v("skeleton",t),[I,T,_]=_y(S),N=ri(e,["prefixCls"]),A=Ue(S,`${S}-element`,{[`${S}-active`]:i,[`${S}-block`]:d},n,r,T,_);return I(E.createElement("div",{className:A},E.createElement(y_,Object.assign({prefixCls:`${S}-input`,size:g},N))))},Yme=e=>{const{prefixCls:t,className:n,rootClassName:r,style:i,active:d,children:g}=e,{getPrefixCls:v}=E.useContext(rr),S=v("skeleton",t),[I,T,_]=_y(S),N=Ue(S,`${S}-element`,{[`${S}-active`]:d},T,n,r,_);return I(E.createElement("div",{className:N},E.createElement("div",{className:Ue(`${S}-image`,n),style:i},g)))},Xme=(e,t)=>{const{width:n,rows:r=2}=t;if(Array.isArray(n))return n[e];if(r-1===e)return n},Jme=e=>{const{prefixCls:t,className:n,style:r,rows:i=0}=e,d=Array.from({length:i}).map((g,v)=>E.createElement("li",{key:v,style:{width:Xme(v,e)}}));return E.createElement("ul",{className:Ue(t,n),style:r},d)},Qme=({prefixCls:e,className:t,width:n,style:r})=>E.createElement("h3",{className:Ue(e,t),style:Object.assign({width:n},r)});function oN(e){return e&&typeof e=="object"?e:{}}function Zme(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function efe(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function tfe(e,t){const n={};return(!e||!t)&&(n.width="61%"),!e&&t?n.rows=3:n.rows=2,n}const xy=e=>{const{prefixCls:t,loading:n,className:r,rootClassName:i,style:d,children:g,avatar:v=!1,title:S=!0,paragraph:I=!0,active:T,round:_}=e,{getPrefixCls:N,direction:A,className:w,style:O}=Fo("skeleton"),R=N("skeleton",t),[D,j,L]=_y(R);if(n||!("loading"in e)){const U=!!v,$=!!S,F=!!I;let z;if(U){const K=Object.assign(Object.assign({prefixCls:`${R}-avatar`},Zme($,F)),oN(v));z=E.createElement("div",{className:`${R}-header`},E.createElement(y_,Object.assign({},K)))}let H;if($||F){let K;if($){const te=Object.assign(Object.assign({prefixCls:`${R}-title`},efe(U,F)),oN(S));K=E.createElement(Qme,Object.assign({},te))}let J;if(F){const te=Object.assign(Object.assign({prefixCls:`${R}-paragraph`},tfe(U,$)),oN(I));J=E.createElement(Jme,Object.assign({},te))}H=E.createElement("div",{className:`${R}-content`},K,J)}const V=Ue(R,{[`${R}-with-avatar`]:U,[`${R}-active`]:T,[`${R}-rtl`]:A==="rtl",[`${R}-round`]:_},w,r,i,j,L);return D(E.createElement("div",{className:V,style:Object.assign(Object.assign({},O),d)},z,H))}return g??null};xy.Button=Hme;xy.Avatar=zme;xy.Input=Wme;xy.Image=Kme;xy.Node=Yme;const nfe=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},rfe=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},afe=(e,t)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=e,d={};for(let g=i;g>=0;g--)g===0?(d[`${r}${t}-${g}`]={display:"none"},d[`${r}-push-${g}`]={insetInlineStart:"auto"},d[`${r}-pull-${g}`]={insetInlineEnd:"auto"},d[`${r}${t}-push-${g}`]={insetInlineStart:"auto"},d[`${r}${t}-pull-${g}`]={insetInlineEnd:"auto"},d[`${r}${t}-offset-${g}`]={marginInlineStart:0},d[`${r}${t}-order-${g}`]={order:0}):(d[`${r}${t}-${g}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${g/i*100}%`,maxWidth:`${g/i*100}%`}],d[`${r}${t}-push-${g}`]={insetInlineStart:`${g/i*100}%`},d[`${r}${t}-pull-${g}`]={insetInlineEnd:`${g/i*100}%`},d[`${r}${t}-offset-${g}`]={marginInlineStart:`${g/i*100}%`},d[`${r}${t}-order-${g}`]={order:g});return d[`${r}${t}-flex`]={flex:`var(--${n}${t}-flex)`},d},lP=(e,t)=>afe(e,t),ife=(e,t,n)=>({[`@media (min-width: ${Le(t)})`]:Object.assign({},lP(e,n))}),ofe=()=>({}),sfe=()=>({}),lfe=fa("Grid",nfe,ofe),cfe=e=>({xs:e.screenXSMin,sm:e.screenSMMin,md:e.screenMDMin,lg:e.screenLGMin,xl:e.screenXLMin,xxl:e.screenXXLMin}),ufe=fa("Grid",e=>{const t=qr(e,{gridColumns:24}),n=cfe(t);return delete n.xs,[rfe(t),lP(t,""),lP(t,"-xs"),Object.keys(n).map(r=>ife(t,n[r],`-${r}`)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]},sfe),dfe=Xe.createContext({});function pfe(e){return t=>E.createElement(Mm,{theme:{token:{motion:!1,zIndexPopupBase:0}}},E.createElement(e,Object.assign({},t)))}const vW=(e,t,n,r,i)=>pfe(g=>{const{prefixCls:v,style:S}=g,I=E.useRef(null),[T,_]=E.useState(0),[N,A]=E.useState(0),[w,O]=Si(!1,{value:g.open}),{getPrefixCls:R}=E.useContext(rr),D=R(r||"select",v);E.useEffect(()=>{if(O(!0),typeof ResizeObserver<"u"){const U=new ResizeObserver(F=>{const z=F[0].target;_(z.offsetHeight+8),A(z.offsetWidth)}),$=setInterval(()=>{var F;const z=i?`.${i(D)}`:`.${D}-dropdown`,H=(F=I.current)===null||F===void 0?void 0:F.querySelector(z);H&&(clearInterval($),U.observe(H))},10);return()=>{clearInterval($),U.disconnect()}}},[]);let j=Object.assign(Object.assign({},g),{style:Object.assign(Object.assign({},S),{margin:0}),open:w,visible:w,getPopupContainer:()=>I.current});t&&Object.assign(j,{[t]:{overflow:{adjustX:!1,adjustY:!1}}});const L={paddingBottom:T,position:"relative",minWidth:N};return E.createElement("div",{ref:I,style:L},E.createElement(e,Object.assign({},j)))}),S_=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var I_=function(t){var n=t.className,r=t.customizeIcon,i=t.customizeIconProps,d=t.children,g=t.onMouseDown,v=t.onClick,S=typeof r=="function"?r(i):r;return E.createElement("span",{className:n,onMouseDown:function(T){T.preventDefault(),g==null||g(T)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:v,"aria-hidden":!0},S!==void 0?S:E.createElement("span",{className:Ue(n.split(/\s+/).map(function(I){return"".concat(I,"-icon")}))},d))},mfe=function(t,n,r,i,d){var g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,v=arguments.length>6?arguments[6]:void 0,S=arguments.length>7?arguments[7]:void 0,I=Xe.useMemo(function(){if(qn(i)==="object")return i.clearIcon;if(d)return d},[i,d]),T=Xe.useMemo(function(){return!!(!g&&i&&(r.length||v)&&!(S==="combobox"&&v===""))},[i,g,r.length,v,S]);return{allowClear:T,clearIcon:Xe.createElement(I_,{className:"".concat(t,"-clear"),onMouseDown:n,customizeIcon:I},"×")}},yW=E.createContext(null);function ffe(){return E.useContext(yW)}function gfe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,t=E.useState(!1),n=at(t,2),r=n[0],i=n[1],d=E.useRef(null),g=function(){window.clearTimeout(d.current)};E.useEffect(function(){return g},[]);var v=function(I,T){g(),d.current=window.setTimeout(function(){i(I),T&&T()},e)};return[r,v,g]}function bW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,t=E.useRef(null),n=E.useRef(null);E.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(i){(i||t.current===null)&&(t.current=i),window.clearTimeout(n.current),n.current=window.setTimeout(function(){t.current=null},e)}return[function(){return t.current},r]}function hfe(e,t,n,r){var i=E.useRef(null);i.current={open:t,triggerOpen:n,customizedTrigger:r},E.useEffect(function(){function d(g){var v;if(!((v=i.current)!==null&&v!==void 0&&v.customizedTrigger)){var S=g.target;S.shadowRoot&&g.composed&&(S=g.composedPath()[0]||S),i.current.open&&e().filter(function(I){return I}).every(function(I){return!I.contains(S)&&I!==S})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",d),function(){return window.removeEventListener("mousedown",d)}},[])}function vfe(e){return e&&![Vn.ESC,Vn.SHIFT,Vn.BACKSPACE,Vn.TAB,Vn.WIN_KEY,Vn.ALT,Vn.META,Vn.WIN_KEY_RIGHT,Vn.CTRL,Vn.SEMICOLON,Vn.EQUALS,Vn.CAPS_LOCK,Vn.CONTEXT_MENU,Vn.F1,Vn.F2,Vn.F3,Vn.F4,Vn.F5,Vn.F6,Vn.F7,Vn.F8,Vn.F9,Vn.F10,Vn.F11,Vn.F12].includes(e)}var yfe=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],kv=void 0;function bfe(e,t){var n=e.prefixCls,r=e.invalidate,i=e.item,d=e.renderItem,g=e.responsive,v=e.responsiveDisabled,S=e.registerSize,I=e.itemKey,T=e.className,_=e.style,N=e.children,A=e.display,w=e.order,O=e.component,R=O===void 0?"div":O,D=ir(e,yfe),j=g&&!A;function L(H){S(I,H)}E.useEffect(function(){return function(){L(null)}},[]);var U=d&&i!==kv?d(i,{index:w}):N,$;r||($={opacity:j?0:1,height:j?0:kv,overflowY:j?"hidden":kv,order:g?w:kv,pointerEvents:j?"none":kv,position:j?"absolute":kv});var F={};j&&(F["aria-hidden"]=!0);var z=E.createElement(R,kt({className:Ue(!r&&n,T),style:Pe(Pe({},$),_)},F,D,{ref:t}),U);return g&&(z=E.createElement(Do,{onResize:function(V){var K=V.offsetWidth;L(K)},disabled:v},z)),z}var BI=E.forwardRef(bfe);BI.displayName="Item";function Sfe(e){if(typeof MessageChannel>"u")Fr(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}function Ife(){var e=E.useRef(null),t=function(r){e.current||(e.current=[],Sfe(function(){Ac.unstable_batchedUpdates(function(){e.current.forEach(function(i){i()}),e.current=null})})),e.current.push(r)};return t}function fI(e,t){var n=E.useState(t),r=at(n,2),i=r[0],d=r[1],g=xa(function(v){e(function(){d(v)})});return[i,g]}var LM=Xe.createContext(null),Efe=["component"],Cfe=["className"],Tfe=["className"],Mfe=function(t,n){var r=E.useContext(LM);if(!r){var i=t.component,d=i===void 0?"div":i,g=ir(t,Efe);return E.createElement(d,kt({},g,{ref:n}))}var v=r.className,S=ir(r,Cfe),I=t.className,T=ir(t,Tfe);return E.createElement(LM.Provider,{value:null},E.createElement(BI,kt({ref:n,className:Ue(v,I)},S,T)))},SW=E.forwardRef(Mfe);SW.displayName="RawItem";var _fe=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],IW="responsive",EW="invalidate";function xfe(e){return"+ ".concat(e.length," ...")}function wfe(e,t){var n=e.prefixCls,r=n===void 0?"rc-overflow":n,i=e.data,d=i===void 0?[]:i,g=e.renderItem,v=e.renderRawItem,S=e.itemKey,I=e.itemWidth,T=I===void 0?10:I,_=e.ssr,N=e.style,A=e.className,w=e.maxCount,O=e.renderRest,R=e.renderRawRest,D=e.suffix,j=e.component,L=j===void 0?"div":j,U=e.itemComponent,$=e.onVisibleChange,F=ir(e,_fe),z=_==="full",H=Ife(),V=fI(H,null),K=at(V,2),J=K[0],te=K[1],Z=J||0,X=fI(H,new Map),re=at(X,2),ee=re[0],ae=re[1],de=fI(H,0),he=at(de,2),ue=he[0],ye=he[1],be=fI(H,0),oe=at(be,2),pe=oe[0],fe=oe[1],_e=fI(H,0),Te=at(_e,2),Se=Te[0],De=Te[1],je=E.useState(null),ke=at(je,2),Oe=ke[0],Ne=ke[1],qe=E.useState(null),Ke=at(qe,2),He=Ke[0],nt=Ke[1],Je=E.useMemo(function(){return He===null&&z?Number.MAX_SAFE_INTEGER:He||0},[He,J]),ut=E.useState(!1),lt=at(ut,2),et=lt[0],Ye=lt[1],pt="".concat(r,"-item"),ct=Math.max(ue,pe),xt=w===IW,jt=d.length&&xt,Ut=w===EW,Vt=jt||typeof w=="number"&&d.length>w,wt=E.useMemo(function(){var En=d;return jt?J===null&&z?En=d:En=d.slice(0,Math.min(d.length,Z/T)):typeof w=="number"&&(En=d.slice(0,w)),En},[d,T,J,w,jt]),Bt=E.useMemo(function(){return jt?d.slice(Je+1):d.slice(wt.length)},[d,wt,jt,Je]),Pt=E.useCallback(function(En,Sn){var Qt;return typeof S=="function"?S(En):(Qt=S&&(En==null?void 0:En[S]))!==null&&Qt!==void 0?Qt:Sn},[S]),ot=E.useCallback(g||function(En){return En},[g]);function qt(En,Sn,Qt){He===En&&(Sn===void 0||Sn===Oe)||(nt(En),Qt||(Ye(En<d.length-1),$==null||$(En)),Sn!==void 0&&Ne(Sn))}function vt(En,Sn){te(Sn.clientWidth)}function bt(En,Sn){ae(function(Qt){var Rn=new Map(Qt);return Sn===null?Rn.delete(En):Rn.set(En,Sn),Rn})}function yt(En,Sn){fe(Sn),ye(pe)}function gt(En,Sn){De(Sn)}function Jt(En){return ee.get(Pt(wt[En],En))}Hr(function(){if(Z&&typeof ct=="number"&&wt){var En=Se,Sn=wt.length,Qt=Sn-1;if(!Sn){qt(0,null);return}for(var Rn=0;Rn<Sn;Rn+=1){var fn=Jt(Rn);if(z&&(fn=fn||0),fn===void 0){qt(Rn-1,void 0,!0);break}if(En+=fn,Qt===0&&En<=Z||Rn===Qt-1&&En+Jt(Qt)<=Z){qt(Qt,null);break}else if(En+ct>Z){qt(Rn-1,En-fn-Se+pe);break}}D&&Jt(0)+Se>Z&&Ne(null)}},[Z,ee,pe,Se,Pt,wt]);var bn=et&&!!Bt.length,Qn={};Oe!==null&&jt&&(Qn={position:"absolute",left:Oe,top:0});var Dn={prefixCls:pt,responsive:jt,component:U,invalidate:Ut},tn=v?function(En,Sn){var Qt=Pt(En,Sn);return E.createElement(LM.Provider,{key:Qt,value:Pe(Pe({},Dn),{},{order:Sn,item:En,itemKey:Qt,registerSize:bt,display:Sn<=Je})},v(En,Sn))}:function(En,Sn){var Qt=Pt(En,Sn);return E.createElement(BI,kt({},Dn,{order:Sn,key:Qt,item:En,renderItem:ot,itemKey:Qt,registerSize:bt,display:Sn<=Je}))},_n={order:bn?Je:Number.MAX_SAFE_INTEGER,className:"".concat(pt,"-rest"),registerSize:yt,display:bn},Fn=O||xfe,Wt=R?E.createElement(LM.Provider,{value:Pe(Pe({},Dn),_n)},R(Bt)):E.createElement(BI,kt({},Dn,_n),typeof Fn=="function"?Fn(Bt):Fn),xn=E.createElement(L,kt({className:Ue(!Ut&&r,A),style:N,ref:t},F),wt.map(tn),Vt?Wt:null,D&&E.createElement(BI,kt({},Dn,{responsive:xt,responsiveDisabled:!jt,order:Je,className:"".concat(pt,"-suffix"),registerSize:gt,display:!0,style:Qn}),D));return xt?E.createElement(Do,{onResize:vt,disabled:!jt},xn):xn}var Iu=E.forwardRef(wfe);Iu.displayName="Overflow";Iu.Item=SW;Iu.RESPONSIVE=IW;Iu.INVALIDATE=EW;function Nfe(e,t,n){var r=Pe(Pe({},e),t);return Object.keys(t).forEach(function(i){var d=t[i];typeof d=="function"&&(r[i]=function(){for(var g,v=arguments.length,S=new Array(v),I=0;I<v;I++)S[I]=arguments[I];return d.apply(void 0,S),(g=e[i])===null||g===void 0?void 0:g.call.apply(g,[e].concat(S))})}),r}var Rfe=["prefixCls","id","inputElement","autoFocus","autoComplete","editable","activeDescendantId","value","open","attrs"],Afe=function(t,n){var r=t.prefixCls,i=t.id,d=t.inputElement,g=t.autoFocus,v=t.autoComplete,S=t.editable,I=t.activeDescendantId,T=t.value,_=t.open,N=t.attrs,A=ir(t,Rfe),w=d||E.createElement("input",null),O=w,R=O.ref,D=O.props;return"maxLength"in w.props,w=E.cloneElement(w,Pe(Pe(Pe({type:"search"},Nfe(A,D)),{},{id:i,ref:Bo(n,R),autoComplete:v||"off",autoFocus:g,className:Ue("".concat(r,"-selection-search-input"),D==null?void 0:D.className),role:"combobox","aria-expanded":_||!1,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":_?I:void 0},N),{},{value:S?T:"",readOnly:!S,unselectable:S?null:"on",style:Pe(Pe({},D.style),{},{opacity:S?null:0})})),w},CW=E.forwardRef(Afe);function TW(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}var Ofe=typeof window<"u"&&window.document&&window.document.documentElement,kfe=Ofe;function Lfe(e){return e!=null}function Pfe(e){return!e&&e!==0}function kF(e){return["string","number"].includes(qn(e))}function MW(e){var t=void 0;return e&&(kF(e.title)?t=e.title.toString():kF(e.label)&&(t=e.label.toString())),t}function Dfe(e,t){kfe?E.useLayoutEffect(e,t):E.useEffect(e,t)}function jfe(e){var t;return(t=e.key)!==null&&t!==void 0?t:e.value}var LF=function(t){t.preventDefault(),t.stopPropagation()},Vfe=function(t){var n=t.id,r=t.prefixCls,i=t.values,d=t.open,g=t.searchValue,v=t.autoClearSearchValue,S=t.inputRef,I=t.placeholder,T=t.disabled,_=t.mode,N=t.showSearch,A=t.autoFocus,w=t.autoComplete,O=t.activeDescendantId,R=t.tabIndex,D=t.removeIcon,j=t.maxTagCount,L=t.maxTagTextLength,U=t.maxTagPlaceholder,$=U===void 0?function(qe){return"+ ".concat(qe.length," ...")}:U,F=t.tagRender,z=t.onToggleOpen,H=t.onRemove,V=t.onInputChange,K=t.onInputPaste,J=t.onInputKeyDown,te=t.onInputMouseDown,Z=t.onInputCompositionStart,X=t.onInputCompositionEnd,re=t.onInputBlur,ee=E.useRef(null),ae=E.useState(0),de=at(ae,2),he=de[0],ue=de[1],ye=E.useState(!1),be=at(ye,2),oe=be[0],pe=be[1],fe="".concat(r,"-selection"),_e=d||_==="multiple"&&v===!1||_==="tags"?g:"",Te=_==="tags"||_==="multiple"&&v===!1||N&&(d||oe);Dfe(function(){ue(ee.current.scrollWidth)},[_e]);var Se=function(Ke,He,nt,Je,ut){return E.createElement("span",{title:MW(Ke),className:Ue("".concat(fe,"-item"),Ce({},"".concat(fe,"-item-disabled"),nt))},E.createElement("span",{className:"".concat(fe,"-item-content")},He),Je&&E.createElement(I_,{className:"".concat(fe,"-item-remove"),onMouseDown:LF,onClick:ut,customizeIcon:D},"×"))},De=function(Ke,He,nt,Je,ut,lt){var et=function(pt){LF(pt),z(!d)};return E.createElement("span",{onMouseDown:et},F({label:He,value:Ke,disabled:nt,closable:Je,onClose:ut,isMaxTag:!!lt}))},je=function(Ke){var He=Ke.disabled,nt=Ke.label,Je=Ke.value,ut=!T&&!He,lt=nt;if(typeof L=="number"&&(typeof nt=="string"||typeof nt=="number")){var et=String(lt);et.length>L&&(lt="".concat(et.slice(0,L),"..."))}var Ye=function(ct){ct&&ct.stopPropagation(),H(Ke)};return typeof F=="function"?De(Je,lt,He,ut,Ye):Se(Ke,lt,He,ut,Ye)},ke=function(Ke){if(!i.length)return null;var He=typeof $=="function"?$(Ke):$;return typeof F=="function"?De(void 0,He,!1,!1,void 0,!0):Se({title:He},He,!1)},Oe=E.createElement("div",{className:"".concat(fe,"-search"),style:{width:he},onFocus:function(){pe(!0)},onBlur:function(){pe(!1)}},E.createElement(CW,{ref:S,open:d,prefixCls:r,id:n,inputElement:null,disabled:T,autoFocus:A,autoComplete:w,editable:Te,activeDescendantId:O,value:_e,onKeyDown:J,onMouseDown:te,onChange:V,onPaste:K,onCompositionStart:Z,onCompositionEnd:X,onBlur:re,tabIndex:R,attrs:ws(t,!0)}),E.createElement("span",{ref:ee,className:"".concat(fe,"-search-mirror"),"aria-hidden":!0},_e," ")),Ne=E.createElement(Iu,{prefixCls:"".concat(fe,"-overflow"),data:i,renderItem:je,renderRest:ke,suffix:Oe,itemKey:jfe,maxCount:j});return E.createElement("span",{className:"".concat(fe,"-wrap")},Ne,!i.length&&!_e&&E.createElement("span",{className:"".concat(fe,"-placeholder")},I))},$fe=function(t){var n=t.inputElement,r=t.prefixCls,i=t.id,d=t.inputRef,g=t.disabled,v=t.autoFocus,S=t.autoComplete,I=t.activeDescendantId,T=t.mode,_=t.open,N=t.values,A=t.placeholder,w=t.tabIndex,O=t.showSearch,R=t.searchValue,D=t.activeValue,j=t.maxLength,L=t.onInputKeyDown,U=t.onInputMouseDown,$=t.onInputChange,F=t.onInputPaste,z=t.onInputCompositionStart,H=t.onInputCompositionEnd,V=t.onInputBlur,K=t.title,J=E.useState(!1),te=at(J,2),Z=te[0],X=te[1],re=T==="combobox",ee=re||O,ae=N[0],de=R||"";re&&D&&!Z&&(de=D),E.useEffect(function(){re&&X(!1)},[re,D]);var he=T!=="combobox"&&!_&&!O?!1:!!de,ue=K===void 0?MW(ae):K,ye=E.useMemo(function(){return ae?null:E.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:he?{visibility:"hidden"}:void 0},A)},[ae,he,A,r]);return E.createElement("span",{className:"".concat(r,"-selection-wrap")},E.createElement("span",{className:"".concat(r,"-selection-search")},E.createElement(CW,{ref:d,prefixCls:r,id:i,open:_,inputElement:n,disabled:g,autoFocus:v,autoComplete:S,editable:ee,activeDescendantId:I,value:de,onKeyDown:L,onMouseDown:U,onChange:function(oe){X(!0),$(oe)},onPaste:F,onCompositionStart:z,onCompositionEnd:H,onBlur:V,tabIndex:w,attrs:ws(t,!0),maxLength:re?j:void 0})),!re&&ae?E.createElement("span",{className:"".concat(r,"-selection-item"),title:ue,style:he?{visibility:"hidden"}:void 0},ae.label):null,ye)},Ufe=function(t,n){var r=E.useRef(null),i=E.useRef(!1),d=t.prefixCls,g=t.open,v=t.mode,S=t.showSearch,I=t.tokenWithEnter,T=t.disabled,_=t.prefix,N=t.autoClearSearchValue,A=t.onSearch,w=t.onSearchSubmit,O=t.onToggleOpen,R=t.onInputKeyDown,D=t.onInputBlur,j=t.domRef;E.useImperativeHandle(n,function(){return{focus:function(ue){r.current.focus(ue)},blur:function(){r.current.blur()}}});var L=bW(0),U=at(L,2),$=U[0],F=U[1],z=function(ue){var ye=ue.which,be=r.current instanceof HTMLTextAreaElement;!be&&g&&(ye===Vn.UP||ye===Vn.DOWN)&&ue.preventDefault(),R&&R(ue),ye===Vn.ENTER&&v==="tags"&&!i.current&&!g&&(w==null||w(ue.target.value)),!(be&&!g&&~[Vn.UP,Vn.DOWN,Vn.LEFT,Vn.RIGHT].indexOf(ye))&&vfe(ye)&&O(!0)},H=function(){F(!0)},V=E.useRef(null),K=function(ue){A(ue,!0,i.current)!==!1&&O(!0)},J=function(){i.current=!0},te=function(ue){i.current=!1,v!=="combobox"&&K(ue.target.value)},Z=function(ue){var ye=ue.target.value;if(I&&V.current&&/[\r\n]/.test(V.current)){var be=V.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");ye=ye.replace(be,V.current)}V.current=null,K(ye)},X=function(ue){var ye=ue.clipboardData,be=ye==null?void 0:ye.getData("text");V.current=be||""},re=function(ue){var ye=ue.target;if(ye!==r.current){var be=document.body.style.msTouchAction!==void 0;be?setTimeout(function(){r.current.focus()}):r.current.focus()}},ee=function(ue){var ye=$();ue.target!==r.current&&!ye&&!(v==="combobox"&&T)&&ue.preventDefault(),(v!=="combobox"&&(!S||!ye)||!g)&&(g&&N!==!1&&A("",!0,!1),O())},ae={inputRef:r,onInputKeyDown:z,onInputMouseDown:H,onInputChange:Z,onInputPaste:X,onInputCompositionStart:J,onInputCompositionEnd:te,onInputBlur:D},de=v==="multiple"||v==="tags"?E.createElement(Vfe,kt({},t,ae)):E.createElement($fe,kt({},t,ae));return E.createElement("div",{ref:j,className:"".concat(d,"-selector"),onClick:re,onMouseDown:ee},_&&E.createElement("div",{className:"".concat(d,"-prefix")},_),de)},Bfe=E.forwardRef(Ufe);function Ffe(e){var t=e.prefixCls,n=e.align,r=e.arrow,i=e.arrowPos,d=r||{},g=d.className,v=d.content,S=i.x,I=S===void 0?0:S,T=i.y,_=T===void 0?0:T,N=E.useRef();if(!n||!n.points)return null;var A={position:"absolute"};if(n.autoArrow!==!1){var w=n.points[0],O=n.points[1],R=w[0],D=w[1],j=O[0],L=O[1];R===j||!["t","b"].includes(R)?A.top=_:R==="t"?A.top=0:A.bottom=0,D===L||!["l","r"].includes(D)?A.left=I:D==="l"?A.left=0:A.right=0}return E.createElement("div",{ref:N,className:Ue("".concat(t,"-arrow"),g),style:A},v)}function qfe(e){var t=e.prefixCls,n=e.open,r=e.zIndex,i=e.mask,d=e.motion;return i?E.createElement(Wl,kt({},d,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(g){var v=g.className;return E.createElement("div",{style:{zIndex:r},className:Ue("".concat(t,"-mask"),v)})}):null}var zfe=E.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),Hfe=E.forwardRef(function(e,t){var n=e.popup,r=e.className,i=e.prefixCls,d=e.style,g=e.target,v=e.onVisibleChanged,S=e.open,I=e.keepDom,T=e.fresh,_=e.onClick,N=e.mask,A=e.arrow,w=e.arrowPos,O=e.align,R=e.motion,D=e.maskMotion,j=e.forceRender,L=e.getPopupContainer,U=e.autoDestroy,$=e.portal,F=e.zIndex,z=e.onMouseEnter,H=e.onMouseLeave,V=e.onPointerEnter,K=e.onPointerDownCapture,J=e.ready,te=e.offsetX,Z=e.offsetY,X=e.offsetR,re=e.offsetB,ee=e.onAlign,ae=e.onPrepare,de=e.stretch,he=e.targetWidth,ue=e.targetHeight,ye=typeof n=="function"?n():n,be=S||I,oe=(L==null?void 0:L.length)>0,pe=E.useState(!L||!oe),fe=at(pe,2),_e=fe[0],Te=fe[1];if(Hr(function(){!_e&&oe&&g&&Te(!0)},[_e,oe,g]),!_e)return null;var Se="auto",De={left:"-1000vw",top:"-1000vh",right:Se,bottom:Se};if(J||!S){var je,ke=O.points,Oe=O.dynamicInset||((je=O._experimental)===null||je===void 0?void 0:je.dynamicInset),Ne=Oe&&ke[0][1]==="r",qe=Oe&&ke[0][0]==="b";Ne?(De.right=X,De.left=Se):(De.left=te,De.right=Se),qe?(De.bottom=re,De.top=Se):(De.top=Z,De.bottom=Se)}var Ke={};return de&&(de.includes("height")&&ue?Ke.height=ue:de.includes("minHeight")&&ue&&(Ke.minHeight=ue),de.includes("width")&&he?Ke.width=he:de.includes("minWidth")&&he&&(Ke.minWidth=he)),S||(Ke.pointerEvents="none"),E.createElement($,{open:j||be,getContainer:L&&function(){return L(g)},autoDestroy:U},E.createElement(qfe,{prefixCls:i,open:S,zIndex:F,mask:N,motion:D}),E.createElement(Do,{onResize:ee,disabled:!S},function(He){return E.createElement(Wl,kt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:j,leavedClassName:"".concat(i,"-hidden")},R,{onAppearPrepare:ae,onEnterPrepare:ae,visible:S,onVisibleChanged:function(Je){var ut;R==null||(ut=R.onVisibleChanged)===null||ut===void 0||ut.call(R,Je),v(Je)}}),function(nt,Je){var ut=nt.className,lt=nt.style,et=Ue(i,ut,r);return E.createElement("div",{ref:Bo(He,t,Je),className:et,style:Pe(Pe(Pe(Pe({"--arrow-x":"".concat(w.x||0,"px"),"--arrow-y":"".concat(w.y||0,"px")},De),Ke),lt),{},{boxSizing:"border-box",zIndex:F},d),onMouseEnter:z,onMouseLeave:H,onPointerEnter:V,onClick:_,onPointerDownCapture:K},A&&E.createElement(Ffe,{prefixCls:i,arrow:A,arrowPos:w,align:O}),E.createElement(zfe,{cache:!S&&!T},ye))})}))}),Gfe=E.forwardRef(function(e,t){var n=e.children,r=e.getTriggerDOMNode,i=Oc(n),d=E.useCallback(function(v){YI(t,r?r(v):v)},[r]),g=Im(d,Em(n));return i?E.cloneElement(n,{ref:g}):n}),PF=E.createContext(null);function DF(e){return e?Array.isArray(e)?e:[e]:[]}function Kfe(e,t,n,r){return E.useMemo(function(){var i=DF(n??t),d=DF(r??t),g=new Set(i),v=new Set(d);return e&&(g.has("hover")&&(g.delete("hover"),g.add("click")),v.has("hover")&&(v.delete("hover"),v.add("click"))),[g,v]},[e,t,n,r])}function Wfe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Yfe(e,t,n,r){for(var i=n.points,d=Object.keys(e),g=0;g<d.length;g+=1){var v,S=d[g];if(Wfe((v=e[S])===null||v===void 0?void 0:v.points,i,r))return"".concat(t,"-placement-").concat(S)}return""}function jF(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function _0(e){return e.ownerDocument.defaultView}function cP(e){for(var t=[],n=e==null?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=_0(n).getComputedStyle(n),d=i.overflowX,g=i.overflowY,v=i.overflow;[d,g,v].some(function(S){return r.includes(S)})&&t.push(n),n=n.parentElement}return t}function l0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function gI(e){return l0(parseFloat(e),0)}function VF(e,t){var n=Pe({},e);return(t||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=_0(r).getComputedStyle(r),d=i.overflow,g=i.overflowClipMargin,v=i.borderTopWidth,S=i.borderBottomWidth,I=i.borderLeftWidth,T=i.borderRightWidth,_=r.getBoundingClientRect(),N=r.offsetHeight,A=r.clientHeight,w=r.offsetWidth,O=r.clientWidth,R=gI(v),D=gI(S),j=gI(I),L=gI(T),U=l0(Math.round(_.width/w*1e3)/1e3),$=l0(Math.round(_.height/N*1e3)/1e3),F=(w-O-j-L)*U,z=(N-A-R-D)*$,H=R*$,V=D*$,K=j*U,J=L*U,te=0,Z=0;if(d==="clip"){var X=gI(g);te=X*U,Z=X*$}var re=_.x+K-te,ee=_.y+H-Z,ae=re+_.width+2*te-K-J-F,de=ee+_.height+2*Z-H-V-z;n.left=Math.max(n.left,re),n.top=Math.max(n.top,ee),n.right=Math.min(n.right,ae),n.bottom=Math.min(n.bottom,de)}}),n}function $F(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(t),r=n.match(/^(.*)\%$/);return r?e*(parseFloat(r[1])/100):parseFloat(n)}function UF(e,t){var n=t||[],r=at(n,2),i=r[0],d=r[1];return[$F(e.width,i),$F(e.height,d)]}function BF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function Lv(e,t){var n=t[0],r=t[1],i,d;return n==="t"?d=e.y:n==="b"?d=e.y+e.height:d=e.y+e.height/2,r==="l"?i=e.x:r==="r"?i=e.x+e.width:i=e.x+e.width/2,{x:i,y:d}}function am(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(r,i){return i===t?n[r]||"c":r}).join("")}function Xfe(e,t,n,r,i,d,g){var v=E.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),S=at(v,2),I=S[0],T=S[1],_=E.useRef(0),N=E.useMemo(function(){return t?cP(t):[]},[t]),A=E.useRef({}),w=function(){A.current={}};e||w();var O=xa(function(){if(t&&n&&e){let Fa=function(Bi,so){var Ai=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xt,Nu=be.x+Bi,Li=be.y+so,Wn=Nu+qe,Ir=Li+Ne,ga=Math.max(Nu,Ai.left),na=Math.max(Li,Ai.top),da=Math.min(Wn,Ai.right),Rs=Math.min(Ir,Ai.bottom);return Math.max(0,(da-ga)*(Rs-na))},gi=function(){Ar=be.y+Rn,nn=Ar+Ne,jr=be.x+Qt,Ur=jr+qe};var Ba=Fa,yo=gi,j,L,U,$,F=t,z=F.ownerDocument,H=_0(F),V=H.getComputedStyle(F),K=V.position,J=F.style.left,te=F.style.top,Z=F.style.right,X=F.style.bottom,re=F.style.overflow,ee=Pe(Pe({},i[r]),d),ae=z.createElement("div");(j=F.parentElement)===null||j===void 0||j.appendChild(ae),ae.style.left="".concat(F.offsetLeft,"px"),ae.style.top="".concat(F.offsetTop,"px"),ae.style.position=K,ae.style.height="".concat(F.offsetHeight,"px"),ae.style.width="".concat(F.offsetWidth,"px"),F.style.left="0",F.style.top="0",F.style.right="auto",F.style.bottom="auto",F.style.overflow="hidden";var de;if(Array.isArray(n))de={x:n[0],y:n[1],width:0,height:0};else{var he,ue,ye=n.getBoundingClientRect();ye.x=(he=ye.x)!==null&&he!==void 0?he:ye.left,ye.y=(ue=ye.y)!==null&&ue!==void 0?ue:ye.top,de={x:ye.x,y:ye.y,width:ye.width,height:ye.height}}var be=F.getBoundingClientRect(),oe=H.getComputedStyle(F),pe=oe.height,fe=oe.width;be.x=(L=be.x)!==null&&L!==void 0?L:be.left,be.y=(U=be.y)!==null&&U!==void 0?U:be.top;var _e=z.documentElement,Te=_e.clientWidth,Se=_e.clientHeight,De=_e.scrollWidth,je=_e.scrollHeight,ke=_e.scrollTop,Oe=_e.scrollLeft,Ne=be.height,qe=be.width,Ke=de.height,He=de.width,nt={left:0,top:0,right:Te,bottom:Se},Je={left:-Oe,top:-ke,right:De-Oe,bottom:je-ke},ut=ee.htmlRegion,lt="visible",et="visibleFirst";ut!=="scroll"&&ut!==et&&(ut=lt);var Ye=ut===et,pt=VF(Je,N),ct=VF(nt,N),xt=ut===lt?ct:pt,jt=Ye?ct:xt;F.style.left="auto",F.style.top="auto",F.style.right="0",F.style.bottom="0";var Ut=F.getBoundingClientRect();F.style.left=J,F.style.top=te,F.style.right=Z,F.style.bottom=X,F.style.overflow=re,($=F.parentElement)===null||$===void 0||$.removeChild(ae);var Vt=l0(Math.round(qe/parseFloat(fe)*1e3)/1e3),wt=l0(Math.round(Ne/parseFloat(pe)*1e3)/1e3);if(Vt===0||wt===0||WI(n)&&!C0(n))return;var Bt=ee.offset,Pt=ee.targetOffset,ot=UF(be,Bt),qt=at(ot,2),vt=qt[0],bt=qt[1],yt=UF(de,Pt),gt=at(yt,2),Jt=gt[0],bn=gt[1];de.x-=Jt,de.y-=bn;var Qn=ee.points||[],Dn=at(Qn,2),tn=Dn[0],_n=Dn[1],Fn=BF(_n),Wt=BF(tn),xn=Lv(de,Fn),En=Lv(be,Wt),Sn=Pe({},ee),Qt=xn.x-En.x+vt,Rn=xn.y-En.y+bt,fn=Fa(Qt,Rn),Gt=Fa(Qt,Rn,ct),Xt=Lv(de,["t","l"]),$n=Lv(be,["t","l"]),Un=Lv(de,["b","r"]),jn=Lv(be,["b","r"]),Zn=ee.overflow||{},An=Zn.adjustX,On=Zn.adjustY,sn=Zn.shiftX,tr=Zn.shiftY,wr=function(so){return typeof so=="boolean"?so:so>=0},Ar,nn,jr,Ur;gi();var Pr=wr(On),gn=Wt[0]===Fn[0];if(Pr&&Wt[0]==="t"&&(nn>jt.bottom||A.current.bt)){var Pn=Rn;gn?Pn-=Ne-Ke:Pn=Xt.y-jn.y-bt;var Cn=Fa(Qt,Pn),en=Fa(Qt,Pn,ct);Cn>fn||Cn===fn&&(!Ye||en>=Gt)?(A.current.bt=!0,Rn=Pn,bt=-bt,Sn.points=[am(Wt,0),am(Fn,0)]):A.current.bt=!1}if(Pr&&Wt[0]==="b"&&(Ar<jt.top||A.current.tb)){var kn=Rn;gn?kn+=Ne-Ke:kn=Un.y-$n.y-bt;var Cr=Fa(Qt,kn),Xr=Fa(Qt,kn,ct);Cr>fn||Cr===fn&&(!Ye||Xr>=Gt)?(A.current.tb=!0,Rn=kn,bt=-bt,Sn.points=[am(Wt,0),am(Fn,0)]):A.current.tb=!1}var Lt=wr(An),Yn=Wt[1]===Fn[1];if(Lt&&Wt[1]==="l"&&(Ur>jt.right||A.current.rl)){var Xn=Qt;Yn?Xn-=qe-He:Xn=Xt.x-jn.x-vt;var vr=Fa(Xn,Rn),Jr=Fa(Xn,Rn,ct);vr>fn||vr===fn&&(!Ye||Jr>=Gt)?(A.current.rl=!0,Qt=Xn,vt=-vt,Sn.points=[am(Wt,1),am(Fn,1)]):A.current.rl=!1}if(Lt&&Wt[1]==="r"&&(jr<jt.left||A.current.lr)){var sa=Qt;Yn?sa+=qe-He:sa=Un.x-$n.x-vt;var er=Fa(sa,Rn),$i=Fa(sa,Rn,ct);er>fn||er===fn&&(!Ye||$i>=Gt)?(A.current.lr=!0,Qt=sa,vt=-vt,Sn.points=[am(Wt,1),am(Fn,1)]):A.current.lr=!1}gi();var Ca=sn===!0?0:sn;typeof Ca=="number"&&(jr<ct.left&&(Qt-=jr-ct.left-vt,de.x+He<ct.left+Ca&&(Qt+=de.x-ct.left+He-Ca)),Ur>ct.right&&(Qt-=Ur-ct.right-vt,de.x>ct.right-Ca&&(Qt+=de.x-ct.right+Ca)));var io=tr===!0?0:tr;typeof io=="number"&&(Ar<ct.top&&(Rn-=Ar-ct.top-bt,de.y+Ke<ct.top+io&&(Rn+=de.y-ct.top+Ke-io)),nn>ct.bottom&&(Rn-=nn-ct.bottom-bt,de.y>ct.bottom-io&&(Rn+=de.y-ct.bottom+io)));var Ri=be.x+Qt,Ii=Ri+qe,oo=be.y+Rn,Vr=oo+Ne,Jn=de.x,Mn=Jn+He,Tr=de.y,Qr=Tr+Ke,ua=Math.max(Ri,Jn),Gr=Math.min(Ii,Mn),Ei=(ua+Gr)/2,oi=Ei-Ri,Wa=Math.max(oo,Tr),si=Math.min(Vr,Qr),Ua=(Wa+si)/2,br=Ua-oo;g==null||g(t,Sn);var ur=Ut.right-be.x-(Qt+be.width),Ya=Ut.bottom-be.y-(Rn+be.height);Vt===1&&(Qt=Math.round(Qt),ur=Math.round(ur)),wt===1&&(Rn=Math.round(Rn),Ya=Math.round(Ya));var Ui={ready:!0,offsetX:Qt/Vt,offsetY:Rn/wt,offsetR:ur/Vt,offsetB:Ya/wt,arrowX:oi/Vt,arrowY:br/wt,scaleX:Vt,scaleY:wt,align:Sn};T(Ui)}}),R=function(){_.current+=1;var L=_.current;Promise.resolve().then(function(){_.current===L&&O()})},D=function(){T(function(L){return Pe(Pe({},L),{},{ready:!1})})};return Hr(D,[r]),Hr(function(){e||D()},[e]),[I.ready,I.offsetX,I.offsetY,I.offsetR,I.offsetB,I.arrowX,I.arrowY,I.scaleX,I.scaleY,I.align,R]}function Jfe(e,t,n,r,i){Hr(function(){if(e&&t&&n){let N=function(){r(),i()};var _=N,d=t,g=n,v=cP(d),S=cP(g),I=_0(g),T=new Set([I].concat(Rt(v),Rt(S)));return T.forEach(function(A){A.addEventListener("scroll",N,{passive:!0})}),I.addEventListener("resize",N,{passive:!0}),r(),function(){T.forEach(function(A){A.removeEventListener("scroll",N),I.removeEventListener("resize",N)})}}},[e,t,n])}function Qfe(e,t,n,r,i,d,g,v){var S=E.useRef(e);S.current=e;var I=E.useRef(!1);E.useEffect(function(){if(t&&r&&(!i||d)){var _=function(){I.current=!1},N=function(R){var D;S.current&&!g(((D=R.composedPath)===null||D===void 0||(D=D.call(R))===null||D===void 0?void 0:D[0])||R.target)&&!I.current&&v(!1)},A=_0(r);A.addEventListener("pointerdown",_,!0),A.addEventListener("mousedown",N,!0),A.addEventListener("contextmenu",N,!0);var w=RM(n);return w&&(w.addEventListener("mousedown",N,!0),w.addEventListener("contextmenu",N,!0)),function(){A.removeEventListener("pointerdown",_,!0),A.removeEventListener("mousedown",N,!0),A.removeEventListener("contextmenu",N,!0),w&&(w.removeEventListener("mousedown",N,!0),w.removeEventListener("contextmenu",N,!0))}}},[t,n,r,i,d]);function T(){I.current=!0}return T}var Zfe=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function ege(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:iW,t=E.forwardRef(function(n,r){var i=n.prefixCls,d=i===void 0?"rc-trigger-popup":i,g=n.children,v=n.action,S=v===void 0?"hover":v,I=n.showAction,T=n.hideAction,_=n.popupVisible,N=n.defaultPopupVisible,A=n.onPopupVisibleChange,w=n.afterPopupVisibleChange,O=n.mouseEnterDelay,R=n.mouseLeaveDelay,D=R===void 0?.1:R,j=n.focusDelay,L=n.blurDelay,U=n.mask,$=n.maskClosable,F=$===void 0?!0:$,z=n.getPopupContainer,H=n.forceRender,V=n.autoDestroy,K=n.destroyPopupOnHide,J=n.popup,te=n.popupClassName,Z=n.popupStyle,X=n.popupPlacement,re=n.builtinPlacements,ee=re===void 0?{}:re,ae=n.popupAlign,de=n.zIndex,he=n.stretch,ue=n.getPopupClassNameFromAlign,ye=n.fresh,be=n.alignPoint,oe=n.onPopupClick,pe=n.onPopupAlign,fe=n.arrow,_e=n.popupMotion,Te=n.maskMotion,Se=n.popupTransitionName,De=n.popupAnimation,je=n.maskTransitionName,ke=n.maskAnimation,Oe=n.className,Ne=n.getTriggerDOMNode,qe=ir(n,Zfe),Ke=V||K||!1,He=E.useState(!1),nt=at(He,2),Je=nt[0],ut=nt[1];Hr(function(){ut(S_())},[]);var lt=E.useRef({}),et=E.useContext(PF),Ye=E.useMemo(function(){return{registerSubPopup:function(Ir,ga){lt.current[Ir]=ga,et==null||et.registerSubPopup(Ir,ga)}}},[et]),pt=MD(),ct=E.useState(null),xt=at(ct,2),jt=xt[0],Ut=xt[1],Vt=E.useRef(null),wt=xa(function(Wn){Vt.current=Wn,WI(Wn)&&jt!==Wn&&Ut(Wn),et==null||et.registerSubPopup(pt,Wn)}),Bt=E.useState(null),Pt=at(Bt,2),ot=Pt[0],qt=Pt[1],vt=E.useRef(null),bt=xa(function(Wn){WI(Wn)&&ot!==Wn&&(qt(Wn),vt.current=Wn)}),yt=E.Children.only(g),gt=(yt==null?void 0:yt.props)||{},Jt={},bn=xa(function(Wn){var Ir,ga,na=ot;return(na==null?void 0:na.contains(Wn))||((Ir=RM(na))===null||Ir===void 0?void 0:Ir.host)===Wn||Wn===na||(jt==null?void 0:jt.contains(Wn))||((ga=RM(jt))===null||ga===void 0?void 0:ga.host)===Wn||Wn===jt||Object.values(lt.current).some(function(da){return(da==null?void 0:da.contains(Wn))||Wn===da})}),Qn=jF(d,_e,De,Se),Dn=jF(d,Te,ke,je),tn=E.useState(N||!1),_n=at(tn,2),Fn=_n[0],Wt=_n[1],xn=_??Fn,En=xa(function(Wn){_===void 0&&Wt(Wn)});Hr(function(){Wt(_||!1)},[_]);var Sn=E.useRef(xn);Sn.current=xn;var Qt=E.useRef([]);Qt.current=[];var Rn=xa(function(Wn){var Ir;En(Wn),((Ir=Qt.current[Qt.current.length-1])!==null&&Ir!==void 0?Ir:xn)!==Wn&&(Qt.current.push(Wn),A==null||A(Wn))}),fn=E.useRef(),Gt=function(){clearTimeout(fn.current)},Xt=function(Ir){var ga=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Gt(),ga===0?Rn(Ir):fn.current=setTimeout(function(){Rn(Ir)},ga*1e3)};E.useEffect(function(){return Gt},[]);var $n=E.useState(!1),Un=at($n,2),jn=Un[0],Zn=Un[1];Hr(function(Wn){(!Wn||xn)&&Zn(!0)},[xn]);var An=E.useState(null),On=at(An,2),sn=On[0],tr=On[1],wr=E.useState(null),Ar=at(wr,2),nn=Ar[0],jr=Ar[1],Ur=function(Ir){jr([Ir.clientX,Ir.clientY])},Pr=Xfe(xn,jt,be&&nn!==null?nn:ot,X,ee,ae,pe),gn=at(Pr,11),Pn=gn[0],Cn=gn[1],en=gn[2],kn=gn[3],Cr=gn[4],Xr=gn[5],Lt=gn[6],Yn=gn[7],Xn=gn[8],vr=gn[9],Jr=gn[10],sa=Kfe(Je,S,I,T),er=at(sa,2),$i=er[0],Ca=er[1],io=$i.has("click"),Ri=Ca.has("click")||Ca.has("contextMenu"),Ii=xa(function(){jn||Jr()}),oo=function(){Sn.current&&be&&Ri&&Xt(!1)};Jfe(xn,ot,jt,Ii,oo),Hr(function(){Ii()},[nn,X]),Hr(function(){xn&&!(ee!=null&&ee[X])&&Ii()},[JSON.stringify(ae)]);var Vr=E.useMemo(function(){var Wn=Yfe(ee,d,vr,be);return Ue(Wn,ue==null?void 0:ue(vr))},[vr,ue,ee,d,be]);E.useImperativeHandle(r,function(){return{nativeElement:vt.current,popupElement:Vt.current,forceAlign:Ii}});var Jn=E.useState(0),Mn=at(Jn,2),Tr=Mn[0],Qr=Mn[1],ua=E.useState(0),Gr=at(ua,2),Ei=Gr[0],oi=Gr[1],Wa=function(){if(he&&ot){var Ir=ot.getBoundingClientRect();Qr(Ir.width),oi(Ir.height)}},si=function(){Wa(),Ii()},Ua=function(Ir){Zn(!1),Jr(),w==null||w(Ir)},br=function(){return new Promise(function(Ir){Wa(),tr(function(){return Ir})})};Hr(function(){sn&&(Jr(),sn(),tr(null))},[sn]);function ur(Wn,Ir,ga,na){Jt[Wn]=function(da){var Rs;na==null||na(da),Xt(Ir,ga);for(var $d=arguments.length,Ru=new Array($d>1?$d-1:0),Qs=1;Qs<$d;Qs++)Ru[Qs-1]=arguments[Qs];(Rs=gt[Wn])===null||Rs===void 0||Rs.call.apply(Rs,[gt,da].concat(Ru))}}(io||Ri)&&(Jt.onClick=function(Wn){var Ir;Sn.current&&Ri?Xt(!1):!Sn.current&&io&&(Ur(Wn),Xt(!0));for(var ga=arguments.length,na=new Array(ga>1?ga-1:0),da=1;da<ga;da++)na[da-1]=arguments[da];(Ir=gt.onClick)===null||Ir===void 0||Ir.call.apply(Ir,[gt,Wn].concat(na))});var Ya=Qfe(xn,Ri,ot,jt,U,F,bn,Xt),Ui=$i.has("hover"),Ba=Ca.has("hover"),yo,Fa;Ui&&(ur("onMouseEnter",!0,O,function(Wn){Ur(Wn)}),ur("onPointerEnter",!0,O,function(Wn){Ur(Wn)}),yo=function(Ir){(xn||jn)&&jt!==null&&jt!==void 0&&jt.contains(Ir.target)&&Xt(!0,O)},be&&(Jt.onMouseMove=function(Wn){var Ir;(Ir=gt.onMouseMove)===null||Ir===void 0||Ir.call(gt,Wn)})),Ba&&(ur("onMouseLeave",!1,D),ur("onPointerLeave",!1,D),Fa=function(){Xt(!1,D)}),$i.has("focus")&&ur("onFocus",!0,j),Ca.has("focus")&&ur("onBlur",!1,L),$i.has("contextMenu")&&(Jt.onContextMenu=function(Wn){var Ir;Sn.current&&Ca.has("contextMenu")?Xt(!1):(Ur(Wn),Xt(!0)),Wn.preventDefault();for(var ga=arguments.length,na=new Array(ga>1?ga-1:0),da=1;da<ga;da++)na[da-1]=arguments[da];(Ir=gt.onContextMenu)===null||Ir===void 0||Ir.call.apply(Ir,[gt,Wn].concat(na))}),Oe&&(Jt.className=Ue(gt.className,Oe));var gi=Pe(Pe({},gt),Jt),Bi={},so=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];so.forEach(function(Wn){qe[Wn]&&(Bi[Wn]=function(){for(var Ir,ga=arguments.length,na=new Array(ga),da=0;da<ga;da++)na[da]=arguments[da];(Ir=gi[Wn])===null||Ir===void 0||Ir.call.apply(Ir,[gi].concat(na)),qe[Wn].apply(qe,na)})});var Ai=E.cloneElement(yt,Pe(Pe({},gi),Bi)),Nu={x:Xr,y:Lt},Li=fe?Pe({},fe!==!0?fe:{}):null;return E.createElement(E.Fragment,null,E.createElement(Do,{disabled:!xn,ref:bt,onResize:si},E.createElement(Gfe,{getTriggerDOMNode:Ne},Ai)),E.createElement(PF.Provider,{value:Ye},E.createElement(Hfe,{portal:e,ref:wt,prefixCls:d,popup:J,className:Ue(te,Vr),style:Z,target:ot,onMouseEnter:yo,onMouseLeave:Fa,onPointerEnter:yo,zIndex:de,open:xn,keepDom:jn,fresh:ye,onClick:oe,onPointerDownCapture:Ya,mask:U,motion:Qn,maskMotion:Dn,onVisibleChanged:Ua,onPrepare:br,forceRender:H,autoDestroy:Ke,getPopupContainer:z,align:vr,arrow:Li,arrowPos:Nu,ready:Pn,offsetX:Cn,offsetY:en,offsetR:kn,offsetB:Cr,onAlign:Ii,stretch:he,targetWidth:Tr/Yn,targetHeight:Ei/Xn})))});return t}const E_=ege(iW);var tge=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],nge=function(t){var n=t===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},rge=function(t,n){var r=t.prefixCls;t.disabled;var i=t.visible,d=t.children,g=t.popupElement,v=t.animation,S=t.transitionName,I=t.dropdownStyle,T=t.dropdownClassName,_=t.direction,N=_===void 0?"ltr":_,A=t.placement,w=t.builtinPlacements,O=t.dropdownMatchSelectWidth,R=t.dropdownRender,D=t.dropdownAlign,j=t.getPopupContainer,L=t.empty,U=t.getTriggerDOMNode,$=t.onPopupVisibleChange,F=t.onPopupMouseEnter,z=ir(t,tge),H="".concat(r,"-dropdown"),V=g;R&&(V=R(g));var K=E.useMemo(function(){return w||nge(O)},[w,O]),J=v?"".concat(H,"-").concat(v):S,te=typeof O=="number",Z=E.useMemo(function(){return te?null:O===!1?"minWidth":"width"},[O,te]),X=I;te&&(X=Pe(Pe({},X),{},{width:O}));var re=E.useRef(null);return E.useImperativeHandle(n,function(){return{getPopupElement:function(){var ae;return(ae=re.current)===null||ae===void 0?void 0:ae.popupElement}}}),E.createElement(E_,kt({},z,{showAction:$?["click"]:[],hideAction:$?["click"]:[],popupPlacement:A||(N==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:K,prefixCls:H,popupTransitionName:J,popup:E.createElement("div",{onMouseEnter:F},V),ref:re,stretch:Z,popupAlign:D,popupVisible:i,getPopupContainer:j,popupClassName:Ue(T,Ce({},"".concat(H,"-empty"),L)),popupStyle:X,getTriggerDOMNode:U,onPopupVisibleChange:$}),d)},age=E.forwardRef(rge);function FF(e,t){var n=e.key,r;return"value"in e&&(r=e.value),n??(r!==void 0?r:"rc-index-key-".concat(t))}function uP(e){return typeof e<"u"&&!Number.isNaN(e)}function _W(e,t){var n=e||{},r=n.label,i=n.value,d=n.options,g=n.groupLabel,v=r||(t?"children":"label");return{label:v,value:i||"value",options:d||"options",groupLabel:g||v}}function ige(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,i=[],d=_W(n,!1),g=d.label,v=d.value,S=d.options,I=d.groupLabel;function T(_,N){Array.isArray(_)&&_.forEach(function(A){if(N||!(S in A)){var w=A[v];i.push({key:FF(A,i.length),groupOption:N,data:A,label:A[g],value:w})}else{var O=A[I];O===void 0&&r&&(O=A.label),i.push({key:FF(A,i.length),group:!0,data:A,label:O}),T(A[S],!0)}})}return T(e,!1),i}function dP(e){var t=Pe({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return pi(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var oge=function(t,n,r){if(!n||!n.length)return null;var i=!1,d=function v(S,I){var T=Y9(I),_=T[0],N=T.slice(1);if(!_)return[S];var A=S.split(_);return i=i||A.length>1,A.reduce(function(w,O){return[].concat(Rt(w),Rt(v(O,N)))},[]).filter(Boolean)},g=d(t,n);return i?typeof r<"u"?g.slice(0,r):g:null},RD=E.createContext(null);function sge(e){var t=e.visible,n=e.values;if(!t)return null;var r=50;return E.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,r).map(function(i){var d=i.label,g=i.value;return["number","string"].includes(qn(d))?d:g}).join(", ")),n.length>r?", ...":null)}var lge=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],cge=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],pP=function(t){return t==="tags"||t==="multiple"},uge=E.forwardRef(function(e,t){var n,r=e.id,i=e.prefixCls,d=e.className,g=e.showSearch,v=e.tagRender,S=e.direction,I=e.omitDomProps,T=e.displayValues,_=e.onDisplayValuesChange,N=e.emptyOptions,A=e.notFoundContent,w=A===void 0?"Not Found":A,O=e.onClear,R=e.mode,D=e.disabled,j=e.loading,L=e.getInputElement,U=e.getRawInputElement,$=e.open,F=e.defaultOpen,z=e.onDropdownVisibleChange,H=e.activeValue,V=e.onActiveValueChange,K=e.activeDescendantId,J=e.searchValue,te=e.autoClearSearchValue,Z=e.onSearch,X=e.onSearchSplit,re=e.tokenSeparators,ee=e.allowClear,ae=e.prefix,de=e.suffixIcon,he=e.clearIcon,ue=e.OptionList,ye=e.animation,be=e.transitionName,oe=e.dropdownStyle,pe=e.dropdownClassName,fe=e.dropdownMatchSelectWidth,_e=e.dropdownRender,Te=e.dropdownAlign,Se=e.placement,De=e.builtinPlacements,je=e.getPopupContainer,ke=e.showAction,Oe=ke===void 0?[]:ke,Ne=e.onFocus,qe=e.onBlur,Ke=e.onKeyUp,He=e.onKeyDown,nt=e.onMouseDown,Je=ir(e,lge),ut=pP(R),lt=(g!==void 0?g:ut)||R==="combobox",et=Pe({},Je);cge.forEach(function(Jn){delete et[Jn]}),I==null||I.forEach(function(Jn){delete et[Jn]});var Ye=E.useState(!1),pt=at(Ye,2),ct=pt[0],xt=pt[1];E.useEffect(function(){xt(S_())},[]);var jt=E.useRef(null),Ut=E.useRef(null),Vt=E.useRef(null),wt=E.useRef(null),Bt=E.useRef(null),Pt=E.useRef(!1),ot=gfe(),qt=at(ot,3),vt=qt[0],bt=qt[1],yt=qt[2];E.useImperativeHandle(t,function(){var Jn,Mn;return{focus:(Jn=wt.current)===null||Jn===void 0?void 0:Jn.focus,blur:(Mn=wt.current)===null||Mn===void 0?void 0:Mn.blur,scrollTo:function(Qr){var ua;return(ua=Bt.current)===null||ua===void 0?void 0:ua.scrollTo(Qr)},nativeElement:jt.current||Ut.current}});var gt=E.useMemo(function(){var Jn;if(R!=="combobox")return J;var Mn=(Jn=T[0])===null||Jn===void 0?void 0:Jn.value;return typeof Mn=="string"||typeof Mn=="number"?String(Mn):""},[J,R,T]),Jt=R==="combobox"&&typeof L=="function"&&L()||null,bn=typeof U=="function"&&U(),Qn=Im(Ut,bn==null||(n=bn.props)===null||n===void 0?void 0:n.ref),Dn=E.useState(!1),tn=at(Dn,2),_n=tn[0],Fn=tn[1];Hr(function(){Fn(!0)},[]);var Wt=Si(!1,{defaultValue:F,value:$}),xn=at(Wt,2),En=xn[0],Sn=xn[1],Qt=_n?En:!1,Rn=!w&&N;(D||Rn&&Qt&&R==="combobox")&&(Qt=!1);var fn=Rn?!1:Qt,Gt=E.useCallback(function(Jn){var Mn=Jn!==void 0?Jn:!Qt;D||(Sn(Mn),Qt!==Mn&&(z==null||z(Mn)))},[D,Qt,Sn,z]),Xt=E.useMemo(function(){return(re||[]).some(function(Jn){return[`
`,`\r
`].includes(Jn)})},[re]),$n=E.useContext(RD)||{},Un=$n.maxCount,jn=$n.rawValues,Zn=function(Mn,Tr,Qr){if(!(ut&&uP(Un)&&(jn==null?void 0:jn.size)>=Un)){var ua=!0,Gr=Mn;V==null||V(null);var Ei=oge(Mn,re,uP(Un)?Un-jn.size:void 0),oi=Qr?null:Ei;return R!=="combobox"&&oi&&(Gr="",X==null||X(oi),Gt(!1),ua=!1),Z&&gt!==Gr&&Z(Gr,{source:Tr?"typing":"effect"}),ua}},An=function(Mn){!Mn||!Mn.trim()||Z(Mn,{source:"submit"})};E.useEffect(function(){!Qt&&!ut&&R!=="combobox"&&Zn("",!1,!1)},[Qt]),E.useEffect(function(){En&&D&&Sn(!1),D&&!Pt.current&&bt(!1)},[D]);var On=bW(),sn=at(On,2),tr=sn[0],wr=sn[1],Ar=E.useRef(!1),nn=function(Mn){var Tr=tr(),Qr=Mn.key,ua=Qr==="Enter";if(ua&&(R!=="combobox"&&Mn.preventDefault(),Qt||Gt(!0)),wr(!!gt),Qr==="Backspace"&&!Tr&&ut&&!gt&&T.length){for(var Gr=Rt(T),Ei=null,oi=Gr.length-1;oi>=0;oi-=1){var Wa=Gr[oi];if(!Wa.disabled){Gr.splice(oi,1),Ei=Wa;break}}Ei&&_(Gr,{type:"remove",values:[Ei]})}for(var si=arguments.length,Ua=new Array(si>1?si-1:0),br=1;br<si;br++)Ua[br-1]=arguments[br];if(Qt&&(!ua||!Ar.current)){var ur;ua&&(Ar.current=!0),(ur=Bt.current)===null||ur===void 0||ur.onKeyDown.apply(ur,[Mn].concat(Ua))}He==null||He.apply(void 0,[Mn].concat(Ua))},jr=function(Mn){for(var Tr=arguments.length,Qr=new Array(Tr>1?Tr-1:0),ua=1;ua<Tr;ua++)Qr[ua-1]=arguments[ua];if(Qt){var Gr;(Gr=Bt.current)===null||Gr===void 0||Gr.onKeyUp.apply(Gr,[Mn].concat(Qr))}Mn.key==="Enter"&&(Ar.current=!1),Ke==null||Ke.apply(void 0,[Mn].concat(Qr))},Ur=function(Mn){var Tr=T.filter(function(Qr){return Qr!==Mn});_(Tr,{type:"remove",values:[Mn]})},Pr=function(){Ar.current=!1},gn=E.useRef(!1),Pn=function(){bt(!0),D||(Ne&&!gn.current&&Ne.apply(void 0,arguments),Oe.includes("focus")&&Gt(!0)),gn.current=!0},Cn=function(){Pt.current=!0,bt(!1,function(){gn.current=!1,Pt.current=!1,Gt(!1)}),!D&&(gt&&(R==="tags"?Z(gt,{source:"submit"}):R==="multiple"&&Z("",{source:"blur"})),qe&&qe.apply(void 0,arguments))},en=[];E.useEffect(function(){return function(){en.forEach(function(Jn){return clearTimeout(Jn)}),en.splice(0,en.length)}},[]);var kn=function(Mn){var Tr,Qr=Mn.target,ua=(Tr=Vt.current)===null||Tr===void 0?void 0:Tr.getPopupElement();if(ua&&ua.contains(Qr)){var Gr=setTimeout(function(){var si=en.indexOf(Gr);if(si!==-1&&en.splice(si,1),yt(),!ct&&!ua.contains(document.activeElement)){var Ua;(Ua=wt.current)===null||Ua===void 0||Ua.focus()}});en.push(Gr)}for(var Ei=arguments.length,oi=new Array(Ei>1?Ei-1:0),Wa=1;Wa<Ei;Wa++)oi[Wa-1]=arguments[Wa];nt==null||nt.apply(void 0,[Mn].concat(oi))},Cr=E.useState({}),Xr=at(Cr,2),Lt=Xr[1];function Yn(){Lt({})}var Xn;bn&&(Xn=function(Mn){Gt(Mn)}),hfe(function(){var Jn;return[jt.current,(Jn=Vt.current)===null||Jn===void 0?void 0:Jn.getPopupElement()]},fn,Gt,!!bn);var vr=E.useMemo(function(){return Pe(Pe({},e),{},{notFoundContent:w,open:Qt,triggerOpen:fn,id:r,showSearch:lt,multiple:ut,toggleOpen:Gt})},[e,w,fn,Qt,r,lt,ut,Gt]),Jr=!!de||j,sa;Jr&&(sa=E.createElement(I_,{className:Ue("".concat(i,"-arrow"),Ce({},"".concat(i,"-arrow-loading"),j)),customizeIcon:de,customizeIconProps:{loading:j,searchValue:gt,open:Qt,focused:vt,showSearch:lt}}));var er=function(){var Mn;O==null||O(),(Mn=wt.current)===null||Mn===void 0||Mn.focus(),_([],{type:"clear",values:T}),Zn("",!1,!1)},$i=mfe(i,er,T,ee,he,D,gt,R),Ca=$i.allowClear,io=$i.clearIcon,Ri=E.createElement(ue,{ref:Bt}),Ii=Ue(i,d,Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce({},"".concat(i,"-focused"),vt),"".concat(i,"-multiple"),ut),"".concat(i,"-single"),!ut),"".concat(i,"-allow-clear"),ee),"".concat(i,"-show-arrow"),Jr),"".concat(i,"-disabled"),D),"".concat(i,"-loading"),j),"".concat(i,"-open"),Qt),"".concat(i,"-customize-input"),Jt),"".concat(i,"-show-search"),lt)),oo=E.createElement(age,{ref:Vt,disabled:D,prefixCls:i,visible:fn,popupElement:Ri,animation:ye,transitionName:be,dropdownStyle:oe,dropdownClassName:pe,direction:S,dropdownMatchSelectWidth:fe,dropdownRender:_e,dropdownAlign:Te,placement:Se,builtinPlacements:De,getPopupContainer:je,empty:N,getTriggerDOMNode:function(Mn){return Ut.current||Mn},onPopupVisibleChange:Xn,onPopupMouseEnter:Yn},bn?E.cloneElement(bn,{ref:Qn}):E.createElement(Bfe,kt({},e,{domRef:Ut,prefixCls:i,inputElement:Jt,ref:wt,id:r,prefix:ae,showSearch:lt,autoClearSearchValue:te,mode:R,activeDescendantId:K,tagRender:v,values:T,open:Qt,onToggleOpen:Gt,activeValue:H,searchValue:gt,onSearch:Zn,onSearchSubmit:An,onRemove:Ur,tokenWithEnter:Xt,onInputBlur:Pr}))),Vr;return bn?Vr=oo:Vr=E.createElement("div",kt({className:Ii},et,{ref:jt,onMouseDown:kn,onKeyDown:nn,onKeyUp:jr,onFocus:Pn,onBlur:Cn}),E.createElement(sge,{visible:vt&&!Qt,values:T}),oo,sa,Ca&&io),E.createElement(yW.Provider,{value:vr},Vr)}),AD=function(){return null};AD.isSelectOptGroup=!0;var OD=function(){return null};OD.isSelectOption=!0;var xW=E.forwardRef(function(e,t){var n=e.height,r=e.offsetY,i=e.offsetX,d=e.children,g=e.prefixCls,v=e.onInnerResize,S=e.innerProps,I=e.rtl,T=e.extra,_={},N={display:"flex",flexDirection:"column"};return r!==void 0&&(_={height:n,position:"relative",overflow:"hidden"},N=Pe(Pe({},N),{},Ce(Ce(Ce(Ce(Ce({transform:"translateY(".concat(r,"px)")},I?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),E.createElement("div",{style:_},E.createElement(Do,{onResize:function(w){var O=w.offsetHeight;O&&v&&v()}},E.createElement("div",kt({style:N,className:Ue(Ce({},"".concat(g,"-holder-inner"),g)),ref:t},S),d,T)))});xW.displayName="Filler";function dge(e){var t=e.children,n=e.setRef,r=E.useCallback(function(i){n(i)},[]);return E.cloneElement(t,{ref:r})}function pge(e,t,n,r,i,d,g,v){var S=v.getKey;return e.slice(t,n+1).map(function(I,T){var _=t+T,N=g(I,_,{style:{width:r},offsetX:i}),A=S(I);return E.createElement(dge,{key:A,setRef:function(O){return d(I,O)}},N)})}function mge(e,t,n){var r=e.length,i=t.length,d,g;if(r===0&&i===0)return null;r<i?(d=e,g=t):(d=t,g=e);var v={__EMPTY_ITEM__:!0};function S(w){return w!==void 0?n(w):v}for(var I=null,T=Math.abs(r-i)!==1,_=0;_<g.length;_+=1){var N=S(d[_]),A=S(g[_]);if(N!==A){I=_,T=T||N!==S(g[_+1]);break}}return I===null?null:{index:I,multiple:T}}function fge(e,t,n){var r=E.useState(e),i=at(r,2),d=i[0],g=i[1],v=E.useState(null),S=at(v,2),I=S[0],T=S[1];return E.useEffect(function(){var _=mge(d||[],e||[],t);(_==null?void 0:_.index)!==void 0&&T(e[_.index]),g(e)},[e]),[I]}var qF=(typeof navigator>"u"?"undefined":qn(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const wW=function(e,t,n,r){var i=E.useRef(!1),d=E.useRef(null);function g(){clearTimeout(d.current),i.current=!0,d.current=setTimeout(function(){i.current=!1},50)}var v=E.useRef({top:e,bottom:t,left:n,right:r});return v.current.top=e,v.current.bottom=t,v.current.left=n,v.current.right=r,function(S,I){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=S?I<0&&v.current.left||I>0&&v.current.right:I<0&&v.current.top||I>0&&v.current.bottom;return T&&_?(clearTimeout(d.current),i.current=!1):(!_||i.current)&&g(),!i.current&&_}};function gge(e,t,n,r,i,d,g){var v=E.useRef(0),S=E.useRef(null),I=E.useRef(null),T=E.useRef(!1),_=wW(t,n,r,i);function N(j,L){if(Fr.cancel(S.current),!_(!1,L)){var U=j;if(!U._virtualHandled)U._virtualHandled=!0;else return;v.current+=L,I.current=L,qF||U.preventDefault(),S.current=Fr(function(){var $=T.current?10:1;g(v.current*$,!1),v.current=0})}}function A(j,L){g(L,!0),qF||j.preventDefault()}var w=E.useRef(null),O=E.useRef(null);function R(j){if(e){Fr.cancel(O.current),O.current=Fr(function(){w.current=null},2);var L=j.deltaX,U=j.deltaY,$=j.shiftKey,F=L,z=U;(w.current==="sx"||!w.current&&$&&U&&!L)&&(F=U,z=0,w.current="sx");var H=Math.abs(F),V=Math.abs(z);w.current===null&&(w.current=d&&H>V?"x":"y"),w.current==="y"?N(j,z):A(j,F)}}function D(j){e&&(T.current=j.detail===I.current)}return[R,D]}function hge(e,t,n,r){var i=E.useMemo(function(){return[new Map,[]]},[e,n.id,r]),d=at(i,2),g=d[0],v=d[1],S=function(T){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T,N=g.get(T),A=g.get(_);if(N===void 0||A===void 0)for(var w=e.length,O=v.length;O<w;O+=1){var R,D=e[O],j=t(D);g.set(j,O);var L=(R=n.get(j))!==null&&R!==void 0?R:r;if(v[O]=(v[O-1]||0)+L,j===T&&(N=O),j===_&&(A=O),N!==void 0&&A!==void 0)break}return{top:v[N-1]||0,bottom:v[A]}};return S}var vge=function(){function e(){mi(this,e),Ce(this,"maps",void 0),Ce(this,"id",0),Ce(this,"diffRecords",new Map),this.maps=Object.create(null)}return fi(e,[{key:"set",value:function(n,r){this.diffRecords.set(n,this.maps[n]),this.maps[n]=r,this.id+=1}},{key:"get",value:function(n){return this.maps[n]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),e}();function zF(e){var t=parseFloat(e);return isNaN(t)?0:t}function yge(e,t,n){var r=E.useState(0),i=at(r,2),d=i[0],g=i[1],v=E.useRef(new Map),S=E.useRef(new vge),I=E.useRef(0);function T(){I.current+=1}function _(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;T();var w=function(){var D=!1;v.current.forEach(function(j,L){if(j&&j.offsetParent){var U=j.offsetHeight,$=getComputedStyle(j),F=$.marginTop,z=$.marginBottom,H=zF(F),V=zF(z),K=U+H+V;S.current.get(L)!==K&&(S.current.set(L,K),D=!0)}}),D&&g(function(j){return j+1})};if(A)w();else{I.current+=1;var O=I.current;Promise.resolve().then(function(){O===I.current&&w()})}}function N(A,w){var O=e(A);v.current.get(O),w?(v.current.set(O,w),_()):v.current.delete(O)}return E.useEffect(function(){return T},[]),[N,_,S.current,d]}var HF=14/15;function bge(e,t,n){var r=E.useRef(!1),i=E.useRef(0),d=E.useRef(0),g=E.useRef(null),v=E.useRef(null),S,I=function(A){if(r.current){var w=Math.ceil(A.touches[0].pageX),O=Math.ceil(A.touches[0].pageY),R=i.current-w,D=d.current-O,j=Math.abs(R)>Math.abs(D);j?i.current=w:d.current=O;var L=n(j,j?R:D,!1,A);L&&A.preventDefault(),clearInterval(v.current),L&&(v.current=setInterval(function(){j?R*=HF:D*=HF;var U=Math.floor(j?R:D);(!n(j,U,!0)||Math.abs(U)<=.1)&&clearInterval(v.current)},16))}},T=function(){r.current=!1,S()},_=function(A){S(),A.touches.length===1&&!r.current&&(r.current=!0,i.current=Math.ceil(A.touches[0].pageX),d.current=Math.ceil(A.touches[0].pageY),g.current=A.target,g.current.addEventListener("touchmove",I,{passive:!1}),g.current.addEventListener("touchend",T,{passive:!0}))};S=function(){g.current&&(g.current.removeEventListener("touchmove",I),g.current.removeEventListener("touchend",T))},Hr(function(){return e&&t.current.addEventListener("touchstart",_,{passive:!0}),function(){var N;(N=t.current)===null||N===void 0||N.removeEventListener("touchstart",_),S(),clearInterval(v.current)}},[e])}function GF(e){return Math.floor(Math.pow(e,.5))}function mP(e,t){var n="touches"in e?e.touches[0]:e;return n[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}function Sge(e,t,n){E.useEffect(function(){var r=t.current;if(e&&r){var i=!1,d,g,v=function(){Fr.cancel(d)},S=function N(){v(),d=Fr(function(){n(g),N()})},I=function(A){if(!(A.target.draggable||A.button!==0)){var w=A;w._virtualHandled||(w._virtualHandled=!0,i=!0)}},T=function(){i=!1,v()},_=function(A){if(i){var w=mP(A,!1),O=r.getBoundingClientRect(),R=O.top,D=O.bottom;if(w<=R){var j=R-w;g=-GF(j),S()}else if(w>=D){var L=w-D;g=GF(L),S()}else v()}};return r.addEventListener("mousedown",I),r.ownerDocument.addEventListener("mouseup",T),r.ownerDocument.addEventListener("mousemove",_),function(){r.removeEventListener("mousedown",I),r.ownerDocument.removeEventListener("mouseup",T),r.ownerDocument.removeEventListener("mousemove",_),v()}}},[e])}var Ige=10;function Ege(e,t,n,r,i,d,g,v){var S=E.useRef(),I=E.useState(null),T=at(I,2),_=T[0],N=T[1];return Hr(function(){if(_&&_.times<Ige){if(!e.current){N(function(he){return Pe({},he)});return}d();var A=_.targetAlign,w=_.originAlign,O=_.index,R=_.offset,D=e.current.clientHeight,j=!1,L=A,U=null;if(D){for(var $=A||w,F=0,z=0,H=0,V=Math.min(t.length-1,O),K=0;K<=V;K+=1){var J=i(t[K]);z=F;var te=n.get(J);H=z+(te===void 0?r:te),F=H}for(var Z=$==="top"?R:D-R,X=V;X>=0;X-=1){var re=i(t[X]),ee=n.get(re);if(ee===void 0){j=!0;break}if(Z-=ee,Z<=0)break}switch($){case"top":U=z-R;break;case"bottom":U=H-D+R;break;default:{var ae=e.current.scrollTop,de=ae+D;z<ae?L="top":H>de&&(L="bottom")}}U!==null&&g(U),U!==_.lastTop&&(j=!0)}j&&N(Pe(Pe({},_),{},{times:_.times+1,targetAlign:L,lastTop:U}))}},[_,e.current]),function(A){if(A==null){v();return}if(Fr.cancel(S.current),typeof A=="number")g(A);else if(A&&qn(A)==="object"){var w,O=A.align;"index"in A?w=A.index:w=t.findIndex(function(j){return i(j)===A.key});var R=A.offset,D=R===void 0?0:R;N({times:0,index:w,offset:D,originAlign:O})}}}var KF=E.forwardRef(function(e,t){var n=e.prefixCls,r=e.rtl,i=e.scrollOffset,d=e.scrollRange,g=e.onStartMove,v=e.onStopMove,S=e.onScroll,I=e.horizontal,T=e.spinSize,_=e.containerSize,N=e.style,A=e.thumbStyle,w=e.showScrollBar,O=E.useState(!1),R=at(O,2),D=R[0],j=R[1],L=E.useState(null),U=at(L,2),$=U[0],F=U[1],z=E.useState(null),H=at(z,2),V=H[0],K=H[1],J=!r,te=E.useRef(),Z=E.useRef(),X=E.useState(w),re=at(X,2),ee=re[0],ae=re[1],de=E.useRef(),he=function(){w===!0||w===!1||(clearTimeout(de.current),ae(!0),de.current=setTimeout(function(){ae(!1)},3e3))},ue=d-_||0,ye=_-T||0,be=E.useMemo(function(){if(i===0||ue===0)return 0;var ke=i/ue;return ke*ye},[i,ue,ye]),oe=function(Oe){Oe.stopPropagation(),Oe.preventDefault()},pe=E.useRef({top:be,dragging:D,pageY:$,startTop:V});pe.current={top:be,dragging:D,pageY:$,startTop:V};var fe=function(Oe){j(!0),F(mP(Oe,I)),K(pe.current.top),g(),Oe.stopPropagation(),Oe.preventDefault()};E.useEffect(function(){var ke=function(Ke){Ke.preventDefault()},Oe=te.current,Ne=Z.current;return Oe.addEventListener("touchstart",ke,{passive:!1}),Ne.addEventListener("touchstart",fe,{passive:!1}),function(){Oe.removeEventListener("touchstart",ke),Ne.removeEventListener("touchstart",fe)}},[]);var _e=E.useRef();_e.current=ue;var Te=E.useRef();Te.current=ye,E.useEffect(function(){if(D){var ke,Oe=function(Ke){var He=pe.current,nt=He.dragging,Je=He.pageY,ut=He.startTop;Fr.cancel(ke);var lt=te.current.getBoundingClientRect(),et=_/(I?lt.width:lt.height);if(nt){var Ye=(mP(Ke,I)-Je)*et,pt=ut;!J&&I?pt-=Ye:pt+=Ye;var ct=_e.current,xt=Te.current,jt=xt?pt/xt:0,Ut=Math.ceil(jt*ct);Ut=Math.max(Ut,0),Ut=Math.min(Ut,ct),ke=Fr(function(){S(Ut,I)})}},Ne=function(){j(!1),v()};return window.addEventListener("mousemove",Oe,{passive:!0}),window.addEventListener("touchmove",Oe,{passive:!0}),window.addEventListener("mouseup",Ne,{passive:!0}),window.addEventListener("touchend",Ne,{passive:!0}),function(){window.removeEventListener("mousemove",Oe),window.removeEventListener("touchmove",Oe),window.removeEventListener("mouseup",Ne),window.removeEventListener("touchend",Ne),Fr.cancel(ke)}}},[D]),E.useEffect(function(){return he(),function(){clearTimeout(de.current)}},[i]),E.useImperativeHandle(t,function(){return{delayHidden:he}});var Se="".concat(n,"-scrollbar"),De={position:"absolute",visibility:ee?null:"hidden"},je={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return I?(Object.assign(De,{height:8,left:0,right:0,bottom:0}),Object.assign(je,Ce({height:"100%",width:T},J?"left":"right",be))):(Object.assign(De,Ce({width:8,top:0,bottom:0},J?"right":"left",0)),Object.assign(je,{width:"100%",height:T,top:be})),E.createElement("div",{ref:te,className:Ue(Se,Ce(Ce(Ce({},"".concat(Se,"-horizontal"),I),"".concat(Se,"-vertical"),!I),"".concat(Se,"-visible"),ee)),style:Pe(Pe({},De),N),onMouseDown:oe,onMouseMove:he},E.createElement("div",{ref:Z,className:Ue("".concat(Se,"-thumb"),Ce({},"".concat(Se,"-thumb-moving"),D)),style:Pe(Pe({},je),A),onMouseDown:fe}))}),Cge=20;function WF(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=e/t*e;return isNaN(n)&&(n=0),n=Math.max(n,Cge),Math.floor(n)}var Tge=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],Mge=[],_ge={overflowY:"auto",overflowAnchor:"none"};function xge(e,t){var n=e.prefixCls,r=n===void 0?"rc-virtual-list":n,i=e.className,d=e.height,g=e.itemHeight,v=e.fullHeight,S=v===void 0?!0:v,I=e.style,T=e.data,_=e.children,N=e.itemKey,A=e.virtual,w=e.direction,O=e.scrollWidth,R=e.component,D=R===void 0?"div":R,j=e.onScroll,L=e.onVirtualScroll,U=e.onVisibleChange,$=e.innerProps,F=e.extraRender,z=e.styles,H=e.showScrollBar,V=H===void 0?"optional":H,K=ir(e,Tge),J=E.useCallback(function(gn){return typeof N=="function"?N(gn):gn==null?void 0:gn[N]},[N]),te=yge(J),Z=at(te,4),X=Z[0],re=Z[1],ee=Z[2],ae=Z[3],de=!!(A!==!1&&d&&g),he=E.useMemo(function(){return Object.values(ee.maps).reduce(function(gn,Pn){return gn+Pn},0)},[ee.id,ee.maps]),ue=de&&T&&(Math.max(g*T.length,he)>d||!!O),ye=w==="rtl",be=Ue(r,Ce({},"".concat(r,"-rtl"),ye),i),oe=T||Mge,pe=E.useRef(),fe=E.useRef(),_e=E.useRef(),Te=E.useState(0),Se=at(Te,2),De=Se[0],je=Se[1],ke=E.useState(0),Oe=at(ke,2),Ne=Oe[0],qe=Oe[1],Ke=E.useState(!1),He=at(Ke,2),nt=He[0],Je=He[1],ut=function(){Je(!0)},lt=function(){Je(!1)},et={getKey:J};function Ye(gn){je(function(Pn){var Cn;typeof gn=="function"?Cn=gn(Pn):Cn=gn;var en=Fn(Cn);return pe.current.scrollTop=en,en})}var pt=E.useRef({start:0,end:oe.length}),ct=E.useRef(),xt=fge(oe,J),jt=at(xt,1),Ut=jt[0];ct.current=Ut;var Vt=E.useMemo(function(){if(!de)return{scrollHeight:void 0,start:0,end:oe.length-1,offset:void 0};if(!ue){var gn;return{scrollHeight:((gn=fe.current)===null||gn===void 0?void 0:gn.offsetHeight)||0,start:0,end:oe.length-1,offset:void 0}}for(var Pn=0,Cn,en,kn,Cr=oe.length,Xr=0;Xr<Cr;Xr+=1){var Lt=oe[Xr],Yn=J(Lt),Xn=ee.get(Yn),vr=Pn+(Xn===void 0?g:Xn);vr>=De&&Cn===void 0&&(Cn=Xr,en=Pn),vr>De+d&&kn===void 0&&(kn=Xr),Pn=vr}return Cn===void 0&&(Cn=0,en=0,kn=Math.ceil(d/g)),kn===void 0&&(kn=oe.length-1),kn=Math.min(kn+1,oe.length-1),{scrollHeight:Pn,start:Cn,end:kn,offset:en}},[ue,de,De,oe,ae,d]),wt=Vt.scrollHeight,Bt=Vt.start,Pt=Vt.end,ot=Vt.offset;pt.current.start=Bt,pt.current.end=Pt,E.useLayoutEffect(function(){var gn=ee.getRecord();if(gn.size===1){var Pn=Array.from(gn.keys())[0],Cn=gn.get(Pn),en=oe[Bt];if(en&&Cn===void 0){var kn=J(en);if(kn===Pn){var Cr=ee.get(Pn),Xr=Cr-g;Ye(function(Lt){return Lt+Xr})}}}ee.resetRecord()},[wt]);var qt=E.useState({width:0,height:d}),vt=at(qt,2),bt=vt[0],yt=vt[1],gt=function(Pn){yt({width:Pn.offsetWidth,height:Pn.offsetHeight})},Jt=E.useRef(),bn=E.useRef(),Qn=E.useMemo(function(){return WF(bt.width,O)},[bt.width,O]),Dn=E.useMemo(function(){return WF(bt.height,wt)},[bt.height,wt]),tn=wt-d,_n=E.useRef(tn);_n.current=tn;function Fn(gn){var Pn=gn;return Number.isNaN(_n.current)||(Pn=Math.min(Pn,_n.current)),Pn=Math.max(Pn,0),Pn}var Wt=De<=0,xn=De>=tn,En=Ne<=0,Sn=Ne>=O,Qt=wW(Wt,xn,En,Sn),Rn=function(){return{x:ye?-Ne:Ne,y:De}},fn=E.useRef(Rn()),Gt=xa(function(gn){if(L){var Pn=Pe(Pe({},Rn()),gn);(fn.current.x!==Pn.x||fn.current.y!==Pn.y)&&(L(Pn),fn.current=Pn)}});function Xt(gn,Pn){var Cn=gn;Pn?(Ac.flushSync(function(){qe(Cn)}),Gt()):Ye(Cn)}function $n(gn){var Pn=gn.currentTarget.scrollTop;Pn!==De&&Ye(Pn),j==null||j(gn),Gt()}var Un=function(Pn){var Cn=Pn,en=O?O-bt.width:0;return Cn=Math.max(Cn,0),Cn=Math.min(Cn,en),Cn},jn=xa(function(gn,Pn){Pn?(Ac.flushSync(function(){qe(function(Cn){var en=Cn+(ye?-gn:gn);return Un(en)})}),Gt()):Ye(function(Cn){var en=Cn+gn;return en})}),Zn=gge(de,Wt,xn,En,Sn,!!O,jn),An=at(Zn,2),On=An[0],sn=An[1];bge(de,pe,function(gn,Pn,Cn,en){var kn=en;return Qt(gn,Pn,Cn)?!1:!kn||!kn._virtualHandled?(kn&&(kn._virtualHandled=!0),On({preventDefault:function(){},deltaX:gn?Pn:0,deltaY:gn?0:Pn}),!0):!1}),Sge(ue,pe,function(gn){Ye(function(Pn){return Pn+gn})}),Hr(function(){function gn(Cn){var en=Wt&&Cn.detail<0,kn=xn&&Cn.detail>0;de&&!en&&!kn&&Cn.preventDefault()}var Pn=pe.current;return Pn.addEventListener("wheel",On,{passive:!1}),Pn.addEventListener("DOMMouseScroll",sn,{passive:!0}),Pn.addEventListener("MozMousePixelScroll",gn,{passive:!1}),function(){Pn.removeEventListener("wheel",On),Pn.removeEventListener("DOMMouseScroll",sn),Pn.removeEventListener("MozMousePixelScroll",gn)}},[de,Wt,xn]),Hr(function(){if(O){var gn=Un(Ne);qe(gn),Gt({x:gn})}},[bt.width,O]);var tr=function(){var Pn,Cn;(Pn=Jt.current)===null||Pn===void 0||Pn.delayHidden(),(Cn=bn.current)===null||Cn===void 0||Cn.delayHidden()},wr=Ege(pe,oe,ee,g,J,function(){return re(!0)},Ye,tr);E.useImperativeHandle(t,function(){return{nativeElement:_e.current,getScrollInfo:Rn,scrollTo:function(Pn){function Cn(en){return en&&qn(en)==="object"&&("left"in en||"top"in en)}Cn(Pn)?(Pn.left!==void 0&&qe(Un(Pn.left)),wr(Pn.top)):wr(Pn)}}}),Hr(function(){if(U){var gn=oe.slice(Bt,Pt+1);U(gn,oe)}},[Bt,Pt,oe]);var Ar=hge(oe,J,ee,g),nn=F==null?void 0:F({start:Bt,end:Pt,virtual:ue,offsetX:Ne,offsetY:ot,rtl:ye,getSize:Ar}),jr=pge(oe,Bt,Pt,O,Ne,X,_,et),Ur=null;d&&(Ur=Pe(Ce({},S?"height":"maxHeight",d),_ge),de&&(Ur.overflowY="hidden",O&&(Ur.overflowX="hidden"),nt&&(Ur.pointerEvents="none")));var Pr={};return ye&&(Pr.dir="rtl"),E.createElement("div",kt({ref:_e,style:Pe(Pe({},I),{},{position:"relative"}),className:be},Pr,K),E.createElement(Do,{onResize:gt},E.createElement(D,{className:"".concat(r,"-holder"),style:Ur,ref:pe,onScroll:$n,onMouseEnter:tr},E.createElement(xW,{prefixCls:r,height:wt,offsetX:Ne,offsetY:ot,scrollWidth:O,onInnerResize:re,ref:fe,innerProps:$,rtl:ye,extra:nn},jr))),ue&&wt>d&&E.createElement(KF,{ref:Jt,prefixCls:r,scrollOffset:De,scrollRange:wt,rtl:ye,onScroll:Xt,onStartMove:ut,onStopMove:lt,spinSize:Dn,containerSize:bt.height,style:z==null?void 0:z.verticalScrollBar,thumbStyle:z==null?void 0:z.verticalScrollBarThumb,showScrollBar:V}),ue&&O>bt.width&&E.createElement(KF,{ref:bn,prefixCls:r,scrollOffset:Ne,scrollRange:O,rtl:ye,onScroll:Xt,onStartMove:ut,onStopMove:lt,spinSize:Qn,containerSize:bt.width,horizontal:!0,style:z==null?void 0:z.horizontalScrollBar,thumbStyle:z==null?void 0:z.horizontalScrollBarThumb,showScrollBar:V}))}var C_=E.forwardRef(xge);C_.displayName="List";function wge(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Nge=["disabled","title","children","style","className"];function YF(e){return typeof e=="string"||typeof e=="number"}var Rge=function(t,n){var r=ffe(),i=r.prefixCls,d=r.id,g=r.open,v=r.multiple,S=r.mode,I=r.searchValue,T=r.toggleOpen,_=r.notFoundContent,N=r.onPopupScroll,A=E.useContext(RD),w=A.maxCount,O=A.flattenOptions,R=A.onActiveValue,D=A.defaultActiveFirstOption,j=A.onSelect,L=A.menuItemSelectedIcon,U=A.rawValues,$=A.fieldNames,F=A.virtual,z=A.direction,H=A.listHeight,V=A.listItemHeight,K=A.optionRender,J="".concat(i,"-item"),te=Sg(function(){return O},[g,O],function(ke,Oe){return Oe[0]&&ke[1]!==Oe[1]}),Z=E.useRef(null),X=E.useMemo(function(){return v&&uP(w)&&(U==null?void 0:U.size)>=w},[v,w,U==null?void 0:U.size]),re=function(Oe){Oe.preventDefault()},ee=function(Oe){var Ne;(Ne=Z.current)===null||Ne===void 0||Ne.scrollTo(typeof Oe=="number"?{index:Oe}:Oe)},ae=E.useCallback(function(ke){return S==="combobox"?!1:U.has(ke)},[S,Rt(U).toString(),U.size]),de=function(Oe){for(var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,qe=te.length,Ke=0;Ke<qe;Ke+=1){var He=(Oe+Ke*Ne+qe)%qe,nt=te[He]||{},Je=nt.group,ut=nt.data;if(!Je&&!(ut!=null&&ut.disabled)&&(ae(ut.value)||!X))return He}return-1},he=E.useState(function(){return de(0)}),ue=at(he,2),ye=ue[0],be=ue[1],oe=function(Oe){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;be(Oe);var qe={source:Ne?"keyboard":"mouse"},Ke=te[Oe];if(!Ke){R(null,-1,qe);return}R(Ke.value,Oe,qe)};E.useEffect(function(){oe(D!==!1?de(0):-1)},[te.length,I]);var pe=E.useCallback(function(ke){return S==="combobox"?String(ke).toLowerCase()===I.toLowerCase():U.has(ke)},[S,I,Rt(U).toString(),U.size]);E.useEffect(function(){var ke=setTimeout(function(){if(!v&&g&&U.size===1){var Ne=Array.from(U)[0],qe=te.findIndex(function(Ke){var He=Ke.data;return I?String(He.value).startsWith(I):He.value===Ne});qe!==-1&&(oe(qe),ee(qe))}});if(g){var Oe;(Oe=Z.current)===null||Oe===void 0||Oe.scrollTo(void 0)}return function(){return clearTimeout(ke)}},[g,I]);var fe=function(Oe){Oe!==void 0&&j(Oe,{selected:!U.has(Oe)}),v||T(!1)};if(E.useImperativeHandle(n,function(){return{onKeyDown:function(Oe){var Ne=Oe.which,qe=Oe.ctrlKey;switch(Ne){case Vn.N:case Vn.P:case Vn.UP:case Vn.DOWN:{var Ke=0;if(Ne===Vn.UP?Ke=-1:Ne===Vn.DOWN?Ke=1:wge()&&qe&&(Ne===Vn.N?Ke=1:Ne===Vn.P&&(Ke=-1)),Ke!==0){var He=de(ye+Ke,Ke);ee(He),oe(He,!0)}break}case Vn.TAB:case Vn.ENTER:{var nt,Je=te[ye];Je&&!(Je!=null&&(nt=Je.data)!==null&&nt!==void 0&&nt.disabled)&&!X?fe(Je.value):fe(void 0),g&&Oe.preventDefault();break}case Vn.ESC:T(!1),g&&Oe.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Oe){ee(Oe)}}}),te.length===0)return E.createElement("div",{role:"listbox",id:"".concat(d,"_list"),className:"".concat(J,"-empty"),onMouseDown:re},_);var _e=Object.keys($).map(function(ke){return $[ke]}),Te=function(Oe){return Oe.label};function Se(ke,Oe){var Ne=ke.group;return{role:Ne?"presentation":"option",id:"".concat(d,"_list_").concat(Oe)}}var De=function(Oe){var Ne=te[Oe];if(!Ne)return null;var qe=Ne.data||{},Ke=qe.value,He=Ne.group,nt=ws(qe,!0),Je=Te(Ne);return Ne?E.createElement("div",kt({"aria-label":typeof Je=="string"&&!He?Je:null},nt,{key:Oe},Se(Ne,Oe),{"aria-selected":pe(Ke)}),Ke):null},je={role:"listbox",id:"".concat(d,"_list")};return E.createElement(E.Fragment,null,F&&E.createElement("div",kt({},je,{style:{height:0,width:0,overflow:"hidden"}}),De(ye-1),De(ye),De(ye+1)),E.createElement(C_,{itemKey:"key",ref:Z,data:te,height:H,itemHeight:V,fullHeight:!1,onMouseDown:re,onScroll:N,virtual:F,direction:z,innerProps:F?null:je},function(ke,Oe){var Ne=ke.group,qe=ke.groupOption,Ke=ke.data,He=ke.label,nt=ke.value,Je=Ke.key;if(Ne){var ut,lt=(ut=Ke.title)!==null&&ut!==void 0?ut:YF(He)?He.toString():void 0;return E.createElement("div",{className:Ue(J,"".concat(J,"-group"),Ke.className),title:lt},He!==void 0?He:Je)}var et=Ke.disabled,Ye=Ke.title;Ke.children;var pt=Ke.style,ct=Ke.className,xt=ir(Ke,Nge),jt=ri(xt,_e),Ut=ae(nt),Vt=et||!Ut&&X,wt="".concat(J,"-option"),Bt=Ue(J,wt,ct,Ce(Ce(Ce(Ce({},"".concat(wt,"-grouped"),qe),"".concat(wt,"-active"),ye===Oe&&!Vt),"".concat(wt,"-disabled"),Vt),"".concat(wt,"-selected"),Ut)),Pt=Te(ke),ot=!L||typeof L=="function"||Ut,qt=typeof Pt=="number"?Pt:Pt||nt,vt=YF(qt)?qt.toString():void 0;return Ye!==void 0&&(vt=Ye),E.createElement("div",kt({},ws(jt),F?{}:Se(ke,Oe),{"aria-selected":pe(nt),className:Bt,title:vt,onMouseMove:function(){ye===Oe||Vt||oe(Oe)},onClick:function(){Vt||fe(nt)},style:pt}),E.createElement("div",{className:"".concat(wt,"-content")},typeof K=="function"?K(ke,{index:Oe}):qt),E.isValidElement(L)||Ut,ot&&E.createElement(I_,{className:"".concat(J,"-option-state"),customizeIcon:L,customizeIconProps:{value:nt,disabled:Vt,isSelected:Ut}},Ut?"✓":null))}))},Age=E.forwardRef(Rge);const Oge=function(e,t){var n=E.useRef({values:new Map,options:new Map}),r=E.useMemo(function(){var d=n.current,g=d.values,v=d.options,S=e.map(function(_){if(_.label===void 0){var N;return Pe(Pe({},_),{},{label:(N=g.get(_.value))===null||N===void 0?void 0:N.label})}return _}),I=new Map,T=new Map;return S.forEach(function(_){I.set(_.value,_),T.set(_.value,t.get(_.value)||v.get(_.value))}),n.current.values=I,n.current.options=T,S},[e,t]),i=E.useCallback(function(d){return t.get(d)||n.current.options.get(d)},[t]);return[r,i]};function sN(e,t){return TW(e).join("").toUpperCase().includes(t)}const kge=function(e,t,n,r,i){return E.useMemo(function(){if(!n||r===!1)return e;var d=t.options,g=t.label,v=t.value,S=[],I=typeof r=="function",T=n.toUpperCase(),_=I?r:function(A,w){return i?sN(w[i],T):w[d]?sN(w[g!=="children"?g:"label"],T):sN(w[v],T)},N=I?function(A){return dP(A)}:function(A){return A};return e.forEach(function(A){if(A[d]){var w=_(n,N(A));if(w)S.push(A);else{var O=A[d].filter(function(R){return _(n,N(R))});O.length&&S.push(Pe(Pe({},A),{},Ce({},d,O)))}return}_(n,N(A))&&S.push(A)}),S},[e,r,i,n,t])};var XF=0,Lge=jo();function Pge(){var e;return Lge?(e=XF,XF+=1):e="TEST_OR_SSR",e}function Dge(e){var t=E.useState(),n=at(t,2),r=n[0],i=n[1];return E.useEffect(function(){i("rc_select_".concat(Pge()))},[]),e||r}var jge=["children","value"],Vge=["children"];function $ge(e){var t=e,n=t.key,r=t.props,i=r.children,d=r.value,g=ir(r,jge);return Pe({key:n,value:d!==void 0?d:n,children:i},g)}function NW(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return ps(e).map(function(n,r){if(!E.isValidElement(n)||!n.type)return null;var i=n,d=i.type.isSelectOptGroup,g=i.key,v=i.props,S=v.children,I=ir(v,Vge);return t||!d?$ge(n):Pe(Pe({key:"__RC_SELECT_GRP__".concat(g===null?r:g,"__"),label:g},I),{},{options:NW(S)})}).filter(function(n){return n})}var Uge=function(t,n,r,i,d){return E.useMemo(function(){var g=t,v=!t;v&&(g=NW(n));var S=new Map,I=new Map,T=function(A,w,O){O&&typeof O=="string"&&A.set(w[O],w)},_=function N(A){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,O=0;O<A.length;O+=1){var R=A[O];!R[r.options]||w?(S.set(R[r.value],R),T(I,R,r.label),T(I,R,i),T(I,R,d)):N(R[r.options],!0)}};return _(g),{options:g,valueOptions:S,labelOptions:I}},[t,n,r,i,d])};function JF(e){var t=E.useRef();t.current=e;var n=E.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}var Bge=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],Fge=["inputValue"];function qge(e){return!e||qn(e)!=="object"}var zge=E.forwardRef(function(e,t){var n=e.id,r=e.mode,i=e.prefixCls,d=i===void 0?"rc-select":i,g=e.backfill,v=e.fieldNames,S=e.inputValue,I=e.searchValue,T=e.onSearch,_=e.autoClearSearchValue,N=_===void 0?!0:_,A=e.onSelect,w=e.onDeselect,O=e.dropdownMatchSelectWidth,R=O===void 0?!0:O,D=e.filterOption,j=e.filterSort,L=e.optionFilterProp,U=e.optionLabelProp,$=e.options,F=e.optionRender,z=e.children,H=e.defaultActiveFirstOption,V=e.menuItemSelectedIcon,K=e.virtual,J=e.direction,te=e.listHeight,Z=te===void 0?200:te,X=e.listItemHeight,re=X===void 0?20:X,ee=e.labelRender,ae=e.value,de=e.defaultValue,he=e.labelInValue,ue=e.onChange,ye=e.maxCount,be=ir(e,Bge),oe=Dge(n),pe=pP(r),fe=!!(!$&&z),_e=E.useMemo(function(){return D===void 0&&r==="combobox"?!1:D},[D,r]),Te=E.useMemo(function(){return _W(v,fe)},[JSON.stringify(v),fe]),Se=Si("",{value:I!==void 0?I:S,postState:function(Xt){return Xt||""}}),De=at(Se,2),je=De[0],ke=De[1],Oe=Uge($,z,Te,L,U),Ne=Oe.valueOptions,qe=Oe.labelOptions,Ke=Oe.options,He=E.useCallback(function(Gt){var Xt=TW(Gt);return Xt.map(function($n){var Un,jn,Zn,An,On;if(qge($n))Un=$n;else{var sn;Zn=$n.key,jn=$n.label,Un=(sn=$n.value)!==null&&sn!==void 0?sn:Zn}var tr=Ne.get(Un);if(tr){var wr;jn===void 0&&(jn=tr==null?void 0:tr[U||Te.label]),Zn===void 0&&(Zn=(wr=tr==null?void 0:tr.key)!==null&&wr!==void 0?wr:Un),An=tr==null?void 0:tr.disabled,On=tr==null?void 0:tr.title}return{label:jn,value:Un,key:Zn,disabled:An,title:On}})},[Te,U,Ne]),nt=Si(de,{value:ae}),Je=at(nt,2),ut=Je[0],lt=Je[1],et=E.useMemo(function(){var Gt,Xt=pe&&ut===null?[]:ut,$n=He(Xt);return r==="combobox"&&Pfe((Gt=$n[0])===null||Gt===void 0?void 0:Gt.value)?[]:$n},[ut,He,r,pe]),Ye=Oge(et,Ne),pt=at(Ye,2),ct=pt[0],xt=pt[1],jt=E.useMemo(function(){if(!r&&ct.length===1){var Gt=ct[0];if(Gt.value===null&&(Gt.label===null||Gt.label===void 0))return[]}return ct.map(function(Xt){var $n;return Pe(Pe({},Xt),{},{label:($n=typeof ee=="function"?ee(Xt):Xt.label)!==null&&$n!==void 0?$n:Xt.value})})},[r,ct,ee]),Ut=E.useMemo(function(){return new Set(ct.map(function(Gt){return Gt.value}))},[ct]);E.useEffect(function(){if(r==="combobox"){var Gt,Xt=(Gt=ct[0])===null||Gt===void 0?void 0:Gt.value;ke(Lfe(Xt)?String(Xt):"")}},[ct]);var Vt=JF(function(Gt,Xt){var $n=Xt??Gt;return Ce(Ce({},Te.value,Gt),Te.label,$n)}),wt=E.useMemo(function(){if(r!=="tags")return Ke;var Gt=Rt(Ke),Xt=function(Un){return Ne.has(Un)};return Rt(ct).sort(function($n,Un){return $n.value<Un.value?-1:1}).forEach(function($n){var Un=$n.value;Xt(Un)||Gt.push(Vt(Un,$n.label))}),Gt},[Vt,Ke,Ne,ct,r]),Bt=kge(wt,Te,je,_e,L),Pt=E.useMemo(function(){return r!=="tags"||!je||Bt.some(function(Gt){return Gt[L||"value"]===je})||Bt.some(function(Gt){return Gt[Te.value]===je})?Bt:[Vt(je)].concat(Rt(Bt))},[Vt,L,r,Bt,je,Te]),ot=function Gt(Xt){var $n=Rt(Xt).sort(function(Un,jn){return j(Un,jn,{searchValue:je})});return $n.map(function(Un){return Array.isArray(Un.options)?Pe(Pe({},Un),{},{options:Un.options.length>0?Gt(Un.options):Un.options}):Un})},qt=E.useMemo(function(){return j?ot(Pt):Pt},[Pt,j,je]),vt=E.useMemo(function(){return ige(qt,{fieldNames:Te,childrenAsData:fe})},[qt,Te,fe]),bt=function(Xt){var $n=He(Xt);if(lt($n),ue&&($n.length!==ct.length||$n.some(function(Zn,An){var On;return((On=ct[An])===null||On===void 0?void 0:On.value)!==(Zn==null?void 0:Zn.value)}))){var Un=he?$n:$n.map(function(Zn){return Zn.value}),jn=$n.map(function(Zn){return dP(xt(Zn.value))});ue(pe?Un:Un[0],pe?jn:jn[0])}},yt=E.useState(null),gt=at(yt,2),Jt=gt[0],bn=gt[1],Qn=E.useState(0),Dn=at(Qn,2),tn=Dn[0],_n=Dn[1],Fn=H!==void 0?H:r!=="combobox",Wt=E.useCallback(function(Gt,Xt){var $n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Un=$n.source,jn=Un===void 0?"keyboard":Un;_n(Xt),g&&r==="combobox"&&Gt!==null&&jn==="keyboard"&&bn(String(Gt))},[g,r]),xn=function(Xt,$n,Un){var jn=function(){var Ur,Pr=xt(Xt);return[he?{label:Pr==null?void 0:Pr[Te.label],value:Xt,key:(Ur=Pr==null?void 0:Pr.key)!==null&&Ur!==void 0?Ur:Xt}:Xt,dP(Pr)]};if($n&&A){var Zn=jn(),An=at(Zn,2),On=An[0],sn=An[1];A(On,sn)}else if(!$n&&w&&Un!=="clear"){var tr=jn(),wr=at(tr,2),Ar=wr[0],nn=wr[1];w(Ar,nn)}},En=JF(function(Gt,Xt){var $n,Un=pe?Xt.selected:!0;Un?$n=pe?[].concat(Rt(ct),[Gt]):[Gt]:$n=ct.filter(function(jn){return jn.value!==Gt}),bt($n),xn(Gt,Un),r==="combobox"?bn(""):(!pP||N)&&(ke(""),bn(""))}),Sn=function(Xt,$n){bt(Xt);var Un=$n.type,jn=$n.values;(Un==="remove"||Un==="clear")&&jn.forEach(function(Zn){xn(Zn.value,!1,Un)})},Qt=function(Xt,$n){if(ke(Xt),bn(null),$n.source==="submit"){var Un=(Xt||"").trim();if(Un){var jn=Array.from(new Set([].concat(Rt(Ut),[Un])));bt(jn),xn(Un,!0),ke("")}return}$n.source!=="blur"&&(r==="combobox"&&bt(Xt),T==null||T(Xt))},Rn=function(Xt){var $n=Xt;r!=="tags"&&($n=Xt.map(function(jn){var Zn=qe.get(jn);return Zn==null?void 0:Zn.value}).filter(function(jn){return jn!==void 0}));var Un=Array.from(new Set([].concat(Rt(Ut),Rt($n))));bt(Un),Un.forEach(function(jn){xn(jn,!0)})},fn=E.useMemo(function(){var Gt=K!==!1&&R!==!1;return Pe(Pe({},Oe),{},{flattenOptions:vt,onActiveValue:Wt,defaultActiveFirstOption:Fn,onSelect:En,menuItemSelectedIcon:V,rawValues:Ut,fieldNames:Te,virtual:Gt,direction:J,listHeight:Z,listItemHeight:re,childrenAsData:fe,maxCount:ye,optionRender:F})},[ye,Oe,vt,Wt,Fn,En,V,Ut,Te,K,R,J,Z,re,fe,F]);return E.createElement(RD.Provider,{value:fn},E.createElement(uge,kt({},be,{id:oe,prefixCls:d,ref:t,omitDomProps:Fge,mode:r,displayValues:jt,onDisplayValuesChange:Sn,direction:J,searchValue:je,onSearch:Qt,autoClearSearchValue:N,onSearchSplit:Rn,dropdownMatchSelectWidth:R,OptionList:Age,emptyOptions:!vt.length,activeValue:Jt,activeDescendantId:"".concat(oe,"_list_").concat(tn)})))}),kD=zge;kD.Option=OD;kD.OptGroup=AD;function hy(e,t,n){return Ue({[`${e}-status-success`]:t==="success",[`${e}-status-warning`]:t==="warning",[`${e}-status-error`]:t==="error",[`${e}-status-validating`]:t==="validating",[`${e}-has-feedback`]:n})}const x0=(e,t)=>t||e,Hge=()=>{const[,e]=ms(),[t]=Tm("Empty"),r=new wa(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return E.createElement("svg",{style:r,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},E.createElement("title",null,(t==null?void 0:t.description)||"Empty"),E.createElement("g",{fill:"none",fillRule:"evenodd"},E.createElement("g",{transform:"translate(24 31.67)"},E.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),E.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),E.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),E.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),E.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),E.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),E.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},E.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),E.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Gge=()=>{const[,e]=ms(),[t]=Tm("Empty"),{colorFill:n,colorFillTertiary:r,colorFillQuaternary:i,colorBgContainer:d}=e,{borderColor:g,shadowColor:v,contentColor:S}=E.useMemo(()=>({borderColor:new wa(n).onBackground(d).toHexString(),shadowColor:new wa(r).onBackground(d).toHexString(),contentColor:new wa(i).onBackground(d).toHexString()}),[n,r,i,d]);return E.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},E.createElement("title",null,(t==null?void 0:t.description)||"Empty"),E.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},E.createElement("ellipse",{fill:v,cx:"32",cy:"33",rx:"32",ry:"7"}),E.createElement("g",{fillRule:"nonzero",stroke:g},E.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),E.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:S}))))},Kge=e=>{const{componentCls:t,margin:n,marginXS:r,marginXL:i,fontSize:d,lineHeight:g}=e;return{[t]:{marginInline:r,fontSize:d,lineHeight:g,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:r,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorTextDescription},[`${t}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:e.colorTextDescription,[`${t}-description`]:{color:e.colorTextDescription},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:r,color:e.colorTextDescription,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}},Wge=fa("Empty",e=>{const{componentCls:t,controlHeightLG:n,calc:r}=e,i=qr(e,{emptyImgCls:`${t}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return[Kge(i)]});var Yge=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const RW=E.createElement(Hge,null),AW=E.createElement(Gge,null),Wi=e=>{const{className:t,rootClassName:n,prefixCls:r,image:i=RW,description:d,children:g,imageStyle:v,style:S,classNames:I,styles:T}=e,_=Yge(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:N,direction:A,className:w,style:O,classNames:R,styles:D}=Fo("empty"),j=N("empty",r),[L,U,$]=Wge(j),[F]=Tm("Empty"),z=typeof d<"u"?d:F==null?void 0:F.description,H=typeof z=="string"?z:"empty";let V=null;return typeof i=="string"?V=E.createElement("img",{alt:H,src:i}):V=i,L(E.createElement("div",Object.assign({className:Ue(U,$,j,w,{[`${j}-normal`]:i===AW,[`${j}-rtl`]:A==="rtl"},t,n,R.root,I==null?void 0:I.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},D.root),O),T==null?void 0:T.root),S)},_),E.createElement("div",{className:Ue(`${j}-image`,R.image,I==null?void 0:I.image),style:Object.assign(Object.assign(Object.assign({},v),D.image),T==null?void 0:T.image)},V),z&&E.createElement("div",{className:Ue(`${j}-description`,R.description,I==null?void 0:I.description),style:Object.assign(Object.assign({},D.description),T==null?void 0:T.description)},z),g&&E.createElement("div",{className:Ue(`${j}-footer`,R.footer,I==null?void 0:I.footer),style:Object.assign(Object.assign({},D.footer),T==null?void 0:T.footer)},g)))};Wi.PRESENTED_IMAGE_DEFAULT=RW;Wi.PRESENTED_IMAGE_SIMPLE=AW;const LD=e=>{const{componentName:t}=e,{getPrefixCls:n}=E.useContext(rr),r=n("empty");switch(t){case"Table":case"List":return Xe.createElement(Wi,{image:Wi.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return Xe.createElement(Wi,{image:Wi.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});case"Table.filter":return null;default:return Xe.createElement(Wi,null)}},w0=(e,t,n=void 0)=>{var r,i;const{variant:d,[e]:g}=E.useContext(rr),v=E.useContext(gW),S=g==null?void 0:g.variant;let I;typeof t<"u"?I=t:n===!1?I="borderless":I=(i=(r=v??S)!==null&&r!==void 0?r:d)!==null&&i!==void 0?i:"outlined";const T=ple.includes(I);return[I,T]},Xge=e=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:e==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function Jge(e,t){return e||Xge(t)}const QF=e=>{const{optionHeight:t,optionFontSize:n,optionLineHeight:r,optionPadding:i}=e;return{position:"relative",display:"block",minHeight:t,padding:i,color:e.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},Qge=e=>{const{antCls:t,componentCls:n}=e,r=`${n}-item`,i=`&${t}-slide-up-enter${t}-slide-up-enter-active`,d=`&${t}-slide-up-appear${t}-slide-up-appear-active`,g=`&${t}-slide-up-leave${t}-slide-up-leave-active`,v=`${n}-dropdown-placement-`,S=`${r}-option-selected`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},Sa(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`
          ${i}${v}bottomLeft,
          ${d}${v}bottomLeft
        `]:{animationName:yD},[`
          ${i}${v}topLeft,
          ${d}${v}topLeft,
          ${i}${v}topRight,
          ${d}${v}topRight
        `]:{animationName:SD},[`${g}${v}bottomLeft`]:{animationName:bD},[`
          ${g}${v}topLeft,
          ${g}${v}topRight
        `]:{animationName:ID},"&-hidden":{display:"none"},[r]:Object.assign(Object.assign({},QF(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},kc),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:e.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,[`${r}-option-state`]:{color:e.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.calc(e.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},QF(e)),{color:e.colorTextDisabled})}),[`${S}:has(+ ${S})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${S}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},bm(e,"slide-up"),bm(e,"slide-down"),kM(e,"move-up"),kM(e,"move-down")]},Zge=e=>{const{multipleSelectItemHeight:t,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:i}=e,d=e.max(e.calc(n).sub(r).equal(),0),g=e.max(e.calc(d).sub(i).equal(),0);return{basePadding:d,containerPadding:g,itemHeight:Le(t),itemLineHeight:Le(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}},ehe=e=>{const{multipleSelectItemHeight:t,selectHeight:n,lineWidth:r}=e;return e.calc(n).sub(t).div(2).sub(r).equal()},the=e=>{const{componentCls:t,iconCls:n,borderRadiusSM:r,motionDurationSlow:i,paddingXS:d,multipleItemColorDisabled:g,multipleItemBorderColorDisabled:v,colorIcon:S,colorIconHover:I,INTERNAL_FIXED_ITEM_MARGIN:T}=e;return{[`${t}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"calc(100% - 4px)",display:"inline-flex"},[`${t}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:T,borderRadius:r,cursor:"default",transition:`font-size ${i}, line-height ${i}, height ${i}`,marginInlineEnd:e.calc(T).mul(2).equal(),paddingInlineStart:d,paddingInlineEnd:e.calc(d).div(2).equal(),[`${t}-disabled&`]:{color:g,borderColor:v,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(d).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},Iy()),{display:"inline-flex",alignItems:"center",color:S,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:I}})}}}},nhe=(e,t)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=e,i=`${n}-selection-overflow`,d=e.multipleSelectItemHeight,g=ehe(e),v=t?`${n}-${t}`:"",S=Zge(e);return{[`${n}-multiple${v}`]:Object.assign(Object.assign({},the(e)),{[`${n}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:S.basePadding,paddingBlock:S.containerPadding,borderRadius:e.borderRadius,[`${n}-disabled&`]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Le(r)} 0`,lineHeight:Le(d),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:S.itemHeight,lineHeight:Le(S.itemLineHeight)},[`${n}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:Le(d),marginBlock:r}},[`${n}-prefix`]:{marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(S.basePadding).equal()},[`${i}-item + ${i}-item,
        ${n}-prefix + ${n}-selection-wrap
      `]:{[`${n}-selection-search`]:{marginInlineStart:0},[`${n}-selection-placeholder`]:{insetInlineStart:0}},[`${i}-item-suffix`]:{minHeight:S.itemHeight,marginBlock:r},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(g).equal(),"\n          &-input,\n          &-mirror\n        ":{height:d,fontFamily:e.fontFamily,lineHeight:Le(d),transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(S.basePadding).equal(),insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}})}};function lN(e,t){const{componentCls:n}=e,r=t?`${n}-${t}`:"",i={[`${n}-multiple${r}`]:{fontSize:e.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:e.calc(e.fontSizeIcon).add(e.controlPaddingHorizontal).equal()}}};return[nhe(e,t),i]}const rhe=e=>{const{componentCls:t}=e,n=qr(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),r=qr(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius});return[lN(e),lN(n,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInline:e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal()},[`${t}-selection-search`]:{marginInlineStart:2}}},lN(r,"lg")]};function cN(e,t){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:i}=e,d=e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),g=t?`${n}-${t}`:"";return{[`${n}-single${g}`]:{fontSize:e.fontSize,height:e.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},Sa(e,!0)),{display:"flex",borderRadius:i,flex:"1 1 auto",[`${n}-selection-wrap:after`]:{lineHeight:Le(d)},[`${n}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:Le(d),transition:`all ${e.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-search,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:e.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${Le(r)}`,[`${n}-selection-search-input`]:{height:d,fontSize:e.fontSize},"&:after":{lineHeight:Le(d)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${Le(r)}`,"&:after":{display:"none"}}}}}}}function ahe(e){const{componentCls:t}=e,n=e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal();return[cN(e),cN(qr(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selector`]:{padding:`0 ${Le(n)}`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:e.calc(n).add(e.calc(e.fontSize).mul(1.5)).equal()},[`
            &${t}-show-arrow ${t}-selection-item,
            &${t}-show-arrow ${t}-selection-placeholder
          `]:{paddingInlineEnd:e.calc(e.fontSize).mul(1.5).equal()}}}},cN(qr(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const ihe=e=>{const{fontSize:t,lineHeight:n,lineWidth:r,controlHeight:i,controlHeightSM:d,controlHeightLG:g,paddingXXS:v,controlPaddingHorizontal:S,zIndexPopupBase:I,colorText:T,fontWeightStrong:_,controlItemBgActive:N,controlItemBgHover:A,colorBgContainer:w,colorFillSecondary:O,colorBgContainerDisabled:R,colorTextDisabled:D,colorPrimaryHover:j,colorPrimary:L,controlOutline:U}=e,$=v*2,F=r*2,z=Math.min(i-$,i-F),H=Math.min(d-$,d-F),V=Math.min(g-$,g-F);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(v/2),zIndexPopup:I+50,optionSelectedColor:T,optionSelectedFontWeight:_,optionSelectedBg:N,optionActiveBg:A,optionPadding:`${(i-t*n)/2}px ${S}px`,optionFontSize:t,optionLineHeight:n,optionHeight:i,selectorBg:w,clearBg:w,singleItemHeightLG:g,multipleItemBg:O,multipleItemBorderColor:"transparent",multipleItemHeight:z,multipleItemHeightSM:H,multipleItemHeightLG:V,multipleSelectorBgDisabled:R,multipleItemColorDisabled:D,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(e.fontSize*1.25),hoverBorderColor:j,activeBorderColor:L,activeOutlineColor:U,selectAffixPadding:v}},OW=(e,t)=>{const{componentCls:n,antCls:r,controlOutlineWidth:i}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${Le(e.lineWidth)} ${e.lineType} ${t.borderColor}`,background:e.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:t.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:t.activeBorderColor,boxShadow:`0 0 0 ${Le(i)} ${t.activeOutlineColor}`,outline:0},[`${n}-prefix`]:{color:t.color}}}},ZF=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},OW(e,t))}),ohe=e=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},OW(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),ZF(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),ZF(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${Le(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),kW=(e,t)=>{const{componentCls:n,antCls:r}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:t.bg,border:`${Le(e.lineWidth)} ${e.lineType} transparent`,color:t.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:t.hoverBg},[`${n}-focused& ${n}-selector`]:{background:e.selectorBg,borderColor:t.activeBorderColor,outline:0}}}},e3=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},kW(e,t))}),she=e=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},kW(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor,color:e.colorText})),e3(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,color:e.colorError})),e3(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{borderColor:e.colorBorder,background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.colorBgContainer,border:`${Le(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}})}),lhe=e=>({"&-borderless":{[`${e.componentCls}-selector`]:{background:"transparent",border:`${Le(e.lineWidth)} ${e.lineType} transparent`},[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${Le(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`},[`&${e.componentCls}-status-error`]:{[`${e.componentCls}-prefix, ${e.componentCls}-selection-item`]:{color:e.colorError}},[`&${e.componentCls}-status-warning`]:{[`${e.componentCls}-prefix, ${e.componentCls}-selection-item`]:{color:e.colorWarning}}}}),LW=(e,t)=>{const{componentCls:n,antCls:r}=e;return{[`&:not(${n}-customize-input) ${n}-selector`]:{borderWidth:`0 0 ${Le(e.lineWidth)} 0`,borderStyle:`none none ${e.lineType} none`,borderColor:t.borderColor,background:e.selectorBg,borderRadius:0},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:t.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:t.activeBorderColor,outline:0},[`${n}-prefix`]:{color:t.color}}}},t3=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},LW(e,t))}),che=e=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},LW(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),t3(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),t3(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${Le(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),uhe=e=>({[e.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},ohe(e)),she(e)),lhe(e)),che(e))}),dhe=e=>{const{componentCls:t}=e;return{position:"relative",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${t}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},phe=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none",appearance:"none"}}}},mhe=e=>{const{antCls:t,componentCls:n,inputPaddingHorizontalBase:r,iconCls:i}=e,d={[`${n}-clear`]:{opacity:1,background:e.colorBgBase,borderRadius:"50%"}};return{[n]:Object.assign(Object.assign({},Sa(e)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},dhe(e)),phe(e)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},kc),{[`> ${t}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},kc),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},Iy()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${e.motionDurationSlow} ease`,[i]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${n}-prefix`]:{flex:"none",marginInlineEnd:e.selectAffixPadding},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto",transform:"translateZ(0)","&:before":{display:"block"},"&:hover":{color:e.colorIcon}},"@media(hover:none)":d,"&:hover":d}),[`${n}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:e.calc(r).add(e.fontSize).add(e.paddingXS).equal()}}}}}},fhe=e=>{const{componentCls:t}=e;return[{[t]:{[`&${t}-in-form-item`]:{width:"100%"}}},mhe(e),ahe(e),rhe(e),Qge(e),{[`${t}-rtl`]:{direction:"rtl"}},v_(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]},ghe=fa("Select",(e,{rootPrefixCls:t})=>{const n=qr(e,{rootPrefixCls:t,inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[fhe(n),uhe(n)]},ihe,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var hhe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},vhe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:hhe}))},PD=E.forwardRef(vhe),yhe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},bhe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:yhe}))},DD=E.forwardRef(bhe),She={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Ihe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:She}))},jD=E.forwardRef(Ihe);function Ehe({suffixIcon:e,clearIcon:t,menuItemSelectedIcon:n,removeIcon:r,loading:i,multiple:d,hasFeedback:g,prefixCls:v,showSuffixIcon:S,feedbackIcon:I,showArrow:T,componentName:_}){const N=t??E.createElement(Cy,null),A=D=>e===null&&!g&&!T?null:E.createElement(E.Fragment,null,S!==!1&&D,g&&I);let w=null;if(e!==void 0)w=A(e);else if(i)w=A(E.createElement(kd,{spin:!0}));else{const D=`${v}-suffix`;w=({open:j,showSearch:L})=>A(j&&L?E.createElement(jD,{className:D}):E.createElement(DD,{className:D}))}let O=null;n!==void 0?O=n:d?O=E.createElement(PD,null):O=null;let R=null;return r!==void 0?R=r:R=E.createElement(Ty,null),{clearIcon:N,suffixIcon:w,itemIcon:O,removeIcon:R}}function Che(e,t){return t!==void 0?t:e!==null}var The=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const PW="SECRET_COMBOBOX_MODE_DO_NOT_USE",Mhe=(e,t)=>{var n,r,i,d,g;const{prefixCls:v,bordered:S,className:I,rootClassName:T,getPopupContainer:_,popupClassName:N,dropdownClassName:A,listHeight:w=256,placement:O,listItemHeight:R,size:D,disabled:j,notFoundContent:L,status:U,builtinPlacements:$,dropdownMatchSelectWidth:F,popupMatchSelectWidth:z,direction:H,style:V,allowClear:K,variant:J,dropdownStyle:te,transitionName:Z,tagRender:X,maxCount:re,prefix:ee,dropdownRender:ae,popupRender:de,onDropdownVisibleChange:he,onOpenChange:ue,styles:ye,classNames:be}=e,oe=The(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix","dropdownRender","popupRender","onDropdownVisibleChange","onOpenChange","styles","classNames"]),{getPopupContainer:pe,getPrefixCls:fe,renderEmpty:_e,direction:Te,virtual:Se,popupMatchSelectWidth:De,popupOverflow:je}=E.useContext(rr),{showSearch:ke,style:Oe,styles:Ne,className:qe,classNames:Ke}=Fo("select"),[,He]=ms(),nt=R??(He==null?void 0:He.controlHeight),Je=fe("select",v),ut=fe(),lt=H??Te,{compactSize:et,compactItemClassnames:Ye}=Ig(Je,lt),[pt,ct]=w0("select",J,S),xt=xo(Je),[jt,Ut,Vt]=ghe(Je,xt),wt=E.useMemo(()=>{const{mode:Un}=e;if(Un!=="combobox")return Un===PW?"combobox":Un},[e.mode]),Bt=wt==="multiple"||wt==="tags",Pt=Che(e.suffixIcon,e.showArrow),ot=(n=z??F)!==null&&n!==void 0?n:De,qt=((r=ye==null?void 0:ye.popup)===null||r===void 0?void 0:r.root)||((i=Ne.popup)===null||i===void 0?void 0:i.root)||te,vt=de||ae,bt=ue||he,{status:yt,hasFeedback:gt,isFormItemInput:Jt,feedbackIcon:bn}=E.useContext($o),Qn=x0(yt,U);let Dn;L!==void 0?Dn=L:wt==="combobox"?Dn=null:Dn=(_e==null?void 0:_e("Select"))||E.createElement(LD,{componentName:"Select"});const{suffixIcon:tn,itemIcon:_n,removeIcon:Fn,clearIcon:Wt}=Ehe(Object.assign(Object.assign({},oe),{multiple:Bt,hasFeedback:gt,feedbackIcon:bn,showSuffixIcon:Pt,prefixCls:Je,componentName:"Select"})),xn=K===!0?{clearIcon:Wt}:K,En=ri(oe,["suffixIcon","itemIcon"]),Sn=Ue(((d=be==null?void 0:be.popup)===null||d===void 0?void 0:d.root)||((g=Ke==null?void 0:Ke.popup)===null||g===void 0?void 0:g.root)||N||A,{[`${Je}-dropdown-${lt}`]:lt==="rtl"},T,Ke.root,be==null?void 0:be.root,Vt,xt,Ut),Qt=qo(Un=>{var jn;return(jn=D??et)!==null&&jn!==void 0?jn:Un}),Rn=E.useContext(Xs),fn=j??Rn,Gt=Ue({[`${Je}-lg`]:Qt==="large",[`${Je}-sm`]:Qt==="small",[`${Je}-rtl`]:lt==="rtl",[`${Je}-${pt}`]:ct,[`${Je}-in-form-item`]:Jt},hy(Je,Qn,gt),Ye,qe,I,Ke.root,be==null?void 0:be.root,T,Vt,xt,Ut),Xt=E.useMemo(()=>O!==void 0?O:lt==="rtl"?"bottomRight":"bottomLeft",[O,lt]),[$n]=i_("SelectLike",qt==null?void 0:qt.zIndex);return jt(E.createElement(kD,Object.assign({ref:t,virtual:Se,showSearch:ke},En,{style:Object.assign(Object.assign(Object.assign(Object.assign({},Ne.root),ye==null?void 0:ye.root),Oe),V),dropdownMatchSelectWidth:ot,transitionName:vD(ut,"slide-up",Z),builtinPlacements:Jge($,je),listHeight:w,listItemHeight:nt,mode:wt,prefixCls:Je,placement:Xt,direction:lt,prefix:ee,suffixIcon:tn,menuItemSelectedIcon:_n,removeIcon:Fn,allowClear:xn,notFoundContent:Dn,className:Gt,getPopupContainer:_||pe,dropdownClassName:Sn,disabled:fn,dropdownStyle:Object.assign(Object.assign({},qt),{zIndex:$n}),maxCount:Bt?re:void 0,tagRender:Bt?X:void 0,dropdownRender:vt,onDropdownVisibleChange:bt})))},an=E.forwardRef(Mhe),_he=vW(an,"dropdownAlign");an.SECRET_COMBOBOX_MODE_DO_NOT_USE=PW;an.Option=OD;an.OptGroup=AD;an._InternalPanelDoNotUseOrYouWillBeFired=_he;const DW=(e,t)=>{typeof(e==null?void 0:e.addEventListener)<"u"?e.addEventListener("change",t):typeof(e==null?void 0:e.addListener)<"u"&&e.addListener(t)},jW=(e,t)=>{typeof(e==null?void 0:e.removeEventListener)<"u"?e.removeEventListener("change",t):typeof(e==null?void 0:e.removeListener)<"u"&&e.removeListener(t)},hg=["xxl","xl","lg","md","sm","xs"],xhe=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),whe=e=>{const t=e,n=[].concat(hg).reverse();return n.forEach((r,i)=>{const d=r.toUpperCase(),g=`screen${d}Min`,v=`screen${d}`;if(!(t[g]<=t[v]))throw new Error(`${g}<=${v} fails : !(${t[g]}<=${t[v]})`);if(i<n.length-1){const S=`screen${d}Max`;if(!(t[v]<=t[S]))throw new Error(`${v}<=${S} fails : !(${t[v]}<=${t[S]})`);const T=`screen${n[i+1].toUpperCase()}Min`;if(!(t[S]<=t[T]))throw new Error(`${S}<=${T} fails : !(${t[S]}<=${t[T]})`)}}),e},Nhe=()=>{const[,e]=ms(),t=xhe(whe(e));return Xe.useMemo(()=>{const n=new Map;let r=-1,i={};return{responsiveMap:t,matchHandlers:{},dispatch(d){return i=d,n.forEach(g=>g(i)),n.size>=1},subscribe(d){return n.size||this.register(),r+=1,n.set(r,d),d(i),r},unsubscribe(d){n.delete(d),n.size||this.unregister()},register(){Object.entries(t).forEach(([d,g])=>{const v=({matches:I})=>{this.dispatch(Object.assign(Object.assign({},i),{[d]:I}))},S=window.matchMedia(g);DW(S,v),this.matchHandlers[g]={mql:S,listener:v},v(S)})},unregister(){Object.values(t).forEach(d=>{const g=this.matchHandlers[d];jW(g==null?void 0:g.mql,g==null?void 0:g.listener)}),n.clear()}}},[e])};function VD(){const[,e]=E.useReducer(t=>t+1,0);return e}function T_(e=!0,t={}){const n=E.useRef(t),r=VD(),i=Nhe();return Hr(()=>{const d=i.subscribe(g=>{n.current=g,e&&r()});return()=>i.unsubscribe(d)},[]),n.current}function VW(e){var t=e.children,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle,d=e.bodyClassName,g=e.className,v=e.style;return E.createElement("div",{className:Ue("".concat(n,"-content"),g),style:v},E.createElement("div",{className:Ue("".concat(n,"-inner"),d),id:r,role:"tooltip",style:i},typeof t=="function"?t():t))}var Pv={shiftX:64,adjustY:1},Dv={adjustX:1,shiftY:!0},Bl=[0,0],Rhe={left:{points:["cr","cl"],overflow:Dv,offset:[-4,0],targetOffset:Bl},right:{points:["cl","cr"],overflow:Dv,offset:[4,0],targetOffset:Bl},top:{points:["bc","tc"],overflow:Pv,offset:[0,-4],targetOffset:Bl},bottom:{points:["tc","bc"],overflow:Pv,offset:[0,4],targetOffset:Bl},topLeft:{points:["bl","tl"],overflow:Pv,offset:[0,-4],targetOffset:Bl},leftTop:{points:["tr","tl"],overflow:Dv,offset:[-4,0],targetOffset:Bl},topRight:{points:["br","tr"],overflow:Pv,offset:[0,-4],targetOffset:Bl},rightTop:{points:["tl","tr"],overflow:Dv,offset:[4,0],targetOffset:Bl},bottomRight:{points:["tr","br"],overflow:Pv,offset:[0,4],targetOffset:Bl},rightBottom:{points:["bl","br"],overflow:Dv,offset:[4,0],targetOffset:Bl},bottomLeft:{points:["tl","bl"],overflow:Pv,offset:[0,4],targetOffset:Bl},leftBottom:{points:["br","bl"],overflow:Dv,offset:[-4,0],targetOffset:Bl}},Ahe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],Ohe=function(t,n){var r=t.overlayClassName,i=t.trigger,d=i===void 0?["hover"]:i,g=t.mouseEnterDelay,v=g===void 0?0:g,S=t.mouseLeaveDelay,I=S===void 0?.1:S,T=t.overlayStyle,_=t.prefixCls,N=_===void 0?"rc-tooltip":_,A=t.children,w=t.onVisibleChange,O=t.afterVisibleChange,R=t.transitionName,D=t.animation,j=t.motion,L=t.placement,U=L===void 0?"right":L,$=t.align,F=$===void 0?{}:$,z=t.destroyTooltipOnHide,H=z===void 0?!1:z,V=t.defaultVisible,K=t.getTooltipContainer,J=t.overlayInnerStyle;t.arrowContent;var te=t.overlay,Z=t.id,X=t.showArrow,re=X===void 0?!0:X,ee=t.classNames,ae=t.styles,de=ir(t,Ahe),he=MD(Z),ue=E.useRef(null);E.useImperativeHandle(n,function(){return ue.current});var ye=Pe({},de);"visible"in t&&(ye.popupVisible=t.visible);var be=function(){return E.createElement(VW,{key:"content",prefixCls:N,id:he,bodyClassName:ee==null?void 0:ee.body,overlayInnerStyle:Pe(Pe({},J),ae==null?void 0:ae.body)},te)},oe=function(){var fe=E.Children.only(A),_e=(fe==null?void 0:fe.props)||{},Te=Pe(Pe({},_e),{},{"aria-describedby":te?he:null});return E.cloneElement(A,Te)};return E.createElement(E_,kt({popupClassName:Ue(r,ee==null?void 0:ee.root),prefixCls:N,popup:be,action:d,builtinPlacements:Rhe,popupPlacement:U,ref:ue,popupAlign:F,getPopupContainer:K,onPopupVisibleChange:w,afterPopupVisibleChange:O,popupTransitionName:R,popupAnimation:D,popupMotion:j,defaultPopupVisible:V,autoDestroy:H,mouseLeaveDelay:I,popupStyle:Pe(Pe({},T),ae==null?void 0:ae.root),mouseEnterDelay:v,arrow:re},ye),oe())};const khe=E.forwardRef(Ohe);function $W(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,i=t/2,d=0,g=i,v=r*1/Math.sqrt(2),S=i-r*(1-1/Math.sqrt(2)),I=i-n*(1/Math.sqrt(2)),T=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),_=2*i-I,N=T,A=2*i-v,w=S,O=2*i-d,R=g,D=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),j=r*(Math.sqrt(2)-1),L=`polygon(${j}px 100%, 50% ${j}px, ${2*i-j}px 100%, ${j}px 100%)`,U=`path('M ${d} ${g} A ${r} ${r} 0 0 0 ${v} ${S} L ${I} ${T} A ${n} ${n} 0 0 1 ${_} ${N} L ${A} ${w} A ${r} ${r} 0 0 0 ${O} ${R} Z')`;return{arrowShadowWidth:D,arrowPath:U,arrowPolygon:L}}const Lhe=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:d,arrowShadowWidth:g,borderRadiusXS:v,calc:S}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:S(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[i,d]},content:'""'},"&::after":{content:'""',position:"absolute",width:g,height:g,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Le(v)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},UW=8;function $D(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?UW:r}}function uT(e,t){return e?t:{}}function BW(e,t,n){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:d,arrowOffsetHorizontal:g}=e,{arrowDistance:v=0,arrowPlacement:S={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Lhe(e,t,i)),{"&:before":{background:t}})]},uT(!!S.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:v,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":g,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:g}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Le(g)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:g}}}})),uT(!!S.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:v,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":g,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:g}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Le(g)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:g}}}})),uT(!!S.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:v},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:d},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:d}})),uT(!!S.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:v},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:d},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:d}}))}}function Phe(e,t,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},d={};switch(e){case"top":case"bottom":d.shiftX=t.arrowOffsetHorizontal*2+n,d.shiftY=!0,d.adjustY=!0;break;case"left":case"right":d.shiftY=t.arrowOffsetVertical*2+n,d.shiftX=!0,d.adjustX=!0;break}const g=Object.assign(Object.assign({},d),i);return g.shiftX||(g.adjustX=!0),g.shiftY||(g.adjustY=!0),g}const n3={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Dhe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},jhe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function FW(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:d,visibleFirst:g}=e,v=t/2,S={};return Object.keys(n3).forEach(I=>{const T=r&&Dhe[I]||n3[I],_=Object.assign(Object.assign({},T),{offset:[0,0],dynamicInset:!0});switch(S[I]=_,jhe.has(I)&&(_.autoArrow=!1),I){case"top":case"topLeft":case"topRight":_.offset[1]=-v-i;break;case"bottom":case"bottomLeft":case"bottomRight":_.offset[1]=v+i;break;case"left":case"leftTop":case"leftBottom":_.offset[0]=-v-i;break;case"right":case"rightTop":case"rightBottom":_.offset[0]=v+i;break}const N=$D({contentRadius:d,limitVerticalRadius:!0});if(r)switch(I){case"topLeft":case"bottomLeft":_.offset[0]=-N.arrowOffsetHorizontal-v;break;case"topRight":case"bottomRight":_.offset[0]=N.arrowOffsetHorizontal+v;break;case"leftTop":case"rightTop":_.offset[1]=-N.arrowOffsetHorizontal*2+v;break;case"leftBottom":case"rightBottom":_.offset[1]=N.arrowOffsetHorizontal*2-v;break}_.overflow=Phe(I,N,t,n),g&&(_.htmlRegion="visibleFirst")}),S}const Vhe=e=>{const{calc:t,componentCls:n,tooltipMaxWidth:r,tooltipColor:i,tooltipBg:d,tooltipBorderRadius:g,zIndexPopup:v,controlHeight:S,boxShadowSecondary:I,paddingSM:T,paddingXS:_,arrowOffsetHorizontal:N,sizePopupArrow:A}=e,w=t(g).add(A).add(N).equal(),O=t(g).mul(2).add(A).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Sa(e)),{position:"absolute",zIndex:v,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":d,[`${n}-inner`]:{minWidth:O,minHeight:S,padding:`${Le(e.calc(T).div(2).equal())} ${Le(_)}`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:d,borderRadius:g,boxShadow:I,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:w},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:e.min(g,UW)}},[`${n}-content`]:{position:"relative"}}),fK(e,(R,{darkColor:D})=>({[`&${n}-${R}`]:{[`${n}-inner`]:{backgroundColor:D},[`${n}-arrow`]:{"--antd-arrow-background-color":D}}}))),{"&-rtl":{direction:"rtl"}})},BW(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},$he=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},$D({contentRadius:e.borderRadius,limitVerticalRadius:!0})),$W(qr(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),qW=(e,t=!0)=>fa("Tooltip",r=>{const{borderRadius:i,colorTextLightSolid:d,colorBgSpotlight:g}=r,v=qr(r,{tooltipMaxWidth:250,tooltipColor:d,tooltipBorderRadius:i,tooltipBg:g});return[Vhe(v),CD(r,"zoom-big-fast")]},$he,{resetStyle:!1,injectStyle:t})(e),Uhe=fg.map(e=>`${e}-inverse`),Bhe=["success","processing","error","default","warning"];function zW(e,t=!0){return t?[].concat(Rt(Uhe),Rt(fg)).includes(e):fg.includes(e)}function Fhe(e){return Bhe.includes(e)}function HW(e,t){const n=zW(t),r=Ue({[`${e}-${t}`]:t&&n}),i={},d={};return t&&!n&&(i.background=t,d["--antd-arrow-background-color"]=t),{className:r,overlayStyle:i,arrowStyle:d}}const qhe=e=>{const{prefixCls:t,className:n,placement:r="top",title:i,color:d,overlayInnerStyle:g}=e,{getPrefixCls:v}=E.useContext(rr),S=v("tooltip",t),[I,T,_]=qW(S),N=HW(S,d),A=N.arrowStyle,w=Object.assign(Object.assign({},g),N.overlayStyle),O=Ue(T,_,S,`${S}-pure`,`${S}-placement-${r}`,n,N.className);return I(E.createElement("div",{className:O,style:A},E.createElement("div",{className:`${S}-arrow`}),E.createElement(VW,Object.assign({},e,{className:T,prefixCls:S,overlayInnerStyle:w}),i)))};var zhe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Hhe=E.forwardRef((e,t)=>{var n,r;const{prefixCls:i,openClassName:d,getTooltipContainer:g,color:v,overlayInnerStyle:S,children:I,afterOpenChange:T,afterVisibleChange:_,destroyTooltipOnHide:N,destroyOnHidden:A,arrow:w=!0,title:O,overlay:R,builtinPlacements:D,arrowPointAtCenter:j=!1,autoAdjustOverflow:L=!0,motion:U,getPopupContainer:$,placement:F="top",mouseEnterDelay:z=.1,mouseLeaveDelay:H=.1,overlayStyle:V,rootClassName:K,overlayClassName:J,styles:te,classNames:Z}=e,X=zhe(e,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","destroyOnHidden","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),re=!!w,[,ee]=ms(),{getPopupContainer:ae,getPrefixCls:de,direction:he,className:ue,style:ye,classNames:be,styles:oe}=Fo("tooltip"),pe=Cm(),fe=E.useRef(null),_e=()=>{var Pt;(Pt=fe.current)===null||Pt===void 0||Pt.forceAlign()};E.useImperativeHandle(t,()=>{var Pt,ot;return{forceAlign:_e,forcePopupAlign:()=>{pe.deprecated(!1,"forcePopupAlign","forceAlign"),_e()},nativeElement:(Pt=fe.current)===null||Pt===void 0?void 0:Pt.nativeElement,popupElement:(ot=fe.current)===null||ot===void 0?void 0:ot.popupElement}});const[Te,Se]=Si(!1,{value:(n=e.open)!==null&&n!==void 0?n:e.visible,defaultValue:(r=e.defaultOpen)!==null&&r!==void 0?r:e.defaultVisible}),De=!O&&!R&&O!==0,je=Pt=>{var ot,qt;Se(De?!1:Pt),De||((ot=e.onOpenChange)===null||ot===void 0||ot.call(e,Pt),(qt=e.onVisibleChange)===null||qt===void 0||qt.call(e,Pt))},ke=E.useMemo(()=>{var Pt,ot;let qt=j;return typeof w=="object"&&(qt=(ot=(Pt=w.pointAtCenter)!==null&&Pt!==void 0?Pt:w.arrowPointAtCenter)!==null&&ot!==void 0?ot:j),D||FW({arrowPointAtCenter:qt,autoAdjustOverflow:L,arrowWidth:re?ee.sizePopupArrow:0,borderRadius:ee.borderRadius,offset:ee.marginXXS,visibleFirst:!0})},[j,w,D,ee]),Oe=E.useMemo(()=>O===0?O:R||O||"",[R,O]),Ne=E.createElement(gy,{space:!0},typeof Oe=="function"?Oe():Oe),qe=de("tooltip",i),Ke=de(),He=e["data-popover-inject"];let nt=Te;!("open"in e)&&!("visible"in e)&&De&&(nt=!1);const Je=E.isValidElement(I)&&!kK(I)?I:E.createElement("span",null,I),ut=Je.props,lt=!ut.className||typeof ut.className=="string"?Ue(ut.className,d||`${qe}-open`):ut.className,[et,Ye,pt]=qW(qe,!He),ct=HW(qe,v),xt=ct.arrowStyle,jt=Ue(J,{[`${qe}-rtl`]:he==="rtl"},ct.className,K,Ye,pt,ue,be.root,Z==null?void 0:Z.root),Ut=Ue(be.body,Z==null?void 0:Z.body),[Vt,wt]=i_("Tooltip",X.zIndex),Bt=E.createElement(khe,Object.assign({},X,{zIndex:Vt,showArrow:re,placement:F,mouseEnterDelay:z,mouseLeaveDelay:H,prefixCls:qe,classNames:{root:jt,body:Ut},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xt),oe.root),ye),V),te==null?void 0:te.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},oe.body),S),te==null?void 0:te.body),ct.overlayStyle)},getTooltipContainer:$||g||ae,ref:fe,builtinPlacements:ke,overlay:Ne,visible:nt,onVisibleChange:je,afterVisibleChange:T??_,arrowContent:E.createElement("span",{className:`${qe}-arrow-content`}),motion:{motionName:vD(Ke,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:A??!!N}),nt?Vo(Je,{className:lt}):Je);return et(E.createElement(mD.Provider,{value:wt},Bt))}),Gl=Hhe;Gl._InternalPanelDoNotUseOrYouWillBeFired=qhe;var Ghe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},Khe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:Ghe}))},c0=E.forwardRef(Khe),Whe=Vn.ESC,Yhe=Vn.TAB;function Xhe(e){var t=e.visible,n=e.triggerRef,r=e.onVisibleChange,i=e.autoFocus,d=e.overlayRef,g=E.useRef(!1),v=function(){if(t){var _,N;(_=n.current)===null||_===void 0||(N=_.focus)===null||N===void 0||N.call(_),r==null||r(!1)}},S=function(){var _;return(_=d.current)!==null&&_!==void 0&&_.focus?(d.current.focus(),g.current=!0,!0):!1},I=function(_){switch(_.keyCode){case Whe:v();break;case Yhe:{var N=!1;g.current||(N=S()),N?_.preventDefault():v();break}}};E.useEffect(function(){return t?(window.addEventListener("keydown",I),i&&Fr(S,3),function(){window.removeEventListener("keydown",I),g.current=!1}):function(){g.current=!1}},[t])}var Jhe=E.forwardRef(function(e,t){var n=e.overlay,r=e.arrow,i=e.prefixCls,d=E.useMemo(function(){var v;return typeof n=="function"?v=n():v=n,v},[n]),g=Bo(t,Em(d));return Xe.createElement(Xe.Fragment,null,r&&Xe.createElement("div",{className:"".concat(i,"-arrow")}),Xe.cloneElement(d,{ref:Oc(d)?g:void 0}))}),jv={adjustX:1,adjustY:1},Vv=[0,0],Qhe={topLeft:{points:["bl","tl"],overflow:jv,offset:[0,-4],targetOffset:Vv},top:{points:["bc","tc"],overflow:jv,offset:[0,-4],targetOffset:Vv},topRight:{points:["br","tr"],overflow:jv,offset:[0,-4],targetOffset:Vv},bottomLeft:{points:["tl","bl"],overflow:jv,offset:[0,4],targetOffset:Vv},bottom:{points:["tc","bc"],overflow:jv,offset:[0,4],targetOffset:Vv},bottomRight:{points:["tr","br"],overflow:jv,offset:[0,4],targetOffset:Vv}},Zhe=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function eve(e,t){var n,r=e.arrow,i=r===void 0?!1:r,d=e.prefixCls,g=d===void 0?"rc-dropdown":d,v=e.transitionName,S=e.animation,I=e.align,T=e.placement,_=T===void 0?"bottomLeft":T,N=e.placements,A=N===void 0?Qhe:N,w=e.getPopupContainer,O=e.showAction,R=e.hideAction,D=e.overlayClassName,j=e.overlayStyle,L=e.visible,U=e.trigger,$=U===void 0?["hover"]:U,F=e.autoFocus,z=e.overlay,H=e.children,V=e.onVisibleChange,K=ir(e,Zhe),J=Xe.useState(),te=at(J,2),Z=te[0],X=te[1],re="visible"in e?L:Z,ee=Xe.useRef(null),ae=Xe.useRef(null),de=Xe.useRef(null);Xe.useImperativeHandle(t,function(){return ee.current});var he=function(Se){X(Se),V==null||V(Se)};Xhe({visible:re,triggerRef:de,onVisibleChange:he,autoFocus:F,overlayRef:ae});var ue=function(Se){var De=e.onOverlayClick;X(!1),De&&De(Se)},ye=function(){return Xe.createElement(Jhe,{ref:ae,overlay:z,prefixCls:g,arrow:i})},be=function(){return typeof z=="function"?ye:ye()},oe=function(){var Se=e.minOverlayWidthMatchTrigger,De=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?Se:!De},pe=function(){var Se=e.openClassName;return Se!==void 0?Se:"".concat(g,"-open")},fe=Xe.cloneElement(H,{className:Ue((n=H.props)===null||n===void 0?void 0:n.className,re&&pe()),ref:Oc(H)?Bo(de,Em(H)):void 0}),_e=R;return!_e&&$.indexOf("contextMenu")!==-1&&(_e=["click"]),Xe.createElement(E_,kt({builtinPlacements:A},K,{prefixCls:g,ref:ee,popupClassName:Ue(D,Ce({},"".concat(g,"-show-arrow"),i)),popupStyle:j,action:$,showAction:O,hideAction:_e,popupPlacement:_,popupAlign:I,popupTransitionName:v,popupAnimation:S,popupVisible:re,stretch:oe()?"minWidth":"",popup:be(),onPopupVisibleChange:he,onPopupClick:ue,getPopupContainer:w}),fe)}const GW=Xe.forwardRef(eve),tve=e=>typeof e!="object"&&typeof e!="function"||e===null;var KW=E.createContext(null);function WW(e,t){return e===void 0?null:"".concat(e,"-").concat(t)}function YW(e){var t=E.useContext(KW);return WW(t,e)}var nve=["children","locked"],Lc=E.createContext(null);function rve(e,t){var n=Pe({},e);return Object.keys(t).forEach(function(r){var i=t[r];i!==void 0&&(n[r]=i)}),n}function u0(e){var t=e.children,n=e.locked,r=ir(e,nve),i=E.useContext(Lc),d=Sg(function(){return rve(i,r)},[i,r],function(g,v){return!n&&(g[0]!==v[0]||!Cu(g[1],v[1],!0))});return E.createElement(Lc.Provider,{value:d},t)}var ave=[],XW=E.createContext(null);function M_(){return E.useContext(XW)}var JW=E.createContext(ave);function wy(e){var t=E.useContext(JW);return E.useMemo(function(){return e!==void 0?[].concat(Rt(t),[e]):t},[t,e])}var QW=E.createContext(null),UD=E.createContext({});function r3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(C0(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||n==="a"&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),d=Number(i),g=null;return i&&!Number.isNaN(d)?g=d:r&&g===null&&(g=0),r&&e.disabled&&(g=null),g!==null&&(g>=0||t&&g<0)}return!1}function ive(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Rt(e.querySelectorAll("*")).filter(function(r){return r3(r,t)});return r3(e,t)&&n.unshift(e),n}var fP=Vn.LEFT,gP=Vn.RIGHT,hP=Vn.UP,fM=Vn.DOWN,gM=Vn.ENTER,ZW=Vn.ESC,hI=Vn.HOME,vI=Vn.END,a3=[hP,fM,fP,gP];function ove(e,t,n,r){var i,d="prev",g="next",v="children",S="parent";if(e==="inline"&&r===gM)return{inlineTrigger:!0};var I=Ce(Ce({},hP,d),fM,g),T=Ce(Ce(Ce(Ce({},fP,n?g:d),gP,n?d:g),fM,v),gM,v),_=Ce(Ce(Ce(Ce(Ce(Ce({},hP,d),fM,g),gM,v),ZW,S),fP,n?v:S),gP,n?S:v),N={inline:I,horizontal:T,vertical:_,inlineSub:I,horizontalSub:_,verticalSub:_},A=(i=N["".concat(e).concat(t?"":"Sub")])===null||i===void 0?void 0:i[r];switch(A){case d:return{offset:-1,sibling:!0};case g:return{offset:1,sibling:!0};case S:return{offset:-1,sibling:!1};case v:return{offset:1,sibling:!1};default:return null}}function sve(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function lve(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}function BD(e,t){var n=ive(e,!0);return n.filter(function(r){return t.has(r)})}function i3(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!e)return null;var i=BD(e,t),d=i.length,g=i.findIndex(function(v){return n===v});return r<0?g===-1?g=d-1:g-=1:r>0&&(g+=1),g=(g+d)%d,i[g]}var vP=function(t,n){var r=new Set,i=new Map,d=new Map;return t.forEach(function(g){var v=document.querySelector("[data-menu-id='".concat(WW(n,g),"']"));v&&(r.add(v),d.set(v,g),i.set(g,v))}),{elements:r,key2element:i,element2key:d}};function cve(e,t,n,r,i,d,g,v,S,I){var T=E.useRef(),_=E.useRef();_.current=t;var N=function(){Fr.cancel(T.current)};return E.useEffect(function(){return function(){N()}},[]),function(A){var w=A.which;if([].concat(a3,[gM,ZW,hI,vI]).includes(w)){var O=d(),R=vP(O,r),D=R,j=D.elements,L=D.key2element,U=D.element2key,$=L.get(t),F=lve($,j),z=U.get(F),H=ove(e,g(z,!0).length===1,n,w);if(!H&&w!==hI&&w!==vI)return;(a3.includes(w)||[hI,vI].includes(w))&&A.preventDefault();var V=function(ae){if(ae){var de=ae,he=ae.querySelector("a");he!=null&&he.getAttribute("href")&&(de=he);var ue=U.get(ae);v(ue),N(),T.current=Fr(function(){_.current===ue&&de.focus()})}};if([hI,vI].includes(w)||H.sibling||!F){var K;!F||e==="inline"?K=i.current:K=sve(F);var J,te=BD(K,j);w===hI?J=te[0]:w===vI?J=te[te.length-1]:J=i3(K,j,F,H.offset),V(J)}else if(H.inlineTrigger)S(z);else if(H.offset>0)S(z,!0),N(),T.current=Fr(function(){R=vP(O,r);var ee=F.getAttribute("aria-controls"),ae=document.getElementById(ee),de=i3(ae,R.elements);V(de)},5);else if(H.offset<0){var Z=g(z,!0),X=Z[Z.length-2],re=L.get(X);S(X,!1),V(re)}}I==null||I(A)}}function uve(e){Promise.resolve().then(e)}var FD="__RC_UTIL_PATH_SPLIT__",o3=function(t){return t.join(FD)},dve=function(t){return t.split(FD)},yP="rc-menu-more";function pve(){var e=E.useState({}),t=at(e,2),n=t[1],r=E.useRef(new Map),i=E.useRef(new Map),d=E.useState([]),g=at(d,2),v=g[0],S=g[1],I=E.useRef(0),T=E.useRef(!1),_=function(){T.current||n({})},N=E.useCallback(function(L,U){var $=o3(U);i.current.set($,L),r.current.set(L,$),I.current+=1;var F=I.current;uve(function(){F===I.current&&_()})},[]),A=E.useCallback(function(L,U){var $=o3(U);i.current.delete($),r.current.delete(L)},[]),w=E.useCallback(function(L){S(L)},[]),O=E.useCallback(function(L,U){var $=r.current.get(L)||"",F=dve($);return U&&v.includes(F[0])&&F.unshift(yP),F},[v]),R=E.useCallback(function(L,U){return L.filter(function($){return $!==void 0}).some(function($){var F=O($,!0);return F.includes(U)})},[O]),D=function(){var U=Rt(r.current.keys());return v.length&&U.push(yP),U},j=E.useCallback(function(L){var U="".concat(r.current.get(L)).concat(FD),$=new Set;return Rt(i.current.keys()).forEach(function(F){F.startsWith(U)&&$.add(i.current.get(F))}),$},[]);return E.useEffect(function(){return function(){T.current=!0}},[]),{registerPath:N,unregisterPath:A,refreshOverflowKeys:w,isSubPathKey:R,getKeyPath:O,getKeys:D,getSubPathKeys:j}}function AI(e){var t=E.useRef(e);t.current=e;var n=E.useCallback(function(){for(var r,i=arguments.length,d=new Array(i),g=0;g<i;g++)d[g]=arguments[g];return(r=t.current)===null||r===void 0?void 0:r.call.apply(r,[t].concat(d))},[]);return e?n:void 0}var mve=Math.random().toFixed(5).toString().slice(2),s3=0;function fve(e){var t=Si(e,{value:e}),n=at(t,2),r=n[0],i=n[1];return E.useEffect(function(){s3+=1;var d="".concat(mve,"-").concat(s3);i("rc-menu-uuid-".concat(d))},[]),r}function eY(e,t,n,r){var i=E.useContext(Lc),d=i.activeKey,g=i.onActive,v=i.onInactive,S={active:d===e};return t||(S.onMouseEnter=function(I){n==null||n({key:e,domEvent:I}),g(e)},S.onMouseLeave=function(I){r==null||r({key:e,domEvent:I}),v(e)}),S}function tY(e){var t=E.useContext(Lc),n=t.mode,r=t.rtl,i=t.inlineIndent;if(n!=="inline")return null;var d=e;return r?{paddingRight:d*i}:{paddingLeft:d*i}}function nY(e){var t=e.icon,n=e.props,r=e.children,i;return t===null||t===!1?null:(typeof t=="function"?i=E.createElement(t,Pe({},n)):typeof t!="boolean"&&(i=t),i||r||null)}var gve=["item"];function PM(e){var t=e.item,n=ir(e,gve);return Object.defineProperty(n,"item",{get:function(){return pi(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}var hve=["title","attribute","elementRef"],vve=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],yve=["active"],bve=function(e){vl(n,e);var t=Kl(n);function n(){return mi(this,n),t.apply(this,arguments)}return fi(n,[{key:"render",value:function(){var i=this.props,d=i.title,g=i.attribute,v=i.elementRef,S=ir(i,hve),I=ri(S,["eventKey","popupClassName","popupOffset","onTitleClick"]);return pi(!g,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),E.createElement(Iu.Item,kt({},g,{title:typeof d=="string"?d:void 0},I,{ref:v}))}}]),n}(E.Component),Sve=E.forwardRef(function(e,t){var n=e.style,r=e.className,i=e.eventKey;e.warnKey;var d=e.disabled,g=e.itemIcon,v=e.children,S=e.role,I=e.onMouseEnter,T=e.onMouseLeave,_=e.onClick,N=e.onKeyDown,A=e.onFocus,w=ir(e,vve),O=YW(i),R=E.useContext(Lc),D=R.prefixCls,j=R.onItemClick,L=R.disabled,U=R.overflowDisabled,$=R.itemIcon,F=R.selectedKeys,z=R.onActive,H=E.useContext(UD),V=H._internalRenderMenuItem,K="".concat(D,"-item"),J=E.useRef(),te=E.useRef(),Z=L||d,X=Im(t,te),re=wy(i),ee=function(De){return{key:i,keyPath:Rt(re).reverse(),item:J.current,domEvent:De}},ae=g||$,de=eY(i,Z,I,T),he=de.active,ue=ir(de,yve),ye=F.includes(i),be=tY(re.length),oe=function(De){if(!Z){var je=ee(De);_==null||_(PM(je)),j(je)}},pe=function(De){if(N==null||N(De),De.which===Vn.ENTER){var je=ee(De);_==null||_(PM(je)),j(je)}},fe=function(De){z(i),A==null||A(De)},_e={};e.role==="option"&&(_e["aria-selected"]=ye);var Te=E.createElement(bve,kt({ref:J,elementRef:X,role:S===null?"none":S||"menuitem",tabIndex:d?null:-1,"data-menu-id":U&&O?null:O},ri(w,["extra"]),ue,_e,{component:"li","aria-disabled":d,style:Pe(Pe({},be),n),className:Ue(K,Ce(Ce(Ce({},"".concat(K,"-active"),he),"".concat(K,"-selected"),ye),"".concat(K,"-disabled"),Z),r),onClick:oe,onKeyDown:pe,onFocus:fe}),v,E.createElement(nY,{props:Pe(Pe({},e),{},{isSelected:ye}),icon:ae}));return V&&(Te=V(Te,e,{selected:ye})),Te});function Ive(e,t){var n=e.eventKey,r=M_(),i=wy(n);return E.useEffect(function(){if(r)return r.registerPath(n,i),function(){r.unregisterPath(n,i)}},[i]),r?null:E.createElement(Sve,kt({},e,{ref:t}))}const N0=E.forwardRef(Ive);var Eve=["className","children"],Cve=function(t,n){var r=t.className,i=t.children,d=ir(t,Eve),g=E.useContext(Lc),v=g.prefixCls,S=g.mode,I=g.rtl;return E.createElement("ul",kt({className:Ue(v,I&&"".concat(v,"-rtl"),"".concat(v,"-sub"),"".concat(v,"-").concat(S==="inline"?"inline":"vertical"),r),role:"menu"},d,{"data-menu-list":!0,ref:n}),i)},qD=E.forwardRef(Cve);qD.displayName="SubMenuList";function zD(e,t){return ps(e).map(function(n,r){if(E.isValidElement(n)){var i,d,g=n.key,v=(i=(d=n.props)===null||d===void 0?void 0:d.eventKey)!==null&&i!==void 0?i:g,S=v==null;S&&(v="tmp_key-".concat([].concat(Rt(t),[r]).join("-")));var I={key:v,eventKey:v};return E.cloneElement(n,I)}return n})}var cs={adjustX:1,adjustY:1},Tve={topLeft:{points:["bl","tl"],overflow:cs},topRight:{points:["br","tr"],overflow:cs},bottomLeft:{points:["tl","bl"],overflow:cs},bottomRight:{points:["tr","br"],overflow:cs},leftTop:{points:["tr","tl"],overflow:cs},leftBottom:{points:["br","bl"],overflow:cs},rightTop:{points:["tl","tr"],overflow:cs},rightBottom:{points:["bl","br"],overflow:cs}},Mve={topLeft:{points:["bl","tl"],overflow:cs},topRight:{points:["br","tr"],overflow:cs},bottomLeft:{points:["tl","bl"],overflow:cs},bottomRight:{points:["tr","br"],overflow:cs},rightTop:{points:["tr","tl"],overflow:cs},rightBottom:{points:["br","bl"],overflow:cs},leftTop:{points:["tl","tr"],overflow:cs},leftBottom:{points:["bl","br"],overflow:cs}};function rY(e,t,n){if(t)return t;if(n)return n[e]||n.other}var _ve={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function xve(e){var t=e.prefixCls,n=e.visible,r=e.children,i=e.popup,d=e.popupStyle,g=e.popupClassName,v=e.popupOffset,S=e.disabled,I=e.mode,T=e.onVisibleChange,_=E.useContext(Lc),N=_.getPopupContainer,A=_.rtl,w=_.subMenuOpenDelay,O=_.subMenuCloseDelay,R=_.builtinPlacements,D=_.triggerSubMenuAction,j=_.forceSubMenuRender,L=_.rootClassName,U=_.motion,$=_.defaultMotions,F=E.useState(!1),z=at(F,2),H=z[0],V=z[1],K=Pe(A?Pe({},Mve):Pe({},Tve),R),J=_ve[I],te=rY(I,U,$),Z=E.useRef(te);I!=="inline"&&(Z.current=te);var X=Pe(Pe({},Z.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),re=E.useRef();return E.useEffect(function(){return re.current=Fr(function(){V(n)}),function(){Fr.cancel(re.current)}},[n]),E.createElement(E_,{prefixCls:t,popupClassName:Ue("".concat(t,"-popup"),Ce({},"".concat(t,"-rtl"),A),g,L),stretch:I==="horizontal"?"minWidth":null,getPopupContainer:N,builtinPlacements:K,popupPlacement:J,popupVisible:H,popup:i,popupStyle:d,popupAlign:v&&{offset:v},action:S?[]:[D],mouseEnterDelay:w,mouseLeaveDelay:O,onPopupVisibleChange:T,forceRender:j,popupMotion:X,fresh:!0},r)}function wve(e){var t=e.id,n=e.open,r=e.keyPath,i=e.children,d="inline",g=E.useContext(Lc),v=g.prefixCls,S=g.forceSubMenuRender,I=g.motion,T=g.defaultMotions,_=g.mode,N=E.useRef(!1);N.current=_===d;var A=E.useState(!N.current),w=at(A,2),O=w[0],R=w[1],D=N.current?n:!1;E.useEffect(function(){N.current&&R(!1)},[_]);var j=Pe({},rY(d,I,T));r.length>1&&(j.motionAppear=!1);var L=j.onVisibleChanged;return j.onVisibleChanged=function(U){return!N.current&&!U&&R(!0),L==null?void 0:L(U)},O?null:E.createElement(u0,{mode:d,locked:!N.current},E.createElement(Wl,kt({visible:D},j,{forceRender:S,removeOnLeave:!1,leavedClassName:"".concat(v,"-hidden")}),function(U){var $=U.className,F=U.style;return E.createElement(qD,{id:t,className:$,style:F},i)}))}var Nve=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Rve=["active"],Ave=E.forwardRef(function(e,t){var n=e.style,r=e.className,i=e.title,d=e.eventKey;e.warnKey;var g=e.disabled,v=e.internalPopupClose,S=e.children,I=e.itemIcon,T=e.expandIcon,_=e.popupClassName,N=e.popupOffset,A=e.popupStyle,w=e.onClick,O=e.onMouseEnter,R=e.onMouseLeave,D=e.onTitleClick,j=e.onTitleMouseEnter,L=e.onTitleMouseLeave,U=ir(e,Nve),$=YW(d),F=E.useContext(Lc),z=F.prefixCls,H=F.mode,V=F.openKeys,K=F.disabled,J=F.overflowDisabled,te=F.activeKey,Z=F.selectedKeys,X=F.itemIcon,re=F.expandIcon,ee=F.onItemClick,ae=F.onOpenChange,de=F.onActive,he=E.useContext(UD),ue=he._internalRenderSubMenuItem,ye=E.useContext(QW),be=ye.isSubPathKey,oe=wy(),pe="".concat(z,"-submenu"),fe=K||g,_e=E.useRef(),Te=E.useRef(),Se=I??X,De=T??re,je=V.includes(d),ke=!J&&je,Oe=be(Z,d),Ne=eY(d,fe,j,L),qe=Ne.active,Ke=ir(Ne,Rve),He=E.useState(!1),nt=at(He,2),Je=nt[0],ut=nt[1],lt=function(yt){fe||ut(yt)},et=function(yt){lt(!0),O==null||O({key:d,domEvent:yt})},Ye=function(yt){lt(!1),R==null||R({key:d,domEvent:yt})},pt=E.useMemo(function(){return qe||(H!=="inline"?Je||be([te],d):!1)},[H,qe,te,Je,d,be]),ct=tY(oe.length),xt=function(yt){fe||(D==null||D({key:d,domEvent:yt}),H==="inline"&&ae(d,!je))},jt=AI(function(bt){w==null||w(PM(bt)),ee(bt)}),Ut=function(yt){H!=="inline"&&ae(d,yt)},Vt=function(){de(d)},wt=$&&"".concat($,"-popup"),Bt=E.useMemo(function(){return E.createElement(nY,{icon:H!=="horizontal"?De:void 0,props:Pe(Pe({},e),{},{isOpen:ke,isSubMenu:!0})},E.createElement("i",{className:"".concat(pe,"-arrow")}))},[H,De,e,ke,pe]),Pt=E.createElement("div",kt({role:"menuitem",style:ct,className:"".concat(pe,"-title"),tabIndex:fe?null:-1,ref:_e,title:typeof i=="string"?i:null,"data-menu-id":J&&$?null:$,"aria-expanded":ke,"aria-haspopup":!0,"aria-controls":wt,"aria-disabled":fe,onClick:xt,onFocus:Vt},Ke),i,Bt),ot=E.useRef(H);if(H!=="inline"&&oe.length>1?ot.current="vertical":ot.current=H,!J){var qt=ot.current;Pt=E.createElement(xve,{mode:qt,prefixCls:pe,visible:!v&&ke&&H!=="inline",popupClassName:_,popupOffset:N,popupStyle:A,popup:E.createElement(u0,{mode:qt==="horizontal"?"vertical":qt},E.createElement(qD,{id:wt,ref:Te},S)),disabled:fe,onVisibleChange:Ut},Pt)}var vt=E.createElement(Iu.Item,kt({ref:t,role:"none"},U,{component:"li",style:n,className:Ue(pe,"".concat(pe,"-").concat(H),r,Ce(Ce(Ce(Ce({},"".concat(pe,"-open"),ke),"".concat(pe,"-active"),pt),"".concat(pe,"-selected"),Oe),"".concat(pe,"-disabled"),fe)),onMouseEnter:et,onMouseLeave:Ye}),Pt,!J&&E.createElement(wve,{id:wt,open:ke,keyPath:oe},S));return ue&&(vt=ue(vt,e,{selected:Oe,active:pt,open:ke,disabled:fe})),E.createElement(u0,{onItemClick:jt,mode:H==="horizontal"?"vertical":H,itemIcon:Se,expandIcon:De},vt)}),__=E.forwardRef(function(e,t){var n=e.eventKey,r=e.children,i=wy(n),d=zD(r,i),g=M_();E.useEffect(function(){if(g)return g.registerPath(n,i),function(){g.unregisterPath(n,i)}},[i]);var v;return g?v=d:v=E.createElement(Ave,kt({ref:t},e),d),E.createElement(JW.Provider,{value:i},v)});function HD(e){var t=e.className,n=e.style,r=E.useContext(Lc),i=r.prefixCls,d=M_();return d?null:E.createElement("li",{role:"separator",className:Ue("".concat(i,"-item-divider"),t),style:n})}var Ove=["className","title","eventKey","children"],kve=E.forwardRef(function(e,t){var n=e.className,r=e.title;e.eventKey;var i=e.children,d=ir(e,Ove),g=E.useContext(Lc),v=g.prefixCls,S="".concat(v,"-item-group");return E.createElement("li",kt({ref:t,role:"presentation"},d,{onClick:function(T){return T.stopPropagation()},className:Ue(S,n)}),E.createElement("div",{role:"presentation",className:"".concat(S,"-title"),title:typeof r=="string"?r:void 0},r),E.createElement("ul",{role:"group",className:"".concat(S,"-list")},i))}),GD=E.forwardRef(function(e,t){var n=e.eventKey,r=e.children,i=wy(n),d=zD(r,i),g=M_();return g?d:E.createElement(kve,kt({ref:t},ri(e,["warnKey"])),d)}),Lve=["label","children","key","type","extra"];function bP(e,t,n){var r=t.item,i=t.group,d=t.submenu,g=t.divider;return(e||[]).map(function(v,S){if(v&&qn(v)==="object"){var I=v,T=I.label,_=I.children,N=I.key,A=I.type,w=I.extra,O=ir(I,Lve),R=N??"tmp-".concat(S);return _||A==="group"?A==="group"?E.createElement(i,kt({key:R},O,{title:T}),bP(_,t,n)):E.createElement(d,kt({key:R},O,{title:T}),bP(_,t,n)):A==="divider"?E.createElement(g,kt({key:R},O)):E.createElement(r,kt({key:R},O,{extra:w}),T,(!!w||w===0)&&E.createElement("span",{className:"".concat(n,"-item-extra")},w))}return null}).filter(function(v){return v})}function l3(e,t,n,r,i){var d=e,g=Pe({divider:HD,item:N0,group:GD,submenu:__},r);return t&&(d=bP(t,g,i)),zD(d,n)}var Pve=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],Qf=[],Dve=E.forwardRef(function(e,t){var n,r=e,i=r.prefixCls,d=i===void 0?"rc-menu":i,g=r.rootClassName,v=r.style,S=r.className,I=r.tabIndex,T=I===void 0?0:I,_=r.items,N=r.children,A=r.direction,w=r.id,O=r.mode,R=O===void 0?"vertical":O,D=r.inlineCollapsed,j=r.disabled,L=r.disabledOverflow,U=r.subMenuOpenDelay,$=U===void 0?.1:U,F=r.subMenuCloseDelay,z=F===void 0?.1:F,H=r.forceSubMenuRender,V=r.defaultOpenKeys,K=r.openKeys,J=r.activeKey,te=r.defaultActiveFirst,Z=r.selectable,X=Z===void 0?!0:Z,re=r.multiple,ee=re===void 0?!1:re,ae=r.defaultSelectedKeys,de=r.selectedKeys,he=r.onSelect,ue=r.onDeselect,ye=r.inlineIndent,be=ye===void 0?24:ye,oe=r.motion,pe=r.defaultMotions,fe=r.triggerSubMenuAction,_e=fe===void 0?"hover":fe,Te=r.builtinPlacements,Se=r.itemIcon,De=r.expandIcon,je=r.overflowedIndicator,ke=je===void 0?"...":je,Oe=r.overflowedIndicatorPopupClassName,Ne=r.getPopupContainer,qe=r.onClick,Ke=r.onOpenChange,He=r.onKeyDown;r.openAnimation,r.openTransitionName;var nt=r._internalRenderMenuItem,Je=r._internalRenderSubMenuItem,ut=r._internalComponents,lt=ir(r,Pve),et=E.useMemo(function(){return[l3(N,_,Qf,ut,d),l3(N,_,Qf,{},d)]},[N,_,ut]),Ye=at(et,2),pt=Ye[0],ct=Ye[1],xt=E.useState(!1),jt=at(xt,2),Ut=jt[0],Vt=jt[1],wt=E.useRef(),Bt=fve(w),Pt=A==="rtl",ot=Si(V,{value:K,postState:function(Jn){return Jn||Qf}}),qt=at(ot,2),vt=qt[0],bt=qt[1],yt=function(Jn){var Mn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Tr(){bt(Jn),Ke==null||Ke(Jn)}Mn?Ac.flushSync(Tr):Tr()},gt=E.useState(vt),Jt=at(gt,2),bn=Jt[0],Qn=Jt[1],Dn=E.useRef(!1),tn=E.useMemo(function(){return(R==="inline"||R==="vertical")&&D?["vertical",D]:[R,!1]},[R,D]),_n=at(tn,2),Fn=_n[0],Wt=_n[1],xn=Fn==="inline",En=E.useState(Fn),Sn=at(En,2),Qt=Sn[0],Rn=Sn[1],fn=E.useState(Wt),Gt=at(fn,2),Xt=Gt[0],$n=Gt[1];E.useEffect(function(){Rn(Fn),$n(Wt),Dn.current&&(xn?bt(bn):yt(Qf))},[Fn,Wt]);var Un=E.useState(0),jn=at(Un,2),Zn=jn[0],An=jn[1],On=Zn>=pt.length-1||Qt!=="horizontal"||L;E.useEffect(function(){xn&&Qn(vt)},[vt]),E.useEffect(function(){return Dn.current=!0,function(){Dn.current=!1}},[]);var sn=pve(),tr=sn.registerPath,wr=sn.unregisterPath,Ar=sn.refreshOverflowKeys,nn=sn.isSubPathKey,jr=sn.getKeyPath,Ur=sn.getKeys,Pr=sn.getSubPathKeys,gn=E.useMemo(function(){return{registerPath:tr,unregisterPath:wr}},[tr,wr]),Pn=E.useMemo(function(){return{isSubPathKey:nn}},[nn]);E.useEffect(function(){Ar(On?Qf:pt.slice(Zn+1).map(function(Vr){return Vr.key}))},[Zn,On]);var Cn=Si(J||te&&((n=pt[0])===null||n===void 0?void 0:n.key),{value:J}),en=at(Cn,2),kn=en[0],Cr=en[1],Xr=AI(function(Vr){Cr(Vr)}),Lt=AI(function(){Cr(void 0)});E.useImperativeHandle(t,function(){return{list:wt.current,focus:function(Jn){var Mn,Tr=Ur(),Qr=vP(Tr,Bt),ua=Qr.elements,Gr=Qr.key2element,Ei=Qr.element2key,oi=BD(wt.current,ua),Wa=kn??(oi[0]?Ei.get(oi[0]):(Mn=pt.find(function(br){return!br.props.disabled}))===null||Mn===void 0?void 0:Mn.key),si=Gr.get(Wa);if(Wa&&si){var Ua;si==null||(Ua=si.focus)===null||Ua===void 0||Ua.call(si,Jn)}}}});var Yn=Si(ae||[],{value:de,postState:function(Jn){return Array.isArray(Jn)?Jn:Jn==null?Qf:[Jn]}}),Xn=at(Yn,2),vr=Xn[0],Jr=Xn[1],sa=function(Jn){if(X){var Mn=Jn.key,Tr=vr.includes(Mn),Qr;ee?Tr?Qr=vr.filter(function(Gr){return Gr!==Mn}):Qr=[].concat(Rt(vr),[Mn]):Qr=[Mn],Jr(Qr);var ua=Pe(Pe({},Jn),{},{selectedKeys:Qr});Tr?ue==null||ue(ua):he==null||he(ua)}!ee&&vt.length&&Qt!=="inline"&&yt(Qf)},er=AI(function(Vr){qe==null||qe(PM(Vr)),sa(Vr)}),$i=AI(function(Vr,Jn){var Mn=vt.filter(function(Qr){return Qr!==Vr});if(Jn)Mn.push(Vr);else if(Qt!=="inline"){var Tr=Pr(Vr);Mn=Mn.filter(function(Qr){return!Tr.has(Qr)})}Cu(vt,Mn,!0)||yt(Mn,!0)}),Ca=function(Jn,Mn){var Tr=Mn??!vt.includes(Jn);$i(Jn,Tr)},io=cve(Qt,kn,Pt,Bt,wt,Ur,jr,Cr,Ca,He);E.useEffect(function(){Vt(!0)},[]);var Ri=E.useMemo(function(){return{_internalRenderMenuItem:nt,_internalRenderSubMenuItem:Je}},[nt,Je]),Ii=Qt!=="horizontal"||L?pt:pt.map(function(Vr,Jn){return E.createElement(u0,{key:Vr.key,overflowDisabled:Jn>Zn},Vr)}),oo=E.createElement(Iu,kt({id:w,ref:wt,prefixCls:"".concat(d,"-overflow"),component:"ul",itemComponent:N0,className:Ue(d,"".concat(d,"-root"),"".concat(d,"-").concat(Qt),S,Ce(Ce({},"".concat(d,"-inline-collapsed"),Xt),"".concat(d,"-rtl"),Pt),g),dir:A,style:v,role:"menu",tabIndex:T,data:Ii,renderRawItem:function(Jn){return Jn},renderRawRest:function(Jn){var Mn=Jn.length,Tr=Mn?pt.slice(-Mn):null;return E.createElement(__,{eventKey:yP,title:ke,disabled:On,internalPopupClose:Mn===0,popupClassName:Oe},Tr)},maxCount:Qt!=="horizontal"||L?Iu.INVALIDATE:Iu.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Jn){An(Jn)},onKeyDown:io},lt));return E.createElement(UD.Provider,{value:Ri},E.createElement(KW.Provider,{value:Bt},E.createElement(u0,{prefixCls:d,rootClassName:g,mode:Qt,openKeys:vt,rtl:Pt,disabled:j,motion:Ut?oe:null,defaultMotions:Ut?pe:null,activeKey:kn,onActive:Xr,onInactive:Lt,selectedKeys:vr,inlineIndent:be,subMenuOpenDelay:$,subMenuCloseDelay:z,forceSubMenuRender:H,builtinPlacements:Te,triggerSubMenuAction:_e,getPopupContainer:Ne,itemIcon:Se,expandIcon:De,onItemClick:er,onOpenChange:$i},E.createElement(QW.Provider,{value:Pn},oo),E.createElement("div",{style:{display:"none"},"aria-hidden":!0},E.createElement(XW.Provider,{value:gn},ct)))))}),Ny=Dve;Ny.Item=N0;Ny.SubMenu=__;Ny.ItemGroup=GD;Ny.Divider=HD;var jve={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},Vve=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:jve}))},$ve=E.forwardRef(Vve);const aY=E.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),Uve=e=>{const{antCls:t,componentCls:n,colorText:r,footerBg:i,headerHeight:d,headerPadding:g,headerColor:v,footerPadding:S,fontSize:I,bodyBg:T,headerBg:_}=e;return{[n]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:T,"&, *":{boxSizing:"border-box"},[`&${n}-has-sider`]:{flexDirection:"row",[`> ${n}, > ${n}-content`]:{width:0}},[`${n}-header, &${n}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${n}-header`]:{height:d,padding:g,color:v,lineHeight:Le(d),background:_,[`${t}-menu`]:{lineHeight:"inherit"}},[`${n}-footer`]:{padding:S,color:r,fontSize:I,background:i},[`${n}-content`]:{flex:"auto",color:r,minHeight:0}}},iY=e=>{const{colorBgLayout:t,controlHeight:n,controlHeightLG:r,colorText:i,controlHeightSM:d,marginXXS:g,colorTextLightSolid:v,colorBgContainer:S}=e,I=r*1.25;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:n*2,headerPadding:`0 ${I}px`,headerColor:i,footerPadding:`${d}px ${I}px`,footerBg:t,siderBg:"#001529",triggerHeight:r+g*2,triggerBg:"#002140",triggerColor:v,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:S,lightTriggerBg:S,lightTriggerColor:i}},oY=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],sY=fa("Layout",e=>[Uve(e)],iY,{deprecatedTokens:oY}),Bve=e=>{const{componentCls:t,siderBg:n,motionDurationMid:r,motionDurationSlow:i,antCls:d,triggerHeight:g,triggerColor:v,triggerBg:S,headerHeight:I,zeroTriggerWidth:T,zeroTriggerHeight:_,borderRadiusLG:N,lightSiderBg:A,lightTriggerColor:w,lightTriggerBg:O,bodyBg:R}=e;return{[t]:{position:"relative",minWidth:0,background:n,transition:`all ${r}, background 0s`,"&-has-trigger":{paddingBottom:g},"&-right":{order:1},[`${t}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${d}-menu${d}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${t}-children`]:{overflow:"hidden"},[`${t}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:g,color:v,lineHeight:Le(g),textAlign:"center",background:S,cursor:"pointer",transition:`all ${r}`},[`${t}-zero-width-trigger`]:{position:"absolute",top:I,insetInlineEnd:e.calc(T).mul(-1).equal(),zIndex:1,width:T,height:_,color:v,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:n,borderRadius:`0 ${Le(N)} ${Le(N)} 0`,cursor:"pointer",transition:`background ${i} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${i}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(T).mul(-1).equal(),borderRadius:`${Le(N)} 0 0 ${Le(N)}`}},"&-light":{background:A,[`${t}-trigger`]:{color:w,background:O},[`${t}-zero-width-trigger`]:{color:w,background:O,border:`1px solid ${R}`,borderInlineStart:0}}}}},Fve=fa(["Layout","Sider"],e=>[Bve(e)],iY,{deprecatedTokens:oY});var qve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const c3={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},zve=e=>!Number.isNaN(Number.parseFloat(e))&&isFinite(e),x_=E.createContext({}),Hve=(()=>{let e=0;return(t="")=>(e+=1,`${t}${e}`)})(),lY=E.forwardRef((e,t)=>{const{prefixCls:n,className:r,trigger:i,children:d,defaultCollapsed:g=!1,theme:v="dark",style:S={},collapsible:I=!1,reverseArrow:T=!1,width:_=200,collapsedWidth:N=80,zeroWidthTriggerStyle:A,breakpoint:w,onCollapse:O,onBreakpoint:R}=e,D=qve(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:j}=E.useContext(aY),[L,U]=E.useState("collapsed"in e?e.collapsed:g),[$,F]=E.useState(!1);E.useEffect(()=>{"collapsed"in e&&U(e.collapsed)},[e.collapsed]);const z=(Se,De)=>{"collapsed"in e||U(Se),O==null||O(Se,De)},{getPrefixCls:H,direction:V}=E.useContext(rr),K=H("layout-sider",n),[J,te,Z]=Fve(K),X=E.useRef(null);X.current=Se=>{F(Se.matches),R==null||R(Se.matches),L!==Se.matches&&z(Se.matches,"responsive")},E.useEffect(()=>{function Se(je){var ke;return(ke=X.current)===null||ke===void 0?void 0:ke.call(X,je)}let De;return typeof(window==null?void 0:window.matchMedia)<"u"&&w&&w in c3&&(De=window.matchMedia(`screen and (max-width: ${c3[w]})`),DW(De,Se),Se(De)),()=>{jW(De,Se)}},[w]),E.useEffect(()=>{const Se=Hve("ant-sider-");return j.addSider(Se),()=>j.removeSider(Se)},[]);const re=()=>{z(!L,"clickTrigger")},ee=ri(D,["collapsed"]),ae=L?N:_,de=zve(ae)?`${ae}px`:String(ae),he=parseFloat(String(N||0))===0?E.createElement("span",{onClick:re,className:Ue(`${K}-zero-width-trigger`,`${K}-zero-width-trigger-${T?"right":"left"}`),style:A},i||E.createElement($ve,null)):null,ue=V==="rtl"==!T,oe={expanded:ue?E.createElement(i0,null):E.createElement(c0,null),collapsed:ue?E.createElement(c0,null):E.createElement(i0,null)}[L?"collapsed":"expanded"],pe=i!==null?he||E.createElement("div",{className:`${K}-trigger`,onClick:re,style:{width:de}},i||oe):null,fe=Object.assign(Object.assign({},S),{flex:`0 0 ${de}`,maxWidth:de,minWidth:de,width:de}),_e=Ue(K,`${K}-${v}`,{[`${K}-collapsed`]:!!L,[`${K}-has-trigger`]:I&&i!==null&&!he,[`${K}-below`]:!!$,[`${K}-zero-width`]:parseFloat(de)===0},r,te,Z),Te=E.useMemo(()=>({siderCollapsed:L}),[L]);return J(E.createElement(x_.Provider,{value:Te},E.createElement("aside",Object.assign({className:_e},ee,{style:fe,ref:t}),E.createElement("div",{className:`${K}-children`},d),I||$&&he?pe:null)))});var Gve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},Kve=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:Gve}))},KD=E.forwardRef(Kve);const DM=E.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var Wve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const cY=e=>{const{prefixCls:t,className:n,dashed:r}=e,i=Wve(e,["prefixCls","className","dashed"]),{getPrefixCls:d}=E.useContext(rr),g=d("menu",t),v=Ue({[`${g}-item-divider-dashed`]:!!r},n);return E.createElement(HD,Object.assign({className:v},i))},uY=e=>{var t;const{className:n,children:r,icon:i,title:d,danger:g,extra:v}=e,{prefixCls:S,firstLevel:I,direction:T,disableMenuItemTitleTooltip:_,inlineCollapsed:N}=E.useContext(DM),A=L=>{const U=r==null?void 0:r[0],$=E.createElement("span",{className:Ue(`${S}-title-content`,{[`${S}-title-content-with-extra`]:!!v||v===0})},r);return(!i||E.isValidElement(r)&&r.type==="span")&&r&&L&&I&&typeof U=="string"?E.createElement("div",{className:`${S}-inline-collapsed-noicon`},U.charAt(0)):$},{siderCollapsed:w}=E.useContext(x_);let O=d;typeof d>"u"?O=I?r:"":d===!1&&(O="");const R={title:O};!w&&!N&&(R.title=null,R.open=!1);const D=ps(r).length;let j=E.createElement(N0,Object.assign({},ri(e,["title","icon","danger"]),{className:Ue({[`${S}-item-danger`]:g,[`${S}-item-only-child`]:(i?D+1:D)===1},n),title:typeof d=="string"?d:void 0}),Vo(i,{className:Ue(E.isValidElement(i)?(t=i.props)===null||t===void 0?void 0:t.className:void 0,`${S}-item-icon`)}),A(N));return _||(j=E.createElement(Gl,Object.assign({},R,{placement:T==="rtl"?"left":"right",classNames:{root:`${S}-inline-collapsed-tooltip`}}),j)),j};var Yve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const jM=E.createContext(null),dY=E.forwardRef((e,t)=>{const{children:n}=e,r=Yve(e,["children"]),i=E.useContext(jM),d=E.useMemo(()=>Object.assign(Object.assign({},i),r),[i,r.prefixCls,r.mode,r.selectable,r.rootClassName]),g=coe(n),v=Im(t,g?Em(n):null);return E.createElement(jM.Provider,{value:d},E.createElement(gy,{space:!0},g?E.cloneElement(n,{ref:v}):n))}),Xve=e=>{const{componentCls:t,motionDurationSlow:n,horizontalLineHeight:r,colorSplit:i,lineWidth:d,lineType:g,itemPaddingInline:v}=e;return{[`${t}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${Le(d)} ${g} ${i}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:v},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},Jve=({componentCls:e,menuArrowOffset:t,calc:n})=>({[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${Le(n(t).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${Le(t)})`}}}}),u3=e=>Object.assign({},_u(e)),d3=(e,t)=>{const{componentCls:n,itemColor:r,itemSelectedColor:i,subMenuItemSelectedColor:d,groupTitleColor:g,itemBg:v,subMenuItemBg:S,itemSelectedBg:I,activeBarHeight:T,activeBarWidth:_,activeBarBorderWidth:N,motionDurationSlow:A,motionEaseInOut:w,motionEaseOut:O,itemPaddingInline:R,motionDurationMid:D,itemHoverColor:j,lineType:L,colorSplit:U,itemDisabledColor:$,dangerItemColor:F,dangerItemHoverColor:z,dangerItemSelectedColor:H,dangerItemActiveBg:V,dangerItemSelectedBg:K,popupBg:J,itemHoverBg:te,itemActiveBg:Z,menuSubMenuBg:X,horizontalItemSelectedColor:re,horizontalItemSelectedBg:ee,horizontalItemBorderRadius:ae,horizontalItemHoverBg:de}=e;return{[`${n}-${t}, ${n}-${t} > ${n}`]:{color:r,background:v,[`&${n}-root:focus-visible`]:Object.assign({},u3(e)),[`${n}-item`]:{"&-group-title, &-extra":{color:g}},[`${n}-submenu-selected > ${n}-submenu-title`]:{color:d},[`${n}-item, ${n}-submenu-title`]:{color:r,[`&:not(${n}-item-disabled):focus-visible`]:Object.assign({},u3(e))},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${$} !important`},[`${n}-item:not(${n}-item-selected):not(${n}-submenu-selected)`]:{[`&:hover, > ${n}-submenu-title:hover`]:{color:j}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:te},"&:active":{backgroundColor:Z}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:te},"&:active":{backgroundColor:Z}}},[`${n}-item-danger`]:{color:F,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:z}},[`&${n}-item:active`]:{background:V}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:i,[`&${n}-item-danger`]:{color:H},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:I,[`&${n}-item-danger`]:{backgroundColor:K}},[`&${n}-submenu > ${n}`]:{backgroundColor:X},[`&${n}-popup > ${n}`]:{backgroundColor:J},[`&${n}-submenu-popup > ${n}`]:{backgroundColor:J},[`&${n}-horizontal`]:Object.assign(Object.assign({},t==="dark"?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:N,marginTop:e.calc(N).mul(-1).equal(),marginBottom:0,borderRadius:ae,"&::after":{position:"absolute",insetInline:R,bottom:0,borderBottom:`${Le(T)} solid transparent`,transition:`border-color ${A} ${w}`,content:'""'},"&:hover, &-active, &-open":{background:de,"&::after":{borderBottomWidth:T,borderBottomColor:re}},"&-selected":{color:re,backgroundColor:ee,"&:hover":{backgroundColor:ee},"&::after":{borderBottomWidth:T,borderBottomColor:re}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${Le(N)} ${L} ${U}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:S},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${Le(_)} solid ${i}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${D} ${O}`,`opacity ${D} ${O}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:H}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${D} ${w}`,`opacity ${D} ${w}`].join(",")}}}}}},p3=e=>{const{componentCls:t,itemHeight:n,itemMarginInline:r,padding:i,menuArrowSize:d,marginXS:g,itemMarginBlock:v,itemWidth:S,itemPaddingInline:I}=e,T=e.calc(d).add(i).add(g).equal();return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:n,lineHeight:Le(n),paddingInline:I,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:v,width:S},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:n,lineHeight:Le(n)},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:T}}},Qve=e=>{const{componentCls:t,iconCls:n,itemHeight:r,colorTextLightSolid:i,dropdownWidth:d,controlHeightLG:g,motionEaseOut:v,paddingXL:S,itemMarginInline:I,fontSizeLG:T,motionDurationFast:_,motionDurationSlow:N,paddingXS:A,boxShadowSecondary:w,collapsedWidth:O,collapsedIconSize:R}=e,D={height:r,lineHeight:Le(r),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},p3(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},p3(e)),{boxShadow:w})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:d,maxHeight:`calc(100vh - ${Le(e.calc(g).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${N}`,`background ${N}`,`padding ${_} ${v}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:D,[`& ${t}-item-group-title`]:{paddingInlineStart:S}},[`${t}-item`]:D}},{[`${t}-inline-collapsed`]:{width:O,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:T,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${Le(e.calc(R).div(2).equal())} - ${Le(I)})`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${n}`]:{margin:0,fontSize:R,lineHeight:Le(r),"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:i}},[`${t}-item-group-title`]:Object.assign(Object.assign({},kc),{paddingInline:A})}}]},m3=e=>{const{componentCls:t,motionDurationSlow:n,motionDurationMid:r,motionEaseInOut:i,motionEaseOut:d,iconCls:g,iconSize:v,iconMarginInlineEnd:S}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding calc(${n} + 0.1s) ${i}`].join(","),[`${t}-item-icon, ${g}`]:{minWidth:v,fontSize:v,transition:[`font-size ${r} ${d}`,`margin ${n} ${i}`,`color ${n}`].join(","),"+ span":{marginInlineStart:S,opacity:1,transition:[`opacity ${n} ${i}`,`margin ${n}`,`color ${n}`].join(",")}},[`${t}-item-icon`]:Object.assign({},Iy()),[`&${t}-item-only-child`]:{[`> ${g}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},f3=e=>{const{componentCls:t,motionDurationSlow:n,motionEaseInOut:r,borderRadius:i,menuArrowSize:d,menuArrowOffset:g}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:d,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(d).mul(.6).equal(),height:e.calc(d).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:i,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${Le(e.calc(g).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${Le(g)})`}}}}},Zve=e=>{const{antCls:t,componentCls:n,fontSize:r,motionDurationSlow:i,motionDurationMid:d,motionEaseInOut:g,paddingXS:v,padding:S,colorSplit:I,lineWidth:T,zIndexPopup:_,borderRadiusLG:N,subMenuItemBorderRadius:A,menuArrowSize:w,menuArrowOffset:O,lineType:R,groupTitleLineHeight:D,groupTitleFontSize:j}=e;return[{"":{[n]:Object.assign(Object.assign({},Mu()),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Sa(e)),Mu()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${i} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${n}-item-group-title`]:{padding:`${Le(v)} ${Le(S)}`,fontSize:j,lineHeight:D,transition:`all ${i}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${i} ${g}`,`background ${i} ${g}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${i} ${g}`,`background ${i} ${g}`,`padding ${d} ${g}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${i} ${g}`,`padding ${i} ${g}`].join(",")},[`${n}-title-content`]:{transition:`color ${i}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${t}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${n}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:e.padding}},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:I,borderStyle:R,borderWidth:0,borderTopWidth:T,marginBlock:T,padding:0,"&-dashed":{borderStyle:"dashed"}}}),m3(e)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${Le(e.calc(r).mul(2).equal())} ${Le(S)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:_,borderRadius:N,boxShadow:"none",transformOrigin:"0 0",[`&${n}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${n}`]:Object.assign(Object.assign(Object.assign({borderRadius:N},m3(e)),f3(e)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:A},[`${n}-submenu-title::after`]:{transition:`transform ${i} ${g}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),f3(e)),{[`&-inline-collapsed ${n}-submenu-arrow,
        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${Le(O)})`},"&::after":{transform:`rotate(45deg) translateX(${Le(e.calc(O).mul(-1).equal())})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(${Le(e.calc(w).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${Le(e.calc(O).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${Le(O)})`}}})},{[`${t}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},eye=e=>{var t,n,r;const{colorPrimary:i,colorError:d,colorTextDisabled:g,colorErrorBg:v,colorText:S,colorTextDescription:I,colorBgContainer:T,colorFillAlter:_,colorFillContent:N,lineWidth:A,lineWidthBold:w,controlItemBgActive:O,colorBgTextHover:R,controlHeightLG:D,lineHeight:j,colorBgElevated:L,marginXXS:U,padding:$,fontSize:F,controlHeightSM:z,fontSizeLG:H,colorTextLightSolid:V,colorErrorHover:K}=e,J=(t=e.activeBarWidth)!==null&&t!==void 0?t:0,te=(n=e.activeBarBorderWidth)!==null&&n!==void 0?n:A,Z=(r=e.itemMarginInline)!==null&&r!==void 0?r:e.marginXXS,X=new wa(V).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:S,itemColor:S,colorItemTextHover:S,itemHoverColor:S,colorItemTextHoverHorizontal:i,horizontalItemHoverColor:i,colorGroupTitle:I,groupTitleColor:I,colorItemTextSelected:i,itemSelectedColor:i,subMenuItemSelectedColor:i,colorItemTextSelectedHorizontal:i,horizontalItemSelectedColor:i,colorItemBg:T,itemBg:T,colorItemBgHover:R,itemHoverBg:R,colorItemBgActive:N,itemActiveBg:O,colorSubItemBg:_,subMenuItemBg:_,colorItemBgSelected:O,itemSelectedBg:O,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:J,colorActiveBarHeight:w,activeBarHeight:w,colorActiveBarBorderSize:A,activeBarBorderWidth:te,colorItemTextDisabled:g,itemDisabledColor:g,colorDangerItemText:d,dangerItemColor:d,colorDangerItemTextHover:d,dangerItemHoverColor:d,colorDangerItemTextSelected:d,dangerItemSelectedColor:d,colorDangerItemBgActive:v,dangerItemActiveBg:v,colorDangerItemBgSelected:v,dangerItemSelectedBg:v,itemMarginInline:Z,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:D,groupTitleLineHeight:j,collapsedWidth:D*2,popupBg:L,itemMarginBlock:U,itemPaddingInline:$,horizontalLineHeight:`${D*1.15}px`,iconSize:F,iconMarginInlineEnd:z-F,collapsedIconSize:H,groupTitleFontSize:F,darkItemDisabledColor:new wa(V).setA(.25).toRgbString(),darkItemColor:X,darkDangerItemColor:d,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:V,darkItemSelectedBg:i,darkDangerItemSelectedBg:d,darkItemHoverBg:"transparent",darkGroupTitleColor:X,darkItemHoverColor:V,darkDangerItemHoverColor:K,darkDangerItemSelectedColor:V,darkDangerItemActiveBg:d,itemWidth:J?`calc(100% + ${te}px)`:`calc(100% - ${Z*2}px)`}},tye=(e,t=e,n=!0)=>fa("Menu",i=>{const{colorBgElevated:d,controlHeightLG:g,fontSize:v,darkItemColor:S,darkDangerItemColor:I,darkItemBg:T,darkSubMenuItemBg:_,darkItemSelectedColor:N,darkItemSelectedBg:A,darkDangerItemSelectedBg:w,darkItemHoverBg:O,darkGroupTitleColor:R,darkItemHoverColor:D,darkItemDisabledColor:j,darkDangerItemHoverColor:L,darkDangerItemSelectedColor:U,darkDangerItemActiveBg:$,popupBg:F,darkPopupBg:z}=i,H=i.calc(v).div(7).mul(5).equal(),V=qr(i,{menuArrowSize:H,menuHorizontalHeight:i.calc(g).mul(1.15).equal(),menuArrowOffset:i.calc(H).mul(.25).equal(),menuSubMenuBg:d,calc:i.calc,popupBg:F}),K=qr(V,{itemColor:S,itemHoverColor:D,groupTitleColor:R,itemSelectedColor:N,subMenuItemSelectedColor:N,itemBg:T,popupBg:z,subMenuItemBg:_,itemActiveBg:"transparent",itemSelectedBg:A,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:O,itemDisabledColor:j,dangerItemColor:I,dangerItemHoverColor:L,dangerItemSelectedColor:U,dangerItemActiveBg:$,dangerItemSelectedBg:w,menuSubMenuBg:_,horizontalItemSelectedColor:N,horizontalItemSelectedBg:A});return[Zve(V),Xve(V),Qve(V),d3(V,"light"),d3(K,"dark"),Jve(V),c_(V),bm(V,"slide-up"),bm(V,"slide-down"),CD(V,"zoom-big")]},eye,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:n,unitless:{groupTitleLineHeight:!0}})(e,t),pY=e=>{var t;const{popupClassName:n,icon:r,title:i,theme:d}=e,g=E.useContext(DM),{prefixCls:v,inlineCollapsed:S,theme:I}=g,T=wy();let _;if(!r)_=S&&!T.length&&i&&typeof i=="string"?E.createElement("div",{className:`${v}-inline-collapsed-noicon`},i.charAt(0)):E.createElement("span",{className:`${v}-title-content`},i);else{const w=E.isValidElement(i)&&i.type==="span";_=E.createElement(E.Fragment,null,Vo(r,{className:Ue(E.isValidElement(r)?(t=r.props)===null||t===void 0?void 0:t.className:void 0,`${v}-item-icon`)}),w?i:E.createElement("span",{className:`${v}-title-content`},i))}const N=E.useMemo(()=>Object.assign(Object.assign({},g),{firstLevel:!1}),[g]),[A]=i_("Menu");return E.createElement(DM.Provider,{value:N},E.createElement(__,Object.assign({},ri(e,["icon"]),{title:_,popupClassName:Ue(v,n,`${v}-${d||I}`),popupStyle:Object.assign({zIndex:A},e.popupStyle)})))};var nye=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function uN(e){return e===null||e===!1}const rye={item:uY,submenu:pY,divider:cY},aye=E.forwardRef((e,t)=>{var n;const r=E.useContext(jM),i=r||{},{getPrefixCls:d,getPopupContainer:g,direction:v,menu:S}=E.useContext(rr),I=d(),{prefixCls:T,className:_,style:N,theme:A="light",expandIcon:w,_internalDisableMenuItemTitleTooltip:O,inlineCollapsed:R,siderCollapsed:D,rootClassName:j,mode:L,selectable:U,onClick:$,overflowedIndicatorPopupClassName:F}=e,z=nye(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),H=ri(z,["collapsedWidth"]);(n=i.validator)===null||n===void 0||n.call(i,{mode:L});const V=xa((...be)=>{var oe;$==null||$.apply(void 0,be),(oe=i.onClick)===null||oe===void 0||oe.call(i)}),K=i.mode||L,J=U??i.selectable,te=R??D,Z={horizontal:{motionName:`${I}-slide-up`},inline:r0(I),other:{motionName:`${I}-zoom-big`}},X=d("menu",T||i.prefixCls),re=xo(X),[ee,ae,de]=tye(X,re,!r),he=Ue(`${X}-${A}`,S==null?void 0:S.className,_),ue=E.useMemo(()=>{var be,oe;if(typeof w=="function"||uN(w))return w||null;if(typeof i.expandIcon=="function"||uN(i.expandIcon))return i.expandIcon||null;if(typeof(S==null?void 0:S.expandIcon)=="function"||uN(S==null?void 0:S.expandIcon))return(S==null?void 0:S.expandIcon)||null;const pe=(be=w??(i==null?void 0:i.expandIcon))!==null&&be!==void 0?be:S==null?void 0:S.expandIcon;return Vo(pe,{className:Ue(`${X}-submenu-expand-icon`,E.isValidElement(pe)?(oe=pe.props)===null||oe===void 0?void 0:oe.className:void 0)})},[w,i==null?void 0:i.expandIcon,S==null?void 0:S.expandIcon,X]),ye=E.useMemo(()=>({prefixCls:X,inlineCollapsed:te||!1,direction:v,firstLevel:!0,theme:A,mode:K,disableMenuItemTitleTooltip:O}),[X,te,v,O,A]);return ee(E.createElement(jM.Provider,{value:null},E.createElement(DM.Provider,{value:ye},E.createElement(Ny,Object.assign({getPopupContainer:g,overflowedIndicator:E.createElement(KD,null),overflowedIndicatorPopupClassName:Ue(X,`${X}-${A}`,F),mode:K,selectable:J,onClick:V},H,{inlineCollapsed:te,style:Object.assign(Object.assign({},S==null?void 0:S.style),N),className:he,prefixCls:X,direction:v,defaultMotions:Z,expandIcon:ue,ref:t,rootClassName:Ue(j,ae,i.rootClassName,de,re),_internalComponents:rye})))))}),jd=E.forwardRef((e,t)=>{const n=E.useRef(null),r=E.useContext(x_);return E.useImperativeHandle(t,()=>({menu:n.current,focus:i=>{var d;(d=n.current)===null||d===void 0||d.focus(i)}})),E.createElement(aye,Object.assign({ref:n},e,r))});jd.Item=uY;jd.SubMenu=pY;jd.Divider=cY;jd.ItemGroup=GD;const iye=e=>{const{componentCls:t,menuCls:n,colorError:r,colorTextLightSolid:i}=e,d=`${n}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${n} ${d}`]:{[`&${d}-danger:not(${d}-disabled)`]:{color:r,"&:hover":{color:i,backgroundColor:r}}}}}},oye=e=>{const{componentCls:t,menuCls:n,zIndexPopup:r,dropdownArrowDistance:i,sizePopupArrow:d,antCls:g,iconCls:v,motionDurationMid:S,paddingBlock:I,fontSize:T,dropdownEdgeChildPadding:_,colorTextDisabled:N,fontSizeIcon:A,controlPaddingHorizontal:w,colorBgElevated:O}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:e.calc(d).div(2).sub(i).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${g}-btn`]:{[`& > ${v}-down, & > ${g}-btn-icon > ${v}-down`]:{fontSize:A}},[`${t}-wrap`]:{position:"relative",[`${g}-btn > ${v}-down`]:{fontSize:A},[`${v}-down::before`]:{transition:`transform ${S}`}},[`${t}-wrap-open`]:{[`${v}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${g}-slide-down-enter${g}-slide-down-enter-active${t}-placement-bottomLeft,
          &${g}-slide-down-appear${g}-slide-down-appear-active${t}-placement-bottomLeft,
          &${g}-slide-down-enter${g}-slide-down-enter-active${t}-placement-bottom,
          &${g}-slide-down-appear${g}-slide-down-appear-active${t}-placement-bottom,
          &${g}-slide-down-enter${g}-slide-down-enter-active${t}-placement-bottomRight,
          &${g}-slide-down-appear${g}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:yD},[`&${g}-slide-up-enter${g}-slide-up-enter-active${t}-placement-topLeft,
          &${g}-slide-up-appear${g}-slide-up-appear-active${t}-placement-topLeft,
          &${g}-slide-up-enter${g}-slide-up-enter-active${t}-placement-top,
          &${g}-slide-up-appear${g}-slide-up-appear-active${t}-placement-top,
          &${g}-slide-up-enter${g}-slide-up-enter-active${t}-placement-topRight,
          &${g}-slide-up-appear${g}-slide-up-appear-active${t}-placement-topRight`]:{animationName:SD},[`&${g}-slide-down-leave${g}-slide-down-leave-active${t}-placement-bottomLeft,
          &${g}-slide-down-leave${g}-slide-down-leave-active${t}-placement-bottom,
          &${g}-slide-down-leave${g}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:bD},[`&${g}-slide-up-leave${g}-slide-up-leave-active${t}-placement-topLeft,
          &${g}-slide-up-leave${g}-slide-up-leave-active${t}-placement-top,
          &${g}-slide-up-leave${g}-slide-up-leave-active${t}-placement-topRight`]:{animationName:ID}}},BW(e,O,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},Sa(e)),{[n]:Object.assign(Object.assign({padding:_,listStyleType:"none",backgroundColor:O,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},Od(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${n}-item-group-title`]:{padding:`${Le(I)} ${Le(w)}`,color:e.colorTextDescription,transition:`all ${S}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:T,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${n}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${S}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${n}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${Le(I)} ${Le(w)}`,color:e.colorText,fontWeight:"normal",fontSize:T,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${S}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},Od(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:N,cursor:"not-allowed","&:hover":{color:N,backgroundColor:O,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${Le(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorIcon,fontSize:A,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${Le(e.marginXS)}`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:e.calc(w).add(e.fontSizeSM).equal()},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:N,backgroundColor:O,cursor:"not-allowed"}},[`${n}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[bm(e,"slide-up"),bm(e,"slide-down"),kM(e,"move-up"),kM(e,"move-down"),CD(e,"zoom-big")]]},sye=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},$D({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),$W(e)),lye=fa("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:n,paddingXXS:r,componentCls:i}=e,d=qr(e,{menuCls:`${i}-menu`,dropdownArrowDistance:e.calc(n).div(2).add(t).equal(),dropdownEdgeChildPadding:r});return[oye(d),iye(d)]},sye,{resetStyle:!1}),w_=e=>{var t;const{menu:n,arrow:r,prefixCls:i,children:d,trigger:g,disabled:v,dropdownRender:S,popupRender:I,getPopupContainer:T,overlayClassName:_,rootClassName:N,overlayStyle:A,open:w,onOpenChange:O,visible:R,onVisibleChange:D,mouseEnterDelay:j=.15,mouseLeaveDelay:L=.1,autoAdjustOverflow:U=!0,placement:$="",overlay:F,transitionName:z,destroyOnHidden:H,destroyPopupOnHide:V}=e,{getPopupContainer:K,getPrefixCls:J,direction:te,dropdown:Z}=E.useContext(rr),X=I||S;Cm();const re=E.useMemo(()=>{const nt=J();return z!==void 0?z:$.includes("top")?`${nt}-slide-down`:`${nt}-slide-up`},[J,$,z]),ee=E.useMemo(()=>$?$.includes("Center")?$.slice(0,$.indexOf("Center")):$:te==="rtl"?"bottomRight":"bottomLeft",[$,te]),ae=J("dropdown",i),de=xo(ae),[he,ue,ye]=lye(ae,de),[,be]=ms(),oe=E.Children.only(tve(d)?E.createElement("span",null,d):d),pe=Vo(oe,{className:Ue(`${ae}-trigger`,{[`${ae}-rtl`]:te==="rtl"},oe.props.className),disabled:(t=oe.props.disabled)!==null&&t!==void 0?t:v}),fe=v?[]:g,_e=!!(fe!=null&&fe.includes("contextMenu")),[Te,Se]=Si(!1,{value:w??R}),De=xa(nt=>{O==null||O(nt,{source:"trigger"}),D==null||D(nt),Se(nt)}),je=Ue(_,N,ue,ye,de,Z==null?void 0:Z.className,{[`${ae}-rtl`]:te==="rtl"}),ke=FW({arrowPointAtCenter:typeof r=="object"&&r.pointAtCenter,autoAdjustOverflow:U,offset:be.marginXXS,arrowWidth:r?be.sizePopupArrow:0,borderRadius:be.borderRadius}),Oe=E.useCallback(()=>{n!=null&&n.selectable&&(n!=null&&n.multiple)||(O==null||O(!1,{source:"menu"}),Se(!1))},[n==null?void 0:n.selectable,n==null?void 0:n.multiple]),Ne=()=>{let nt;return n!=null&&n.items?nt=E.createElement(jd,Object.assign({},n)):typeof F=="function"?nt=F():nt=F,X&&(nt=X(nt)),nt=E.Children.only(typeof nt=="string"?E.createElement("span",null,nt):nt),E.createElement(dY,{prefixCls:`${ae}-menu`,rootClassName:Ue(ye,de),expandIcon:E.createElement("span",{className:`${ae}-menu-submenu-arrow`},te==="rtl"?E.createElement(c0,{className:`${ae}-menu-submenu-arrow-icon`}):E.createElement(i0,{className:`${ae}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Oe,validator:({mode:Je})=>{}},nt)},[qe,Ke]=i_("Dropdown",A==null?void 0:A.zIndex);let He=E.createElement(GW,Object.assign({alignPoint:_e},ri(e,["rootClassName"]),{mouseEnterDelay:j,mouseLeaveDelay:L,visible:Te,builtinPlacements:ke,arrow:!!r,overlayClassName:je,prefixCls:ae,getPopupContainer:T||K,transitionName:re,trigger:fe,overlay:Ne,placement:ee,onVisibleChange:De,overlayStyle:Object.assign(Object.assign(Object.assign({},Z==null?void 0:Z.style),A),{zIndex:qe}),autoDestroy:H??V}),pe);return qe&&(He=E.createElement(mD.Provider,{value:Ke},He)),he(He)},cye=vW(w_,"align",void 0,"dropdown",e=>e),uye=e=>E.createElement(cye,Object.assign({},e),E.createElement("span",null));w_._InternalPanelDoNotUseOrYouWillBeFired=uye;const mY=E.createContext(null),dye=mY.Provider,fY=E.createContext(null),pye=fY.Provider;var mye=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],gY=E.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-checkbox":n,i=e.className,d=e.style,g=e.checked,v=e.disabled,S=e.defaultChecked,I=S===void 0?!1:S,T=e.type,_=T===void 0?"checkbox":T,N=e.title,A=e.onChange,w=ir(e,mye),O=E.useRef(null),R=E.useRef(null),D=Si(I,{value:g}),j=at(D,2),L=j[0],U=j[1];E.useImperativeHandle(t,function(){return{focus:function(H){var V;(V=O.current)===null||V===void 0||V.focus(H)},blur:function(){var H;(H=O.current)===null||H===void 0||H.blur()},input:O.current,nativeElement:R.current}});var $=Ue(r,i,Ce(Ce({},"".concat(r,"-checked"),L),"".concat(r,"-disabled"),v)),F=function(H){v||("checked"in e||U(H.target.checked),A==null||A({target:Pe(Pe({},e),{},{type:_,checked:H.target.checked}),stopPropagation:function(){H.stopPropagation()},preventDefault:function(){H.preventDefault()},nativeEvent:H.nativeEvent}))};return E.createElement("span",{className:$,title:N,style:d,ref:R},E.createElement("input",kt({},w,{className:"".concat(r,"-input"),ref:O,onChange:F,disabled:v,checked:!!L,type:_})),E.createElement("span",{className:"".concat(r,"-inner")}))});function hY(e){const t=Xe.useRef(null),n=()=>{Fr.cancel(t.current),t.current=null};return[()=>{n(),t.current=Fr(()=>{t.current=null})},d=>{t.current&&(d.stopPropagation(),n()),e==null||e(d)}]}const fye=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-group`;return{[r]:Object.assign(Object.assign({},Sa(e)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`&${r}-block`]:{display:"flex"},[`${n}-badge ${n}-badge-count`]:{zIndex:1},[`> ${n}-badge:not(:first-child) > ${n}-button-wrapper`]:{borderInlineStart:"none"}})}},gye=e=>{const{componentCls:t,wrapperMarginInlineEnd:n,colorPrimary:r,radioSize:i,motionDurationSlow:d,motionDurationMid:g,motionEaseInOutCirc:v,colorBgContainer:S,colorBorder:I,lineWidth:T,colorBgContainerDisabled:_,colorTextDisabled:N,paddingXS:A,dotColorDisabled:w,lineType:O,radioColor:R,radioBgColor:D,calc:j}=e,L=`${t}-inner`,$=j(i).sub(j(4).mul(2)),F=j(1).mul(i).equal({unit:!0});return{[`${t}-wrapper`]:Object.assign(Object.assign({},Sa(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${t}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${t}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${Le(T)} ${O} ${r}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[t]:Object.assign(Object.assign({},Sa(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${t}-wrapper:hover &,
        &:hover ${L}`]:{borderColor:r},[`${t}-input:focus-visible + ${L}`]:Object.assign({},_u(e)),[`${t}:hover::after, ${t}-wrapper:hover &::after`]:{visibility:"visible"},[`${t}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:F,height:F,marginBlockStart:j(1).mul(i).div(-2).equal({unit:!0}),marginInlineStart:j(1).mul(i).div(-2).equal({unit:!0}),backgroundColor:R,borderBlockStart:0,borderInlineStart:0,borderRadius:F,transform:"scale(0)",opacity:0,transition:`all ${d} ${v}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:F,height:F,backgroundColor:S,borderColor:I,borderStyle:"solid",borderWidth:T,borderRadius:"50%",transition:`all ${g}`},[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${t}-checked`]:{[L]:{borderColor:r,backgroundColor:D,"&::after":{transform:`scale(${e.calc(e.dotSize).div(i).equal()})`,opacity:1,transition:`all ${d} ${v}`}}},[`${t}-disabled`]:{cursor:"not-allowed",[L]:{backgroundColor:_,borderColor:I,cursor:"not-allowed","&::after":{backgroundColor:w}},[`${t}-input`]:{cursor:"not-allowed"},[`${t}-disabled + span`]:{color:N,cursor:"not-allowed"},[`&${t}-checked`]:{[L]:{"&::after":{transform:`scale(${j($).div(i).equal()})`}}}},[`span${t} + *`]:{paddingInlineStart:A,paddingInlineEnd:A}})}},hye=e=>{const{buttonColor:t,controlHeight:n,componentCls:r,lineWidth:i,lineType:d,colorBorder:g,motionDurationSlow:v,motionDurationMid:S,buttonPaddingInline:I,fontSize:T,buttonBg:_,fontSizeLG:N,controlHeightLG:A,controlHeightSM:w,paddingXS:O,borderRadius:R,borderRadiusSM:D,borderRadiusLG:j,buttonCheckedBg:L,buttonSolidCheckedColor:U,colorTextDisabled:$,colorBgContainerDisabled:F,buttonCheckedBgDisabled:z,buttonCheckedColorDisabled:H,colorPrimary:V,colorPrimaryHover:K,colorPrimaryActive:J,buttonSolidCheckedBg:te,buttonSolidCheckedHoverBg:Z,buttonSolidCheckedActiveBg:X,calc:re}=e;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:I,paddingBlock:0,color:t,fontSize:T,lineHeight:Le(re(n).sub(re(i).mul(2)).equal()),background:_,border:`${Le(i)} ${d} ${g}`,borderBlockStartWidth:re(i).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:i,cursor:"pointer",transition:[`color ${S}`,`background ${S}`,`box-shadow ${S}`].join(","),a:{color:t},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:re(i).mul(-1).equal(),insetInlineStart:re(i).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:i,paddingInline:0,backgroundColor:g,transition:`background-color ${v}`,content:'""'}},"&:first-child":{borderInlineStart:`${Le(i)} ${d} ${g}`,borderStartStartRadius:R,borderEndStartRadius:R},"&:last-child":{borderStartEndRadius:R,borderEndEndRadius:R},"&:first-child:last-child":{borderRadius:R},[`${r}-group-large &`]:{height:A,fontSize:N,lineHeight:Le(re(A).sub(re(i).mul(2)).equal()),"&:first-child":{borderStartStartRadius:j,borderEndStartRadius:j},"&:last-child":{borderStartEndRadius:j,borderEndEndRadius:j}},[`${r}-group-small &`]:{height:w,paddingInline:re(O).sub(i).equal(),paddingBlock:0,lineHeight:Le(re(w).sub(re(i).mul(2)).equal()),"&:first-child":{borderStartStartRadius:D,borderEndStartRadius:D},"&:last-child":{borderStartEndRadius:D,borderEndEndRadius:D}},"&:hover":{position:"relative",color:V},"&:has(:focus-visible)":Object.assign({},_u(e)),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:V,background:L,borderColor:V,"&::before":{backgroundColor:V},"&:first-child":{borderColor:V},"&:hover":{color:K,borderColor:K,"&::before":{backgroundColor:K}},"&:active":{color:J,borderColor:J,"&::before":{backgroundColor:J}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:U,background:te,borderColor:te,"&:hover":{color:U,background:Z,borderColor:Z},"&:active":{color:U,background:X,borderColor:X}},"&-disabled":{color:$,backgroundColor:F,borderColor:g,cursor:"not-allowed","&:first-child, &:hover":{color:$,backgroundColor:F,borderColor:g}},[`&-disabled${r}-button-wrapper-checked`]:{color:H,backgroundColor:z,borderColor:g,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},vye=e=>{const{wireframe:t,padding:n,marginXS:r,lineWidth:i,fontSizeLG:d,colorText:g,colorBgContainer:v,colorTextDisabled:S,controlItemBgActiveDisabled:I,colorTextLightSolid:T,colorPrimary:_,colorPrimaryHover:N,colorPrimaryActive:A,colorWhite:w}=e,O=4,R=d,D=t?R-O*2:R-(O+i)*2;return{radioSize:R,dotSize:D,dotColorDisabled:S,buttonSolidCheckedColor:T,buttonSolidCheckedBg:_,buttonSolidCheckedHoverBg:N,buttonSolidCheckedActiveBg:A,buttonBg:v,buttonCheckedBg:v,buttonColor:g,buttonCheckedBgDisabled:I,buttonCheckedColorDisabled:S,buttonPaddingInline:n-i,wrapperMarginInlineEnd:r,radioColor:t?_:w,radioBgColor:t?v:_}},vY=fa("Radio",e=>{const{controlOutline:t,controlOutlineWidth:n}=e,r=`0 0 0 ${Le(n)} ${t}`,d=qr(e,{radioFocusShadow:r,radioButtonFocusShadow:r});return[fye(d),gye(d),hye(d)]},vye,{unitless:{radioSize:!0,dotSize:!0}});var yye=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const bye=(e,t)=>{var n,r;const i=E.useContext(mY),d=E.useContext(fY),{getPrefixCls:g,direction:v,radio:S}=E.useContext(rr),I=E.useRef(null),T=Bo(t,I),{isFormItemInput:_}=E.useContext($o),N=ee=>{var ae,de;(ae=e.onChange)===null||ae===void 0||ae.call(e,ee),(de=i==null?void 0:i.onChange)===null||de===void 0||de.call(i,ee)},{prefixCls:A,className:w,rootClassName:O,children:R,style:D,title:j}=e,L=yye(e,["prefixCls","className","rootClassName","children","style","title"]),U=g("radio",A),$=((i==null?void 0:i.optionType)||d)==="button",F=$?`${U}-button`:U,z=xo(U),[H,V,K]=vY(U,z),J=Object.assign({},L),te=E.useContext(Xs);i&&(J.name=i.name,J.onChange=N,J.checked=e.value===i.value,J.disabled=(n=J.disabled)!==null&&n!==void 0?n:i.disabled),J.disabled=(r=J.disabled)!==null&&r!==void 0?r:te;const Z=Ue(`${F}-wrapper`,{[`${F}-wrapper-checked`]:J.checked,[`${F}-wrapper-disabled`]:J.disabled,[`${F}-wrapper-rtl`]:v==="rtl",[`${F}-wrapper-in-form-item`]:_,[`${F}-wrapper-block`]:!!(i!=null&&i.block)},S==null?void 0:S.className,w,O,V,K,z),[X,re]=hY(J.onClick);return H(E.createElement(T0,{component:"Radio",disabled:J.disabled},E.createElement("label",{className:Z,style:Object.assign(Object.assign({},S==null?void 0:S.style),D),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:j,onClick:X},E.createElement(gY,Object.assign({},J,{className:Ue(J.className,{[s_]:!$}),type:"radio",prefixCls:F,ref:T,onClick:re})),R!==void 0?E.createElement("span",{className:`${F}-label`},R):null)))},VM=E.forwardRef(bye),Sye=["parentNode"],Iye="form_item";function FI(e){return e===void 0||e===!1?[]:Array.isArray(e)?e:[e]}function yY(e,t){if(!e.length)return;const n=e.join("_");return t?`${t}_${n}`:Sye.includes(n)?`${Iye}_${n}`:n}function bY(e,t,n,r,i,d){let g=r;return d!==void 0?g=d:n.validating?g="validating":e.length?g="error":t.length?g="warning":(n.touched||i&&n.validated)&&(g="success"),g}var Eye=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function SP(e){return FI(e).join("_")}function g3(e,t){const n=t.getFieldInstance(e),r=b0(n);if(r)return r;const i=yY(FI(e),t.__INTERNAL__.name);if(i)return document.getElementById(i)}function SY(e){const[t]=wD(),n=E.useRef({}),r=E.useMemo(()=>e??Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:i=>d=>{const g=SP(i);d?n.current[g]=d:delete n.current[g]}},scrollToField:(i,d={})=>{const{focus:g}=d,v=Eye(d,["focus"]),S=g3(i,r);S&&(PK(S,Object.assign({scrollMode:"if-needed",block:"nearest"},v)),g&&r.focusField(i))},focusField:i=>{var d,g;const v=r.getFieldInstance(i);typeof(v==null?void 0:v.focus)=="function"?v.focus():(g=(d=g3(i,r))===null||d===void 0?void 0:d.focus)===null||g===void 0||g.call(d)},getFieldInstance:i=>{const d=SP(i);return n.current[d]}}),[e,t]);return[r]}const Cye=E.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=E.useContext(rr),{name:i}=E.useContext($o),d=MD(SP(i)),{prefixCls:g,className:v,rootClassName:S,options:I,buttonStyle:T="outline",disabled:_,children:N,size:A,style:w,id:O,optionType:R,name:D=d,defaultValue:j,value:L,block:U=!1,onChange:$,onMouseEnter:F,onMouseLeave:z,onFocus:H,onBlur:V}=e,[K,J]=Si(j,{value:L}),te=E.useCallback(oe=>{const pe=K,fe=oe.target.value;"value"in e||J(fe),fe!==pe&&($==null||$(oe))},[K,J,$]),Z=n("radio",g),X=`${Z}-group`,re=xo(Z),[ee,ae,de]=vY(Z,re);let he=N;I&&I.length>0&&(he=I.map(oe=>typeof oe=="string"||typeof oe=="number"?E.createElement(VM,{key:oe.toString(),prefixCls:Z,disabled:_,value:oe,checked:K===oe},oe):E.createElement(VM,{key:`radio-group-value-options-${oe.value}`,prefixCls:Z,disabled:oe.disabled||_,value:oe.value,checked:K===oe.value,title:oe.title,style:oe.style,className:oe.className,id:oe.id,required:oe.required},oe.label)));const ue=qo(A),ye=Ue(X,`${X}-${T}`,{[`${X}-${ue}`]:ue,[`${X}-rtl`]:r==="rtl",[`${X}-block`]:U},v,S,ae,de,re),be=E.useMemo(()=>({onChange:te,value:K,disabled:_,name:D,optionType:R,block:U}),[te,K,_,D,R,U]);return ee(E.createElement("div",Object.assign({},ws(e,{aria:!0,data:!0}),{className:ye,style:w,onMouseEnter:F,onMouseLeave:z,onFocus:H,onBlur:V,id:O,ref:t}),E.createElement(dye,{value:be},he)))}),Tye=E.memo(Cye);var Mye=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const _ye=(e,t)=>{const{getPrefixCls:n}=E.useContext(rr),{prefixCls:r}=e,i=Mye(e,["prefixCls"]),d=n("radio",r);return E.createElement(pye,{value:"button"},E.createElement(VM,Object.assign({prefixCls:d},i,{type:"radio",ref:t})))},xye=E.forwardRef(_ye),Dr=VM;Dr.Button=xye;Dr.Group=Tye;Dr.__ANT_RADIO=!0;function Ry(e){return qr(e,{inputAffixPadding:e.paddingXXS})}const Ay=e=>{const{controlHeight:t,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:d,controlHeightLG:g,fontSizeLG:v,lineHeightLG:S,paddingSM:I,controlPaddingHorizontalSM:T,controlPaddingHorizontal:_,colorFillAlter:N,colorPrimaryHover:A,colorPrimary:w,controlOutlineWidth:O,controlOutline:R,colorErrorOutline:D,colorWarningOutline:j,colorBgContainer:L,inputFontSize:U,inputFontSizeLG:$,inputFontSizeSM:F}=e,z=U||n,H=F||z,V=$||v,K=Math.round((t-z*r)/2*10)/10-i,J=Math.round((d-H*r)/2*10)/10-i,te=Math.ceil((g-V*S)/2*10)/10-i;return{paddingBlock:Math.max(K,0),paddingBlockSM:Math.max(J,0),paddingBlockLG:Math.max(te,0),paddingInline:I-i,paddingInlineSM:T-i,paddingInlineLG:_-i,addonBg:N,activeBorderColor:w,hoverBorderColor:A,activeShadow:`0 0 0 ${O}px ${R}`,errorActiveShadow:`0 0 0 ${O}px ${D}`,warningActiveShadow:`0 0 0 ${O}px ${j}`,hoverBg:L,activeBg:L,inputFontSize:z,inputFontSizeLG:V,inputFontSizeSM:H}},wye=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),N_=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},wye(qr(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),WD=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),h3=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},WD(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:t.borderColor}}),IY=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},WD(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},N_(e))}),h3(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),h3(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),v3=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),EY=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group`]:{"&-addon":{background:e.addonBg,border:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},v3(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),v3(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group-addon`]:Object.assign({},N_(e))}})}),CY=(e,t)=>{const{componentCls:n}=e;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${n}-status-error`]:{"&, & input, & textarea":{color:e.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:e.colorWarning}}},t)}},TY=(e,t)=>{var n;return{background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:(n=t==null?void 0:t.inputColor)!==null&&n!==void 0?n:"unset"},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}},y3=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},TY(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}})}),MY=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},TY(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor})),{[`&${e.componentCls}-disabled, &[disabled]`]:Object.assign({},N_(e))}),y3(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),y3(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),b3=(e,t)=>({[`&${e.componentCls}-group-wrapper-status-${t.status}`]:{[`${e.componentCls}-group-addon`]:{background:t.addonBg,color:t.addonColor}}}),_Y=e=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${e.componentCls}-group-addon`]:{background:e.colorFillTertiary,"&:last-child":{position:"static"}}},b3(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),b3(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{[`&${e.componentCls}-group-wrapper-disabled`]:{[`${e.componentCls}-group`]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderTop:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderBottom:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`}}}})}),xY=(e,t)=>({background:e.colorBgContainer,borderWidth:`${Le(e.lineWidth)} 0`,borderStyle:`${e.lineType} none`,borderColor:`transparent transparent ${t.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${t.borderColor} transparent`,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${t.borderColor} transparent`,outline:0,backgroundColor:e.activeBg}}),S3=(e,t)=>({[`&${e.componentCls}-status-${t.status}:not(${e.componentCls}-disabled)`]:Object.assign(Object.assign({},xY(e,t)),{[`${e.componentCls}-prefix, ${e.componentCls}-suffix`]:{color:t.affixColor}}),[`&${e.componentCls}-status-${t.status}${e.componentCls}-disabled`]:{borderColor:`transparent transparent ${t.borderColor} transparent`}}),wY=(e,t)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xY(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{[`&${e.componentCls}-disabled, &[disabled]`]:{color:e.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${e.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),S3(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),S3(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),NY=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),RY=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:i}=e;return{padding:`${Le(t)} ${Le(i)}`,fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:r}},YD=e=>({padding:`${Le(e.paddingBlockSM)} ${Le(e.paddingInlineSM)}`,fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),R0=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Le(e.paddingBlock)} ${Le(e.paddingInline)}`,color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},NY(e.colorTextPlaceholder)),{"&-lg":Object.assign({},RY(e)),"&-sm":Object.assign({},YD(e)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),AY=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},RY(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},YD(e)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Le(e.paddingInline)}`,color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${Le(e.calc(e.paddingBlock).add(1).mul(-1).equal())} ${Le(e.calc(e.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${Le(e.lineWidth)} ${e.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${Le(e.calc(e.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[t]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:Object.assign(Object.assign({display:"block"},Mu()),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${t}-affix-wrapper,
        & > ${t}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[t]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${t},
      & > ${n}-cascader-picker ${t},
      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${t},
      & > ${n}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${t},
      & > ${n}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${n}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},Nye=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:r,calc:i}=e,g=i(n).sub(i(r).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Sa(e)),R0(e)),IY(e)),MY(e)),CY(e)),wY(e)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:n,paddingTop:g,paddingBottom:g}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}})}},Rye=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:e.colorIcon},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Le(e.inputAffixPadding)}`}}}},Aye=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:d,colorIconHover:g,iconCls:v}=e,S=`${t}-affix-wrapper`,I=`${t}-affix-wrapper-disabled`;return{[S]:Object.assign(Object.assign(Object.assign(Object.assign({},R0(e)),{display:"inline-flex",[`&:not(${t}-disabled):hover`]:{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${t}`]:{padding:0},[`> input${t}, > textarea${t}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r,direction:"ltr"},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),Rye(e)),{[`${v}${t}-password-icon`]:{color:d,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:g}}}),[`${t}-underlined`]:{borderRadius:0},[I]:{[`${v}${t}-password-icon`]:{color:d,cursor:"not-allowed","&:hover":{color:d}}}}},Oye=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:r}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},Sa(e)),AY(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:r}}},EY(e)),_Y(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-item`]:{[`${t}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},kye=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-search`;return{[r]:{[t]:{"&:hover, &:focus":{[`+ ${t}-group-addon ${r}-button:not(${n}-btn-color-primary):not(${n}-btn-variant-text)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{height:e.controlHeight,borderRadius:0},[`${t}-lg`]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal()},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-color-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${n}-btn-loading::before`]:{inset:0}}}},[`${r}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${t}-affix-wrapper, ${r}-button`]:{height:e.controlHeightLG}},"&-small":{[`${t}-affix-wrapper, ${r}-button`]:{height:e.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,
        > ${t},
        ${t}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}},Lye=e=>{const{componentCls:t}=e;return{[`${t}-out-of-range`]:{[`&, & input, & textarea, ${t}-show-count-suffix, ${t}-data-count`]:{color:e.colorError}}}},OY=fa(["Input","Shared"],e=>{const t=qr(e,Ry(e));return[Nye(t),Aye(t)]},Ay,{resetFont:!1}),kY=fa(["Input","Component"],e=>{const t=qr(e,Ry(e));return[Oye(t),kye(t),Lye(t),v_(t)]},Ay,{resetFont:!1});var Pye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},Dye=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:Pye}))},jye=E.forwardRef(Dye);const R_=E.createContext(null);var Vye=function(t){var n=t.activeTabOffset,r=t.horizontal,i=t.rtl,d=t.indicator,g=d===void 0?{}:d,v=g.size,S=g.align,I=S===void 0?"center":S,T=E.useState(),_=at(T,2),N=_[0],A=_[1],w=E.useRef(),O=Xe.useCallback(function(D){return typeof v=="function"?v(D):typeof v=="number"?v:D},[v]);function R(){Fr.cancel(w.current)}return E.useEffect(function(){var D={};if(n)if(r){D.width=O(n.width);var j=i?"right":"left";I==="start"&&(D[j]=n[j]),I==="center"&&(D[j]=n[j]+n.width/2,D.transform=i?"translateX(50%)":"translateX(-50%)"),I==="end"&&(D[j]=n[j]+n.width,D.transform="translateX(-100%)")}else D.height=O(n.height),I==="start"&&(D.top=n.top),I==="center"&&(D.top=n.top+n.height/2,D.transform="translateY(-50%)"),I==="end"&&(D.top=n.top+n.height,D.transform="translateY(-100%)");return R(),w.current=Fr(function(){var L=N&&D&&Object.keys(D).every(function(U){var $=D[U],F=N[U];return typeof $=="number"&&typeof F=="number"?Math.round($)===Math.round(F):$===F});L||A(D)}),R},[JSON.stringify(n),r,i,I,O]),{style:N}},I3={width:0,height:0,left:0,top:0};function $ye(e,t,n){return E.useMemo(function(){for(var r,i=new Map,d=t.get((r=e[0])===null||r===void 0?void 0:r.key)||I3,g=d.left+d.width,v=0;v<e.length;v+=1){var S=e[v].key,I=t.get(S);if(!I){var T;I=t.get((T=e[v-1])===null||T===void 0?void 0:T.key)||I3}var _=i.get(S)||Pe({},I);_.right=g-_.left-_.width,i.set(S,_)}return i},[e.map(function(r){return r.key}).join("_"),t,n])}function E3(e,t){var n=E.useRef(e),r=E.useState({}),i=at(r,2),d=i[1];function g(v){var S=typeof v=="function"?v(n.current):v;S!==n.current&&t(S,n.current),n.current=S,d({})}return[n.current,g]}var Uye=.1,C3=.01,hM=20,T3=Math.pow(.995,hM);function Bye(e,t){var n=E.useState(),r=at(n,2),i=r[0],d=r[1],g=E.useState(0),v=at(g,2),S=v[0],I=v[1],T=E.useState(0),_=at(T,2),N=_[0],A=_[1],w=E.useState(),O=at(w,2),R=O[0],D=O[1],j=E.useRef();function L(V){var K=V.touches[0],J=K.screenX,te=K.screenY;d({x:J,y:te}),window.clearInterval(j.current)}function U(V){if(i){var K=V.touches[0],J=K.screenX,te=K.screenY;d({x:J,y:te});var Z=J-i.x,X=te-i.y;t(Z,X);var re=Date.now();I(re),A(re-S),D({x:Z,y:X})}}function $(){if(i&&(d(null),D(null),R)){var V=R.x/N,K=R.y/N,J=Math.abs(V),te=Math.abs(K);if(Math.max(J,te)<Uye)return;var Z=V,X=K;j.current=window.setInterval(function(){if(Math.abs(Z)<C3&&Math.abs(X)<C3){window.clearInterval(j.current);return}Z*=T3,X*=T3,t(Z*hM,X*hM)},hM)}}var F=E.useRef();function z(V){var K=V.deltaX,J=V.deltaY,te=0,Z=Math.abs(K),X=Math.abs(J);Z===X?te=F.current==="x"?K:J:Z>X?(te=K,F.current="x"):(te=J,F.current="y"),t(-te,-te)&&V.preventDefault()}var H=E.useRef(null);H.current={onTouchStart:L,onTouchMove:U,onTouchEnd:$,onWheel:z},E.useEffect(function(){function V(Z){H.current.onTouchStart(Z)}function K(Z){H.current.onTouchMove(Z)}function J(Z){H.current.onTouchEnd(Z)}function te(Z){H.current.onWheel(Z)}return document.addEventListener("touchmove",K,{passive:!1}),document.addEventListener("touchend",J,{passive:!0}),e.current.addEventListener("touchstart",V,{passive:!0}),e.current.addEventListener("wheel",te,{passive:!1}),function(){document.removeEventListener("touchmove",K),document.removeEventListener("touchend",J)}},[])}function LY(e){var t=E.useState(0),n=at(t,2),r=n[0],i=n[1],d=E.useRef(0),g=E.useRef();return g.current=e,ny(function(){var v;(v=g.current)===null||v===void 0||v.call(g)},[r]),function(){d.current===r&&(d.current+=1,i(d.current))}}function Fye(e){var t=E.useRef([]),n=E.useState({}),r=at(n,2),i=r[1],d=E.useRef(typeof e=="function"?e():e),g=LY(function(){var S=d.current;t.current.forEach(function(I){S=I(S)}),t.current=[],d.current=S,i({})});function v(S){t.current.push(S),g()}return[d.current,v]}var M3={width:0,height:0,left:0,top:0,right:0};function qye(e,t,n,r,i,d,g){var v=g.tabs,S=g.tabPosition,I=g.rtl,T,_,N;return["top","bottom"].includes(S)?(T="width",_=I?"right":"left",N=Math.abs(n)):(T="height",_="top",N=-n),E.useMemo(function(){if(!v.length)return[0,0];for(var A=v.length,w=A,O=0;O<A;O+=1){var R=e.get(v[O].key)||M3;if(Math.floor(R[_]+R[T])>Math.floor(N+t)){w=O-1;break}}for(var D=0,j=A-1;j>=0;j-=1){var L=e.get(v[j].key)||M3;if(L[_]<N){D=j+1;break}}return D>=w?[0,0]:[D,w]},[e,t,r,i,d,N,S,v.map(function(A){return A.key}).join("_"),I])}function _3(e){var t;return e instanceof Map?(t={},e.forEach(function(n,r){t[r]=n})):t=e,JSON.stringify(t)}var zye="TABS_DQ";function PY(e){return String(e).replace(/"/g,zye)}function XD(e,t,n,r){return!(!n||r||e===!1||e===void 0&&(t===!1||t===null))}var DY=E.forwardRef(function(e,t){var n=e.prefixCls,r=e.editable,i=e.locale,d=e.style;return!r||r.showAdd===!1?null:E.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:d,"aria-label":(i==null?void 0:i.addAriaLabel)||"Add tab",onClick:function(v){r.onEdit("add",{event:v})}},r.addIcon||"+")}),x3=E.forwardRef(function(e,t){var n=e.position,r=e.prefixCls,i=e.extra;if(!i)return null;var d,g={};return qn(i)==="object"&&!E.isValidElement(i)?g=i:g.right=i,n==="right"&&(d=g.right),n==="left"&&(d=g.left),d?E.createElement("div",{className:"".concat(r,"-extra-content"),ref:t},d):null}),Hye=E.forwardRef(function(e,t){var n=e.prefixCls,r=e.id,i=e.tabs,d=e.locale,g=e.mobile,v=e.more,S=v===void 0?{}:v,I=e.style,T=e.className,_=e.editable,N=e.tabBarGutter,A=e.rtl,w=e.removeAriaLabel,O=e.onTabClick,R=e.getPopupContainer,D=e.popupClassName,j=E.useState(!1),L=at(j,2),U=L[0],$=L[1],F=E.useState(null),z=at(F,2),H=z[0],V=z[1],K=S.icon,J=K===void 0?"More":K,te="".concat(r,"-more-popup"),Z="".concat(n,"-dropdown"),X=H!==null?"".concat(te,"-").concat(H):null,re=d==null?void 0:d.dropdownAriaLabel;function ee(oe,pe){oe.preventDefault(),oe.stopPropagation(),_.onEdit("remove",{key:pe,event:oe})}var ae=E.createElement(Ny,{onClick:function(pe){var fe=pe.key,_e=pe.domEvent;O(fe,_e),$(!1)},prefixCls:"".concat(Z,"-menu"),id:te,tabIndex:-1,role:"listbox","aria-activedescendant":X,selectedKeys:[H],"aria-label":re!==void 0?re:"expanded dropdown"},i.map(function(oe){var pe=oe.closable,fe=oe.disabled,_e=oe.closeIcon,Te=oe.key,Se=oe.label,De=XD(pe,_e,_,fe);return E.createElement(N0,{key:Te,id:"".concat(te,"-").concat(Te),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(Te),disabled:fe},E.createElement("span",null,Se),De&&E.createElement("button",{type:"button","aria-label":w||"remove",tabIndex:0,className:"".concat(Z,"-menu-item-remove"),onClick:function(ke){ke.stopPropagation(),ee(ke,Te)}},_e||_.removeIcon||"×"))}));function de(oe){for(var pe=i.filter(function(De){return!De.disabled}),fe=pe.findIndex(function(De){return De.key===H})||0,_e=pe.length,Te=0;Te<_e;Te+=1){fe=(fe+oe+_e)%_e;var Se=pe[fe];if(!Se.disabled){V(Se.key);return}}}function he(oe){var pe=oe.which;if(!U){[Vn.DOWN,Vn.SPACE,Vn.ENTER].includes(pe)&&($(!0),oe.preventDefault());return}switch(pe){case Vn.UP:de(-1),oe.preventDefault();break;case Vn.DOWN:de(1),oe.preventDefault();break;case Vn.ESC:$(!1);break;case Vn.SPACE:case Vn.ENTER:H!==null&&O(H,oe);break}}E.useEffect(function(){var oe=document.getElementById(X);oe&&oe.scrollIntoView&&oe.scrollIntoView(!1)},[H]),E.useEffect(function(){U||V(null)},[U]);var ue=Ce({},A?"marginRight":"marginLeft",N);i.length||(ue.visibility="hidden",ue.order=1);var ye=Ue(Ce({},"".concat(Z,"-rtl"),A)),be=g?null:E.createElement(GW,kt({prefixCls:Z,overlay:ae,visible:i.length?U:!1,onVisibleChange:$,overlayClassName:Ue(ye,D),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:R},S),E.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:ue,"aria-haspopup":"listbox","aria-controls":te,id:"".concat(r,"-more"),"aria-expanded":U,onKeyDown:he},J));return E.createElement("div",{className:Ue("".concat(n,"-nav-operations"),T),style:I,ref:t},be,E.createElement(DY,{prefixCls:n,locale:d,editable:_}))});const Gye=E.memo(Hye,function(e,t){return t.tabMoving});var Kye=function(t){var n=t.prefixCls,r=t.id,i=t.active,d=t.focus,g=t.tab,v=g.key,S=g.label,I=g.disabled,T=g.closeIcon,_=g.icon,N=t.closable,A=t.renderWrapper,w=t.removeAriaLabel,O=t.editable,R=t.onClick,D=t.onFocus,j=t.onBlur,L=t.onKeyDown,U=t.onMouseDown,$=t.onMouseUp,F=t.style,z=t.tabCount,H=t.currentPosition,V="".concat(n,"-tab"),K=XD(N,T,O,I);function J(ee){I||R(ee)}function te(ee){ee.preventDefault(),ee.stopPropagation(),O.onEdit("remove",{key:v,event:ee})}var Z=E.useMemo(function(){return _&&typeof S=="string"?E.createElement("span",null,S):S},[S,_]),X=E.useRef(null);E.useEffect(function(){d&&X.current&&X.current.focus()},[d]);var re=E.createElement("div",{key:v,"data-node-key":PY(v),className:Ue(V,Ce(Ce(Ce(Ce({},"".concat(V,"-with-remove"),K),"".concat(V,"-active"),i),"".concat(V,"-disabled"),I),"".concat(V,"-focus"),d)),style:F,onClick:J},E.createElement("div",{ref:X,role:"tab","aria-selected":i,id:r&&"".concat(r,"-tab-").concat(v),className:"".concat(V,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(v),"aria-disabled":I,tabIndex:I?null:i?0:-1,onClick:function(ae){ae.stopPropagation(),J(ae)},onKeyDown:L,onMouseDown:U,onMouseUp:$,onFocus:D,onBlur:j},d&&E.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(H," of ").concat(z)),_&&E.createElement("span",{className:"".concat(V,"-icon")},_),S&&Z),K&&E.createElement("button",{type:"button",role:"tab","aria-label":w||"remove",tabIndex:i?0:-1,className:"".concat(V,"-remove"),onClick:function(ae){ae.stopPropagation(),te(ae)}},T||O.removeIcon||"×"));return A?A(re):re},Wye=function(t,n){var r=t.offsetWidth,i=t.offsetHeight,d=t.offsetTop,g=t.offsetLeft,v=t.getBoundingClientRect(),S=v.width,I=v.height,T=v.left,_=v.top;return Math.abs(S-r)<1?[S,I,T-n.left,_-n.top]:[r,i,g,d]},$v=function(t){var n=t.current||{},r=n.offsetWidth,i=r===void 0?0:r,d=n.offsetHeight,g=d===void 0?0:d;if(t.current){var v=t.current.getBoundingClientRect(),S=v.width,I=v.height;if(Math.abs(S-i)<1)return[S,I]}return[i,g]},dT=function(t,n){return t[n?0:1]},w3=E.forwardRef(function(e,t){var n=e.className,r=e.style,i=e.id,d=e.animated,g=e.activeKey,v=e.rtl,S=e.extra,I=e.editable,T=e.locale,_=e.tabPosition,N=e.tabBarGutter,A=e.children,w=e.onTabClick,O=e.onTabScroll,R=e.indicator,D=E.useContext(R_),j=D.prefixCls,L=D.tabs,U=E.useRef(null),$=E.useRef(null),F=E.useRef(null),z=E.useRef(null),H=E.useRef(null),V=E.useRef(null),K=E.useRef(null),J=_==="top"||_==="bottom",te=E3(0,function(Cn,en){J&&O&&O({direction:Cn>en?"left":"right"})}),Z=at(te,2),X=Z[0],re=Z[1],ee=E3(0,function(Cn,en){!J&&O&&O({direction:Cn>en?"top":"bottom"})}),ae=at(ee,2),de=ae[0],he=ae[1],ue=E.useState([0,0]),ye=at(ue,2),be=ye[0],oe=ye[1],pe=E.useState([0,0]),fe=at(pe,2),_e=fe[0],Te=fe[1],Se=E.useState([0,0]),De=at(Se,2),je=De[0],ke=De[1],Oe=E.useState([0,0]),Ne=at(Oe,2),qe=Ne[0],Ke=Ne[1],He=Fye(new Map),nt=at(He,2),Je=nt[0],ut=nt[1],lt=$ye(L,Je,_e[0]),et=dT(be,J),Ye=dT(_e,J),pt=dT(je,J),ct=dT(qe,J),xt=Math.floor(et)<Math.floor(Ye+pt),jt=xt?et-ct:et-pt,Ut="".concat(j,"-nav-operations-hidden"),Vt=0,wt=0;J&&v?(Vt=0,wt=Math.max(0,Ye-jt)):(Vt=Math.min(0,jt-Ye),wt=0);function Bt(Cn){return Cn<Vt?Vt:Cn>wt?wt:Cn}var Pt=E.useRef(null),ot=E.useState(),qt=at(ot,2),vt=qt[0],bt=qt[1];function yt(){bt(Date.now())}function gt(){Pt.current&&clearTimeout(Pt.current)}Bye(z,function(Cn,en){function kn(Cr,Xr){Cr(function(Lt){var Yn=Bt(Lt+Xr);return Yn})}return xt?(J?kn(re,Cn):kn(he,en),gt(),yt(),!0):!1}),E.useEffect(function(){return gt(),vt&&(Pt.current=setTimeout(function(){bt(0)},100)),gt},[vt]);var Jt=qye(lt,jt,J?X:de,Ye,pt,ct,Pe(Pe({},e),{},{tabs:L})),bn=at(Jt,2),Qn=bn[0],Dn=bn[1],tn=xa(function(){var Cn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,en=lt.get(Cn)||{width:0,height:0,left:0,right:0,top:0};if(J){var kn=X;v?en.right<X?kn=en.right:en.right+en.width>X+jt&&(kn=en.right+en.width-jt):en.left<-X?kn=-en.left:en.left+en.width>-X+jt&&(kn=-(en.left+en.width-jt)),he(0),re(Bt(kn))}else{var Cr=de;en.top<-de?Cr=-en.top:en.top+en.height>-de+jt&&(Cr=-(en.top+en.height-jt)),re(0),he(Bt(Cr))}}),_n=E.useState(),Fn=at(_n,2),Wt=Fn[0],xn=Fn[1],En=E.useState(!1),Sn=at(En,2),Qt=Sn[0],Rn=Sn[1],fn=L.filter(function(Cn){return!Cn.disabled}).map(function(Cn){return Cn.key}),Gt=function(en){var kn=fn.indexOf(Wt||g),Cr=fn.length,Xr=(kn+en+Cr)%Cr,Lt=fn[Xr];xn(Lt)},Xt=function(en){var kn=en.code,Cr=v&&J,Xr=fn[0],Lt=fn[fn.length-1];switch(kn){case"ArrowLeft":{J&&Gt(Cr?1:-1);break}case"ArrowRight":{J&&Gt(Cr?-1:1);break}case"ArrowUp":{en.preventDefault(),J||Gt(-1);break}case"ArrowDown":{en.preventDefault(),J||Gt(1);break}case"Home":{en.preventDefault(),xn(Xr);break}case"End":{en.preventDefault(),xn(Lt);break}case"Enter":case"Space":{en.preventDefault(),w(Wt??g,en);break}case"Backspace":case"Delete":{var Yn=fn.indexOf(Wt),Xn=L.find(function(Jr){return Jr.key===Wt}),vr=XD(Xn==null?void 0:Xn.closable,Xn==null?void 0:Xn.closeIcon,I,Xn==null?void 0:Xn.disabled);vr&&(en.preventDefault(),en.stopPropagation(),I.onEdit("remove",{key:Wt,event:en}),Yn===fn.length-1?Gt(-1):Gt(1));break}}},$n={};J?$n[v?"marginRight":"marginLeft"]=N:$n.marginTop=N;var Un=L.map(function(Cn,en){var kn=Cn.key;return E.createElement(Kye,{id:i,prefixCls:j,key:kn,tab:Cn,style:en===0?void 0:$n,closable:Cn.closable,editable:I,active:kn===g,focus:kn===Wt,renderWrapper:A,removeAriaLabel:T==null?void 0:T.removeAriaLabel,tabCount:fn.length,currentPosition:en+1,onClick:function(Xr){w(kn,Xr)},onKeyDown:Xt,onFocus:function(){Qt||xn(kn),tn(kn),yt(),z.current&&(v||(z.current.scrollLeft=0),z.current.scrollTop=0)},onBlur:function(){xn(void 0)},onMouseDown:function(){Rn(!0)},onMouseUp:function(){Rn(!1)}})}),jn=function(){return ut(function(){var en,kn=new Map,Cr=(en=H.current)===null||en===void 0?void 0:en.getBoundingClientRect();return L.forEach(function(Xr){var Lt,Yn=Xr.key,Xn=(Lt=H.current)===null||Lt===void 0?void 0:Lt.querySelector('[data-node-key="'.concat(PY(Yn),'"]'));if(Xn){var vr=Wye(Xn,Cr),Jr=at(vr,4),sa=Jr[0],er=Jr[1],$i=Jr[2],Ca=Jr[3];kn.set(Yn,{width:sa,height:er,left:$i,top:Ca})}}),kn})};E.useEffect(function(){jn()},[L.map(function(Cn){return Cn.key}).join("_")]);var Zn=LY(function(){var Cn=$v(U),en=$v($),kn=$v(F);oe([Cn[0]-en[0]-kn[0],Cn[1]-en[1]-kn[1]]);var Cr=$v(K);ke(Cr);var Xr=$v(V);Ke(Xr);var Lt=$v(H);Te([Lt[0]-Cr[0],Lt[1]-Cr[1]]),jn()}),An=L.slice(0,Qn),On=L.slice(Dn+1),sn=[].concat(Rt(An),Rt(On)),tr=lt.get(g),wr=Vye({activeTabOffset:tr,horizontal:J,indicator:R,rtl:v}),Ar=wr.style;E.useEffect(function(){tn()},[g,Vt,wt,_3(tr),_3(lt),J]),E.useEffect(function(){Zn()},[v]);var nn=!!sn.length,jr="".concat(j,"-nav-wrap"),Ur,Pr,gn,Pn;return J?v?(Pr=X>0,Ur=X!==wt):(Ur=X<0,Pr=X!==Vt):(gn=de<0,Pn=de!==Vt),E.createElement(Do,{onResize:Zn},E.createElement("div",{ref:Im(t,U),role:"tablist","aria-orientation":J?"horizontal":"vertical",className:Ue("".concat(j,"-nav"),n),style:r,onKeyDown:function(){yt()}},E.createElement(x3,{ref:$,position:"left",extra:S,prefixCls:j}),E.createElement(Do,{onResize:Zn},E.createElement("div",{className:Ue(jr,Ce(Ce(Ce(Ce({},"".concat(jr,"-ping-left"),Ur),"".concat(jr,"-ping-right"),Pr),"".concat(jr,"-ping-top"),gn),"".concat(jr,"-ping-bottom"),Pn)),ref:z},E.createElement(Do,{onResize:Zn},E.createElement("div",{ref:H,className:"".concat(j,"-nav-list"),style:{transform:"translate(".concat(X,"px, ").concat(de,"px)"),transition:vt?"none":void 0}},Un,E.createElement(DY,{ref:K,prefixCls:j,locale:T,editable:I,style:Pe(Pe({},Un.length===0?void 0:$n),{},{visibility:nn?"hidden":null})}),E.createElement("div",{className:Ue("".concat(j,"-ink-bar"),Ce({},"".concat(j,"-ink-bar-animated"),d.inkBar)),style:Ar}))))),E.createElement(Gye,kt({},e,{removeAriaLabel:T==null?void 0:T.removeAriaLabel,ref:V,prefixCls:j,tabs:sn,className:!nn&&Ut,tabMoving:!!vt})),E.createElement(x3,{ref:F,position:"right",extra:S,prefixCls:j})))}),jY=E.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,d=e.id,g=e.active,v=e.tabKey,S=e.children;return E.createElement("div",{id:d&&"".concat(d,"-panel-").concat(v),role:"tabpanel",tabIndex:g?0:-1,"aria-labelledby":d&&"".concat(d,"-tab-").concat(v),"aria-hidden":!g,style:i,className:Ue(n,g&&"".concat(n,"-active"),r),ref:t},S)}),Yye=["renderTabBar"],Xye=["label","key"],Jye=function(t){var n=t.renderTabBar,r=ir(t,Yye),i=E.useContext(R_),d=i.tabs;if(n){var g=Pe(Pe({},r),{},{panes:d.map(function(v){var S=v.label,I=v.key,T=ir(v,Xye);return E.createElement(jY,kt({tab:S,key:I,tabKey:I},T))})});return n(g,w3)}return E.createElement(w3,r)},Qye=["key","forceRender","style","className","destroyInactiveTabPane"],Zye=function(t){var n=t.id,r=t.activeKey,i=t.animated,d=t.tabPosition,g=t.destroyInactiveTabPane,v=E.useContext(R_),S=v.prefixCls,I=v.tabs,T=i.tabPane,_="".concat(S,"-tabpane");return E.createElement("div",{className:Ue("".concat(S,"-content-holder"))},E.createElement("div",{className:Ue("".concat(S,"-content"),"".concat(S,"-content-").concat(d),Ce({},"".concat(S,"-content-animated"),T))},I.map(function(N){var A=N.key,w=N.forceRender,O=N.style,R=N.className,D=N.destroyInactiveTabPane,j=ir(N,Qye),L=A===r;return E.createElement(Wl,kt({key:A,visible:L,forceRender:w,removeOnLeave:!!(g||D),leavedClassName:"".concat(_,"-hidden")},i.tabPaneMotion),function(U,$){var F=U.style,z=U.className;return E.createElement(jY,kt({},j,{prefixCls:_,id:n,tabKey:A,animated:T,active:L,style:Pe(Pe({},O),F),className:Ue(R,z),ref:$}))})})))};function ebe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!1}:t=Pe({inkBar:!0},qn(e)==="object"?e:{}),t.tabPaneMotion&&t.tabPane===void 0&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}var tbe=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],N3=0,nbe=E.forwardRef(function(e,t){var n=e.id,r=e.prefixCls,i=r===void 0?"rc-tabs":r,d=e.className,g=e.items,v=e.direction,S=e.activeKey,I=e.defaultActiveKey,T=e.editable,_=e.animated,N=e.tabPosition,A=N===void 0?"top":N,w=e.tabBarGutter,O=e.tabBarStyle,R=e.tabBarExtraContent,D=e.locale,j=e.more,L=e.destroyInactiveTabPane,U=e.renderTabBar,$=e.onChange,F=e.onTabClick,z=e.onTabScroll,H=e.getPopupContainer,V=e.popupClassName,K=e.indicator,J=ir(e,tbe),te=E.useMemo(function(){return(g||[]).filter(function(qe){return qe&&qn(qe)==="object"&&"key"in qe})},[g]),Z=v==="rtl",X=ebe(_),re=E.useState(!1),ee=at(re,2),ae=ee[0],de=ee[1];E.useEffect(function(){de(S_())},[]);var he=Si(function(){var qe;return(qe=te[0])===null||qe===void 0?void 0:qe.key},{value:S,defaultValue:I}),ue=at(he,2),ye=ue[0],be=ue[1],oe=E.useState(function(){return te.findIndex(function(qe){return qe.key===ye})}),pe=at(oe,2),fe=pe[0],_e=pe[1];E.useEffect(function(){var qe=te.findIndex(function(He){return He.key===ye});if(qe===-1){var Ke;qe=Math.max(0,Math.min(fe,te.length-1)),be((Ke=te[qe])===null||Ke===void 0?void 0:Ke.key)}_e(qe)},[te.map(function(qe){return qe.key}).join("_"),ye,fe]);var Te=Si(null,{value:n}),Se=at(Te,2),De=Se[0],je=Se[1];E.useEffect(function(){n||(je("rc-tabs-".concat(N3)),N3+=1)},[]);function ke(qe,Ke){F==null||F(qe,Ke);var He=qe!==ye;be(qe),He&&($==null||$(qe))}var Oe={id:De,activeKey:ye,animated:X,tabPosition:A,rtl:Z,mobile:ae},Ne=Pe(Pe({},Oe),{},{editable:T,locale:D,more:j,tabBarGutter:w,onTabClick:ke,onTabScroll:z,extra:R,style:O,panes:null,getPopupContainer:H,popupClassName:V,indicator:K});return E.createElement(R_.Provider,{value:{tabs:te,prefixCls:i}},E.createElement("div",kt({ref:t,id:n,className:Ue(i,"".concat(i,"-").concat(A),Ce(Ce(Ce({},"".concat(i,"-mobile"),ae),"".concat(i,"-editable"),T),"".concat(i,"-rtl"),Z),d)},J),E.createElement(Jye,kt({},Ne,{renderTabBar:U})),E.createElement(Zye,kt({destroyInactiveTabPane:L},Oe,{animated:X}))))});const rbe={motionAppear:!1,motionEnter:!0,motionLeave:!0};function abe(e,t={inkBar:!0,tabPane:!1}){let n;return t===!1?n={inkBar:!1,tabPane:!1}:t===!0?n={inkBar:!0,tabPane:!0}:n=Object.assign({inkBar:!0},typeof t=="object"?t:{}),n.tabPane&&(n.tabPaneMotion=Object.assign(Object.assign({},rbe),{motionName:vD(e,"switch")})),n}var ibe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function obe(e){return e.filter(t=>t)}function sbe(e,t){if(e)return e.map(r=>{var i;const d=(i=r.destroyOnHidden)!==null&&i!==void 0?i:r.destroyInactiveTabPane;return Object.assign(Object.assign({},r),{destroyInactiveTabPane:d})});const n=ps(t).map(r=>{if(E.isValidElement(r)){const{key:i,props:d}=r,g=d||{},{tab:v}=g,S=ibe(g,["tab"]);return Object.assign(Object.assign({key:String(i)},S),{label:v})}return null});return obe(n)}const lbe=e=>{const{componentCls:t,motionDurationSlow:n}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[bm(e,"slide-up"),bm(e,"slide-down")]]},cbe=e=>{const{componentCls:t,tabsCardPadding:n,cardBg:r,cardGutter:i,colorBorderSecondary:d,itemSelectedColor:g}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:n,background:r,border:`${Le(e.lineWidth)} ${e.lineType} ${d}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:g,background:e.colorBgContainer},[`${t}-tab-focus:has(${t}-tab-btn:focus-visible)`]:_u(e,-3),[`& ${t}-tab${t}-tab-focus ${t}-tab-btn:focus-visible`]:{outline:"none"},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:Le(i)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:Le(i)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${Le(e.borderRadiusLG)} 0 0 ${Le(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},ube=e=>{const{componentCls:t,itemHoverColor:n,dropdownEdgeChildVerticalPadding:r}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},Sa(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${Le(r)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},kc),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${Le(e.paddingXXS)} ${Le(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorIcon,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},dbe=e=>{const{componentCls:t,margin:n,colorBorderSecondary:r,horizontalMargin:i,verticalItemPadding:d,verticalItemMargin:g,calc:v}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:i,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${Le(e.lineWidth)} ${e.lineType} ${r}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:n,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:v(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:d,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:g},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:Le(v(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:v(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},pbe=e=>{const{componentCls:t,cardPaddingSM:n,cardPaddingLG:r,cardHeightSM:i,cardHeightLG:d,horizontalItemPaddingSM:g,horizontalItemPaddingLG:v}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:g,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:v,fontSize:e.titleFontSizeLG,lineHeight:e.lineHeightLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:n},[`${t}-nav-add`]:{minWidth:i,minHeight:i}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${Le(e.borderRadius)} ${Le(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${Le(e.borderRadius)} ${Le(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${Le(e.borderRadius)} ${Le(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${Le(e.borderRadius)} 0 0 ${Le(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:r},[`${t}-nav-add`]:{minWidth:d,minHeight:d}}}}}},mbe=e=>{const{componentCls:t,itemActiveColor:n,itemHoverColor:r,iconCls:i,tabsHorizontalItemMargin:d,horizontalItemPadding:g,itemSelectedColor:v,itemColor:S}=e,I=`${t}-tab`;return{[I]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:g,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:S,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:n}},"&-btn":{outline:"none",transition:`all ${e.motionDurationSlow}`,[`${I}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":Object.assign({flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorIcon,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},Od(e)),"&:hover":{color:r},[`&${I}-active ${I}-btn`]:{color:v,textShadow:e.tabsActiveTextShadow},[`&${I}-focus ${I}-btn:focus-visible`]:_u(e),[`&${I}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${I}-disabled ${I}-btn, &${I}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${I}-remove ${i}`]:{margin:0},[`${i}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${I} + ${I}`]:{margin:{_skip_check_:!0,value:d}}}},fbe=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:n,iconCls:r,cardGutter:i,calc:d}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:n},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:Le(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:Le(e.marginXS)},marginLeft:{_skip_check_:!0,value:Le(d(e.marginXXS).mul(-1).equal())},[r]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:i},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},gbe=e=>{const{componentCls:t,tabsCardPadding:n,cardHeight:r,cardGutter:i,itemHoverColor:d,itemActiveColor:g,colorBorderSecondary:v}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Sa(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:r,minHeight:r,marginLeft:{_skip_check_:!0,value:i},background:"transparent",border:`${Le(e.lineWidth)} ${e.lineType} ${v}`,borderRadius:`${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:d},"&:active, &:focus:not(:focus-visible)":{color:g}},Od(e,-3))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),mbe(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:Object.assign(Object.assign({},Od(e)),{"&-hidden":{display:"none"}})}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping']) > ${t}-nav-list`]:{margin:"auto"}}}}}},hbe=e=>{const{cardHeight:t,cardHeightSM:n,cardHeightLG:r,controlHeight:i,controlHeightLG:d}=e,g=t||d,v=n||i,S=r||d+8;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:g,cardHeightSM:v,cardHeightLG:S,cardPadding:`${(g-e.fontHeight)/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${(v-e.fontHeight)/2-e.lineWidth}px ${e.paddingXS}px`,cardPaddingLG:`${(S-e.fontHeightLG)/2-e.lineWidth}px ${e.padding}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}},vbe=fa("Tabs",e=>{const t=qr(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${Le(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${Le(e.horizontalItemGutter)}`});return[pbe(t),fbe(t),dbe(t),ube(t),cbe(t),gbe(t),lbe(t)]},hbe),ybe=()=>null;var bbe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const JD=e=>{var t,n,r,i,d,g,v,S,I,T,_;const{type:N,className:A,rootClassName:w,size:O,onEdit:R,hideAdd:D,centered:j,addIcon:L,removeIcon:U,moreIcon:$,more:F,popupClassName:z,children:H,items:V,animated:K,style:J,indicatorSize:te,indicator:Z,destroyInactiveTabPane:X,destroyOnHidden:re}=e,ee=bbe(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator","destroyInactiveTabPane","destroyOnHidden"]),{prefixCls:ae}=ee,{direction:de,tabs:he,getPrefixCls:ue,getPopupContainer:ye}=E.useContext(rr),be=ue("tabs",ae),oe=xo(be),[pe,fe,_e]=vbe(be,oe);let Te;N==="editable-card"&&(Te={onEdit:(qe,{key:Ke,event:He})=>{R==null||R(qe==="add"?He:Ke,qe)},removeIcon:(t=U??(he==null?void 0:he.removeIcon))!==null&&t!==void 0?t:E.createElement(Ty,null),addIcon:(L??(he==null?void 0:he.addIcon))||E.createElement(jye,null),showAdd:D!==!0});const Se=ue(),De=qo(O),je=sbe(V,H),ke=abe(be,K),Oe=Object.assign(Object.assign({},he==null?void 0:he.style),J),Ne={align:(n=Z==null?void 0:Z.align)!==null&&n!==void 0?n:(r=he==null?void 0:he.indicator)===null||r===void 0?void 0:r.align,size:(v=(d=(i=Z==null?void 0:Z.size)!==null&&i!==void 0?i:te)!==null&&d!==void 0?d:(g=he==null?void 0:he.indicator)===null||g===void 0?void 0:g.size)!==null&&v!==void 0?v:he==null?void 0:he.indicatorSize};return pe(E.createElement(nbe,Object.assign({direction:de,getPopupContainer:ye},ee,{items:je,className:Ue({[`${be}-${De}`]:De,[`${be}-card`]:["card","editable-card"].includes(N),[`${be}-editable-card`]:N==="editable-card",[`${be}-centered`]:j},he==null?void 0:he.className,A,w,fe,_e,oe),popupClassName:Ue(z,fe,_e,oe),style:Oe,editable:Te,more:Object.assign({icon:(_=(T=(I=(S=he==null?void 0:he.more)===null||S===void 0?void 0:S.icon)!==null&&I!==void 0?I:he==null?void 0:he.moreIcon)!==null&&T!==void 0?T:$)!==null&&_!==void 0?_:E.createElement(KD,null),transitionName:`${Se}-slide-up`},F),prefixCls:be,animated:ke,indicator:Ne,destroyInactiveTabPane:re??X})))};JD.TabPane=ybe;var Sbe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const VY=e=>{var{prefixCls:t,className:n,hoverable:r=!0}=e,i=Sbe(e,["prefixCls","className","hoverable"]);const{getPrefixCls:d}=E.useContext(rr),g=d("card",t),v=Ue(`${g}-grid`,n,{[`${g}-grid-hoverable`]:r});return E.createElement("div",Object.assign({},i,{className:v}))},Ibe=e=>{const{antCls:t,componentCls:n,headerHeight:r,headerPadding:i,tabsMarginBottom:d}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${Le(i)}`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)} 0 0`},Mu()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},kc),{[`
          > ${n}-typography,
          > ${n}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:d,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`}}})},Ebe=e=>{const{cardPaddingBase:t,colorBorderSecondary:n,cardShadow:r,lineWidth:i}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`
      ${Le(i)} 0 0 0 ${n},
      0 ${Le(i)} 0 0 ${n},
      ${Le(i)} ${Le(i)} 0 0 ${n},
      ${Le(i)} 0 0 0 ${n} inset,
      0 ${Le(i)} 0 0 ${n} inset;
    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},Cbe=e=>{const{componentCls:t,iconCls:n,actionsLiMargin:r,cardActionsIconSize:i,colorBorderSecondary:d,actionsBg:g}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:g,borderTop:`${Le(e.lineWidth)} ${e.lineType} ${d}`,display:"flex",borderRadius:`0 0 ${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)}`},Mu()),{"& > li":{margin:r,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${n}`]:{display:"inline-block",width:"100%",color:e.colorIcon,lineHeight:Le(e.fontHeight),transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${n}`]:{fontSize:i,lineHeight:Le(e.calc(i).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${Le(e.lineWidth)} ${e.lineType} ${d}`}}})},Tbe=e=>Object.assign(Object.assign({margin:`${Le(e.calc(e.marginXXS).mul(-1).equal())} 0`,display:"flex"},Mu()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},kc),"&-description":{color:e.colorTextDescription}}),Mbe=e=>{const{componentCls:t,colorFillAlter:n,headerPadding:r,bodyPadding:i}=e;return{[`${t}-head`]:{padding:`0 ${Le(r)}`,background:n,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${Le(e.padding)} ${Le(i)}`}}},_be=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},xbe=e=>{const{componentCls:t,cardShadow:n,cardHeadPadding:r,colorBorderSecondary:i,boxShadowTertiary:d,bodyPadding:g,extraColor:v}=e;return{[t]:Object.assign(Object.assign({},Sa(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:d},[`${t}-head`]:Ibe(e),[`${t}-extra`]:{marginInlineStart:"auto",color:v,fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:g,borderRadius:`0 0 ${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)}`},Mu()),[`${t}-grid`]:Ebe(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)} 0 0`}},[`${t}-actions`]:Cbe(e),[`${t}-meta`]:Tbe(e)}),[`${t}-bordered`]:{border:`${Le(e.lineWidth)} ${e.lineType} ${i}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:n}},[`${t}-contain-grid`]:{borderRadius:`${Le(e.borderRadiusLG)} ${Le(e.borderRadiusLG)} 0 0 `,[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},[`${t}-contain-tabs`]:{[`> div${t}-head`]:{minHeight:0,[`${t}-head-title, ${t}-extra`]:{paddingTop:r}}},[`${t}-type-inner`]:Mbe(e),[`${t}-loading`]:_be(e),[`${t}-rtl`]:{direction:"rtl"}}},wbe=e=>{const{componentCls:t,bodyPaddingSM:n,headerPaddingSM:r,headerHeightSM:i,headerFontSizeSM:d}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:i,padding:`0 ${Le(r)}`,fontSize:d,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:n}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},Nbe=e=>{var t,n;return{headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,headerHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText,bodyPaddingSM:12,headerPaddingSM:12,bodyPadding:(t=e.bodyPadding)!==null&&t!==void 0?t:e.paddingLG,headerPadding:(n=e.headerPadding)!==null&&n!==void 0?n:e.paddingLG}},Rbe=fa("Card",e=>{const t=qr(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize});return[xbe(t),wbe(t)]},Nbe);var R3=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Abe=e=>{const{actionClasses:t,actions:n=[],actionStyle:r}=e;return E.createElement("ul",{className:t,style:r},n.map((i,d)=>{const g=`action-${d}`;return E.createElement("li",{style:{width:`${100/n.length}%`},key:g},E.createElement("span",null,i))}))},Obe=E.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:i,style:d,extra:g,headStyle:v={},bodyStyle:S={},title:I,loading:T,bordered:_,variant:N,size:A,type:w,cover:O,actions:R,tabList:D,children:j,activeTabKey:L,defaultActiveTabKey:U,tabBarExtraContent:$,hoverable:F,tabProps:z={},classNames:H,styles:V}=e,K=R3(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","variant","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:J,direction:te,card:Z}=E.useContext(rr),[X]=w0("card",N,_),re=lt=>{var et;(et=e.onTabChange)===null||et===void 0||et.call(e,lt)},ee=lt=>{var et;return Ue((et=Z==null?void 0:Z.classNames)===null||et===void 0?void 0:et[lt],H==null?void 0:H[lt])},ae=lt=>{var et;return Object.assign(Object.assign({},(et=Z==null?void 0:Z.styles)===null||et===void 0?void 0:et[lt]),V==null?void 0:V[lt])},de=E.useMemo(()=>{let lt=!1;return E.Children.forEach(j,et=>{(et==null?void 0:et.type)===VY&&(lt=!0)}),lt},[j]),he=J("card",n),[ue,ye,be]=Rbe(he),oe=E.createElement(xy,{loading:!0,active:!0,paragraph:{rows:4},title:!1},j),pe=L!==void 0,fe=Object.assign(Object.assign({},z),{[pe?"activeKey":"defaultActiveKey"]:pe?L:U,tabBarExtraContent:$});let _e;const Te=qo(A),Se=!Te||Te==="default"?"large":Te,De=D?E.createElement(JD,Object.assign({size:Se},fe,{className:`${he}-head-tabs`,onChange:re,items:D.map(lt=>{var{tab:et}=lt,Ye=R3(lt,["tab"]);return Object.assign({label:et},Ye)})})):null;if(I||g||De){const lt=Ue(`${he}-head`,ee("header")),et=Ue(`${he}-head-title`,ee("title")),Ye=Ue(`${he}-extra`,ee("extra")),pt=Object.assign(Object.assign({},v),ae("header"));_e=E.createElement("div",{className:lt,style:pt},E.createElement("div",{className:`${he}-head-wrapper`},I&&E.createElement("div",{className:et,style:ae("title")},I),g&&E.createElement("div",{className:Ye,style:ae("extra")},g)),De)}const je=Ue(`${he}-cover`,ee("cover")),ke=O?E.createElement("div",{className:je,style:ae("cover")},O):null,Oe=Ue(`${he}-body`,ee("body")),Ne=Object.assign(Object.assign({},S),ae("body")),qe=E.createElement("div",{className:Oe,style:Ne},T?oe:j),Ke=Ue(`${he}-actions`,ee("actions")),He=R!=null&&R.length?E.createElement(Abe,{actionClasses:Ke,actionStyle:ae("actions"),actions:R}):null,nt=ri(K,["onTabChange"]),Je=Ue(he,Z==null?void 0:Z.className,{[`${he}-loading`]:T,[`${he}-bordered`]:X!=="borderless",[`${he}-hoverable`]:F,[`${he}-contain-grid`]:de,[`${he}-contain-tabs`]:D==null?void 0:D.length,[`${he}-${Te}`]:Te,[`${he}-type-${w}`]:!!w,[`${he}-rtl`]:te==="rtl"},r,i,ye,be),ut=Object.assign(Object.assign({},Z==null?void 0:Z.style),d);return ue(E.createElement("div",Object.assign({ref:t},nt,{className:Je,style:ut}),_e,ke,qe,He))});var kbe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Lbe=e=>{const{prefixCls:t,className:n,avatar:r,title:i,description:d}=e,g=kbe(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:v}=E.useContext(rr),S=v("card",t),I=Ue(`${S}-meta`,n),T=r?E.createElement("div",{className:`${S}-meta-avatar`},r):null,_=i?E.createElement("div",{className:`${S}-meta-title`},i):null,N=d?E.createElement("div",{className:`${S}-meta-description`},d):null,A=_||N?E.createElement("div",{className:`${S}-meta-detail`},_,N):null;return E.createElement("div",Object.assign({},g,{className:I}),T,A)},_t=Obe;_t.Grid=VY;_t.Meta=Lbe;function Pbe(e,t,n){var r=n||{},i=r.noTrailing,d=i===void 0?!1:i,g=r.noLeading,v=g===void 0?!1:g,S=r.debounceMode,I=S===void 0?void 0:S,T,_=!1,N=0;function A(){T&&clearTimeout(T)}function w(R){var D=R||{},j=D.upcomingOnly,L=j===void 0?!1:j;A(),_=!L}function O(){for(var R=arguments.length,D=new Array(R),j=0;j<R;j++)D[j]=arguments[j];var L=this,U=Date.now()-N;if(_)return;function $(){N=Date.now(),t.apply(L,D)}function F(){T=void 0}!v&&I&&!T&&$(),A(),I===void 0&&U>e?v?(N=Date.now(),d||(T=setTimeout(I?F:$,e))):$():d!==!0&&(T=setTimeout(I?F:$,I===void 0?e-U:e))}return O.cancel=w,O}function Dbe(e,t,n){var r={},i=r.atBegin,d=i===void 0?!1:i;return Pbe(e,t,{debounceMode:d!==!1})}function Ws(e,t){return e[t]}var jbe=["children"];function $Y(e,t){return"".concat(e,"-").concat(t)}function Vbe(e){return e&&e.type&&e.type.isTreeNode}function A0(e,t){return e??t}function vy(e){var t=e||{},n=t.title,r=t._title,i=t.key,d=t.children,g=n||"title";return{title:g,_title:r||[g],key:i||"key",children:d||"children"}}function UY(e){function t(n){var r=ps(n);return r.map(function(i){if(!Vbe(i))return pi(!i,"Tree/TreeNode can only accept TreeNode as children."),null;var d=i.key,g=i.props,v=g.children,S=ir(g,jbe),I=Pe({key:d},S),T=t(v);return T.length&&(I.children=T),I}).filter(function(i){return i})}return t(e)}function dN(e,t,n){var r=vy(n),i=r._title,d=r.key,g=r.children,v=new Set(t===!0?[]:t),S=[];function I(T){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return T.map(function(N,A){for(var w=$Y(_?_.pos:"0",A),O=A0(N[d],w),R,D=0;D<i.length;D+=1){var j=i[D];if(N[j]!==void 0){R=N[j];break}}var L=Object.assign(ri(N,[].concat(Rt(i),[d,g])),{title:R,key:O,parent:_,pos:w,children:null,data:N,isStart:[].concat(Rt(_?_.isStart:[]),[A===0]),isEnd:[].concat(Rt(_?_.isEnd:[]),[A===T.length-1])});return S.push(L),t===!0||v.has(O)?L.children=I(N[g]||[],L):L.children=[],L})}return I(e),S}function $be(e,t,n){var r={};qn(n)==="object"?r=n:r={externalGetKey:n},r=r||{};var i=r,d=i.childrenPropName,g=i.externalGetKey,v=i.fieldNames,S=vy(v),I=S.key,T=S.children,_=d||T,N;g?typeof g=="string"?N=function(O){return O[g]}:typeof g=="function"&&(N=function(O){return g(O)}):N=function(O,R){return A0(O[I],R)};function A(w,O,R,D){var j=w?w[_]:e,L=w?$Y(R.pos,O):"0",U=w?[].concat(Rt(D),[w]):[];if(w){var $=N(w,L),F={node:w,index:O,pos:L,key:$,parentPos:R.node?R.pos:null,level:R.level+1,nodes:U};t(F)}j&&j.forEach(function(z,H){A(z,H,{node:w,pos:L,level:R?R.level+1:-1},U)})}A(null)}function QD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.initWrapper,r=t.processEntity,i=t.onProcessFinished,d=t.externalGetKey,g=t.childrenPropName,v=t.fieldNames,S=arguments.length>2?arguments[2]:void 0,I=d||S,T={},_={},N={posEntities:T,keyEntities:_};return n&&(N=n(N)||N),$be(e,function(A){var w=A.node,O=A.index,R=A.pos,D=A.key,j=A.parentPos,L=A.level,U=A.nodes,$={node:w,nodes:U,index:O,key:D,pos:R,level:L},F=A0(D,R);T[R]=$,_[F]=$,$.parent=T[j],$.parent&&($.parent.children=$.parent.children||[],$.parent.children.push($)),r&&r($,N)},{externalGetKey:I,childrenPropName:g,fieldNames:v}),i&&i(N),N}function qI(e,t){var n=t.expandedKeys,r=t.selectedKeys,i=t.loadedKeys,d=t.loadingKeys,g=t.checkedKeys,v=t.halfCheckedKeys,S=t.dragOverNodeKey,I=t.dropPosition,T=t.keyEntities,_=Ws(T,e),N={eventKey:e,expanded:n.indexOf(e)!==-1,selected:r.indexOf(e)!==-1,loaded:i.indexOf(e)!==-1,loading:d.indexOf(e)!==-1,checked:g.indexOf(e)!==-1,halfChecked:v.indexOf(e)!==-1,pos:String(_?_.pos:""),dragOver:S===e&&I===0,dragOverGapTop:S===e&&I===-1,dragOverGapBottom:S===e&&I===1};return N}function ro(e){var t=e.data,n=e.expanded,r=e.selected,i=e.checked,d=e.loaded,g=e.loading,v=e.halfChecked,S=e.dragOver,I=e.dragOverGapTop,T=e.dragOverGapBottom,_=e.pos,N=e.active,A=e.eventKey,w=Pe(Pe({},t),{},{expanded:n,selected:r,checked:i,loaded:d,loading:g,halfChecked:v,dragOver:S,dragOverGapTop:I,dragOverGapBottom:T,pos:_,active:N,key:A});return"props"in w||Object.defineProperty(w,"props",{get:function(){return pi(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),w}function BY(e,t){var n=new Set;return e.forEach(function(r){t.has(r)||n.add(r)}),n}function Ube(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,i=t.checkable;return!!(n||r)||i===!1}function Bbe(e,t,n,r){for(var i=new Set(e),d=new Set,g=0;g<=n;g+=1){var v=t.get(g)||new Set;v.forEach(function(_){var N=_.key,A=_.node,w=_.children,O=w===void 0?[]:w;i.has(N)&&!r(A)&&O.filter(function(R){return!r(R.node)}).forEach(function(R){i.add(R.key)})})}for(var S=new Set,I=n;I>=0;I-=1){var T=t.get(I)||new Set;T.forEach(function(_){var N=_.parent,A=_.node;if(!(r(A)||!_.parent||S.has(_.parent.key))){if(r(_.parent.node)){S.add(N.key);return}var w=!0,O=!1;(N.children||[]).filter(function(R){return!r(R.node)}).forEach(function(R){var D=R.key,j=i.has(D);w&&!j&&(w=!1),!O&&(j||d.has(D))&&(O=!0)}),w&&i.add(N.key),O&&d.add(N.key),S.add(N.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(BY(d,i))}}function Fbe(e,t,n,r,i){for(var d=new Set(e),g=new Set(t),v=0;v<=r;v+=1){var S=n.get(v)||new Set;S.forEach(function(N){var A=N.key,w=N.node,O=N.children,R=O===void 0?[]:O;!d.has(A)&&!g.has(A)&&!i(w)&&R.filter(function(D){return!i(D.node)}).forEach(function(D){d.delete(D.key)})})}g=new Set;for(var I=new Set,T=r;T>=0;T-=1){var _=n.get(T)||new Set;_.forEach(function(N){var A=N.parent,w=N.node;if(!(i(w)||!N.parent||I.has(N.parent.key))){if(i(N.parent.node)){I.add(A.key);return}var O=!0,R=!1;(A.children||[]).filter(function(D){return!i(D.node)}).forEach(function(D){var j=D.key,L=d.has(j);O&&!L&&(O=!1),!R&&(L||g.has(j))&&(R=!0)}),O||d.delete(A.key),R&&g.add(A.key),I.add(A.key)}})}return{checkedKeys:Array.from(d),halfCheckedKeys:Array.from(BY(g,d))}}function sy(e,t,n,r){var i=[],d;r?d=r:d=Ube;var g=new Set(e.filter(function(T){var _=!!Ws(n,T);return _||i.push(T),_})),v=new Map,S=0;Object.keys(n).forEach(function(T){var _=n[T],N=_.level,A=v.get(N);A||(A=new Set,v.set(N,A)),A.add(_),S=Math.max(S,N)}),pi(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(T){return"'".concat(T,"'")}).join(", ")));var I;return t===!0?I=Bbe(g,v,S,d):I=Fbe(g,t.halfCheckedKeys,v,S,d),I}const qbe=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},Sa(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},Sa(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},Sa(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},_u(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${Le(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${n}:not(${n}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${n}-checked:not(${n}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{"&":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorBorder}`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorPrimary}`}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function FY(e,t){const n=qr(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[qbe(n)]}const qY=fa("Checkbox",(e,{prefixCls:t})=>[FY(t,e)]),zY=Xe.createContext(null);var zbe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Hbe=(e,t)=>{var n;const{prefixCls:r,className:i,rootClassName:d,children:g,indeterminate:v=!1,style:S,onMouseEnter:I,onMouseLeave:T,skipGroup:_=!1,disabled:N}=e,A=zbe(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:w,direction:O,checkbox:R}=E.useContext(rr),D=E.useContext(zY),{isFormItemInput:j}=E.useContext($o),L=E.useContext(Xs),U=(n=(D==null?void 0:D.disabled)||N)!==null&&n!==void 0?n:L,$=E.useRef(A.value),F=E.useRef(null),z=Bo(t,F);E.useEffect(()=>{D==null||D.registerValue(A.value)},[]),E.useEffect(()=>{if(!_)return A.value!==$.current&&(D==null||D.cancelValue($.current),D==null||D.registerValue(A.value),$.current=A.value),()=>D==null?void 0:D.cancelValue(A.value)},[A.value]),E.useEffect(()=>{var de;!((de=F.current)===null||de===void 0)&&de.input&&(F.current.input.indeterminate=v)},[v]);const H=w("checkbox",r),V=xo(H),[K,J,te]=qY(H,V),Z=Object.assign({},A);D&&!_&&(Z.onChange=(...de)=>{A.onChange&&A.onChange.apply(A,de),D.toggleOption&&D.toggleOption({label:g,value:A.value})},Z.name=D.name,Z.checked=D.value.includes(A.value));const X=Ue(`${H}-wrapper`,{[`${H}-rtl`]:O==="rtl",[`${H}-wrapper-checked`]:Z.checked,[`${H}-wrapper-disabled`]:U,[`${H}-wrapper-in-form-item`]:j},R==null?void 0:R.className,i,d,te,V,J),re=Ue({[`${H}-indeterminate`]:v},s_,J),[ee,ae]=hY(Z.onClick);return K(E.createElement(T0,{component:"Checkbox",disabled:U},E.createElement("label",{className:X,style:Object.assign(Object.assign({},R==null?void 0:R.style),S),onMouseEnter:I,onMouseLeave:T,onClick:ee},E.createElement(gY,Object.assign({},Z,{onClick:ae,prefixCls:H,className:re,disabled:U,ref:z})),g!=null&&E.createElement("span",{className:`${H}-label`},g))))},HY=E.forwardRef(Hbe);var Gbe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Kbe=E.forwardRef((e,t)=>{const{defaultValue:n,children:r,options:i=[],prefixCls:d,className:g,rootClassName:v,style:S,onChange:I}=e,T=Gbe(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:_,direction:N}=E.useContext(rr),[A,w]=E.useState(T.value||n||[]),[O,R]=E.useState([]);E.useEffect(()=>{"value"in T&&w(T.value||[])},[T.value]);const D=E.useMemo(()=>i.map(re=>typeof re=="string"||typeof re=="number"?{label:re,value:re}:re),[i]),j=re=>{R(ee=>ee.filter(ae=>ae!==re))},L=re=>{R(ee=>[].concat(Rt(ee),[re]))},U=re=>{const ee=A.indexOf(re.value),ae=Rt(A);ee===-1?ae.push(re.value):ae.splice(ee,1),"value"in T||w(ae),I==null||I(ae.filter(de=>O.includes(de)).sort((de,he)=>{const ue=D.findIndex(be=>be.value===de),ye=D.findIndex(be=>be.value===he);return ue-ye}))},$=_("checkbox",d),F=`${$}-group`,z=xo($),[H,V,K]=qY($,z),J=ri(T,["value","disabled"]),te=i.length?D.map(re=>E.createElement(HY,{prefixCls:$,key:re.value.toString(),disabled:"disabled"in re?re.disabled:T.disabled,value:re.value,checked:A.includes(re.value),onChange:re.onChange,className:Ue(`${F}-item`,re.className),style:re.style,title:re.title,id:re.id,required:re.required},re.label)):r,Z=E.useMemo(()=>({toggleOption:U,value:A,disabled:T.disabled,name:T.name,registerValue:L,cancelValue:j}),[U,A,T.disabled,T.name,L,j]),X=Ue(F,{[`${F}-rtl`]:N==="rtl"},g,v,K,z,V);return H(E.createElement("div",Object.assign({className:X,style:S},J,{ref:t}),E.createElement(zY.Provider,{value:Z},te)))}),Ys=HY;Ys.Group=Kbe;Ys.__ANT_CHECKBOX=!0;const GY=E.createContext({});var Wbe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function A3(e){return typeof e=="number"?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}const Ybe=["xs","sm","md","lg","xl","xxl"],ZD=E.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=E.useContext(rr),{gutter:i,wrap:d}=E.useContext(GY),{prefixCls:g,span:v,order:S,offset:I,push:T,pull:_,className:N,children:A,flex:w,style:O}=e,R=Wbe(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),D=n("col",g),[j,L,U]=ufe(D),$={};let F={};Ybe.forEach(V=>{let K={};const J=e[V];typeof J=="number"?K.span=J:typeof J=="object"&&(K=J||{}),delete R[V],F=Object.assign(Object.assign({},F),{[`${D}-${V}-${K.span}`]:K.span!==void 0,[`${D}-${V}-order-${K.order}`]:K.order||K.order===0,[`${D}-${V}-offset-${K.offset}`]:K.offset||K.offset===0,[`${D}-${V}-push-${K.push}`]:K.push||K.push===0,[`${D}-${V}-pull-${K.pull}`]:K.pull||K.pull===0,[`${D}-rtl`]:r==="rtl"}),K.flex&&(F[`${D}-${V}-flex`]=!0,$[`--${D}-${V}-flex`]=A3(K.flex))});const z=Ue(D,{[`${D}-${v}`]:v!==void 0,[`${D}-order-${S}`]:S,[`${D}-offset-${I}`]:I,[`${D}-push-${T}`]:T,[`${D}-pull-${_}`]:_},N,F,L,U),H={};if(i&&i[0]>0){const V=i[0]/2;H.paddingLeft=V,H.paddingRight=V}return w&&(H.flex=A3(w),d===!1&&!H.minWidth&&(H.minWidth=0)),j(E.createElement("div",Object.assign({},R,{style:Object.assign(Object.assign(Object.assign({},H),O),$),className:z,ref:t}),A))});function Xbe(e,t){const n=[void 0,void 0],r=Array.isArray(e)?e:[e,void 0],i=t||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((d,g)=>{if(typeof d=="object"&&d!==null)for(let v=0;v<hg.length;v++){const S=hg[v];if(i[S]&&d[S]!==void 0){n[g]=d[S];break}}else n[g]=d}),n}var Jbe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function O3(e,t){const[n,r]=E.useState(typeof e=="string"?e:""),i=()=>{if(typeof e=="string"&&r(e),typeof e=="object")for(let d=0;d<hg.length;d++){const g=hg[d];if(!t||!t[g])continue;const v=e[g];if(v!==void 0){r(v);return}}};return E.useEffect(()=>{i()},[JSON.stringify(e),t]),n}const KY=E.forwardRef((e,t)=>{const{prefixCls:n,justify:r,align:i,className:d,style:g,children:v,gutter:S=0,wrap:I}=e,T=Jbe(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:_,direction:N}=E.useContext(rr),A=T_(!0,null),w=O3(i,A),O=O3(r,A),R=_("row",n),[D,j,L]=lfe(R),U=Xbe(S,A),$=Ue(R,{[`${R}-no-wrap`]:I===!1,[`${R}-${O}`]:O,[`${R}-${w}`]:w,[`${R}-rtl`]:N==="rtl"},d,j,L),F={},z=U[0]!=null&&U[0]>0?U[0]/-2:void 0;z&&(F.marginLeft=z,F.marginRight=z);const[H,V]=U;F.rowGap=V;const K=E.useMemo(()=>({gutter:[H,V],wrap:I}),[H,V,I]);return D(E.createElement(GY.Provider,{value:K},E.createElement("div",Object.assign({},T,{className:$,style:Object.assign(Object.assign({},F),g),ref:t}),v)))}),Qbe=e=>{const{componentCls:t}=e;return{[t]:{"&-horizontal":{[`&${t}`]:{"&-sm":{marginBlock:e.marginXS},"&-md":{marginBlock:e.margin}}}}}},Zbe=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:i,textPaddingInline:d,orientationMargin:g,verticalMarginInline:v}=e;return{[t]:Object.assign(Object.assign({},Sa(e)),{borderBlockStart:`${Le(i)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:v,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${Le(i)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${Le(e.marginLG)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${Le(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${Le(i)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${g} * 100%)`},"&::after":{width:`calc(100% - ${g} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${g} * 100%)`},"&::after":{width:`calc(${g} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:d},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${Le(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${Le(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}},eSe=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),tSe=fa("Divider",e=>{const t=qr(e,{dividerHorizontalWithTextGutterMargin:e.margin,sizePaddingEdgeHorizontal:0});return[Zbe(t),Qbe(t)]},eSe,{unitless:{orientationMargin:!0}});var nSe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const rSe={small:"sm",middle:"md"},aSe=e=>{const{getPrefixCls:t,direction:n,className:r,style:i}=Fo("divider"),{prefixCls:d,type:g="horizontal",orientation:v="center",orientationMargin:S,className:I,rootClassName:T,children:_,dashed:N,variant:A="solid",plain:w,style:O,size:R}=e,D=nSe(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),j=t("divider",d),[L,U,$]=tSe(j),F=qo(R),z=rSe[F],H=!!_,V=E.useMemo(()=>v==="left"?n==="rtl"?"end":"start":v==="right"?n==="rtl"?"start":"end":v,[n,v]),K=V==="start"&&S!=null,J=V==="end"&&S!=null,te=Ue(j,r,U,$,`${j}-${g}`,{[`${j}-with-text`]:H,[`${j}-with-text-${V}`]:H,[`${j}-dashed`]:!!N,[`${j}-${A}`]:A!=="solid",[`${j}-plain`]:!!w,[`${j}-rtl`]:n==="rtl",[`${j}-no-default-orientation-margin-start`]:K,[`${j}-no-default-orientation-margin-end`]:J,[`${j}-${z}`]:!!z},I,T),Z=E.useMemo(()=>typeof S=="number"?S:/^\d+$/.test(S)?Number(S):S,[S]),X={marginInlineStart:K?Z:void 0,marginInlineEnd:J?Z:void 0};return L(E.createElement("div",Object.assign({className:te,style:Object.assign(Object.assign({},i),O)},D,{role:"separator"}),_&&g!=="vertical"&&E.createElement("span",{className:`${j}-inner-text`,style:X},_)))};var WY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},iSe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:WY}))},oSe=E.forwardRef(iSe);function IP(){return typeof BigInt=="function"}function YY(e){return!e&&e!==0&&!Number.isNaN(e)||!String(e).trim()}function ug(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var r=t||"0",i=r.split("."),d=i[0]||"0",g=i[1]||"0";d==="0"&&g==="0"&&(n=!1);var v=n?"-":"";return{negative:n,negativeStr:v,trimStr:r,integerStr:d,decimalStr:g,fullStr:"".concat(v).concat(r)}}function ej(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function ig(e){var t=String(e);if(ej(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&tj(t)?t.length-t.indexOf(".")-1:0}function A_(e){var t=String(e);if(ej(e)){if(e>Number.MAX_SAFE_INTEGER)return String(IP()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(IP()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(ig(t))}return ug(t).fullStr}function tj(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}var sSe=function(){function e(t){if(mi(this,e),Ce(this,"origin",""),Ce(this,"negative",void 0),Ce(this,"integer",void 0),Ce(this,"decimal",void 0),Ce(this,"decimalLen",void 0),Ce(this,"empty",void 0),Ce(this,"nan",void 0),YY(t)){this.empty=!0;return}if(this.origin=String(t),t==="-"||Number.isNaN(t)){this.nan=!0;return}var n=t;if(ej(n)&&(n=Number(n)),n=typeof n=="string"?n:A_(n),tj(n)){var r=ug(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var d=i[1]||"0";this.decimal=BigInt(d),this.decimalLen=d.length}else this.nan=!0}return fi(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new e(this.toString());return n.negative=!n.negative,n}},{key:"cal",value:function(n,r,i){var d=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),g=this.alignDecimal(d),v=n.alignDecimal(d),S=r(g,v).toString(),I=i(d),T=ug(S),_=T.negativeStr,N=T.trimStr,A="".concat(_).concat(N.padStart(I+1,"0"));return new e("".concat(A.slice(0,-I),".").concat(A.slice(-I)))}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=new e(n);return r.isInvalidate()?this:this.cal(r,function(i,d){return i+d},function(i){return i})}},{key:"multi",value:function(n){var r=new e(n);return this.isInvalidate()||r.isInvalidate()?new e(NaN):this.cal(r,function(i,d){return i*d},function(i){return i*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":ug("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),lSe=function(){function e(t){if(mi(this,e),Ce(this,"origin",""),Ce(this,"number",void 0),Ce(this,"empty",void 0),YY(t)){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return fi(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var r=Number(n);if(Number.isNaN(r))return this;var i=this.number+r;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var d=Math.max(ig(this.number),ig(r));return new e(i.toFixed(d))}},{key:"multi",value:function(n){var r=Number(n);if(this.isInvalidate()||Number.isNaN(r))return new e(NaN);var i=this.number*r;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var d=Math.max(ig(this.number),ig(r));return new e(i.toFixed(d))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":A_(this.number):this.origin}}]),e}();function Mc(e){return IP()?new sSe(e):new lSe(e)}function vM(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var i=ug(e),d=i.negativeStr,g=i.integerStr,v=i.decimalStr,S="".concat(t).concat(v),I="".concat(d).concat(g);if(n>=0){var T=Number(v[n]);if(T>=5&&!r){var _=Mc(e).add("".concat(d,"0.").concat("0".repeat(n)).concat(10-T));return vM(_.toString(),t,n,r)}return n===0?I:"".concat(I).concat(t).concat(v.padEnd(n,"0").slice(0,n))}return S===".0"?I:"".concat(I).concat(S)}function cSe(e){return!!(e.addonBefore||e.addonAfter)}function uSe(e){return!!(e.prefix||e.suffix||e.allowClear)}function k3(e,t,n){var r=t.cloneNode(!0),i=Object.create(e,{target:{value:r},currentTarget:{value:r}});return r.value=n,typeof t.selectionStart=="number"&&typeof t.selectionEnd=="number"&&(r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd),r.setSelectionRange=function(){t.setSelectionRange.apply(t,arguments)},i}function $M(e,t,n,r){if(n){var i=t;if(t.type==="click"){i=k3(t,e,""),n(i);return}if(e.type!=="file"&&r!==void 0){i=k3(t,e,r),n(i);return}n(i)}}function nj(e,t){if(e){e.focus(t);var n=t||{},r=n.cursor;if(r){var i=e.value.length;switch(r){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(i,i);break;default:e.setSelectionRange(0,i)}}}}var rj=Xe.forwardRef(function(e,t){var n,r,i,d=e.inputElement,g=e.children,v=e.prefixCls,S=e.prefix,I=e.suffix,T=e.addonBefore,_=e.addonAfter,N=e.className,A=e.style,w=e.disabled,O=e.readOnly,R=e.focused,D=e.triggerFocus,j=e.allowClear,L=e.value,U=e.handleReset,$=e.hidden,F=e.classes,z=e.classNames,H=e.dataAttrs,V=e.styles,K=e.components,J=e.onClear,te=g??d,Z=(K==null?void 0:K.affixWrapper)||"span",X=(K==null?void 0:K.groupWrapper)||"span",re=(K==null?void 0:K.wrapper)||"span",ee=(K==null?void 0:K.groupAddon)||"span",ae=E.useRef(null),de=function(Ke){var He;(He=ae.current)!==null&&He!==void 0&&He.contains(Ke.target)&&(D==null||D())},he=uSe(e),ue=E.cloneElement(te,{value:L,className:Ue((n=te.props)===null||n===void 0?void 0:n.className,!he&&(z==null?void 0:z.variant))||null}),ye=E.useRef(null);if(Xe.useImperativeHandle(t,function(){return{nativeElement:ye.current||ae.current}}),he){var be=null;if(j){var oe=!w&&!O&&L,pe="".concat(v,"-clear-icon"),fe=qn(j)==="object"&&j!==null&&j!==void 0&&j.clearIcon?j.clearIcon:"✖";be=Xe.createElement("button",{type:"button",tabIndex:-1,onClick:function(Ke){U==null||U(Ke),J==null||J()},onMouseDown:function(Ke){return Ke.preventDefault()},className:Ue(pe,Ce(Ce({},"".concat(pe,"-hidden"),!oe),"".concat(pe,"-has-suffix"),!!I))},fe)}var _e="".concat(v,"-affix-wrapper"),Te=Ue(_e,Ce(Ce(Ce(Ce(Ce({},"".concat(v,"-disabled"),w),"".concat(_e,"-disabled"),w),"".concat(_e,"-focused"),R),"".concat(_e,"-readonly"),O),"".concat(_e,"-input-with-clear-btn"),I&&j&&L),F==null?void 0:F.affixWrapper,z==null?void 0:z.affixWrapper,z==null?void 0:z.variant),Se=(I||j)&&Xe.createElement("span",{className:Ue("".concat(v,"-suffix"),z==null?void 0:z.suffix),style:V==null?void 0:V.suffix},be,I);ue=Xe.createElement(Z,kt({className:Te,style:V==null?void 0:V.affixWrapper,onClick:de},H==null?void 0:H.affixWrapper,{ref:ae}),S&&Xe.createElement("span",{className:Ue("".concat(v,"-prefix"),z==null?void 0:z.prefix),style:V==null?void 0:V.prefix},S),ue,Se)}if(cSe(e)){var De="".concat(v,"-group"),je="".concat(De,"-addon"),ke="".concat(De,"-wrapper"),Oe=Ue("".concat(v,"-wrapper"),De,F==null?void 0:F.wrapper,z==null?void 0:z.wrapper),Ne=Ue(ke,Ce({},"".concat(ke,"-disabled"),w),F==null?void 0:F.group,z==null?void 0:z.groupWrapper);ue=Xe.createElement(X,{className:Ne,ref:ye},Xe.createElement(re,{className:Oe},T&&Xe.createElement(ee,{className:je},T),ue,_&&Xe.createElement(ee,{className:je},_)))}return Xe.cloneElement(ue,{className:Ue((r=ue.props)===null||r===void 0?void 0:r.className,N)||null,style:Pe(Pe({},(i=ue.props)===null||i===void 0?void 0:i.style),A),hidden:$})}),dSe=["show"];function XY(e,t){return E.useMemo(function(){var n={};t&&(n.show=qn(t)==="object"&&t.formatter?t.formatter:!!t),n=Pe(Pe({},n),e);var r=n,i=r.show,d=ir(r,dSe);return Pe(Pe({},d),{},{show:!!i,showFormatter:typeof i=="function"?i:void 0,strategy:d.strategy||function(g){return g.length}})},[e,t])}var pSe=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],mSe=E.forwardRef(function(e,t){var n=e.autoComplete,r=e.onChange,i=e.onFocus,d=e.onBlur,g=e.onPressEnter,v=e.onKeyDown,S=e.onKeyUp,I=e.prefixCls,T=I===void 0?"rc-input":I,_=e.disabled,N=e.htmlSize,A=e.className,w=e.maxLength,O=e.suffix,R=e.showCount,D=e.count,j=e.type,L=j===void 0?"text":j,U=e.classes,$=e.classNames,F=e.styles,z=e.onCompositionStart,H=e.onCompositionEnd,V=ir(e,pSe),K=E.useState(!1),J=at(K,2),te=J[0],Z=J[1],X=E.useRef(!1),re=E.useRef(!1),ee=E.useRef(null),ae=E.useRef(null),de=function(ct){ee.current&&nj(ee.current,ct)},he=Si(e.defaultValue,{value:e.value}),ue=at(he,2),ye=ue[0],be=ue[1],oe=ye==null?"":String(ye),pe=E.useState(null),fe=at(pe,2),_e=fe[0],Te=fe[1],Se=XY(D,R),De=Se.max||w,je=Se.strategy(oe),ke=!!De&&je>De;E.useImperativeHandle(t,function(){var pt;return{focus:de,blur:function(){var xt;(xt=ee.current)===null||xt===void 0||xt.blur()},setSelectionRange:function(xt,jt,Ut){var Vt;(Vt=ee.current)===null||Vt===void 0||Vt.setSelectionRange(xt,jt,Ut)},select:function(){var xt;(xt=ee.current)===null||xt===void 0||xt.select()},input:ee.current,nativeElement:((pt=ae.current)===null||pt===void 0?void 0:pt.nativeElement)||ee.current}}),E.useEffect(function(){re.current&&(re.current=!1),Z(function(pt){return pt&&_?!1:pt})},[_]);var Oe=function(ct,xt,jt){var Ut=xt;if(!X.current&&Se.exceedFormatter&&Se.max&&Se.strategy(xt)>Se.max){if(Ut=Se.exceedFormatter(xt,{max:Se.max}),xt!==Ut){var Vt,wt;Te([((Vt=ee.current)===null||Vt===void 0?void 0:Vt.selectionStart)||0,((wt=ee.current)===null||wt===void 0?void 0:wt.selectionEnd)||0])}}else if(jt.source==="compositionEnd")return;be(Ut),ee.current&&$M(ee.current,ct,r,Ut)};E.useEffect(function(){if(_e){var pt;(pt=ee.current)===null||pt===void 0||pt.setSelectionRange.apply(pt,Rt(_e))}},[_e]);var Ne=function(ct){Oe(ct,ct.target.value,{source:"change"})},qe=function(ct){X.current=!1,Oe(ct,ct.currentTarget.value,{source:"compositionEnd"}),H==null||H(ct)},Ke=function(ct){g&&ct.key==="Enter"&&!re.current&&(re.current=!0,g(ct)),v==null||v(ct)},He=function(ct){ct.key==="Enter"&&(re.current=!1),S==null||S(ct)},nt=function(ct){Z(!0),i==null||i(ct)},Je=function(ct){re.current&&(re.current=!1),Z(!1),d==null||d(ct)},ut=function(ct){be(""),de(),ee.current&&$M(ee.current,ct,r)},lt=ke&&"".concat(T,"-out-of-range"),et=function(){var ct=ri(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return Xe.createElement("input",kt({autoComplete:n},ct,{onChange:Ne,onFocus:nt,onBlur:Je,onKeyDown:Ke,onKeyUp:He,className:Ue(T,Ce({},"".concat(T,"-disabled"),_),$==null?void 0:$.input),style:F==null?void 0:F.input,ref:ee,size:N,type:L,onCompositionStart:function(jt){X.current=!0,z==null||z(jt)},onCompositionEnd:qe}))},Ye=function(){var ct=Number(De)>0;if(O||Se.show){var xt=Se.showFormatter?Se.showFormatter({value:oe,count:je,maxLength:De}):"".concat(je).concat(ct?" / ".concat(De):"");return Xe.createElement(Xe.Fragment,null,Se.show&&Xe.createElement("span",{className:Ue("".concat(T,"-show-count-suffix"),Ce({},"".concat(T,"-show-count-has-suffix"),!!O),$==null?void 0:$.count),style:Pe({},F==null?void 0:F.count)},xt),O)}return null};return Xe.createElement(rj,kt({},V,{prefixCls:T,className:Ue(A,lt),handleReset:ut,value:oe,focused:te,triggerFocus:de,suffix:Ye(),disabled:_,classes:U,classNames:$,styles:F,ref:ae}),et())});function fSe(e,t){return typeof Proxy<"u"&&e?new Proxy(e,{get:function(r,i){if(t[i])return t[i];var d=r[i];return typeof d=="function"?d.bind(r):d}}):e}function gSe(e,t){var n=E.useRef(null);function r(){try{var d=e.selectionStart,g=e.selectionEnd,v=e.value,S=v.substring(0,d),I=v.substring(g);n.current={start:d,end:g,value:v,beforeTxt:S,afterTxt:I}}catch{}}function i(){if(e&&n.current&&t)try{var d=e.value,g=n.current,v=g.beforeTxt,S=g.afterTxt,I=g.start,T=d.length;if(d.startsWith(v))T=v.length;else if(d.endsWith(S))T=d.length-n.current.afterTxt.length;else{var _=v[I-1],N=d.indexOf(_,I-1);N!==-1&&(T=N+1)}e.setSelectionRange(T,T)}catch(A){pi(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(A.message))}}return[r,i]}var hSe=function(){var t=E.useState(!1),n=at(t,2),r=n[0],i=n[1];return Hr(function(){i(S_())},[]),r},vSe=200,ySe=600;function bSe(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,i=e.upDisabled,d=e.downDisabled,g=e.onStep,v=E.useRef(),S=E.useRef([]),I=E.useRef();I.current=g;var T=function(){clearTimeout(v.current)},_=function(L,U){L.preventDefault(),T(),I.current(U);function $(){I.current(U),v.current=setTimeout($,vSe)}v.current=setTimeout($,ySe)};E.useEffect(function(){return function(){T(),S.current.forEach(function(j){return Fr.cancel(j)})}},[]);var N=hSe();if(N)return null;var A="".concat(t,"-handler"),w=Ue(A,"".concat(A,"-up"),Ce({},"".concat(A,"-up-disabled"),i)),O=Ue(A,"".concat(A,"-down"),Ce({},"".concat(A,"-down-disabled"),d)),R=function(){return S.current.push(Fr(T))},D={unselectable:"on",role:"button",onMouseUp:R,onMouseLeave:R};return E.createElement("div",{className:"".concat(A,"-wrap")},E.createElement("span",kt({},D,{onMouseDown:function(L){_(L,!0)},"aria-label":"Increase Value","aria-disabled":i,className:w}),n||E.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),E.createElement("span",kt({},D,{onMouseDown:function(L){_(L,!1)},"aria-label":"Decrease Value","aria-disabled":d,className:O}),r||E.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}function L3(e){var t=typeof e=="number"?A_(e):ug(e).fullStr,n=t.includes(".");return n?ug(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}const SSe=function(){var e=E.useRef(0),t=function(){Fr.cancel(e.current)};return E.useEffect(function(){return t},[]),function(n){t(),e.current=Fr(function(){n()})}};var ISe=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],ESe=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],P3=function(t,n){return t||n.isEmpty()?n.toString():n.toNumber()},D3=function(t){var n=Mc(t);return n.isInvalidate()?null:n},CSe=E.forwardRef(function(e,t){var n=e.prefixCls,r=e.className,i=e.style,d=e.min,g=e.max,v=e.step,S=v===void 0?1:v,I=e.defaultValue,T=e.value,_=e.disabled,N=e.readOnly,A=e.upHandler,w=e.downHandler,O=e.keyboard,R=e.changeOnWheel,D=R===void 0?!1:R,j=e.controls,L=j===void 0?!0:j;e.classNames;var U=e.stringMode,$=e.parser,F=e.formatter,z=e.precision,H=e.decimalSeparator,V=e.onChange,K=e.onInput,J=e.onPressEnter,te=e.onStep,Z=e.changeOnBlur,X=Z===void 0?!0:Z,re=e.domRef,ee=ir(e,ISe),ae="".concat(n,"-input"),de=E.useRef(null),he=E.useState(!1),ue=at(he,2),ye=ue[0],be=ue[1],oe=E.useRef(!1),pe=E.useRef(!1),fe=E.useRef(!1),_e=E.useState(function(){return Mc(T??I)}),Te=at(_e,2),Se=Te[0],De=Te[1];function je(tn){T===void 0&&De(tn)}var ke=E.useCallback(function(tn,_n){if(!_n)return z>=0?z:Math.max(ig(tn),ig(S))},[z,S]),Oe=E.useCallback(function(tn){var _n=String(tn);if($)return $(_n);var Fn=_n;return H&&(Fn=Fn.replace(H,".")),Fn.replace(/[^\w.-]+/g,"")},[$,H]),Ne=E.useRef(""),qe=E.useCallback(function(tn,_n){if(F)return F(tn,{userTyping:_n,input:String(Ne.current)});var Fn=typeof tn=="number"?A_(tn):tn;if(!_n){var Wt=ke(Fn,_n);if(tj(Fn)&&(H||Wt>=0)){var xn=H||".";Fn=vM(Fn,xn,Wt)}}return Fn},[F,ke,H]),Ke=E.useState(function(){var tn=I??T;return Se.isInvalidate()&&["string","number"].includes(qn(tn))?Number.isNaN(tn)?"":tn:qe(Se.toString(),!1)}),He=at(Ke,2),nt=He[0],Je=He[1];Ne.current=nt;function ut(tn,_n){Je(qe(tn.isInvalidate()?tn.toString(!1):tn.toString(!_n),_n))}var lt=E.useMemo(function(){return D3(g)},[g,z]),et=E.useMemo(function(){return D3(d)},[d,z]),Ye=E.useMemo(function(){return!lt||!Se||Se.isInvalidate()?!1:lt.lessEquals(Se)},[lt,Se]),pt=E.useMemo(function(){return!et||!Se||Se.isInvalidate()?!1:Se.lessEquals(et)},[et,Se]),ct=gSe(de.current,ye),xt=at(ct,2),jt=xt[0],Ut=xt[1],Vt=function(_n){return lt&&!_n.lessEquals(lt)?lt:et&&!et.lessEquals(_n)?et:null},wt=function(_n){return!Vt(_n)},Bt=function(_n,Fn){var Wt=_n,xn=wt(Wt)||Wt.isEmpty();if(!Wt.isEmpty()&&!Fn&&(Wt=Vt(Wt)||Wt,xn=!0),!N&&!_&&xn){var En=Wt.toString(),Sn=ke(En,Fn);return Sn>=0&&(Wt=Mc(vM(En,".",Sn)),wt(Wt)||(Wt=Mc(vM(En,".",Sn,!0)))),Wt.equals(Se)||(je(Wt),V==null||V(Wt.isEmpty()?null:P3(U,Wt)),T===void 0&&ut(Wt,Fn)),Wt}return Se},Pt=SSe(),ot=function tn(_n){if(jt(),Ne.current=_n,Je(_n),!pe.current){var Fn=Oe(_n),Wt=Mc(Fn);Wt.isNaN()||Bt(Wt,!0)}K==null||K(_n),Pt(function(){var xn=_n;$||(xn=_n.replace(/。/g,".")),xn!==_n&&tn(xn)})},qt=function(){pe.current=!0},vt=function(){pe.current=!1,ot(de.current.value)},bt=function(_n){ot(_n.target.value)},yt=function(_n){var Fn;if(!(_n&&Ye||!_n&&pt)){oe.current=!1;var Wt=Mc(fe.current?L3(S):S);_n||(Wt=Wt.negate());var xn=(Se||Mc(0)).add(Wt.toString()),En=Bt(xn,!1);te==null||te(P3(U,En),{offset:fe.current?L3(S):S,type:_n?"up":"down"}),(Fn=de.current)===null||Fn===void 0||Fn.focus()}},gt=function(_n){var Fn=Mc(Oe(nt)),Wt;Fn.isNaN()?Wt=Bt(Se,_n):Wt=Bt(Fn,_n),T!==void 0?ut(Se,!1):Wt.isNaN()||ut(Wt,!1)},Jt=function(){oe.current=!0},bn=function(_n){var Fn=_n.key,Wt=_n.shiftKey;oe.current=!0,fe.current=Wt,Fn==="Enter"&&(pe.current||(oe.current=!1),gt(!1),J==null||J(_n)),O!==!1&&!pe.current&&["Up","ArrowUp","Down","ArrowDown"].includes(Fn)&&(yt(Fn==="Up"||Fn==="ArrowUp"),_n.preventDefault())},Qn=function(){oe.current=!1,fe.current=!1};E.useEffect(function(){if(D&&ye){var tn=function(Wt){yt(Wt.deltaY<0),Wt.preventDefault()},_n=de.current;if(_n)return _n.addEventListener("wheel",tn,{passive:!1}),function(){return _n.removeEventListener("wheel",tn)}}});var Dn=function(){X&&gt(!1),be(!1),oe.current=!1};return ny(function(){Se.isInvalidate()||ut(Se,!1)},[z,F]),ny(function(){var tn=Mc(T);De(tn);var _n=Mc(Oe(nt));(!tn.equals(_n)||!oe.current||F)&&ut(tn,oe.current)},[T]),ny(function(){F&&Ut()},[nt]),E.createElement("div",{ref:re,className:Ue(n,r,Ce(Ce(Ce(Ce(Ce({},"".concat(n,"-focused"),ye),"".concat(n,"-disabled"),_),"".concat(n,"-readonly"),N),"".concat(n,"-not-a-number"),Se.isNaN()),"".concat(n,"-out-of-range"),!Se.isInvalidate()&&!wt(Se))),style:i,onFocus:function(){be(!0)},onBlur:Dn,onKeyDown:bn,onKeyUp:Qn,onCompositionStart:qt,onCompositionEnd:vt,onBeforeInput:Jt},L&&E.createElement(bSe,{prefixCls:n,upNode:A,downNode:w,upDisabled:Ye,downDisabled:pt,onStep:yt}),E.createElement("div",{className:"".concat(ae,"-wrap")},E.createElement("input",kt({autoComplete:"off",role:"spinbutton","aria-valuemin":d,"aria-valuemax":g,"aria-valuenow":Se.isInvalidate()?null:Se.toString(),step:S},ee,{ref:Bo(de,t),className:ae,value:nt,onChange:bt,disabled:_,readOnly:N}))))}),TSe=E.forwardRef(function(e,t){var n=e.disabled,r=e.style,i=e.prefixCls,d=i===void 0?"rc-input-number":i,g=e.value,v=e.prefix,S=e.suffix,I=e.addonBefore,T=e.addonAfter,_=e.className,N=e.classNames,A=ir(e,ESe),w=E.useRef(null),O=E.useRef(null),R=E.useRef(null),D=function(L){R.current&&nj(R.current,L)};return E.useImperativeHandle(t,function(){return fSe(R.current,{focus:D,nativeElement:w.current.nativeElement||O.current})}),E.createElement(rj,{className:_,triggerFocus:D,prefixCls:d,value:g,disabled:n,style:r,prefix:v,suffix:S,addonAfter:T,addonBefore:I,classNames:N,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:w},E.createElement(CSe,kt({prefixCls:d,disabled:n,ref:R,domRef:O,className:N==null?void 0:N.input},A)))});const MSe=e=>{var t;const n=(t=e.handleVisible)!==null&&t!==void 0?t:"auto",r=e.controlHeightSM-e.lineWidth*2;return Object.assign(Object.assign({},Ay(e)),{controlWidth:90,handleWidth:r,handleFontSize:e.fontSize/2,handleVisible:n,handleActiveBg:e.colorFillAlter,handleBg:e.colorBgContainer,filledHandleBg:new wa(e.colorFillSecondary).onBackground(e.colorBgContainer).toHexString(),handleHoverColor:e.colorPrimary,handleBorderColor:e.colorBorder,handleOpacity:n===!0?1:0,handleVisibleWidth:n===!0?r:0})},j3=({componentCls:e,borderRadiusSM:t,borderRadiusLG:n},r)=>{const i=r==="lg"?n:t;return{[`&-${r}`]:{[`${e}-handler-wrap`]:{borderStartEndRadius:i,borderEndEndRadius:i},[`${e}-handler-up`]:{borderStartEndRadius:i},[`${e}-handler-down`]:{borderEndEndRadius:i}}}},_Se=e=>{const{componentCls:t,lineWidth:n,lineType:r,borderRadius:i,inputFontSizeSM:d,inputFontSizeLG:g,controlHeightLG:v,controlHeightSM:S,colorError:I,paddingInlineSM:T,paddingBlockSM:_,paddingBlockLG:N,paddingInlineLG:A,colorIcon:w,motionDurationMid:O,handleHoverColor:R,handleOpacity:D,paddingInline:j,paddingBlock:L,handleBg:U,handleActiveBg:$,colorTextDisabled:F,borderRadiusSM:z,borderRadiusLG:H,controlWidth:V,handleBorderColor:K,filledHandleBg:J,lineHeightLG:te,calc:Z}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Sa(e)),R0(e)),{display:"inline-block",width:V,margin:0,padding:0,borderRadius:i}),IY(e,{[`${t}-handler-wrap`]:{background:U,[`${t}-handler-down`]:{borderBlockStart:`${Le(n)} ${r} ${K}`}}})),MY(e,{[`${t}-handler-wrap`]:{background:J,[`${t}-handler-down`]:{borderBlockStart:`${Le(n)} ${r} ${K}`}},"&:focus-within":{[`${t}-handler-wrap`]:{background:U}}})),wY(e,{[`${t}-handler-wrap`]:{background:U,[`${t}-handler-down`]:{borderBlockStart:`${Le(n)} ${r} ${K}`}}})),CY(e)),{"&-rtl":{direction:"rtl",[`${t}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:g,lineHeight:te,borderRadius:H,[`input${t}-input`]:{height:Z(v).sub(Z(n).mul(2)).equal(),padding:`${Le(N)} ${Le(A)}`}},"&-sm":{padding:0,fontSize:d,borderRadius:z,[`input${t}-input`]:{height:Z(S).sub(Z(n).mul(2)).equal(),padding:`${Le(_)} ${Le(T)}`}},"&-out-of-range":{[`${t}-input-wrap`]:{input:{color:I}}},"&-group":Object.assign(Object.assign(Object.assign({},Sa(e)),AY(e)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${t}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${t}-group-addon`]:{borderRadius:H,fontSize:e.fontSizeLG}},"&-sm":{[`${t}-group-addon`]:{borderRadius:z}}},EY(e)),_Y(e)),{[`&:not(${t}-compact-first-item):not(${t}-compact-last-item)${t}-compact-item`]:{[`${t}, ${t}-group-addon`]:{borderRadius:0}},[`&:not(${t}-compact-last-item)${t}-compact-first-item`]:{[`${t}, ${t}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${t}-compact-first-item)${t}-compact-last-item`]:{[`${t}, ${t}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${t}-input`]:{cursor:"not-allowed"},[t]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},Sa(e)),{width:"100%",padding:`${Le(L)} ${Le(j)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:i,outline:0,transition:`all ${O} linear`,appearance:"textfield",fontSize:"inherit"}),NY(e.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,appearance:"none"}})},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1}})},{[t]:Object.assign(Object.assign(Object.assign({[`${t}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:e.handleVisibleWidth,opacity:D,height:"100%",borderStartStartRadius:0,borderStartEndRadius:i,borderEndEndRadius:i,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${O}`,overflow:"hidden",[`${t}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:e.handleFontSize}}},[`${t}-handler`]:{height:"50%",overflow:"hidden",color:w,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${Le(n)} ${r} ${K}`,transition:`all ${O} linear`,"&:active":{background:$},"&:hover":{height:"60%",[`
              ${t}-handler-up-inner,
              ${t}-handler-down-inner
            `]:{color:R}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},Iy()),{color:w,transition:`all ${O} linear`,userSelect:"none"})},[`${t}-handler-up`]:{borderStartEndRadius:i},[`${t}-handler-down`]:{borderEndEndRadius:i}},j3(e,"lg")),j3(e,"sm")),{"&-disabled, &-readonly":{[`${t}-handler-wrap`]:{display:"none"},[`${t}-input`]:{color:"inherit"}},[`
          ${t}-handler-up-disabled,
          ${t}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${t}-handler-up-disabled:hover &-handler-up-inner,
          ${t}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:F}})}]},xSe=e=>{const{componentCls:t,paddingBlock:n,paddingInline:r,inputAffixPadding:i,controlWidth:d,borderRadiusLG:g,borderRadiusSM:v,paddingInlineLG:S,paddingInlineSM:I,paddingBlockLG:T,paddingBlockSM:_,motionDurationMid:N}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign({[`input${t}-input`]:{padding:`${Le(n)} 0`}},R0(e)),{position:"relative",display:"inline-flex",alignItems:"center",width:d,padding:0,paddingInlineStart:r,"&-lg":{borderRadius:g,paddingInlineStart:S,[`input${t}-input`]:{padding:`${Le(T)} 0`}},"&-sm":{borderRadius:v,paddingInlineStart:I,[`input${t}-input`]:{padding:`${Le(_)} 0`}},[`&:not(${t}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${t}-disabled`]:{background:"transparent"},[`> div${t}`]:{width:"100%",border:"none",outline:"none",[`&${t}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-handler-wrap`]:{zIndex:2},[t]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:i},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:r,marginInlineStart:i,transition:`margin ${N}`}},[`&:hover ${t}-handler-wrap, &-focused ${t}-handler-wrap`]:{width:e.handleWidth,opacity:1},[`&:not(${t}-affix-wrapper-without-controls):hover ${t}-suffix`]:{marginInlineEnd:e.calc(e.handleWidth).add(r).equal()}}),[`${t}-underlined`]:{borderRadius:0}}},wSe=fa("InputNumber",e=>{const t=qr(e,Ry(e));return[_Se(t),xSe(t),v_(t)]},MSe,{unitless:{handleOpacity:!0}});var NSe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const JY=E.forwardRef((e,t)=>{const{getPrefixCls:n,direction:r}=E.useContext(rr),i=E.useRef(null);E.useImperativeHandle(t,()=>i.current);const{className:d,rootClassName:g,size:v,disabled:S,prefixCls:I,addonBefore:T,addonAfter:_,prefix:N,suffix:A,bordered:w,readOnly:O,status:R,controls:D,variant:j}=e,L=NSe(e,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),U=n("input-number",I),$=xo(U),[F,z,H]=wSe(U,$),{compactSize:V,compactItemClassnames:K}=Ig(U,r);let J=E.createElement(oSe,{className:`${U}-handler-up-inner`}),te=E.createElement(DD,{className:`${U}-handler-down-inner`});const Z=typeof D=="boolean"?D:void 0;typeof D=="object"&&(J=typeof D.upIcon>"u"?J:E.createElement("span",{className:`${U}-handler-up-inner`},D.upIcon),te=typeof D.downIcon>"u"?te:E.createElement("span",{className:`${U}-handler-down-inner`},D.downIcon));const{hasFeedback:X,status:re,isFormItemInput:ee,feedbackIcon:ae}=E.useContext($o),de=x0(re,R),he=qo(Se=>{var De;return(De=v??V)!==null&&De!==void 0?De:Se}),ue=E.useContext(Xs),ye=S??ue,[be,oe]=w0("inputNumber",j,w),pe=X&&E.createElement(E.Fragment,null,ae),fe=Ue({[`${U}-lg`]:he==="large",[`${U}-sm`]:he==="small",[`${U}-rtl`]:r==="rtl",[`${U}-in-form-item`]:ee},z),_e=`${U}-group`,Te=E.createElement(TSe,Object.assign({ref:i,disabled:ye,className:Ue(H,$,d,g,K),upHandler:J,downHandler:te,prefixCls:U,readOnly:O,controls:Z,prefix:N,suffix:pe||A,addonBefore:T&&E.createElement(gy,{form:!0,space:!0},T),addonAfter:_&&E.createElement(gy,{form:!0,space:!0},_),classNames:{input:fe,variant:Ue({[`${U}-${be}`]:oe},hy(U,de,X)),affixWrapper:Ue({[`${U}-affix-wrapper-sm`]:he==="small",[`${U}-affix-wrapper-lg`]:he==="large",[`${U}-affix-wrapper-rtl`]:r==="rtl",[`${U}-affix-wrapper-without-controls`]:D===!1||ye},z),wrapper:Ue({[`${_e}-rtl`]:r==="rtl"},z),groupWrapper:Ue({[`${U}-group-wrapper-sm`]:he==="small",[`${U}-group-wrapper-lg`]:he==="large",[`${U}-group-wrapper-rtl`]:r==="rtl",[`${U}-group-wrapper-${be}`]:oe},hy(`${U}-group-wrapper`,de,X),z)}},L));return F(Te)}),Rc=JY,RSe=e=>E.createElement(Mm,{theme:{components:{InputNumber:{handleVisible:!0}}}},E.createElement(JY,Object.assign({},e)));Rc._InternalPanelDoNotUseOrYouWillBeFired=RSe;const QY=e=>{let t;return typeof e=="object"&&(e!=null&&e.clearIcon)?t=e:e&&(t={clearIcon:Xe.createElement(Cy,null)}),t};function ZY(e,t){const n=E.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var i,d,g,v;!((i=e.current)===null||i===void 0)&&i.input&&((d=e.current)===null||d===void 0?void 0:d.input.getAttribute("type"))==="password"&&(!((g=e.current)===null||g===void 0)&&g.input.hasAttribute("value"))&&((v=e.current)===null||v===void 0||v.input.removeAttribute("value"))}))};return E.useEffect(()=>(t&&r(),()=>n.current.forEach(i=>{i&&clearTimeout(i)})),[]),r}function ASe(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var OSe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const O0=E.forwardRef((e,t)=>{const{prefixCls:n,bordered:r=!0,status:i,size:d,disabled:g,onBlur:v,onFocus:S,suffix:I,allowClear:T,addonAfter:_,addonBefore:N,className:A,style:w,styles:O,rootClassName:R,onChange:D,classNames:j,variant:L}=e,U=OSe(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:$,direction:F,allowClear:z,autoComplete:H,className:V,style:K,classNames:J,styles:te}=Fo("input"),Z=$("input",n),X=E.useRef(null),re=xo(Z),[ee,ae,de]=OY(Z,R),[he]=kY(Z,re),{compactSize:ue,compactItemClassnames:ye}=Ig(Z,F),be=qo(Je=>{var ut;return(ut=d??ue)!==null&&ut!==void 0?ut:Je}),oe=Xe.useContext(Xs),pe=g??oe,{status:fe,hasFeedback:_e,feedbackIcon:Te}=E.useContext($o),Se=x0(fe,i),De=ASe(e)||!!_e;E.useRef(De);const je=ZY(X,!0),ke=Je=>{je(),v==null||v(Je)},Oe=Je=>{je(),S==null||S(Je)},Ne=Je=>{je(),D==null||D(Je)},qe=(_e||I)&&Xe.createElement(Xe.Fragment,null,I,_e&&Te),Ke=QY(T??z),[He,nt]=w0("input",L,r);return ee(he(Xe.createElement(mSe,Object.assign({ref:Bo(t,X),prefixCls:Z,autoComplete:H},U,{disabled:pe,onBlur:ke,onFocus:Oe,style:Object.assign(Object.assign({},K),w),styles:Object.assign(Object.assign({},te),O),suffix:qe,allowClear:Ke,className:Ue(A,R,de,re,ye,V),onChange:Ne,addonBefore:N&&Xe.createElement(gy,{form:!0,space:!0},N),addonAfter:_&&Xe.createElement(gy,{form:!0,space:!0},_),classNames:Object.assign(Object.assign(Object.assign({},j),J),{input:Ue({[`${Z}-sm`]:be==="small",[`${Z}-lg`]:be==="large",[`${Z}-rtl`]:F==="rtl"},j==null?void 0:j.input,J.input,ae),variant:Ue({[`${Z}-${He}`]:nt},hy(Z,Se)),affixWrapper:Ue({[`${Z}-affix-wrapper-sm`]:be==="small",[`${Z}-affix-wrapper-lg`]:be==="large",[`${Z}-affix-wrapper-rtl`]:F==="rtl"},ae),wrapper:Ue({[`${Z}-group-rtl`]:F==="rtl"},ae),groupWrapper:Ue({[`${Z}-group-wrapper-sm`]:be==="small",[`${Z}-group-wrapper-lg`]:be==="large",[`${Z}-group-wrapper-rtl`]:F==="rtl",[`${Z}-group-wrapper-${He}`]:nt},hy(`${Z}-group-wrapper`,Se,_e),ae)})}))))});function V3(e){return["small","middle","large"].includes(e)}function $3(e){return e?typeof e=="number"&&!Number.isNaN(e):!1}const eX=Xe.createContext({latestIndex:0}),kSe=eX.Provider,LSe=({className:e,index:t,children:n,split:r,style:i})=>{const{latestIndex:d}=E.useContext(eX);return n==null?null:E.createElement(E.Fragment,null,E.createElement("div",{className:e,style:i},n),t<d&&r&&E.createElement("span",{className:`${e}-split`},r))};var PSe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const DSe=E.forwardRef((e,t)=>{var n;const{getPrefixCls:r,direction:i,size:d,className:g,style:v,classNames:S,styles:I}=Fo("space"),{size:T=d??"small",align:_,className:N,rootClassName:A,children:w,direction:O="horizontal",prefixCls:R,split:D,style:j,wrap:L=!1,classNames:U,styles:$}=e,F=PSe(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[z,H]=Array.isArray(T)?T:[T,T],V=V3(H),K=V3(z),J=$3(H),te=$3(z),Z=ps(w,{keepEmpty:!0}),X=_===void 0&&O==="horizontal"?"center":_,re=r("space",R),[ee,ae,de]=YK(re),he=Ue(re,g,ae,`${re}-${O}`,{[`${re}-rtl`]:i==="rtl",[`${re}-align-${X}`]:X,[`${re}-gap-row-${H}`]:V,[`${re}-gap-col-${z}`]:K},N,A,de),ue=Ue(`${re}-item`,(n=U==null?void 0:U.item)!==null&&n!==void 0?n:S.item);let ye=0;const be=Z.map((fe,_e)=>{var Te;fe!=null&&(ye=_e);const Se=(fe==null?void 0:fe.key)||`${ue}-${_e}`;return E.createElement(LSe,{className:ue,key:Se,index:_e,split:D,style:(Te=$==null?void 0:$.item)!==null&&Te!==void 0?Te:I.item},fe)}),oe=E.useMemo(()=>({latestIndex:ye}),[ye]);if(Z.length===0)return null;const pe={};return L&&(pe.flexWrap="wrap"),!K&&te&&(pe.columnGap=z),!V&&J&&(pe.rowGap=H),ee(E.createElement("div",Object.assign({ref:t,className:he,style:Object.assign(Object.assign(Object.assign({},pe),v),j)},F),E.createElement(kSe,{value:oe},be)))}),on=DSe;on.Compact=mde;var jSe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const tX=e=>{const{getPopupContainer:t,getPrefixCls:n,direction:r}=E.useContext(rr),{prefixCls:i,type:d="default",danger:g,disabled:v,loading:S,onClick:I,htmlType:T,children:_,className:N,menu:A,arrow:w,autoFocus:O,overlay:R,trigger:D,align:j,open:L,onOpenChange:U,placement:$,getPopupContainer:F,href:z,icon:H=E.createElement(KD,null),title:V,buttonsRender:K=ke=>ke,mouseEnterDelay:J,mouseLeaveDelay:te,overlayClassName:Z,overlayStyle:X,destroyOnHidden:re,destroyPopupOnHide:ee,dropdownRender:ae,popupRender:de}=e,he=jSe(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyOnHidden","destroyPopupOnHide","dropdownRender","popupRender"]),ue=n("dropdown",i),ye=`${ue}-button`,oe={menu:A,arrow:w,autoFocus:O,align:j,disabled:v,trigger:v?[]:D,onOpenChange:U,getPopupContainer:F||t,mouseEnterDelay:J,mouseLeaveDelay:te,overlayClassName:Z,overlayStyle:X,destroyOnHidden:re,popupRender:de||ae},{compactSize:pe,compactItemClassnames:fe}=Ig(ue,r),_e=Ue(ye,fe,N);"destroyPopupOnHide"in e&&(oe.destroyPopupOnHide=ee),"overlay"in e&&(oe.overlay=R),"open"in e&&(oe.open=L),"placement"in e?oe.placement=$:oe.placement=r==="rtl"?"bottomLeft":"bottomRight";const Te=E.createElement(Ze,{type:d,danger:g,disabled:v,loading:S,onClick:I,htmlType:T,href:z,title:V},_),Se=E.createElement(Ze,{type:d,danger:g,icon:H}),[De,je]=K([Te,Se]);return E.createElement(on.Compact,Object.assign({className:_e,size:pe,block:!0},he),De,E.createElement(w_,Object.assign({},oe),je))};tX.__ANT_BUTTON=!0;const aj=w_;aj.Button=tX;function VSe(e){return e==null?null:typeof e=="object"&&!E.isValidElement(e)?e:{title:e}}function UM(e){const[t,n]=E.useState(e);return E.useEffect(()=>{const r=setTimeout(()=>{n(e)},e.length?0:10);return()=>{clearTimeout(r)}},[e]),t}const $Se=e=>{const{componentCls:t}=e,n=`${t}-show-help`,r=`${t}-show-help-item`;return{[n]:{transition:`opacity ${e.motionDurationFast} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${e.motionDurationFast} ${e.motionEaseInOut},
                     opacity ${e.motionDurationFast} ${e.motionEaseInOut},
                     transform ${e.motionDurationFast} ${e.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},USe=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${Le(e.controlOutlineWidth)} ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),U3=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},BSe=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},Sa(e)),USe(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},U3(e,e.controlHeightSM)),"&-large":Object.assign({},U3(e,e.controlHeightLG))})}},FSe=e=>{const{formItemCls:t,iconCls:n,rootPrefixCls:r,antCls:i,labelRequiredMarkColor:d,labelColor:g,labelFontSize:v,labelHeight:S,labelColonMarginInlineStart:I,labelColonMarginInlineEnd:T,itemMarginBottom:_}=e;return{[t]:Object.assign(Object.assign({},Sa(e)),{marginBottom:_,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${i}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset","> label":{verticalAlign:"middle",textWrap:"balance"}},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:S,color:g,fontSize:v,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required`]:{"&::before":{display:"inline-block",marginInlineEnd:e.marginXXS,color:d,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},[`&${t}-required-mark-hidden, &${t}-required-mark-optional`]:{"&::before":{display:"none"}}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`&${t}-required-mark-hidden`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:I,marginInlineEnd:T},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${r}-col-'"]):not([class*="' ${r}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%",[`&:has(> ${i}-switch:only-child, > ${i}-rate:only-child)`]:{display:"flex",alignItems:"center"}}}},[t]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:ED,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},B3=(e,t)=>{const{formItemCls:n}=e;return{[`${t}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},qSe=e=>{const{componentCls:t,formItemCls:n,inlineItemMarginBottom:r}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:e.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,
        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},xc=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),nX=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${n} ${n}-label`]:xc(e),[`${t}:not(${t}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},zSe=e=>{const{componentCls:t,formItemCls:n,antCls:r}=e;return{[`${t}-vertical`]:{[`${n}:not(${n}-horizontal)`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,
        ${r}-col-24${n}-label,
        ${r}-col-xl-24${n}-label`]:xc(e)}},[`@media (max-width: ${Le(e.screenXSMax)})`]:[nX(e),{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:xc(e)}}}],[`@media (max-width: ${Le(e.screenSMMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:xc(e)}}},[`@media (max-width: ${Le(e.screenMDMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:xc(e)}}},[`@media (max-width: ${Le(e.screenLGMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:xc(e)}}}}},HSe=e=>{const{formItemCls:t,antCls:n}=e;return{[`${t}-vertical`]:{[`${t}-row`]:{flexDirection:"column"},[`${t}-label > label`]:{height:"auto"},[`${t}-control`]:{width:"100%"}},[`${t}-vertical ${t}-label,
      ${n}-col-24${t}-label,
      ${n}-col-xl-24${t}-label`]:xc(e),[`@media (max-width: ${Le(e.screenXSMax)})`]:[nX(e),{[t]:{[`${n}-col-xs-24${t}-label`]:xc(e)}}],[`@media (max-width: ${Le(e.screenSMMax)})`]:{[t]:{[`${n}-col-sm-24${t}-label`]:xc(e)}},[`@media (max-width: ${Le(e.screenMDMax)})`]:{[t]:{[`${n}-col-md-24${t}-label`]:xc(e)}},[`@media (max-width: ${Le(e.screenLGMax)})`]:{[t]:{[`${n}-col-lg-24${t}-label`]:xc(e)}}}},GSe=e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),rX=(e,t)=>qr(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),ij=fa("Form",(e,{rootPrefixCls:t})=>{const n=rX(e,t);return[BSe(n),FSe(n),$Se(n),B3(n,n.componentCls),B3(n,n.formItemCls),qSe(n),zSe(n),HSe(n),c_(n),ED]},GSe,{order:-1e3}),F3=[];function pN(e,t,n,r=0){return{key:typeof e=="string"?e:`${t}-${r}`,error:e,errorStatus:n}}const aX=({help:e,helpStatus:t,errors:n=F3,warnings:r=F3,className:i,fieldId:d,onVisibleChanged:g})=>{const{prefixCls:v}=E.useContext(ND),S=`${v}-item-explain`,I=xo(v),[T,_,N]=ij(v,I),A=E.useMemo(()=>r0(v),[v]),w=UM(n),O=UM(r),R=E.useMemo(()=>e!=null?[pN(e,"help",t)]:[].concat(Rt(w.map((L,U)=>pN(L,"error","error",U))),Rt(O.map((L,U)=>pN(L,"warning","warning",U)))),[e,t,w,O]),D=E.useMemo(()=>{const L={};return R.forEach(({key:U})=>{L[U]=(L[U]||0)+1}),R.map((U,$)=>Object.assign(Object.assign({},U),{key:L[U.key]>1?`${U.key}-fallback-${$}`:U.key}))},[R]),j={};return d&&(j.id=`${d}_help`),T(E.createElement(Wl,{motionDeadline:A.motionDeadline,motionName:`${v}-show-help`,visible:!!D.length,onVisibleChanged:g},L=>{const{className:U,style:$}=L;return E.createElement("div",Object.assign({},j,{className:Ue(S,U,N,I,i,_),style:$}),E.createElement(cD,Object.assign({keys:D},r0(v),{motionName:`${v}-show-help-item`,component:!1}),F=>{const{key:z,error:H,errorStatus:V,className:K,style:J}=F;return E.createElement("div",{key:z,className:Ue(K,{[`${S}-${V}`]:V}),style:J},H)}))}))};var KSe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const WSe=(e,t)=>{const n=E.useContext(Xs),{getPrefixCls:r,direction:i,requiredMark:d,colon:g,scrollToFirstError:v,className:S,style:I}=Fo("form"),{prefixCls:T,className:_,rootClassName:N,size:A,disabled:w=n,form:O,colon:R,labelAlign:D,labelWrap:j,labelCol:L,wrapperCol:U,hideRequiredMark:$,layout:F="horizontal",scrollToFirstError:z,requiredMark:H,onFinishFailed:V,name:K,style:J,feedbackIcons:te,variant:Z}=e,X=KSe(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),re=qo(A),ee=E.useContext(J9),ae=E.useMemo(()=>H!==void 0?H:$?!1:d!==void 0?d:!0,[$,H,d]),de=R??g,he=r("form",T),ue=xo(he),[ye,be,oe]=ij(he,ue),pe=Ue(he,`${he}-${F}`,{[`${he}-hide-required-mark`]:ae===!1,[`${he}-rtl`]:i==="rtl",[`${he}-${re}`]:re},oe,ue,be,S,_,N),[fe]=SY(O),{__INTERNAL__:_e}=fe;_e.name=K;const Te=E.useMemo(()=>({name:K,labelAlign:D,labelCol:L,labelWrap:j,wrapperCol:U,vertical:F==="vertical",colon:de,requiredMark:ae,itemRef:_e.itemRef,form:fe,feedbackIcons:te}),[K,D,L,U,F,de,ae,fe,te]),Se=E.useRef(null);E.useImperativeHandle(t,()=>{var ke;return Object.assign(Object.assign({},fe),{nativeElement:(ke=Se.current)===null||ke===void 0?void 0:ke.nativeElement})});const De=(ke,Oe)=>{if(ke){let Ne={block:"nearest"};typeof ke=="object"&&(Ne=Object.assign(Object.assign({},Ne),ke)),fe.scrollToField(Oe,Ne)}},je=ke=>{if(V==null||V(ke),ke.errorFields.length){const Oe=ke.errorFields[0].name;if(z!==void 0){De(z,Oe);return}v!==void 0&&De(v,Oe)}};return ye(E.createElement(gW.Provider,{value:Z},E.createElement(oK,{disabled:w},E.createElement(mg.Provider,{value:re},E.createElement(fW,{validateMessages:ee},E.createElement(Ld.Provider,{value:Te},E.createElement(My,Object.assign({id:K},X,{name:K,onFinishFailed:je,form:fe,ref:Se,style:Object.assign(Object.assign({},I),J),className:pe}))))))))},YSe=E.forwardRef(WSe);function XSe(e){if(typeof e=="function")return e;const t=ps(e);return t.length<=1?t[0]:t}const iX=()=>{const{status:e,errors:t=[],warnings:n=[]}=E.useContext($o);return{status:e,errors:t,warnings:n}};iX.Context=$o;function JSe(e){const[t,n]=E.useState(e),r=E.useRef(null),i=E.useRef([]),d=E.useRef(!1);E.useEffect(()=>(d.current=!1,()=>{d.current=!0,Fr.cancel(r.current),r.current=null}),[]);function g(v){d.current||(r.current===null&&(i.current=[],r.current=Fr(()=>{r.current=null,n(S=>{let I=S;return i.current.forEach(T=>{I=T(I)}),I})})),i.current.push(v))}return[t,g]}function QSe(){const{itemRef:e}=E.useContext(Ld),t=E.useRef({});function n(r,i){const d=i&&typeof i=="object"&&Em(i),g=r.join("_");return(t.current.name!==g||t.current.originRef!==d)&&(t.current.name=g,t.current.originRef=d,t.current.ref=Bo(e(r),d)),t.current.ref}return n}const ZSe=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}},eIe=I0(["Form","item-item"],(e,{rootPrefixCls:t})=>{const n=rX(e,t);return[ZSe(n)]});var tIe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const nIe=24,rIe=e=>{const{prefixCls:t,status:n,labelCol:r,wrapperCol:i,children:d,errors:g,warnings:v,_internalItemRender:S,extra:I,help:T,fieldId:_,marginBottom:N,onErrorVisibleChanged:A,label:w}=e,O=`${t}-item`,R=E.useContext(Ld),D=E.useMemo(()=>{let X=Object.assign({},i||R.wrapperCol||{});return w===null&&!r&&!i&&R.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(ee=>{const ae=ee?[ee]:[],de=_s(R.labelCol,ae),he=typeof de=="object"?de:{},ue=_s(X,ae),ye=typeof ue=="object"?ue:{};"span"in he&&!("offset"in ye)&&he.span<nIe&&(X=zl(X,[].concat(ae,["offset"]),he.span))}),X},[i,R]),j=Ue(`${O}-control`,D.className),L=E.useMemo(()=>{const{labelCol:X,wrapperCol:re}=R;return tIe(R,["labelCol","wrapperCol"])},[R]),U=E.useRef(null),[$,F]=E.useState(0);Hr(()=>{I&&U.current?F(U.current.clientHeight):F(0)},[I]);const z=E.createElement("div",{className:`${O}-control-input`},E.createElement("div",{className:`${O}-control-input-content`},d)),H=E.useMemo(()=>({prefixCls:t,status:n}),[t,n]),V=N!==null||g.length||v.length?E.createElement(ND.Provider,{value:H},E.createElement(aX,{fieldId:_,errors:g,warnings:v,help:T,helpStatus:n,className:`${O}-explain-connected`,onVisibleChanged:A})):null,K={};_&&(K.id=`${_}_extra`);const J=I?E.createElement("div",Object.assign({},K,{className:`${O}-extra`,ref:U}),I):null,te=V||J?E.createElement("div",{className:`${O}-additional`,style:N?{minHeight:N+$}:{}},V,J):null,Z=S&&S.mark==="pro_table_render"&&S.render?S.render(e,{input:z,errorList:V,extra:J}):E.createElement(E.Fragment,null,z,te);return E.createElement(Ld.Provider,{value:L},E.createElement(ZD,Object.assign({},D,{className:j}),Z),E.createElement(eIe,{prefixCls:t}))};var aIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},iIe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:aIe}))},oIe=E.forwardRef(iIe),sIe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const lIe=({prefixCls:e,label:t,htmlFor:n,labelCol:r,labelAlign:i,colon:d,required:g,requiredMark:v,tooltip:S,vertical:I})=>{var T;const[_]=Tm("Form"),{labelAlign:N,labelCol:A,labelWrap:w,colon:O}=E.useContext(Ld);if(!t)return null;const R=r||A||{},D=i||N,j=`${e}-item-label`,L=Ue(j,D==="left"&&`${j}-left`,R.className,{[`${j}-wrap`]:!!w});let U=t;const $=d===!0||O!==!1&&d!==!1;$&&!I&&typeof t=="string"&&t.trim()&&(U=t.replace(/[:|：]\s*$/,""));const z=VSe(S);if(z){const{icon:Z=E.createElement(oIe,null)}=z,X=sIe(z,["icon"]),re=E.createElement(Gl,Object.assign({},X),E.cloneElement(Z,{className:`${e}-item-tooltip`,title:"",onClick:ee=>{ee.preventDefault()},tabIndex:null}));U=E.createElement(E.Fragment,null,U,re)}const H=v==="optional",V=typeof v=="function",K=v===!1;V?U=v(U,{required:!!g}):H&&!g&&(U=E.createElement(E.Fragment,null,U,E.createElement("span",{className:`${e}-item-optional`,title:""},(_==null?void 0:_.optional)||((T=Tu.Form)===null||T===void 0?void 0:T.optional))));let J;K?J="hidden":(H||V)&&(J="optional");const te=Ue({[`${e}-item-required`]:g,[`${e}-item-required-mark-${J}`]:J,[`${e}-item-no-colon`]:!$});return E.createElement(ZD,Object.assign({},R,{className:L}),E.createElement("label",{htmlFor:n,className:te,title:typeof t=="string"?t:""},U))},cIe={success:a_,warning:uD,error:Cy,validating:kd};function oX({children:e,errors:t,warnings:n,hasFeedback:r,validateStatus:i,prefixCls:d,meta:g,noStyle:v,name:S}){const I=`${d}-item`,{feedbackIcons:T}=E.useContext(Ld),_=bY(t,n,g,null,!!r,i),{isFormItemInput:N,status:A,hasFeedback:w,feedbackIcon:O,name:R}=E.useContext($o),D=E.useMemo(()=>{var j;let L;if(r){const $=r!==!0&&r.icons||T,F=_&&((j=$==null?void 0:$({status:_,errors:t,warnings:n}))===null||j===void 0?void 0:j[_]),z=_&&cIe[_];L=F!==!1&&z?E.createElement("span",{className:Ue(`${I}-feedback-icon`,`${I}-feedback-icon-${_}`)},F||E.createElement(z,null)):null}const U={status:_||"",errors:t,warnings:n,hasFeedback:!!r,feedbackIcon:L,isFormItemInput:!0,name:S};return v&&(U.status=(_??A)||"",U.isFormItemInput=N,U.hasFeedback=!!(r??w),U.feedbackIcon=r!==void 0?U.feedbackIcon:O,U.name=S??R),U},[_,r,v,N,A]);return E.createElement($o.Provider,{value:D},e)}var uIe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function dIe(e){const{prefixCls:t,className:n,rootClassName:r,style:i,help:d,errors:g,warnings:v,validateStatus:S,meta:I,hasFeedback:T,hidden:_,children:N,fieldId:A,required:w,isRequired:O,onSubItemMetaChange:R,layout:D,name:j}=e,L=uIe(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout","name"]),U=`${t}-item`,{requiredMark:$,vertical:F}=E.useContext(Ld),z=F||D==="vertical",H=E.useRef(null),V=UM(g),K=UM(v),J=d!=null,te=!!(J||g.length||v.length),Z=!!H.current&&C0(H.current),[X,re]=E.useState(null);Hr(()=>{if(te&&H.current){const ue=getComputedStyle(H.current);re(parseInt(ue.marginBottom,10))}},[te,Z]);const ee=ue=>{ue||re(null)},de=((ue=!1)=>{const ye=ue?V:I.errors,be=ue?K:I.warnings;return bY(ye,be,I,"",!!T,S)})(),he=Ue(U,n,r,{[`${U}-with-help`]:J||V.length||K.length,[`${U}-has-feedback`]:de&&T,[`${U}-has-success`]:de==="success",[`${U}-has-warning`]:de==="warning",[`${U}-has-error`]:de==="error",[`${U}-is-validating`]:de==="validating",[`${U}-hidden`]:_,[`${U}-${D}`]:D});return E.createElement("div",{className:he,style:i,ref:H},E.createElement(KY,Object.assign({className:`${U}-row`},ri(L,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),E.createElement(lIe,Object.assign({htmlFor:A},e,{requiredMark:$,required:w??O,prefixCls:t,vertical:z})),E.createElement(rIe,Object.assign({},e,I,{errors:V,warnings:K,prefixCls:t,status:de,help:d,marginBottom:X,onErrorVisibleChanged:ee}),E.createElement(mW.Provider,{value:R},E.createElement(oX,{prefixCls:t,meta:I,errors:I.errors,warnings:I.warnings,hasFeedback:T,validateStatus:de,name:j},N)))),!!X&&E.createElement("div",{className:`${U}-margin-offset`,style:{marginBottom:-X}}))}const pIe="__SPLIT__";function mIe(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(i=>{const d=e[i],g=t[i];return d===g||typeof d=="function"||typeof g=="function"})}const fIe=E.memo(({children:e})=>e,(e,t)=>mIe(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((n,r)=>n===t.childProps[r]));function q3(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function gIe(e){const{name:t,noStyle:n,className:r,dependencies:i,prefixCls:d,shouldUpdate:g,rules:v,children:S,required:I,label:T,messageVariables:_,trigger:N="onChange",validateTrigger:A,hidden:w,help:O,layout:R}=e,{getPrefixCls:D}=E.useContext(rr),{name:j}=E.useContext(Ld),L=XSe(S),U=typeof L=="function",$=E.useContext(mW),{validateTrigger:F}=E.useContext(gg),z=A!==void 0?A:F,H=t!=null,V=D("form",d),K=xo(V),[J,te,Z]=ij(V,K);Cm();const X=E.useContext(o0),re=E.useRef(null),[ee,ae]=JSe({}),[de,he]=fy(()=>q3()),ue=Te=>{const Se=X==null?void 0:X.getKey(Te.name);if(he(Te.destroy?q3():Te,!0),n&&O!==!1&&$){let De=Te.name;if(Te.destroy)De=re.current||De;else if(Se!==void 0){const[je,ke]=Se;De=[je].concat(Rt(ke)),re.current=De}$(Te,De)}},ye=(Te,Se)=>{ae(De=>{const je=Object.assign({},De),Oe=[].concat(Rt(Te.name.slice(0,-1)),Rt(Se)).join(pIe);return Te.destroy?delete je[Oe]:je[Oe]=Te,je})},[be,oe]=E.useMemo(()=>{const Te=Rt(de.errors),Se=Rt(de.warnings);return Object.values(ee).forEach(De=>{Te.push.apply(Te,Rt(De.errors||[])),Se.push.apply(Se,Rt(De.warnings||[]))}),[Te,Se]},[ee,de.errors,de.warnings]),pe=QSe();function fe(Te,Se,De){return n&&!w?E.createElement(oX,{prefixCls:V,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:de,errors:be,warnings:oe,noStyle:!0,name:t},Te):E.createElement(dIe,Object.assign({key:"row"},e,{className:Ue(r,Z,K,te),prefixCls:V,fieldId:Se,isRequired:De,errors:be,warnings:oe,meta:de,onSubItemMetaChange:ye,layout:R,name:t}),Te)}if(!H&&!U&&!i)return J(fe(L));let _e={};return typeof T=="string"?_e.label=T:t&&(_e.label=String(t)),_&&(_e=Object.assign(Object.assign({},_e),_)),J(E.createElement(xD,Object.assign({},e,{messageVariables:_e,trigger:N,validateTrigger:z,onMetaChange:ue}),(Te,Se,De)=>{const je=FI(t).length&&Se?Se.name:[],ke=yY(je,j),Oe=I!==void 0?I:!!(v!=null&&v.some(Ke=>{if(Ke&&typeof Ke=="object"&&Ke.required&&!Ke.warningOnly)return!0;if(typeof Ke=="function"){const He=Ke(De);return(He==null?void 0:He.required)&&!(He!=null&&He.warningOnly)}return!1})),Ne=Object.assign({},Te);let qe=null;if(Array.isArray(L)&&H)qe=L;else if(!(U&&(!(g||i)||H))){if(!(i&&!U&&!H))if(E.isValidElement(L)){const Ke=Object.assign(Object.assign({},L.props),Ne);if(Ke.id||(Ke.id=ke),O||be.length>0||oe.length>0||e.extra){const Je=[];(O||be.length>0)&&Je.push(`${ke}_help`),e.extra&&Je.push(`${ke}_extra`),Ke["aria-describedby"]=Je.join(" ")}be.length>0&&(Ke["aria-invalid"]="true"),Oe&&(Ke["aria-required"]="true"),Oc(L)&&(Ke.ref=pe(je,L)),new Set([].concat(Rt(FI(N)),Rt(FI(z)))).forEach(Je=>{Ke[Je]=(...ut)=>{var lt,et,Ye,pt,ct;(Ye=Ne[Je])===null||Ye===void 0||(lt=Ye).call.apply(lt,[Ne].concat(ut)),(ct=(pt=L.props)[Je])===null||ct===void 0||(et=ct).call.apply(et,[pt].concat(ut))}});const nt=[Ke["aria-required"],Ke["aria-invalid"],Ke["aria-describedby"]];qe=E.createElement(fIe,{control:Ne,update:L,childProps:nt},Vo(L,Ke))}else U&&(g||i)&&!H?qe=L(De):qe=L}return fe(qe,ke,Oe)}))}const sX=gIe;sX.useStatus=iX;var hIe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const vIe=e=>{var{prefixCls:t,children:n}=e,r=hIe(e,["prefixCls","children"]);const{getPrefixCls:i}=E.useContext(rr),d=i("form",t),g=E.useMemo(()=>({prefixCls:d,status:"error"}),[d]);return E.createElement(cW,Object.assign({},r),(v,S,I)=>E.createElement(ND.Provider,{value:g},n(v.map(T=>Object.assign(Object.assign({},T),{fieldKey:T.key})),S,{errors:I.errors,warnings:I.warnings})))};function yIe(){const{form:e}=E.useContext(Ld);return e}const Ie=YSe;Ie.Item=sX;Ie.List=vIe;Ie.ErrorList=aX;Ie.useForm=SY;Ie.useFormInstance=yIe;Ie.useWatch=pW;Ie.Provider=fW;Ie.create=()=>{};var bIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},SIe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:bIe}))},lX=E.forwardRef(SIe);function z3(e,t,n,r){var i=KI.unstable_batchedUpdates?function(g){KI.unstable_batchedUpdates(n,g)}:n;return e!=null&&e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,i,r)}}}const IIe=e=>{const{getPrefixCls:t,direction:n}=E.useContext(rr),{prefixCls:r,className:i}=e,d=t("input-group",r),g=t("input"),[v,S,I]=kY(g),T=Ue(d,I,{[`${d}-lg`]:e.size==="large",[`${d}-sm`]:e.size==="small",[`${d}-compact`]:e.compact,[`${d}-rtl`]:n==="rtl"},S,i),_=E.useContext($o),N=E.useMemo(()=>Object.assign(Object.assign({},_),{isFormItemInput:!1}),[_]);return v(E.createElement("span",{className:T,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},E.createElement($o.Provider,{value:N},e.children)))},EIe=e=>{const{componentCls:t,paddingXS:n}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,[`${t}-input-wrapper`]:{position:"relative",[`${t}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${t}-mask-input`]:{color:"transparent",caretColor:"var(--ant-color-text)"},[`${t}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${t}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}},CIe=fa(["Input","OTP"],e=>{const t=qr(e,Ry(e));return[EIe(t)]},Ay);var TIe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const MIe=E.forwardRef((e,t)=>{const{className:n,value:r,onChange:i,onActiveChange:d,index:g,mask:v}=e,S=TIe(e,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:I}=E.useContext(rr),T=I("otp"),_=typeof v=="string"?v:r,N=E.useRef(null);E.useImperativeHandle(t,()=>N.current);const A=D=>{i(g,D.target.value)},w=()=>{Fr(()=>{var D;const j=(D=N.current)===null||D===void 0?void 0:D.input;document.activeElement===j&&j&&j.select()})},O=D=>{const{key:j,ctrlKey:L,metaKey:U}=D;j==="ArrowLeft"?d(g-1):j==="ArrowRight"?d(g+1):j==="z"&&(L||U)&&D.preventDefault(),w()},R=D=>{D.key==="Backspace"&&!r&&d(g-1),w()};return E.createElement("span",{className:`${T}-input-wrapper`,role:"presentation"},v&&r!==""&&r!==void 0&&E.createElement("span",{className:`${T}-mask-icon`,"aria-hidden":"true"},_),E.createElement(O0,Object.assign({"aria-label":`OTP Input ${g+1}`,type:v===!0?"password":"text"},S,{ref:N,value:r,onInput:A,onFocus:w,onKeyDown:O,onKeyUp:R,onMouseDown:w,onMouseUp:w,className:Ue(n,{[`${T}-mask-input`]:v})})))});var _Ie=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function pT(e){return(e||"").split("")}const xIe=e=>{const{index:t,prefixCls:n,separator:r}=e,i=typeof r=="function"?r(t):r;return i?E.createElement("span",{className:`${n}-separator`},i):null},wIe=E.forwardRef((e,t)=>{const{prefixCls:n,length:r=6,size:i,defaultValue:d,value:g,onChange:v,formatter:S,separator:I,variant:T,disabled:_,status:N,autoFocus:A,mask:w,type:O,onInput:R,inputMode:D}=e,j=_Ie(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:L,direction:U}=E.useContext(rr),$=L("otp",n),F=ws(j,{aria:!0,data:!0,attr:!0}),[z,H,V]=CIe($),K=qo(pe=>i??pe),J=E.useContext($o),te=x0(J.status,N),Z=E.useMemo(()=>Object.assign(Object.assign({},J),{status:te,hasFeedback:!1,feedbackIcon:null}),[J,te]),X=E.useRef(null),re=E.useRef({});E.useImperativeHandle(t,()=>({focus:()=>{var pe;(pe=re.current[0])===null||pe===void 0||pe.focus()},blur:()=>{var pe;for(let fe=0;fe<r;fe+=1)(pe=re.current[fe])===null||pe===void 0||pe.blur()},nativeElement:X.current}));const ee=pe=>S?S(pe):pe,[ae,de]=E.useState(()=>pT(ee(d||"")));E.useEffect(()=>{g!==void 0&&de(pT(g))},[g]);const he=xa(pe=>{de(pe),R&&R(pe),v&&pe.length===r&&pe.every(fe=>fe)&&pe.some((fe,_e)=>ae[_e]!==fe)&&v(pe.join(""))}),ue=xa((pe,fe)=>{let _e=Rt(ae);for(let Se=0;Se<pe;Se+=1)_e[Se]||(_e[Se]="");fe.length<=1?_e[pe]=fe:_e=_e.slice(0,pe).concat(pT(fe)),_e=_e.slice(0,r);for(let Se=_e.length-1;Se>=0&&!_e[Se];Se-=1)_e.pop();const Te=ee(_e.map(Se=>Se||" ").join(""));return _e=pT(Te).map((Se,De)=>Se===" "&&!_e[De]?_e[De]:Se),_e}),ye=(pe,fe)=>{var _e;const Te=ue(pe,fe),Se=Math.min(pe+fe.length,r-1);Se!==pe&&Te[pe]!==void 0&&((_e=re.current[Se])===null||_e===void 0||_e.focus()),he(Te)},be=pe=>{var fe;(fe=re.current[pe])===null||fe===void 0||fe.focus()},oe={variant:T,disabled:_,status:te,mask:w,type:O,inputMode:D};return z(E.createElement("div",Object.assign({},F,{ref:X,className:Ue($,{[`${$}-sm`]:K==="small",[`${$}-lg`]:K==="large",[`${$}-rtl`]:U==="rtl"},V,H),role:"group"}),E.createElement($o.Provider,{value:Z},Array.from({length:r}).map((pe,fe)=>{const _e=`otp-${fe}`,Te=ae[fe]||"";return E.createElement(E.Fragment,{key:_e},E.createElement(MIe,Object.assign({ref:Se=>{re.current[fe]=Se},index:fe,size:K,htmlSize:1,className:`${$}-input`,onChange:ye,value:Te,onActiveChange:be,autoFocus:fe===0&&A},oe)),fe<r-1&&E.createElement(xIe,{separator:I,index:fe,prefixCls:$}))}))))});var cX={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},NIe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:cX}))},RIe=E.forwardRef(NIe),AIe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const OIe=e=>e?E.createElement(lX,null):E.createElement(RIe,null),kIe={click:"onClick",hover:"onMouseOver"},LIe=E.forwardRef((e,t)=>{const{disabled:n,action:r="click",visibilityToggle:i=!0,iconRender:d=OIe}=e,g=E.useContext(Xs),v=n??g,S=typeof i=="object"&&i.visible!==void 0,[I,T]=E.useState(()=>S?i.visible:!1),_=E.useRef(null);E.useEffect(()=>{S&&T(i.visible)},[S,i]);const N=ZY(_),A=()=>{var K;if(v)return;I&&N();const J=!I;T(J),typeof i=="object"&&((K=i.onVisibleChange)===null||K===void 0||K.call(i,J))},w=K=>{const J=kIe[r]||"",te=d(I),Z={[J]:A,className:`${K}-icon`,key:"passwordIcon",onMouseDown:X=>{X.preventDefault()},onMouseUp:X=>{X.preventDefault()}};return E.cloneElement(E.isValidElement(te)?te:E.createElement("span",null,te),Z)},{className:O,prefixCls:R,inputPrefixCls:D,size:j}=e,L=AIe(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:U}=E.useContext(rr),$=U("input",D),F=U("input-password",R),z=i&&w(F),H=Ue(F,O,{[`${F}-${j}`]:!!j}),V=Object.assign(Object.assign({},ri(L,["suffix","iconRender","visibilityToggle"])),{type:I?"text":"password",className:H,prefixCls:$,suffix:z});return j&&(V.size=j),E.createElement(O0,Object.assign({ref:Bo(t,_)},V))});var PIe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const DIe=E.forwardRef((e,t)=>{const{prefixCls:n,inputPrefixCls:r,className:i,size:d,suffix:g,enterButton:v=!1,addonAfter:S,loading:I,disabled:T,onSearch:_,onChange:N,onCompositionStart:A,onCompositionEnd:w,variant:O,onPressEnter:R}=e,D=PIe(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd","variant","onPressEnter"]),{getPrefixCls:j,direction:L}=E.useContext(rr),U=E.useRef(!1),$=j("input-search",n),F=j("input",r),{compactSize:z}=Ig($,L),H=qo(oe=>{var pe;return(pe=d??z)!==null&&pe!==void 0?pe:oe}),V=E.useRef(null),K=oe=>{oe!=null&&oe.target&&oe.type==="click"&&_&&_(oe.target.value,oe,{source:"clear"}),N==null||N(oe)},J=oe=>{var pe;document.activeElement===((pe=V.current)===null||pe===void 0?void 0:pe.input)&&oe.preventDefault()},te=oe=>{var pe,fe;_&&_((fe=(pe=V.current)===null||pe===void 0?void 0:pe.input)===null||fe===void 0?void 0:fe.value,oe,{source:"input"})},Z=oe=>{U.current||I||(R==null||R(oe),te(oe))},X=typeof v=="boolean"?E.createElement(jD,null):null,re=`${$}-button`;let ee;const ae=v||{},de=ae.type&&ae.type.__ANT_BUTTON===!0;de||ae.type==="button"?ee=Vo(ae,Object.assign({onMouseDown:J,onClick:oe=>{var pe,fe;(fe=(pe=ae==null?void 0:ae.props)===null||pe===void 0?void 0:pe.onClick)===null||fe===void 0||fe.call(pe,oe),te(oe)},key:"enterButton"},de?{className:re,size:H}:{})):ee=E.createElement(Ze,{className:re,color:v?"primary":"default",size:H,disabled:T,key:"enterButton",onMouseDown:J,onClick:te,loading:I,icon:X,variant:O==="borderless"||O==="filled"||O==="underlined"?"text":v?"solid":void 0},v),S&&(ee=[ee,Vo(S,{key:"addonAfter"})]);const he=Ue($,{[`${$}-rtl`]:L==="rtl",[`${$}-${H}`]:!!H,[`${$}-with-button`]:!!v},i),ue=oe=>{U.current=!0,A==null||A(oe)},ye=oe=>{U.current=!1,w==null||w(oe)},be=Object.assign(Object.assign({},D),{className:he,prefixCls:F,type:"search",size:H,variant:O,onPressEnter:Z,onCompositionStart:ue,onCompositionEnd:ye,addonAfter:ee,suffix:g,onChange:K,disabled:T});return E.createElement(O0,Object.assign({ref:Bo(V,t)},be))});var jIe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,VIe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],mN={},pl;function $Ie(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&mN[n])return mN[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),d=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),g=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),v=VIe.map(function(I){return"".concat(I,":").concat(r.getPropertyValue(I))}).join(";"),S={sizingStyle:v,paddingSize:d,borderSize:g,boxSizing:i};return t&&n&&(mN[n]=S),S}function UIe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;pl||(pl=document.createElement("textarea"),pl.setAttribute("tab-index","-1"),pl.setAttribute("aria-hidden","true"),pl.setAttribute("name","hiddenTextarea"),document.body.appendChild(pl)),e.getAttribute("wrap")?pl.setAttribute("wrap",e.getAttribute("wrap")):pl.removeAttribute("wrap");var i=$Ie(e,t),d=i.paddingSize,g=i.borderSize,v=i.boxSizing,S=i.sizingStyle;pl.setAttribute("style","".concat(S,";").concat(jIe)),pl.value=e.value||e.placeholder||"";var I=void 0,T=void 0,_,N=pl.scrollHeight;if(v==="border-box"?N+=g:v==="content-box"&&(N-=d),n!==null||r!==null){pl.value=" ";var A=pl.scrollHeight-d;n!==null&&(I=A*n,v==="border-box"&&(I=I+d+g),N=Math.max(I,N)),r!==null&&(T=A*r,v==="border-box"&&(T=T+d+g),_=N>T?"":"hidden",N=Math.min(T,N))}var w={height:N,overflowY:_,resize:"none"};return I&&(w.minHeight=I),T&&(w.maxHeight=T),w}var BIe=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],fN=0,gN=1,hN=2,FIe=E.forwardRef(function(e,t){var n=e,r=n.prefixCls,i=n.defaultValue,d=n.value,g=n.autoSize,v=n.onResize,S=n.className,I=n.style,T=n.disabled,_=n.onChange;n.onInternalAutoSize;var N=ir(n,BIe),A=Si(i,{value:d,postState:function(pe){return pe??""}}),w=at(A,2),O=w[0],R=w[1],D=function(pe){R(pe.target.value),_==null||_(pe)},j=E.useRef();E.useImperativeHandle(t,function(){return{textArea:j.current}});var L=E.useMemo(function(){return g&&qn(g)==="object"?[g.minRows,g.maxRows]:[]},[g]),U=at(L,2),$=U[0],F=U[1],z=!!g,H=function(){try{if(document.activeElement===j.current){var pe=j.current,fe=pe.selectionStart,_e=pe.selectionEnd,Te=pe.scrollTop;j.current.setSelectionRange(fe,_e),j.current.scrollTop=Te}}catch{}},V=E.useState(hN),K=at(V,2),J=K[0],te=K[1],Z=E.useState(),X=at(Z,2),re=X[0],ee=X[1],ae=function(){te(fN)};Hr(function(){z&&ae()},[d,$,F,z]),Hr(function(){if(J===fN)te(gN);else if(J===gN){var oe=UIe(j.current,!1,$,F);te(hN),ee(oe)}else H()},[J]);var de=E.useRef(),he=function(){Fr.cancel(de.current)},ue=function(pe){J===hN&&(v==null||v(pe),g&&(he(),de.current=Fr(function(){ae()})))};E.useEffect(function(){return he},[]);var ye=z?re:null,be=Pe(Pe({},I),ye);return(J===fN||J===gN)&&(be.overflowY="hidden",be.overflowX="hidden"),E.createElement(Do,{onResize:ue,disabled:!(g||v)},E.createElement("textarea",kt({},N,{ref:j,style:be,className:Ue(r,S,Ce({},"".concat(r,"-disabled"),T)),disabled:T,value:O,onChange:D})))}),qIe=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],zIe=Xe.forwardRef(function(e,t){var n,r=e.defaultValue,i=e.value,d=e.onFocus,g=e.onBlur,v=e.onChange,S=e.allowClear,I=e.maxLength,T=e.onCompositionStart,_=e.onCompositionEnd,N=e.suffix,A=e.prefixCls,w=A===void 0?"rc-textarea":A,O=e.showCount,R=e.count,D=e.className,j=e.style,L=e.disabled,U=e.hidden,$=e.classNames,F=e.styles,z=e.onResize,H=e.onClear,V=e.onPressEnter,K=e.readOnly,J=e.autoSize,te=e.onKeyDown,Z=ir(e,qIe),X=Si(r,{value:i,defaultValue:r}),re=at(X,2),ee=re[0],ae=re[1],de=ee==null?"":String(ee),he=Xe.useState(!1),ue=at(he,2),ye=ue[0],be=ue[1],oe=Xe.useRef(!1),pe=Xe.useState(null),fe=at(pe,2),_e=fe[0],Te=fe[1],Se=E.useRef(null),De=E.useRef(null),je=function(){var vt;return(vt=De.current)===null||vt===void 0?void 0:vt.textArea},ke=function(){je().focus()};E.useImperativeHandle(t,function(){var qt;return{resizableTextArea:De.current,focus:ke,blur:function(){je().blur()},nativeElement:((qt=Se.current)===null||qt===void 0?void 0:qt.nativeElement)||je()}}),E.useEffect(function(){be(function(qt){return!L&&qt})},[L]);var Oe=Xe.useState(null),Ne=at(Oe,2),qe=Ne[0],Ke=Ne[1];Xe.useEffect(function(){if(qe){var qt;(qt=je()).setSelectionRange.apply(qt,Rt(qe))}},[qe]);var He=XY(R,O),nt=(n=He.max)!==null&&n!==void 0?n:I,Je=Number(nt)>0,ut=He.strategy(de),lt=!!nt&&ut>nt,et=function(vt,bt){var yt=bt;!oe.current&&He.exceedFormatter&&He.max&&He.strategy(bt)>He.max&&(yt=He.exceedFormatter(bt,{max:He.max}),bt!==yt&&Ke([je().selectionStart||0,je().selectionEnd||0])),ae(yt),$M(vt.currentTarget,vt,v,yt)},Ye=function(vt){oe.current=!0,T==null||T(vt)},pt=function(vt){oe.current=!1,et(vt,vt.currentTarget.value),_==null||_(vt)},ct=function(vt){et(vt,vt.target.value)},xt=function(vt){vt.key==="Enter"&&V&&V(vt),te==null||te(vt)},jt=function(vt){be(!0),d==null||d(vt)},Ut=function(vt){be(!1),g==null||g(vt)},Vt=function(vt){ae(""),ke(),$M(je(),vt,v)},wt=N,Bt;He.show&&(He.showFormatter?Bt=He.showFormatter({value:de,count:ut,maxLength:nt}):Bt="".concat(ut).concat(Je?" / ".concat(nt):""),wt=Xe.createElement(Xe.Fragment,null,wt,Xe.createElement("span",{className:Ue("".concat(w,"-data-count"),$==null?void 0:$.count),style:F==null?void 0:F.count},Bt)));var Pt=function(vt){var bt;z==null||z(vt),(bt=je())!==null&&bt!==void 0&&bt.style.height&&Te(!0)},ot=!J&&!O&&!S;return Xe.createElement(rj,{ref:Se,value:de,allowClear:S,handleReset:Vt,suffix:wt,prefixCls:w,classNames:Pe(Pe({},$),{},{affixWrapper:Ue($==null?void 0:$.affixWrapper,Ce(Ce({},"".concat(w,"-show-count"),O),"".concat(w,"-textarea-allow-clear"),S))}),disabled:L,focused:ye,className:Ue(D,lt&&"".concat(w,"-out-of-range")),style:Pe(Pe({},j),_e&&!ot?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof Bt=="string"?Bt:void 0}},hidden:U,readOnly:K,onClear:H},Xe.createElement(FIe,kt({},Z,{autoSize:J,maxLength:I,onKeyDown:xt,onChange:ct,onFocus:jt,onBlur:Ut,onCompositionStart:Ye,onCompositionEnd:pt,className:Ue($==null?void 0:$.textarea),style:Pe(Pe({},F==null?void 0:F.textarea),{},{resize:j==null?void 0:j.resize}),disabled:L,prefixCls:w,onResize:Pt,ref:De,readOnly:K})))});const HIe=e=>{const{componentCls:t,paddingLG:n}=e,r=`${t}-textarea`;return{[`textarea${t}`]:{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}`,resize:"vertical",[`&${t}-mouse-active`]:{transition:`all ${e.motionDurationSlow}, height 0s, width 0s`}},[`${t}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[r]:{position:"relative","&-show-count":{[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${t},
        &-affix-wrapper${r}-has-feedback ${t}
      `]:{paddingInlineEnd:n},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-rtl`]:{[`${t}-suffix`]:{[`${t}-data-count`]:{direction:"ltr",insetInlineStart:0}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}},GIe=fa(["Input","TextArea"],e=>{const t=qr(e,Ry(e));return[HIe(t)]},Ay,{resetFont:!1});var KIe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const uX=E.forwardRef((e,t)=>{var n;const{prefixCls:r,bordered:i=!0,size:d,disabled:g,status:v,allowClear:S,classNames:I,rootClassName:T,className:_,style:N,styles:A,variant:w,showCount:O,onMouseDown:R,onResize:D}=e,j=KIe(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]),{getPrefixCls:L,direction:U,allowClear:$,autoComplete:F,className:z,style:H,classNames:V,styles:K}=Fo("textArea"),J=E.useContext(Xs),te=g??J,{status:Z,hasFeedback:X,feedbackIcon:re}=E.useContext($o),ee=x0(Z,v),ae=E.useRef(null);E.useImperativeHandle(t,()=>{var He;return{resizableTextArea:(He=ae.current)===null||He===void 0?void 0:He.resizableTextArea,focus:nt=>{var Je,ut;nj((ut=(Je=ae.current)===null||Je===void 0?void 0:Je.resizableTextArea)===null||ut===void 0?void 0:ut.textArea,nt)},blur:()=>{var nt;return(nt=ae.current)===null||nt===void 0?void 0:nt.blur()}}});const de=L("input",r),he=xo(de),[ue,ye,be]=OY(de,T),[oe]=GIe(de,he),{compactSize:pe,compactItemClassnames:fe}=Ig(de,U),_e=qo(He=>{var nt;return(nt=d??pe)!==null&&nt!==void 0?nt:He}),[Te,Se]=w0("textArea",w,i),De=QY(S??$),[je,ke]=E.useState(!1),[Oe,Ne]=E.useState(!1),qe=He=>{ke(!0),R==null||R(He);const nt=()=>{ke(!1),document.removeEventListener("mouseup",nt)};document.addEventListener("mouseup",nt)},Ke=He=>{var nt,Je;if(D==null||D(He),je&&typeof getComputedStyle=="function"){const ut=(Je=(nt=ae.current)===null||nt===void 0?void 0:nt.nativeElement)===null||Je===void 0?void 0:Je.querySelector("textarea");ut&&getComputedStyle(ut).resize==="both"&&Ne(!0)}};return ue(oe(E.createElement(zIe,Object.assign({autoComplete:F},j,{style:Object.assign(Object.assign({},H),N),styles:Object.assign(Object.assign({},K),A),disabled:te,allowClear:De,className:Ue(be,he,_,T,fe,z,Oe&&`${de}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},I),V),{textarea:Ue({[`${de}-sm`]:_e==="small",[`${de}-lg`]:_e==="large"},ye,I==null?void 0:I.textarea,V.textarea,je&&`${de}-mouse-active`),variant:Ue({[`${de}-${Te}`]:Se},hy(de,ee)),affixWrapper:Ue(`${de}-textarea-affix-wrapper`,{[`${de}-affix-wrapper-rtl`]:U==="rtl",[`${de}-affix-wrapper-sm`]:_e==="small",[`${de}-affix-wrapper-lg`]:_e==="large",[`${de}-textarea-show-count`]:O||((n=e.count)===null||n===void 0?void 0:n.show)},ye)}),prefixCls:de,suffix:X&&E.createElement("span",{className:`${de}-textarea-suffix`},re),showCount:O,ref:ae,onResize:Ke,onMouseDown:qe}))))}),yn=O0;yn.Group=IIe;yn.Search=DIe;yn.TextArea=uX;yn.Password=LIe;yn.OTP=wIe;function WIe(e,t,n){return typeof n=="boolean"?n:e.length?!0:ps(t).some(i=>i.type===lY)}var dX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function O_({suffixCls:e,tagName:t,displayName:n}){return r=>E.forwardRef((d,g)=>E.createElement(r,Object.assign({ref:g,suffixCls:e,tagName:t},d)))}const oj=E.forwardRef((e,t)=>{const{prefixCls:n,suffixCls:r,className:i,tagName:d}=e,g=dX(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:v}=E.useContext(rr),S=v("layout",n),[I,T,_]=sY(S),N=r?`${S}-${r}`:S;return I(E.createElement(d,Object.assign({className:Ue(n||N,i,T,_),ref:t},g)))}),YIe=E.forwardRef((e,t)=>{const{direction:n}=E.useContext(rr),[r,i]=E.useState([]),{prefixCls:d,className:g,rootClassName:v,children:S,hasSider:I,tagName:T,style:_}=e,N=dX(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),A=ri(N,["suffixCls"]),{getPrefixCls:w,className:O,style:R}=Fo("layout"),D=w("layout",d),j=WIe(r,S,I),[L,U,$]=sY(D),F=Ue(D,{[`${D}-has-sider`]:j,[`${D}-rtl`]:n==="rtl"},O,g,v,U,$),z=E.useMemo(()=>({siderHook:{addSider:H=>{i(V=>[].concat(Rt(V),[H]))},removeSider:H=>{i(V=>V.filter(K=>K!==H))}}}),[]);return L(E.createElement(aY.Provider,{value:z},E.createElement(T,Object.assign({ref:t,className:F,style:Object.assign(Object.assign({},R),_)},A),S)))}),XIe=O_({tagName:"div",displayName:"Layout"})(YIe),JIe=O_({suffixCls:"header",tagName:"header",displayName:"Header"})(oj),QIe=O_({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(oj),ZIe=O_({suffixCls:"content",tagName:"main",displayName:"Content"})(oj),hl=XIe;hl.Header=JIe;hl.Footer=QIe;hl.Content=ZIe;hl.Sider=lY;hl._InternalSiderContext=x_;var e0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},t0e=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:e0e}))},H3=E.forwardRef(t0e),n0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},r0e=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:n0e}))},G3=E.forwardRef(r0e),a0e={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"},i0e=[10,20,50,100],o0e=function(t){var n=t.pageSizeOptions,r=n===void 0?i0e:n,i=t.locale,d=t.changeSize,g=t.pageSize,v=t.goButton,S=t.quickGo,I=t.rootPrefixCls,T=t.disabled,_=t.buildOptionText,N=t.showSizeChanger,A=t.sizeChangerRender,w=Xe.useState(""),O=at(w,2),R=O[0],D=O[1],j=function(){return!R||Number.isNaN(R)?void 0:Number(R)},L=typeof _=="function"?_:function(te){return"".concat(te," ").concat(i.items_per_page)},U=function(Z){D(Z.target.value)},$=function(Z){v||R===""||(D(""),!(Z.relatedTarget&&(Z.relatedTarget.className.indexOf("".concat(I,"-item-link"))>=0||Z.relatedTarget.className.indexOf("".concat(I,"-item"))>=0))&&(S==null||S(j())))},F=function(Z){R!==""&&(Z.keyCode===Vn.ENTER||Z.type==="click")&&(D(""),S==null||S(j()))},z=function(){return r.some(function(Z){return Z.toString()===g.toString()})?r:r.concat([g]).sort(function(Z,X){var re=Number.isNaN(Number(Z))?0:Number(Z),ee=Number.isNaN(Number(X))?0:Number(X);return re-ee})},H="".concat(I,"-options");if(!N&&!S)return null;var V=null,K=null,J=null;return N&&A&&(V=A({disabled:T,size:g,onSizeChange:function(Z){d==null||d(Number(Z))},"aria-label":i.page_size,className:"".concat(H,"-size-changer"),options:z().map(function(te){return{label:L(te),value:te}})})),S&&(v&&(J=typeof v=="boolean"?Xe.createElement("button",{type:"button",onClick:F,onKeyUp:F,disabled:T,className:"".concat(H,"-quick-jumper-button")},i.jump_to_confirm):Xe.createElement("span",{onClick:F,onKeyUp:F},v)),K=Xe.createElement("div",{className:"".concat(H,"-quick-jumper")},i.jump_to,Xe.createElement("input",{disabled:T,type:"text",value:R,onChange:U,onKeyUp:F,onBlur:$,"aria-label":i.page}),i.page,J)),Xe.createElement("li",{className:H},V,K)},yI=function(t){var n=t.rootPrefixCls,r=t.page,i=t.active,d=t.className,g=t.showTitle,v=t.onClick,S=t.onKeyPress,I=t.itemRender,T="".concat(n,"-item"),_=Ue(T,"".concat(T,"-").concat(r),Ce(Ce({},"".concat(T,"-active"),i),"".concat(T,"-disabled"),!r),d),N=function(){v(r)},A=function(R){S(R,v,r)},w=I(r,"page",Xe.createElement("a",{rel:"nofollow"},r));return w?Xe.createElement("li",{title:g?String(r):null,className:_,onClick:N,onKeyDown:A,tabIndex:0},w):null},s0e=function(t,n,r){return r};function K3(){}function W3(e){var t=Number(e);return typeof t=="number"&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function Zf(e,t,n){var r=typeof e>"u"?t:e;return Math.floor((n-1)/r)+1}var l0e=function(t){var n=t.prefixCls,r=n===void 0?"rc-pagination":n,i=t.selectPrefixCls,d=i===void 0?"rc-select":i,g=t.className,v=t.current,S=t.defaultCurrent,I=S===void 0?1:S,T=t.total,_=T===void 0?0:T,N=t.pageSize,A=t.defaultPageSize,w=A===void 0?10:A,O=t.onChange,R=O===void 0?K3:O,D=t.hideOnSinglePage,j=t.align,L=t.showPrevNextJumpers,U=L===void 0?!0:L,$=t.showQuickJumper,F=t.showLessItems,z=t.showTitle,H=z===void 0?!0:z,V=t.onShowSizeChange,K=V===void 0?K3:V,J=t.locale,te=J===void 0?a0e:J,Z=t.style,X=t.totalBoundaryShowSizeChanger,re=X===void 0?50:X,ee=t.disabled,ae=t.simple,de=t.showTotal,he=t.showSizeChanger,ue=he===void 0?_>re:he,ye=t.sizeChangerRender,be=t.pageSizeOptions,oe=t.itemRender,pe=oe===void 0?s0e:oe,fe=t.jumpPrevIcon,_e=t.jumpNextIcon,Te=t.prevIcon,Se=t.nextIcon,De=Xe.useRef(null),je=Si(10,{value:N,defaultValue:w}),ke=at(je,2),Oe=ke[0],Ne=ke[1],qe=Si(1,{value:v,defaultValue:I,postState:function(Xn){return Math.max(1,Math.min(Xn,Zf(void 0,Oe,_)))}}),Ke=at(qe,2),He=Ke[0],nt=Ke[1],Je=Xe.useState(He),ut=at(Je,2),lt=ut[0],et=ut[1];E.useEffect(function(){et(He)},[He]);var Ye=Math.max(1,He-(F?3:5)),pt=Math.min(Zf(void 0,Oe,_),He+(F?3:5));function ct(Yn,Xn){var vr=Yn||Xe.createElement("button",{type:"button","aria-label":Xn,className:"".concat(r,"-item-link")});return typeof Yn=="function"&&(vr=Xe.createElement(Yn,Pe({},t))),vr}function xt(Yn){var Xn=Yn.target.value,vr=Zf(void 0,Oe,_),Jr;return Xn===""?Jr=Xn:Number.isNaN(Number(Xn))?Jr=lt:Xn>=vr?Jr=vr:Jr=Number(Xn),Jr}function jt(Yn){return W3(Yn)&&Yn!==He&&W3(_)&&_>0}var Ut=_>Oe?$:!1;function Vt(Yn){(Yn.keyCode===Vn.UP||Yn.keyCode===Vn.DOWN)&&Yn.preventDefault()}function wt(Yn){var Xn=xt(Yn);switch(Xn!==lt&&et(Xn),Yn.keyCode){case Vn.ENTER:ot(Xn);break;case Vn.UP:ot(Xn-1);break;case Vn.DOWN:ot(Xn+1);break}}function Bt(Yn){ot(xt(Yn))}function Pt(Yn){var Xn=Zf(Yn,Oe,_),vr=He>Xn&&Xn!==0?Xn:He;Ne(Yn),et(vr),K==null||K(He,Yn),nt(vr),R==null||R(vr,Yn)}function ot(Yn){if(jt(Yn)&&!ee){var Xn=Zf(void 0,Oe,_),vr=Yn;return Yn>Xn?vr=Xn:Yn<1&&(vr=1),vr!==lt&&et(vr),nt(vr),R==null||R(vr,Oe),vr}return He}var qt=He>1,vt=He<Zf(void 0,Oe,_);function bt(){qt&&ot(He-1)}function yt(){vt&&ot(He+1)}function gt(){ot(Ye)}function Jt(){ot(pt)}function bn(Yn,Xn){if(Yn.key==="Enter"||Yn.charCode===Vn.ENTER||Yn.keyCode===Vn.ENTER){for(var vr=arguments.length,Jr=new Array(vr>2?vr-2:0),sa=2;sa<vr;sa++)Jr[sa-2]=arguments[sa];Xn.apply(void 0,Jr)}}function Qn(Yn){bn(Yn,bt)}function Dn(Yn){bn(Yn,yt)}function tn(Yn){bn(Yn,gt)}function _n(Yn){bn(Yn,Jt)}function Fn(Yn){var Xn=pe(Yn,"prev",ct(Te,"prev page"));return Xe.isValidElement(Xn)?Xe.cloneElement(Xn,{disabled:!qt}):Xn}function Wt(Yn){var Xn=pe(Yn,"next",ct(Se,"next page"));return Xe.isValidElement(Xn)?Xe.cloneElement(Xn,{disabled:!vt}):Xn}function xn(Yn){(Yn.type==="click"||Yn.keyCode===Vn.ENTER)&&ot(lt)}var En=null,Sn=ws(t,{aria:!0,data:!0}),Qt=de&&Xe.createElement("li",{className:"".concat(r,"-total-text")},de(_,[_===0?0:(He-1)*Oe+1,He*Oe>_?_:He*Oe])),Rn=null,fn=Zf(void 0,Oe,_);if(D&&_<=Oe)return null;var Gt=[],Xt={rootPrefixCls:r,onClick:ot,onKeyPress:bn,showTitle:H,itemRender:pe,page:-1},$n=He-1>0?He-1:0,Un=He+1<fn?He+1:fn,jn=$&&$.goButton,Zn=qn(ae)==="object"?ae.readOnly:!ae,An=jn,On=null;ae&&(jn&&(typeof jn=="boolean"?An=Xe.createElement("button",{type:"button",onClick:xn,onKeyUp:xn},te.jump_to_confirm):An=Xe.createElement("span",{onClick:xn,onKeyUp:xn},jn),An=Xe.createElement("li",{title:H?"".concat(te.jump_to).concat(He,"/").concat(fn):null,className:"".concat(r,"-simple-pager")},An)),On=Xe.createElement("li",{title:H?"".concat(He,"/").concat(fn):null,className:"".concat(r,"-simple-pager")},Zn?lt:Xe.createElement("input",{type:"text","aria-label":te.jump_to,value:lt,disabled:ee,onKeyDown:Vt,onKeyUp:wt,onChange:wt,onBlur:Bt,size:3}),Xe.createElement("span",{className:"".concat(r,"-slash")},"/"),fn));var sn=F?1:2;if(fn<=3+sn*2){fn||Gt.push(Xe.createElement(yI,kt({},Xt,{key:"noPager",page:1,className:"".concat(r,"-item-disabled")})));for(var tr=1;tr<=fn;tr+=1)Gt.push(Xe.createElement(yI,kt({},Xt,{key:tr,page:tr,active:He===tr})))}else{var wr=F?te.prev_3:te.prev_5,Ar=F?te.next_3:te.next_5,nn=pe(Ye,"jump-prev",ct(fe,"prev page")),jr=pe(pt,"jump-next",ct(_e,"next page"));U&&(En=nn?Xe.createElement("li",{title:H?wr:null,key:"prev",onClick:gt,tabIndex:0,onKeyDown:tn,className:Ue("".concat(r,"-jump-prev"),Ce({},"".concat(r,"-jump-prev-custom-icon"),!!fe))},nn):null,Rn=jr?Xe.createElement("li",{title:H?Ar:null,key:"next",onClick:Jt,tabIndex:0,onKeyDown:_n,className:Ue("".concat(r,"-jump-next"),Ce({},"".concat(r,"-jump-next-custom-icon"),!!_e))},jr):null);var Ur=Math.max(1,He-sn),Pr=Math.min(He+sn,fn);He-1<=sn&&(Pr=1+sn*2),fn-He<=sn&&(Ur=fn-sn*2);for(var gn=Ur;gn<=Pr;gn+=1)Gt.push(Xe.createElement(yI,kt({},Xt,{key:gn,page:gn,active:He===gn})));if(He-1>=sn*2&&He!==3&&(Gt[0]=Xe.cloneElement(Gt[0],{className:Ue("".concat(r,"-item-after-jump-prev"),Gt[0].props.className)}),Gt.unshift(En)),fn-He>=sn*2&&He!==fn-2){var Pn=Gt[Gt.length-1];Gt[Gt.length-1]=Xe.cloneElement(Pn,{className:Ue("".concat(r,"-item-before-jump-next"),Pn.props.className)}),Gt.push(Rn)}Ur!==1&&Gt.unshift(Xe.createElement(yI,kt({},Xt,{key:1,page:1}))),Pr!==fn&&Gt.push(Xe.createElement(yI,kt({},Xt,{key:fn,page:fn})))}var Cn=Fn($n);if(Cn){var en=!qt||!fn;Cn=Xe.createElement("li",{title:H?te.prev_page:null,onClick:bt,tabIndex:en?null:0,onKeyDown:Qn,className:Ue("".concat(r,"-prev"),Ce({},"".concat(r,"-disabled"),en)),"aria-disabled":en},Cn)}var kn=Wt(Un);if(kn){var Cr,Xr;ae?(Cr=!vt,Xr=qt?0:null):(Cr=!vt||!fn,Xr=Cr?null:0),kn=Xe.createElement("li",{title:H?te.next_page:null,onClick:yt,tabIndex:Xr,onKeyDown:Dn,className:Ue("".concat(r,"-next"),Ce({},"".concat(r,"-disabled"),Cr)),"aria-disabled":Cr},kn)}var Lt=Ue(r,g,Ce(Ce(Ce(Ce(Ce({},"".concat(r,"-start"),j==="start"),"".concat(r,"-center"),j==="center"),"".concat(r,"-end"),j==="end"),"".concat(r,"-simple"),ae),"".concat(r,"-disabled"),ee));return Xe.createElement("ul",kt({className:Lt,style:Z,ref:De},Sn),Qt,Cn,ae?On:Gt,kn,Xe.createElement(o0e,{locale:te,rootPrefixCls:r,disabled:ee,selectPrefixCls:d,changeSize:Pt,pageSize:Oe,pageSizeOptions:be,quickGo:Ut?ot:null,goButton:An,showSizeChanger:ue,sizeChangerRender:ye}))};const c0e=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed",backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}},[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{[`&${t}-disabled ${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},u0e=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:Le(e.itemSizeSM)},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:Le(e.calc(e.itemSizeSM).sub(2).equal())},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:Le(e.itemSizeSM)},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${t}-mini ${t}-prev ${t}-item-link,
    &${t}-mini ${t}-next ${t}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:Le(e.itemSizeSM)}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:Le(e.itemSizeSM)},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:Le(e.itemSizeSM),input:Object.assign(Object.assign({},YD(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},d0e=e=>{const{componentCls:t}=e;return{[`
    &${t}-simple ${t}-prev,
    &${t}-simple ${t}-next
    `]:{height:e.itemSizeSM,lineHeight:Le(e.itemSizeSM),verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSizeSM,lineHeight:Le(e.itemSizeSM)}}},[`&${t}-simple ${t}-simple-pager`]:{display:"inline-block",height:e.itemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${Le(e.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${Le(e.inputOutlineOffset)} 0 ${Le(e.controlOutlineWidth)} ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}}},p0e=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`
    ${t}-prev,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{marginInlineEnd:e.marginXS},[`
    ${t}-prev,
    ${t}-next,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:Le(e.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${Le(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:Le(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},R0(e)),WD(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},N_(e)),width:e.calc(e.controlHeightLG).mul(1.25).equal(),height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},m0e=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:Le(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:e.itemBg,border:`${Le(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${Le(e.paginationItemPaddingInline)}`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},f0e=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Sa(e)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:Le(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),m0e(e)),p0e(e)),d0e(e)),u0e(e)),c0e(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},g0e=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},Od(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},_u(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:Object.assign({},_u(e))}}}},pX=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},Ay(e)),mX=e=>qr(e,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginSM,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},Ry(e)),h0e=fa("Pagination",e=>{const t=mX(e);return[f0e(t),g0e(t)]},pX),v0e=e=>{const{componentCls:t}=e;return{[`${t}${t}-bordered${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}${t}-bordered:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}},y0e=I0(["Pagination","bordered"],e=>{const t=mX(e);return[v0e(t)]},pX);function Y3(e){return E.useMemo(()=>typeof e=="boolean"?[e,{}]:e&&typeof e=="object"?[!0,e]:[void 0,void 0],[e])}var b0e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const fX=e=>{const{align:t,prefixCls:n,selectPrefixCls:r,className:i,rootClassName:d,style:g,size:v,locale:S,responsive:I,showSizeChanger:T,selectComponentClass:_,pageSizeOptions:N}=e,A=b0e(e,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:w}=T_(I),[,O]=ms(),{getPrefixCls:R,direction:D,showSizeChanger:j,className:L,style:U}=Fo("pagination"),$=R("pagination",n),[F,z,H]=h0e($),V=qo(v),K=V==="small"||!!(w&&!V&&I),[J]=Tm("Pagination",Q9),te=Object.assign(Object.assign({},J),S),[Z,X]=Y3(T),[re,ee]=Y3(j),ae=Z??re,de=X??ee,he=_||an,ue=E.useMemo(()=>N?N.map(_e=>Number(_e)):void 0,[N]),ye=_e=>{var Te;const{disabled:Se,size:De,onSizeChange:je,"aria-label":ke,className:Oe,options:Ne}=_e,{className:qe,onChange:Ke}=de||{},He=(Te=Ne.find(nt=>String(nt.value)===String(De)))===null||Te===void 0?void 0:Te.value;return E.createElement(he,Object.assign({disabled:Se,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:nt=>nt.parentNode,"aria-label":ke,options:Ne},de,{value:He,onChange:(nt,Je)=>{je==null||je(nt),Ke==null||Ke(nt,Je)},size:K?"small":"middle",className:Ue(Oe,qe)}))},be=E.useMemo(()=>{const _e=E.createElement("span",{className:`${$}-item-ellipsis`},"•••"),Te=E.createElement("button",{className:`${$}-item-link`,type:"button",tabIndex:-1},D==="rtl"?E.createElement(i0,null):E.createElement(c0,null)),Se=E.createElement("button",{className:`${$}-item-link`,type:"button",tabIndex:-1},D==="rtl"?E.createElement(c0,null):E.createElement(i0,null)),De=E.createElement("a",{className:`${$}-item-link`},E.createElement("div",{className:`${$}-item-container`},D==="rtl"?E.createElement(G3,{className:`${$}-item-link-icon`}):E.createElement(H3,{className:`${$}-item-link-icon`}),_e)),je=E.createElement("a",{className:`${$}-item-link`},E.createElement("div",{className:`${$}-item-container`},D==="rtl"?E.createElement(H3,{className:`${$}-item-link-icon`}):E.createElement(G3,{className:`${$}-item-link-icon`}),_e));return{prevIcon:Te,nextIcon:Se,jumpPrevIcon:De,jumpNextIcon:je}},[D,$]),oe=R("select",r),pe=Ue({[`${$}-${t}`]:!!t,[`${$}-mini`]:K,[`${$}-rtl`]:D==="rtl",[`${$}-bordered`]:O.wireframe},L,i,d,z,H),fe=Object.assign(Object.assign({},U),g);return F(E.createElement(E.Fragment,null,O.wireframe&&E.createElement(y0e,{prefixCls:$}),E.createElement(l0e,Object.assign({},be,A,{style:fe,prefixCls:$,selectPrefixCls:oe,className:pe,locale:te,pageSizeOptions:ue,showSizeChanger:ae,sizeChangerRender:ye}))))},BM=100,gX=BM/5,hX=BM/2-gX/2,vN=hX*2*Math.PI,X3=50,J3=e=>{const{dotClassName:t,style:n,hasCircleCls:r}=e;return E.createElement("circle",{className:Ue(`${t}-circle`,{[`${t}-circle-bg`]:r}),r:hX,cx:X3,cy:X3,strokeWidth:gX,style:n})},S0e=({percent:e,prefixCls:t})=>{const n=`${t}-dot`,r=`${n}-holder`,i=`${r}-hidden`,[d,g]=E.useState(!1);Hr(()=>{e!==0&&g(!0)},[e!==0]);const v=Math.max(Math.min(e,100),0);if(!d)return null;const S={strokeDashoffset:`${vN/4}`,strokeDasharray:`${vN*v/100} ${vN*(100-v)/100}`};return E.createElement("span",{className:Ue(r,`${n}-progress`,v<=0&&i)},E.createElement("svg",{viewBox:`0 0 ${BM} ${BM}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":v},E.createElement(J3,{dotClassName:n,hasCircleCls:!0}),E.createElement(J3,{dotClassName:n,style:S})))};function I0e(e){const{prefixCls:t,percent:n=0}=e,r=`${t}-dot`,i=`${r}-holder`,d=`${i}-hidden`;return E.createElement(E.Fragment,null,E.createElement("span",{className:Ue(i,n>0&&d)},E.createElement("span",{className:Ue(r,`${t}-dot-spin`)},[1,2,3,4].map(g=>E.createElement("i",{className:`${t}-dot-item`,key:g})))),E.createElement(S0e,{prefixCls:t,percent:n}))}function E0e(e){var t;const{prefixCls:n,indicator:r,percent:i}=e,d=`${n}-dot`;return r&&E.isValidElement(r)?Vo(r,{className:Ue((t=r.props)===null||t===void 0?void 0:t.className,d),percent:i}):E.createElement(I0e,{prefixCls:n,percent:i})}const C0e=new ca("antSpinMove",{to:{opacity:1}}),T0e=new ca("antRotate",{to:{transform:"rotate(405deg)"}}),M0e=e=>{const{componentCls:t,calc:n}=e;return{[t]:Object.assign(Object.assign({},Sa(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:n(n(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[t]:{[`${t}-dot-holder`]:{color:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:n(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:n(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:n(n(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:n(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${t}-dot-progress`]:{position:"absolute",inset:0},[`${t}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),height:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:C0e,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:T0e,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeSM}},[`&-sm ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal(),height:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeLG}},[`&-lg ${t}-dot-holder`]:{i:{width:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}},_0e=e=>{const{controlHeightLG:t,controlHeight:n}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:t*.35,dotSizeLG:n}},x0e=fa("Spin",e=>{const t=qr(e,{spinDotDefault:e.colorTextDescription});return[M0e(t)]},_0e),w0e=200,Q3=[[30,.05],[70,.03],[96,.01]];function N0e(e,t){const[n,r]=E.useState(0),i=E.useRef(null),d=t==="auto";return E.useEffect(()=>(d&&e&&(r(0),i.current=setInterval(()=>{r(g=>{const v=100-g;for(let S=0;S<Q3.length;S+=1){const[I,T]=Q3[S];if(g<=I)return g+v*T}return g})},w0e)),()=>{clearInterval(i.current)}),[d,e]),d?n:t}var R0e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let vX;function A0e(e,t){return!!e&&!!t&&!Number.isNaN(Number(t))}const Vd=e=>{var t;const{prefixCls:n,spinning:r=!0,delay:i=0,className:d,rootClassName:g,size:v="default",tip:S,wrapperClassName:I,style:T,children:_,fullscreen:N=!1,indicator:A,percent:w}=e,O=R0e(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:R,direction:D,className:j,style:L,indicator:U}=Fo("spin"),$=R("spin",n),[F,z,H]=x0e($),[V,K]=E.useState(()=>r&&!A0e(r,i)),J=N0e(V,w);E.useEffect(()=>{if(r){const de=Dbe(i,()=>{K(!0)});return de(),()=>{var he;(he=de==null?void 0:de.cancel)===null||he===void 0||he.call(de)}}K(!1)},[i,r]);const te=E.useMemo(()=>typeof _<"u"&&!N,[_,N]),Z=Ue($,j,{[`${$}-sm`]:v==="small",[`${$}-lg`]:v==="large",[`${$}-spinning`]:V,[`${$}-show-text`]:!!S,[`${$}-rtl`]:D==="rtl"},d,!N&&g,z,H),X=Ue(`${$}-container`,{[`${$}-blur`]:V}),re=(t=A??U)!==null&&t!==void 0?t:vX,ee=Object.assign(Object.assign({},L),T),ae=E.createElement("div",Object.assign({},O,{style:ee,className:Z,"aria-live":"polite","aria-busy":V}),E.createElement(E0e,{prefixCls:$,indicator:re,percent:J}),S&&(te||N)?E.createElement("div",{className:`${$}-text`},S):null);return F(te?E.createElement("div",Object.assign({},O,{className:Ue(`${$}-nested-loading`,I,z,H)}),V&&E.createElement("div",{key:"loading"},ae),E.createElement("div",{className:X,key:"container"},_)):N?E.createElement("div",{className:Ue(`${$}-fullscreen`,{[`${$}-fullscreen-show`]:V},g,z,H)},ae):ae)};Vd.setDefaultIndicator=e=>{vX=e};const sj=Xe.createContext({});sj.Consumer;var yX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const O0e=e=>{var{prefixCls:t,className:n,avatar:r,title:i,description:d}=e,g=yX(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:v}=E.useContext(rr),S=v("list",t),I=Ue(`${S}-item-meta`,n),T=Xe.createElement("div",{className:`${S}-item-meta-content`},i&&Xe.createElement("h4",{className:`${S}-item-meta-title`},i),d&&Xe.createElement("div",{className:`${S}-item-meta-description`},d));return Xe.createElement("div",Object.assign({},g,{className:I}),r&&Xe.createElement("div",{className:`${S}-item-meta-avatar`},r),(i||d)&&T)},k0e=Xe.forwardRef((e,t)=>{const{prefixCls:n,children:r,actions:i,extra:d,styles:g,className:v,classNames:S,colStyle:I}=e,T=yX(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:_,itemLayout:N}=E.useContext(sj),{getPrefixCls:A,list:w}=E.useContext(rr),O=z=>{var H,V;return Ue((V=(H=w==null?void 0:w.item)===null||H===void 0?void 0:H.classNames)===null||V===void 0?void 0:V[z],S==null?void 0:S[z])},R=z=>{var H,V;return Object.assign(Object.assign({},(V=(H=w==null?void 0:w.item)===null||H===void 0?void 0:H.styles)===null||V===void 0?void 0:V[z]),g==null?void 0:g[z])},D=()=>{let z=!1;return E.Children.forEach(r,H=>{typeof H=="string"&&(z=!0)}),z&&E.Children.count(r)>1},j=()=>N==="vertical"?!!d:!D(),L=A("list",n),U=i&&i.length>0&&Xe.createElement("ul",{className:Ue(`${L}-item-action`,O("actions")),key:"actions",style:R("actions")},i.map((z,H)=>Xe.createElement("li",{key:`${L}-item-action-${H}`},z,H!==i.length-1&&Xe.createElement("em",{className:`${L}-item-action-split`})))),$=_?"div":"li",F=Xe.createElement($,Object.assign({},T,_?{}:{ref:t},{className:Ue(`${L}-item`,{[`${L}-item-no-flex`]:!j()},v)}),N==="vertical"&&d?[Xe.createElement("div",{className:`${L}-item-main`,key:"content"},r,U),Xe.createElement("div",{className:Ue(`${L}-item-extra`,O("extra")),key:"extra",style:R("extra")},d)]:[r,U,Vo(d,{key:"extra"})]);return _?Xe.createElement(ZD,{ref:t,flex:1,style:I},F):F}),bX=k0e;bX.Meta=O0e;const L0e=e=>{const{listBorderedCls:t,componentCls:n,paddingLG:r,margin:i,itemPaddingSM:d,itemPaddingLG:g,marginLG:v,borderRadiusLG:S}=e;return{[t]:{border:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:S,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:r},[`${n}-pagination`]:{margin:`${Le(i)} ${Le(v)}`}},[`${t}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:d}},[`${t}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:g}}}},P0e=e=>{const{componentCls:t,screenSM:n,screenMD:r,marginLG:i,marginSM:d,margin:g}=e;return{[`@media screen and (max-width:${r}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:i}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:i}}}},[`@media screen and (max-width: ${n}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:d}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${Le(g)}`}}}}}},D0e=e=>{const{componentCls:t,antCls:n,controlHeight:r,minHeight:i,paddingSM:d,marginLG:g,padding:v,itemPadding:S,colorPrimary:I,itemPaddingSM:T,itemPaddingLG:_,paddingXS:N,margin:A,colorText:w,colorTextDescription:O,motionDurationSlow:R,lineWidth:D,headerBg:j,footerBg:L,emptyTextPadding:U,metaMarginBottom:$,avatarMarginRight:F,titleMarginBottom:z,descriptionFontSize:H}=e;return{[t]:Object.assign(Object.assign({},Sa(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:j},[`${t}-footer`]:{background:L},[`${t}-header, ${t}-footer`]:{paddingBlock:d},[`${t}-pagination`]:{marginBlockStart:g,[`${n}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:i,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:S,color:w,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:F},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:w},[`${t}-item-meta-title`]:{margin:`0 0 ${Le(e.marginXXS)} 0`,color:w,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:w,transition:`all ${R}`,"&:hover":{color:I}}},[`${t}-item-meta-description`]:{color:O,fontSize:H,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${Le(N)}`,color:O,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:D,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${Le(v)} 0`,color:O,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:U,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${n}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:A,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:g},[`${t}-item-meta`]:{marginBlockEnd:$,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:z,color:w,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:v,marginInlineStart:"auto","> li":{padding:`0 ${Le(v)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${Le(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${Le(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${Le(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:r},[`${t}-split${t}-something-after-last-item ${n}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${Le(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:_},[`${t}-sm ${t}-item`]:{padding:T},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},j0e=e=>({contentWidth:220,itemPadding:`${Le(e.paddingContentVertical)} 0`,itemPaddingSM:`${Le(e.paddingContentVerticalSM)} ${Le(e.paddingContentHorizontal)}`,itemPaddingLG:`${Le(e.paddingContentVerticalLG)} ${Le(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize}),V0e=fa("List",e=>{const t=qr(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[D0e(t),L0e(t),P0e(t)]},j0e);var $0e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function U0e(e,t){const{pagination:n=!1,prefixCls:r,bordered:i=!1,split:d=!0,className:g,rootClassName:v,style:S,children:I,itemLayout:T,loadMore:_,grid:N,dataSource:A=[],size:w,header:O,footer:R,loading:D=!1,rowKey:j,renderItem:L,locale:U}=e,$=$0e(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),F=n&&typeof n=="object"?n:{},[z,H]=E.useState(F.defaultCurrent||1),[V,K]=E.useState(F.defaultPageSize||10),{getPrefixCls:J,direction:te,className:Z,style:X}=Fo("list"),{renderEmpty:re}=E.useContext(rr),ee={current:1,total:0,position:"bottom"},ae=Ye=>(pt,ct)=>{var xt;H(pt),K(ct),n&&((xt=n==null?void 0:n[Ye])===null||xt===void 0||xt.call(n,pt,ct))},de=ae("onChange"),he=ae("onShowSizeChange"),ue=(Ye,pt)=>{if(!L)return null;let ct;return typeof j=="function"?ct=j(Ye):j?ct=Ye[j]:ct=Ye.key,ct||(ct=`list-item-${pt}`),E.createElement(E.Fragment,{key:ct},L(Ye,pt))},ye=!!(_||n||R),be=J("list",r),[oe,pe,fe]=V0e(be);let _e=D;typeof _e=="boolean"&&(_e={spinning:_e});const Te=!!(_e!=null&&_e.spinning),Se=qo(w);let De="";switch(Se){case"large":De="lg";break;case"small":De="sm";break}const je=Ue(be,{[`${be}-vertical`]:T==="vertical",[`${be}-${De}`]:De,[`${be}-split`]:d,[`${be}-bordered`]:i,[`${be}-loading`]:Te,[`${be}-grid`]:!!N,[`${be}-something-after-last-item`]:ye,[`${be}-rtl`]:te==="rtl"},Z,g,v,pe,fe),ke=s0(ee,{total:A.length,current:z,pageSize:V},n||{}),Oe=Math.ceil(ke.total/ke.pageSize);ke.current=Math.min(ke.current,Oe);const Ne=n&&E.createElement("div",{className:Ue(`${be}-pagination`)},E.createElement(fX,Object.assign({align:"end"},ke,{onChange:de,onShowSizeChange:he})));let qe=Rt(A);n&&A.length>(ke.current-1)*ke.pageSize&&(qe=Rt(A).splice((ke.current-1)*ke.pageSize,ke.pageSize));const Ke=Object.keys(N||{}).some(Ye=>["xs","sm","md","lg","xl","xxl"].includes(Ye)),He=T_(Ke),nt=E.useMemo(()=>{for(let Ye=0;Ye<hg.length;Ye+=1){const pt=hg[Ye];if(He[pt])return pt}},[He]),Je=E.useMemo(()=>{if(!N)return;const Ye=nt&&N[nt]?N[nt]:N.column;if(Ye)return{width:`${100/Ye}%`,maxWidth:`${100/Ye}%`}},[JSON.stringify(N),nt]);let ut=Te&&E.createElement("div",{style:{minHeight:53}});if(qe.length>0){const Ye=qe.map(ue);ut=N?E.createElement(KY,{gutter:N.gutter},E.Children.map(Ye,pt=>E.createElement("div",{key:pt==null?void 0:pt.key,style:Je},pt))):E.createElement("ul",{className:`${be}-items`},Ye)}else!I&&!Te&&(ut=E.createElement("div",{className:`${be}-empty-text`},(U==null?void 0:U.emptyText)||(re==null?void 0:re("List"))||E.createElement(LD,{componentName:"List"})));const lt=ke.position,et=E.useMemo(()=>({grid:N,itemLayout:T}),[JSON.stringify(N),T]);return oe(E.createElement(sj.Provider,{value:et},E.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},X),S),className:je},$),(lt==="top"||lt==="both")&&Ne,O&&E.createElement("div",{className:`${be}-header`},O),E.createElement(Vd,Object.assign({},_e),ut,I),R&&E.createElement("div",{className:`${be}-footer`},R),_||(lt==="bottom"||lt==="both")&&Ne)))}const B0e=E.forwardRef(U0e),yM=B0e;yM.Item=bX;const F0e=(e,t=!1)=>t&&e==null?[]:Array.isArray(e)?e:[e];let ql=null,og=e=>e(),d0=[],p0={};function Z3(){const{getContainer:e,duration:t,rtl:n,maxCount:r,top:i}=p0,d=(e==null?void 0:e())||document.body;return{getContainer:()=>d,duration:t,rtl:n,maxCount:r,top:i}}const q0e=Xe.forwardRef((e,t)=>{const{messageConfig:n,sync:r}=e,{getPrefixCls:i}=E.useContext(rr),d=p0.prefixCls||i("message"),g=E.useContext(dfe),[v,S]=GK(Object.assign(Object.assign(Object.assign({},n),{prefixCls:d}),g.message));return Xe.useImperativeHandle(t,()=>{const I=Object.assign({},v);return Object.keys(I).forEach(T=>{I[T]=(..._)=>(r(),v[T].apply(v,_))}),{instance:I,sync:r}}),S}),z0e=Xe.forwardRef((e,t)=>{const[n,r]=Xe.useState(Z3),i=()=>{r(Z3)};Xe.useEffect(i,[]);const d=vce(),g=d.getRootPrefixCls(),v=d.getIconPrefixCls(),S=d.getTheme(),I=Xe.createElement(q0e,{ref:t,sync:i,messageConfig:n});return Xe.createElement(Mm,{prefixCls:g,iconPrefixCls:v,theme:S},d.holderRender?d.holderRender(I):I)});function k_(){if(!ql){const e=document.createDocumentFragment(),t={fragment:e};ql=t,og(()=>{hD()(Xe.createElement(z0e,{ref:r=>{const{instance:i,sync:d}=r||{};Promise.resolve().then(()=>{!t.instance&&i&&(t.instance=i,t.sync=d,k_())})}}),e)});return}ql.instance&&(d0.forEach(e=>{const{type:t,skipped:n}=e;if(!n)switch(t){case"open":{og(()=>{const r=ql.instance.open(Object.assign(Object.assign({},p0),e.config));r==null||r.then(e.resolve),e.setCloseFn(r)});break}case"destroy":og(()=>{ql==null||ql.instance.destroy(e.key)});break;default:og(()=>{var r;const i=(r=ql.instance)[t].apply(r,Rt(e.args));i==null||i.then(e.resolve),e.setCloseFn(i)})}}),d0=[])}function H0e(e){p0=Object.assign(Object.assign({},p0),e),og(()=>{var t;(t=ql==null?void 0:ql.sync)===null||t===void 0||t.call(ql)})}function G0e(e){const t=fD(n=>{let r;const i={type:"open",config:e,resolve:n,setCloseFn:d=>{r=d}};return d0.push(i),()=>{r?og(()=>{r()}):i.skipped=!0}});return k_(),t}function K0e(e,t){const n=fD(r=>{let i;const d={type:e,args:t,resolve:r,setCloseFn:g=>{i=g}};return d0.push(d),()=>{i?og(()=>{i()}):d.skipped=!0}});return k_(),n}const W0e=e=>{d0.push({type:"destroy",key:e}),k_()},Y0e=["success","info","warning","error","loading"],X0e={open:G0e,destroy:W0e,config:H0e,useMessage:Fue,_InternalPanelDoNotUseOrYouWillBeFired:Lue},ie=X0e;Y0e.forEach(e=>{ie[e]=(...t)=>K0e(e,t)});var J0e={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Q0e=function(){var t=E.useRef([]),n=E.useRef(null);return E.useEffect(function(){var r=Date.now(),i=!1;t.current.forEach(function(d){if(d){i=!0;var g=d.style;g.transitionDuration=".3s, .3s, .3s, .06s",n.current&&r-n.current<100&&(g.transitionDuration="0s, 0s")}}),i&&(n.current=Date.now())}),t.current},e4=0,Z0e=jo();function eEe(){var e;return Z0e?(e=e4,e4+=1):e="TEST_OR_SSR",e}const tEe=function(e){var t=E.useState(),n=at(t,2),r=n[0],i=n[1];return E.useEffect(function(){i("rc_progress_".concat(eEe()))},[]),e||r};var t4=function(t){var n=t.bg,r=t.children;return E.createElement("div",{style:{width:"100%",height:"100%",background:n}},r)};function n4(e,t){return Object.keys(e).map(function(n){var r=parseFloat(n),i="".concat(Math.floor(r*t),"%");return"".concat(e[n]," ").concat(i)})}var nEe=E.forwardRef(function(e,t){var n=e.prefixCls,r=e.color,i=e.gradientId,d=e.radius,g=e.style,v=e.ptg,S=e.strokeLinecap,I=e.strokeWidth,T=e.size,_=e.gapDegree,N=r&&qn(r)==="object",A=N?"#FFF":void 0,w=T/2,O=E.createElement("circle",{className:"".concat(n,"-circle-path"),r:d,cx:w,cy:w,stroke:A,strokeLinecap:S,strokeWidth:I,opacity:v===0?0:1,style:g,ref:t});if(!N)return O;var R="".concat(i,"-conic"),D=_?"".concat(180+_/2,"deg"):"0deg",j=n4(r,(360-_)/360),L=n4(r,1),U="conic-gradient(from ".concat(D,", ").concat(j.join(", "),")"),$="linear-gradient(to ".concat(_?"bottom":"top",", ").concat(L.join(", "),")");return E.createElement(E.Fragment,null,E.createElement("mask",{id:R},O),E.createElement("foreignObject",{x:0,y:0,width:T,height:T,mask:"url(#".concat(R,")")},E.createElement(t4,{bg:$},E.createElement(t4,{bg:U}))))}),OI=100,yN=function(t,n,r,i,d,g,v,S,I,T){var _=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,N=r/100*360*((360-g)/360),A=g===0?0:{bottom:0,top:180,left:90,right:-90}[v],w=(100-i)/100*n;I==="round"&&i!==100&&(w+=T/2,w>=n&&(w=n-.01));var O=OI/2;return{stroke:typeof S=="string"?S:void 0,strokeDasharray:"".concat(n,"px ").concat(t),strokeDashoffset:w+_,transform:"rotate(".concat(d+N+A,"deg)"),transformOrigin:"".concat(O,"px ").concat(O,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},rEe=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function r4(e){var t=e??[];return Array.isArray(t)?t:[t]}var aEe=function(t){var n=Pe(Pe({},J0e),t),r=n.id,i=n.prefixCls,d=n.steps,g=n.strokeWidth,v=n.trailWidth,S=n.gapDegree,I=S===void 0?0:S,T=n.gapPosition,_=n.trailColor,N=n.strokeLinecap,A=n.style,w=n.className,O=n.strokeColor,R=n.percent,D=ir(n,rEe),j=OI/2,L=tEe(r),U="".concat(L,"-gradient"),$=j-g/2,F=Math.PI*2*$,z=I>0?90+I/2:-90,H=F*((360-I)/360),V=qn(d)==="object"?d:{count:d,gap:2},K=V.count,J=V.gap,te=r4(R),Z=r4(O),X=Z.find(function(ye){return ye&&qn(ye)==="object"}),re=X&&qn(X)==="object",ee=re?"butt":N,ae=yN(F,H,0,100,z,I,T,_,ee,g),de=Q0e(),he=function(){var be=0;return te.map(function(oe,pe){var fe=Z[pe]||Z[Z.length-1],_e=yN(F,H,be,oe,z,I,T,fe,ee,g);return be+=oe,E.createElement(nEe,{key:pe,color:fe,ptg:oe,radius:$,prefixCls:i,gradientId:U,style:_e,strokeLinecap:ee,strokeWidth:g,gapDegree:I,ref:function(Se){de[pe]=Se},size:OI})}).reverse()},ue=function(){var be=Math.round(K*(te[0]/100)),oe=100/K,pe=0;return new Array(K).fill(null).map(function(fe,_e){var Te=_e<=be-1?Z[0]:_,Se=Te&&qn(Te)==="object"?"url(#".concat(U,")"):void 0,De=yN(F,H,pe,oe,z,I,T,Te,"butt",g,J);return pe+=(H-De.strokeDashoffset+J)*100/H,E.createElement("circle",{key:_e,className:"".concat(i,"-circle-path"),r:$,cx:j,cy:j,stroke:Se,strokeWidth:g,opacity:1,style:De,ref:function(ke){de[_e]=ke}})})};return E.createElement("svg",kt({className:Ue("".concat(i,"-circle"),w),viewBox:"0 0 ".concat(OI," ").concat(OI),style:A,id:r,role:"presentation"},D),!K&&E.createElement("circle",{className:"".concat(i,"-circle-trail"),r:$,cx:j,cy:j,stroke:_,strokeLinecap:ee,strokeWidth:v||g,style:ae}),K?ue():he())};function ym(e){return!e||e<0?0:e>100?100:e}function FM({success:e,successPercent:t}){let n=t;return e&&"progress"in e&&(n=e.progress),e&&"percent"in e&&(n=e.percent),n}const iEe=({percent:e,success:t,successPercent:n})=>{const r=ym(FM({success:t,successPercent:n}));return[r,ym(ym(e)-r)]},oEe=({success:e={},strokeColor:t})=>{const{strokeColor:n}=e;return[n||ay.green,t||null]},L_=(e,t,n)=>{var r,i,d,g;let v=-1,S=-1;if(t==="step"){const I=n.steps,T=n.strokeWidth;typeof e=="string"||typeof e>"u"?(v=e==="small"?2:14,S=T??8):typeof e=="number"?[v,S]=[e,e]:[v=14,S=8]=Array.isArray(e)?e:[e.width,e.height],v*=I}else if(t==="line"){const I=n==null?void 0:n.strokeWidth;typeof e=="string"||typeof e>"u"?S=I||(e==="small"?6:8):typeof e=="number"?[v,S]=[e,e]:[v=-1,S=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[v,S]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[v,S]=[e,e]:Array.isArray(e)&&(v=(i=(r=e[0])!==null&&r!==void 0?r:e[1])!==null&&i!==void 0?i:120,S=(g=(d=e[0])!==null&&d!==void 0?d:e[1])!==null&&g!==void 0?g:120));return[v,S]},sEe=3,lEe=e=>sEe/e*100,cEe=e=>{const{prefixCls:t,trailColor:n=null,strokeLinecap:r="round",gapPosition:i,gapDegree:d,width:g=120,type:v,children:S,success:I,size:T=g,steps:_}=e,[N,A]=L_(T,"circle");let{strokeWidth:w}=e;w===void 0&&(w=Math.max(lEe(N),6));const O={width:N,height:A,fontSize:N*.15+6},R=E.useMemo(()=>{if(d||d===0)return d;if(v==="dashboard")return 75},[d,v]),D=iEe(e),j=i||v==="dashboard"&&"bottom"||void 0,L=Object.prototype.toString.call(e.strokeColor)==="[object Object]",U=oEe({success:I,strokeColor:e.strokeColor}),$=Ue(`${t}-inner`,{[`${t}-circle-gradient`]:L}),F=E.createElement(aEe,{steps:_,percent:_?D[1]:D,strokeWidth:w,trailWidth:w,strokeColor:_?U[1]:U,strokeLinecap:r,trailColor:n,prefixCls:t,gapDegree:R,gapPosition:j}),z=N<=20,H=E.createElement("div",{className:$,style:O},F,!z&&S);return z?E.createElement(Gl,{title:S},H):H},qM="--progress-line-stroke-color",SX="--progress-percent",a4=e=>{const t=e?"100%":"-100%";return new ca(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},uEe=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:Object.assign(Object.assign({},Sa(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${qM})`]},height:"100%",width:`calc(1 / var(${SX}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${Le(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:a4(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:a4(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},dEe=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},pEe=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},mEe=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${n}`]:{fontSize:e.fontSizeSM}}}},fEe=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),gEe=fa("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),n=qr(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[uEe(n),dEe(n),pEe(n),mEe(n)]},fEe);var hEe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const vEe=e=>{let t=[];return Object.keys(e).forEach(n=>{const r=parseFloat(n.replace(/%/g,""));Number.isNaN(r)||t.push({key:r,value:e[n]})}),t=t.sort((n,r)=>n.key-r.key),t.map(({key:n,value:r})=>`${r} ${n}%`).join(", ")},yEe=(e,t)=>{const{from:n=ay.blue,to:r=ay.blue,direction:i=t==="rtl"?"to left":"to right"}=e,d=hEe(e,["from","to","direction"]);if(Object.keys(d).length!==0){const v=vEe(d),S=`linear-gradient(${i}, ${v})`;return{background:S,[qM]:S}}const g=`linear-gradient(${i}, ${n}, ${r})`;return{background:g,[qM]:g}},bEe=e=>{const{prefixCls:t,direction:n,percent:r,size:i,strokeWidth:d,strokeColor:g,strokeLinecap:v="round",children:S,trailColor:I=null,percentPosition:T,success:_}=e,{align:N,type:A}=T,w=g&&typeof g!="string"?yEe(g,n):{[qM]:g,background:g},O=v==="square"||v==="butt"?0:void 0,R=i??[-1,d||(i==="small"?6:8)],[D,j]=L_(R,"line",{strokeWidth:d}),L={backgroundColor:I||void 0,borderRadius:O},U=Object.assign(Object.assign({width:`${ym(r)}%`,height:j,borderRadius:O},w),{[SX]:ym(r)/100}),$=FM(e),F={width:`${ym($)}%`,height:j,borderRadius:O,backgroundColor:_==null?void 0:_.strokeColor},z={width:D<0?"100%":D},H=E.createElement("div",{className:`${t}-inner`,style:L},E.createElement("div",{className:Ue(`${t}-bg`,`${t}-bg-${A}`),style:U},A==="inner"&&S),$!==void 0&&E.createElement("div",{className:`${t}-success-bg`,style:F})),V=A==="outer"&&N==="start",K=A==="outer"&&N==="end";return A==="outer"&&N==="center"?E.createElement("div",{className:`${t}-layout-bottom`},H,S):E.createElement("div",{className:`${t}-outer`,style:z},V&&S,H,K&&S)},SEe=e=>{const{size:t,steps:n,rounding:r=Math.round,percent:i=0,strokeWidth:d=8,strokeColor:g,trailColor:v=null,prefixCls:S,children:I}=e,T=r(n*(i/100)),N=t??[t==="small"?2:14,d],[A,w]=L_(N,"step",{steps:n,strokeWidth:d}),O=A/n,R=Array.from({length:n});for(let D=0;D<n;D++){const j=Array.isArray(g)?g[D]:g;R[D]=E.createElement("div",{key:D,className:Ue(`${S}-steps-item`,{[`${S}-steps-item-active`]:D<=T-1}),style:{backgroundColor:D<=T-1?j:v,width:O,height:w}})}return E.createElement("div",{className:`${S}-steps-outer`},R,I)};var IEe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const EEe=["normal","exception","active","success"],CEe=E.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:i,steps:d,strokeColor:g,percent:v=0,size:S="default",showInfo:I=!0,type:T="line",status:_,format:N,style:A,percentPosition:w={}}=e,O=IEe(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:R="end",type:D="outer"}=w,j=Array.isArray(g)?g[0]:g,L=typeof g=="string"||Array.isArray(g)?g:void 0,U=E.useMemo(()=>{if(j){const he=typeof j=="string"?j:Object.values(j)[0];return new wa(he).isLight()}return!1},[g]),$=E.useMemo(()=>{var he,ue;const ye=FM(e);return parseInt(ye!==void 0?(he=ye??0)===null||he===void 0?void 0:he.toString():(ue=v??0)===null||ue===void 0?void 0:ue.toString(),10)},[v,e.success,e.successPercent]),F=E.useMemo(()=>!EEe.includes(_)&&$>=100?"success":_||"normal",[_,$]),{getPrefixCls:z,direction:H,progress:V}=E.useContext(rr),K=z("progress",n),[J,te,Z]=gEe(K),X=T==="line",re=X&&!d,ee=E.useMemo(()=>{if(!I)return null;const he=FM(e);let ue;const ye=N||(oe=>`${oe}%`),be=X&&U&&D==="inner";return D==="inner"||N||F!=="exception"&&F!=="success"?ue=ye(ym(v),ym(he)):F==="exception"?ue=X?E.createElement(Cy,null):E.createElement(Ty,null):F==="success"&&(ue=X?E.createElement(a_,null):E.createElement(PD,null)),E.createElement("span",{className:Ue(`${K}-text`,{[`${K}-text-bright`]:be,[`${K}-text-${R}`]:re,[`${K}-text-${D}`]:re}),title:typeof ue=="string"?ue:void 0},ue)},[I,v,$,F,T,K,N]);let ae;T==="line"?ae=d?E.createElement(SEe,Object.assign({},e,{strokeColor:L,prefixCls:K,steps:typeof d=="object"?d.count:d}),ee):E.createElement(bEe,Object.assign({},e,{strokeColor:j,prefixCls:K,direction:H,percentPosition:{align:R,type:D}}),ee):(T==="circle"||T==="dashboard")&&(ae=E.createElement(cEe,Object.assign({},e,{strokeColor:j,prefixCls:K,progressStatus:F}),ee));const de=Ue(K,`${K}-status-${F}`,{[`${K}-${T==="dashboard"&&"circle"||T}`]:T!=="line",[`${K}-inline-circle`]:T==="circle"&&L_(S,"circle")[0]<=20,[`${K}-line`]:re,[`${K}-line-align-${R}`]:re,[`${K}-line-position-${D}`]:re,[`${K}-steps`]:d,[`${K}-show-info`]:I,[`${K}-${S}`]:typeof S=="string",[`${K}-rtl`]:H==="rtl"},V==null?void 0:V.className,r,i,te,Z);return J(E.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},V==null?void 0:V.style),A),className:de,role:"progressbar","aria-valuenow":$,"aria-valuemin":0,"aria-valuemax":100},ri(O,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),ae))});var TEe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},MEe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:TEe}))},_Ee=E.forwardRef(MEe),xEe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},wEe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:xEe}))},NEe=E.forwardRef(wEe),REe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},AEe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:REe}))},OEe=E.forwardRef(AEe),kEe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"},IX={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},LEe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:IX}))},PEe=E.forwardRef(LEe),DEe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},jEe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:DEe}))},VEe=E.forwardRef(jEe),$Ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},UEe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:$Ee}))},BEe=E.forwardRef(UEe),FEe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},qEe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:FEe}))},zEe=E.forwardRef(qEe),HEe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},GEe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:HEe}))},KEe=E.forwardRef(GEe),WEe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},YEe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:WEe}))},EX=E.forwardRef(YEe),XEe={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:n}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},JEe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:XEe}))},QEe=E.forwardRef(JEe),ZEe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},eCe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:ZEe}))},tCe=E.forwardRef(eCe),nCe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},rCe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:nCe}))},aCe=E.forwardRef(rCe),iCe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},oCe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:iCe}))},sCe=E.forwardRef(oCe),lCe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},cCe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:lCe}))},uCe=E.forwardRef(cCe),dCe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},pCe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:dCe}))},mCe=E.forwardRef(pCe),fCe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},gCe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:fCe}))},hCe=E.forwardRef(gCe),vCe={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:n}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:n}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:n}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},yCe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:vCe}))},bCe=E.forwardRef(yCe),SCe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},ICe=function(t,n){return E.createElement(ta,kt({},t,{ref:n,icon:SCe}))},ECe=E.forwardRef(ICe),CCe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},TCe=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],CX=E.forwardRef(function(e,t){var n,r=e.prefixCls,i=r===void 0?"rc-switch":r,d=e.className,g=e.checked,v=e.defaultChecked,S=e.disabled,I=e.loadingIcon,T=e.checkedChildren,_=e.unCheckedChildren,N=e.onClick,A=e.onChange,w=e.onKeyDown,O=ir(e,TCe),R=Si(!1,{value:g,defaultValue:v}),D=at(R,2),j=D[0],L=D[1];function U(H,V){var K=j;return S||(K=H,L(K),A==null||A(K,V)),K}function $(H){H.which===Vn.LEFT?U(!1,H):H.which===Vn.RIGHT&&U(!0,H),w==null||w(H)}function F(H){var V=U(!j,H);N==null||N(V,H)}var z=Ue(i,d,(n={},Ce(n,"".concat(i,"-checked"),j),Ce(n,"".concat(i,"-disabled"),S),n));return E.createElement("button",kt({},O,{type:"button",role:"switch","aria-checked":j,disabled:S,className:z,ref:t,onKeyDown:$,onClick:F}),I,E.createElement("span",{className:"".concat(i,"-inner")},E.createElement("span",{className:"".concat(i,"-inner-checked")},T),E.createElement("span",{className:"".concat(i,"-inner-unchecked")},_)))});CX.displayName="Switch";const MCe=e=>{const{componentCls:t,trackHeightSM:n,trackPadding:r,trackMinWidthSM:i,innerMinMarginSM:d,innerMaxMarginSM:g,handleSizeSM:v,calc:S}=e,I=`${t}-inner`,T=Le(S(v).add(S(r).mul(2)).equal()),_=Le(S(g).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:i,height:n,lineHeight:Le(n),[`${t}-inner`]:{paddingInlineStart:g,paddingInlineEnd:d,[`${I}-checked, ${I}-unchecked`]:{minHeight:n},[`${I}-checked`]:{marginInlineStart:`calc(-100% + ${T} - ${_})`,marginInlineEnd:`calc(100% - ${T} + ${_})`},[`${I}-unchecked`]:{marginTop:S(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:v,height:v},[`${t}-loading-icon`]:{top:S(S(v).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:d,paddingInlineEnd:g,[`${I}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${I}-unchecked`]:{marginInlineStart:`calc(100% - ${T} + ${_})`,marginInlineEnd:`calc(-100% + ${T} - ${_})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${Le(S(v).add(r).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${I}`]:{[`${I}-unchecked`]:{marginInlineStart:S(e.marginXXS).div(2).equal(),marginInlineEnd:S(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${I}`]:{[`${I}-checked`]:{marginInlineStart:S(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:S(e.marginXXS).div(2).equal()}}}}}}},_Ce=e=>{const{componentCls:t,handleSize:n,calc:r}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:r(r(n).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},xCe=e=>{const{componentCls:t,trackPadding:n,handleBg:r,handleShadow:i,handleSize:d,calc:g}=e,v=`${t}-handle`;return{[t]:{[v]:{position:"absolute",top:n,insetInlineStart:n,width:d,height:d,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:g(d).div(2).equal(),boxShadow:i,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${v}`]:{insetInlineStart:`calc(100% - ${Le(g(d).add(n).equal())})`},[`&:not(${t}-disabled):active`]:{[`${v}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${v}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},wCe=e=>{const{componentCls:t,trackHeight:n,trackPadding:r,innerMinMargin:i,innerMaxMargin:d,handleSize:g,calc:v}=e,S=`${t}-inner`,I=Le(v(g).add(v(r).mul(2)).equal()),T=Le(v(d).mul(2).equal());return{[t]:{[S]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:d,paddingInlineEnd:i,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${S}-checked, ${S}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:n},[`${S}-checked`]:{marginInlineStart:`calc(-100% + ${I} - ${T})`,marginInlineEnd:`calc(100% - ${I} + ${T})`},[`${S}-unchecked`]:{marginTop:v(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${S}`]:{paddingInlineStart:i,paddingInlineEnd:d,[`${S}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${S}-unchecked`]:{marginInlineStart:`calc(100% - ${I} + ${T})`,marginInlineEnd:`calc(-100% + ${I} - ${T})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${S}`]:{[`${S}-unchecked`]:{marginInlineStart:v(r).mul(2).equal(),marginInlineEnd:v(r).mul(-1).mul(2).equal()}},[`&${t}-checked ${S}`]:{[`${S}-checked`]:{marginInlineStart:v(r).mul(-1).mul(2).equal(),marginInlineEnd:v(r).mul(2).equal()}}}}}},NCe=e=>{const{componentCls:t,trackHeight:n,trackMinWidth:r}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Sa(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:Le(n),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),Od(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},RCe=e=>{const{fontSize:t,lineHeight:n,controlHeight:r,colorWhite:i}=e,d=t*n,g=r/2,v=2,S=d-v*2,I=g-v*2;return{trackHeight:d,trackHeightSM:g,trackMinWidth:S*2+v*4,trackMinWidthSM:I*2+v*2,trackPadding:v,handleBg:i,handleSize:S,handleSizeSM:I,handleShadow:`0 2px 4px 0 ${new wa("#00230b").setA(.2).toRgbString()}`,innerMinMargin:S/2,innerMaxMargin:S+v+v*2,innerMinMarginSM:I/2,innerMaxMarginSM:I+v+v*2}},ACe=fa("Switch",e=>{const t=qr(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[NCe(t),wCe(t),xCe(t),_Ce(t),MCe(t)]},RCe);var OCe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const kCe=E.forwardRef((e,t)=>{const{prefixCls:n,size:r,disabled:i,loading:d,className:g,rootClassName:v,style:S,checked:I,value:T,defaultChecked:_,defaultValue:N,onChange:A}=e,w=OCe(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[O,R]=Si(!1,{value:I??T,defaultValue:_??N}),{getPrefixCls:D,direction:j,switch:L}=E.useContext(rr),U=E.useContext(Xs),$=(i??U)||d,F=D("switch",n),z=E.createElement("div",{className:`${F}-handle`},d&&E.createElement(kd,{className:`${F}-loading-icon`})),[H,V,K]=ACe(F),J=qo(r),te=Ue(L==null?void 0:L.className,{[`${F}-small`]:J==="small",[`${F}-loading`]:d,[`${F}-rtl`]:j==="rtl"},g,v,V,K),Z=Object.assign(Object.assign({},L==null?void 0:L.style),S),X=(...re)=>{R(re[0]),A==null||A.apply(void 0,re)};return H(E.createElement(T0,{component:"Switch"},E.createElement(CX,Object.assign({},w,{checked:O,onChange:X,prefixCls:F,className:te,style:Z,disabled:$,ref:t,loadingIcon:z}))))}),ds=kCe;ds.__ANT_SWITCH=!0;var xd={},k0="rc-table-internal-hook";function lj(e){var t=E.createContext(void 0),n=function(i){var d=i.value,g=i.children,v=E.useRef(d);v.current=d;var S=E.useState(function(){return{getValue:function(){return v.current},listeners:new Set}}),I=at(S,1),T=I[0];return Hr(function(){Ac.unstable_batchedUpdates(function(){T.listeners.forEach(function(_){_(d)})})},[d]),E.createElement(t.Provider,{value:T},g)};return{Context:t,Provider:n,defaultValue:e}}function Uo(e,t){var n=xa(typeof t=="function"?t:function(_){if(t===void 0)return _;if(!Array.isArray(t))return _[t];var N={};return t.forEach(function(A){N[A]=_[A]}),N}),r=E.useContext(e==null?void 0:e.Context),i=r||{},d=i.listeners,g=i.getValue,v=E.useRef();v.current=n(r?g():e==null?void 0:e.defaultValue);var S=E.useState({}),I=at(S,2),T=I[1];return Hr(function(){if(!r)return;function _(N){var A=n(N);Cu(v.current,A,!0)||T({})}return d.add(_),function(){d.delete(_)}},[r]),v.current}function LCe(){var e=E.createContext(null);function t(){return E.useContext(e)}function n(i,d){var g=Oc(i),v=function(I,T){var _=g?{ref:T}:{},N=E.useRef(0),A=E.useRef(I),w=t();return w!==null?E.createElement(i,kt({},I,_)):((!d||d(A.current,I))&&(N.current+=1),A.current=I,E.createElement(e.Provider,{value:N.current},E.createElement(i,kt({},I,_))))};return g?E.forwardRef(v):v}function r(i,d){var g=Oc(i),v=function(I,T){var _=g?{ref:T}:{};return t(),E.createElement(i,kt({},I,_))};return g?E.memo(E.forwardRef(v),d):E.memo(v,d)}return{makeImmutable:n,responseImmutable:r,useImmutableMark:t}}var cj=LCe(),TX=cj.makeImmutable,Oy=cj.responseImmutable,PCe=cj.useImmutableMark,Ns=lj(),MX=E.createContext({renderWithProps:!1}),DCe="RC_TABLE_KEY";function jCe(e){return e==null?[]:Array.isArray(e)?e:[e]}function P_(e){var t=[],n={};return e.forEach(function(r){for(var i=r||{},d=i.key,g=i.dataIndex,v=d||jCe(g).join("-")||DCe;n[v];)v="".concat(v,"_next");n[v]=!0,t.push(v)}),t}function EP(e){return e!=null}function VCe(e){return typeof e=="number"&&!Number.isNaN(e)}function $Ce(e){return e&&qn(e)==="object"&&!Array.isArray(e)&&!E.isValidElement(e)}function UCe(e,t,n,r,i,d){var g=E.useContext(MX),v=PCe(),S=Sg(function(){if(EP(r))return[r];var I=t==null||t===""?[]:Array.isArray(t)?t:[t],T=_s(e,I),_=T,N=void 0;if(i){var A=i(T,e,n);$Ce(A)?(_=A.children,N=A.props,g.renderWithProps=!0):_=A}return[_,N]},[v,e,r,t,i,n],function(I,T){if(d){var _=at(I,2),N=_[1],A=at(T,2),w=A[1];return d(w,N)}return g.renderWithProps?!0:!Cu(I,T,!0)});return S}function BCe(e,t,n,r){var i=e+t-1;return e<=r&&i>=n}function FCe(e,t){return Uo(Ns,function(n){var r=BCe(e,t||1,n.hoverStartRow,n.hoverEndRow);return[r,n.onHover]})}var qCe=function(t){var n=t.ellipsis,r=t.rowType,i=t.children,d,g=n===!0?{showTitle:!0}:n;return g&&(g.showTitle||r==="header")&&(typeof i=="string"||typeof i=="number"?d=i.toString():E.isValidElement(i)&&typeof i.props.children=="string"&&(d=i.props.children)),d};function zCe(e){var t,n,r,i,d,g,v,S,I=e.component,T=e.children,_=e.ellipsis,N=e.scope,A=e.prefixCls,w=e.className,O=e.align,R=e.record,D=e.render,j=e.dataIndex,L=e.renderIndex,U=e.shouldCellUpdate,$=e.index,F=e.rowType,z=e.colSpan,H=e.rowSpan,V=e.fixLeft,K=e.fixRight,J=e.firstFixLeft,te=e.lastFixLeft,Z=e.firstFixRight,X=e.lastFixRight,re=e.appendNode,ee=e.additionalProps,ae=ee===void 0?{}:ee,de=e.isSticky,he="".concat(A,"-cell"),ue=Uo(Ns,["supportSticky","allColumnsFixedLeft","rowHoverable"]),ye=ue.supportSticky,be=ue.allColumnsFixedLeft,oe=ue.rowHoverable,pe=UCe(R,j,L,T,D,U),fe=at(pe,2),_e=fe[0],Te=fe[1],Se={},De=typeof V=="number"&&ye,je=typeof K=="number"&&ye;De&&(Se.position="sticky",Se.left=V),je&&(Se.position="sticky",Se.right=K);var ke=(t=(n=(r=Te==null?void 0:Te.colSpan)!==null&&r!==void 0?r:ae.colSpan)!==null&&n!==void 0?n:z)!==null&&t!==void 0?t:1,Oe=(i=(d=(g=Te==null?void 0:Te.rowSpan)!==null&&g!==void 0?g:ae.rowSpan)!==null&&d!==void 0?d:H)!==null&&i!==void 0?i:1,Ne=FCe($,Oe),qe=at(Ne,2),Ke=qe[0],He=qe[1],nt=xa(function(ct){var xt;R&&He($,$+Oe-1),ae==null||(xt=ae.onMouseEnter)===null||xt===void 0||xt.call(ae,ct)}),Je=xa(function(ct){var xt;R&&He(-1,-1),ae==null||(xt=ae.onMouseLeave)===null||xt===void 0||xt.call(ae,ct)});if(ke===0||Oe===0)return null;var ut=(v=ae.title)!==null&&v!==void 0?v:qCe({rowType:F,ellipsis:_,children:_e}),lt=Ue(he,w,(S={},Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(S,"".concat(he,"-fix-left"),De&&ye),"".concat(he,"-fix-left-first"),J&&ye),"".concat(he,"-fix-left-last"),te&&ye),"".concat(he,"-fix-left-all"),te&&be&&ye),"".concat(he,"-fix-right"),je&&ye),"".concat(he,"-fix-right-first"),Z&&ye),"".concat(he,"-fix-right-last"),X&&ye),"".concat(he,"-ellipsis"),_),"".concat(he,"-with-append"),re),"".concat(he,"-fix-sticky"),(De||je)&&de&&ye),Ce(S,"".concat(he,"-row-hover"),!Te&&Ke)),ae.className,Te==null?void 0:Te.className),et={};O&&(et.textAlign=O);var Ye=Pe(Pe(Pe(Pe({},Te==null?void 0:Te.style),Se),et),ae.style),pt=_e;return qn(pt)==="object"&&!Array.isArray(pt)&&!E.isValidElement(pt)&&(pt=null),_&&(te||Z)&&(pt=E.createElement("span",{className:"".concat(he,"-content")},pt)),E.createElement(I,kt({},Te,ae,{className:lt,style:Ye,title:ut,scope:N,onMouseEnter:oe?nt:void 0,onMouseLeave:oe?Je:void 0,colSpan:ke!==1?ke:null,rowSpan:Oe!==1?Oe:null}),re,pt)}const ky=E.memo(zCe);function uj(e,t,n,r,i){var d=n[e]||{},g=n[t]||{},v,S;d.fixed==="left"?v=r.left[i==="rtl"?t:e]:g.fixed==="right"&&(S=r.right[i==="rtl"?e:t]);var I=!1,T=!1,_=!1,N=!1,A=n[t+1],w=n[e-1],O=A&&!A.fixed||w&&!w.fixed||n.every(function(U){return U.fixed==="left"});if(i==="rtl"){if(v!==void 0){var R=w&&w.fixed==="left";N=!R&&O}else if(S!==void 0){var D=A&&A.fixed==="right";_=!D&&O}}else if(v!==void 0){var j=A&&A.fixed==="left";I=!j&&O}else if(S!==void 0){var L=w&&w.fixed==="right";T=!L&&O}return{fixLeft:v,fixRight:S,lastFixLeft:I,firstFixRight:T,lastFixRight:_,firstFixLeft:N,isSticky:r.isSticky}}var _X=E.createContext({});function HCe(e){var t=e.className,n=e.index,r=e.children,i=e.colSpan,d=i===void 0?1:i,g=e.rowSpan,v=e.align,S=Uo(Ns,["prefixCls","direction"]),I=S.prefixCls,T=S.direction,_=E.useContext(_X),N=_.scrollColumnIndex,A=_.stickyOffsets,w=_.flattenColumns,O=n+d-1,R=O+1===N?d+1:d,D=uj(n,n+R-1,w,A,T);return E.createElement(ky,kt({className:t,index:n,component:"td",prefixCls:I,record:null,dataIndex:null,align:v,colSpan:R,rowSpan:g,render:function(){return r}},D))}var GCe=["children"];function KCe(e){var t=e.children,n=ir(e,GCe);return E.createElement("tr",n,t)}function D_(e){var t=e.children;return t}D_.Row=KCe;D_.Cell=HCe;function WCe(e){var t=e.children,n=e.stickyOffsets,r=e.flattenColumns,i=Uo(Ns,"prefixCls"),d=r.length-1,g=r[d],v=E.useMemo(function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:g!=null&&g.scrollbar?d:null}},[g,r,d,n]);return E.createElement(_X.Provider,{value:v},E.createElement("tfoot",{className:"".concat(i,"-summary")},t))}const mT=Oy(WCe);var xX=D_;function YCe(e){return null}function XCe(e){return null}function wX(e,t,n,r,i,d,g){var v=d(t,g);e.push({record:t,indent:n,index:g,rowKey:v});var S=i==null?void 0:i.has(v);if(t&&Array.isArray(t[r])&&S)for(var I=0;I<t[r].length;I+=1)wX(e,t[r][I],n+1,r,i,d,I)}function NX(e,t,n,r){var i=E.useMemo(function(){if(n!=null&&n.size){for(var d=[],g=0;g<(e==null?void 0:e.length);g+=1){var v=e[g];wX(d,v,0,t,n,r,g)}return d}return e==null?void 0:e.map(function(S,I){return{record:S,indent:0,index:I,rowKey:r(S,I)}})},[e,t,n,r]);return i}function RX(e,t,n,r){var i=Uo(Ns,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),d=i.flattenColumns,g=i.expandableType,v=i.expandedKeys,S=i.childrenColumnName,I=i.onTriggerExpand,T=i.rowExpandable,_=i.onRow,N=i.expandRowByClick,A=i.rowClassName,w=g==="nest",O=g==="row"&&(!T||T(e)),R=O||w,D=v&&v.has(t),j=S&&e&&e[S],L=xa(I),U=_==null?void 0:_(e,n),$=U==null?void 0:U.onClick,F=function(K){N&&R&&I(e,K);for(var J=arguments.length,te=new Array(J>1?J-1:0),Z=1;Z<J;Z++)te[Z-1]=arguments[Z];$==null||$.apply(void 0,[K].concat(te))},z;typeof A=="string"?z=A:typeof A=="function"&&(z=A(e,n,r));var H=P_(d);return Pe(Pe({},i),{},{columnsKey:H,nestExpandable:w,expanded:D,hasNestChildren:j,record:e,onTriggerExpand:L,rowSupportExpand:O,expandable:R,rowProps:Pe(Pe({},U),{},{className:Ue(z,U==null?void 0:U.className),onClick:F})})}function AX(e){var t=e.prefixCls,n=e.children,r=e.component,i=e.cellComponent,d=e.className,g=e.expanded,v=e.colSpan,S=e.isEmpty,I=e.stickyOffset,T=I===void 0?0:I,_=Uo(Ns,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),N=_.scrollbarSize,A=_.fixHeader,w=_.fixColumn,O=_.componentWidth,R=_.horizonScroll,D=n;return(S?R&&O:w)&&(D=E.createElement("div",{style:{width:O-T-(A&&!S?N:0),position:"sticky",left:T,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},D)),E.createElement(r,{className:d,style:{display:g?null:"none"}},E.createElement(ky,{component:i,prefixCls:t,colSpan:v},D))}function JCe(e){var t=e.prefixCls,n=e.record,r=e.onExpand,i=e.expanded,d=e.expandable,g="".concat(t,"-row-expand-icon");if(!d)return E.createElement("span",{className:Ue(g,"".concat(t,"-row-spaced"))});var v=function(I){r(n,I),I.stopPropagation()};return E.createElement("span",{className:Ue(g,Ce(Ce({},"".concat(t,"-row-expanded"),i),"".concat(t,"-row-collapsed"),!i)),onClick:v})}function QCe(e,t,n){var r=[];function i(d){(d||[]).forEach(function(g,v){r.push(t(g,v)),i(g[n])})}return i(e),r}function OX(e,t,n,r){return typeof e=="string"?e:typeof e=="function"?e(t,n,r):""}function kX(e,t,n,r,i){var d,g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,S=e.record,I=e.prefixCls,T=e.columnsKey,_=e.fixedInfoList,N=e.expandIconColumnIndex,A=e.nestExpandable,w=e.indentSize,O=e.expandIcon,R=e.expanded,D=e.hasNestChildren,j=e.onTriggerExpand,L=e.expandable,U=e.expandedKeys,$=T[n],F=_[n],z;n===(N||0)&&A&&(z=E.createElement(E.Fragment,null,E.createElement("span",{style:{paddingLeft:"".concat(w*r,"px")},className:"".concat(I,"-row-indent indent-level-").concat(r)}),O({prefixCls:I,expanded:R,expandable:D,record:S,onExpand:j})));var H=((d=t.onCell)===null||d===void 0?void 0:d.call(t,S,i))||{};if(v){var V=H.rowSpan,K=V===void 0?1:V;if(L&&K&&n<v){for(var J=K,te=i;te<i+K;te+=1){var Z=g[te];U.has(Z)&&(J+=1)}H.rowSpan=J}}return{key:$,fixedInfo:F,appendCellNode:z,additionalCellProps:H}}function ZCe(e){var t=e.className,n=e.style,r=e.record,i=e.index,d=e.renderIndex,g=e.rowKey,v=e.rowKeys,S=e.indent,I=S===void 0?0:S,T=e.rowComponent,_=e.cellComponent,N=e.scopeCellComponent,A=e.expandedRowInfo,w=RX(r,g,i,I),O=w.prefixCls,R=w.flattenColumns,D=w.expandedRowClassName,j=w.expandedRowRender,L=w.rowProps,U=w.expanded,$=w.rowSupportExpand,F=E.useRef(!1);F.current||(F.current=U);var z=OX(D,r,i,I),H=E.createElement(T,kt({},L,{"data-row-key":g,className:Ue(t,"".concat(O,"-row"),"".concat(O,"-row-level-").concat(I),L==null?void 0:L.className,Ce({},z,I>=1)),style:Pe(Pe({},n),L==null?void 0:L.style)}),R.map(function(J,te){var Z=J.render,X=J.dataIndex,re=J.className,ee=kX(w,J,te,I,i,v,A==null?void 0:A.offset),ae=ee.key,de=ee.fixedInfo,he=ee.appendCellNode,ue=ee.additionalCellProps;return E.createElement(ky,kt({className:re,ellipsis:J.ellipsis,align:J.align,scope:J.rowScope,component:J.rowScope?N:_,prefixCls:O,key:ae,record:r,index:i,renderIndex:d,dataIndex:X,render:Z,shouldCellUpdate:J.shouldCellUpdate},de,{appendNode:he,additionalProps:ue}))})),V;if($&&(F.current||U)){var K=j(r,i,I+1,U);V=E.createElement(AX,{expanded:U,className:Ue("".concat(O,"-expanded-row"),"".concat(O,"-expanded-row-level-").concat(I+1),z),prefixCls:O,component:T,cellComponent:_,colSpan:A?A.colSpan:R.length,stickyOffset:A==null?void 0:A.sticky,isEmpty:!1},K)}return E.createElement(E.Fragment,null,H,V)}const eTe=Oy(ZCe);function tTe(e){var t=e.columnKey,n=e.onColumnResize,r=E.useRef();return Hr(function(){r.current&&n(t,r.current.offsetWidth)},[]),E.createElement(Do,{data:t},E.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},E.createElement("div",{style:{height:0,overflow:"hidden"}}," ")))}function nTe(e){var t=e.prefixCls,n=e.columnsKey,r=e.onColumnResize,i=E.useRef(null);return E.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0},ref:i},E.createElement(Do.Collection,{onBatchResize:function(g){C0(i.current)&&g.forEach(function(v){var S=v.data,I=v.size;r(S,I.offsetWidth)})}},n.map(function(d){return E.createElement(tTe,{key:d,columnKey:d,onColumnResize:r})})))}function rTe(e){var t=e.data,n=e.measureColumnWidth,r=Uo(Ns,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode","expandedRowOffset","fixedInfoList","colWidths"]),i=r.prefixCls,d=r.getComponent,g=r.onColumnResize,v=r.flattenColumns,S=r.getRowKey,I=r.expandedKeys,T=r.childrenColumnName,_=r.emptyNode,N=r.expandedRowOffset,A=N===void 0?0:N,w=r.colWidths,O=NX(t,T,I,S),R=E.useMemo(function(){return O.map(function(V){return V.rowKey})},[O]),D=E.useRef({renderWithProps:!1}),j=E.useMemo(function(){for(var V=v.length-A,K=0,J=0;J<A;J+=1)K+=w[J]||0;return{offset:A,colSpan:V,sticky:K}},[v.length,A,w]),L=d(["body","wrapper"],"tbody"),U=d(["body","row"],"tr"),$=d(["body","cell"],"td"),F=d(["body","cell"],"th"),z;t.length?z=O.map(function(V,K){var J=V.record,te=V.indent,Z=V.index,X=V.rowKey;return E.createElement(eTe,{key:X,rowKey:X,rowKeys:R,record:J,index:K,renderIndex:Z,rowComponent:U,cellComponent:$,scopeCellComponent:F,indent:te,expandedRowInfo:j})}):z=E.createElement(AX,{expanded:!0,className:"".concat(i,"-placeholder"),prefixCls:i,component:U,cellComponent:$,colSpan:v.length,isEmpty:!0},_);var H=P_(v);return E.createElement(MX.Provider,{value:D.current},E.createElement(L,{className:"".concat(i,"-tbody")},n&&E.createElement(nTe,{prefixCls:i,columnsKey:H,onColumnResize:g}),z))}const aTe=Oy(rTe);var iTe=["expandable"],zI="RC_TABLE_INTERNAL_COL_DEFINE";function oTe(e){var t=e.expandable,n=ir(e,iTe),r;return"expandable"in e?r=Pe(Pe({},n),t):r=n,r.showExpandColumn===!1&&(r.expandIconColumnIndex=-1),r}var sTe=["columnType"];function LX(e){for(var t=e.colWidths,n=e.columns,r=e.columCount,i=Uo(Ns,["tableLayout"]),d=i.tableLayout,g=[],v=r||n.length,S=!1,I=v-1;I>=0;I-=1){var T=t[I],_=n&&n[I],N=void 0,A=void 0;if(_&&(N=_[zI],d==="auto"&&(A=_.minWidth)),T||A||N||S){var w=N||{};w.columnType;var O=ir(w,sTe);g.unshift(E.createElement("col",kt({key:I,style:{width:T,minWidth:A}},O))),S=!0}}return E.createElement("colgroup",null,g)}var lTe=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function cTe(e,t){return E.useMemo(function(){for(var n=[],r=0;r<t;r+=1){var i=e[r];if(i!==void 0)n[r]=i;else return null}return n},[e.join("_"),t])}var uTe=E.forwardRef(function(e,t){var n=e.className,r=e.noData,i=e.columns,d=e.flattenColumns,g=e.colWidths,v=e.columCount,S=e.stickyOffsets,I=e.direction,T=e.fixHeader,_=e.stickyTopOffset,N=e.stickyBottomOffset,A=e.stickyClassName,w=e.onScroll,O=e.maxContentScroll,R=e.children,D=ir(e,lTe),j=Uo(Ns,["prefixCls","scrollbarSize","isSticky","getComponent"]),L=j.prefixCls,U=j.scrollbarSize,$=j.isSticky,F=j.getComponent,z=F(["header","table"],"table"),H=$&&!T?0:U,V=E.useRef(null),K=E.useCallback(function(de){YI(t,de),YI(V,de)},[]);E.useEffect(function(){function de(ue){var ye=ue,be=ye.currentTarget,oe=ye.deltaX;oe&&(w({currentTarget:be,scrollLeft:be.scrollLeft+oe}),ue.preventDefault())}var he=V.current;return he==null||he.addEventListener("wheel",de,{passive:!1}),function(){he==null||he.removeEventListener("wheel",de)}},[]);var J=E.useMemo(function(){return d.every(function(de){return de.width})},[d]),te=d[d.length-1],Z={fixed:te?te.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(L,"-cell-scrollbar")}}},X=E.useMemo(function(){return H?[].concat(Rt(i),[Z]):i},[H,i]),re=E.useMemo(function(){return H?[].concat(Rt(d),[Z]):d},[H,d]),ee=E.useMemo(function(){var de=S.right,he=S.left;return Pe(Pe({},S),{},{left:I==="rtl"?[].concat(Rt(he.map(function(ue){return ue+H})),[0]):he,right:I==="rtl"?de:[].concat(Rt(de.map(function(ue){return ue+H})),[0]),isSticky:$})},[H,S,$]),ae=cTe(g,v);return E.createElement("div",{style:Pe({overflow:"hidden"},$?{top:_,bottom:N}:{}),ref:K,className:Ue(n,Ce({},A,!!A))},E.createElement(z,{style:{tableLayout:"fixed",visibility:r||ae?null:"hidden"}},(!r||!O||J)&&E.createElement(LX,{colWidths:ae?[].concat(Rt(ae),[H]):[],columCount:v+1,columns:re}),R(Pe(Pe({},D),{},{stickyOffsets:ee,columns:X,flattenColumns:re}))))});const i4=E.memo(uTe);var dTe=function(t){var n=t.cells,r=t.stickyOffsets,i=t.flattenColumns,d=t.rowComponent,g=t.cellComponent,v=t.onHeaderRow,S=t.index,I=Uo(Ns,["prefixCls","direction"]),T=I.prefixCls,_=I.direction,N;v&&(N=v(n.map(function(w){return w.column}),S));var A=P_(n.map(function(w){return w.column}));return E.createElement(d,N,n.map(function(w,O){var R=w.column,D=uj(w.colStart,w.colEnd,i,r,_),j;return R&&R.onHeaderCell&&(j=w.column.onHeaderCell(R)),E.createElement(ky,kt({},w,{scope:R.title?w.colSpan>1?"colgroup":"col":null,ellipsis:R.ellipsis,align:R.align,component:g,prefixCls:T,key:A[O]},D,{additionalProps:j,rowType:"header"}))}))};function pTe(e){var t=[];function n(g,v){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;t[S]=t[S]||[];var I=v,T=g.filter(Boolean).map(function(_){var N={key:_.key,className:_.className||"",children:_.title,column:_,colStart:I},A=1,w=_.children;return w&&w.length>0&&(A=n(w,I,S+1).reduce(function(O,R){return O+R},0),N.hasSubColumns=!0),"colSpan"in _&&(A=_.colSpan),"rowSpan"in _&&(N.rowSpan=_.rowSpan),N.colSpan=A,N.colEnd=N.colStart+A-1,t[S].push(N),I+=A,A});return T}n(e,0);for(var r=t.length,i=function(v){t[v].forEach(function(S){!("rowSpan"in S)&&!S.hasSubColumns&&(S.rowSpan=r-v)})},d=0;d<r;d+=1)i(d);return t}var mTe=function(t){var n=t.stickyOffsets,r=t.columns,i=t.flattenColumns,d=t.onHeaderRow,g=Uo(Ns,["prefixCls","getComponent"]),v=g.prefixCls,S=g.getComponent,I=E.useMemo(function(){return pTe(r)},[r]),T=S(["header","wrapper"],"thead"),_=S(["header","row"],"tr"),N=S(["header","cell"],"th");return E.createElement(T,{className:"".concat(v,"-thead")},I.map(function(A,w){var O=E.createElement(dTe,{key:w,flattenColumns:i,cells:A,stickyOffsets:n,rowComponent:_,cellComponent:N,onHeaderRow:d,index:w});return O}))};const o4=Oy(mTe);function s4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof t=="number"?t:t.endsWith("%")?e*parseFloat(t)/100:null}function fTe(e,t,n){return E.useMemo(function(){if(t&&t>0){var r=0,i=0;e.forEach(function(N){var A=s4(t,N.width);A?r+=A:i+=1});var d=Math.max(t,n),g=Math.max(d-r,i),v=i,S=g/i,I=0,T=e.map(function(N){var A=Pe({},N),w=s4(t,A.width);if(w)A.width=w;else{var O=Math.floor(S);A.width=v===1?g:O,g-=O,v-=1}return I+=A.width,A});if(I<d){var _=d/I;g=d,T.forEach(function(N,A){var w=Math.floor(N.width*_);N.width=A===T.length-1?g:w,g-=w})}return[T,Math.max(I,d)]}return[e,t]},[e,t,n])}var gTe=["children"],hTe=["fixed"];function dj(e){return ps(e).filter(function(t){return E.isValidElement(t)}).map(function(t){var n=t.key,r=t.props,i=r.children,d=ir(r,gTe),g=Pe({key:n},d);return i&&(g.children=dj(i)),g})}function PX(e){return e.filter(function(t){return t&&qn(t)==="object"&&!t.hidden}).map(function(t){var n=t.children;return n&&n.length>0?Pe(Pe({},t),{},{children:PX(n)}):t})}function CP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(n){return n&&qn(n)==="object"}).reduce(function(n,r,i){var d=r.fixed,g=d===!0?"left":d,v="".concat(t,"-").concat(i),S=r.children;return S&&S.length>0?[].concat(Rt(n),Rt(CP(S,v).map(function(I){return Pe({fixed:g},I)}))):[].concat(Rt(n),[Pe(Pe({key:v},r),{},{fixed:g})])},[])}function vTe(e){return e.map(function(t){var n=t.fixed,r=ir(t,hTe),i=n;return n==="left"?i="right":n==="right"&&(i="left"),Pe({fixed:i},r)})}function yTe(e,t){var n=e.prefixCls,r=e.columns,i=e.children,d=e.expandable,g=e.expandedKeys,v=e.columnTitle,S=e.getRowKey,I=e.onTriggerExpand,T=e.expandIcon,_=e.rowExpandable,N=e.expandIconColumnIndex,A=e.expandedRowOffset,w=A===void 0?0:A,O=e.direction,R=e.expandRowByClick,D=e.columnWidth,j=e.fixed,L=e.scrollWidth,U=e.clientWidth,$=E.useMemo(function(){var X=r||dj(i)||[];return PX(X.slice())},[r,i]),F=E.useMemo(function(){if(d){var X=$.slice();if(!X.includes(xd)){var re=N||0;re>=0&&(re||j==="left"||!j)&&X.splice(re,0,xd),j==="right"&&X.splice($.length,0,xd)}var ee=X.indexOf(xd);X=X.filter(function(ue,ye){return ue!==xd||ye===ee});var ae=$[ee],de;j?de=j:de=ae?ae.fixed:null;var he=Ce(Ce(Ce(Ce(Ce(Ce({},zI,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",v),"fixed",de),"className","".concat(n,"-row-expand-icon-cell")),"width",D),"render",function(ye,be,oe){var pe=S(be,oe),fe=g.has(pe),_e=_?_(be):!0,Te=T({prefixCls:n,expanded:fe,expandable:_e,record:be,onExpand:I});return R?E.createElement("span",{onClick:function(De){return De.stopPropagation()}},Te):Te});return X.map(function(ue,ye){var be=ue===xd?he:ue;return ye<w?Pe(Pe({},be),{},{fixed:be.fixed||"left"}):be})}return $.filter(function(ue){return ue!==xd})},[d,$,S,g,T,O,w]),z=E.useMemo(function(){var X=F;return t&&(X=t(X)),X.length||(X=[{render:function(){return null}}]),X},[t,F,O]),H=E.useMemo(function(){return O==="rtl"?vTe(CP(z)):CP(z)},[z,O,L]),V=E.useMemo(function(){for(var X=-1,re=H.length-1;re>=0;re-=1){var ee=H[re].fixed;if(ee==="left"||ee===!0){X=re;break}}if(X>=0)for(var ae=0;ae<=X;ae+=1){var de=H[ae].fixed;if(de!=="left"&&de!==!0)return!0}var he=H.findIndex(function(be){var oe=be.fixed;return oe==="right"});if(he>=0)for(var ue=he;ue<H.length;ue+=1){var ye=H[ue].fixed;if(ye!=="right")return!0}return!1},[H]),K=fTe(H,L,U),J=at(K,2),te=J[0],Z=J[1];return[z,te,Z,V]}function bTe(e,t,n){var r=oTe(e),i=r.expandIcon,d=r.expandedRowKeys,g=r.defaultExpandedRowKeys,v=r.defaultExpandAllRows,S=r.expandedRowRender,I=r.onExpand,T=r.onExpandedRowsChange,_=r.childrenColumnName,N=i||JCe,A=_||"children",w=E.useMemo(function(){return S?"row":e.expandable&&e.internalHooks===k0&&e.expandable.__PARENT_RENDER_ICON__||t.some(function($){return $&&qn($)==="object"&&$[A]})?"nest":!1},[!!S,t]),O=E.useState(function(){return g||(v?QCe(t,n,A):[])}),R=at(O,2),D=R[0],j=R[1],L=E.useMemo(function(){return new Set(d||D||[])},[d,D]),U=E.useCallback(function($){var F=n($,t.indexOf($)),z,H=L.has(F);H?(L.delete(F),z=Rt(L)):z=[].concat(Rt(L),[F]),j(z),I&&I(!H,$),T&&T(z)},[n,L,t,I,T]);return[r,w,L,N,A,U]}function STe(e,t,n){var r=e.map(function(i,d){return uj(d,d,e,t,n)});return Sg(function(){return r},[r],function(i,d){return!Cu(i,d)})}function ITe(e){var t=E.useRef(e),n=E.useState({}),r=at(n,2),i=r[1],d=E.useRef(null),g=E.useRef([]);function v(S){g.current.push(S);var I=Promise.resolve();d.current=I,I.then(function(){if(d.current===I){var T=g.current,_=t.current;g.current=[],T.forEach(function(N){t.current=N(t.current)}),d.current=null,_!==t.current&&i({})}})}return E.useEffect(function(){return function(){d.current=null}},[]),[t.current,v]}function ETe(e){var t=E.useRef(null),n=E.useRef();function r(){window.clearTimeout(n.current)}function i(g){t.current=g,r(),n.current=window.setTimeout(function(){t.current=null,n.current=void 0},100)}function d(){return t.current}return E.useEffect(function(){return r},[]),[i,d]}function CTe(){var e=E.useState(-1),t=at(e,2),n=t[0],r=t[1],i=E.useState(-1),d=at(i,2),g=d[0],v=d[1],S=E.useCallback(function(I,T){r(I),v(T)},[]);return[n,g,S]}var l4=jo()?window:null;function TTe(e,t){var n=qn(e)==="object"?e:{},r=n.offsetHeader,i=r===void 0?0:r,d=n.offsetSummary,g=d===void 0?0:d,v=n.offsetScroll,S=v===void 0?0:v,I=n.getContainer,T=I===void 0?function(){return l4}:I,_=T()||l4,N=!!e;return E.useMemo(function(){return{isSticky:N,stickyClassName:N?"".concat(t,"-sticky-holder"):"",offsetHeader:i,offsetSummary:g,offsetScroll:S,container:_}},[N,S,i,g,t,_])}function MTe(e,t,n){var r=E.useMemo(function(){var i=t.length,d=function(I,T,_){for(var N=[],A=0,w=I;w!==T;w+=_)N.push(A),t[w].fixed&&(A+=e[w]||0);return N},g=d(0,i,1),v=d(i-1,-1,-1).reverse();return n==="rtl"?{left:v,right:g}:{left:g,right:v}},[e,t,n]);return r}function c4(e){var t=e.className,n=e.children;return E.createElement("div",{className:t},n)}function u4(e){var t=b0(e),n=t.getBoundingClientRect(),r=document.documentElement;return{left:n.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:n.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}var _Te=function(t,n){var r,i,d=t.scrollBodyRef,g=t.onScroll,v=t.offsetScroll,S=t.container,I=t.direction,T=Uo(Ns,"prefixCls"),_=((r=d.current)===null||r===void 0?void 0:r.scrollWidth)||0,N=((i=d.current)===null||i===void 0?void 0:i.clientWidth)||0,A=_&&N*(N/_),w=E.useRef(),O=ITe({scrollLeft:0,isHiddenScrollBar:!0}),R=at(O,2),D=R[0],j=R[1],L=E.useRef({delta:0,x:0}),U=E.useState(!1),$=at(U,2),F=$[0],z=$[1],H=E.useRef(null);E.useEffect(function(){return function(){Fr.cancel(H.current)}},[]);var V=function(){z(!1)},K=function(re){re.persist(),L.current.delta=re.pageX-D.scrollLeft,L.current.x=0,z(!0),re.preventDefault()},J=function(re){var ee,ae=re||((ee=window)===null||ee===void 0?void 0:ee.event),de=ae.buttons;if(!F||de===0){F&&z(!1);return}var he=L.current.x+re.pageX-L.current.x-L.current.delta,ue=I==="rtl";he=Math.max(ue?A-N:0,Math.min(ue?0:N-A,he));var ye=!ue||Math.abs(he)+Math.abs(A)<N;ye&&(g({scrollLeft:he/N*(_+2)}),L.current.x=re.pageX)},te=function(){Fr.cancel(H.current),H.current=Fr(function(){if(d.current){var re=u4(d.current).top,ee=re+d.current.offsetHeight,ae=S===window?document.documentElement.scrollTop+window.innerHeight:u4(S).top+S.clientHeight;ee-gF()<=ae||re>=ae-v?j(function(de){return Pe(Pe({},de),{},{isHiddenScrollBar:!0})}):j(function(de){return Pe(Pe({},de),{},{isHiddenScrollBar:!1})})}})},Z=function(re){j(function(ee){return Pe(Pe({},ee),{},{scrollLeft:re/_*N||0})})};return E.useImperativeHandle(n,function(){return{setScrollLeft:Z,checkScrollBarVisible:te}}),E.useEffect(function(){var X=z3(document.body,"mouseup",V,!1),re=z3(document.body,"mousemove",J,!1);return te(),function(){X.remove(),re.remove()}},[A,F]),E.useEffect(function(){if(d.current){for(var X=[],re=b0(d.current);re;)X.push(re),re=re.parentElement;return X.forEach(function(ee){return ee.addEventListener("scroll",te,!1)}),window.addEventListener("resize",te,!1),window.addEventListener("scroll",te,!1),S.addEventListener("scroll",te,!1),function(){X.forEach(function(ee){return ee.removeEventListener("scroll",te)}),window.removeEventListener("resize",te),window.removeEventListener("scroll",te),S.removeEventListener("scroll",te)}}},[S]),E.useEffect(function(){D.isHiddenScrollBar||j(function(X){var re=d.current;return re?Pe(Pe({},X),{},{scrollLeft:re.scrollLeft/re.scrollWidth*re.clientWidth}):X})},[D.isHiddenScrollBar]),_<=N||!A||D.isHiddenScrollBar?null:E.createElement("div",{style:{height:gF(),width:N,bottom:v},className:"".concat(T,"-sticky-scroll")},E.createElement("div",{onMouseDown:K,ref:w,className:Ue("".concat(T,"-sticky-scroll-bar"),Ce({},"".concat(T,"-sticky-scroll-bar-active"),F)),style:{width:"".concat(A,"px"),transform:"translate3d(".concat(D.scrollLeft,"px, 0, 0)")}}))};const xTe=E.forwardRef(_Te);var DX="rc-table",wTe=[],NTe={};function RTe(){return"No Data"}function ATe(e,t){var n=Pe({rowKey:"key",prefixCls:DX,emptyText:RTe},e),r=n.prefixCls,i=n.className,d=n.rowClassName,g=n.style,v=n.data,S=n.rowKey,I=n.scroll,T=n.tableLayout,_=n.direction,N=n.title,A=n.footer,w=n.summary,O=n.caption,R=n.id,D=n.showHeader,j=n.components,L=n.emptyText,U=n.onRow,$=n.onHeaderRow,F=n.onScroll,z=n.internalHooks,H=n.transformColumns,V=n.internalRefs,K=n.tailor,J=n.getContainerWidth,te=n.sticky,Z=n.rowHoverable,X=Z===void 0?!0:Z,re=v||wTe,ee=!!re.length,ae=z===k0,de=E.useCallback(function(br,ur){return _s(j,br)||ur},[j]),he=E.useMemo(function(){return typeof S=="function"?S:function(br){var ur=br&&br[S];return ur}},[S]),ue=de(["body"]),ye=CTe(),be=at(ye,3),oe=be[0],pe=be[1],fe=be[2],_e=bTe(n,re,he),Te=at(_e,6),Se=Te[0],De=Te[1],je=Te[2],ke=Te[3],Oe=Te[4],Ne=Te[5],qe=I==null?void 0:I.x,Ke=E.useState(0),He=at(Ke,2),nt=He[0],Je=He[1],ut=yTe(Pe(Pe(Pe({},n),Se),{},{expandable:!!Se.expandedRowRender,columnTitle:Se.columnTitle,expandedKeys:je,getRowKey:he,onTriggerExpand:Ne,expandIcon:ke,expandIconColumnIndex:Se.expandIconColumnIndex,direction:_,scrollWidth:ae&&K&&typeof qe=="number"?qe:null,clientWidth:nt}),ae?H:null),lt=at(ut,4),et=lt[0],Ye=lt[1],pt=lt[2],ct=lt[3],xt=pt??qe,jt=E.useMemo(function(){return{columns:et,flattenColumns:Ye}},[et,Ye]),Ut=E.useRef(),Vt=E.useRef(),wt=E.useRef(),Bt=E.useRef();E.useImperativeHandle(t,function(){return{nativeElement:Ut.current,scrollTo:function(ur){var Ya;if(wt.current instanceof HTMLElement){var Ui=ur.index,Ba=ur.top,yo=ur.key;if(VCe(Ba)){var Fa;(Fa=wt.current)===null||Fa===void 0||Fa.scrollTo({top:Ba})}else{var gi,Bi=yo??he(re[Ui]);(gi=wt.current.querySelector('[data-row-key="'.concat(Bi,'"]')))===null||gi===void 0||gi.scrollIntoView()}}else(Ya=wt.current)!==null&&Ya!==void 0&&Ya.scrollTo&&wt.current.scrollTo(ur)}}});var Pt=E.useRef(),ot=E.useState(!1),qt=at(ot,2),vt=qt[0],bt=qt[1],yt=E.useState(!1),gt=at(yt,2),Jt=gt[0],bn=gt[1],Qn=E.useState(new Map),Dn=at(Qn,2),tn=Dn[0],_n=Dn[1],Fn=P_(Ye),Wt=Fn.map(function(br){return tn.get(br)}),xn=E.useMemo(function(){return Wt},[Wt.join("_")]),En=MTe(xn,Ye,_),Sn=I&&EP(I.y),Qt=I&&EP(xt)||!!Se.fixed,Rn=Qt&&Ye.some(function(br){var ur=br.fixed;return ur}),fn=E.useRef(),Gt=TTe(te,r),Xt=Gt.isSticky,$n=Gt.offsetHeader,Un=Gt.offsetSummary,jn=Gt.offsetScroll,Zn=Gt.stickyClassName,An=Gt.container,On=E.useMemo(function(){return w==null?void 0:w(re)},[w,re]),sn=(Sn||Xt)&&E.isValidElement(On)&&On.type===D_&&On.props.fixed,tr,wr,Ar;Sn&&(wr={overflowY:ee?"scroll":"auto",maxHeight:I.y}),Qt&&(tr={overflowX:"auto"},Sn||(wr={overflowY:"hidden"}),Ar={width:xt===!0?"auto":xt,minWidth:"100%"});var nn=E.useCallback(function(br,ur){_n(function(Ya){if(Ya.get(br)!==ur){var Ui=new Map(Ya);return Ui.set(br,ur),Ui}return Ya})},[]),jr=ETe(),Ur=at(jr,2),Pr=Ur[0],gn=Ur[1];function Pn(br,ur){ur&&(typeof ur=="function"?ur(br):ur.scrollLeft!==br&&(ur.scrollLeft=br,ur.scrollLeft!==br&&setTimeout(function(){ur.scrollLeft=br},0)))}var Cn=xa(function(br){var ur=br.currentTarget,Ya=br.scrollLeft,Ui=_==="rtl",Ba=typeof Ya=="number"?Ya:ur.scrollLeft,yo=ur||NTe;if(!gn()||gn()===yo){var Fa;Pr(yo),Pn(Ba,Vt.current),Pn(Ba,wt.current),Pn(Ba,Pt.current),Pn(Ba,(Fa=fn.current)===null||Fa===void 0?void 0:Fa.setScrollLeft)}var gi=ur||Vt.current;if(gi){var Bi=ae&&K&&typeof xt=="number"?xt:gi.scrollWidth,so=gi.clientWidth;if(Bi===so){bt(!1),bn(!1);return}Ui?(bt(-Ba<Bi-so),bn(-Ba>0)):(bt(Ba>0),bn(Ba<Bi-so))}}),en=xa(function(br){Cn(br),F==null||F(br)}),kn=function(){if(Qt&&wt.current){var ur;Cn({currentTarget:b0(wt.current),scrollLeft:(ur=wt.current)===null||ur===void 0?void 0:ur.scrollLeft})}else bt(!1),bn(!1)},Cr=function(ur){var Ya,Ui=ur.width;(Ya=fn.current)===null||Ya===void 0||Ya.checkScrollBarVisible();var Ba=Ut.current?Ut.current.offsetWidth:Ui;ae&&J&&Ut.current&&(Ba=J(Ut.current,Ba)||Ba),Ba!==nt&&(kn(),Je(Ba))},Xr=E.useRef(!1);E.useEffect(function(){Xr.current&&kn()},[Qt,v,et.length]),E.useEffect(function(){Xr.current=!0},[]);var Lt=E.useState(0),Yn=at(Lt,2),Xn=Yn[0],vr=Yn[1],Jr=E.useState(!0),sa=at(Jr,2),er=sa[0],$i=sa[1];Hr(function(){(!K||!ae)&&(wt.current instanceof Element?vr(XL(wt.current).width):vr(XL(Bt.current).width)),$i(sP("position","sticky"))},[]),E.useEffect(function(){ae&&V&&(V.body.current=wt.current)});var Ca=E.useCallback(function(br){return E.createElement(E.Fragment,null,E.createElement(o4,br),sn==="top"&&E.createElement(mT,br,On))},[sn,On]),io=E.useCallback(function(br){return E.createElement(mT,br,On)},[On]),Ri=de(["table"],"table"),Ii=E.useMemo(function(){return T||(Rn?xt==="max-content"?"auto":"fixed":Sn||Xt||Ye.some(function(br){var ur=br.ellipsis;return ur})?"fixed":"auto")},[Sn,Rn,Ye,T,Xt]),oo,Vr={colWidths:xn,columCount:Ye.length,stickyOffsets:En,onHeaderRow:$,fixHeader:Sn,scroll:I},Jn=E.useMemo(function(){return ee?null:typeof L=="function"?L():L},[ee,L]),Mn=E.createElement(aTe,{data:re,measureColumnWidth:Sn||Qt||Xt}),Tr=E.createElement(LX,{colWidths:Ye.map(function(br){var ur=br.width;return ur}),columns:Ye}),Qr=O!=null?E.createElement("caption",{className:"".concat(r,"-caption")},O):void 0,ua=ws(n,{data:!0}),Gr=ws(n,{aria:!0});if(Sn||Xt){var Ei;typeof ue=="function"?(Ei=ue(re,{scrollbarSize:Xn,ref:wt,onScroll:Cn}),Vr.colWidths=Ye.map(function(br,ur){var Ya=br.width,Ui=ur===Ye.length-1?Ya-Xn:Ya;return typeof Ui=="number"&&!Number.isNaN(Ui)?Ui:0})):Ei=E.createElement("div",{style:Pe(Pe({},tr),wr),onScroll:en,ref:wt,className:Ue("".concat(r,"-body"))},E.createElement(Ri,kt({style:Pe(Pe({},Ar),{},{tableLayout:Ii})},Gr),Qr,Tr,Mn,!sn&&On&&E.createElement(mT,{stickyOffsets:En,flattenColumns:Ye},On)));var oi=Pe(Pe(Pe({noData:!re.length,maxContentScroll:Qt&&xt==="max-content"},Vr),jt),{},{direction:_,stickyClassName:Zn,onScroll:Cn});oo=E.createElement(E.Fragment,null,D!==!1&&E.createElement(i4,kt({},oi,{stickyTopOffset:$n,className:"".concat(r,"-header"),ref:Vt}),Ca),Ei,sn&&sn!=="top"&&E.createElement(i4,kt({},oi,{stickyBottomOffset:Un,className:"".concat(r,"-summary"),ref:Pt}),io),Xt&&wt.current&&wt.current instanceof Element&&E.createElement(xTe,{ref:fn,offsetScroll:jn,scrollBodyRef:wt,onScroll:Cn,container:An,direction:_}))}else oo=E.createElement("div",{style:Pe(Pe({},tr),wr),className:Ue("".concat(r,"-content")),onScroll:Cn,ref:wt},E.createElement(Ri,kt({style:Pe(Pe({},Ar),{},{tableLayout:Ii})},Gr),Qr,Tr,D!==!1&&E.createElement(o4,kt({},Vr,jt)),Mn,On&&E.createElement(mT,{stickyOffsets:En,flattenColumns:Ye},On)));var Wa=E.createElement("div",kt({className:Ue(r,i,Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce({},"".concat(r,"-rtl"),_==="rtl"),"".concat(r,"-ping-left"),vt),"".concat(r,"-ping-right"),Jt),"".concat(r,"-layout-fixed"),T==="fixed"),"".concat(r,"-fixed-header"),Sn),"".concat(r,"-fixed-column"),Rn),"".concat(r,"-fixed-column-gapped"),Rn&&ct),"".concat(r,"-scroll-horizontal"),Qt),"".concat(r,"-has-fix-left"),Ye[0]&&Ye[0].fixed),"".concat(r,"-has-fix-right"),Ye[Ye.length-1]&&Ye[Ye.length-1].fixed==="right")),style:g,id:R,ref:Ut},ua),N&&E.createElement(c4,{className:"".concat(r,"-title")},N(re)),E.createElement("div",{ref:Bt,className:"".concat(r,"-container")},oo),A&&E.createElement(c4,{className:"".concat(r,"-footer")},A(re)));Qt&&(Wa=E.createElement(Do,{onResize:Cr},Wa));var si=STe(Ye,En,_),Ua=E.useMemo(function(){return{scrollX:xt,prefixCls:r,getComponent:de,scrollbarSize:Xn,direction:_,fixedInfoList:si,isSticky:Xt,supportSticky:er,componentWidth:nt,fixHeader:Sn,fixColumn:Rn,horizonScroll:Qt,tableLayout:Ii,rowClassName:d,expandedRowClassName:Se.expandedRowClassName,expandIcon:ke,expandableType:De,expandRowByClick:Se.expandRowByClick,expandedRowRender:Se.expandedRowRender,expandedRowOffset:Se.expandedRowOffset,onTriggerExpand:Ne,expandIconColumnIndex:Se.expandIconColumnIndex,indentSize:Se.indentSize,allColumnsFixedLeft:Ye.every(function(br){return br.fixed==="left"}),emptyNode:Jn,columns:et,flattenColumns:Ye,onColumnResize:nn,colWidths:xn,hoverStartRow:oe,hoverEndRow:pe,onHover:fe,rowExpandable:Se.rowExpandable,onRow:U,getRowKey:he,expandedKeys:je,childrenColumnName:Oe,rowHoverable:X}},[xt,r,de,Xn,_,si,Xt,er,nt,Sn,Rn,Qt,Ii,d,Se.expandedRowClassName,ke,De,Se.expandRowByClick,Se.expandedRowRender,Se.expandedRowOffset,Ne,Se.expandIconColumnIndex,Se.indentSize,Jn,et,Ye,nn,xn,oe,pe,fe,Se.rowExpandable,U,he,je,Oe,X]);return E.createElement(Ns.Provider,{value:Ua},Wa)}var OTe=E.forwardRef(ATe);function jX(e){return TX(OTe,e)}var Ly=jX();Ly.EXPAND_COLUMN=xd;Ly.INTERNAL_HOOKS=k0;Ly.Column=YCe;Ly.ColumnGroup=XCe;Ly.Summary=xX;var pj=lj(null),VX=lj(null);function kTe(e,t,n){var r=t||1;return n[e+r]-(n[e]||0)}function LTe(e){var t=e.rowInfo,n=e.column,r=e.colIndex,i=e.indent,d=e.index,g=e.component,v=e.renderIndex,S=e.record,I=e.style,T=e.className,_=e.inverse,N=e.getHeight,A=n.render,w=n.dataIndex,O=n.className,R=n.width,D=Uo(VX,["columnsOffset"]),j=D.columnsOffset,L=kX(t,n,r,i,d),U=L.key,$=L.fixedInfo,F=L.appendCellNode,z=L.additionalCellProps,H=z.style,V=z.colSpan,K=V===void 0?1:V,J=z.rowSpan,te=J===void 0?1:J,Z=r-1,X=kTe(Z,K,j),re=K>1?R-X:0,ee=Pe(Pe(Pe({},H),I),{},{flex:"0 0 ".concat(X,"px"),width:"".concat(X,"px"),marginRight:re,pointerEvents:"auto"}),ae=E.useMemo(function(){return _?te<=1:K===0||te===0||te>1},[te,K,_]);ae?ee.visibility="hidden":_&&(ee.height=N==null?void 0:N(te));var de=ae?function(){return null}:A,he={};return(te===0||K===0)&&(he.rowSpan=1,he.colSpan=1),E.createElement(ky,kt({className:Ue(O,T),ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:g,prefixCls:t.prefixCls,key:U,record:S,index:d,renderIndex:v,dataIndex:w,render:de,shouldCellUpdate:n.shouldCellUpdate},$,{appendNode:F,additionalProps:Pe(Pe({},z),{},{style:ee},he)}))}var PTe=["data","index","className","rowKey","style","extra","getHeight"],DTe=E.forwardRef(function(e,t){var n=e.data,r=e.index,i=e.className,d=e.rowKey,g=e.style,v=e.extra,S=e.getHeight,I=ir(e,PTe),T=n.record,_=n.indent,N=n.index,A=Uo(Ns,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),w=A.scrollX,O=A.flattenColumns,R=A.prefixCls,D=A.fixColumn,j=A.componentWidth,L=Uo(pj,["getComponent"]),U=L.getComponent,$=RX(T,d,r,_),F=U(["body","row"],"div"),z=U(["body","cell"],"div"),H=$.rowSupportExpand,V=$.expanded,K=$.rowProps,J=$.expandedRowRender,te=$.expandedRowClassName,Z;if(H&&V){var X=J(T,r,_+1,V),re=OX(te,T,r,_),ee={};D&&(ee={style:Ce({},"--virtual-width","".concat(j,"px"))});var ae="".concat(R,"-expanded-row-cell");Z=E.createElement(F,{className:Ue("".concat(R,"-expanded-row"),"".concat(R,"-expanded-row-level-").concat(_+1),re)},E.createElement(ky,{component:z,prefixCls:R,className:Ue(ae,Ce({},"".concat(ae,"-fixed"),D)),additionalProps:ee},X))}var de=Pe(Pe({},g),{},{width:w});v&&(de.position="absolute",de.pointerEvents="none");var he=E.createElement(F,kt({},K,I,{"data-row-key":d,ref:H?null:t,className:Ue(i,"".concat(R,"-row"),K==null?void 0:K.className,Ce({},"".concat(R,"-row-extra"),v)),style:Pe(Pe({},de),K==null?void 0:K.style)}),O.map(function(ue,ye){return E.createElement(LTe,{key:ye,component:z,rowInfo:$,column:ue,colIndex:ye,indent:_,index:r,renderIndex:N,record:T,inverse:v,getHeight:S})}));return H?E.createElement("div",{ref:t},he,Z):he}),d4=Oy(DTe),jTe=E.forwardRef(function(e,t){var n=e.data,r=e.onScroll,i=Uo(Ns,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),d=i.flattenColumns,g=i.onColumnResize,v=i.getRowKey,S=i.expandedKeys,I=i.prefixCls,T=i.childrenColumnName,_=i.scrollX,N=i.direction,A=Uo(pj),w=A.sticky,O=A.scrollY,R=A.listItemHeight,D=A.getComponent,j=A.onScroll,L=E.useRef(),U=NX(n,T,S,v),$=E.useMemo(function(){var Z=0;return d.map(function(X){var re=X.width,ee=X.key;return Z+=re,[ee,re,Z]})},[d]),F=E.useMemo(function(){return $.map(function(Z){return Z[2]})},[$]);E.useEffect(function(){$.forEach(function(Z){var X=at(Z,2),re=X[0],ee=X[1];g(re,ee)})},[$]),E.useImperativeHandle(t,function(){var Z,X={scrollTo:function(ee){var ae;(ae=L.current)===null||ae===void 0||ae.scrollTo(ee)},nativeElement:(Z=L.current)===null||Z===void 0?void 0:Z.nativeElement};return Object.defineProperty(X,"scrollLeft",{get:function(){var ee;return((ee=L.current)===null||ee===void 0?void 0:ee.getScrollInfo().x)||0},set:function(ee){var ae;(ae=L.current)===null||ae===void 0||ae.scrollTo({left:ee})}}),X});var z=function(X,re){var ee,ae=(ee=U[re])===null||ee===void 0?void 0:ee.record,de=X.onCell;if(de){var he,ue=de(ae,re);return(he=ue==null?void 0:ue.rowSpan)!==null&&he!==void 0?he:1}return 1},H=function(X){var re=X.start,ee=X.end,ae=X.getSize,de=X.offsetY;if(ee<0)return null;for(var he=d.filter(function(ke){return z(ke,re)===0}),ue=re,ye=function(Oe){if(he=he.filter(function(Ne){return z(Ne,Oe)===0}),!he.length)return ue=Oe,1},be=re;be>=0&&!ye(be);be-=1);for(var oe=d.filter(function(ke){return z(ke,ee)!==1}),pe=ee,fe=function(Oe){if(oe=oe.filter(function(Ne){return z(Ne,Oe)!==1}),!oe.length)return pe=Math.max(Oe-1,ee),1},_e=ee;_e<U.length&&!fe(_e);_e+=1);for(var Te=[],Se=function(Oe){var Ne=U[Oe];if(!Ne)return 1;d.some(function(qe){return z(qe,Oe)>1})&&Te.push(Oe)},De=ue;De<=pe;De+=1)Se(De);var je=Te.map(function(ke){var Oe=U[ke],Ne=v(Oe.record,ke),qe=function(nt){var Je=ke+nt-1,ut=v(U[Je].record,Je),lt=ae(Ne,ut);return lt.bottom-lt.top},Ke=ae(Ne);return E.createElement(d4,{key:ke,data:Oe,rowKey:Ne,index:ke,style:{top:-de+Ke.top},extra:!0,getHeight:qe})});return je},V=E.useMemo(function(){return{columnsOffset:F}},[F]),K="".concat(I,"-tbody"),J=D(["body","wrapper"]),te={};return w&&(te.position="sticky",te.bottom=0,qn(w)==="object"&&w.offsetScroll&&(te.bottom=w.offsetScroll)),E.createElement(VX.Provider,{value:V},E.createElement(C_,{fullHeight:!1,ref:L,prefixCls:"".concat(K,"-virtual"),styles:{horizontalScrollBar:te},className:K,height:O,itemHeight:R||24,data:U,itemKey:function(X){return v(X.record)},component:J,scrollWidth:_,direction:N,onVirtualScroll:function(X){var re,ee=X.x;r({currentTarget:(re=L.current)===null||re===void 0?void 0:re.nativeElement,scrollLeft:ee})},onScroll:j,extraRender:H},function(Z,X,re){var ee=v(Z.record,X);return E.createElement(d4,{data:Z,rowKey:ee,index:X,style:re.style})}))}),VTe=Oy(jTe),$Te=function(t,n){var r=n.ref,i=n.onScroll;return E.createElement(VTe,{ref:r,data:t,onScroll:i})};function UTe(e,t){var n=e.data,r=e.columns,i=e.scroll,d=e.sticky,g=e.prefixCls,v=g===void 0?DX:g,S=e.className,I=e.listItemHeight,T=e.components,_=e.onScroll,N=i||{},A=N.x,w=N.y;typeof A!="number"&&(A=1),typeof w!="number"&&(w=500);var O=xa(function(j,L){return _s(T,j)||L}),R=xa(_),D=E.useMemo(function(){return{sticky:d,scrollY:w,listItemHeight:I,getComponent:O,onScroll:R}},[d,w,I,O,R]);return E.createElement(pj.Provider,{value:D},E.createElement(Ly,kt({},e,{className:Ue(S,"".concat(v,"-virtual")),scroll:Pe(Pe({},i),{},{x:A}),components:Pe(Pe({},T),{},{body:n!=null&&n.length?$Te:void 0}),columns:r,internalHooks:k0,tailor:!0,ref:t})))}var BTe=E.forwardRef(UTe);function $X(e){return TX(BTe,e)}$X();const FTe=e=>null,qTe=e=>null;var mj=E.createContext(null),zTe=E.createContext({}),HTe=function(t){for(var n=t.prefixCls,r=t.level,i=t.isStart,d=t.isEnd,g="".concat(n,"-indent-unit"),v=[],S=0;S<r;S+=1)v.push(E.createElement("span",{key:S,className:Ue(g,Ce(Ce({},"".concat(g,"-start"),i[S]),"".concat(g,"-end"),d[S]))}));return E.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},v)};const GTe=E.memo(HTe);var KTe=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],p4="open",m4="close",WTe="---",m0=function(t){var n,r,i,d=t.eventKey,g=t.className,v=t.style,S=t.dragOver,I=t.dragOverGapTop,T=t.dragOverGapBottom,_=t.isLeaf,N=t.isStart,A=t.isEnd,w=t.expanded,O=t.selected,R=t.checked,D=t.halfChecked,j=t.loading,L=t.domRef,U=t.active,$=t.data,F=t.onMouseMove,z=t.selectable,H=ir(t,KTe),V=Xe.useContext(mj),K=Xe.useContext(zTe),J=Xe.useRef(null),te=Xe.useState(!1),Z=at(te,2),X=Z[0],re=Z[1],ee=!!(V.disabled||t.disabled||(n=K.nodeDisabled)!==null&&n!==void 0&&n.call(K,$)),ae=Xe.useMemo(function(){return!V.checkable||t.checkable===!1?!1:V.checkable},[V.checkable,t.checkable]),de=function(ot){ee||V.onNodeSelect(ot,ro(t))},he=function(ot){ee||!ae||t.disableCheckbox||V.onNodeCheck(ot,ro(t),!R)},ue=Xe.useMemo(function(){return typeof z=="boolean"?z:V.selectable},[z,V.selectable]),ye=function(ot){V.onNodeClick(ot,ro(t)),ue?de(ot):he(ot)},be=function(ot){V.onNodeDoubleClick(ot,ro(t))},oe=function(ot){V.onNodeMouseEnter(ot,ro(t))},pe=function(ot){V.onNodeMouseLeave(ot,ro(t))},fe=function(ot){V.onNodeContextMenu(ot,ro(t))},_e=Xe.useMemo(function(){return!!(V.draggable&&(!V.draggable.nodeDraggable||V.draggable.nodeDraggable($)))},[V.draggable,$]),Te=function(ot){ot.stopPropagation(),re(!0),V.onNodeDragStart(ot,t);try{ot.dataTransfer.setData("text/plain","")}catch{}},Se=function(ot){ot.preventDefault(),ot.stopPropagation(),V.onNodeDragEnter(ot,t)},De=function(ot){ot.preventDefault(),ot.stopPropagation(),V.onNodeDragOver(ot,t)},je=function(ot){ot.stopPropagation(),V.onNodeDragLeave(ot,t)},ke=function(ot){ot.stopPropagation(),re(!1),V.onNodeDragEnd(ot,t)},Oe=function(ot){ot.preventDefault(),ot.stopPropagation(),re(!1),V.onNodeDrop(ot,t)},Ne=function(ot){j||V.onNodeExpand(ot,ro(t))},qe=Xe.useMemo(function(){var Pt=Ws(V.keyEntities,d)||{},ot=Pt.children;return!!(ot||[]).length},[V.keyEntities,d]),Ke=Xe.useMemo(function(){return _===!1?!1:_||!V.loadData&&!qe||V.loadData&&t.loaded&&!qe},[_,V.loadData,qe,t.loaded]);Xe.useEffect(function(){j||typeof V.loadData=="function"&&w&&!Ke&&!t.loaded&&V.onNodeLoad(ro(t))},[j,V.loadData,V.onNodeLoad,w,Ke,t]);var He=Xe.useMemo(function(){var Pt;return(Pt=V.draggable)!==null&&Pt!==void 0&&Pt.icon?Xe.createElement("span",{className:"".concat(V.prefixCls,"-draggable-icon")},V.draggable.icon):null},[V.draggable]),nt=function(ot){var qt=t.switcherIcon||V.switcherIcon;return typeof qt=="function"?qt(Pe(Pe({},t),{},{isLeaf:ot})):qt},Je=function(){if(Ke){var ot=nt(!0);return ot!==!1?Xe.createElement("span",{className:Ue("".concat(V.prefixCls,"-switcher"),"".concat(V.prefixCls,"-switcher-noop"))},ot):null}var qt=nt(!1);return qt!==!1?Xe.createElement("span",{onClick:Ne,className:Ue("".concat(V.prefixCls,"-switcher"),"".concat(V.prefixCls,"-switcher_").concat(w?p4:m4))},qt):null},ut=Xe.useMemo(function(){if(!ae)return null;var Pt=typeof ae!="boolean"?ae:null;return Xe.createElement("span",{className:Ue("".concat(V.prefixCls,"-checkbox"),Ce(Ce(Ce({},"".concat(V.prefixCls,"-checkbox-checked"),R),"".concat(V.prefixCls,"-checkbox-indeterminate"),!R&&D),"".concat(V.prefixCls,"-checkbox-disabled"),ee||t.disableCheckbox)),onClick:he,role:"checkbox","aria-checked":D?"mixed":R,"aria-disabled":ee||t.disableCheckbox,"aria-label":"Select ".concat(typeof t.title=="string"?t.title:"tree node")},Pt)},[ae,R,D,ee,t.disableCheckbox,t.title]),lt=Xe.useMemo(function(){return Ke?null:w?p4:m4},[Ke,w]),et=Xe.useMemo(function(){return Xe.createElement("span",{className:Ue("".concat(V.prefixCls,"-iconEle"),"".concat(V.prefixCls,"-icon__").concat(lt||"docu"),Ce({},"".concat(V.prefixCls,"-icon_loading"),j))})},[V.prefixCls,lt,j]),Ye=Xe.useMemo(function(){var Pt=!!V.draggable,ot=!t.disabled&&Pt&&V.dragOverNodeKey===d;return ot?V.dropIndicatorRender({dropPosition:V.dropPosition,dropLevelOffset:V.dropLevelOffset,indent:V.indent,prefixCls:V.prefixCls,direction:V.direction}):null},[V.dropPosition,V.dropLevelOffset,V.indent,V.prefixCls,V.direction,V.draggable,V.dragOverNodeKey,V.dropIndicatorRender]),pt=Xe.useMemo(function(){var Pt=t.title,ot=Pt===void 0?WTe:Pt,qt="".concat(V.prefixCls,"-node-content-wrapper"),vt;if(V.showIcon){var bt=t.icon||V.icon;vt=bt?Xe.createElement("span",{className:Ue("".concat(V.prefixCls,"-iconEle"),"".concat(V.prefixCls,"-icon__customize"))},typeof bt=="function"?bt(t):bt):et}else V.loadData&&j&&(vt=et);var yt;return typeof ot=="function"?yt=ot($):V.titleRender?yt=V.titleRender($):yt=ot,Xe.createElement("span",{ref:J,title:typeof ot=="string"?ot:"",className:Ue(qt,"".concat(qt,"-").concat(lt||"normal"),Ce({},"".concat(V.prefixCls,"-node-selected"),!ee&&(O||X))),onMouseEnter:oe,onMouseLeave:pe,onContextMenu:fe,onClick:ye,onDoubleClick:be},vt,Xe.createElement("span",{className:"".concat(V.prefixCls,"-title")},yt),Ye)},[V.prefixCls,V.showIcon,t,V.icon,et,V.titleRender,$,lt,oe,pe,fe,ye,be]),ct=ws(H,{aria:!0,data:!0}),xt=Ws(V.keyEntities,d)||{},jt=xt.level,Ut=A[A.length-1],Vt=!ee&&_e,wt=V.draggingNodeKey===d,Bt=z!==void 0?{"aria-selected":!!z}:void 0;return Xe.createElement("div",kt({ref:L,role:"treeitem","aria-expanded":_?void 0:w,className:Ue(g,"".concat(V.prefixCls,"-treenode"),(i={},Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(Ce(i,"".concat(V.prefixCls,"-treenode-disabled"),ee),"".concat(V.prefixCls,"-treenode-switcher-").concat(w?"open":"close"),!_),"".concat(V.prefixCls,"-treenode-checkbox-checked"),R),"".concat(V.prefixCls,"-treenode-checkbox-indeterminate"),D),"".concat(V.prefixCls,"-treenode-selected"),O),"".concat(V.prefixCls,"-treenode-loading"),j),"".concat(V.prefixCls,"-treenode-active"),U),"".concat(V.prefixCls,"-treenode-leaf-last"),Ut),"".concat(V.prefixCls,"-treenode-draggable"),_e),"dragging",wt),Ce(Ce(Ce(Ce(Ce(Ce(Ce(i,"drop-target",V.dropTargetKey===d),"drop-container",V.dropContainerKey===d),"drag-over",!ee&&S),"drag-over-gap-top",!ee&&I),"drag-over-gap-bottom",!ee&&T),"filter-node",(r=V.filterTreeNode)===null||r===void 0?void 0:r.call(V,ro(t))),"".concat(V.prefixCls,"-treenode-leaf"),Ke))),style:v,draggable:Vt,onDragStart:Vt?Te:void 0,onDragEnter:_e?Se:void 0,onDragOver:_e?De:void 0,onDragLeave:_e?je:void 0,onDrop:_e?Oe:void 0,onDragEnd:_e?ke:void 0,onMouseMove:F},Bt,ct),Xe.createElement(GTe,{prefixCls:V.prefixCls,level:jt,isStart:N,isEnd:A}),He,Je(),ut,pt)};m0.isTreeNode=1;function bu(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function _d(e,t){var n=(e||[]).slice();return n.indexOf(t)===-1&&n.push(t),n}function fj(e){return e.split("-")}function YTe(e,t){var n=[],r=Ws(t,e);function i(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];d.forEach(function(g){var v=g.key,S=g.children;n.push(v),i(S)})}return i(r.children),n}function XTe(e){if(e.parent){var t=fj(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function JTe(e){var t=fj(e.pos);return Number(t[t.length-1])===0}function f4(e,t,n,r,i,d,g,v,S,I){var T,_=e.clientX,N=e.clientY,A=e.target.getBoundingClientRect(),w=A.top,O=A.height,R=(I==="rtl"?-1:1)*(((i==null?void 0:i.x)||0)-_),D=(R-12)/r,j=S.filter(function(ee){var ae;return(ae=v[ee])===null||ae===void 0||(ae=ae.children)===null||ae===void 0?void 0:ae.length}),L=Ws(v,n.eventKey);if(N<w+O/2){var U=g.findIndex(function(ee){return ee.key===L.key}),$=U<=0?0:U-1,F=g[$].key;L=Ws(v,F)}var z=L.key,H=L,V=L.key,K=0,J=0;if(!j.includes(z))for(var te=0;te<D&&XTe(L);te+=1)L=L.parent,J+=1;var Z=t.data,X=L.node,re=!0;return JTe(L)&&L.level===0&&N<w+O/2&&d({dragNode:Z,dropNode:X,dropPosition:-1})&&L.key===n.eventKey?K=-1:(H.children||[]).length&&j.includes(V)?d({dragNode:Z,dropNode:X,dropPosition:0})?K=0:re=!1:J===0?D>-1.5?d({dragNode:Z,dropNode:X,dropPosition:1})?K=1:re=!1:d({dragNode:Z,dropNode:X,dropPosition:0})?K=0:d({dragNode:Z,dropNode:X,dropPosition:1})?K=1:re=!1:d({dragNode:Z,dropNode:X,dropPosition:1})?K=1:re=!1,{dropPosition:K,dropLevelOffset:J,dropTargetKey:L.key,dropTargetPos:L.pos,dragOverNodeKey:V,dropContainerKey:K===0?null:((T=L.parent)===null||T===void 0?void 0:T.key)||null,dropAllowed:re}}function g4(e,t){if(e){var n=t.multiple;return n?e.slice():e.length?[e[0]]:e}}function bN(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(qn(e)==="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return pi(!1,"`checkedKeys` is not an array or an object"),null;return t}function TP(e,t){var n=new Set;function r(i){if(!n.has(i)){var d=Ws(t,i);if(d){n.add(i);var g=d.parent,v=d.node;v.disabled||g&&r(g.key)}}}return(e||[]).forEach(function(i){r(i)}),Rt(n)}function QTe(e){const[t,n]=E.useState(null);return[E.useCallback((d,g,v)=>{const S=t??d,I=Math.min(S||0,d),T=Math.max(S||0,d),_=g.slice(I,T+1).map(w=>e(w)),N=_.some(w=>!v.has(w)),A=[];return _.forEach(w=>{N?(v.has(w)||A.push(w),v.add(w)):(v.delete(w),A.push(w))}),n(N?T:null),A},[t]),d=>{n(d)}]}const um={},MP="SELECT_ALL",_P="SELECT_INVERT",xP="SELECT_NONE",h4=[],UX=(e,t,n=[])=>((t||[]).forEach(r=>{n.push(r),r&&typeof r=="object"&&e in r&&UX(e,r[e],n)}),n),ZTe=(e,t)=>{const{preserveSelectedRowKeys:n,selectedRowKeys:r,defaultSelectedRowKeys:i,getCheckboxProps:d,onChange:g,onSelect:v,onSelectAll:S,onSelectInvert:I,onSelectNone:T,onSelectMultiple:_,columnWidth:N,type:A,selections:w,fixed:O,renderCell:R,hideSelectAll:D,checkStrictly:j=!0}=t||{},{prefixCls:L,data:U,pageData:$,getRecordByKey:F,getRowKey:z,expandType:H,childrenColumnName:V,locale:K,getPopupContainer:J}=e,te=Cm(),[Z,X]=QTe(ke=>ke),[re,ee]=Si(r||i||h4,{value:r}),ae=E.useRef(new Map),de=E.useCallback(ke=>{if(n){const Oe=new Map;ke.forEach(Ne=>{let qe=F(Ne);!qe&&ae.current.has(Ne)&&(qe=ae.current.get(Ne)),Oe.set(Ne,qe)}),ae.current=Oe}},[F,n]);E.useEffect(()=>{de(re)},[re]);const he=E.useMemo(()=>UX(V,$),[V,$]),{keyEntities:ue}=E.useMemo(()=>{if(j)return{keyEntities:null};let ke=U;if(n){const Oe=new Set(he.map((qe,Ke)=>z(qe,Ke))),Ne=Array.from(ae.current).reduce((qe,[Ke,He])=>Oe.has(Ke)?qe:qe.concat(He),[]);ke=[].concat(Rt(ke),Rt(Ne))}return QD(ke,{externalGetKey:z,childrenPropName:V})},[U,z,j,V,n,he]),ye=E.useMemo(()=>{const ke=new Map;return he.forEach((Oe,Ne)=>{const qe=z(Oe,Ne),Ke=(d?d(Oe):null)||{};ke.set(qe,Ke)}),ke},[he,z,d]),be=E.useCallback(ke=>{const Oe=z(ke);let Ne;return ye.has(Oe)?Ne=ye.get(z(ke)):Ne=d?d(ke):void 0,!!(Ne!=null&&Ne.disabled)},[ye,z]),[oe,pe]=E.useMemo(()=>{if(j)return[re||[],[]];const{checkedKeys:ke,halfCheckedKeys:Oe}=sy(re,!0,ue,be);return[ke||[],Oe]},[re,j,ue,be]),fe=E.useMemo(()=>{const ke=A==="radio"?oe.slice(0,1):oe;return new Set(ke)},[oe,A]),_e=E.useMemo(()=>A==="radio"?new Set:new Set(pe),[pe,A]);E.useEffect(()=>{t||ee(h4)},[!!t]);const Te=E.useCallback((ke,Oe)=>{let Ne,qe;de(ke),n?(Ne=ke,qe=ke.map(Ke=>ae.current.get(Ke))):(Ne=[],qe=[],ke.forEach(Ke=>{const He=F(Ke);He!==void 0&&(Ne.push(Ke),qe.push(He))})),ee(Ne),g==null||g(Ne,qe,{type:Oe})},[ee,F,g,n]),Se=E.useCallback((ke,Oe,Ne,qe)=>{if(v){const Ke=Ne.map(He=>F(He));v(F(ke),Oe,Ke,qe)}Te(Ne,"single")},[v,F,Te]),De=E.useMemo(()=>!w||D?null:(w===!0?[MP,_P,xP]:w).map(Oe=>Oe===MP?{key:"all",text:K.selectionAll,onSelect(){Te(U.map((Ne,qe)=>z(Ne,qe)).filter(Ne=>{const qe=ye.get(Ne);return!(qe!=null&&qe.disabled)||fe.has(Ne)}),"all")}}:Oe===_P?{key:"invert",text:K.selectInvert,onSelect(){const Ne=new Set(fe);$.forEach((Ke,He)=>{const nt=z(Ke,He),Je=ye.get(nt);Je!=null&&Je.disabled||(Ne.has(nt)?Ne.delete(nt):Ne.add(nt))});const qe=Array.from(Ne);I&&(te.deprecated(!1,"onSelectInvert","onChange"),I(qe)),Te(qe,"invert")}}:Oe===xP?{key:"none",text:K.selectNone,onSelect(){T==null||T(),Te(Array.from(fe).filter(Ne=>{const qe=ye.get(Ne);return qe==null?void 0:qe.disabled}),"none")}}:Oe).map(Oe=>Object.assign(Object.assign({},Oe),{onSelect:(...Ne)=>{var qe,Ke;(Ke=Oe.onSelect)===null||Ke===void 0||(qe=Ke).call.apply(qe,[Oe].concat(Ne)),X(null)}})),[w,fe,$,z,I,Te]);return[E.useCallback(ke=>{var Oe;if(!t)return ke.filter(Bt=>Bt!==um);let Ne=Rt(ke);const qe=new Set(fe),Ke=he.map(z).filter(Bt=>!ye.get(Bt).disabled),He=Ke.every(Bt=>qe.has(Bt)),nt=Ke.some(Bt=>qe.has(Bt)),Je=()=>{const Bt=[];He?Ke.forEach(ot=>{qe.delete(ot),Bt.push(ot)}):Ke.forEach(ot=>{qe.has(ot)||(qe.add(ot),Bt.push(ot))});const Pt=Array.from(qe);S==null||S(!He,Pt.map(ot=>F(ot)),Bt.map(ot=>F(ot))),Te(Pt,"all"),X(null)};let ut,lt;if(A!=="radio"){let Bt;if(De){const bt={getPopupContainer:J,items:De.map((yt,gt)=>{const{key:Jt,text:bn,onSelect:Qn}=yt;return{key:Jt??gt,onClick:()=>{Qn==null||Qn(Ke)},label:bn}})};Bt=E.createElement("div",{className:`${L}-selection-extra`},E.createElement(aj,{menu:bt,getPopupContainer:J},E.createElement("span",null,E.createElement(DD,null))))}const Pt=he.map((bt,yt)=>{const gt=z(bt,yt),Jt=ye.get(gt)||{};return Object.assign({checked:qe.has(gt)},Jt)}).filter(({disabled:bt})=>bt),ot=!!Pt.length&&Pt.length===he.length,qt=ot&&Pt.every(({checked:bt})=>bt),vt=ot&&Pt.some(({checked:bt})=>bt);lt=E.createElement(Ys,{checked:ot?qt:!!he.length&&He,indeterminate:ot?!qt&&vt:!He&&nt,onChange:Je,disabled:he.length===0||ot,"aria-label":Bt?"Custom selection":"Select all",skipGroup:!0}),ut=!D&&E.createElement("div",{className:`${L}-selection`},lt,Bt)}let et;A==="radio"?et=(Bt,Pt,ot)=>{const qt=z(Pt,ot),vt=qe.has(qt),bt=ye.get(qt);return{node:E.createElement(Dr,Object.assign({},bt,{checked:vt,onClick:yt=>{var gt;yt.stopPropagation(),(gt=bt==null?void 0:bt.onClick)===null||gt===void 0||gt.call(bt,yt)},onChange:yt=>{var gt;qe.has(qt)||Se(qt,!0,[qt],yt.nativeEvent),(gt=bt==null?void 0:bt.onChange)===null||gt===void 0||gt.call(bt,yt)}})),checked:vt}}:et=(Bt,Pt,ot)=>{var qt;const vt=z(Pt,ot),bt=qe.has(vt),yt=_e.has(vt),gt=ye.get(vt);let Jt;return H==="nest"?Jt=yt:Jt=(qt=gt==null?void 0:gt.indeterminate)!==null&&qt!==void 0?qt:yt,{node:E.createElement(Ys,Object.assign({},gt,{indeterminate:Jt,checked:bt,skipGroup:!0,onClick:bn=>{var Qn;bn.stopPropagation(),(Qn=gt==null?void 0:gt.onClick)===null||Qn===void 0||Qn.call(gt,bn)},onChange:bn=>{var Qn;const{nativeEvent:Dn}=bn,{shiftKey:tn}=Dn,_n=Ke.findIndex(Wt=>Wt===vt),Fn=oe.some(Wt=>Ke.includes(Wt));if(tn&&j&&Fn){const Wt=Z(_n,Ke,qe),xn=Array.from(qe);_==null||_(!bt,xn.map(En=>F(En)),Wt.map(En=>F(En))),Te(xn,"multiple")}else{const Wt=oe;if(j){const xn=bt?bu(Wt,vt):_d(Wt,vt);Se(vt,!bt,xn,Dn)}else{const xn=sy([].concat(Rt(Wt),[vt]),!0,ue,be),{checkedKeys:En,halfCheckedKeys:Sn}=xn;let Qt=En;if(bt){const Rn=new Set(En);Rn.delete(vt),Qt=sy(Array.from(Rn),{halfCheckedKeys:Sn},ue,be).checkedKeys}Se(vt,!bt,Qt,Dn)}}X(bt?null:_n),(Qn=gt==null?void 0:gt.onChange)===null||Qn===void 0||Qn.call(gt,bn)}})),checked:bt}};const Ye=(Bt,Pt,ot)=>{const{node:qt,checked:vt}=et(Bt,Pt,ot);return R?R(vt,Pt,ot,qt):qt};if(!Ne.includes(um))if(Ne.findIndex(Bt=>{var Pt;return((Pt=Bt[zI])===null||Pt===void 0?void 0:Pt.columnType)==="EXPAND_COLUMN"})===0){const[Bt,...Pt]=Ne;Ne=[Bt,um].concat(Rt(Pt))}else Ne=[um].concat(Rt(Ne));const pt=Ne.indexOf(um);Ne=Ne.filter((Bt,Pt)=>Bt!==um||Pt===pt);const ct=Ne[pt-1],xt=Ne[pt+1];let jt=O;jt===void 0&&((xt==null?void 0:xt.fixed)!==void 0?jt=xt.fixed:(ct==null?void 0:ct.fixed)!==void 0&&(jt=ct.fixed)),jt&&ct&&((Oe=ct[zI])===null||Oe===void 0?void 0:Oe.columnType)==="EXPAND_COLUMN"&&ct.fixed===void 0&&(ct.fixed=jt);const Ut=Ue(`${L}-selection-col`,{[`${L}-selection-col-with-dropdown`]:w&&A==="checkbox"}),Vt=()=>t!=null&&t.columnTitle?typeof t.columnTitle=="function"?t.columnTitle(lt):t.columnTitle:ut,wt={fixed:jt,width:N,className:`${L}-selection-column`,title:Vt(),render:Ye,onCell:t.onCell,align:t.align,[zI]:{className:Ut}};return Ne.map(Bt=>Bt===um?wt:Bt)},[z,he,t,oe,fe,_e,N,De,H,ye,_,Se,be]),fe]};function eMe(e,t){return e._antProxy=e._antProxy||{},Object.keys(t).forEach(n=>{if(!(n in e._antProxy)){const r=e[n];e._antProxy[n]=r,e[n]=t[n]}}),e}function tMe(e,t){return E.useImperativeHandle(e,()=>{const n=t(),{nativeElement:r}=n;return typeof Proxy<"u"?new Proxy(r,{get(i,d){return n[d]?n[d]:Reflect.get(i,d)}}):eMe(r,n)})}function nMe(e){return t=>{const{prefixCls:n,onExpand:r,record:i,expanded:d,expandable:g}=t,v=`${n}-row-expand-icon`;return E.createElement("button",{type:"button",onClick:S=>{r(i,S),S.stopPropagation()},className:Ue(v,{[`${v}-spaced`]:!g,[`${v}-expanded`]:g&&d,[`${v}-collapsed`]:g&&!d}),"aria-label":d?e.collapse:e.expand,"aria-expanded":d})}}function rMe(e){return(n,r)=>{const i=n.querySelector(`.${e}-container`);let d=r;if(i){const g=getComputedStyle(i),v=parseInt(g.borderLeftWidth,10),S=parseInt(g.borderRightWidth,10);d=r-v-S}return d}}const Sm=(e,t)=>"key"in e&&e.key!==void 0&&e.key!==null?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t;function Py(e,t){return t?`${t}-${e}`:`${e}`}const j_=(e,t)=>typeof e=="function"?e(t):e,aMe=(e,t)=>{const n=j_(e,t);return Object.prototype.toString.call(n)==="[object Object]"?"":n};function iMe(e){const t=E.useRef(e),n=VD();return[()=>t.current,r=>{t.current=r,n()}]}var oMe=function(t){var n=t.dropPosition,r=t.dropLevelOffset,i=t.indent,d={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(n){case-1:d.top=0,d.left=-r*i;break;case 1:d.bottom=0,d.left=-r*i;break;case 0:d.bottom=0,d.left=i;break}return Xe.createElement("div",{style:d})};function BX(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function sMe(e,t){var n=E.useState(!1),r=at(n,2),i=r[0],d=r[1];Hr(function(){if(i)return e(),function(){t()}},[i]),Hr(function(){return d(!0),function(){d(!1)}},[])}var lMe=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],cMe=E.forwardRef(function(e,t){var n=e.className,r=e.style,i=e.motion,d=e.motionNodes,g=e.motionType,v=e.onMotionStart,S=e.onMotionEnd,I=e.active,T=e.treeNodeRequiredProps,_=ir(e,lMe),N=E.useState(!0),A=at(N,2),w=A[0],O=A[1],R=E.useContext(mj),D=R.prefixCls,j=d&&g!=="hide";Hr(function(){d&&j!==w&&O(j)},[d]);var L=function(){d&&v()},U=E.useRef(!1),$=function(){d&&!U.current&&(U.current=!0,S())};sMe(L,$);var F=function(H){j===H&&$()};return d?E.createElement(Wl,kt({ref:t,visible:w},i,{motionAppear:g==="show",onVisibleChanged:F}),function(z,H){var V=z.className,K=z.style;return E.createElement("div",{ref:H,className:Ue("".concat(D,"-treenode-motion"),V),style:K},d.map(function(J){var te=Object.assign({},(BX(J.data),J.data)),Z=J.title,X=J.key,re=J.isStart,ee=J.isEnd;delete te.children;var ae=qI(X,T);return E.createElement(m0,kt({},te,ae,{title:Z,active:I,data:J.data,key:X,isStart:re,isEnd:ee}))}))}):E.createElement(m0,kt({domRef:t,className:n,style:r},_,{active:I}))});function uMe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=e.length,r=t.length;if(Math.abs(n-r)!==1)return{add:!1,key:null};function i(d,g){var v=new Map;d.forEach(function(I){v.set(I,!0)});var S=g.filter(function(I){return!v.has(I)});return S.length===1?S[0]:null}return n<r?{add:!0,key:i(e,t)}:{add:!1,key:i(t,e)}}function v4(e,t,n){var r=e.findIndex(function(v){return v.key===n}),i=e[r+1],d=t.findIndex(function(v){return v.key===n});if(i){var g=t.findIndex(function(v){return v.key===i.key});return t.slice(d+1,g)}return t.slice(d+1)}var dMe=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],y4={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},pMe=function(){},vg="RC_TREE_MOTION_".concat(Math.random()),wP={key:vg},FX={key:vg,level:0,index:0,pos:"0",node:wP,nodes:[wP]},b4={parent:null,children:[],pos:FX.pos,data:wP,title:null,key:vg,isStart:[],isEnd:[]};function S4(e,t,n,r){return t===!1||!n?e:e.slice(0,Math.ceil(n/r)+1)}function I4(e){var t=e.key,n=e.pos;return A0(t,n)}function mMe(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}var fMe=E.forwardRef(function(e,t){var n=e.prefixCls,r=e.data;e.selectable,e.checkable;var i=e.expandedKeys,d=e.selectedKeys,g=e.checkedKeys,v=e.loadedKeys,S=e.loadingKeys,I=e.halfCheckedKeys,T=e.keyEntities,_=e.disabled,N=e.dragging,A=e.dragOverNodeKey,w=e.dropPosition,O=e.motion,R=e.height,D=e.itemHeight,j=e.virtual,L=e.scrollWidth,U=e.focusable,$=e.activeItem,F=e.focused,z=e.tabIndex,H=e.onKeyDown,V=e.onFocus,K=e.onBlur,J=e.onActiveChange,te=e.onListChangeStart,Z=e.onListChangeEnd,X=ir(e,dMe),re=E.useRef(null),ee=E.useRef(null);E.useImperativeHandle(t,function(){return{scrollTo:function(Ye){re.current.scrollTo(Ye)},getIndentWidth:function(){return ee.current.offsetWidth}}});var ae=E.useState(i),de=at(ae,2),he=de[0],ue=de[1],ye=E.useState(r),be=at(ye,2),oe=be[0],pe=be[1],fe=E.useState(r),_e=at(fe,2),Te=_e[0],Se=_e[1],De=E.useState([]),je=at(De,2),ke=je[0],Oe=je[1],Ne=E.useState(null),qe=at(Ne,2),Ke=qe[0],He=qe[1],nt=E.useRef(r);nt.current=r;function Je(){var et=nt.current;pe(et),Se(et),Oe([]),He(null),Z()}Hr(function(){ue(i);var et=uMe(he,i);if(et.key!==null)if(et.add){var Ye=oe.findIndex(function(Vt){var wt=Vt.key;return wt===et.key}),pt=S4(v4(oe,r,et.key),j,R,D),ct=oe.slice();ct.splice(Ye+1,0,b4),Se(ct),Oe(pt),He("show")}else{var xt=r.findIndex(function(Vt){var wt=Vt.key;return wt===et.key}),jt=S4(v4(r,oe,et.key),j,R,D),Ut=r.slice();Ut.splice(xt+1,0,b4),Se(Ut),Oe(jt),He("hide")}else oe!==r&&(pe(r),Se(r))},[i,r]),E.useEffect(function(){N||Je()},[N]);var ut=O?Te:r,lt={expandedKeys:i,selectedKeys:d,loadedKeys:v,loadingKeys:S,checkedKeys:g,halfCheckedKeys:I,dragOverNodeKey:A,dropPosition:w,keyEntities:T};return E.createElement(E.Fragment,null,F&&$&&E.createElement("span",{style:y4,"aria-live":"assertive"},mMe($)),E.createElement("div",null,E.createElement("input",{style:y4,disabled:U===!1||_,tabIndex:U!==!1?z:null,onKeyDown:H,onFocus:V,onBlur:K,value:"",onChange:pMe,"aria-label":"for screen reader"})),E.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},E.createElement("div",{className:"".concat(n,"-indent")},E.createElement("div",{ref:ee,className:"".concat(n,"-indent-unit")}))),E.createElement(C_,kt({},X,{data:ut,itemKey:I4,height:R,fullHeight:!1,virtual:j,itemHeight:D,scrollWidth:L,prefixCls:"".concat(n,"-list"),ref:re,role:"tree",onVisibleChange:function(Ye){Ye.every(function(pt){return I4(pt)!==vg})&&Je()}}),function(et){var Ye=et.pos,pt=Object.assign({},(BX(et.data),et.data)),ct=et.title,xt=et.key,jt=et.isStart,Ut=et.isEnd,Vt=A0(xt,Ye);delete pt.key,delete pt.children;var wt=qI(Vt,lt);return E.createElement(cMe,kt({},pt,wt,{title:ct,active:!!$&&xt===$.key,pos:Ye,data:et.data,isStart:jt,isEnd:Ut,motion:O,motionNodes:xt===vg?ke:null,motionType:Ke,onMotionStart:te,onMotionEnd:Je,treeNodeRequiredProps:lt,onMouseMove:function(){J(null)}}))}))}),gMe=10,gj=function(e){vl(n,e);var t=Kl(n);function n(){var r;mi(this,n);for(var i=arguments.length,d=new Array(i),g=0;g<i;g++)d[g]=arguments[g];return r=t.call.apply(t,[this].concat(d)),Ce(vn(r),"destroyed",!1),Ce(vn(r),"delayedDragEnterLogic",void 0),Ce(vn(r),"loadingRetryTimes",{}),Ce(vn(r),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:vy()}),Ce(vn(r),"dragStartMousePosition",null),Ce(vn(r),"dragNodeProps",null),Ce(vn(r),"currentMouseOverDroppableNodeKey",null),Ce(vn(r),"listRef",E.createRef()),Ce(vn(r),"onNodeDragStart",function(v,S){var I=r.state,T=I.expandedKeys,_=I.keyEntities,N=r.props.onDragStart,A=S.eventKey;r.dragNodeProps=S,r.dragStartMousePosition={x:v.clientX,y:v.clientY};var w=bu(T,A);r.setState({draggingNodeKey:A,dragChildrenKeys:YTe(A,_),indent:r.listRef.current.getIndentWidth()}),r.setExpandedKeys(w),window.addEventListener("dragend",r.onWindowDragEnd),N==null||N({event:v,node:ro(S)})}),Ce(vn(r),"onNodeDragEnter",function(v,S){var I=r.state,T=I.expandedKeys,_=I.keyEntities,N=I.dragChildrenKeys,A=I.flattenNodes,w=I.indent,O=r.props,R=O.onDragEnter,D=O.onExpand,j=O.allowDrop,L=O.direction,U=S.pos,$=S.eventKey;if(r.currentMouseOverDroppableNodeKey!==$&&(r.currentMouseOverDroppableNodeKey=$),!r.dragNodeProps){r.resetDragState();return}var F=f4(v,r.dragNodeProps,S,w,r.dragStartMousePosition,j,A,_,T,L),z=F.dropPosition,H=F.dropLevelOffset,V=F.dropTargetKey,K=F.dropContainerKey,J=F.dropTargetPos,te=F.dropAllowed,Z=F.dragOverNodeKey;if(N.includes(V)||!te){r.resetDragState();return}if(r.delayedDragEnterLogic||(r.delayedDragEnterLogic={}),Object.keys(r.delayedDragEnterLogic).forEach(function(X){clearTimeout(r.delayedDragEnterLogic[X])}),r.dragNodeProps.eventKey!==S.eventKey&&(v.persist(),r.delayedDragEnterLogic[U]=window.setTimeout(function(){if(r.state.draggingNodeKey!==null){var X=Rt(T),re=Ws(_,S.eventKey);re&&(re.children||[]).length&&(X=_d(T,S.eventKey)),r.props.hasOwnProperty("expandedKeys")||r.setExpandedKeys(X),D==null||D(X,{node:ro(S),expanded:!0,nativeEvent:v.nativeEvent})}},800)),r.dragNodeProps.eventKey===V&&H===0){r.resetDragState();return}r.setState({dragOverNodeKey:Z,dropPosition:z,dropLevelOffset:H,dropTargetKey:V,dropContainerKey:K,dropTargetPos:J,dropAllowed:te}),R==null||R({event:v,node:ro(S),expandedKeys:T})}),Ce(vn(r),"onNodeDragOver",function(v,S){var I=r.state,T=I.dragChildrenKeys,_=I.flattenNodes,N=I.keyEntities,A=I.expandedKeys,w=I.indent,O=r.props,R=O.onDragOver,D=O.allowDrop,j=O.direction;if(r.dragNodeProps){var L=f4(v,r.dragNodeProps,S,w,r.dragStartMousePosition,D,_,N,A,j),U=L.dropPosition,$=L.dropLevelOffset,F=L.dropTargetKey,z=L.dropContainerKey,H=L.dropTargetPos,V=L.dropAllowed,K=L.dragOverNodeKey;T.includes(F)||!V||(r.dragNodeProps.eventKey===F&&$===0?r.state.dropPosition===null&&r.state.dropLevelOffset===null&&r.state.dropTargetKey===null&&r.state.dropContainerKey===null&&r.state.dropTargetPos===null&&r.state.dropAllowed===!1&&r.state.dragOverNodeKey===null||r.resetDragState():U===r.state.dropPosition&&$===r.state.dropLevelOffset&&F===r.state.dropTargetKey&&z===r.state.dropContainerKey&&H===r.state.dropTargetPos&&V===r.state.dropAllowed&&K===r.state.dragOverNodeKey||r.setState({dropPosition:U,dropLevelOffset:$,dropTargetKey:F,dropContainerKey:z,dropTargetPos:H,dropAllowed:V,dragOverNodeKey:K}),R==null||R({event:v,node:ro(S)}))}}),Ce(vn(r),"onNodeDragLeave",function(v,S){r.currentMouseOverDroppableNodeKey===S.eventKey&&!v.currentTarget.contains(v.relatedTarget)&&(r.resetDragState(),r.currentMouseOverDroppableNodeKey=null);var I=r.props.onDragLeave;I==null||I({event:v,node:ro(S)})}),Ce(vn(r),"onWindowDragEnd",function(v){r.onNodeDragEnd(v,null,!0),window.removeEventListener("dragend",r.onWindowDragEnd)}),Ce(vn(r),"onNodeDragEnd",function(v,S){var I=r.props.onDragEnd;r.setState({dragOverNodeKey:null}),r.cleanDragState(),I==null||I({event:v,node:ro(S)}),r.dragNodeProps=null,window.removeEventListener("dragend",r.onWindowDragEnd)}),Ce(vn(r),"onNodeDrop",function(v,S){var I,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=r.state,N=_.dragChildrenKeys,A=_.dropPosition,w=_.dropTargetKey,O=_.dropTargetPos,R=_.dropAllowed;if(R){var D=r.props.onDrop;if(r.setState({dragOverNodeKey:null}),r.cleanDragState(),w!==null){var j=Pe(Pe({},qI(w,r.getTreeNodeRequiredProps())),{},{active:((I=r.getActiveItem())===null||I===void 0?void 0:I.key)===w,data:Ws(r.state.keyEntities,w).node}),L=N.includes(w);pi(!L,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var U=fj(O),$={event:v,node:ro(j),dragNode:r.dragNodeProps?ro(r.dragNodeProps):null,dragNodesKeys:[r.dragNodeProps.eventKey].concat(N),dropToGap:A!==0,dropPosition:A+Number(U[U.length-1])};T||D==null||D($),r.dragNodeProps=null}}}),Ce(vn(r),"cleanDragState",function(){var v=r.state.draggingNodeKey;v!==null&&r.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),r.dragStartMousePosition=null,r.currentMouseOverDroppableNodeKey=null}),Ce(vn(r),"triggerExpandActionExpand",function(v,S){var I=r.state,T=I.expandedKeys,_=I.flattenNodes,N=S.expanded,A=S.key,w=S.isLeaf;if(!(w||v.shiftKey||v.metaKey||v.ctrlKey)){var O=_.filter(function(D){return D.key===A})[0],R=ro(Pe(Pe({},qI(A,r.getTreeNodeRequiredProps())),{},{data:O.data}));r.setExpandedKeys(N?bu(T,A):_d(T,A)),r.onNodeExpand(v,R)}}),Ce(vn(r),"onNodeClick",function(v,S){var I=r.props,T=I.onClick,_=I.expandAction;_==="click"&&r.triggerExpandActionExpand(v,S),T==null||T(v,S)}),Ce(vn(r),"onNodeDoubleClick",function(v,S){var I=r.props,T=I.onDoubleClick,_=I.expandAction;_==="doubleClick"&&r.triggerExpandActionExpand(v,S),T==null||T(v,S)}),Ce(vn(r),"onNodeSelect",function(v,S){var I=r.state.selectedKeys,T=r.state,_=T.keyEntities,N=T.fieldNames,A=r.props,w=A.onSelect,O=A.multiple,R=S.selected,D=S[N.key],j=!R;j?O?I=_d(I,D):I=[D]:I=bu(I,D);var L=I.map(function(U){var $=Ws(_,U);return $?$.node:null}).filter(Boolean);r.setUncontrolledState({selectedKeys:I}),w==null||w(I,{event:"select",selected:j,node:S,selectedNodes:L,nativeEvent:v.nativeEvent})}),Ce(vn(r),"onNodeCheck",function(v,S,I){var T=r.state,_=T.keyEntities,N=T.checkedKeys,A=T.halfCheckedKeys,w=r.props,O=w.checkStrictly,R=w.onCheck,D=S.key,j,L={event:"check",node:S,checked:I,nativeEvent:v.nativeEvent};if(O){var U=I?_d(N,D):bu(N,D),$=bu(A,D);j={checked:U,halfChecked:$},L.checkedNodes=U.map(function(J){return Ws(_,J)}).filter(Boolean).map(function(J){return J.node}),r.setUncontrolledState({checkedKeys:U})}else{var F=sy([].concat(Rt(N),[D]),!0,_),z=F.checkedKeys,H=F.halfCheckedKeys;if(!I){var V=new Set(z);V.delete(D);var K=sy(Array.from(V),{halfCheckedKeys:H},_);z=K.checkedKeys,H=K.halfCheckedKeys}j=z,L.checkedNodes=[],L.checkedNodesPositions=[],L.halfCheckedKeys=H,z.forEach(function(J){var te=Ws(_,J);if(te){var Z=te.node,X=te.pos;L.checkedNodes.push(Z),L.checkedNodesPositions.push({node:Z,pos:X})}}),r.setUncontrolledState({checkedKeys:z},!1,{halfCheckedKeys:H})}R==null||R(j,L)}),Ce(vn(r),"onNodeLoad",function(v){var S,I=v.key,T=r.state.keyEntities,_=Ws(T,I);if(!(_!=null&&(S=_.children)!==null&&S!==void 0&&S.length)){var N=new Promise(function(A,w){r.setState(function(O){var R=O.loadedKeys,D=R===void 0?[]:R,j=O.loadingKeys,L=j===void 0?[]:j,U=r.props,$=U.loadData,F=U.onLoad;if(!$||D.includes(I)||L.includes(I))return null;var z=$(v);return z.then(function(){var H=r.state.loadedKeys,V=_d(H,I);F==null||F(V,{event:"load",node:v}),r.setUncontrolledState({loadedKeys:V}),r.setState(function(K){return{loadingKeys:bu(K.loadingKeys,I)}}),A()}).catch(function(H){if(r.setState(function(K){return{loadingKeys:bu(K.loadingKeys,I)}}),r.loadingRetryTimes[I]=(r.loadingRetryTimes[I]||0)+1,r.loadingRetryTimes[I]>=gMe){var V=r.state.loadedKeys;pi(!1,"Retry for `loadData` many times but still failed. No more retry."),r.setUncontrolledState({loadedKeys:_d(V,I)}),A()}w(H)}),{loadingKeys:_d(L,I)}})});return N.catch(function(){}),N}}),Ce(vn(r),"onNodeMouseEnter",function(v,S){var I=r.props.onMouseEnter;I==null||I({event:v,node:S})}),Ce(vn(r),"onNodeMouseLeave",function(v,S){var I=r.props.onMouseLeave;I==null||I({event:v,node:S})}),Ce(vn(r),"onNodeContextMenu",function(v,S){var I=r.props.onRightClick;I&&(v.preventDefault(),I({event:v,node:S}))}),Ce(vn(r),"onFocus",function(){var v=r.props.onFocus;r.setState({focused:!0});for(var S=arguments.length,I=new Array(S),T=0;T<S;T++)I[T]=arguments[T];v==null||v.apply(void 0,I)}),Ce(vn(r),"onBlur",function(){var v=r.props.onBlur;r.setState({focused:!1}),r.onActiveChange(null);for(var S=arguments.length,I=new Array(S),T=0;T<S;T++)I[T]=arguments[T];v==null||v.apply(void 0,I)}),Ce(vn(r),"getTreeNodeRequiredProps",function(){var v=r.state,S=v.expandedKeys,I=v.selectedKeys,T=v.loadedKeys,_=v.loadingKeys,N=v.checkedKeys,A=v.halfCheckedKeys,w=v.dragOverNodeKey,O=v.dropPosition,R=v.keyEntities;return{expandedKeys:S||[],selectedKeys:I||[],loadedKeys:T||[],loadingKeys:_||[],checkedKeys:N||[],halfCheckedKeys:A||[],dragOverNodeKey:w,dropPosition:O,keyEntities:R}}),Ce(vn(r),"setExpandedKeys",function(v){var S=r.state,I=S.treeData,T=S.fieldNames,_=dN(I,v,T);r.setUncontrolledState({expandedKeys:v,flattenNodes:_},!0)}),Ce(vn(r),"onNodeExpand",function(v,S){var I=r.state.expandedKeys,T=r.state,_=T.listChanging,N=T.fieldNames,A=r.props,w=A.onExpand,O=A.loadData,R=S.expanded,D=S[N.key];if(!_){var j=I.includes(D),L=!R;if(pi(R&&j||!R&&!j,"Expand state not sync with index check"),I=L?_d(I,D):bu(I,D),r.setExpandedKeys(I),w==null||w(I,{node:S,expanded:L,nativeEvent:v.nativeEvent}),L&&O){var U=r.onNodeLoad(S);U&&U.then(function(){var $=dN(r.state.treeData,I,N);r.setUncontrolledState({flattenNodes:$})}).catch(function(){var $=r.state.expandedKeys,F=bu($,D);r.setExpandedKeys(F)})}}}),Ce(vn(r),"onListChangeStart",function(){r.setUncontrolledState({listChanging:!0})}),Ce(vn(r),"onListChangeEnd",function(){setTimeout(function(){r.setUncontrolledState({listChanging:!1})})}),Ce(vn(r),"onActiveChange",function(v){var S=r.state.activeKey,I=r.props,T=I.onActiveChange,_=I.itemScrollOffset,N=_===void 0?0:_;S!==v&&(r.setState({activeKey:v}),v!==null&&r.scrollTo({key:v,offset:N}),T==null||T(v))}),Ce(vn(r),"getActiveItem",function(){var v=r.state,S=v.activeKey,I=v.flattenNodes;return S===null?null:I.find(function(T){var _=T.key;return _===S})||null}),Ce(vn(r),"offsetActiveKey",function(v){var S=r.state,I=S.flattenNodes,T=S.activeKey,_=I.findIndex(function(w){var O=w.key;return O===T});_===-1&&v<0&&(_=I.length),_=(_+v+I.length)%I.length;var N=I[_];if(N){var A=N.key;r.onActiveChange(A)}else r.onActiveChange(null)}),Ce(vn(r),"onKeyDown",function(v){var S=r.state,I=S.activeKey,T=S.expandedKeys,_=S.checkedKeys,N=S.fieldNames,A=r.props,w=A.onKeyDown,O=A.checkable,R=A.selectable;switch(v.which){case Vn.UP:{r.offsetActiveKey(-1),v.preventDefault();break}case Vn.DOWN:{r.offsetActiveKey(1),v.preventDefault();break}}var D=r.getActiveItem();if(D&&D.data){var j=r.getTreeNodeRequiredProps(),L=D.data.isLeaf===!1||!!(D.data[N.children]||[]).length,U=ro(Pe(Pe({},qI(I,j)),{},{data:D.data,active:!0}));switch(v.which){case Vn.LEFT:{L&&T.includes(I)?r.onNodeExpand({},U):D.parent&&r.onActiveChange(D.parent.key),v.preventDefault();break}case Vn.RIGHT:{L&&!T.includes(I)?r.onNodeExpand({},U):D.children&&D.children.length&&r.onActiveChange(D.children[0].key),v.preventDefault();break}case Vn.ENTER:case Vn.SPACE:{O&&!U.disabled&&U.checkable!==!1&&!U.disableCheckbox?r.onNodeCheck({},U,!_.includes(I)):!O&&R&&!U.disabled&&U.selectable!==!1&&r.onNodeSelect({},U);break}}}w==null||w(v)}),Ce(vn(r),"setUncontrolledState",function(v){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r.destroyed){var T=!1,_=!0,N={};Object.keys(v).forEach(function(A){if(r.props.hasOwnProperty(A)){_=!1;return}T=!0,N[A]=v[A]}),T&&(!S||_)&&r.setState(Pe(Pe({},N),I))}}),Ce(vn(r),"scrollTo",function(v){r.listRef.current.scrollTo(v)}),r}return fi(n,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var i=this.props,d=i.activeKey,g=i.itemScrollOffset,v=g===void 0?0:g;d!==void 0&&d!==this.state.activeKey&&(this.setState({activeKey:d}),d!==null&&this.scrollTo({key:d,offset:v}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var i=this.state,d=i.focused,g=i.flattenNodes,v=i.keyEntities,S=i.draggingNodeKey,I=i.activeKey,T=i.dropLevelOffset,_=i.dropContainerKey,N=i.dropTargetKey,A=i.dropPosition,w=i.dragOverNodeKey,O=i.indent,R=this.props,D=R.prefixCls,j=R.className,L=R.style,U=R.showLine,$=R.focusable,F=R.tabIndex,z=F===void 0?0:F,H=R.selectable,V=R.showIcon,K=R.icon,J=R.switcherIcon,te=R.draggable,Z=R.checkable,X=R.checkStrictly,re=R.disabled,ee=R.motion,ae=R.loadData,de=R.filterTreeNode,he=R.height,ue=R.itemHeight,ye=R.scrollWidth,be=R.virtual,oe=R.titleRender,pe=R.dropIndicatorRender,fe=R.onContextMenu,_e=R.onScroll,Te=R.direction,Se=R.rootClassName,De=R.rootStyle,je=ws(this.props,{aria:!0,data:!0}),ke;te&&(qn(te)==="object"?ke=te:typeof te=="function"?ke={nodeDraggable:te}:ke={});var Oe={prefixCls:D,selectable:H,showIcon:V,icon:K,switcherIcon:J,draggable:ke,draggingNodeKey:S,checkable:Z,checkStrictly:X,disabled:re,keyEntities:v,dropLevelOffset:T,dropContainerKey:_,dropTargetKey:N,dropPosition:A,dragOverNodeKey:w,indent:O,direction:Te,dropIndicatorRender:pe,loadData:ae,filterTreeNode:de,titleRender:oe,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return E.createElement(mj.Provider,{value:Oe},E.createElement("div",{className:Ue(D,j,Se,Ce(Ce(Ce({},"".concat(D,"-show-line"),U),"".concat(D,"-focused"),d),"".concat(D,"-active-focused"),I!==null)),style:De},E.createElement(fMe,kt({ref:this.listRef,prefixCls:D,style:L,data:g,disabled:re,selectable:H,checkable:!!Z,motion:ee,dragging:S!==null,height:he,itemHeight:ue,virtual:be,focusable:$,focused:d,tabIndex:z,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:fe,onScroll:_e,scrollWidth:ye},this.getTreeNodeRequiredProps(),je))))}}],[{key:"getDerivedStateFromProps",value:function(i,d){var g=d.prevProps,v={prevProps:i};function S(z){return!g&&i.hasOwnProperty(z)||g&&g[z]!==i[z]}var I,T=d.fieldNames;if(S("fieldNames")&&(T=vy(i.fieldNames),v.fieldNames=T),S("treeData")?I=i.treeData:S("children")&&(pi(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),I=UY(i.children)),I){v.treeData=I;var _=QD(I,{fieldNames:T});v.keyEntities=Pe(Ce({},vg,FX),_.keyEntities)}var N=v.keyEntities||d.keyEntities;if(S("expandedKeys")||g&&S("autoExpandParent"))v.expandedKeys=i.autoExpandParent||!g&&i.defaultExpandParent?TP(i.expandedKeys,N):i.expandedKeys;else if(!g&&i.defaultExpandAll){var A=Pe({},N);delete A[vg];var w=[];Object.keys(A).forEach(function(z){var H=A[z];H.children&&H.children.length&&w.push(H.key)}),v.expandedKeys=w}else!g&&i.defaultExpandedKeys&&(v.expandedKeys=i.autoExpandParent||i.defaultExpandParent?TP(i.defaultExpandedKeys,N):i.defaultExpandedKeys);if(v.expandedKeys||delete v.expandedKeys,I||v.expandedKeys){var O=dN(I||d.treeData,v.expandedKeys||d.expandedKeys,T);v.flattenNodes=O}if(i.selectable&&(S("selectedKeys")?v.selectedKeys=g4(i.selectedKeys,i):!g&&i.defaultSelectedKeys&&(v.selectedKeys=g4(i.defaultSelectedKeys,i))),i.checkable){var R;if(S("checkedKeys")?R=bN(i.checkedKeys)||{}:!g&&i.defaultCheckedKeys?R=bN(i.defaultCheckedKeys)||{}:I&&(R=bN(i.checkedKeys)||{checkedKeys:d.checkedKeys,halfCheckedKeys:d.halfCheckedKeys}),R){var D=R,j=D.checkedKeys,L=j===void 0?[]:j,U=D.halfCheckedKeys,$=U===void 0?[]:U;if(!i.checkStrictly){var F=sy(L,!0,N);L=F.checkedKeys,$=F.halfCheckedKeys}v.checkedKeys=L,v.halfCheckedKeys=$}}return S("loadedKeys")&&(v.loadedKeys=i.loadedKeys),v}}]),n}(E.Component);Ce(gj,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:oMe,allowDrop:function(){return!0},expandAction:!1});Ce(gj,"TreeNode",m0);const hMe=({treeCls:e,treeNodeCls:t,directoryNodeSelectedBg:n,directoryNodeSelectedColor:r,motionDurationMid:i,borderRadius:d,controlItemBgHover:g})=>({[`${e}${e}-directory ${t}`]:{[`${e}-node-content-wrapper`]:{position:"static",[`&:has(${e}-drop-indicator)`]:{position:"relative"},[`> *:not(${e}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${i}`,content:'""',borderRadius:d},"&:hover:before":{background:g}},[`${e}-switcher, ${e}-checkbox, ${e}-draggable-icon`]:{zIndex:1},"&-selected":{background:n,borderRadius:d,[`${e}-switcher, ${e}-draggable-icon`]:{color:r},[`${e}-node-content-wrapper`]:{color:r,background:"transparent","&:before, &:hover:before":{background:n}}}}}),vMe=new ca("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),yMe=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),bMe=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${Le(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),SMe=(e,t)=>{const{treeCls:n,treeNodeCls:r,treeNodePadding:i,titleHeight:d,indentSize:g,nodeSelectedBg:v,nodeHoverBg:S,colorTextQuaternary:I,controlItemBgActiveDisabled:T}=t;return{[n]:Object.assign(Object.assign({},Sa(t)),{"--rc-virtual-list-scrollbar-bg":t.colorSplit,background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${n}-rtl ${n}-switcher_close ${n}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${n}-active-focused)`]:Object.assign({},_u(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${r}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:vMe,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[r]:{display:"flex",alignItems:"flex-start",marginBottom:i,lineHeight:Le(d),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:i},[`&-disabled ${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${n}-checkbox-disabled + ${n}-node-selected,&${r}-disabled${r}-selected ${n}-node-content-wrapper`]:{backgroundColor:T},[`${n}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${r}-disabled)`]:{[`${n}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${n}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${r}-disabled).filter-node ${n}-title`]:{color:t.colorPrimary,fontWeight:t.fontWeightStrong},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:d,textAlign:"center",visibility:"visible",color:I},[`&${r}-disabled ${n}-draggable-icon`]:{visibility:"hidden"}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:g}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher, ${n}-checkbox`]:{marginInlineEnd:t.calc(t.calc(d).sub(t.controlInteractiveSize)).div(2).equal()},[`${n}-switcher`]:Object.assign(Object.assign({},yMe(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:d,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:d,height:d,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${n}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(d).div(2).equal(),bottom:t.calc(i).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(d).div(2).equal()).mul(.8).equal(),height:t.calc(d).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:d,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},bMe(e,t)),{"&:hover":{backgroundColor:S},[`&${n}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:v},[`${n}-iconEle`]:{display:"inline-block",width:d,height:d,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${r}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${n}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(d).div(2).equal(),bottom:t.calc(i).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${r}-leaf-last ${n}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${Le(t.calc(d).div(2).equal())} !important`}})}},IMe=(e,t,n=!0)=>{const r=`.${e}`,i=`${r}-treenode`,d=t.calc(t.paddingXS).div(2).equal(),g=qr(t,{treeCls:r,treeNodeCls:i,treeNodePadding:d});return[SMe(e,g),n&&hMe(g)].filter(Boolean)},EMe=e=>{const{controlHeightSM:t,controlItemBgHover:n,controlItemBgActive:r}=e,i=t;return{titleHeight:i,indentSize:i,nodeHoverBg:n,nodeHoverColor:e.colorText,nodeSelectedBg:r,nodeSelectedColor:e.colorText}},CMe=e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},EMe(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})},TMe=fa("Tree",(e,{prefixCls:t})=>[{[e.componentCls]:FY(`${t}-checkbox`,e)},IMe(t,e),c_(e)],CMe),E4=4;function MMe(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:r,indent:i,direction:d="ltr"}=e,g=d==="ltr"?"left":"right",v=d==="ltr"?"right":"left",S={[g]:-n*i+E4,[v]:0};switch(t){case-1:S.top=-3;break;case 1:S.bottom=-3;break;default:S.bottom=-3,S[g]=i+E4;break}return Xe.createElement("div",{style:S,className:`${r}-drop-indicator`})}const _Me=e=>{var t,n;const{prefixCls:r,switcherIcon:i,treeNodeProps:d,showLine:g,switcherLoadingIcon:v}=e,{isLeaf:S,expanded:I,loading:T}=d;if(T)return E.isValidElement(v)?v:E.createElement(kd,{className:`${r}-switcher-loading-icon`});let _;if(g&&typeof g=="object"&&(_=g.showLeafIcon),S){if(!g)return null;if(typeof _!="boolean"&&_){const w=typeof _=="function"?_(d):_,O=`${r}-switcher-line-custom-icon`;return E.isValidElement(w)?Vo(w,{className:Ue((t=w.props)===null||t===void 0?void 0:t.className,O)}):w}return _?E.createElement(EX,{className:`${r}-switcher-line-icon`}):E.createElement("span",{className:`${r}-switcher-leaf-line`})}const N=`${r}-switcher-icon`,A=typeof i=="function"?i(d):i;return E.isValidElement(A)?Vo(A,{className:Ue((n=A.props)===null||n===void 0?void 0:n.className,N)}):A!==void 0?A:g?I?E.createElement(mCe,{className:`${r}-switcher-line-icon`}):E.createElement(ECe,{className:`${r}-switcher-line-icon`}):E.createElement(_Ee,{className:N})},qX=Xe.forwardRef((e,t)=>{var n;const{getPrefixCls:r,direction:i,virtual:d,tree:g}=Xe.useContext(rr),{prefixCls:v,className:S,showIcon:I=!1,showLine:T,switcherIcon:_,switcherLoadingIcon:N,blockNode:A=!1,children:w,checkable:O=!1,selectable:R=!0,draggable:D,motion:j,style:L}=e,U=r("tree",v),$=r(),F=j??Object.assign(Object.assign({},r0($)),{motionAppear:!1}),z=Object.assign(Object.assign({},e),{checkable:O,selectable:R,showIcon:I,motion:F,blockNode:A,showLine:!!T,dropIndicatorRender:MMe}),[H,V,K]=TMe(U),[,J]=ms(),te=J.paddingXS/2+(((n=J.Tree)===null||n===void 0?void 0:n.titleHeight)||J.controlHeightSM),Z=Xe.useMemo(()=>{if(!D)return!1;let re={};switch(typeof D){case"function":re.nodeDraggable=D;break;case"object":re=Object.assign({},D);break}return re.icon!==!1&&(re.icon=re.icon||Xe.createElement(uCe,null)),re},[D]),X=re=>Xe.createElement(_Me,{prefixCls:U,switcherIcon:_,switcherLoadingIcon:N,treeNodeProps:re,showLine:T});return H(Xe.createElement(gj,Object.assign({itemHeight:te,ref:t,virtual:d},z,{style:Object.assign(Object.assign({},g==null?void 0:g.style),L),prefixCls:U,className:Ue({[`${U}-icon-hide`]:!I,[`${U}-block-node`]:A,[`${U}-unselectable`]:!R,[`${U}-rtl`]:i==="rtl"},g==null?void 0:g.className,S,V,K),direction:i,checkable:O&&Xe.createElement("span",{className:`${U}-checkbox-inner`}),selectable:R,switcherIcon:X,draggable:Z}),w))}),C4=0,SN=1,T4=2;function hj(e,t,n){const{key:r,children:i}=n;function d(g){const v=g[r],S=g[i];t(v,g)!==!1&&hj(S||[],t,n)}e.forEach(d)}function xMe({treeData:e,expandedKeys:t,startKey:n,endKey:r,fieldNames:i}){const d=[];let g=C4;if(n&&n===r)return[n];if(!n||!r)return[];function v(S){return S===n||S===r}return hj(e,S=>{if(g===T4)return!1;if(v(S)){if(d.push(S),g===C4)g=SN;else if(g===SN)return g=T4,!1}else g===SN&&d.push(S);return t.includes(S)},vy(i)),d}function IN(e,t,n){const r=Rt(t),i=[];return hj(e,(d,g)=>{const v=r.indexOf(d);return v!==-1&&(i.push(g),r.splice(v,1)),!!r.length},vy(n)),i}var M4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function wMe(e){const{isLeaf:t,expanded:n}=e;return t?E.createElement(EX,null):n?E.createElement(aCe,null):E.createElement(sCe,null)}function _4({treeData:e,children:t}){return e||UY(t)}const NMe=(e,t)=>{var{defaultExpandAll:n,defaultExpandParent:r,defaultExpandedKeys:i}=e,d=M4(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const g=E.useRef(null),v=E.useRef(null),S=()=>{const{keyEntities:H}=QD(_4(d));let V;return n?V=Object.keys(H):r?V=TP(d.expandedKeys||i||[],H):V=d.expandedKeys||i||[],V},[I,T]=E.useState(d.selectedKeys||d.defaultSelectedKeys||[]),[_,N]=E.useState(()=>S());E.useEffect(()=>{"selectedKeys"in d&&T(d.selectedKeys)},[d.selectedKeys]),E.useEffect(()=>{"expandedKeys"in d&&N(d.expandedKeys)},[d.expandedKeys]);const A=(H,V)=>{var K;return"expandedKeys"in d||N(H),(K=d.onExpand)===null||K===void 0?void 0:K.call(d,H,V)},w=(H,V)=>{var K;const{multiple:J,fieldNames:te}=d,{node:Z,nativeEvent:X}=V,{key:re=""}=Z,ee=_4(d),ae=Object.assign(Object.assign({},V),{selected:!0}),de=(X==null?void 0:X.ctrlKey)||(X==null?void 0:X.metaKey),he=X==null?void 0:X.shiftKey;let ue;J&&de?(ue=H,g.current=re,v.current=ue,ae.selectedNodes=IN(ee,ue,te)):J&&he?(ue=Array.from(new Set([].concat(Rt(v.current||[]),Rt(xMe({treeData:ee,expandedKeys:_,startKey:re,endKey:g.current,fieldNames:te}))))),ae.selectedNodes=IN(ee,ue,te)):(ue=[re],g.current=re,v.current=ue,ae.selectedNodes=IN(ee,ue,te)),(K=d.onSelect)===null||K===void 0||K.call(d,ue,ae),"selectedKeys"in d||T(ue)},{getPrefixCls:O,direction:R}=E.useContext(rr),{prefixCls:D,className:j,showIcon:L=!0,expandAction:U="click"}=d,$=M4(d,["prefixCls","className","showIcon","expandAction"]),F=O("tree",D),z=Ue(`${F}-directory`,{[`${F}-directory-rtl`]:R==="rtl"},j);return E.createElement(qX,Object.assign({icon:wMe,ref:t,blockNode:!0},$,{showIcon:L,expandAction:U,prefixCls:F,className:z,expandedKeys:_,selectedKeys:I,onSelect:w,onExpand:A}))},RMe=E.forwardRef(NMe),vj=qX;vj.DirectoryTree=RMe;vj.TreeNode=m0;const x4=e=>{const{value:t,filterSearch:n,tablePrefixCls:r,locale:i,onChange:d}=e;return n?E.createElement("div",{className:`${r}-filter-dropdown-search`},E.createElement(O0,{prefix:E.createElement(jD,null),placeholder:i.filterSearchPlaceholder,onChange:d,value:t,htmlSize:1,className:`${r}-filter-dropdown-search-input`})):null},AMe=e=>{const{keyCode:t}=e;t===Vn.ENTER&&e.stopPropagation()},OMe=E.forwardRef((e,t)=>E.createElement("div",{className:e.className,onClick:n=>n.stopPropagation(),onKeyDown:AMe,ref:t},e.children));function ly(e){let t=[];return(e||[]).forEach(({value:n,children:r})=>{t.push(n),r&&(t=[].concat(Rt(t),Rt(ly(r))))}),t}function kMe(e){return e.some(({children:t})=>t)}function zX(e,t){return typeof t=="string"||typeof t=="number"?t==null?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()):!1}function HX({filters:e,prefixCls:t,filteredKeys:n,filterMultiple:r,searchValue:i,filterSearch:d}){return e.map((g,v)=>{const S=String(g.value);if(g.children)return{key:S||v,label:g.text,popupClassName:`${t}-dropdown-submenu`,children:HX({filters:g.children,prefixCls:t,filteredKeys:n,filterMultiple:r,searchValue:i,filterSearch:d})};const I=r?Ys:Dr,T={key:g.value!==void 0?S:v,label:E.createElement(E.Fragment,null,E.createElement(I,{checked:n.includes(S)}),E.createElement("span",null,g.text))};return i.trim()?typeof d=="function"?d(i,g)?T:null:zX(i,g.text)?T:null:T})}function EN(e){return e||[]}const LMe=e=>{var t,n,r,i;const{tablePrefixCls:d,prefixCls:g,column:v,dropdownPrefixCls:S,columnKey:I,filterOnClose:T,filterMultiple:_,filterMode:N="menu",filterSearch:A=!1,filterState:w,triggerFilter:O,locale:R,children:D,getPopupContainer:j,rootClassName:L}=e,{filterResetToDefaultFilteredValue:U,defaultFilteredValue:$,filterDropdownProps:F={},filterDropdownOpen:z,filterDropdownVisible:H,onFilterDropdownVisibleChange:V,onFilterDropdownOpenChange:K}=v,[J,te]=E.useState(!1),Z=!!(w&&(!((t=w.filteredKeys)===null||t===void 0)&&t.length||w.forceFiltered)),X=et=>{var Ye;te(et),(Ye=F.onOpenChange)===null||Ye===void 0||Ye.call(F,et),K==null||K(et),V==null||V(et)},re=(i=(r=(n=F.open)!==null&&n!==void 0?n:z)!==null&&r!==void 0?r:H)!==null&&i!==void 0?i:J,ee=w==null?void 0:w.filteredKeys,[ae,de]=iMe(EN(ee)),he=({selectedKeys:et})=>{de(et)},ue=(et,{node:Ye,checked:pt})=>{he(_?{selectedKeys:et}:{selectedKeys:pt&&Ye.key?[Ye.key]:[]})};E.useEffect(()=>{J&&he({selectedKeys:EN(ee)})},[ee]);const[ye,be]=E.useState([]),oe=et=>{be(et)},[pe,fe]=E.useState(""),_e=et=>{const{value:Ye}=et.target;fe(Ye)};E.useEffect(()=>{J||fe("")},[J]);const Te=et=>{const Ye=et!=null&&et.length?et:null;if(Ye===null&&(!w||!w.filteredKeys)||Cu(Ye,w==null?void 0:w.filteredKeys,!0))return null;O({column:v,key:I,filteredKeys:Ye})},Se=()=>{X(!1),Te(ae())},De=({confirm:et,closeDropdown:Ye}={confirm:!1,closeDropdown:!1})=>{et&&Te([]),Ye&&X(!1),fe(""),de(U?($||[]).map(pt=>String(pt)):[])},je=({closeDropdown:et}={closeDropdown:!0})=>{et&&X(!1),Te(ae())},ke=(et,Ye)=>{Ye.source==="trigger"&&(et&&ee!==void 0&&de(EN(ee)),X(et),!et&&!v.filterDropdown&&T&&Se())},Oe=Ue({[`${S}-menu-without-submenu`]:!kMe(v.filters||[])}),Ne=et=>{if(et.target.checked){const Ye=ly(v==null?void 0:v.filters).map(pt=>String(pt));de(Ye)}else de([])},qe=({filters:et})=>(et||[]).map((Ye,pt)=>{const ct=String(Ye.value),xt={title:Ye.text,key:Ye.value!==void 0?ct:String(pt)};return Ye.children&&(xt.children=qe({filters:Ye.children})),xt}),Ke=et=>{var Ye;return Object.assign(Object.assign({},et),{text:et.title,value:et.key,children:((Ye=et.children)===null||Ye===void 0?void 0:Ye.map(pt=>Ke(pt)))||[]})};let He;const{direction:nt,renderEmpty:Je}=E.useContext(rr);if(typeof v.filterDropdown=="function")He=v.filterDropdown({prefixCls:`${S}-custom`,setSelectedKeys:et=>he({selectedKeys:et}),selectedKeys:ae(),confirm:je,clearFilters:De,filters:v.filters,visible:re,close:()=>{X(!1)}});else if(v.filterDropdown)He=v.filterDropdown;else{const et=ae()||[],Ye=()=>{var ct,xt;const jt=(ct=Je==null?void 0:Je("Table.filter"))!==null&&ct!==void 0?ct:E.createElement(Wi,{image:Wi.PRESENTED_IMAGE_SIMPLE,description:R.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if((v.filters||[]).length===0)return jt;if(N==="tree")return E.createElement(E.Fragment,null,E.createElement(x4,{filterSearch:A,value:pe,onChange:_e,tablePrefixCls:d,locale:R}),E.createElement("div",{className:`${d}-filter-dropdown-tree`},_?E.createElement(Ys,{checked:et.length===ly(v.filters).length,indeterminate:et.length>0&&et.length<ly(v.filters).length,className:`${d}-filter-dropdown-checkall`,onChange:Ne},(xt=R==null?void 0:R.filterCheckall)!==null&&xt!==void 0?xt:R==null?void 0:R.filterCheckAll):null,E.createElement(vj,{checkable:!0,selectable:!1,blockNode:!0,multiple:_,checkStrictly:!_,className:`${S}-menu`,onCheck:ue,checkedKeys:et,selectedKeys:et,showIcon:!1,treeData:qe({filters:v.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:pe.trim()?wt=>typeof A=="function"?A(pe,Ke(wt)):zX(pe,wt.title):void 0})));const Ut=HX({filters:v.filters||[],filterSearch:A,prefixCls:g,filteredKeys:ae(),filterMultiple:_,searchValue:pe}),Vt=Ut.every(wt=>wt===null);return E.createElement(E.Fragment,null,E.createElement(x4,{filterSearch:A,value:pe,onChange:_e,tablePrefixCls:d,locale:R}),Vt?jt:E.createElement(jd,{selectable:!0,multiple:_,prefixCls:`${S}-menu`,className:Oe,onSelect:he,onDeselect:he,selectedKeys:et,getPopupContainer:j,openKeys:ye,onOpenChange:oe,items:Ut}))},pt=()=>U?Cu(($||[]).map(ct=>String(ct)),et,!0):et.length===0;He=E.createElement(E.Fragment,null,Ye(),E.createElement("div",{className:`${g}-dropdown-btns`},E.createElement(Ze,{type:"link",size:"small",disabled:pt(),onClick:()=>De()},R.filterReset),E.createElement(Ze,{type:"primary",size:"small",onClick:Se},R.filterConfirm)))}v.filterDropdown&&(He=E.createElement(dY,{selectable:void 0},He)),He=E.createElement(OMe,{className:`${g}-dropdown`},He);const lt=s0({trigger:["click"],placement:nt==="rtl"?"bottomLeft":"bottomRight",children:(()=>{let et;return typeof v.filterIcon=="function"?et=v.filterIcon(Z):v.filterIcon?et=v.filterIcon:et=E.createElement(tCe,null),E.createElement("span",{role:"button",tabIndex:-1,className:Ue(`${g}-trigger`,{active:Z}),onClick:Ye=>{Ye.stopPropagation()}},et)})(),getPopupContainer:j},Object.assign(Object.assign({},F),{rootClassName:Ue(L,F.rootClassName),open:re,onOpenChange:ke,popupRender:()=>typeof(F==null?void 0:F.dropdownRender)=="function"?F.dropdownRender(He):He}));return E.createElement("div",{className:`${g}-column`},E.createElement("span",{className:`${d}-column-title`},D),E.createElement(aj,Object.assign({},lt)))},NP=(e,t,n)=>{let r=[];return(e||[]).forEach((i,d)=>{var g;const v=Py(d,n),S=i.filterDropdown!==void 0;if(i.filters||S||"onFilter"in i)if("filteredValue"in i){let I=i.filteredValue;S||(I=(g=I==null?void 0:I.map(String))!==null&&g!==void 0?g:I),r.push({column:i,key:Sm(i,v),filteredKeys:I,forceFiltered:i.filtered})}else r.push({column:i,key:Sm(i,v),filteredKeys:t&&i.defaultFilteredValue?i.defaultFilteredValue:void 0,forceFiltered:i.filtered});"children"in i&&(r=[].concat(Rt(r),Rt(NP(i.children,t,v))))}),r};function GX(e,t,n,r,i,d,g,v,S){return n.map((I,T)=>{const _=Py(T,v),{filterOnClose:N=!0,filterMultiple:A=!0,filterMode:w,filterSearch:O}=I;let R=I;if(R.filters||R.filterDropdown){const D=Sm(R,_),j=r.find(({key:L})=>D===L);R=Object.assign(Object.assign({},R),{title:L=>E.createElement(LMe,{tablePrefixCls:e,prefixCls:`${e}-filter`,dropdownPrefixCls:t,column:R,columnKey:D,filterState:j,filterOnClose:N,filterMultiple:A,filterMode:w,filterSearch:O,triggerFilter:d,locale:i,getPopupContainer:g,rootClassName:S},j_(I.title,L))})}return"children"in R&&(R=Object.assign(Object.assign({},R),{children:GX(e,t,R.children,r,i,d,g,_,S)})),R})}const w4=e=>{const t={};return e.forEach(({key:n,filteredKeys:r,column:i})=>{const d=n,{filters:g,filterDropdown:v}=i;if(v)t[d]=r||null;else if(Array.isArray(r)){const S=ly(g);t[d]=S.filter(I=>r.includes(String(I)))}else t[d]=null}),t},RP=(e,t,n)=>t.reduce((i,d)=>{const{column:{onFilter:g,filters:v},filteredKeys:S}=d;return g&&S&&S.length?i.map(I=>Object.assign({},I)).filter(I=>S.some(T=>{const _=ly(v),N=_.findIndex(w=>String(w)===String(T)),A=N!==-1?_[N]:T;return I[n]&&(I[n]=RP(I[n],t,n)),g(A,I)})):i},e),KX=e=>e.flatMap(t=>"children"in t?[t].concat(Rt(KX(t.children||[]))):[t]),PMe=e=>{const{prefixCls:t,dropdownPrefixCls:n,mergedColumns:r,onFilterChange:i,getPopupContainer:d,locale:g,rootClassName:v}=e;Cm();const S=E.useMemo(()=>KX(r||[]),[r]),[I,T]=E.useState(()=>NP(S,!0)),_=E.useMemo(()=>{const O=NP(S,!1);if(O.length===0)return O;let R=!0;if(O.forEach(({filteredKeys:D})=>{D!==void 0&&(R=!1)}),R){const D=(S||[]).map((j,L)=>Sm(j,Py(L)));return I.filter(({key:j})=>D.includes(j)).map(j=>{const L=S[D.findIndex(U=>U===j.key)];return Object.assign(Object.assign({},j),{column:Object.assign(Object.assign({},j.column),L),forceFiltered:L.filtered})})}return O},[S,I]),N=E.useMemo(()=>w4(_),[_]),A=O=>{const R=_.filter(({key:D})=>D!==O.key);R.push(O),T(R),i(w4(R),R)};return[O=>GX(t,n,O,_,g,A,d,void 0,v),_,N]},DMe=(e,t,n)=>{const r=E.useRef({});function i(d){var g;if(!r.current||r.current.data!==e||r.current.childrenColumnName!==t||r.current.getRowKey!==n){let I=function(T){T.forEach((_,N)=>{const A=n(_,N);S.set(A,_),_&&typeof _=="object"&&t in _&&I(_[t]||[])})};var v=I;const S=new Map;I(e),r.current={data:e,childrenColumnName:t,kvMap:S,getRowKey:n}}return(g=r.current.kvMap)===null||g===void 0?void 0:g.get(d)}return[i]};var jMe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const WX=10;function VMe(e,t){const n={current:e.current,pageSize:e.pageSize};return Object.keys(t&&typeof t=="object"?t:{}).forEach(i=>{const d=e[i];typeof d!="function"&&(n[i]=d)}),n}function $Me(e,t,n){const r=n&&typeof n=="object"?n:{},{total:i=0}=r,d=jMe(r,["total"]),[g,v]=E.useState(()=>({current:"defaultCurrent"in d?d.defaultCurrent:1,pageSize:"defaultPageSize"in d?d.defaultPageSize:WX})),S=s0(g,d,{total:i>0?i:e}),I=Math.ceil((i||e)/S.pageSize);S.current>I&&(S.current=I||1);const T=(N,A)=>{v({current:N??1,pageSize:A||S.pageSize})},_=(N,A)=>{var w;n&&((w=n.onChange)===null||w===void 0||w.call(n,N,A)),T(N,A),t(N,A||(S==null?void 0:S.pageSize))};return n===!1?[{},()=>{}]:[Object.assign(Object.assign({},S),{onChange:_}),T]}const bM="ascend",CN="descend",zM=e=>typeof e.sorter=="object"&&typeof e.sorter.multiple=="number"?e.sorter.multiple:!1,N4=e=>typeof e=="function"?e:e&&typeof e=="object"&&e.compare?e.compare:!1,UMe=(e,t)=>t?e[e.indexOf(t)+1]:e[0],AP=(e,t,n)=>{let r=[];const i=(d,g)=>{r.push({column:d,key:Sm(d,g),multiplePriority:zM(d),sortOrder:d.sortOrder})};return(e||[]).forEach((d,g)=>{const v=Py(g,n);d.children?("sortOrder"in d&&i(d,v),r=[].concat(Rt(r),Rt(AP(d.children,t,v)))):d.sorter&&("sortOrder"in d?i(d,v):t&&d.defaultSortOrder&&r.push({column:d,key:Sm(d,v),multiplePriority:zM(d),sortOrder:d.defaultSortOrder}))}),r},YX=(e,t,n,r,i,d,g,v)=>(t||[]).map((I,T)=>{const _=Py(T,v);let N=I;if(N.sorter){const A=N.sortDirections||i,w=N.showSorterTooltip===void 0?g:N.showSorterTooltip,O=Sm(N,_),R=n.find(({key:V})=>V===O),D=R?R.sortOrder:null,j=UMe(A,D);let L;if(I.sortIcon)L=I.sortIcon({sortOrder:D});else{const V=A.includes(bM)&&E.createElement(OEe,{className:Ue(`${e}-column-sorter-up`,{active:D===bM})}),K=A.includes(CN)&&E.createElement(NEe,{className:Ue(`${e}-column-sorter-down`,{active:D===CN})});L=E.createElement("span",{className:Ue(`${e}-column-sorter`,{[`${e}-column-sorter-full`]:!!(V&&K)})},E.createElement("span",{className:`${e}-column-sorter-inner`,"aria-hidden":"true"},V,K))}const{cancelSort:U,triggerAsc:$,triggerDesc:F}=d||{};let z=U;j===CN?z=F:j===bM&&(z=$);const H=typeof w=="object"?Object.assign({title:z},w):{title:z};N=Object.assign(Object.assign({},N),{className:Ue(N.className,{[`${e}-column-sort`]:D}),title:V=>{const K=`${e}-column-sorters`,J=E.createElement("span",{className:`${e}-column-title`},j_(I.title,V)),te=E.createElement("div",{className:K},J,L);return w?typeof w!="boolean"&&(w==null?void 0:w.target)==="sorter-icon"?E.createElement("div",{className:`${K} ${e}-column-sorters-tooltip-target-sorter`},J,E.createElement(Gl,Object.assign({},H),L)):E.createElement(Gl,Object.assign({},H),te):te},onHeaderCell:V=>{var K;const J=((K=I.onHeaderCell)===null||K===void 0?void 0:K.call(I,V))||{},te=J.onClick,Z=J.onKeyDown;J.onClick=ee=>{r({column:I,key:O,sortOrder:j,multiplePriority:zM(I)}),te==null||te(ee)},J.onKeyDown=ee=>{ee.keyCode===Vn.ENTER&&(r({column:I,key:O,sortOrder:j,multiplePriority:zM(I)}),Z==null||Z(ee))};const X=aMe(I.title,{}),re=X==null?void 0:X.toString();return D&&(J["aria-sort"]=D==="ascend"?"ascending":"descending"),J["aria-label"]=re||"",J.className=Ue(J.className,`${e}-column-has-sorters`),J.tabIndex=0,I.ellipsis&&(J.title=(X??"").toString()),J}})}return"children"in N&&(N=Object.assign(Object.assign({},N),{children:YX(e,N.children,n,r,i,d,g,_)})),N}),R4=e=>{const{column:t,sortOrder:n}=e;return{column:t,order:n,field:t.dataIndex,columnKey:t.key}},A4=e=>{const t=e.filter(({sortOrder:n})=>n).map(R4);if(t.length===0&&e.length){const n=e.length-1;return Object.assign(Object.assign({},R4(e[n])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return t.length<=1?t[0]||{}:t},OP=(e,t,n)=>{const r=t.slice().sort((g,v)=>v.multiplePriority-g.multiplePriority),i=e.slice(),d=r.filter(({column:{sorter:g},sortOrder:v})=>N4(g)&&v);return d.length?i.sort((g,v)=>{for(let S=0;S<d.length;S+=1){const I=d[S],{column:{sorter:T},sortOrder:_}=I,N=N4(T);if(N&&_){const A=N(g,v,_);if(A!==0)return _===bM?A:-A}}return 0}).map(g=>{const v=g[n];return v?Object.assign(Object.assign({},g),{[n]:OP(v,t,n)}):g}):i},BMe=e=>{const{prefixCls:t,mergedColumns:n,sortDirections:r,tableLocale:i,showSorterTooltip:d,onSorterChange:g}=e,[v,S]=E.useState(()=>AP(n,!0)),I=(O,R)=>{const D=[];return O.forEach((j,L)=>{const U=Py(L,R);if(D.push(Sm(j,U)),Array.isArray(j.children)){const $=I(j.children,U);D.push.apply(D,Rt($))}}),D},T=E.useMemo(()=>{let O=!0;const R=AP(n,!1);if(!R.length){const U=I(n);return v.filter(({key:$})=>U.includes($))}const D=[];function j(U){O?D.push(U):D.push(Object.assign(Object.assign({},U),{sortOrder:null}))}let L=null;return R.forEach(U=>{L===null?(j(U),U.sortOrder&&(U.multiplePriority===!1?O=!1:L=!0)):(L&&U.multiplePriority!==!1||(O=!1),j(U))}),D},[n,v]),_=E.useMemo(()=>{var O,R;const D=T.map(({column:j,sortOrder:L})=>({column:j,order:L}));return{sortColumns:D,sortColumn:(O=D[0])===null||O===void 0?void 0:O.column,sortOrder:(R=D[0])===null||R===void 0?void 0:R.order}},[T]),N=O=>{let R;O.multiplePriority===!1||!T.length||T[0].multiplePriority===!1?R=[O]:R=[].concat(Rt(T.filter(({key:D})=>D!==O.key)),[O]),S(R),g(A4(R),R)};return[O=>YX(t,O,T,N,r,i,d),T,_,()=>A4(T)]},XX=(e,t)=>e.map(r=>{const i=Object.assign({},r);return i.title=j_(r.title,t),"children"in i&&(i.children=XX(i.children,t)),i}),FMe=e=>[E.useCallback(n=>XX(n,e),[e])],qMe=jX((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:r}=t;return n!==r}),zMe=$X((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:r}=t;return n!==r}),HMe=e=>{const{componentCls:t,lineWidth:n,lineType:r,tableBorderColor:i,tableHeaderBg:d,tablePaddingVertical:g,tablePaddingHorizontal:v,calc:S}=e,I=`${Le(n)} ${r} ${i}`,T=(_,N,A)=>({[`&${t}-${_}`]:{[`> ${t}-container`]:{[`> ${t}-content, > ${t}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${t}-expanded-row-fixed`]:{margin:`${Le(S(N).mul(-1).equal())}
              ${Le(S(S(A).add(n)).mul(-1).equal())}`}}}}}});return{[`${t}-wrapper`]:{[`${t}${t}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${t}-title`]:{border:I,borderBottom:0},[`> ${t}-container`]:{borderInlineStart:I,borderTop:I,[`
            > ${t}-content,
            > ${t}-header,
            > ${t}-body,
            > ${t}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:I},"> thead":{"> tr:not(:last-child) > th":{borderBottom:I},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${t}-cell-fix-right-first::after`]:{borderInlineEnd:I}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${t}-expanded-row-fixed`]:{margin:`${Le(S(g).mul(-1).equal())} ${Le(S(S(v).add(n)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:n,bottom:0,borderInlineEnd:I,content:'""'}}}}}},[`&${t}-scroll-horizontal`]:{[`> ${t}-container > ${t}-body`]:{"> table > tbody":{[`
                > tr${t}-expanded-row,
                > tr${t}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},T("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),T("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{[`> ${t}-footer`]:{border:I,borderTop:0}}),[`${t}-cell`]:{[`${t}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${Le(n)} 0 ${Le(n)} ${d}`}},[`${t}-bordered ${t}-cell-scrollbar`]:{borderInlineEnd:I}}}},GMe=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-cell-ellipsis`]:Object.assign(Object.assign({},kc),{wordBreak:"keep-all",[`
          &${t}-cell-fix-left-last,
          &${t}-cell-fix-right-first
        `]:{overflow:"visible",[`${t}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${t}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},KMe=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-tbody > tr${t}-placeholder`]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},WMe=e=>{const{componentCls:t,antCls:n,motionDurationSlow:r,lineWidth:i,paddingXS:d,lineType:g,tableBorderColor:v,tableExpandIconBg:S,tableExpandColumnWidth:I,borderRadius:T,tablePaddingVertical:_,tablePaddingHorizontal:N,tableExpandedRowBg:A,paddingXXS:w,expandIconMarginTop:O,expandIconSize:R,expandIconHalfInner:D,expandIconScale:j,calc:L}=e,U=`${Le(i)} ${g} ${v}`,$=L(w).sub(i).equal();return{[`${t}-wrapper`]:{[`${t}-expand-icon-col`]:{width:I},[`${t}-row-expand-icon-cell`]:{textAlign:"center",[`${t}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${t}-row-indent`]:{height:1,float:"left"},[`${t}-row-expand-icon`]:Object.assign(Object.assign({},sD(e)),{position:"relative",float:"left",width:R,height:R,color:"inherit",lineHeight:Le(R),background:S,border:U,borderRadius:T,transform:`scale(${j})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${r} ease-out`,content:'""'},"&::before":{top:D,insetInlineEnd:$,insetInlineStart:$,height:i},"&::after":{top:$,bottom:$,insetInlineStart:D,width:i,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${t}-row-indent + ${t}-row-expand-icon`]:{marginTop:O,marginInlineEnd:d},[`tr${t}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:A}},[`${n}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${t}-expanded-row-fixed`]:{position:"relative",margin:`${Le(L(_).mul(-1).equal())} ${Le(L(N).mul(-1).equal())}`,padding:`${Le(_)} ${Le(N)}`}}}},YMe=e=>{const{componentCls:t,antCls:n,iconCls:r,tableFilterDropdownWidth:i,tableFilterDropdownSearchWidth:d,paddingXXS:g,paddingXS:v,colorText:S,lineWidth:I,lineType:T,tableBorderColor:_,headerIconColor:N,fontSizeSM:A,tablePaddingHorizontal:w,borderRadius:O,motionDurationSlow:R,colorIcon:D,colorPrimary:j,tableHeaderFilterActiveBg:L,colorTextDisabled:U,tableFilterDropdownBg:$,tableFilterDropdownHeight:F,controlItemBgHover:z,controlItemBgActive:H,boxShadowSecondary:V,filterDropdownMenuBg:K,calc:J}=e,te=`${n}-dropdown`,Z=`${t}-filter-dropdown`,X=`${n}-tree`,re=`${Le(I)} ${T} ${_}`;return[{[`${t}-wrapper`]:{[`${t}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${t}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:J(g).mul(-1).equal(),marginInline:`${Le(g)} ${Le(J(w).div(2).mul(-1).equal())}`,padding:`0 ${Le(g)}`,color:N,fontSize:A,borderRadius:O,cursor:"pointer",transition:`all ${R}`,"&:hover":{color:D,background:L},"&.active":{color:j}}}},{[`${n}-dropdown`]:{[Z]:Object.assign(Object.assign({},Sa(e)),{minWidth:i,backgroundColor:$,borderRadius:O,boxShadow:V,overflow:"hidden",[`${te}-menu`]:{maxHeight:F,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:K,"&:empty::after":{display:"block",padding:`${Le(v)} 0`,color:U,fontSize:A,textAlign:"center",content:'"Not Found"'}},[`${Z}-tree`]:{paddingBlock:`${Le(v)} 0`,paddingInline:v,[X]:{padding:0},[`${X}-treenode ${X}-node-content-wrapper:hover`]:{backgroundColor:z},[`${X}-treenode-checkbox-checked ${X}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:H}}},[`${Z}-search`]:{padding:v,borderBottom:re,"&-input":{input:{minWidth:d},[r]:{color:U}}},[`${Z}-checkall`]:{width:"100%",marginBottom:g,marginInlineStart:g},[`${Z}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${Le(J(v).sub(I).equal())} ${Le(v)}`,overflow:"hidden",borderTop:re}})}},{[`${n}-dropdown ${Z}, ${Z}-submenu`]:{[`${n}-checkbox-wrapper + span`]:{paddingInlineStart:v,color:S},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},XMe=e=>{const{componentCls:t,lineWidth:n,colorSplit:r,motionDurationSlow:i,zIndexTableFixed:d,tableBg:g,zIndexTableSticky:v,calc:S}=e,I=r;return{[`${t}-wrapper`]:{[`
        ${t}-cell-fix-left,
        ${t}-cell-fix-right
      `]:{position:"sticky !important",zIndex:d,background:g},[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:S(n).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},[`${t}-cell-fix-left-all::after`]:{display:"none"},[`
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:S(n).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},[`${t}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:S(v).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${t}-ping-left`]:{[`&:not(${t}-has-fix-left) ${t}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${I}`},[`
          ${t}-cell-fix-left-first::after,
          ${t}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${I}`},[`${t}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${t}-ping-right`]:{[`&:not(${t}-has-fix-right) ${t}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${I}`},[`
          ${t}-cell-fix-right-first::after,
          ${t}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${I}`}},[`${t}-fixed-column-gapped`]:{[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after,
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},JMe=e=>{const{componentCls:t,antCls:n,margin:r}=e;return{[`${t}-wrapper`]:{[`${t}-pagination${n}-pagination`]:{margin:`${Le(r)} 0`},[`${t}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},QMe=e=>{const{componentCls:t,tableRadius:n}=e;return{[`${t}-wrapper`]:{[t]:{[`${t}-title, ${t}-header`]:{borderRadius:`${Le(n)} ${Le(n)} 0 0`},[`${t}-title + ${t}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${t}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:n,borderStartEndRadius:n,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:n},"> *:last-child":{borderStartEndRadius:n}}},"&-footer":{borderRadius:`0 0 ${Le(n)} ${Le(n)}`}}}}},ZMe=e=>{const{componentCls:t}=e;return{[`${t}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${t}-pagination-left`]:{justifyContent:"flex-end"},[`${t}-pagination-right`]:{justifyContent:"flex-start"},[`${t}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${t}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${t}-row-indent`]:{float:"right"}}}}},e_e=e=>{const{componentCls:t,antCls:n,iconCls:r,fontSizeIcon:i,padding:d,paddingXS:g,headerIconColor:v,headerIconHoverColor:S,tableSelectionColumnWidth:I,tableSelectedRowBg:T,tableSelectedRowHoverBg:_,tableRowHoverBg:N,tablePaddingHorizontal:A,calc:w}=e;return{[`${t}-wrapper`]:{[`${t}-selection-col`]:{width:I,[`&${t}-selection-col-with-dropdown`]:{width:w(I).add(i).add(w(d).div(4)).equal()}},[`${t}-bordered ${t}-selection-col`]:{width:w(I).add(w(g).mul(2)).equal(),[`&${t}-selection-col-with-dropdown`]:{width:w(I).add(i).add(w(d).div(4)).add(w(g).mul(2)).equal()}},[`
        table tr th${t}-selection-column,
        table tr td${t}-selection-column,
        ${t}-selection-column
      `]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",[`${n}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${t}-selection-column${t}-cell-fix-left`]:{zIndex:w(e.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${t}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${t}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${t}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:Le(w(A).div(4).equal()),[r]:{color:v,fontSize:i,verticalAlign:"baseline","&:hover":{color:S}}},[`${t}-tbody`]:{[`${t}-row`]:{[`&${t}-row-selected`]:{[`> ${t}-cell`]:{background:T,"&-row-hover":{background:_}}},[`> ${t}-cell-row-hover`]:{background:N}}}}}},t_e=e=>{const{componentCls:t,tableExpandColumnWidth:n,calc:r}=e,i=(d,g,v,S)=>({[`${t}${t}-${d}`]:{fontSize:S,[`
        ${t}-title,
        ${t}-footer,
        ${t}-cell,
        ${t}-thead > tr > th,
        ${t}-tbody > tr > th,
        ${t}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${Le(g)} ${Le(v)}`},[`${t}-filter-trigger`]:{marginInlineEnd:Le(r(v).div(2).mul(-1).equal())},[`${t}-expanded-row-fixed`]:{margin:`${Le(r(g).mul(-1).equal())} ${Le(r(v).mul(-1).equal())}`},[`${t}-tbody`]:{[`${t}-wrapper:only-child ${t}`]:{marginBlock:Le(r(g).mul(-1).equal()),marginInline:`${Le(r(n).sub(v).equal())} ${Le(r(v).mul(-1).equal())}`}},[`${t}-selection-extra`]:{paddingInlineStart:Le(r(v).div(4).equal())}}});return{[`${t}-wrapper`]:Object.assign(Object.assign({},i("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),i("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},n_e=e=>{const{componentCls:t,marginXXS:n,fontSizeIcon:r,headerIconColor:i,headerIconHoverColor:d}=e;return{[`${t}-wrapper`]:{[`${t}-thead th${t}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}, left 0s`,"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},[`
          &${t}-cell-fix-left:hover,
          &${t}-cell-fix-right:hover
        `]:{background:e.tableFixedHeaderSortActiveBg}},[`${t}-thead th${t}-column-sort`]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${t}-column-sort`]:{background:e.tableBodySortBg},[`${t}-column-title`]:{position:"relative",zIndex:1,flex:1,minWidth:0},[`${t}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${t}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${t}-column-sorter`]:{marginInlineStart:n,color:i,fontSize:0,transition:`color ${e.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:r,"&.active":{color:e.colorPrimary}},[`${t}-column-sorter-up + ${t}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${t}-column-sorters:hover ${t}-column-sorter`]:{color:d}}}},r_e=e=>{const{componentCls:t,opacityLoading:n,tableScrollThumbBg:r,tableScrollThumbBgHover:i,tableScrollThumbSize:d,tableScrollBg:g,zIndexTableSticky:v,stickyScrollBarBorderRadius:S,lineWidth:I,lineType:T,tableBorderColor:_}=e,N=`${Le(I)} ${T} ${_}`;return{[`${t}-wrapper`]:{[`${t}-sticky`]:{"&-holder":{position:"sticky",zIndex:v,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${Le(d)} !important`,zIndex:v,display:"flex",alignItems:"center",background:g,borderTop:N,opacity:n,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:d,backgroundColor:r,borderRadius:S,transition:`all ${e.motionDurationSlow}, transform 0s`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:i}}}}}}},O4=e=>{const{componentCls:t,lineWidth:n,tableBorderColor:r,calc:i}=e,d=`${Le(n)} ${e.lineType} ${r}`;return{[`${t}-wrapper`]:{[`${t}-summary`]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:d}}},[`div${t}-summary`]:{boxShadow:`0 ${Le(i(n).mul(-1).equal())} 0 ${r}`}}}},a_e=e=>{const{componentCls:t,motionDurationMid:n,lineWidth:r,lineType:i,tableBorderColor:d,calc:g}=e,v=`${Le(r)} ${i} ${d}`,S=`${t}-expanded-row-cell`;return{[`${t}-wrapper`]:{[`${t}-tbody-virtual`]:{[`${t}-tbody-virtual-holder-inner`]:{[`
            & > ${t}-row, 
            & > div:not(${t}-row) > ${t}-row
          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${t}-cell`]:{borderBottom:v,transition:`background ${n}`},[`${t}-expanded-row`]:{[`${S}${S}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${Le(r)})`,borderInlineEnd:"none"}}},[`${t}-bordered`]:{[`${t}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:v,position:"absolute"},[`${t}-cell`]:{borderInlineEnd:v,[`&${t}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:g(r).mul(-1).equal(),borderInlineStart:v}}},[`&${t}-virtual`]:{[`${t}-placeholder ${t}-cell`]:{borderInlineEnd:v,borderBottom:v}}}}}},i_e=e=>{const{componentCls:t,fontWeightStrong:n,tablePaddingVertical:r,tablePaddingHorizontal:i,tableExpandColumnWidth:d,lineWidth:g,lineType:v,tableBorderColor:S,tableFontSize:I,tableBg:T,tableRadius:_,tableHeaderTextColor:N,motionDurationMid:A,tableHeaderBg:w,tableHeaderCellSplitColor:O,tableFooterTextColor:R,tableFooterBg:D,calc:j}=e,L=`${Le(g)} ${v} ${S}`;return{[`${t}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%","--rc-virtual-list-scrollbar-bg":e.tableScrollBg},Mu()),{[t]:Object.assign(Object.assign({},Sa(e)),{fontSize:I,background:T,borderRadius:`${Le(_)} ${Le(_)} 0 0`,scrollbarColor:`${e.tableScrollThumbBg} ${e.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${Le(_)} ${Le(_)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${t}-cell,
          ${t}-thead > tr > th,
          ${t}-tbody > tr > th,
          ${t}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${Le(r)} ${Le(i)}`,overflowWrap:"break-word"},[`${t}-title`]:{padding:`${Le(r)} ${Le(i)}`},[`${t}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:N,fontWeight:n,textAlign:"start",background:w,borderBottom:L,transition:`background ${A} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${t}-selection-column):not(${t}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:O,transform:"translateY(-50%)",transition:`background-color ${A}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${t}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${A}, border-color ${A}`,borderBottom:L,[`
              > ${t}-wrapper:only-child,
              > ${t}-expanded-row-fixed > ${t}-wrapper:only-child
            `]:{[t]:{marginBlock:Le(j(r).mul(-1).equal()),marginInline:`${Le(j(d).sub(i).equal())}
                ${Le(j(i).mul(-1).equal())}`,[`${t}-tbody > tr:last-child > td`]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:N,fontWeight:n,textAlign:"start",background:w,borderBottom:L,transition:`background ${A} ease`}}},[`${t}-footer`]:{padding:`${Le(r)} ${Le(i)}`,color:R,background:D}})}},o_e=e=>{const{colorFillAlter:t,colorBgContainer:n,colorTextHeading:r,colorFillSecondary:i,colorFillContent:d,controlItemBgActive:g,controlItemBgActiveHover:v,padding:S,paddingSM:I,paddingXS:T,colorBorderSecondary:_,borderRadiusLG:N,controlHeight:A,colorTextPlaceholder:w,fontSize:O,fontSizeSM:R,lineHeight:D,lineWidth:j,colorIcon:L,colorIconHover:U,opacityLoading:$,controlInteractiveSize:F}=e,z=new wa(i).onBackground(n).toHexString(),H=new wa(d).onBackground(n).toHexString(),V=new wa(t).onBackground(n).toHexString(),K=new wa(L),J=new wa(U),te=F/2-j,Z=te*2+j*3;return{headerBg:V,headerColor:r,headerSortActiveBg:z,headerSortHoverBg:H,bodySortBg:V,rowHoverBg:V,rowSelectedBg:g,rowSelectedHoverBg:v,rowExpandedBg:t,cellPaddingBlock:S,cellPaddingInline:S,cellPaddingBlockMD:I,cellPaddingInlineMD:T,cellPaddingBlockSM:T,cellPaddingInlineSM:T,borderColor:_,headerBorderRadius:N,footerBg:V,footerColor:r,cellFontSize:O,cellFontSizeMD:O,cellFontSizeSM:O,headerSplitColor:_,fixedHeaderSortActiveBg:z,headerFilterHoverBg:d,filterDropdownMenuBg:n,filterDropdownBg:n,expandIconBg:n,selectionColumnWidth:A,stickyScrollBarBg:w,stickyScrollBarBorderRadius:100,expandIconMarginTop:(O*D-j*3)/2-Math.ceil((R*1.4-j*3)/2),headerIconColor:K.clone().setA(K.a*$).toRgbString(),headerIconHoverColor:J.clone().setA(J.a*$).toRgbString(),expandIconHalfInner:te,expandIconSize:Z,expandIconScale:F/Z}},k4=2,s_e=fa("Table",e=>{const{colorTextHeading:t,colorSplit:n,colorBgContainer:r,controlInteractiveSize:i,headerBg:d,headerColor:g,headerSortActiveBg:v,headerSortHoverBg:S,bodySortBg:I,rowHoverBg:T,rowSelectedBg:_,rowSelectedHoverBg:N,rowExpandedBg:A,cellPaddingBlock:w,cellPaddingInline:O,cellPaddingBlockMD:R,cellPaddingInlineMD:D,cellPaddingBlockSM:j,cellPaddingInlineSM:L,borderColor:U,footerBg:$,footerColor:F,headerBorderRadius:z,cellFontSize:H,cellFontSizeMD:V,cellFontSizeSM:K,headerSplitColor:J,fixedHeaderSortActiveBg:te,headerFilterHoverBg:Z,filterDropdownBg:X,expandIconBg:re,selectionColumnWidth:ee,stickyScrollBarBg:ae,calc:de}=e,he=qr(e,{tableFontSize:H,tableBg:r,tableRadius:z,tablePaddingVertical:w,tablePaddingHorizontal:O,tablePaddingVerticalMiddle:R,tablePaddingHorizontalMiddle:D,tablePaddingVerticalSmall:j,tablePaddingHorizontalSmall:L,tableBorderColor:U,tableHeaderTextColor:g,tableHeaderBg:d,tableFooterTextColor:F,tableFooterBg:$,tableHeaderCellSplitColor:J,tableHeaderSortBg:v,tableHeaderSortHoverBg:S,tableBodySortBg:I,tableFixedHeaderSortActiveBg:te,tableHeaderFilterActiveBg:Z,tableFilterDropdownBg:X,tableRowHoverBg:T,tableSelectedRowBg:_,tableSelectedRowHoverBg:N,zIndexTableFixed:k4,zIndexTableSticky:de(k4).add(1).equal({unit:!1}),tableFontSizeMiddle:V,tableFontSizeSmall:K,tableSelectionColumnWidth:ee,tableExpandIconBg:re,tableExpandColumnWidth:de(i).add(de(e.padding).mul(2)).equal(),tableExpandedRowBg:A,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:ae,tableScrollThumbBgHover:t,tableScrollBg:n});return[i_e(he),JMe(he),O4(he),n_e(he),YMe(he),HMe(he),QMe(he),WMe(he),O4(he),KMe(he),e_e(he),XMe(he),r_e(he),GMe(he),t_e(he),ZMe(he),a_e(he)]},o_e,{unitless:{expandIconScale:!0}}),l_e=[],c_e=(e,t)=>{var n,r;const{prefixCls:i,className:d,rootClassName:g,style:v,size:S,bordered:I,dropdownPrefixCls:T,dataSource:_,pagination:N,rowSelection:A,rowKey:w="key",rowClassName:O,columns:R,children:D,childrenColumnName:j,onChange:L,getPopupContainer:U,loading:$,expandIcon:F,expandable:z,expandedRowRender:H,expandIconColumnIndex:V,indentSize:K,scroll:J,sortDirections:te,locale:Z,showSorterTooltip:X={target:"full-header"},virtual:re}=e;Cm();const ee=E.useMemo(()=>R||dj(D),[R,D]),ae=E.useMemo(()=>ee.some(An=>An.responsive),[ee]),de=T_(ae),he=E.useMemo(()=>{const An=new Set(Object.keys(de).filter(On=>de[On]));return ee.filter(On=>!On.responsive||On.responsive.some(sn=>An.has(sn)))},[ee,de]),ue=ri(e,["className","style","columns"]),{locale:ye=Tu,direction:be,table:oe,renderEmpty:pe,getPrefixCls:fe,getPopupContainer:_e}=E.useContext(rr),Te=qo(S),Se=Object.assign(Object.assign({},ye.Table),Z),De=_||l_e,je=fe("table",i),ke=fe("dropdown",T),[,Oe]=ms(),Ne=xo(je),[qe,Ke,He]=s_e(je,Ne),nt=Object.assign(Object.assign({childrenColumnName:j,expandIconColumnIndex:V},z),{expandIcon:(n=z==null?void 0:z.expandIcon)!==null&&n!==void 0?n:(r=oe==null?void 0:oe.expandable)===null||r===void 0?void 0:r.expandIcon}),{childrenColumnName:Je="children"}=nt,ut=E.useMemo(()=>De.some(An=>An==null?void 0:An[Je])?"nest":H||z!=null&&z.expandedRowRender?"row":null,[De]),lt={body:E.useRef(null)},et=rMe(je),Ye=E.useRef(null),pt=E.useRef(null);tMe(t,()=>Object.assign(Object.assign({},pt.current),{nativeElement:Ye.current}));const ct=E.useMemo(()=>typeof w=="function"?w:An=>An==null?void 0:An[w],[w]),[xt]=DMe(De,Je,ct),jt={},Ut=(An,On,sn=!1)=>{var tr,wr,Ar,nn;const jr=Object.assign(Object.assign({},jt),An);sn&&((tr=jt.resetPagination)===null||tr===void 0||tr.call(jt),!((wr=jr.pagination)===null||wr===void 0)&&wr.current&&(jr.pagination.current=1),N&&((Ar=N.onChange)===null||Ar===void 0||Ar.call(N,1,(nn=jr.pagination)===null||nn===void 0?void 0:nn.pageSize))),J&&J.scrollToFirstRowOnChange!==!1&&lt.body.current&&jK(0,{getContainer:()=>lt.body.current}),L==null||L(jr.pagination,jr.filters,jr.sorter,{currentDataSource:RP(OP(De,jr.sorterStates,Je),jr.filterStates,Je),action:On})},Vt=(An,On)=>{Ut({sorter:An,sorterStates:On},"sort",!1)},[wt,Bt,Pt,ot]=BMe({prefixCls:je,mergedColumns:he,onSorterChange:Vt,sortDirections:te||["ascend","descend"],tableLocale:Se,showSorterTooltip:X}),qt=E.useMemo(()=>OP(De,Bt,Je),[De,Bt]);jt.sorter=ot(),jt.sorterStates=Bt;const vt=(An,On)=>{Ut({filters:An,filterStates:On},"filter",!0)},[bt,yt,gt]=PMe({prefixCls:je,locale:Se,dropdownPrefixCls:ke,mergedColumns:he,onFilterChange:vt,getPopupContainer:U||_e,rootClassName:Ue(g,Ne)}),Jt=RP(qt,yt,Je);jt.filters=gt,jt.filterStates=yt;const bn=E.useMemo(()=>{const An={};return Object.keys(gt).forEach(On=>{gt[On]!==null&&(An[On]=gt[On])}),Object.assign(Object.assign({},Pt),{filters:An})},[Pt,gt]),[Qn]=FMe(bn),Dn=(An,On)=>{Ut({pagination:Object.assign(Object.assign({},jt.pagination),{current:An,pageSize:On})},"paginate")},[tn,_n]=$Me(Jt.length,Dn,N);jt.pagination=N===!1?{}:VMe(tn,N),jt.resetPagination=_n;const Fn=E.useMemo(()=>{if(N===!1||!tn.pageSize)return Jt;const{current:An=1,total:On,pageSize:sn=WX}=tn;return Jt.length<On?Jt.length>sn?Jt.slice((An-1)*sn,An*sn):Jt:Jt.slice((An-1)*sn,An*sn)},[!!N,Jt,tn==null?void 0:tn.current,tn==null?void 0:tn.pageSize,tn==null?void 0:tn.total]),[Wt,xn]=ZTe({prefixCls:je,data:Jt,pageData:Fn,getRowKey:ct,getRecordByKey:xt,expandType:ut,childrenColumnName:Je,locale:Se,getPopupContainer:U||_e},A),En=(An,On,sn)=>{let tr;return typeof O=="function"?tr=Ue(O(An,On,sn)):tr=Ue(O),Ue({[`${je}-row-selected`]:xn.has(ct(An,On))},tr)};nt.__PARENT_RENDER_ICON__=nt.expandIcon,nt.expandIcon=nt.expandIcon||F||nMe(Se),ut==="nest"&&nt.expandIconColumnIndex===void 0?nt.expandIconColumnIndex=A?1:0:nt.expandIconColumnIndex>0&&A&&(nt.expandIconColumnIndex-=1),typeof nt.indentSize!="number"&&(nt.indentSize=typeof K=="number"?K:15);const Sn=E.useCallback(An=>Qn(Wt(bt(wt(An)))),[wt,bt,Wt]);let Qt,Rn;if(N!==!1&&(tn!=null&&tn.total)){let An;tn.size?An=tn.size:An=Te==="small"||Te==="middle"?"small":void 0;const On=wr=>E.createElement(fX,Object.assign({},tn,{className:Ue(`${je}-pagination ${je}-pagination-${wr}`,tn.className),size:An})),sn=be==="rtl"?"left":"right",{position:tr}=tn;if(tr!==null&&Array.isArray(tr)){const wr=tr.find(jr=>jr.includes("top")),Ar=tr.find(jr=>jr.includes("bottom")),nn=tr.every(jr=>`${jr}`=="none");!wr&&!Ar&&!nn&&(Rn=On(sn)),wr&&(Qt=On(wr.toLowerCase().replace("top",""))),Ar&&(Rn=On(Ar.toLowerCase().replace("bottom","")))}else Rn=On(sn)}let fn;typeof $=="boolean"?fn={spinning:$}:typeof $=="object"&&(fn=Object.assign({spinning:!0},$));const Gt=Ue(He,Ne,`${je}-wrapper`,oe==null?void 0:oe.className,{[`${je}-wrapper-rtl`]:be==="rtl"},d,g,Ke),Xt=Object.assign(Object.assign({},oe==null?void 0:oe.style),v),$n=typeof(Z==null?void 0:Z.emptyText)<"u"?Z.emptyText:(pe==null?void 0:pe("Table"))||E.createElement(LD,{componentName:"Table"}),Un=re?zMe:qMe,jn={},Zn=E.useMemo(()=>{const{fontSize:An,lineHeight:On,lineWidth:sn,padding:tr,paddingXS:wr,paddingSM:Ar}=Oe,nn=Math.floor(An*On);switch(Te){case"middle":return Ar*2+nn+sn;case"small":return wr*2+nn+sn;default:return tr*2+nn+sn}},[Oe,Te]);return re&&(jn.listItemHeight=Zn),qe(E.createElement("div",{ref:Ye,className:Gt,style:Xt},E.createElement(Vd,Object.assign({spinning:!1},fn),Qt,E.createElement(Un,Object.assign({},jn,ue,{ref:pt,columns:he,direction:be,expandable:nt,prefixCls:je,className:Ue({[`${je}-middle`]:Te==="middle",[`${je}-small`]:Te==="small",[`${je}-bordered`]:I,[`${je}-empty`]:De.length===0},He,Ne,Ke),data:Fn,rowKey:ct,rowClassName:En,emptyText:$n,internalHooks:k0,internalRefs:lt,transformColumns:Sn,getContainerWidth:et})),Rn)))},u_e=E.forwardRef(c_e),d_e=(e,t)=>{const n=E.useRef(0);return n.current+=1,E.createElement(u_e,Object.assign({},e,{ref:t,_renderTimes:n.current}))},fs=E.forwardRef(d_e);fs.SELECTION_COLUMN=um;fs.EXPAND_COLUMN=xd;fs.SELECTION_ALL=MP;fs.SELECTION_INVERT=_P;fs.SELECTION_NONE=xP;fs.Column=FTe;fs.ColumnGroup=qTe;fs.Summary=xX;const p_e=e=>{const{paddingXXS:t,lineWidth:n,tagPaddingHorizontal:r,componentCls:i,calc:d}=e,g=d(r).sub(n).equal(),v=d(t).sub(n).equal();return{[i]:Object.assign(Object.assign({},Sa(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:g,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${i}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${i}-close-icon`]:{marginInlineStart:v,fontSize:e.tagIconSize,color:e.colorIcon,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${i}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${i}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:g}}),[`${i}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},yj=e=>{const{lineWidth:t,fontSizeIcon:n,calc:r}=e,i=e.fontSizeSM;return qr(e,{tagFontSize:i,tagLineHeight:Le(r(e.lineHeightSM).mul(i).equal()),tagIconSize:r(n).sub(r(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},bj=e=>({defaultBg:new wa(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),JX=fa("Tag",e=>{const t=yj(e);return p_e(t)},bj);var m_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const f_e=E.forwardRef((e,t)=>{const{prefixCls:n,style:r,className:i,checked:d,onChange:g,onClick:v}=e,S=m_e(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:I,tag:T}=E.useContext(rr),_=D=>{g==null||g(!d),v==null||v(D)},N=I("tag",n),[A,w,O]=JX(N),R=Ue(N,`${N}-checkable`,{[`${N}-checkable-checked`]:d},T==null?void 0:T.className,i,w,O);return A(E.createElement("span",Object.assign({},S,{ref:t,style:Object.assign(Object.assign({},r),T==null?void 0:T.style),className:R,onClick:_})))}),g_e=e=>fK(e,(t,{textColor:n,lightBorderColor:r,lightColor:i,darkColor:d})=>({[`${e.componentCls}${e.componentCls}-${t}`]:{color:n,background:i,borderColor:r,"&-inverse":{color:e.colorTextLightSolid,background:d,borderColor:d},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}})),h_e=I0(["Tag","preset"],e=>{const t=yj(e);return g_e(t)},bj);function v_e(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const fT=(e,t,n)=>{const r=v_e(n);return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${n}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},y_e=I0(["Tag","status"],e=>{const t=yj(e);return[fT(t,"success","Success"),fT(t,"processing","Info"),fT(t,"error","Error"),fT(t,"warning","Warning")]},bj);var b_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const S_e=E.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:i,style:d,children:g,icon:v,color:S,onClose:I,bordered:T=!0,visible:_}=e,N=b_e(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:A,direction:w,tag:O}=E.useContext(rr),[R,D]=E.useState(!0),j=ri(N,["closeIcon","closable"]);E.useEffect(()=>{_!==void 0&&D(_)},[_]);const L=zW(S),U=Fhe(S),$=L||U,F=Object.assign(Object.assign({backgroundColor:S&&!$?S:void 0},O==null?void 0:O.style),d),z=A("tag",n),[H,V,K]=JX(z),J=Ue(z,O==null?void 0:O.className,{[`${z}-${S}`]:$,[`${z}-has-color`]:S&&!$,[`${z}-hidden`]:!R,[`${z}-rtl`]:w==="rtl",[`${z}-borderless`]:!T},r,i,V,K),te=de=>{de.stopPropagation(),I==null||I(de),!de.defaultPrevented&&D(!1)},[,Z]=Lme(RF(e),RF(O),{closable:!1,closeIconRender:de=>{const he=E.createElement("span",{className:`${z}-close-icon`,onClick:te},de);return dD(de,he,ue=>({onClick:ye=>{var be;(be=ue==null?void 0:ue.onClick)===null||be===void 0||be.call(ue,ye),te(ye)},className:Ue(ue==null?void 0:ue.className,`${z}-close-icon`)}))}}),X=typeof N.onClick=="function"||g&&g.type==="a",re=v||null,ee=re?E.createElement(E.Fragment,null,re,g&&E.createElement("span",null,g)):g,ae=E.createElement("span",Object.assign({},j,{ref:t,className:J,style:F}),ee,Z,L&&E.createElement(h_e,{key:"preset",prefixCls:z}),U&&E.createElement(y_e,{key:"status",prefixCls:z}));return H(X?E.createElement(T0,{component:"Tag"},ae):ae)}),ln=S_e;ln.CheckableTag=f_e;const I_e=(e,t,n,r)=>{const{titleMarginBottom:i,fontWeightStrong:d}=r;return{marginBottom:i,color:n,fontWeight:d,fontSize:e,lineHeight:t}},E_e=e=>{const t=[1,2,3,4,5],n={};return t.forEach(r=>{n[`
      h${r}&,
      div&-h${r},
      div&-h${r} > textarea,
      h${r}
    `]=I_e(e[`fontSizeHeading${r}`],e[`lineHeightHeading${r}`],e.colorTextHeading,e)}),n},C_e=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},sD(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},T_e=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:wM[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:e.fontWeightStrong},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),M_e=e=>{const{componentCls:t,paddingSM:n}=e,r=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),marginTop:e.calc(r).mul(-1).equal(),marginBottom:`calc(1em - ${Le(r)})`},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorIcon,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},__e=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),x_e=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),w_e=e=>{const{componentCls:t,titleMarginTop:n}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccessText},[`&${t}-warning`]:{color:e.colorWarningText},[`&${t}-danger`]:{color:e.colorErrorText,"a&:active, a&:focus":{color:e.colorErrorTextActive},"a&:hover":{color:e.colorErrorTextHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},E_e(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),T_e(e)),C_e(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},sD(e)),{marginInlineStart:e.marginXXS})}),M_e(e)),__e(e)),x_e()),{"&-rtl":{direction:"rtl"}})}},N_e=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}),QX=fa("Typography",e=>[w_e(e)],N_e),R_e=e=>{const{prefixCls:t,"aria-label":n,className:r,style:i,direction:d,maxLength:g,autoSize:v=!0,value:S,onSave:I,onCancel:T,onEnd:_,component:N,enterIcon:A=E.createElement(KEe,null)}=e,w=E.useRef(null),O=E.useRef(!1),R=E.useRef(null),[D,j]=E.useState(S);E.useEffect(()=>{j(S)},[S]),E.useEffect(()=>{var X;if(!((X=w.current)===null||X===void 0)&&X.resizableTextArea){const{textArea:re}=w.current.resizableTextArea;re.focus();const{length:ee}=re.value;re.setSelectionRange(ee,ee)}},[]);const L=({target:X})=>{j(X.value.replace(/[\n\r]/g,""))},U=()=>{O.current=!0},$=()=>{O.current=!1},F=({keyCode:X})=>{O.current||(R.current=X)},z=()=>{I(D.trim())},H=({keyCode:X,ctrlKey:re,altKey:ee,metaKey:ae,shiftKey:de})=>{R.current!==X||O.current||re||ee||ae||de||(X===Vn.ENTER?(z(),_==null||_()):X===Vn.ESC&&T())},V=()=>{z()},[K,J,te]=QX(t),Z=Ue(t,`${t}-edit-content`,{[`${t}-rtl`]:d==="rtl",[`${t}-${N}`]:!!N},r,J,te);return K(E.createElement("div",{className:Z,style:i},E.createElement(uX,{ref:w,maxLength:g,value:D,onChange:L,onKeyDown:F,onKeyUp:H,onCompositionStart:U,onCompositionEnd:$,onBlur:V,"aria-label":n,rows:1,autoSize:v}),A!==null?Vo(A,{className:`${t}-edit-content-confirm`}):null))};var TN,L4;function A_e(){return L4||(L4=1,TN=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(i){e.addRange(i)}),t&&t.focus()}}),TN}var MN,P4;function O_e(){if(P4)return MN;P4=1;var e=A_e(),t={"text/plain":"Text","text/html":"Url",default:"Text"},n="Copy to clipboard: #{key}, Enter";function r(d){var g=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return d.replace(/#{\s*key\s*}/g,g)}function i(d,g){var v,S,I,T,_,N,A=!1;g||(g={}),v=g.debug||!1;try{I=e(),T=document.createRange(),_=document.getSelection(),N=document.createElement("span"),N.textContent=d,N.ariaHidden="true",N.style.all="unset",N.style.position="fixed",N.style.top=0,N.style.clip="rect(0, 0, 0, 0)",N.style.whiteSpace="pre",N.style.webkitUserSelect="text",N.style.MozUserSelect="text",N.style.msUserSelect="text",N.style.userSelect="text",N.addEventListener("copy",function(O){if(O.stopPropagation(),g.format)if(O.preventDefault(),typeof O.clipboardData>"u"){v&&console.warn("unable to use e.clipboardData"),v&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var R=t[g.format]||t.default;window.clipboardData.setData(R,d)}else O.clipboardData.clearData(),O.clipboardData.setData(g.format,d);g.onCopy&&(O.preventDefault(),g.onCopy(O.clipboardData))}),document.body.appendChild(N),T.selectNodeContents(N),_.addRange(T);var w=document.execCommand("copy");if(!w)throw new Error("copy command was unsuccessful");A=!0}catch(O){v&&console.error("unable to copy using execCommand: ",O),v&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(g.format||"text",d),g.onCopy&&g.onCopy(window.clipboardData),A=!0}catch(R){v&&console.error("unable to copy using clipboardData: ",R),v&&console.error("falling back to prompt"),S=r("message"in g?g.message:n),window.prompt(S,d)}}finally{_&&(typeof _.removeRange=="function"?_.removeRange(T):_.removeAllRanges()),N&&document.body.removeChild(N),I()}return A}return MN=i,MN}var k_e=O_e();const L_e=by(k_e);var P_e=function(e,t,n,r){function i(d){return d instanceof n?d:new n(function(g){g(d)})}return new(n||(n=Promise))(function(d,g){function v(T){try{I(r.next(T))}catch(_){g(_)}}function S(T){try{I(r.throw(T))}catch(_){g(_)}}function I(T){T.done?d(T.value):i(T.value).then(v,S)}I((r=r.apply(e,t||[])).next())})};const D_e=({copyConfig:e,children:t})=>{const[n,r]=E.useState(!1),[i,d]=E.useState(!1),g=E.useRef(null),v=()=>{g.current&&clearTimeout(g.current)},S={};e.format&&(S.format=e.format),E.useEffect(()=>v,[]);const I=xa(T=>P_e(void 0,void 0,void 0,function*(){var _;T==null||T.preventDefault(),T==null||T.stopPropagation(),d(!0);try{const N=typeof e.text=="function"?yield e.text():e.text;L_e(N||F0e(t,!0).join("")||"",S),d(!1),r(!0),v(),g.current=setTimeout(()=>{r(!1)},3e3),(_=e.onCopy)===null||_===void 0||_.call(e,T)}catch(N){throw d(!1),N}}));return{copied:n,copyLoading:i,onClick:I}};function _N(e,t){return E.useMemo(()=>{const n=!!e;return[n,Object.assign(Object.assign({},t),n&&typeof e=="object"?e:null)]},[e])}const j_e=e=>{const t=E.useRef(void 0);return E.useEffect(()=>{t.current=e}),t.current},V_e=(e,t,n)=>E.useMemo(()=>e===!0?{title:t??n}:E.isValidElement(e)?{title:e}:typeof e=="object"?Object.assign({title:t??n},e):{title:e},[e,t,n]);var $_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ZX=E.forwardRef((e,t)=>{const{prefixCls:n,component:r="article",className:i,rootClassName:d,setContentRef:g,children:v,direction:S,style:I}=e,T=$_e(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:_,direction:N,className:A,style:w}=Fo("typography"),O=S??N,R=g?Bo(t,g):t,D=_("typography",n),[j,L,U]=QX(D),$=Ue(D,A,{[`${D}-rtl`]:O==="rtl"},i,d,L,U),F=Object.assign(Object.assign({},w),I);return j(E.createElement(r,Object.assign({className:$,style:F,ref:R},T),v))});function D4(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function xN(e,t,n){return e===!0||e===void 0?t:e||n&&t}function U_e(e){const t=document.createElement("em");e.appendChild(t);const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return e.removeChild(t),n.left>r.left||r.right>n.right||n.top>r.top||r.bottom>n.bottom}const Sj=e=>["string","number"].includes(typeof e),B_e=({prefixCls:e,copied:t,locale:n,iconOnly:r,tooltips:i,icon:d,tabIndex:g,onCopy:v,loading:S})=>{const I=D4(i),T=D4(d),{copied:_,copy:N}=n??{},A=t?_:N,w=xN(I[t?1:0],A),O=typeof w=="string"?w:A;return E.createElement(Gl,{title:w},E.createElement("button",{type:"button",className:Ue(`${e}-copy`,{[`${e}-copy-success`]:t,[`${e}-copy-icon-only`]:r}),onClick:v,"aria-label":O,tabIndex:g},t?xN(T[1],E.createElement(PD,null),!0):xN(T[0],S?E.createElement(kd,null):E.createElement(PEe,null),!0)))},gT=E.forwardRef(({style:e,children:t},n)=>{const r=E.useRef(null);return E.useImperativeHandle(n,()=>({isExceed:()=>{const i=r.current;return i.scrollHeight>i.clientHeight},getHeight:()=>r.current.clientHeight})),E.createElement("span",{"aria-hidden":!0,ref:r,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},e)},t)}),F_e=e=>e.reduce((t,n)=>t+(Sj(n)?String(n).length:1),0);function j4(e,t){let n=0;const r=[];for(let i=0;i<e.length;i+=1){if(n===t)return r;const d=e[i],v=Sj(d)?String(d).length:1,S=n+v;if(S>t){const I=t-n;return r.push(String(d).slice(0,I)),r}r.push(d),n=S}return e}const wN=0,NN=1,RN=2,AN=3,V4=4,hT={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function q_e(e){const{enableMeasure:t,width:n,text:r,children:i,rows:d,expanded:g,miscDeps:v,onEllipsis:S}=e,I=E.useMemo(()=>ps(r),[r]),T=E.useMemo(()=>F_e(I),[r]),_=E.useMemo(()=>i(I,!1),[r]),[N,A]=E.useState(null),w=E.useRef(null),O=E.useRef(null),R=E.useRef(null),D=E.useRef(null),j=E.useRef(null),[L,U]=E.useState(!1),[$,F]=E.useState(wN),[z,H]=E.useState(0),[V,K]=E.useState(null);Hr(()=>{F(t&&n&&T?NN:wN)},[n,r,d,t,I]),Hr(()=>{var X,re,ee,ae;if($===NN){F(RN);const de=O.current&&getComputedStyle(O.current).whiteSpace;K(de)}else if($===RN){const de=!!(!((X=R.current)===null||X===void 0)&&X.isExceed());F(de?AN:V4),A(de?[0,T]:null),U(de);const he=((re=R.current)===null||re===void 0?void 0:re.getHeight())||0,ue=d===1?0:((ee=D.current)===null||ee===void 0?void 0:ee.getHeight())||0,ye=((ae=j.current)===null||ae===void 0?void 0:ae.getHeight())||0,be=Math.max(he,ue+ye);H(be+1),S(de)}},[$]);const J=N?Math.ceil((N[0]+N[1])/2):0;Hr(()=>{var X;const[re,ee]=N||[0,0];if(re!==ee){const de=(((X=w.current)===null||X===void 0?void 0:X.getHeight())||0)>z;let he=J;ee-re===1&&(he=de?re:ee),A(de?[re,he]:[he,ee])}},[N,J]);const te=E.useMemo(()=>{if(!t)return i(I,!1);if($!==AN||!N||N[0]!==N[1]){const X=i(I,!1);return[V4,wN].includes($)?X:E.createElement("span",{style:Object.assign(Object.assign({},hT),{WebkitLineClamp:d})},X)}return i(g?I:j4(I,N[0]),L)},[g,$,N,I].concat(Rt(v))),Z={width:n,margin:0,padding:0,whiteSpace:V==="nowrap"?"normal":"inherit"};return E.createElement(E.Fragment,null,te,$===RN&&E.createElement(E.Fragment,null,E.createElement(gT,{style:Object.assign(Object.assign(Object.assign({},Z),hT),{WebkitLineClamp:d}),ref:R},_),E.createElement(gT,{style:Object.assign(Object.assign(Object.assign({},Z),hT),{WebkitLineClamp:d-1}),ref:D},_),E.createElement(gT,{style:Object.assign(Object.assign(Object.assign({},Z),hT),{WebkitLineClamp:1}),ref:j},i([],!0))),$===AN&&N&&N[0]!==N[1]&&E.createElement(gT,{style:Object.assign(Object.assign({},Z),{top:400}),ref:w},i(j4(I,J),!0)),$===NN&&E.createElement("span",{style:{whiteSpace:"inherit"},ref:O}))}const z_e=({enableEllipsis:e,isEllipsis:t,children:n,tooltipProps:r})=>!(r!=null&&r.title)||!e?n:E.createElement(Gl,Object.assign({open:t?void 0:!1},r),n);var H_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function G_e({mark:e,code:t,underline:n,delete:r,strong:i,keyboard:d,italic:g},v){let S=v;function I(T,_){_&&(S=E.createElement(T,{},S))}return I("strong",i),I("u",n),I("del",r),I("code",t),I("mark",e),I("kbd",d),I("i",g),S}const K_e="...",$4=["delete","mark","code","underline","strong","keyboard","italic"],V_=E.forwardRef((e,t)=>{var n;const{prefixCls:r,className:i,style:d,type:g,disabled:v,children:S,ellipsis:I,editable:T,copyable:_,component:N,title:A}=e,w=H_e(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:O,direction:R}=E.useContext(rr),[D]=Tm("Text"),j=E.useRef(null),L=E.useRef(null),U=O("typography",r),$=ri(w,$4),[F,z]=_N(T),[H,V]=Si(!1,{value:z.editing}),{triggerType:K=["icon"]}=z,J=yt=>{var gt;yt&&((gt=z.onStart)===null||gt===void 0||gt.call(z)),V(yt)},te=j_e(H);Hr(()=>{var yt;!H&&te&&((yt=L.current)===null||yt===void 0||yt.focus())},[H]);const Z=yt=>{yt==null||yt.preventDefault(),J(!0)},X=yt=>{var gt;(gt=z.onChange)===null||gt===void 0||gt.call(z,yt),J(!1)},re=()=>{var yt;(yt=z.onCancel)===null||yt===void 0||yt.call(z),J(!1)},[ee,ae]=_N(_),{copied:de,copyLoading:he,onClick:ue}=D_e({copyConfig:ae,children:S}),[ye,be]=E.useState(!1),[oe,pe]=E.useState(!1),[fe,_e]=E.useState(!1),[Te,Se]=E.useState(!1),[De,je]=E.useState(!0),[ke,Oe]=_N(I,{expandable:!1,symbol:yt=>yt?D==null?void 0:D.collapse:D==null?void 0:D.expand}),[Ne,qe]=Si(Oe.defaultExpanded||!1,{value:Oe.expanded}),Ke=ke&&(!Ne||Oe.expandable==="collapsible"),{rows:He=1}=Oe,nt=E.useMemo(()=>Ke&&(Oe.suffix!==void 0||Oe.onEllipsis||Oe.expandable||F||ee),[Ke,Oe,F,ee]);Hr(()=>{ke&&!nt&&(be(sP("webkitLineClamp")),pe(sP("textOverflow")))},[nt,ke]);const[Je,ut]=E.useState(Ke),lt=E.useMemo(()=>nt?!1:He===1?oe:ye,[nt,oe,ye]);Hr(()=>{ut(lt&&Ke)},[lt,Ke]);const et=Ke&&(Je?Te:fe),Ye=Ke&&He===1&&Je,pt=Ke&&He>1&&Je,ct=(yt,gt)=>{var Jt;qe(gt.expanded),(Jt=Oe.onExpand)===null||Jt===void 0||Jt.call(Oe,yt,gt)},[xt,jt]=E.useState(0),Ut=({offsetWidth:yt})=>{jt(yt)},Vt=yt=>{var gt;_e(yt),fe!==yt&&((gt=Oe.onEllipsis)===null||gt===void 0||gt.call(Oe,yt))};E.useEffect(()=>{const yt=j.current;if(ke&&Je&&yt){const gt=U_e(yt);Te!==gt&&Se(gt)}},[ke,Je,S,pt,De,xt]),E.useEffect(()=>{const yt=j.current;if(typeof IntersectionObserver>"u"||!yt||!Je||!Ke)return;const gt=new IntersectionObserver(()=>{je(!!yt.offsetParent)});return gt.observe(yt),()=>{gt.disconnect()}},[Je,Ke]);const wt=V_e(Oe.tooltip,z.text,S),Bt=E.useMemo(()=>{if(!(!ke||Je))return[z.text,S,A,wt.title].find(Sj)},[ke,Je,A,wt.title,et]);if(H)return E.createElement(R_e,{value:(n=z.text)!==null&&n!==void 0?n:typeof S=="string"?S:"",onSave:X,onCancel:re,onEnd:z.onEnd,prefixCls:U,className:i,style:d,direction:R,component:N,maxLength:z.maxLength,autoSize:z.autoSize,enterIcon:z.enterIcon});const Pt=()=>{const{expandable:yt,symbol:gt}=Oe;return yt?E.createElement("button",{type:"button",key:"expand",className:`${U}-${Ne?"collapse":"expand"}`,onClick:Jt=>ct(Jt,{expanded:!Ne}),"aria-label":Ne?D.collapse:D==null?void 0:D.expand},typeof gt=="function"?gt(Ne):gt):null},ot=()=>{if(!F)return;const{icon:yt,tooltip:gt,tabIndex:Jt}=z,bn=ps(gt)[0]||(D==null?void 0:D.edit),Qn=typeof bn=="string"?bn:"";return K.includes("icon")?E.createElement(Gl,{key:"edit",title:gt===!1?"":bn},E.createElement("button",{type:"button",ref:L,className:`${U}-edit`,onClick:Z,"aria-label":Qn,tabIndex:Jt},yt||E.createElement(zEe,{role:"button"}))):null},qt=()=>ee?E.createElement(B_e,Object.assign({key:"copy"},ae,{prefixCls:U,copied:de,locale:D,onCopy:ue,loading:he,iconOnly:S==null})):null,vt=yt=>[yt&&Pt(),ot(),qt()],bt=yt=>[yt&&!Ne&&E.createElement("span",{"aria-hidden":!0,key:"ellipsis"},K_e),Oe.suffix,vt(yt)];return E.createElement(Do,{onResize:Ut,disabled:!Ke},yt=>E.createElement(z_e,{tooltipProps:wt,enableEllipsis:Ke,isEllipsis:et},E.createElement(ZX,Object.assign({className:Ue({[`${U}-${g}`]:g,[`${U}-disabled`]:v,[`${U}-ellipsis`]:ke,[`${U}-ellipsis-single-line`]:Ye,[`${U}-ellipsis-multiple-line`]:pt},i),prefixCls:r,style:Object.assign(Object.assign({},d),{WebkitLineClamp:pt?He:void 0}),component:N,ref:Bo(yt,j,t),direction:R,onClick:K.includes("text")?Z:void 0,"aria-label":Bt==null?void 0:Bt.toString(),title:A},$),E.createElement(q_e,{enableMeasure:Ke&&!Je,text:S,rows:He,width:xt,onEllipsis:Vt,expanded:Ne,miscDeps:[de,Ne,he,F,ee,D].concat(Rt($4.map(gt=>e[gt])))},(gt,Jt)=>G_e(e,E.createElement(E.Fragment,null,gt.length>0&&Jt&&!Ne&&Bt?E.createElement("span",{key:"show-content","aria-hidden":!0},gt):gt,bt(Jt)))))))});var W_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Y_e=E.forwardRef((e,t)=>{var{ellipsis:n,rel:r}=e,i=W_e(e,["ellipsis","rel"]);const d=Object.assign(Object.assign({},i),{rel:r===void 0&&i.target==="_blank"?"noopener noreferrer":r});return delete d.navigate,E.createElement(V_,Object.assign({},d,{ref:t,ellipsis:!!n,component:"a"}))}),X_e=E.forwardRef((e,t)=>E.createElement(V_,Object.assign({ref:t},e,{component:"div"})));var J_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Q_e=(e,t)=>{var{ellipsis:n}=e,r=J_e(e,["ellipsis"]);const i=E.useMemo(()=>n&&typeof n=="object"?ri(n,["expandable","rows"]):n,[n]);return E.createElement(V_,Object.assign({ref:t},r,{ellipsis:i,component:"span"}))},Z_e=E.forwardRef(Q_e);var exe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const txe=[1,2,3,4,5],nxe=E.forwardRef((e,t)=>{const{level:n=1}=e,r=exe(e,["level"]),i=txe.includes(n)?`h${n}`:"h1";return E.createElement(V_,Object.assign({ref:t},r,{component:i}))}),yl=ZX;yl.Text=Z_e;yl.Link=Y_e;yl.Title=nxe;yl.Paragraph=X_e;const ON=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=e.type||"",d=i.replace(/\/.*$/,"");return n.some(function(g){var v=g.trim();if(/^\*(\/\*)?$/.test(g))return!0;if(v.charAt(0)==="."){var S=r.toLowerCase(),I=v.toLowerCase(),T=[I];return(I===".jpg"||I===".jpeg")&&(T=[".jpg",".jpeg"]),T.some(function(_){return S.endsWith(_)})}return/\/\*$/.test(v)?d===v.replace(/\/.*$/,""):i===v?!0:/^\w+$/.test(v)?(pi(!1,"Upload takes an invalidate 'accept' type '".concat(v,"'.Skip for check.")),!0):!1})}return!0};function rxe(e,t){var n="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),r=new Error(n);return r.status=t.status,r.method=e.method,r.url=e.action,r}function U4(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}function axe(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(d){d.total>0&&(d.percent=d.loaded/d.total*100),e.onProgress(d)});var n=new FormData;e.data&&Object.keys(e.data).forEach(function(i){var d=e.data[i];if(Array.isArray(d)){d.forEach(function(g){n.append("".concat(i,"[]"),g)});return}n.append(i,d)}),e.file instanceof Blob?n.append(e.filename,e.file,e.file.name):n.append(e.filename,e.file),t.onerror=function(d){e.onError(d)},t.onload=function(){return t.status<200||t.status>=300?e.onError(rxe(e,t),U4(t)):e.onSuccess(U4(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var r=e.headers||{};return r["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(function(i){r[i]!==null&&t.setRequestHeader(i,r[i])}),t.send(n),{abort:function(){t.abort()}}}var ixe=function(){var e=xs(Oa().mark(function t(n,r){var i,d,g,v,S,I,T,_;return Oa().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:I=function(){return I=xs(Oa().mark(function O(R){return Oa().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",new Promise(function(L){R.file(function(U){r(U)?(R.fullPath&&!U.webkitRelativePath&&(Object.defineProperties(U,{webkitRelativePath:{writable:!0}}),U.webkitRelativePath=R.fullPath.replace(/^\//,""),Object.defineProperties(U,{webkitRelativePath:{writable:!1}})),L(U)):L(null)})}));case 1:case"end":return j.stop()}},O)})),I.apply(this,arguments)},S=function(O){return I.apply(this,arguments)},v=function(){return v=xs(Oa().mark(function O(R){var D,j,L,U,$;return Oa().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:D=R.createReader(),j=[];case 2:return z.next=5,new Promise(function(H){D.readEntries(H,function(){return H([])})});case 5:if(L=z.sent,U=L.length,U){z.next=9;break}return z.abrupt("break",12);case 9:for($=0;$<U;$++)j.push(L[$]);z.next=2;break;case 12:return z.abrupt("return",j);case 13:case"end":return z.stop()}},O)})),v.apply(this,arguments)},g=function(O){return v.apply(this,arguments)},i=[],d=[],n.forEach(function(w){return d.push(w.webkitGetAsEntry())}),T=function(){var w=xs(Oa().mark(function O(R,D){var j,L;return Oa().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(R){$.next=2;break}return $.abrupt("return");case 2:if(R.path=D||"",!R.isFile){$.next=10;break}return $.next=6,S(R);case 6:j=$.sent,j&&i.push(j),$.next=15;break;case 10:if(!R.isDirectory){$.next=15;break}return $.next=13,g(R);case 13:L=$.sent,d.push.apply(d,Rt(L));case 15:case"end":return $.stop()}},O)}));return function(R,D){return w.apply(this,arguments)}}(),_=0;case 9:if(!(_<d.length)){A.next=15;break}return A.next=12,T(d[_]);case 12:_++,A.next=9;break;case 15:return A.abrupt("return",i);case 16:case"end":return A.stop()}},t)}));return function(n,r){return e.apply(this,arguments)}}(),oxe=+new Date,sxe=0;function kN(){return"rc-upload-".concat(oxe,"-").concat(++sxe)}var lxe=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],cxe=function(e){vl(n,e);var t=Kl(n);function n(){var r;mi(this,n);for(var i=arguments.length,d=new Array(i),g=0;g<i;g++)d[g]=arguments[g];return r=t.call.apply(t,[this].concat(d)),Ce(vn(r),"state",{uid:kN()}),Ce(vn(r),"reqs",{}),Ce(vn(r),"fileInput",void 0),Ce(vn(r),"_isMounted",void 0),Ce(vn(r),"onChange",function(v){var S=r.props,I=S.accept,T=S.directory,_=v.target.files,N=Rt(_).filter(function(A){return!T||ON(A,I)});r.uploadFiles(N),r.reset()}),Ce(vn(r),"onClick",function(v){var S=r.fileInput;if(S){var I=v.target,T=r.props.onClick;if(I&&I.tagName==="BUTTON"){var _=S.parentNode;_.focus(),I.blur()}S.click(),T&&T(v)}}),Ce(vn(r),"onKeyDown",function(v){v.key==="Enter"&&r.onClick(v)}),Ce(vn(r),"onDataTransferFiles",function(){var v=xs(Oa().mark(function S(I,T){var _,N,A,w,O,R,D;return Oa().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(_=r.props,N=_.multiple,A=_.accept,w=_.directory,O=Rt(I.items||[]),R=Rt(I.files||[]),(R.length>0||O.some(function(U){return U.kind==="file"}))&&(T==null||T()),!w){L.next=11;break}return L.next=7,ixe(Array.prototype.slice.call(O),function(U){return ON(U,r.props.accept)});case 7:R=L.sent,r.uploadFiles(R),L.next=14;break;case 11:D=Rt(R).filter(function(U){return ON(U,A)}),N===!1&&(D=R.slice(0,1)),r.uploadFiles(D);case 14:case"end":return L.stop()}},S)}));return function(S,I){return v.apply(this,arguments)}}()),Ce(vn(r),"onFilePaste",function(){var v=xs(Oa().mark(function S(I){var T,_;return Oa().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(T=r.props.pastable,T){A.next=3;break}return A.abrupt("return");case 3:if(I.type!=="paste"){A.next=6;break}return _=I.clipboardData,A.abrupt("return",r.onDataTransferFiles(_,function(){I.preventDefault()}));case 6:case"end":return A.stop()}},S)}));return function(S){return v.apply(this,arguments)}}()),Ce(vn(r),"onFileDragOver",function(v){v.preventDefault()}),Ce(vn(r),"onFileDrop",function(){var v=xs(Oa().mark(function S(I){var T;return Oa().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(I.preventDefault(),I.type!=="drop"){N.next=4;break}return T=I.dataTransfer,N.abrupt("return",r.onDataTransferFiles(T));case 4:case"end":return N.stop()}},S)}));return function(S){return v.apply(this,arguments)}}()),Ce(vn(r),"uploadFiles",function(v){var S=Rt(v),I=S.map(function(T){return T.uid=kN(),r.processFile(T,S)});Promise.all(I).then(function(T){var _=r.props.onBatchStart;_==null||_(T.map(function(N){var A=N.origin,w=N.parsedFile;return{file:A,parsedFile:w}})),T.filter(function(N){return N.parsedFile!==null}).forEach(function(N){r.post(N)})})}),Ce(vn(r),"processFile",function(){var v=xs(Oa().mark(function S(I,T){var _,N,A,w,O,R,D,j,L;return Oa().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(_=r.props.beforeUpload,N=I,!_){$.next=14;break}return $.prev=3,$.next=6,_(I,T);case 6:N=$.sent,$.next=12;break;case 9:$.prev=9,$.t0=$.catch(3),N=!1;case 12:if(N!==!1){$.next=14;break}return $.abrupt("return",{origin:I,parsedFile:null,action:null,data:null});case 14:if(A=r.props.action,typeof A!="function"){$.next=21;break}return $.next=18,A(I);case 18:w=$.sent,$.next=22;break;case 21:w=A;case 22:if(O=r.props.data,typeof O!="function"){$.next=29;break}return $.next=26,O(I);case 26:R=$.sent,$.next=30;break;case 29:R=O;case 30:return D=(qn(N)==="object"||typeof N=="string")&&N?N:I,D instanceof File?j=D:j=new File([D],I.name,{type:I.type}),L=j,L.uid=I.uid,$.abrupt("return",{origin:I,data:R,parsedFile:L,action:w});case 35:case"end":return $.stop()}},S,null,[[3,9]])}));return function(S,I){return v.apply(this,arguments)}}()),Ce(vn(r),"saveFileInput",function(v){r.fileInput=v}),r}return fi(n,[{key:"componentDidMount",value:function(){this._isMounted=!0;var i=this.props.pastable;i&&document.addEventListener("paste",this.onFilePaste)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort(),document.removeEventListener("paste",this.onFilePaste)}},{key:"componentDidUpdate",value:function(i){var d=this.props.pastable;d&&!i.pastable?document.addEventListener("paste",this.onFilePaste):!d&&i.pastable&&document.removeEventListener("paste",this.onFilePaste)}},{key:"post",value:function(i){var d=this,g=i.data,v=i.origin,S=i.action,I=i.parsedFile;if(this._isMounted){var T=this.props,_=T.onStart,N=T.customRequest,A=T.name,w=T.headers,O=T.withCredentials,R=T.method,D=v.uid,j=N||axe,L={action:S,filename:A,data:g,file:I,headers:w,withCredentials:O,method:R||"post",onProgress:function($){var F=d.props.onProgress;F==null||F($,I)},onSuccess:function($,F){var z=d.props.onSuccess;z==null||z($,I,F),delete d.reqs[D]},onError:function($,F){var z=d.props.onError;z==null||z($,F,I),delete d.reqs[D]}};_(v),this.reqs[D]=j(L)}}},{key:"reset",value:function(){this.setState({uid:kN()})}},{key:"abort",value:function(i){var d=this.reqs;if(i){var g=i.uid?i.uid:i;d[g]&&d[g].abort&&d[g].abort(),delete d[g]}else Object.keys(d).forEach(function(v){d[v]&&d[v].abort&&d[v].abort(),delete d[v]})}},{key:"render",value:function(){var i=this.props,d=i.component,g=i.prefixCls,v=i.className,S=i.classNames,I=S===void 0?{}:S,T=i.disabled,_=i.id,N=i.name,A=i.style,w=i.styles,O=w===void 0?{}:w,R=i.multiple,D=i.accept,j=i.capture,L=i.children,U=i.directory,$=i.openFileDialogOnClick,F=i.onMouseEnter,z=i.onMouseLeave,H=i.hasControlInside,V=ir(i,lxe),K=Ue(Ce(Ce(Ce({},g,!0),"".concat(g,"-disabled"),T),v,v)),J=U?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},te=T?{}:{onClick:$?this.onClick:function(){},onKeyDown:$?this.onKeyDown:function(){},onMouseEnter:F,onMouseLeave:z,onDrop:this.onFileDrop,onDragOver:this.onFileDragOver,tabIndex:H?void 0:"0"};return Xe.createElement(d,kt({},te,{className:K,role:H?void 0:"button",style:A}),Xe.createElement("input",kt({},ws(V,{aria:!0,data:!0}),{id:_,name:N,disabled:T,type:"file",ref:this.saveFileInput,onClick:function(X){return X.stopPropagation()},key:this.state.uid,style:Pe({display:"none"},O.input),className:I.input,accept:D},J,{multiple:R,onChange:this.onChange},j!=null?{capture:j}:{})),L)}}]),n}(E.Component);function LN(){}var kP=function(e){vl(n,e);var t=Kl(n);function n(){var r;mi(this,n);for(var i=arguments.length,d=new Array(i),g=0;g<i;g++)d[g]=arguments[g];return r=t.call.apply(t,[this].concat(d)),Ce(vn(r),"uploader",void 0),Ce(vn(r),"saveUploader",function(v){r.uploader=v}),r}return fi(n,[{key:"abort",value:function(i){this.uploader.abort(i)}},{key:"render",value:function(){return Xe.createElement(cxe,kt({},this.props,{ref:this.saveUploader}))}}]),n}(E.Component);Ce(kP,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:LN,onError:LN,onSuccess:LN,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const uxe=e=>{const{componentCls:t,iconCls:n}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${Le(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${Le(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[n]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${Le(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${n},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},dxe=e=>{const{componentCls:t,iconCls:n,fontSize:r,lineHeight:i,calc:d}=e,g=`${t}-list-item`,v=`${g}-actions`,S=`${g}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},Mu()),{lineHeight:e.lineHeight,[g]:{position:"relative",height:d(e.lineHeight).mul(r).equal(),marginTop:e.marginXS,fontSize:r,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${g}-name`]:Object.assign(Object.assign({},kc),{padding:`0 ${Le(e.paddingXS)}`,lineHeight:i,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[v]:{whiteSpace:"nowrap",[S]:{opacity:0},[n]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${S}:focus-visible,
              &.picture ${S}
            `]:{opacity:1}},[`${t}-icon ${n}`]:{color:e.colorIcon,fontSize:r},[`${g}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:d(r).add(e.paddingXS).equal(),fontSize:r,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${g}:hover ${S}`]:{opacity:1},[`${g}-error`]:{color:e.colorError,[`${g}-name, ${t}-icon ${n}`]:{color:e.colorError},[v]:{[`${n}, ${n}:hover`]:{color:e.colorError},[S]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},pxe=e=>{const{componentCls:t}=e,n=new ca("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),r=new ca("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),i=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${i}-appear, ${i}-enter, ${i}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${i}-appear, ${i}-enter`]:{animationName:n},[`${i}-leave`]:{animationName:r}}},{[`${t}-wrapper`]:kde(e)},n,r]},mxe=e=>{const{componentCls:t,iconCls:n,uploadThumbnailSize:r,uploadProgressOffset:i,calc:d}=e,g=`${t}-list`,v=`${g}-item`;return{[`${t}-wrapper`]:{[`
        ${g}${g}-picture,
        ${g}${g}-picture-card,
        ${g}${g}-picture-circle
      `]:{[v]:{position:"relative",height:d(r).add(d(e.lineWidth).mul(2)).add(d(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${Le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${v}-thumbnail`]:Object.assign(Object.assign({},kc),{width:r,height:r,lineHeight:Le(d(r).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[n]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${v}-progress`]:{bottom:i,width:`calc(100% - ${Le(d(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:d(r).add(e.paddingXS).equal()}},[`${v}-error`]:{borderColor:e.colorError,[`${v}-thumbnail ${n}`]:{[`svg path[fill='${my[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${my.primary}']`]:{fill:e.colorError}}},[`${v}-uploading`]:{borderStyle:"dashed",[`${v}-name`]:{marginBottom:i}}},[`${g}${g}-picture-circle ${v}`]:{[`&, &::before, ${v}-thumbnail`]:{borderRadius:"50%"}}}}},fxe=e=>{const{componentCls:t,iconCls:n,fontSizeLG:r,colorTextLightSolid:i,calc:d}=e,g=`${t}-list`,v=`${g}-item`,S=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},Mu()),{display:"block",[`${t}${t}-select`]:{width:S,height:S,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${Le(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${g}${g}-picture-card, ${g}${g}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${g}-item-container`]:{display:"inline-block",width:S,height:S,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[v]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${Le(d(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${Le(d(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${v}:hover`]:{[`&::before, ${v}-actions`]:{opacity:1}},[`${v}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${n}-eye,
            ${n}-download,
            ${n}-delete
          `]:{zIndex:10,width:r,margin:`0 ${Le(e.marginXXS)}`,fontSize:r,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:i,"&:hover":{color:i},svg:{verticalAlign:"baseline"}}},[`${v}-thumbnail, ${v}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${v}-name`]:{display:"none",textAlign:"center"},[`${v}-file + ${v}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${Le(d(e.paddingXS).mul(2).equal())})`},[`${v}-uploading`]:{[`&${v}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${n}-eye, ${n}-download, ${n}-delete`]:{display:"none"}},[`${v}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${Le(d(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},gxe=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},hxe=e=>{const{componentCls:t,colorTextDisabled:n}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},Sa(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:n,cursor:"not-allowed"}})}},vxe=e=>({actionsColor:e.colorIcon}),yxe=fa("Upload",e=>{const{fontSizeHeading3:t,fontHeight:n,lineWidth:r,controlHeightLG:i,calc:d}=e,g=qr(e,{uploadThumbnailSize:d(t).mul(2).equal(),uploadProgressOffset:d(d(n).div(2)).add(r).equal(),uploadPicCardSize:d(i).mul(2.55).equal()});return[hxe(g),uxe(g),mxe(g),fxe(g),dxe(g),pxe(g),gxe(g),c_(g)]},vxe);function vT(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function yT(e,t){const n=Rt(t),r=n.findIndex(({uid:i})=>i===e.uid);return r===-1?n.push(e):n[r]=e,n}function PN(e,t){const n=e.uid!==void 0?"uid":"name";return t.filter(r=>r[n]===e[n])[0]}function bxe(e,t){const n=e.uid!==void 0?"uid":"name",r=t.filter(i=>i[n]!==e[n]);return r.length===t.length?null:r}const Sxe=(e="")=>{const t=e.split("/"),r=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},eJ=e=>e.indexOf("image/")===0,Ixe=e=>{if(e.type&&!e.thumbUrl)return eJ(e.type);const t=e.thumbUrl||e.url||"",n=Sxe(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n)?!0:!(/^data:/.test(t)||n)},im=200;function Exe(e){return new Promise(t=>{if(!e.type||!eJ(e.type)){t("");return}const n=document.createElement("canvas");n.width=im,n.height=im,n.style.cssText=`position: fixed; left: 0; top: 0; width: ${im}px; height: ${im}px; z-index: 9999; display: none;`,document.body.appendChild(n);const r=n.getContext("2d"),i=new Image;if(i.onload=()=>{const{width:d,height:g}=i;let v=im,S=im,I=0,T=0;d>g?(S=g*(im/d),T=-(S-v)/2):(v=d*(im/g),I=-(v-S)/2),r.drawImage(i,I,T,v,S);const _=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(i.src),t(_)},i.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const d=new FileReader;d.onload=()=>{d.result&&typeof d.result=="string"&&(i.src=d.result)},d.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const d=new FileReader;d.onload=()=>{d.result&&t(d.result)},d.readAsDataURL(e)}else i.src=window.URL.createObjectURL(e)})}const Cxe=E.forwardRef(({prefixCls:e,className:t,style:n,locale:r,listType:i,file:d,items:g,progress:v,iconRender:S,actionIconRender:I,itemRender:T,isImgUrl:_,showPreviewIcon:N,showRemoveIcon:A,showDownloadIcon:w,previewIcon:O,removeIcon:R,downloadIcon:D,extra:j,onPreview:L,onDownload:U,onClose:$},F)=>{var z,H;const{status:V}=d,[K,J]=E.useState(V);E.useEffect(()=>{V!=="removed"&&J(V)},[V]);const[te,Z]=E.useState(!1);E.useEffect(()=>{const Oe=setTimeout(()=>{Z(!0)},300);return()=>{clearTimeout(Oe)}},[]);const X=S(d);let re=E.createElement("div",{className:`${e}-icon`},X);if(i==="picture"||i==="picture-card"||i==="picture-circle")if(K==="uploading"||!d.thumbUrl&&!d.url){const Oe=Ue(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:K!=="uploading"});re=E.createElement("div",{className:Oe},X)}else{const Oe=_!=null&&_(d)?E.createElement("img",{src:d.thumbUrl||d.url,alt:d.name,className:`${e}-list-item-image`,crossOrigin:d.crossOrigin}):X,Ne=Ue(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:_&&!_(d)});re=E.createElement("a",{className:Ne,onClick:qe=>L(d,qe),href:d.url||d.thumbUrl,target:"_blank",rel:"noopener noreferrer"},Oe)}const ee=Ue(`${e}-list-item`,`${e}-list-item-${K}`),ae=typeof d.linkProps=="string"?JSON.parse(d.linkProps):d.linkProps,de=(typeof A=="function"?A(d):A)?I((typeof R=="function"?R(d):R)||E.createElement(VEe,null),()=>$(d),e,r.removeFile,!0):null,he=(typeof w=="function"?w(d):w)&&K==="done"?I((typeof D=="function"?D(d):D)||E.createElement(BEe,null),()=>U(d),e,r.downloadFile):null,ue=i!=="picture-card"&&i!=="picture-circle"&&E.createElement("span",{key:"download-delete",className:Ue(`${e}-list-item-actions`,{picture:i==="picture"})},he,de),ye=typeof j=="function"?j(d):j,be=ye&&E.createElement("span",{className:`${e}-list-item-extra`},ye),oe=Ue(`${e}-list-item-name`),pe=d.url?E.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:oe,title:d.name},ae,{href:d.url,onClick:Oe=>L(d,Oe)}),d.name,be):E.createElement("span",{key:"view",className:oe,onClick:Oe=>L(d,Oe),title:d.name},d.name,be),fe=(typeof N=="function"?N(d):N)&&(d.url||d.thumbUrl)?E.createElement("a",{href:d.url||d.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:Oe=>L(d,Oe),title:r.previewFile},typeof O=="function"?O(d):O||E.createElement(lX,null)):null,_e=(i==="picture-card"||i==="picture-circle")&&K!=="uploading"&&E.createElement("span",{className:`${e}-list-item-actions`},fe,K==="done"&&he,de),{getPrefixCls:Te}=E.useContext(rr),Se=Te(),De=E.createElement("div",{className:ee},re,pe,ue,_e,te&&E.createElement(Wl,{motionName:`${Se}-fade`,visible:K==="uploading",motionDeadline:2e3},({className:Oe})=>{const Ne="percent"in d?E.createElement(CEe,Object.assign({type:"line",percent:d.percent,"aria-label":d["aria-label"],"aria-labelledby":d["aria-labelledby"]},v)):null;return E.createElement("div",{className:Ue(`${e}-list-item-progress`,Oe)},Ne)})),je=d.response&&typeof d.response=="string"?d.response:((z=d.error)===null||z===void 0?void 0:z.statusText)||((H=d.error)===null||H===void 0?void 0:H.message)||r.uploadError,ke=K==="error"?E.createElement(Gl,{title:je,getPopupContainer:Oe=>Oe.parentNode},De):De;return E.createElement("div",{className:Ue(`${e}-list-item-container`,t),style:n,ref:F},T?T(ke,d,g,{download:U.bind(null,d),preview:L.bind(null,d),remove:$.bind(null,d)}):ke)}),Txe=(e,t)=>{const{listType:n="text",previewFile:r=Exe,onPreview:i,onDownload:d,onRemove:g,locale:v,iconRender:S,isImageUrl:I=Ixe,prefixCls:T,items:_=[],showPreviewIcon:N=!0,showRemoveIcon:A=!0,showDownloadIcon:w=!1,removeIcon:O,previewIcon:R,downloadIcon:D,extra:j,progress:L={size:[-1,2],showInfo:!1},appendAction:U,appendActionVisible:$=!0,itemRender:F,disabled:z}=e,H=VD(),[V,K]=E.useState(!1),J=["picture-card","picture-circle"].includes(n);E.useEffect(()=>{n.startsWith("picture")&&(_||[]).forEach(oe=>{!(oe.originFileObj instanceof File||oe.originFileObj instanceof Blob)||oe.thumbUrl!==void 0||(oe.thumbUrl="",r==null||r(oe.originFileObj).then(pe=>{oe.thumbUrl=pe||"",H()}))})},[n,_,r]),E.useEffect(()=>{K(!0)},[]);const te=(oe,pe)=>{if(i)return pe==null||pe.preventDefault(),i(oe)},Z=oe=>{typeof d=="function"?d(oe):oe.url&&window.open(oe.url)},X=oe=>{g==null||g(oe)},re=oe=>{if(S)return S(oe,n);const pe=oe.status==="uploading";if(n.startsWith("picture")){const fe=n==="picture"?E.createElement(kd,null):v.uploading,_e=I!=null&&I(oe)?E.createElement(bCe,null):E.createElement(QEe,null);return pe?fe:_e}return pe?E.createElement(kd,null):E.createElement(hCe,null)},ee=(oe,pe,fe,_e,Te)=>{const Se={type:"text",size:"small",title:_e,onClick:De=>{var je,ke;pe(),E.isValidElement(oe)&&((ke=(je=oe.props).onClick)===null||ke===void 0||ke.call(je,De))},className:`${fe}-list-item-action`,disabled:Te?z:!1};return E.isValidElement(oe)?E.createElement(Ze,Object.assign({},Se,{icon:Vo(oe,Object.assign(Object.assign({},oe.props),{onClick:()=>{}}))})):E.createElement(Ze,Object.assign({},Se),E.createElement("span",null,oe))};E.useImperativeHandle(t,()=>({handlePreview:te,handleDownload:Z}));const{getPrefixCls:ae}=E.useContext(rr),de=ae("upload",T),he=ae(),ue=Ue(`${de}-list`,`${de}-list-${n}`),ye=E.useMemo(()=>ri(r0(he),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[he]),be=Object.assign(Object.assign({},J?{}:ye),{motionDeadline:2e3,motionName:`${de}-${J?"animate-inline":"animate"}`,keys:Rt(_.map(oe=>({key:oe.uid,file:oe}))),motionAppear:V});return E.createElement("div",{className:ue},E.createElement(cD,Object.assign({},be,{component:!1}),({key:oe,file:pe,className:fe,style:_e})=>E.createElement(Cxe,{key:oe,locale:v,prefixCls:de,className:fe,style:_e,file:pe,items:_,progress:L,listType:n,isImgUrl:I,showPreviewIcon:N,showRemoveIcon:A,showDownloadIcon:w,removeIcon:O,previewIcon:R,downloadIcon:D,extra:j,iconRender:re,actionIconRender:ee,itemRender:F,onPreview:te,onDownload:Z,onClose:X})),U&&E.createElement(Wl,Object.assign({},be,{visible:$,forceRender:!0}),({className:oe,style:pe})=>Vo(U,fe=>({className:Ue(fe.className,oe),style:Object.assign(Object.assign(Object.assign({},pe),{pointerEvents:oe?"none":void 0}),fe.style)}))))},Mxe=E.forwardRef(Txe);var _xe=function(e,t,n,r){function i(d){return d instanceof n?d:new n(function(g){g(d)})}return new(n||(n=Promise))(function(d,g){function v(T){try{I(r.next(T))}catch(_){g(_)}}function S(T){try{I(r.throw(T))}catch(_){g(_)}}function I(T){T.done?d(T.value):i(T.value).then(v,S)}I((r=r.apply(e,[])).next())})};const kI=`__LIST_IGNORE_${Date.now()}__`,xxe=(e,t)=>{const{fileList:n,defaultFileList:r,onRemove:i,showUploadList:d=!0,listType:g="text",onPreview:v,onDownload:S,onChange:I,onDrop:T,previewFile:_,disabled:N,locale:A,iconRender:w,isImageUrl:O,progress:R,prefixCls:D,className:j,type:L="select",children:U,style:$,itemRender:F,maxCount:z,data:H={},multiple:V=!1,hasControlInside:K=!0,action:J="",accept:te="",supportServerRender:Z=!0,rootClassName:X}=e,re=E.useContext(Xs),ee=N??re,[ae,de]=Si(r||[],{value:n,postState:vt=>vt??[]}),[he,ue]=E.useState("drop"),ye=E.useRef(null),be=E.useRef(null);E.useMemo(()=>{const vt=Date.now();(n||[]).forEach((bt,yt)=>{!bt.uid&&!Object.isFrozen(bt)&&(bt.uid=`__AUTO__${vt}_${yt}__`)})},[n]);const oe=(vt,bt,yt)=>{let gt=Rt(bt),Jt=!1;z===1?gt=gt.slice(-1):z&&(Jt=gt.length>z,gt=gt.slice(0,z)),Ac.flushSync(()=>{de(gt)});const bn={file:vt,fileList:gt};yt&&(bn.event=yt),(!Jt||vt.status==="removed"||gt.some(Qn=>Qn.uid===vt.uid))&&Ac.flushSync(()=>{I==null||I(bn)})},pe=(vt,bt)=>_xe(void 0,void 0,void 0,function*(){const{beforeUpload:yt,transformFile:gt}=e;let Jt=vt;if(yt){const bn=yield yt(vt,bt);if(bn===!1)return!1;if(delete vt[kI],bn===kI)return Object.defineProperty(vt,kI,{value:!0,configurable:!0}),!1;typeof bn=="object"&&bn&&(Jt=bn)}return gt&&(Jt=yield gt(Jt)),Jt}),fe=vt=>{const bt=vt.filter(Jt=>!Jt.file[kI]);if(!bt.length)return;const yt=bt.map(Jt=>vT(Jt.file));let gt=Rt(ae);yt.forEach(Jt=>{gt=yT(Jt,gt)}),yt.forEach((Jt,bn)=>{let Qn=Jt;if(bt[bn].parsedFile)Jt.status="uploading";else{const{originFileObj:Dn}=Jt;let tn;try{tn=new File([Dn],Dn.name,{type:Dn.type})}catch{tn=new Blob([Dn],{type:Dn.type}),tn.name=Dn.name,tn.lastModifiedDate=new Date,tn.lastModified=new Date().getTime()}tn.uid=Jt.uid,Qn=tn}oe(Qn,gt)})},_e=(vt,bt,yt)=>{try{typeof vt=="string"&&(vt=JSON.parse(vt))}catch{}if(!PN(bt,ae))return;const gt=vT(bt);gt.status="done",gt.percent=100,gt.response=vt,gt.xhr=yt;const Jt=yT(gt,ae);oe(gt,Jt)},Te=(vt,bt)=>{if(!PN(bt,ae))return;const yt=vT(bt);yt.status="uploading",yt.percent=vt.percent;const gt=yT(yt,ae);oe(yt,gt,vt)},Se=(vt,bt,yt)=>{if(!PN(yt,ae))return;const gt=vT(yt);gt.error=vt,gt.response=bt,gt.status="error";const Jt=yT(gt,ae);oe(gt,Jt)},De=vt=>{let bt;Promise.resolve(typeof i=="function"?i(vt):i).then(yt=>{var gt;if(yt===!1)return;const Jt=bxe(vt,ae);Jt&&(bt=Object.assign(Object.assign({},vt),{status:"removed"}),ae==null||ae.forEach(bn=>{const Qn=bt.uid!==void 0?"uid":"name";bn[Qn]===bt[Qn]&&!Object.isFrozen(bn)&&(bn.status="removed")}),(gt=ye.current)===null||gt===void 0||gt.abort(bt),oe(bt,Jt))})},je=vt=>{ue(vt.type),vt.type==="drop"&&(T==null||T(vt))};E.useImperativeHandle(t,()=>({onBatchStart:fe,onSuccess:_e,onProgress:Te,onError:Se,fileList:ae,upload:ye.current,nativeElement:be.current}));const{getPrefixCls:ke,direction:Oe,upload:Ne}=E.useContext(rr),qe=ke("upload",D),Ke=Object.assign(Object.assign({onBatchStart:fe,onError:Se,onProgress:Te,onSuccess:_e},e),{data:H,multiple:V,action:J,accept:te,supportServerRender:Z,prefixCls:qe,disabled:ee,beforeUpload:pe,onChange:void 0,hasControlInside:K});delete Ke.className,delete Ke.style,(!U||ee)&&delete Ke.id;const He=`${qe}-wrapper`,[nt,Je,ut]=yxe(qe,He),[lt]=Tm("Upload",Tu.Upload),{showRemoveIcon:et,showPreviewIcon:Ye,showDownloadIcon:pt,removeIcon:ct,previewIcon:xt,downloadIcon:jt,extra:Ut}=typeof d=="boolean"?{}:d,Vt=typeof et>"u"?!ee:et,wt=(vt,bt)=>d?E.createElement(Mxe,{prefixCls:qe,listType:g,items:ae,previewFile:_,onPreview:v,onDownload:S,onRemove:De,showRemoveIcon:Vt,showPreviewIcon:Ye,showDownloadIcon:pt,removeIcon:ct,previewIcon:xt,downloadIcon:jt,iconRender:w,extra:Ut,locale:Object.assign(Object.assign({},lt),A),isImageUrl:O,progress:R,appendAction:vt,appendActionVisible:bt,itemRender:F,disabled:ee}):vt,Bt=Ue(He,j,X,Je,ut,Ne==null?void 0:Ne.className,{[`${qe}-rtl`]:Oe==="rtl",[`${qe}-picture-card-wrapper`]:g==="picture-card",[`${qe}-picture-circle-wrapper`]:g==="picture-circle"}),Pt=Object.assign(Object.assign({},Ne==null?void 0:Ne.style),$);if(L==="drag"){const vt=Ue(Je,qe,`${qe}-drag`,{[`${qe}-drag-uploading`]:ae.some(bt=>bt.status==="uploading"),[`${qe}-drag-hover`]:he==="dragover",[`${qe}-disabled`]:ee,[`${qe}-rtl`]:Oe==="rtl"});return nt(E.createElement("span",{className:Bt,ref:be},E.createElement("div",{className:vt,style:Pt,onDrop:je,onDragOver:je,onDragLeave:je},E.createElement(kP,Object.assign({},Ke,{ref:ye,className:`${qe}-btn`}),E.createElement("div",{className:`${qe}-drag-container`},U))),wt()))}const ot=Ue(qe,`${qe}-select`,{[`${qe}-disabled`]:ee,[`${qe}-hidden`]:!U}),qt=E.createElement("div",{className:ot,style:Pt},E.createElement(kP,Object.assign({},Ke,{ref:ye})));return nt(g==="picture-card"||g==="picture-circle"?E.createElement("span",{className:Bt,ref:be},wt(qt,!!U)):E.createElement("span",{className:Bt,ref:be},qt,wt()))},tJ=E.forwardRef(xxe);var wxe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Nxe=E.forwardRef((e,t)=>{var{style:n,height:r,hasControlInside:i=!1}=e,d=wxe(e,["style","height","hasControlInside"]);return E.createElement(tJ,Object.assign({ref:t,hasControlInside:i},d,{type:"drag",style:Object.assign(Object.assign({},n),{height:r})}))}),sg=tJ;sg.Dragger=Nxe;sg.LIST_IGNORE=kI;var DN={exports:{}},bI={},jN={exports:{}},VN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B4;function Rxe(){return B4||(B4=1,function(e){function t(ee,ae){var de=ee.length;ee.push(ae);e:for(;0<de;){var he=de-1>>>1,ue=ee[he];if(0<i(ue,ae))ee[he]=ae,ee[de]=ue,de=he;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ae=ee[0],de=ee.pop();if(de!==ae){ee[0]=de;e:for(var he=0,ue=ee.length,ye=ue>>>1;he<ye;){var be=2*(he+1)-1,oe=ee[be],pe=be+1,fe=ee[pe];if(0>i(oe,de))pe<ue&&0>i(fe,oe)?(ee[he]=fe,ee[pe]=de,he=pe):(ee[he]=oe,ee[be]=de,he=be);else if(pe<ue&&0>i(fe,de))ee[he]=fe,ee[pe]=de,he=pe;else break e}}return ae}function i(ee,ae){var de=ee.sortIndex-ae.sortIndex;return de!==0?de:ee.id-ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var g=Date,v=g.now();e.unstable_now=function(){return g.now()-v}}var S=[],I=[],T=1,_=null,N=3,A=!1,w=!1,O=!1,R=!1,D=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function U(ee){for(var ae=n(I);ae!==null;){if(ae.callback===null)r(I);else if(ae.startTime<=ee)r(I),ae.sortIndex=ae.expirationTime,t(S,ae);else break;ae=n(I)}}function $(ee){if(O=!1,U(ee),!w)if(n(S)!==null)w=!0,F||(F=!0,te());else{var ae=n(I);ae!==null&&re($,ae.startTime-ee)}}var F=!1,z=-1,H=5,V=-1;function K(){return R?!0:!(e.unstable_now()-V<H)}function J(){if(R=!1,F){var ee=e.unstable_now();V=ee;var ae=!0;try{e:{w=!1,O&&(O=!1,j(z),z=-1),A=!0;var de=N;try{t:{for(U(ee),_=n(S);_!==null&&!(_.expirationTime>ee&&K());){var he=_.callback;if(typeof he=="function"){_.callback=null,N=_.priorityLevel;var ue=he(_.expirationTime<=ee);if(ee=e.unstable_now(),typeof ue=="function"){_.callback=ue,U(ee),ae=!0;break t}_===n(S)&&r(S),U(ee)}else r(S);_=n(S)}if(_!==null)ae=!0;else{var ye=n(I);ye!==null&&re($,ye.startTime-ee),ae=!1}}break e}finally{_=null,N=de,A=!1}ae=void 0}}finally{ae?te():F=!1}}}var te;if(typeof L=="function")te=function(){L(J)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,X=Z.port2;Z.port1.onmessage=J,te=function(){X.postMessage(null)}}else te=function(){D(J,0)};function re(ee,ae){z=D(function(){ee(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_next=function(ee){switch(N){case 1:case 2:case 3:var ae=3;break;default:ae=N}var de=N;N=ae;try{return ee()}finally{N=de}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(ee,ae){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var de=N;N=ee;try{return ae()}finally{N=de}},e.unstable_scheduleCallback=function(ee,ae,de){var he=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?he+de:he):de=he,ee){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=de+ue,ee={id:T++,callback:ae,priorityLevel:ee,startTime:de,expirationTime:ue,sortIndex:-1},de>he?(ee.sortIndex=de,t(I,ee),n(S)===null&&ee===n(I)&&(O?(j(z),z=-1):O=!0,re($,de-he))):(ee.sortIndex=ue,t(S,ee),w||A||(w=!0,F||(F=!0,te()))),ee},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(ee){var ae=N;return function(){var de=N;N=ae;try{return ee.apply(this,arguments)}finally{N=de}}}}(VN)),VN}var F4;function Axe(){return F4||(F4=1,jN.exports=Rxe()),jN.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q4;function Oxe(){if(q4)return bI;q4=1;var e=Axe(),t=XP(),n=v9();function r(m){var b="https://react.dev/errors/"+m;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)b+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+m+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function d(m){var b=m,M=m;if(m.alternate)for(;b.return;)b=b.return;else{m=b;do b=m,(b.flags&4098)!==0&&(M=b.return),m=b.return;while(m)}return b.tag===3?M:null}function g(m){if(m.tag===13){var b=m.memoizedState;if(b===null&&(m=m.alternate,m!==null&&(b=m.memoizedState)),b!==null)return b.dehydrated}return null}function v(m){if(d(m)!==m)throw Error(r(188))}function S(m){var b=m.alternate;if(!b){if(b=d(m),b===null)throw Error(r(188));return b!==m?null:m}for(var M=m,P=b;;){var G=M.return;if(G===null)break;var Q=G.alternate;if(Q===null){if(P=G.return,P!==null){M=P;continue}break}if(G.child===Q.child){for(Q=G.child;Q;){if(Q===M)return v(G),m;if(Q===P)return v(G),b;Q=Q.sibling}throw Error(r(188))}if(M.return!==P.return)M=G,P=Q;else{for(var ve=!1,Re=G.child;Re;){if(Re===M){ve=!0,M=G,P=Q;break}if(Re===P){ve=!0,P=G,M=Q;break}Re=Re.sibling}if(!ve){for(Re=Q.child;Re;){if(Re===M){ve=!0,M=Q,P=G;break}if(Re===P){ve=!0,P=Q,M=G;break}Re=Re.sibling}if(!ve)throw Error(r(189))}}if(M.alternate!==P)throw Error(r(190))}if(M.tag!==3)throw Error(r(188));return M.stateNode.current===M?m:b}function I(m){var b=m.tag;if(b===5||b===26||b===27||b===6)return m;for(m=m.child;m!==null;){if(b=I(m),b!==null)return b;m=m.sibling}return null}var T=Object.assign,_=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function te(m){return m===null||typeof m!="object"?null:(m=J&&m[J]||m["@@iterator"],typeof m=="function"?m:null)}var Z=Symbol.for("react.client.reference");function X(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===Z?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case w:return"Fragment";case R:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case F:return"SuspenseList";case V:return"Activity"}if(typeof m=="object")switch(m.$$typeof){case A:return"Portal";case L:return(m.displayName||"Context")+".Provider";case j:return(m._context.displayName||"Context")+".Consumer";case U:var b=m.render;return m=m.displayName,m||(m=b.displayName||b.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case z:return b=m.displayName||null,b!==null?b:X(m.type)||"Memo";case H:b=m._payload,m=m._init;try{return X(m(b))}catch{}}return null}var re=Array.isArray,ee=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},he=[],ue=-1;function ye(m){return{current:m}}function be(m){0>ue||(m.current=he[ue],he[ue]=null,ue--)}function oe(m,b){ue++,he[ue]=m.current,m.current=b}var pe=ye(null),fe=ye(null),_e=ye(null),Te=ye(null);function Se(m,b){switch(oe(_e,b),oe(fe,m),oe(pe,null),b.nodeType){case 9:case 11:m=(m=b.documentElement)&&(m=m.namespaceURI)?it(m):0;break;default:if(m=b.tagName,b=b.namespaceURI)b=it(b),m=Kh(b,m);else switch(m){case"svg":m=1;break;case"math":m=2;break;default:m=0}}be(pe),oe(pe,m)}function De(){be(pe),be(fe),be(_e)}function je(m){m.memoizedState!==null&&oe(Te,m);var b=pe.current,M=Kh(b,m.type);b!==M&&(oe(fe,m),oe(pe,M))}function ke(m){fe.current===m&&(be(pe),be(fe)),Te.current===m&&(be(Te),Np._currentValue=de)}var Oe=Object.prototype.hasOwnProperty,Ne=e.unstable_scheduleCallback,qe=e.unstable_cancelCallback,Ke=e.unstable_shouldYield,He=e.unstable_requestPaint,nt=e.unstable_now,Je=e.unstable_getCurrentPriorityLevel,ut=e.unstable_ImmediatePriority,lt=e.unstable_UserBlockingPriority,et=e.unstable_NormalPriority,Ye=e.unstable_LowPriority,pt=e.unstable_IdlePriority,ct=e.log,xt=e.unstable_setDisableYieldValue,jt=null,Ut=null;function Vt(m){if(typeof ct=="function"&&xt(m),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(jt,m)}catch{}}var wt=Math.clz32?Math.clz32:ot,Bt=Math.log,Pt=Math.LN2;function ot(m){return m>>>=0,m===0?32:31-(Bt(m)/Pt|0)|0}var qt=256,vt=4194304;function bt(m){var b=m&42;if(b!==0)return b;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return m&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function yt(m,b,M){var P=m.pendingLanes;if(P===0)return 0;var G=0,Q=m.suspendedLanes,ve=m.pingedLanes;m=m.warmLanes;var Re=P&134217727;return Re!==0?(P=Re&~Q,P!==0?G=bt(P):(ve&=Re,ve!==0?G=bt(ve):M||(M=Re&~m,M!==0&&(G=bt(M))))):(Re=P&~Q,Re!==0?G=bt(Re):ve!==0?G=bt(ve):M||(M=P&~m,M!==0&&(G=bt(M)))),G===0?0:b!==0&&b!==G&&(b&Q)===0&&(Q=G&-G,M=b&-b,Q>=M||Q===32&&(M&4194048)!==0)?b:G}function gt(m,b){return(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&b)===0}function Jt(m,b){switch(m){case 1:case 2:case 4:case 8:case 64:return b+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bn(){var m=qt;return qt<<=1,(qt&4194048)===0&&(qt=256),m}function Qn(){var m=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),m}function Dn(m){for(var b=[],M=0;31>M;M++)b.push(m);return b}function tn(m,b){m.pendingLanes|=b,b!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function _n(m,b,M,P,G,Q){var ve=m.pendingLanes;m.pendingLanes=M,m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0,m.expiredLanes&=M,m.entangledLanes&=M,m.errorRecoveryDisabledLanes&=M,m.shellSuspendCounter=0;var Re=m.entanglements,tt=m.expirationTimes,It=m.hiddenUpdates;for(M=ve&~M;0<M;){var zt=31-wt(M),Yt=1<<zt;Re[zt]=0,tt[zt]=-1;var Et=It[zt];if(Et!==null)for(It[zt]=null,zt=0;zt<Et.length;zt++){var Nt=Et[zt];Nt!==null&&(Nt.lane&=-536870913)}M&=~Yt}P!==0&&Fn(m,P,0),Q!==0&&G===0&&m.tag!==0&&(m.suspendedLanes|=Q&~(ve&~b))}function Fn(m,b,M){m.pendingLanes|=b,m.suspendedLanes&=~b;var P=31-wt(b);m.entangledLanes|=b,m.entanglements[P]=m.entanglements[P]|1073741824|M&4194090}function Wt(m,b){var M=m.entangledLanes|=b;for(m=m.entanglements;M;){var P=31-wt(M),G=1<<P;G&b|m[P]&b&&(m[P]|=b),M&=~G}}function xn(m){switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=128;break;case 268435456:m=134217728;break;default:m=0}return m}function En(m){return m&=-m,2<m?8<m?(m&134217727)!==0?32:268435456:8:2}function Sn(){var m=ae.p;return m!==0?m:(m=window.event,m===void 0?32:nv(m.type))}function Qt(m,b){var M=ae.p;try{return ae.p=m,b()}finally{ae.p=M}}var Rn=Math.random().toString(36).slice(2),fn="__reactFiber$"+Rn,Gt="__reactProps$"+Rn,Xt="__reactContainer$"+Rn,$n="__reactEvents$"+Rn,Un="__reactListeners$"+Rn,jn="__reactHandles$"+Rn,Zn="__reactResources$"+Rn,An="__reactMarker$"+Rn;function On(m){delete m[fn],delete m[Gt],delete m[$n],delete m[Un],delete m[jn]}function sn(m){var b=m[fn];if(b)return b;for(var M=m.parentNode;M;){if(b=M[Xt]||M[fn]){if(M=b.alternate,b.child!==null||M!==null&&M.child!==null)for(m=Eo(m);m!==null;){if(M=m[fn])return M;m=Eo(m)}return b}m=M,M=m.parentNode}return null}function tr(m){if(m=m[fn]||m[Xt]){var b=m.tag;if(b===5||b===6||b===13||b===26||b===27||b===3)return m}return null}function wr(m){var b=m.tag;if(b===5||b===26||b===27||b===6)return m.stateNode;throw Error(r(33))}function Ar(m){var b=m[Zn];return b||(b=m[Zn]={hoistableStyles:new Map,hoistableScripts:new Map}),b}function nn(m){m[An]=!0}var jr=new Set,Ur={};function Pr(m,b){gn(m,b),gn(m+"Capture",b)}function gn(m,b){for(Ur[m]=b,m=0;m<b.length;m++)jr.add(b[m])}var Pn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cn={},en={};function kn(m){return Oe.call(en,m)?!0:Oe.call(Cn,m)?!1:Pn.test(m)?en[m]=!0:(Cn[m]=!0,!1)}function Cr(m,b,M){if(kn(b))if(M===null)m.removeAttribute(b);else{switch(typeof M){case"undefined":case"function":case"symbol":m.removeAttribute(b);return;case"boolean":var P=b.toLowerCase().slice(0,5);if(P!=="data-"&&P!=="aria-"){m.removeAttribute(b);return}}m.setAttribute(b,""+M)}}function Xr(m,b,M){if(M===null)m.removeAttribute(b);else{switch(typeof M){case"undefined":case"function":case"symbol":case"boolean":m.removeAttribute(b);return}m.setAttribute(b,""+M)}}function Lt(m,b,M,P){if(P===null)m.removeAttribute(M);else{switch(typeof P){case"undefined":case"function":case"symbol":case"boolean":m.removeAttribute(M);return}m.setAttributeNS(b,M,""+P)}}var Yn,Xn;function vr(m){if(Yn===void 0)try{throw Error()}catch(M){var b=M.stack.trim().match(/\n( *(at )?)/);Yn=b&&b[1]||"",Xn=-1<M.stack.indexOf(`
    at`)?" (<anonymous>)":-1<M.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yn+m+Xn}var Jr=!1;function sa(m,b){if(!m||Jr)return"";Jr=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var P={DetermineComponentFrameRoot:function(){try{if(b){var Yt=function(){throw Error()};if(Object.defineProperty(Yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Yt,[])}catch(Nt){var Et=Nt}Reflect.construct(m,[],Yt)}else{try{Yt.call()}catch(Nt){Et=Nt}m.call(Yt.prototype)}}else{try{throw Error()}catch(Nt){Et=Nt}(Yt=m())&&typeof Yt.catch=="function"&&Yt.catch(function(){})}}catch(Nt){if(Nt&&Et&&typeof Nt.stack=="string")return[Nt.stack,Et.stack]}return[null,null]}};P.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var G=Object.getOwnPropertyDescriptor(P.DetermineComponentFrameRoot,"name");G&&G.configurable&&Object.defineProperty(P.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Q=P.DetermineComponentFrameRoot(),ve=Q[0],Re=Q[1];if(ve&&Re){var tt=ve.split(`
`),It=Re.split(`
`);for(G=P=0;P<tt.length&&!tt[P].includes("DetermineComponentFrameRoot");)P++;for(;G<It.length&&!It[G].includes("DetermineComponentFrameRoot");)G++;if(P===tt.length||G===It.length)for(P=tt.length-1,G=It.length-1;1<=P&&0<=G&&tt[P]!==It[G];)G--;for(;1<=P&&0<=G;P--,G--)if(tt[P]!==It[G]){if(P!==1||G!==1)do if(P--,G--,0>G||tt[P]!==It[G]){var zt=`
`+tt[P].replace(" at new "," at ");return m.displayName&&zt.includes("<anonymous>")&&(zt=zt.replace("<anonymous>",m.displayName)),zt}while(1<=P&&0<=G);break}}}finally{Jr=!1,Error.prepareStackTrace=M}return(M=m?m.displayName||m.name:"")?vr(M):""}function er(m){switch(m.tag){case 26:case 27:case 5:return vr(m.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 15:return sa(m.type,!1);case 11:return sa(m.type.render,!1);case 1:return sa(m.type,!0);case 31:return vr("Activity");default:return""}}function $i(m){try{var b="";do b+=er(m),m=m.return;while(m);return b}catch(M){return`
Error generating stack: `+M.message+`
`+M.stack}}function Ca(m){switch(typeof m){case"bigint":case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function io(m){var b=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function Ri(m){var b=io(m)?"checked":"value",M=Object.getOwnPropertyDescriptor(m.constructor.prototype,b),P=""+m[b];if(!m.hasOwnProperty(b)&&typeof M<"u"&&typeof M.get=="function"&&typeof M.set=="function"){var G=M.get,Q=M.set;return Object.defineProperty(m,b,{configurable:!0,get:function(){return G.call(this)},set:function(ve){P=""+ve,Q.call(this,ve)}}),Object.defineProperty(m,b,{enumerable:M.enumerable}),{getValue:function(){return P},setValue:function(ve){P=""+ve},stopTracking:function(){m._valueTracker=null,delete m[b]}}}}function Ii(m){m._valueTracker||(m._valueTracker=Ri(m))}function oo(m){if(!m)return!1;var b=m._valueTracker;if(!b)return!0;var M=b.getValue(),P="";return m&&(P=io(m)?m.checked?"true":"false":m.value),m=P,m!==M?(b.setValue(m),!0):!1}function Vr(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}var Jn=/[\n"\\]/g;function Mn(m){return m.replace(Jn,function(b){return"\\"+b.charCodeAt(0).toString(16)+" "})}function Tr(m,b,M,P,G,Q,ve,Re){m.name="",ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?m.type=ve:m.removeAttribute("type"),b!=null?ve==="number"?(b===0&&m.value===""||m.value!=b)&&(m.value=""+Ca(b)):m.value!==""+Ca(b)&&(m.value=""+Ca(b)):ve!=="submit"&&ve!=="reset"||m.removeAttribute("value"),b!=null?ua(m,ve,Ca(b)):M!=null?ua(m,ve,Ca(M)):P!=null&&m.removeAttribute("value"),G==null&&Q!=null&&(m.defaultChecked=!!Q),G!=null&&(m.checked=G&&typeof G!="function"&&typeof G!="symbol"),Re!=null&&typeof Re!="function"&&typeof Re!="symbol"&&typeof Re!="boolean"?m.name=""+Ca(Re):m.removeAttribute("name")}function Qr(m,b,M,P,G,Q,ve,Re){if(Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"&&(m.type=Q),b!=null||M!=null){if(!(Q!=="submit"&&Q!=="reset"||b!=null))return;M=M!=null?""+Ca(M):"",b=b!=null?""+Ca(b):M,Re||b===m.value||(m.value=b),m.defaultValue=b}P=P??G,P=typeof P!="function"&&typeof P!="symbol"&&!!P,m.checked=Re?m.checked:!!P,m.defaultChecked=!!P,ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"&&(m.name=ve)}function ua(m,b,M){b==="number"&&Vr(m.ownerDocument)===m||m.defaultValue===""+M||(m.defaultValue=""+M)}function Gr(m,b,M,P){if(m=m.options,b){b={};for(var G=0;G<M.length;G++)b["$"+M[G]]=!0;for(M=0;M<m.length;M++)G=b.hasOwnProperty("$"+m[M].value),m[M].selected!==G&&(m[M].selected=G),G&&P&&(m[M].defaultSelected=!0)}else{for(M=""+Ca(M),b=null,G=0;G<m.length;G++){if(m[G].value===M){m[G].selected=!0,P&&(m[G].defaultSelected=!0);return}b!==null||m[G].disabled||(b=m[G])}b!==null&&(b.selected=!0)}}function Ei(m,b,M){if(b!=null&&(b=""+Ca(b),b!==m.value&&(m.value=b),M==null)){m.defaultValue!==b&&(m.defaultValue=b);return}m.defaultValue=M!=null?""+Ca(M):""}function oi(m,b,M,P){if(b==null){if(P!=null){if(M!=null)throw Error(r(92));if(re(P)){if(1<P.length)throw Error(r(93));P=P[0]}M=P}M==null&&(M=""),b=M}M=Ca(b),m.defaultValue=M,P=m.textContent,P===M&&P!==""&&P!==null&&(m.value=P)}function Wa(m,b){if(b){var M=m.firstChild;if(M&&M===m.lastChild&&M.nodeType===3){M.nodeValue=b;return}}m.textContent=b}var si=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ua(m,b,M){var P=b.indexOf("--")===0;M==null||typeof M=="boolean"||M===""?P?m.setProperty(b,""):b==="float"?m.cssFloat="":m[b]="":P?m.setProperty(b,M):typeof M!="number"||M===0||si.has(b)?b==="float"?m.cssFloat=M:m[b]=(""+M).trim():m[b]=M+"px"}function br(m,b,M){if(b!=null&&typeof b!="object")throw Error(r(62));if(m=m.style,M!=null){for(var P in M)!M.hasOwnProperty(P)||b!=null&&b.hasOwnProperty(P)||(P.indexOf("--")===0?m.setProperty(P,""):P==="float"?m.cssFloat="":m[P]="");for(var G in b)P=b[G],b.hasOwnProperty(G)&&M[G]!==P&&Ua(m,G,P)}else for(var Q in b)b.hasOwnProperty(Q)&&Ua(m,Q,b[Q])}function ur(m){if(m.indexOf("-")===-1)return!1;switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ya=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ui=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(m){return Ui.test(""+m)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":m}var yo=null;function Fa(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var gi=null,Bi=null;function so(m){var b=tr(m);if(b&&(m=b.stateNode)){var M=m[Gt]||null;e:switch(m=b.stateNode,b.type){case"input":if(Tr(m,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name),b=M.name,M.type==="radio"&&b!=null){for(M=m;M.parentNode;)M=M.parentNode;for(M=M.querySelectorAll('input[name="'+Mn(""+b)+'"][type="radio"]'),b=0;b<M.length;b++){var P=M[b];if(P!==m&&P.form===m.form){var G=P[Gt]||null;if(!G)throw Error(r(90));Tr(P,G.value,G.defaultValue,G.defaultValue,G.checked,G.defaultChecked,G.type,G.name)}}for(b=0;b<M.length;b++)P=M[b],P.form===m.form&&oo(P)}break e;case"textarea":Ei(m,M.value,M.defaultValue);break e;case"select":b=M.value,b!=null&&Gr(m,!!M.multiple,b,!1)}}}var Ai=!1;function Nu(m,b,M){if(Ai)return m(b,M);Ai=!0;try{var P=m(b);return P}finally{if(Ai=!1,(gi!==null||Bi!==null)&&(Xa(),gi&&(b=gi,m=Bi,Bi=gi=null,so(b),m)))for(b=0;b<m.length;b++)so(m[b])}}function Li(m,b){var M=m.stateNode;if(M===null)return null;var P=M[Gt]||null;if(P===null)return null;M=P[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(P=!P.disabled)||(m=m.type,P=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!P;break e;default:m=!1}if(m)return null;if(M&&typeof M!="function")throw Error(r(231,b,typeof M));return M}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Wn)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{Ir=!1}var na=null,da=null,Rs=null;function $d(){if(Rs)return Rs;var m,b=da,M=b.length,P,G="value"in na?na.value:na.textContent,Q=G.length;for(m=0;m<M&&b[m]===G[m];m++);var ve=M-m;for(P=1;P<=ve&&b[M-P]===G[Q-P];P++);return Rs=G.slice(m,1<P?1-P:void 0)}function Ru(m){var b=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&b===13&&(m=13)):m=b,m===10&&(m=13),32<=m||m===13?m:0}function Qs(){return!0}function U0(){return!1}function bo(m){function b(M,P,G,Q,ve){this._reactName=M,this._targetInst=G,this.type=P,this.nativeEvent=Q,this.target=ve,this.currentTarget=null;for(var Re in m)m.hasOwnProperty(Re)&&(M=m[Re],this[Re]=M?M(Q):Q[Re]);return this.isDefaultPrevented=(Q.defaultPrevented!=null?Q.defaultPrevented:Q.returnValue===!1)?Qs:U0,this.isPropagationStopped=U0,this}return T(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var M=this.nativeEvent;M&&(M.preventDefault?M.preventDefault():typeof M.returnValue!="unknown"&&(M.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var M=this.nativeEvent;M&&(M.stopPropagation?M.stopPropagation():typeof M.cancelBubble!="unknown"&&(M.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),b}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cg=bo(ka),Au=T({},ka,{view:0,detail:0}),cn=bo(Au),xm,pr,Ud,jc=T({},Au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:By,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==Ud&&(Ud&&m.type==="mousemove"?(xm=m.screenX-Ud.screenX,pr=m.screenY-Ud.screenY):pr=xm=0,Ud=m),xm)},movementY:function(m){return"movementY"in m?m.movementY:pr}}),Ou=bo(jc),B0=T({},jc,{dataTransfer:0}),X_=bo(B0),F0=T({},Au,{relatedTarget:0}),ce=bo(F0),J_=T({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Tg=bo(J_),wm=T({},ka,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),Mg=bo(wm),Gn=T({},ka,{data:0}),bl=bo(Gn),q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uy(m){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(m):(m=z0[m])?!!b[m]:!1}function By(){return Uy}var ku=T({},Au,{key:function(m){if(m.key){var b=q0[m.key]||m.key;if(b!=="Unidentified")return b}return m.type==="keypress"?(m=Ru(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?Q_[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:By,charCode:function(m){return m.type==="keypress"?Ru(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?Ru(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),Z_=bo(ku),H0=T({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G0=bo(H0),Bd=T({},Au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:By}),Vc=bo(Bd),K0=T({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),W0=bo(K0),As=T({},jc,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),Y0=bo(As),ex=T({},ka,{newState:0,oldState:0}),X0=bo(ex),J0=[9,13,27,32],_g=Wn&&"CompositionEvent"in window,Fd=null;Wn&&"documentMode"in document&&(Fd=document.documentMode);var Fy=Wn&&"TextEvent"in window&&!Fd,Q0=Wn&&(!_g||Fd&&8<Fd&&11>=Fd),Lu=" ",Xl=!1;function xg(m,b){switch(m){case"keyup":return J0.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qy(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var qd=!1;function Z0(m,b){switch(m){case"compositionend":return qy(b);case"keypress":return b.which!==32?null:(Xl=!0,Lu);case"textInput":return m=b.data,m===Lu&&Xl?null:m;default:return null}}function eE(m,b){if(qd)return m==="compositionend"||!_g&&xg(m,b)?(m=$d(),Rs=da=na=null,qd=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return Q0&&b.locale!=="ko"?null:b.data;default:return null}}var zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tE(m){var b=m&&m.nodeName&&m.nodeName.toLowerCase();return b==="input"?!!zy[m.type]:b==="textarea"}function nE(m,b,M,P){gi?Bi?Bi.push(P):Bi=[P]:gi=P,b=Cp(b,"onChange"),0<b.length&&(M=new Cg("onChange","change",null,M,P),m.push({event:M,listeners:b}))}var Nm=null,Os=null;function tx(m){Fh(m,0)}function wg(m){var b=wr(m);if(oo(b))return m}function Hy(m,b){if(m==="change")return b}var $c=!1;if(Wn){var Gy;if(Wn){var Ky="oninput"in document;if(!Ky){var rE=document.createElement("div");rE.setAttribute("oninput","return;"),Ky=typeof rE.oninput=="function"}Gy=Ky}else Gy=!1;$c=Gy&&(!document.documentMode||9<document.documentMode)}function Rm(){Nm&&(Nm.detachEvent("onpropertychange",Ng),Os=Nm=null)}function Ng(m){if(m.propertyName==="value"&&wg(Os)){var b=[];nE(b,Os,m,Fa(m)),Nu(tx,b)}}function aE(m,b,M){m==="focusin"?(Rm(),Nm=b,Os=M,Nm.attachEvent("onpropertychange",Ng)):m==="focusout"&&Rm()}function Rg(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return wg(Os)}function iE(m,b){if(m==="click")return wg(b)}function nx(m,b){if(m==="input"||m==="change")return wg(b)}function Wy(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var zo=typeof Object.is=="function"?Object.is:Wy;function Am(m,b){if(zo(m,b))return!0;if(typeof m!="object"||m===null||typeof b!="object"||b===null)return!1;var M=Object.keys(m),P=Object.keys(b);if(M.length!==P.length)return!1;for(P=0;P<M.length;P++){var G=M[P];if(!Oe.call(b,G)||!zo(m[G],b[G]))return!1}return!0}function oE(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function Yy(m,b){var M=oE(m);m=0;for(var P;M;){if(M.nodeType===3){if(P=m+M.textContent.length,m<=b&&P>=b)return{node:M,offset:b-m};m=P}e:{for(;M;){if(M.nextSibling){M=M.nextSibling;break e}M=M.parentNode}M=void 0}M=oE(M)}}function Ag(m,b){return m&&b?m===b?!0:m&&m.nodeType===3?!1:b&&b.nodeType===3?Ag(m,b.parentNode):"contains"in m?m.contains(b):m.compareDocumentPosition?!!(m.compareDocumentPosition(b)&16):!1:!1}function Xy(m){m=m!=null&&m.ownerDocument!=null&&m.ownerDocument.defaultView!=null?m.ownerDocument.defaultView:window;for(var b=Vr(m.document);b instanceof m.HTMLIFrameElement;){try{var M=typeof b.contentWindow.location.href=="string"}catch{M=!1}if(M)m=b.contentWindow;else break;b=Vr(m.document)}return b}function Om(m){var b=m&&m.nodeName&&m.nodeName.toLowerCase();return b&&(b==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||b==="textarea"||m.contentEditable==="true")}var Jl=Wn&&"documentMode"in document&&11>=document.documentMode,zd=null,Og=null,Hd=null,Jy=!1;function Qy(m,b,M){var P=M.window===M?M.document:M.nodeType===9?M:M.ownerDocument;Jy||zd==null||zd!==Vr(P)||(P=zd,"selectionStart"in P&&Om(P)?P={start:P.selectionStart,end:P.selectionEnd}:(P=(P.ownerDocument&&P.ownerDocument.defaultView||window).getSelection(),P={anchorNode:P.anchorNode,anchorOffset:P.anchorOffset,focusNode:P.focusNode,focusOffset:P.focusOffset}),Hd&&Am(Hd,P)||(Hd=P,P=Cp(Og,"onSelect"),0<P.length&&(b=new Cg("onSelect","select",null,b,M),m.push({event:b,listeners:P}),b.target=zd)))}function Ql(m,b){var M={};return M[m.toLowerCase()]=b.toLowerCase(),M["Webkit"+m]="webkit"+b,M["Moz"+m]="moz"+b,M}var Gd={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionrun:Ql("Transition","TransitionRun"),transitionstart:Ql("Transition","TransitionStart"),transitioncancel:Ql("Transition","TransitionCancel"),transitionend:Ql("Transition","TransitionEnd")},Zy={},Kd={};Wn&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete Gd.animationend.animation,delete Gd.animationiteration.animation,delete Gd.animationstart.animation),"TransitionEvent"in window||delete Gd.transitionend.transition);function Uc(m){if(Zy[m])return Zy[m];if(!Gd[m])return m;var b=Gd[m],M;for(M in b)if(b.hasOwnProperty(M)&&M in Kd)return Zy[m]=b[M];return m}var km=Uc("animationend"),sE=Uc("animationiteration"),eb=Uc("animationstart"),tb=Uc("transitionrun"),lE=Uc("transitionstart"),Pu=Uc("transitioncancel"),Sl=Uc("transitionend"),Bc=new Map,nb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nb.push("scrollEnd");function ks(m,b){Bc.set(m,b),Pr(b,[m])}var cE=new WeakMap;function Ho(m,b){if(typeof m=="object"&&m!==null){var M=cE.get(m);return M!==void 0?M:(b={value:m,source:b,stack:$i(b)},cE.set(m,b),b)}return{value:m,source:b,stack:$i(b)}}var Ls=[],rt=0,rb=0;function kg(){for(var m=rt,b=rb=rt=0;b<m;){var M=Ls[b];Ls[b++]=null;var P=Ls[b];Ls[b++]=null;var G=Ls[b];Ls[b++]=null;var Q=Ls[b];if(Ls[b++]=null,P!==null&&G!==null){var ve=P.pending;ve===null?G.next=G:(G.next=ve.next,ve.next=G),P.pending=G}Q!==0&&Ps(M,G,Q)}}function Lm(m,b,M,P){Ls[rt++]=m,Ls[rt++]=b,Ls[rt++]=M,Ls[rt++]=P,rb|=P,m.lanes|=P,m=m.alternate,m!==null&&(m.lanes|=P)}function ab(m,b,M,P){return Lm(m,b,M,P),Lg(m)}function Fc(m,b){return Lm(m,null,null,b),Lg(m)}function Ps(m,b,M){m.lanes|=M;var P=m.alternate;P!==null&&(P.lanes|=M);for(var G=!1,Q=m.return;Q!==null;)Q.childLanes|=M,P=Q.alternate,P!==null&&(P.childLanes|=M),Q.tag===22&&(m=Q.stateNode,m===null||m._visibility&1||(G=!0)),m=Q,Q=Q.return;return m.tag===3?(Q=m.stateNode,G&&b!==null&&(G=31-wt(M),m=Q.hiddenUpdates,P=m[G],P===null?m[G]=[b]:P.push(b),b.lane=M|536870912),Q):null}function Lg(m){if(50<vp)throw vp=0,_h=null,Error(r(185));for(var b=m.return;b!==null;)m=b,b=m.return;return m.tag===3?m.stateNode:null}var Wd={};function rx(m,b,M,P){this.tag=m,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(m,b,M,P){return new rx(m,b,M,P)}function Pm(m){return m=m.prototype,!(!m||!m.isReactComponent)}function wo(m,b){var M=m.alternate;return M===null?(M=gs(m.tag,b,m.key,m.mode),M.elementType=m.elementType,M.type=m.type,M.stateNode=m.stateNode,M.alternate=m,m.alternate=M):(M.pendingProps=b,M.type=m.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=m.flags&65011712,M.childLanes=m.childLanes,M.lanes=m.lanes,M.child=m.child,M.memoizedProps=m.memoizedProps,M.memoizedState=m.memoizedState,M.updateQueue=m.updateQueue,b=m.dependencies,M.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},M.sibling=m.sibling,M.index=m.index,M.ref=m.ref,M.refCleanup=m.refCleanup,M}function uE(m,b){m.flags&=65011714;var M=m.alternate;return M===null?(m.childLanes=0,m.lanes=b,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=M.childLanes,m.lanes=M.lanes,m.child=M.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=M.memoizedProps,m.memoizedState=M.memoizedState,m.updateQueue=M.updateQueue,m.type=M.type,b=M.dependencies,m.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),m}function Du(m,b,M,P,G,Q){var ve=0;if(P=m,typeof m=="function")Pm(m)&&(ve=1);else if(typeof m=="string")ve=CS(m,M,pe.current)?26:m==="html"||m==="head"||m==="body"?27:5;else e:switch(m){case V:return m=gs(31,M,b,G),m.elementType=V,m.lanes=Q,m;case w:return ju(M.children,G,Q,b);case O:ve=8,G|=24;break;case R:return m=gs(12,M,b,G|2),m.elementType=R,m.lanes=Q,m;case $:return m=gs(13,M,b,G),m.elementType=$,m.lanes=Q,m;case F:return m=gs(19,M,b,G),m.elementType=F,m.lanes=Q,m;default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case D:case L:ve=10;break e;case j:ve=9;break e;case U:ve=11;break e;case z:ve=14;break e;case H:ve=16,P=null;break e}ve=29,M=Error(r(130,m===null?"null":typeof m,"")),P=null}return b=gs(ve,M,b,G),b.elementType=m,b.type=P,b.lanes=Q,b}function ju(m,b,M,P){return m=gs(7,m,P,b),m.lanes=M,m}function Vu(m,b,M){return m=gs(6,m,null,b),m.lanes=M,m}function ib(m,b,M){return b=gs(4,m.children!==null?m.children:[],m.key,b),b.lanes=M,b.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},b}var Yd=[],Xd=0,Pg=null,Jd=0,Qa=[],Fi=0,Il=null,El=1,Zl="";function $u(m,b){Yd[Xd++]=Jd,Yd[Xd++]=Pg,Pg=m,Jd=b}function dE(m,b,M){Qa[Fi++]=El,Qa[Fi++]=Zl,Qa[Fi++]=Il,Il=m;var P=El;m=Zl;var G=32-wt(P)-1;P&=~(1<<G),M+=1;var Q=32-wt(b)+G;if(30<Q){var ve=G-G%5;Q=(P&(1<<ve)-1).toString(32),P>>=ve,G-=ve,El=1<<32-wt(b)+G|M<<G|P,Zl=Q+m}else El=1<<Q|M<<G|P,Zl=m}function ob(m){m.return!==null&&($u(m,1),dE(m,1,0))}function Dg(m){for(;m===Pg;)Pg=Yd[--Xd],Yd[Xd]=null,Jd=Yd[--Xd],Yd[Xd]=null;for(;m===Il;)Il=Qa[--Fi],Qa[Fi]=null,Zl=Qa[--Fi],Qa[Fi]=null,El=Qa[--Fi],Qa[Fi]=null}var So=null,hi=null,Ta=!1,Uu=null,Cl=!1,sb=Error(r(519));function $t(m){var b=Error(r(418,""));throw Qd(Ho(b,m)),sb}function Nr(m){var b=m.stateNode,M=m.type,P=m.memoizedProps;switch(b[fn]=m,b[Gt]=P,M){case"dialog":Zr("cancel",b),Zr("close",b);break;case"iframe":case"object":case"embed":Zr("load",b);break;case"video":case"audio":for(M=0;M<nd.length;M++)Zr(nd[M],b);break;case"source":Zr("error",b);break;case"img":case"image":case"link":Zr("error",b),Zr("load",b);break;case"details":Zr("toggle",b);break;case"input":Zr("invalid",b),Qr(b,P.value,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name,!0),Ii(b);break;case"select":Zr("invalid",b);break;case"textarea":Zr("invalid",b),oi(b,P.value,P.defaultValue,P.children),Ii(b)}M=P.children,typeof M!="string"&&typeof M!="number"&&typeof M!="bigint"||b.textContent===""+M||P.suppressHydrationWarning===!0||Gh(b.textContent,M)?(P.popover!=null&&(Zr("beforetoggle",b),Zr("toggle",b)),P.onScroll!=null&&Zr("scroll",b),P.onScrollEnd!=null&&Zr("scrollend",b),P.onClick!=null&&(b.onclick=Tp),b=!0):b=!1,b||$t(m)}function pE(m){for(So=m.return;So;)switch(So.tag){case 5:case 13:Cl=!1;return;case 27:case 3:Cl=!0;return;default:So=So.return}}function ec(m){if(m!==So)return!1;if(!Ta)return pE(m),Ta=!0,!1;var b=m.tag,M;if((M=b!==3&&b!==27)&&((M=b===5)&&(M=m.type,M=!(M!=="form"&&M!=="button")||vS(m.type,m.memoizedProps)),M=!M),M&&hi&&$t(m),pE(m),b===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));e:{for(m=m.nextSibling,b=0;m;){if(m.nodeType===8)if(M=m.data,M==="/$"){if(b===0){hi=ol(m.nextSibling);break e}b--}else M!=="$"&&M!=="$!"&&M!=="$?"||b++;m=m.nextSibling}hi=null}}else b===27?(b=hi,Ol(m.type)?(m=ma,ma=null,hi=m):hi=b):hi=So?ol(m.stateNode.nextSibling):null;return!0}function Dm(){hi=So=null,Ta=!1}function mE(){var m=Uu;return m!==null&&(Qo===null?Qo=m:Qo.push.apply(Qo,m),Uu=null),m}function Qd(m){Uu===null?Uu=[m]:Uu.push(m)}var lb=ye(null),Bu=null,Tl=null;function qc(m,b,M){oe(lb,b._currentValue),b._currentValue=M}function tc(m){m._currentValue=lb.current,be(lb)}function cb(m,b,M){for(;m!==null;){var P=m.alternate;if((m.childLanes&b)!==b?(m.childLanes|=b,P!==null&&(P.childLanes|=b)):P!==null&&(P.childLanes&b)!==b&&(P.childLanes|=b),m===M)break;m=m.return}}function ub(m,b,M,P){var G=m.child;for(G!==null&&(G.return=m);G!==null;){var Q=G.dependencies;if(Q!==null){var ve=G.child;Q=Q.firstContext;e:for(;Q!==null;){var Re=Q;Q=G;for(var tt=0;tt<b.length;tt++)if(Re.context===b[tt]){Q.lanes|=M,Re=Q.alternate,Re!==null&&(Re.lanes|=M),cb(Q.return,M,m),P||(ve=null);break e}Q=Re.next}}else if(G.tag===18){if(ve=G.return,ve===null)throw Error(r(341));ve.lanes|=M,Q=ve.alternate,Q!==null&&(Q.lanes|=M),cb(ve,M,m),ve=null}else ve=G.child;if(ve!==null)ve.return=G;else for(ve=G;ve!==null;){if(ve===m){ve=null;break}if(G=ve.sibling,G!==null){G.return=ve.return,ve=G;break}ve=ve.return}G=ve}}function jm(m,b,M,P){m=null;for(var G=b,Q=!1;G!==null;){if(!Q){if((G.flags&524288)!==0)Q=!0;else if((G.flags&262144)!==0)break}if(G.tag===10){var ve=G.alternate;if(ve===null)throw Error(r(387));if(ve=ve.memoizedProps,ve!==null){var Re=G.type;zo(G.pendingProps.value,ve.value)||(m!==null?m.push(Re):m=[Re])}}else if(G===Te.current){if(ve=G.alternate,ve===null)throw Error(r(387));ve.memoizedState.memoizedState!==G.memoizedState.memoizedState&&(m!==null?m.push(Np):m=[Np])}G=G.return}m!==null&&ub(b,m,M,P),b.flags|=262144}function Vm(m){for(m=m.firstContext;m!==null;){if(!zo(m.context._currentValue,m.memoizedValue))return!0;m=m.next}return!1}function Fu(m){Bu=m,Tl=null,m=m.dependencies,m!==null&&(m.firstContext=null)}function qi(m){return qu(Bu,m)}function jg(m,b){return Bu===null&&Fu(m),qu(m,b)}function qu(m,b){var M=b._currentValue;if(b={context:b,memoizedValue:M,next:null},Tl===null){if(m===null)throw Error(r(308));Tl=b,m.dependencies={lanes:0,firstContext:b},m.flags|=524288}else Tl=Tl.next=b;return M}var db=typeof AbortController<"u"?AbortController:function(){var m=[],b=this.signal={aborted:!1,addEventListener:function(M,P){m.push(P)}};this.abort=function(){b.aborted=!0,m.forEach(function(M){return M()})}},ax=e.unstable_scheduleCallback,Vg=e.unstable_NormalPriority,Pi={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ra(){return{controller:new db,data:new Map,refCount:0}}function $m(m){m.refCount--,m.refCount===0&&ax(Vg,function(){m.controller.abort()})}var zi=null,pb=0,Zd=0,ep=null;function $g(m,b){if(zi===null){var M=zi=[];pb=0,Zd=Cf(),ep={status:"pending",value:void 0,then:function(P){M.push(P)}}}return pb++,b.then(fE,fE),b}function fE(){if(--pb===0&&zi!==null){ep!==null&&(ep.status="fulfilled");var m=zi;zi=null,Zd=0,ep=null;for(var b=0;b<m.length;b++)(0,m[b])()}}function Um(m,b){var M=[],P={status:"pending",value:null,reason:null,then:function(G){M.push(G)}};return m.then(function(){P.status="fulfilled",P.value=b;for(var G=0;G<M.length;G++)(0,M[G])(b)},function(G){for(P.status="rejected",P.reason=G,G=0;G<M.length;G++)(0,M[G])(void 0)}),P}var Ug=ee.S;ee.S=function(m,b){typeof b=="object"&&b!==null&&typeof b.then=="function"&&$g(m,b),Ug!==null&&Ug(m,b)};var Zs=ye(null);function zc(){var m=Zs.current;return m!==null?m:qa.pooledCache}function Bm(m,b){b===null?oe(Zs,Zs.current):oe(Zs,b.pool)}function Bg(){var m=zc();return m===null?null:{parent:Pi._currentValue,pool:m}}var Go=Error(r(460)),mb=Error(r(474)),Fm=Error(r(542)),fb={then:function(){}};function Fg(m){return m=m.status,m==="fulfilled"||m==="rejected"}function qg(){}function qm(m,b,M){switch(M=m[M],M===void 0?m.push(b):M!==b&&(b.then(qg,qg),b=M),b.status){case"fulfilled":return b.value;case"rejected":throw m=b.reason,gE(m),m;default:if(typeof b.status=="string")b.then(qg,qg);else{if(m=qa,m!==null&&100<m.shellSuspendCounter)throw Error(r(482));m=b,m.status="pending",m.then(function(P){if(b.status==="pending"){var G=b;G.status="fulfilled",G.value=P}},function(P){if(b.status==="pending"){var G=b;G.status="rejected",G.reason=P}})}switch(b.status){case"fulfilled":return b.value;case"rejected":throw m=b.reason,gE(m),m}throw zm=b,Go}}var zm=null;function Ds(){if(zm===null)throw Error(r(459));var m=zm;return zm=null,m}function gE(m){if(m===Go||m===Fm)throw Error(r(483))}var nc=!1;function zg(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(m,b){m=m.updateQueue,b.updateQueue===m&&(b.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function rc(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function Hc(m,b,M){var P=m.updateQueue;if(P===null)return null;if(P=P.shared,(La&2)!==0){var G=P.pending;return G===null?b.next=b:(b.next=G.next,G.next=b),P.pending=b,b=Lg(m),Ps(m,null,M),b}return Lm(m,P,b,M),Lg(m)}function zu(m,b,M){if(b=b.updateQueue,b!==null&&(b=b.shared,(M&4194048)!==0)){var P=b.lanes;P&=m.pendingLanes,M|=P,b.lanes=M,Wt(m,M)}}function gb(m,b){var M=m.updateQueue,P=m.alternate;if(P!==null&&(P=P.updateQueue,M===P)){var G=null,Q=null;if(M=M.firstBaseUpdate,M!==null){do{var ve={lane:M.lane,tag:M.tag,payload:M.payload,callback:null,next:null};Q===null?G=Q=ve:Q=Q.next=ve,M=M.next}while(M!==null);Q===null?G=Q=b:Q=Q.next=b}else G=Q=b;M={baseState:P.baseState,firstBaseUpdate:G,lastBaseUpdate:Q,shared:P.shared,callbacks:P.callbacks},m.updateQueue=M;return}m=M.lastBaseUpdate,m===null?M.firstBaseUpdate=b:m.next=b,M.lastBaseUpdate=b}var Hg=!1;function Gm(){if(Hg){var m=ep;if(m!==null)throw m}}function Hu(m,b,M,P){Hg=!1;var G=m.updateQueue;nc=!1;var Q=G.firstBaseUpdate,ve=G.lastBaseUpdate,Re=G.shared.pending;if(Re!==null){G.shared.pending=null;var tt=Re,It=tt.next;tt.next=null,ve===null?Q=It:ve.next=It,ve=tt;var zt=m.alternate;zt!==null&&(zt=zt.updateQueue,Re=zt.lastBaseUpdate,Re!==ve&&(Re===null?zt.firstBaseUpdate=It:Re.next=It,zt.lastBaseUpdate=tt))}if(Q!==null){var Yt=G.baseState;ve=0,zt=It=tt=null,Re=Q;do{var Et=Re.lane&-536870913,Nt=Et!==Re.lane;if(Nt?(ha&Et)===Et:(P&Et)===Et){Et!==0&&Et===Zd&&(Hg=!0),zt!==null&&(zt=zt.next={lane:0,tag:Re.tag,payload:Re.payload,callback:null,next:null});e:{var kr=m,Mr=Re;Et=b;var za=M;switch(Mr.tag){case 1:if(kr=Mr.payload,typeof kr=="function"){Yt=kr.call(za,Yt,Et);break e}Yt=kr;break e;case 3:kr.flags=kr.flags&-65537|128;case 0:if(kr=Mr.payload,Et=typeof kr=="function"?kr.call(za,Yt,Et):kr,Et==null)break e;Yt=T({},Yt,Et);break e;case 2:nc=!0}}Et=Re.callback,Et!==null&&(m.flags|=64,Nt&&(m.flags|=8192),Nt=G.callbacks,Nt===null?G.callbacks=[Et]:Nt.push(Et))}else Nt={lane:Et,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null},zt===null?(It=zt=Nt,tt=Yt):zt=zt.next=Nt,ve|=Et;if(Re=Re.next,Re===null){if(Re=G.shared.pending,Re===null)break;Nt=Re,Re=Nt.next,Nt.next=null,G.lastBaseUpdate=Nt,G.shared.pending=null}}while(!0);zt===null&&(tt=Yt),G.baseState=tt,G.firstBaseUpdate=It,G.lastBaseUpdate=zt,Q===null&&(G.shared.lanes=0),rl|=ve,m.lanes=ve,m.memoizedState=Yt}}function tp(m,b){if(typeof m!="function")throw Error(r(191,m));m.call(b)}function hE(m,b){var M=m.callbacks;if(M!==null)for(m.callbacks=null,m=0;m<M.length;m++)tp(M[m],b)}var Gc=ye(null),np=ye(0);function hb(m,b){m=lc,oe(np,m),oe(Gc,b),lc=m|b.baseLanes}function Gg(){oe(np,lc),oe(Gc,Gc.current)}function Gu(){lc=np.current,be(Gc),be(np)}var Ko=0,$r=null,Ia=null,Ci=null,rp=!1,Kc=!1,Wc=!1,Km=0,Wm=0,ap=null,ix=0;function vi(){throw Error(r(321))}function Kg(m,b){if(b===null)return!1;for(var M=0;M<b.length&&M<m.length;M++)if(!zo(m[M],b[M]))return!1;return!0}function Wg(m,b,M,P,G,Q){return Ko=Q,$r=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,ee.H=m===null||m.memoizedState===null?AE:OE,Wc=!1,Q=M(P,G),Wc=!1,Kc&&(Q=Ym(b,M,P,G)),vb(m),Q}function vb(m){ee.H=lh;var b=Ia!==null&&Ia.next!==null;if(Ko=0,Ci=Ia=$r=null,rp=!1,Wm=0,ap=null,b)throw Error(r(300));m===null||Xi||(m=m.dependencies,m!==null&&Vm(m)&&(Xi=!0))}function Ym(m,b,M,P){$r=m;var G=0;do{if(Kc&&(ap=null),Wm=0,Kc=!1,25<=G)throw Error(r(301));if(G+=1,Ci=Ia=null,m.updateQueue!=null){var Q=m.updateQueue;Q.lastEffect=null,Q.events=null,Q.stores=null,Q.memoCache!=null&&(Q.memoCache.index=0)}ee.H=Zt,Q=b(M,P)}while(Kc);return Q}function vE(){var m=ee.H,b=m.useState()[0];return b=typeof b.then=="function"?Jm(b):b,m=m.useState()[0],(Ia!==null?Ia.memoizedState:null)!==m&&($r.flags|=1024),b}function Yg(){var m=Km!==0;return Km=0,m}function Xm(m,b,M){b.updateQueue=m.updateQueue,b.flags&=-2053,m.lanes&=~M}function Yc(m){if(rp){for(m=m.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}rp=!1}Ko=0,Ci=Ia=$r=null,Kc=!1,Wm=Km=0,ap=null}function No(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ci===null?$r.memoizedState=Ci=m:Ci=Ci.next=m,Ci}function Ti(){if(Ia===null){var m=$r.alternate;m=m!==null?m.memoizedState:null}else m=Ia.next;var b=Ci===null?$r.memoizedState:Ci.next;if(b!==null)Ci=b,Ia=m;else{if(m===null)throw $r.alternate===null?Error(r(467)):Error(r(310));Ia=m,m={memoizedState:Ia.memoizedState,baseState:Ia.baseState,baseQueue:Ia.baseQueue,queue:Ia.queue,next:null},Ci===null?$r.memoizedState=Ci=m:Ci=Ci.next=m}return Ci}function Xg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jm(m){var b=Wm;return Wm+=1,ap===null&&(ap=[]),m=qm(ap,m,b),b=$r,(Ci===null?b.memoizedState:Ci.next)===null&&(b=b.alternate,ee.H=b===null||b.memoizedState===null?AE:OE),m}function Yi(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return Jm(m);if(m.$$typeof===L)return qi(m)}throw Error(r(438,String(m)))}function Jg(m){var b=null,M=$r.updateQueue;if(M!==null&&(b=M.memoCache),b==null){var P=$r.alternate;P!==null&&(P=P.updateQueue,P!==null&&(P=P.memoCache,P!=null&&(b={data:P.data.map(function(G){return G.slice()}),index:0})))}if(b==null&&(b={data:[],index:0}),M===null&&(M=Xg(),$r.updateQueue=M),M.memoCache=b,M=b.data[b.index],M===void 0)for(M=b.data[b.index]=Array(m),P=0;P<m;P++)M[P]=K;return b.index++,M}function ac(m,b){return typeof b=="function"?b(m):b}function Qm(m){var b=Ti();return yb(b,Ia,m)}function yb(m,b,M){var P=m.queue;if(P===null)throw Error(r(311));P.lastRenderedReducer=M;var G=m.baseQueue,Q=P.pending;if(Q!==null){if(G!==null){var ve=G.next;G.next=Q.next,Q.next=ve}b.baseQueue=G=Q,P.pending=null}if(Q=m.baseState,G===null)m.memoizedState=Q;else{b=G.next;var Re=ve=null,tt=null,It=b,zt=!1;do{var Yt=It.lane&-536870913;if(Yt!==It.lane?(ha&Yt)===Yt:(Ko&Yt)===Yt){var Et=It.revertLane;if(Et===0)tt!==null&&(tt=tt.next={lane:0,revertLane:0,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null}),Yt===Zd&&(zt=!0);else if((Ko&Et)===Et){It=It.next,Et===Zd&&(zt=!0);continue}else Yt={lane:0,revertLane:It.revertLane,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null},tt===null?(Re=tt=Yt,ve=Q):tt=tt.next=Yt,$r.lanes|=Et,rl|=Et;Yt=It.action,Wc&&M(Q,Yt),Q=It.hasEagerState?It.eagerState:M(Q,Yt)}else Et={lane:Yt,revertLane:It.revertLane,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null},tt===null?(Re=tt=Et,ve=Q):tt=tt.next=Et,$r.lanes|=Yt,rl|=Yt;It=It.next}while(It!==null&&It!==b);if(tt===null?ve=Q:tt.next=Re,!zo(Q,m.memoizedState)&&(Xi=!0,zt&&(M=ep,M!==null)))throw M;m.memoizedState=Q,m.baseState=ve,m.baseQueue=tt,P.lastRenderedState=Q}return G===null&&(P.lanes=0),[m.memoizedState,P.dispatch]}function Qg(m){var b=Ti(),M=b.queue;if(M===null)throw Error(r(311));M.lastRenderedReducer=m;var P=M.dispatch,G=M.pending,Q=b.memoizedState;if(G!==null){M.pending=null;var ve=G=G.next;do Q=m(Q,ve.action),ve=ve.next;while(ve!==G);zo(Q,b.memoizedState)||(Xi=!0),b.memoizedState=Q,b.baseQueue===null&&(b.baseState=Q),M.lastRenderedState=Q}return[Q,P]}function yE(m,b,M){var P=$r,G=Ti(),Q=Ta;if(Q){if(M===void 0)throw Error(r(407));M=M()}else M=b();var ve=!zo((Ia||G).memoizedState,M);ve&&(G.memoizedState=M,Xi=!0),G=G.queue;var Re=SE.bind(null,P,G,m);if(op(2048,8,Re,[m]),G.getSnapshot!==b||ve||Ci!==null&&Ci.memoizedState.tag&1){if(P.flags|=2048,Yu(9,Zm(),bE.bind(null,P,G,M,b),null),qa===null)throw Error(r(349));Q||(Ko&124)!==0||Ku(P,b,M)}return M}function Ku(m,b,M){m.flags|=16384,m={getSnapshot:b,value:M},b=$r.updateQueue,b===null?(b=Xg(),$r.updateQueue=b,b.stores=[m]):(M=b.stores,M===null?b.stores=[m]:M.push(m))}function bE(m,b,M,P){b.value=M,b.getSnapshot=P,Ml(b)&&bb(m)}function SE(m,b,M){return M(function(){Ml(b)&&bb(m)})}function Ml(m){var b=m.getSnapshot;m=m.value;try{var M=b();return!zo(m,M)}catch{return!0}}function bb(m){var b=Fc(m,2);b!==null&&ys(b,m,2)}function ip(m){var b=No();if(typeof m=="function"){var M=m;if(m=M(),Wc){Vt(!0);try{M()}finally{Vt(!1)}}}return b.memoizedState=b.baseState=m,b.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:m},b}function Sb(m,b,M,P){return m.baseState=M,yb(m,Ia,typeof P=="function"?P:ac)}function ox(m,b,M,P,G){if(rf(m))throw Error(r(485));if(m=b.action,m!==null){var Q={payload:G,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ve){Q.listeners.push(ve)}};ee.T!==null?M(!0):Q.isTransition=!1,P(Q),M=b.pending,M===null?(Q.next=b.pending=Q,Zg(b,Q)):(Q.next=M.next,b.pending=M.next=Q)}}function Zg(m,b){var M=b.action,P=b.payload,G=m.state;if(b.isTransition){var Q=ee.T,ve={};ee.T=ve;try{var Re=M(G,P),tt=ee.S;tt!==null&&tt(ve,Re),IE(m,b,Re)}catch(It){Wu(m,b,It)}finally{ee.T=Q}}else try{Q=M(G,P),IE(m,b,Q)}catch(It){Wu(m,b,It)}}function IE(m,b,M){M!==null&&typeof M=="object"&&typeof M.then=="function"?M.then(function(P){EE(m,b,P)},function(P){return Wu(m,b,P)}):EE(m,b,M)}function EE(m,b,M){b.status="fulfilled",b.value=M,eh(b),m.state=M,b=m.pending,b!==null&&(M=b.next,M===b?m.pending=null:(M=M.next,b.next=M,Zg(m,M)))}function Wu(m,b,M){var P=m.pending;if(m.pending=null,P!==null){P=P.next;do b.status="rejected",b.reason=M,eh(b),b=b.next;while(b!==P)}m.action=null}function eh(m){m=m.listeners;for(var b=0;b<m.length;b++)(0,m[b])()}function Ib(m,b){return b}function th(m,b){if(Ta){var M=qa.formState;if(M!==null){e:{var P=$r;if(Ta){if(hi){t:{for(var G=hi,Q=Cl;G.nodeType!==8;){if(!Q){G=null;break t}if(G=ol(G.nextSibling),G===null){G=null;break t}}Q=G.data,G=Q==="F!"||Q==="F"?G:null}if(G){hi=ol(G.nextSibling),P=G.data==="F!";break e}}$t(P)}P=!1}P&&(b=M[0])}}return M=No(),M.memoizedState=M.baseState=b,P={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ib,lastRenderedState:b},M.queue=P,M=Nb.bind(null,$r,P),P.dispatch=M,P=ip(!1),Q=sh.bind(null,$r,!1,P.queue),P=No(),G={state:b,dispatch:null,action:m,pending:null},P.queue=G,M=ox.bind(null,$r,G,Q,M),G.dispatch=M,P.memoizedState=m,[b,M,!1]}function nh(m){var b=Ti();return rh(b,Ia,m)}function rh(m,b,M){if(b=yb(m,b,Ib)[0],m=Qm(ac)[0],typeof b=="object"&&b!==null&&typeof b.then=="function")try{var P=Jm(b)}catch(ve){throw ve===Go?Fm:ve}else P=b;b=Ti();var G=b.queue,Q=G.dispatch;return M!==b.memoizedState&&($r.flags|=2048,Yu(9,Zm(),sx.bind(null,G,M),null)),[P,Q,m]}function sx(m,b){m.action=b}function CE(m){var b=Ti(),M=Ia;if(M!==null)return rh(b,M,m);Ti(),b=b.memoizedState,M=Ti();var P=M.queue.dispatch;return M.memoizedState=m,[b,P,!1]}function Yu(m,b,M,P){return m={tag:m,create:M,deps:P,inst:b,next:null},b=$r.updateQueue,b===null&&(b=Xg(),$r.updateQueue=b),M=b.lastEffect,M===null?b.lastEffect=m.next=m:(P=M.next,M.next=m,m.next=P,b.lastEffect=m),m}function Zm(){return{destroy:void 0,resource:void 0}}function Eb(){return Ti().memoizedState}function ef(m,b,M,P){var G=No();P=P===void 0?null:P,$r.flags|=m,G.memoizedState=Yu(1|b,Zm(),M,P)}function op(m,b,M,P){var G=Ti();P=P===void 0?null:P;var Q=G.memoizedState.inst;Ia!==null&&P!==null&&Kg(P,Ia.memoizedState.deps)?G.memoizedState=Yu(b,Q,M,P):($r.flags|=m,G.memoizedState=Yu(1|b,Q,M,P))}function TE(m,b){ef(8390656,8,m,b)}function Cb(m,b){op(2048,8,m,b)}function ME(m,b){return op(4,2,m,b)}function Xu(m,b){return op(4,4,m,b)}function Ju(m,b){if(typeof b=="function"){m=m();var M=b(m);return function(){typeof M=="function"?M():b(null)}}if(b!=null)return m=m(),b.current=m,function(){b.current=null}}function ah(m,b,M){M=M!=null?M.concat([m]):null,op(4,4,Ju.bind(null,b,m),M)}function ih(){}function Tb(m,b){var M=Ti();b=b===void 0?null:b;var P=M.memoizedState;return b!==null&&Kg(b,P[1])?P[0]:(M.memoizedState=[m,b],m)}function _E(m,b){var M=Ti();b=b===void 0?null:b;var P=M.memoizedState;if(b!==null&&Kg(b,P[1]))return P[0];if(P=m(),Wc){Vt(!0);try{m()}finally{Vt(!1)}}return M.memoizedState=[P,b],P}function oh(m,b,M){return M===void 0||(Ko&1073741824)!==0?m.memoizedState=b:(m.memoizedState=M,m=al(),$r.lanes|=m,rl|=m,M)}function Mb(m,b,M,P){return zo(M,b)?M:Gc.current!==null?(m=oh(m,M,P),zo(m,b)||(Xi=!0),m):(Ko&42)===0?(Xi=!0,m.memoizedState=M):(m=al(),$r.lanes|=m,rl|=m,b)}function _b(m,b,M,P,G){var Q=ae.p;ae.p=Q!==0&&8>Q?Q:8;var ve=ee.T,Re={};ee.T=Re,sh(m,!1,b,M);try{var tt=G(),It=ee.S;if(It!==null&&It(Re,tt),tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var zt=Um(tt,P);nf(m,b,zt,Zo(m))}else nf(m,b,P,Zo(m))}catch(Yt){nf(m,b,{then:function(){},status:"rejected",reason:Yt},Zo())}finally{ae.p=Q,ee.T=ve}}function lx(){}function tf(m,b,M,P){if(m.tag!==5)throw Error(r(476));var G=xE(m).queue;_b(m,G,b,de,M===null?lx:function(){return wE(m),M(P)})}function xE(m){var b=m.memoizedState;if(b!==null)return b;b={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:de},next:null};var M={};return b.next={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:M},next:null},m.memoizedState=b,m=m.alternate,m!==null&&(m.memoizedState=b),b}function wE(m){var b=xE(m).next.queue;nf(m,b,{},Zo())}function xb(){return qi(Np)}function wb(){return Ti().memoizedState}function NE(){return Ti().memoizedState}function cx(m){for(var b=m.return;b!==null;){switch(b.tag){case 24:case 3:var M=Zo();m=rc(M);var P=Hc(b,m,M);P!==null&&(ys(P,b,M),zu(P,b,M)),b={cache:ra()},m.payload=b;return}b=b.return}}function ux(m,b,M){var P=Zo();M={lane:P,revertLane:0,action:M,hasEagerState:!1,eagerState:null,next:null},rf(m)?RE(b,M):(M=ab(m,b,M,P),M!==null&&(ys(M,m,P),Rb(M,b,P)))}function Nb(m,b,M){var P=Zo();nf(m,b,M,P)}function nf(m,b,M,P){var G={lane:P,revertLane:0,action:M,hasEagerState:!1,eagerState:null,next:null};if(rf(m))RE(b,G);else{var Q=m.alternate;if(m.lanes===0&&(Q===null||Q.lanes===0)&&(Q=b.lastRenderedReducer,Q!==null))try{var ve=b.lastRenderedState,Re=Q(ve,M);if(G.hasEagerState=!0,G.eagerState=Re,zo(Re,ve))return Lm(m,b,G,0),qa===null&&kg(),!1}catch{}finally{}if(M=ab(m,b,G,P),M!==null)return ys(M,m,P),Rb(M,b,P),!0}return!1}function sh(m,b,M,P){if(P={lane:2,revertLane:Cf(),action:P,hasEagerState:!1,eagerState:null,next:null},rf(m)){if(b)throw Error(r(479))}else b=ab(m,M,P,2),b!==null&&ys(b,m,2)}function rf(m){var b=m.alternate;return m===$r||b!==null&&b===$r}function RE(m,b){Kc=rp=!0;var M=m.pending;M===null?b.next=b:(b.next=M.next,M.next=b),m.pending=b}function Rb(m,b,M){if((M&4194048)!==0){var P=b.lanes;P&=m.pendingLanes,M|=P,b.lanes=M,Wt(m,M)}}var lh={readContext:qi,use:Yi,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useLayoutEffect:vi,useInsertionEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useSyncExternalStore:vi,useId:vi,useHostTransitionStatus:vi,useFormState:vi,useActionState:vi,useOptimistic:vi,useMemoCache:vi,useCacheRefresh:vi},AE={readContext:qi,use:Yi,useCallback:function(m,b){return No().memoizedState=[m,b===void 0?null:b],m},useContext:qi,useEffect:TE,useImperativeHandle:function(m,b,M){M=M!=null?M.concat([m]):null,ef(4194308,4,Ju.bind(null,b,m),M)},useLayoutEffect:function(m,b){return ef(4194308,4,m,b)},useInsertionEffect:function(m,b){ef(4,2,m,b)},useMemo:function(m,b){var M=No();b=b===void 0?null:b;var P=m();if(Wc){Vt(!0);try{m()}finally{Vt(!1)}}return M.memoizedState=[P,b],P},useReducer:function(m,b,M){var P=No();if(M!==void 0){var G=M(b);if(Wc){Vt(!0);try{M(b)}finally{Vt(!1)}}}else G=b;return P.memoizedState=P.baseState=G,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:G},P.queue=m,m=m.dispatch=ux.bind(null,$r,m),[P.memoizedState,m]},useRef:function(m){var b=No();return m={current:m},b.memoizedState=m},useState:function(m){m=ip(m);var b=m.queue,M=Nb.bind(null,$r,b);return b.dispatch=M,[m.memoizedState,M]},useDebugValue:ih,useDeferredValue:function(m,b){var M=No();return oh(M,m,b)},useTransition:function(){var m=ip(!1);return m=_b.bind(null,$r,m.queue,!0,!1),No().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,b,M){var P=$r,G=No();if(Ta){if(M===void 0)throw Error(r(407));M=M()}else{if(M=b(),qa===null)throw Error(r(349));(ha&124)!==0||Ku(P,b,M)}G.memoizedState=M;var Q={value:M,getSnapshot:b};return G.queue=Q,TE(SE.bind(null,P,Q,m),[m]),P.flags|=2048,Yu(9,Zm(),bE.bind(null,P,Q,M,b),null),M},useId:function(){var m=No(),b=qa.identifierPrefix;if(Ta){var M=Zl,P=El;M=(P&~(1<<32-wt(P)-1)).toString(32)+M,b="«"+b+"R"+M,M=Km++,0<M&&(b+="H"+M.toString(32)),b+="»"}else M=ix++,b="«"+b+"r"+M.toString(32)+"»";return m.memoizedState=b},useHostTransitionStatus:xb,useFormState:th,useActionState:th,useOptimistic:function(m){var b=No();b.memoizedState=b.baseState=m;var M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return b.queue=M,b=sh.bind(null,$r,!0,M),M.dispatch=b,[m,b]},useMemoCache:Jg,useCacheRefresh:function(){return No().memoizedState=cx.bind(null,$r)}},OE={readContext:qi,use:Yi,useCallback:Tb,useContext:qi,useEffect:Cb,useImperativeHandle:ah,useInsertionEffect:ME,useLayoutEffect:Xu,useMemo:_E,useReducer:Qm,useRef:Eb,useState:function(){return Qm(ac)},useDebugValue:ih,useDeferredValue:function(m,b){var M=Ti();return Mb(M,Ia.memoizedState,m,b)},useTransition:function(){var m=Qm(ac)[0],b=Ti().memoizedState;return[typeof m=="boolean"?m:Jm(m),b]},useSyncExternalStore:yE,useId:wb,useHostTransitionStatus:xb,useFormState:nh,useActionState:nh,useOptimistic:function(m,b){var M=Ti();return Sb(M,Ia,m,b)},useMemoCache:Jg,useCacheRefresh:NE},Zt={readContext:qi,use:Yi,useCallback:Tb,useContext:qi,useEffect:Cb,useImperativeHandle:ah,useInsertionEffect:ME,useLayoutEffect:Xu,useMemo:_E,useReducer:Qg,useRef:Eb,useState:function(){return Qg(ac)},useDebugValue:ih,useDeferredValue:function(m,b){var M=Ti();return Ia===null?oh(M,m,b):Mb(M,Ia.memoizedState,m,b)},useTransition:function(){var m=Qg(ac)[0],b=Ti().memoizedState;return[typeof m=="boolean"?m:Jm(m),b]},useSyncExternalStore:yE,useId:wb,useHostTransitionStatus:xb,useFormState:CE,useActionState:CE,useOptimistic:function(m,b){var M=Ti();return Ia!==null?Sb(M,Ia,m,b):(M.baseState=m,[m,M.queue.dispatch])},useMemoCache:Jg,useCacheRefresh:NE},sp=null,af=0;function ch(m){var b=af;return af+=1,sp===null&&(sp=[]),qm(sp,m,b)}function lp(m,b){b=b.props.ref,m.ref=b!==void 0?b:null}function of(m,b){throw b.$$typeof===_?Error(r(525)):(m=Object.prototype.toString.call(b),Error(r(31,m==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":m)))}function kE(m){var b=m._init;return b(m._payload)}function uh(m){function b(ft,st){if(m){var St=ft.deletions;St===null?(ft.deletions=[st],ft.flags|=16):St.push(st)}}function M(ft,st){if(!m)return null;for(;st!==null;)b(ft,st),st=st.sibling;return null}function P(ft){for(var st=new Map;ft!==null;)ft.key!==null?st.set(ft.key,ft):st.set(ft.index,ft),ft=ft.sibling;return st}function G(ft,st){return ft=wo(ft,st),ft.index=0,ft.sibling=null,ft}function Q(ft,st,St){return ft.index=St,m?(St=ft.alternate,St!==null?(St=St.index,St<st?(ft.flags|=67108866,st):St):(ft.flags|=67108866,st)):(ft.flags|=1048576,st)}function ve(ft){return m&&ft.alternate===null&&(ft.flags|=67108866),ft}function Re(ft,st,St,Kt){return st===null||st.tag!==6?(st=Vu(St,ft.mode,Kt),st.return=ft,st):(st=G(st,St),st.return=ft,st)}function tt(ft,st,St,Kt){var mn=St.type;return mn===w?zt(ft,st,St.props.children,Kt,St.key):st!==null&&(st.elementType===mn||typeof mn=="object"&&mn!==null&&mn.$$typeof===H&&kE(mn)===st.type)?(st=G(st,St.props),lp(st,St),st.return=ft,st):(st=Du(St.type,St.key,St.props,null,ft.mode,Kt),lp(st,St),st.return=ft,st)}function It(ft,st,St,Kt){return st===null||st.tag!==4||st.stateNode.containerInfo!==St.containerInfo||st.stateNode.implementation!==St.implementation?(st=ib(St,ft.mode,Kt),st.return=ft,st):(st=G(st,St.children||[]),st.return=ft,st)}function zt(ft,st,St,Kt,mn){return st===null||st.tag!==7?(st=ju(St,ft.mode,Kt,mn),st.return=ft,st):(st=G(st,St),st.return=ft,st)}function Yt(ft,st,St){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return st=Vu(""+st,ft.mode,St),st.return=ft,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case N:return St=Du(st.type,st.key,st.props,null,ft.mode,St),lp(St,st),St.return=ft,St;case A:return st=ib(st,ft.mode,St),st.return=ft,st;case H:var Kt=st._init;return st=Kt(st._payload),Yt(ft,st,St)}if(re(st)||te(st))return st=ju(st,ft.mode,St,null),st.return=ft,st;if(typeof st.then=="function")return Yt(ft,ch(st),St);if(st.$$typeof===L)return Yt(ft,jg(ft,st),St);of(ft,st)}return null}function Et(ft,st,St,Kt){var mn=st!==null?st.key:null;if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return mn!==null?null:Re(ft,st,""+St,Kt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case N:return St.key===mn?tt(ft,st,St,Kt):null;case A:return St.key===mn?It(ft,st,St,Kt):null;case H:return mn=St._init,St=mn(St._payload),Et(ft,st,St,Kt)}if(re(St)||te(St))return mn!==null?null:zt(ft,st,St,Kt,null);if(typeof St.then=="function")return Et(ft,st,ch(St),Kt);if(St.$$typeof===L)return Et(ft,st,jg(ft,St),Kt);of(ft,St)}return null}function Nt(ft,st,St,Kt,mn){if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number"||typeof Kt=="bigint")return ft=ft.get(St)||null,Re(st,ft,""+Kt,mn);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case N:return ft=ft.get(Kt.key===null?St:Kt.key)||null,tt(st,ft,Kt,mn);case A:return ft=ft.get(Kt.key===null?St:Kt.key)||null,It(st,ft,Kt,mn);case H:var Br=Kt._init;return Kt=Br(Kt._payload),Nt(ft,st,St,Kt,mn)}if(re(Kt)||te(Kt))return ft=ft.get(St)||null,zt(st,ft,Kt,mn,null);if(typeof Kt.then=="function")return Nt(ft,st,St,ch(Kt),mn);if(Kt.$$typeof===L)return Nt(ft,st,St,jg(st,Kt),mn);of(st,Kt)}return null}function kr(ft,st,St,Kt){for(var mn=null,Br=null,mr=st,xr=st=0,Ji=null;mr!==null&&xr<St.length;xr++){mr.index>xr?(Ji=mr,mr=null):Ji=mr.sibling;var va=Et(ft,mr,St[xr],Kt);if(va===null){mr===null&&(mr=Ji);break}m&&mr&&va.alternate===null&&b(ft,mr),st=Q(va,st,xr),Br===null?mn=va:Br.sibling=va,Br=va,mr=Ji}if(xr===St.length)return M(ft,mr),Ta&&$u(ft,xr),mn;if(mr===null){for(;xr<St.length;xr++)mr=Yt(ft,St[xr],Kt),mr!==null&&(st=Q(mr,st,xr),Br===null?mn=mr:Br.sibling=mr,Br=mr);return Ta&&$u(ft,xr),mn}for(mr=P(mr);xr<St.length;xr++)Ji=Nt(mr,ft,xr,St[xr],Kt),Ji!==null&&(m&&Ji.alternate!==null&&mr.delete(Ji.key===null?xr:Ji.key),st=Q(Ji,st,xr),Br===null?mn=Ji:Br.sibling=Ji,Br=Ji);return m&&mr.forEach(function(Mi){return b(ft,Mi)}),Ta&&$u(ft,xr),mn}function Mr(ft,st,St,Kt){if(St==null)throw Error(r(151));for(var mn=null,Br=null,mr=st,xr=st=0,Ji=null,va=St.next();mr!==null&&!va.done;xr++,va=St.next()){mr.index>xr?(Ji=mr,mr=null):Ji=mr.sibling;var Mi=Et(ft,mr,va.value,Kt);if(Mi===null){mr===null&&(mr=Ji);break}m&&mr&&Mi.alternate===null&&b(ft,mr),st=Q(Mi,st,xr),Br===null?mn=Mi:Br.sibling=Mi,Br=Mi,mr=Ji}if(va.done)return M(ft,mr),Ta&&$u(ft,xr),mn;if(mr===null){for(;!va.done;xr++,va=St.next())va=Yt(ft,va.value,Kt),va!==null&&(st=Q(va,st,xr),Br===null?mn=va:Br.sibling=va,Br=va);return Ta&&$u(ft,xr),mn}for(mr=P(mr);!va.done;xr++,va=St.next())va=Nt(mr,ft,xr,va.value,Kt),va!==null&&(m&&va.alternate!==null&&mr.delete(va.key===null?xr:va.key),st=Q(va,st,xr),Br===null?mn=va:Br.sibling=va,Br=va);return m&&mr.forEach(function(vC){return b(ft,vC)}),Ta&&$u(ft,xr),mn}function za(ft,st,St,Kt){if(typeof St=="object"&&St!==null&&St.type===w&&St.key===null&&(St=St.props.children),typeof St=="object"&&St!==null){switch(St.$$typeof){case N:e:{for(var mn=St.key;st!==null;){if(st.key===mn){if(mn=St.type,mn===w){if(st.tag===7){M(ft,st.sibling),Kt=G(st,St.props.children),Kt.return=ft,ft=Kt;break e}}else if(st.elementType===mn||typeof mn=="object"&&mn!==null&&mn.$$typeof===H&&kE(mn)===st.type){M(ft,st.sibling),Kt=G(st,St.props),lp(Kt,St),Kt.return=ft,ft=Kt;break e}M(ft,st);break}else b(ft,st);st=st.sibling}St.type===w?(Kt=ju(St.props.children,ft.mode,Kt,St.key),Kt.return=ft,ft=Kt):(Kt=Du(St.type,St.key,St.props,null,ft.mode,Kt),lp(Kt,St),Kt.return=ft,ft=Kt)}return ve(ft);case A:e:{for(mn=St.key;st!==null;){if(st.key===mn)if(st.tag===4&&st.stateNode.containerInfo===St.containerInfo&&st.stateNode.implementation===St.implementation){M(ft,st.sibling),Kt=G(st,St.children||[]),Kt.return=ft,ft=Kt;break e}else{M(ft,st);break}else b(ft,st);st=st.sibling}Kt=ib(St,ft.mode,Kt),Kt.return=ft,ft=Kt}return ve(ft);case H:return mn=St._init,St=mn(St._payload),za(ft,st,St,Kt)}if(re(St))return kr(ft,st,St,Kt);if(te(St)){if(mn=te(St),typeof mn!="function")throw Error(r(150));return St=mn.call(St),Mr(ft,st,St,Kt)}if(typeof St.then=="function")return za(ft,st,ch(St),Kt);if(St.$$typeof===L)return za(ft,st,jg(ft,St),Kt);of(ft,St)}return typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint"?(St=""+St,st!==null&&st.tag===6?(M(ft,st.sibling),Kt=G(st,St),Kt.return=ft,ft=Kt):(M(ft,st),Kt=Vu(St,ft.mode,Kt),Kt.return=ft,ft=Kt),ve(ft)):M(ft,st)}return function(ft,st,St,Kt){try{af=0;var mn=za(ft,st,St,Kt);return sp=null,mn}catch(mr){if(mr===Go||mr===Fm)throw mr;var Br=gs(29,mr,null,ft.mode);return Br.lanes=Kt,Br.return=ft,Br}finally{}}}var Qu=uh(!0),LE=uh(!1),lr=ye(null),el=null;function Xc(m){var b=m.alternate;oe(Oi,Oi.current&1),oe(lr,m),el===null&&(b===null||Gc.current!==null||b.memoizedState!==null)&&(el=m)}function PE(m){if(m.tag===22){if(oe(Oi,Oi.current),oe(lr,m),el===null){var b=m.alternate;b!==null&&b.memoizedState!==null&&(el=m)}}else Jc()}function Jc(){oe(Oi,Oi.current),oe(lr,lr.current)}function ic(m){be(lr),el===m&&(el=null),be(Oi)}var Oi=ye(0);function Bn(m){for(var b=m;b!==null;){if(b.tag===13){var M=b.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||M.data==="$?"||SS(M)))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}function Ab(m,b,M,P){b=m.memoizedState,M=M(P,b),M=M==null?b:T({},b,M),m.memoizedState=M,m.lanes===0&&(m.updateQueue.baseState=M)}var Ob={enqueueSetState:function(m,b,M){m=m._reactInternals;var P=Zo(),G=rc(P);G.payload=b,M!=null&&(G.callback=M),b=Hc(m,G,P),b!==null&&(ys(b,m,P),zu(b,m,P))},enqueueReplaceState:function(m,b,M){m=m._reactInternals;var P=Zo(),G=rc(P);G.tag=1,G.payload=b,M!=null&&(G.callback=M),b=Hc(m,G,P),b!==null&&(ys(b,m,P),zu(b,m,P))},enqueueForceUpdate:function(m,b){m=m._reactInternals;var M=Zo(),P=rc(M);P.tag=2,b!=null&&(P.callback=b),b=Hc(m,P,M),b!==null&&(ys(b,m,M),zu(b,m,M))}};function kb(m,b,M,P,G,Q,ve){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(P,Q,ve):b.prototype&&b.prototype.isPureReactComponent?!Am(M,P)||!Am(G,Q):!0}function Lb(m,b,M,P){m=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(M,P),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(M,P),b.state!==m&&Ob.enqueueReplaceState(b,b.state,null)}function Qc(m,b){var M=b;if("ref"in b){M={};for(var P in b)P!=="ref"&&(M[P]=b[P])}if(m=m.defaultProps){M===b&&(M=T({},M));for(var G in m)M[G]===void 0&&(M[G]=m[G])}return M}var sf=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(b))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)};function pa(m){sf(m)}function Zc(m){console.error(m)}function dh(m){sf(m)}function ph(m,b){try{var M=m.onUncaughtError;M(b.value,{componentStack:b.stack})}catch(P){setTimeout(function(){throw P})}}function DE(m,b,M){try{var P=m.onCaughtError;P(M.value,{componentStack:M.stack,errorBoundary:b.tag===1?b.stateNode:null})}catch(G){setTimeout(function(){throw G})}}function lf(m,b,M){return M=rc(M),M.tag=3,M.payload={element:null},M.callback=function(){ph(m,b)},M}function Pb(m){return m=rc(m),m.tag=3,m}function Db(m,b,M,P){var G=M.type.getDerivedStateFromError;if(typeof G=="function"){var Q=P.value;m.payload=function(){return G(Q)},m.callback=function(){DE(b,M,P)}}var ve=M.stateNode;ve!==null&&typeof ve.componentDidCatch=="function"&&(m.callback=function(){DE(b,M,P),typeof G!="function"&&(cc===null?cc=new Set([this]):cc.add(this));var Re=P.stack;this.componentDidCatch(P.value,{componentStack:Re!==null?Re:""})})}function jb(m,b,M,P,G){if(M.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){if(b=M.alternate,b!==null&&jm(b,M,G,!0),M=lr.current,M!==null){switch(M.tag){case 13:return el===null?wh():M.alternate===null&&ui===0&&(ui=3),M.flags&=-257,M.flags|=65536,M.lanes=G,P===fb?M.flags|=16384:(b=M.updateQueue,b===null?M.updateQueue=new Set([P]):b.add(P),Sf(m,P,G)),!1;case 22:return M.flags|=65536,P===fb?M.flags|=16384:(b=M.updateQueue,b===null?(b={transitions:null,markerInstances:null,retryQueue:new Set([P])},M.updateQueue=b):(M=b.retryQueue,M===null?b.retryQueue=new Set([P]):M.add(P)),Sf(m,P,G)),!1}throw Error(r(435,M.tag))}return Sf(m,P,G),wh(),!1}if(Ta)return b=lr.current,b!==null?((b.flags&65536)===0&&(b.flags|=256),b.flags|=65536,b.lanes=G,P!==sb&&(m=Error(r(422),{cause:P}),Qd(Ho(m,M)))):(P!==sb&&(b=Error(r(423),{cause:P}),Qd(Ho(b,M))),m=m.current.alternate,m.flags|=65536,G&=-G,m.lanes|=G,P=Ho(P,M),G=lf(m.stateNode,P,G),gb(m,G),ui!==4&&(ui=2)),!1;var Q=Error(r(520),{cause:P});if(Q=Ho(Q,M),hp===null?hp=[Q]:hp.push(Q),ui!==4&&(ui=2),b===null)return!0;P=Ho(P,M),M=b;do{switch(M.tag){case 3:return M.flags|=65536,m=G&-G,M.lanes|=m,m=lf(M.stateNode,P,m),gb(M,m),!1;case 1:if(b=M.type,Q=M.stateNode,(M.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(cc===null||!cc.has(Q))))return M.flags|=65536,G&=-G,M.lanes|=G,G=Pb(G),Db(G,m,M,P),gb(M,G),!1}M=M.return}while(M!==null);return!1}var mh=Error(r(461)),Xi=!1;function aa(m,b,M,P){b.child=m===null?LE(b,null,M,P):Qu(b,m.child,M,P)}function Vb(m,b,M,P,G){M=M.render;var Q=b.ref;if("ref"in P){var ve={};for(var Re in P)Re!=="ref"&&(ve[Re]=P[Re])}else ve=P;return Fu(b),P=Wg(m,b,M,ve,Q,G),Re=Yg(),m!==null&&!Xi?(Xm(m,b,G),nl(m,b,G)):(Ta&&Re&&ob(b),b.flags|=1,aa(m,b,P,G),b.child)}function cf(m,b,M,P,G){if(m===null){var Q=M.type;return typeof Q=="function"&&!Pm(Q)&&Q.defaultProps===void 0&&M.compare===null?(b.tag=15,b.type=Q,Ro(m,b,Q,P,G)):(m=Du(M.type,null,P,b,b.mode,G),m.ref=b.ref,m.return=b,b.child=m)}if(Q=m.child,!ff(m,G)){var ve=Q.memoizedProps;if(M=M.compare,M=M!==null?M:Am,M(ve,P)&&m.ref===b.ref)return nl(m,b,G)}return b.flags|=1,m=wo(Q,P),m.ref=b.ref,m.return=b,b.child=m}function Ro(m,b,M,P,G){if(m!==null){var Q=m.memoizedProps;if(Am(Q,P)&&m.ref===b.ref)if(Xi=!1,b.pendingProps=P=Q,ff(m,G))(m.flags&131072)!==0&&(Xi=!0);else return b.lanes=m.lanes,nl(m,b,G)}return hs(m,b,M,P,G)}function uf(m,b,M){var P=b.pendingProps,G=P.children,Q=m!==null?m.memoizedState:null;if(P.mode==="hidden"){if((b.flags&128)!==0){if(P=Q!==null?Q.baseLanes|M:M,m!==null){for(G=b.child=m.child,Q=0;G!==null;)Q=Q|G.lanes|G.childLanes,G=G.sibling;b.childLanes=Q&~P}else b.childLanes=0,b.child=null;return jE(m,b,P,M)}if((M&536870912)!==0)b.memoizedState={baseLanes:0,cachePool:null},m!==null&&Bm(b,Q!==null?Q.cachePool:null),Q!==null?hb(b,Q):Gg(),PE(b);else return b.lanes=b.childLanes=536870912,jE(m,b,Q!==null?Q.baseLanes|M:M,M)}else Q!==null?(Bm(b,Q.cachePool),hb(b,Q),Jc(),b.memoizedState=null):(m!==null&&Bm(b,null),Gg(),Jc());return aa(m,b,G,M),b.child}function jE(m,b,M,P){var G=zc();return G=G===null?null:{parent:Pi._currentValue,pool:G},b.memoizedState={baseLanes:M,cachePool:G},m!==null&&Bm(b,null),Gg(),PE(b),m!==null&&jm(m,b,P,!0),null}function df(m,b){var M=b.ref;if(M===null)m!==null&&m.ref!==null&&(b.flags|=4194816);else{if(typeof M!="function"&&typeof M!="object")throw Error(r(284));(m===null||m.ref!==M)&&(b.flags|=4194816)}}function hs(m,b,M,P,G){return Fu(b),M=Wg(m,b,M,P,void 0,G),P=Yg(),m!==null&&!Xi?(Xm(m,b,G),nl(m,b,G)):(Ta&&P&&ob(b),b.flags|=1,aa(m,b,M,G),b.child)}function eu(m,b,M,P,G,Q){return Fu(b),b.updateQueue=null,M=Ym(b,P,M,G),vb(m),P=Yg(),m!==null&&!Xi?(Xm(m,b,Q),nl(m,b,Q)):(Ta&&P&&ob(b),b.flags|=1,aa(m,b,M,Q),b.child)}function cp(m,b,M,P,G){if(Fu(b),b.stateNode===null){var Q=Wd,ve=M.contextType;typeof ve=="object"&&ve!==null&&(Q=qi(ve)),Q=new M(P,Q),b.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,Q.updater=Ob,b.stateNode=Q,Q._reactInternals=b,Q=b.stateNode,Q.props=P,Q.state=b.memoizedState,Q.refs={},zg(b),ve=M.contextType,Q.context=typeof ve=="object"&&ve!==null?qi(ve):Wd,Q.state=b.memoizedState,ve=M.getDerivedStateFromProps,typeof ve=="function"&&(Ab(b,M,ve,P),Q.state=b.memoizedState),typeof M.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(ve=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),ve!==Q.state&&Ob.enqueueReplaceState(Q,Q.state,null),Hu(b,P,Q,G),Gm(),Q.state=b.memoizedState),typeof Q.componentDidMount=="function"&&(b.flags|=4194308),P=!0}else if(m===null){Q=b.stateNode;var Re=b.memoizedProps,tt=Qc(M,Re);Q.props=tt;var It=Q.context,zt=M.contextType;ve=Wd,typeof zt=="object"&&zt!==null&&(ve=qi(zt));var Yt=M.getDerivedStateFromProps;zt=typeof Yt=="function"||typeof Q.getSnapshotBeforeUpdate=="function",Re=b.pendingProps!==Re,zt||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(Re||It!==ve)&&Lb(b,Q,P,ve),nc=!1;var Et=b.memoizedState;Q.state=Et,Hu(b,P,Q,G),Gm(),It=b.memoizedState,Re||Et!==It||nc?(typeof Yt=="function"&&(Ab(b,M,Yt,P),It=b.memoizedState),(tt=nc||kb(b,M,tt,P,Et,It,ve))?(zt||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(b.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=P,b.memoizedState=It),Q.props=P,Q.state=It,Q.context=ve,P=tt):(typeof Q.componentDidMount=="function"&&(b.flags|=4194308),P=!1)}else{Q=b.stateNode,Hm(m,b),ve=b.memoizedProps,zt=Qc(M,ve),Q.props=zt,Yt=b.pendingProps,Et=Q.context,It=M.contextType,tt=Wd,typeof It=="object"&&It!==null&&(tt=qi(It)),Re=M.getDerivedStateFromProps,(It=typeof Re=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ve!==Yt||Et!==tt)&&Lb(b,Q,P,tt),nc=!1,Et=b.memoizedState,Q.state=Et,Hu(b,P,Q,G),Gm();var Nt=b.memoizedState;ve!==Yt||Et!==Nt||nc||m!==null&&m.dependencies!==null&&Vm(m.dependencies)?(typeof Re=="function"&&(Ab(b,M,Re,P),Nt=b.memoizedState),(zt=nc||kb(b,M,zt,P,Et,Nt,tt)||m!==null&&m.dependencies!==null&&Vm(m.dependencies))?(It||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(P,Nt,tt),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(P,Nt,tt)),typeof Q.componentDidUpdate=="function"&&(b.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof Q.componentDidUpdate!="function"||ve===m.memoizedProps&&Et===m.memoizedState||(b.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ve===m.memoizedProps&&Et===m.memoizedState||(b.flags|=1024),b.memoizedProps=P,b.memoizedState=Nt),Q.props=P,Q.state=Nt,Q.context=tt,P=zt):(typeof Q.componentDidUpdate!="function"||ve===m.memoizedProps&&Et===m.memoizedState||(b.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ve===m.memoizedProps&&Et===m.memoizedState||(b.flags|=1024),P=!1)}return Q=P,df(m,b),P=(b.flags&128)!==0,Q||P?(Q=b.stateNode,M=P&&typeof M.getDerivedStateFromError!="function"?null:Q.render(),b.flags|=1,m!==null&&P?(b.child=Qu(b,m.child,null,G),b.child=Qu(b,null,M,G)):aa(m,b,M,G),b.memoizedState=Q.state,m=b.child):m=nl(m,b,G),m}function VE(m,b,M,P){return Dm(),b.flags|=256,aa(m,b,M,P),b.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fh(m){return{baseLanes:m,cachePool:Bg()}}function _l(m,b,M){return m=m!==null?m.childLanes&~M:0,b&&(m|=Jo),m}function $b(m,b,M){var P=b.pendingProps,G=!1,Q=(b.flags&128)!==0,ve;if((ve=Q)||(ve=m!==null&&m.memoizedState===null?!1:(Oi.current&2)!==0),ve&&(G=!0,b.flags&=-129),ve=(b.flags&32)!==0,b.flags&=-33,m===null){if(Ta){if(G?Xc(b):Jc(),Ta){var Re=hi,tt;if(tt=Re){e:{for(tt=Re,Re=Cl;tt.nodeType!==8;){if(!Re){Re=null;break e}if(tt=ol(tt.nextSibling),tt===null){Re=null;break e}}Re=tt}Re!==null?(b.memoizedState={dehydrated:Re,treeContext:Il!==null?{id:El,overflow:Zl}:null,retryLane:536870912,hydrationErrors:null},tt=gs(18,null,null,0),tt.stateNode=Re,tt.return=b,b.child=tt,So=b,hi=null,tt=!0):tt=!1}tt||$t(b)}if(Re=b.memoizedState,Re!==null&&(Re=Re.dehydrated,Re!==null))return SS(Re)?b.lanes=32:b.lanes=536870912,null;ic(b)}return Re=P.children,P=P.fallback,G?(Jc(),G=b.mode,Re=mf({mode:"hidden",children:Re},G),P=ju(P,G,M,null),Re.return=b,P.return=b,Re.sibling=P,b.child=Re,G=b.child,G.memoizedState=fh(M),G.childLanes=_l(m,ve,M),b.memoizedState=pf,P):(Xc(b),Ub(b,Re))}if(tt=m.memoizedState,tt!==null&&(Re=tt.dehydrated,Re!==null)){if(Q)b.flags&256?(Xc(b),b.flags&=-257,b=tl(m,b,M)):b.memoizedState!==null?(Jc(),b.child=m.child,b.flags|=128,b=null):(Jc(),G=P.fallback,Re=b.mode,P=mf({mode:"visible",children:P.children},Re),G=ju(G,Re,M,null),G.flags|=2,P.return=b,G.return=b,P.sibling=G,b.child=P,Qu(b,m.child,null,M),P=b.child,P.memoizedState=fh(M),P.childLanes=_l(m,ve,M),b.memoizedState=pf,b=G);else if(Xc(b),SS(Re)){if(ve=Re.nextSibling&&Re.nextSibling.dataset,ve)var It=ve.dgst;ve=It,P=Error(r(419)),P.stack="",P.digest=ve,Qd({value:P,source:null,stack:null}),b=tl(m,b,M)}else if(Xi||jm(m,b,M,!1),ve=(M&m.childLanes)!==0,Xi||ve){if(ve=qa,ve!==null&&(P=M&-M,P=(P&42)!==0?1:xn(P),P=(P&(ve.suspendedLanes|M))!==0?0:P,P!==0&&P!==tt.retryLane))throw tt.retryLane=P,Fc(m,P),ys(ve,m,P),mh;Re.data==="$?"||wh(),b=tl(m,b,M)}else Re.data==="$?"?(b.flags|=192,b.child=m.child,b=null):(m=tt.treeContext,hi=ol(Re.nextSibling),So=b,Ta=!0,Uu=null,Cl=!1,m!==null&&(Qa[Fi++]=El,Qa[Fi++]=Zl,Qa[Fi++]=Il,El=m.id,Zl=m.overflow,Il=b),b=Ub(b,P.children),b.flags|=4096);return b}return G?(Jc(),G=P.fallback,Re=b.mode,tt=m.child,It=tt.sibling,P=wo(tt,{mode:"hidden",children:P.children}),P.subtreeFlags=tt.subtreeFlags&65011712,It!==null?G=wo(It,G):(G=ju(G,Re,M,null),G.flags|=2),G.return=b,P.return=b,P.sibling=G,b.child=P,P=G,G=b.child,Re=m.child.memoizedState,Re===null?Re=fh(M):(tt=Re.cachePool,tt!==null?(It=Pi._currentValue,tt=tt.parent!==It?{parent:It,pool:It}:tt):tt=Bg(),Re={baseLanes:Re.baseLanes|M,cachePool:tt}),G.memoizedState=Re,G.childLanes=_l(m,ve,M),b.memoizedState=pf,P):(Xc(b),M=m.child,m=M.sibling,M=wo(M,{mode:"visible",children:P.children}),M.return=b,M.sibling=null,m!==null&&(ve=b.deletions,ve===null?(b.deletions=[m],b.flags|=16):ve.push(m)),b.child=M,b.memoizedState=null,M)}function Ub(m,b){return b=mf({mode:"visible",children:b},m.mode),b.return=m,m.child=b}function mf(m,b){return m=gs(22,m,null,b),m.lanes=0,m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},m}function tl(m,b,M){return Qu(b,m.child,null,M),m=Ub(b,b.pendingProps.children),m.flags|=2,b.memoizedState=null,m}function up(m,b,M){m.lanes|=b;var P=m.alternate;P!==null&&(P.lanes|=b),cb(m.return,b,M)}function Bb(m,b,M,P,G){var Q=m.memoizedState;Q===null?m.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:P,tail:M,tailMode:G}:(Q.isBackwards=b,Q.rendering=null,Q.renderingStartTime=0,Q.last=P,Q.tail=M,Q.tailMode=G)}function gh(m,b,M){var P=b.pendingProps,G=P.revealOrder,Q=P.tail;if(aa(m,b,P.children,M),P=Oi.current,(P&2)!==0)P=P&1|2,b.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=b.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&up(m,M,b);else if(m.tag===19)up(m,M,b);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===b)break e;for(;m.sibling===null;){if(m.return===null||m.return===b)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}P&=1}switch(oe(Oi,P),G){case"forwards":for(M=b.child,G=null;M!==null;)m=M.alternate,m!==null&&Bn(m)===null&&(G=M),M=M.sibling;M=G,M===null?(G=b.child,b.child=null):(G=M.sibling,M.sibling=null),Bb(b,!1,G,M,Q);break;case"backwards":for(M=null,G=b.child,b.child=null;G!==null;){if(m=G.alternate,m!==null&&Bn(m)===null){b.child=G;break}m=G.sibling,G.sibling=M,M=G,G=m}Bb(b,!0,M,null,Q);break;case"together":Bb(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function nl(m,b,M){if(m!==null&&(b.dependencies=m.dependencies),rl|=b.lanes,(M&b.childLanes)===0)if(m!==null){if(jm(m,b,M,!1),(M&b.childLanes)===0)return null}else return null;if(m!==null&&b.child!==m.child)throw Error(r(153));if(b.child!==null){for(m=b.child,M=wo(m,m.pendingProps),b.child=M,M.return=b;m.sibling!==null;)m=m.sibling,M=M.sibling=wo(m,m.pendingProps),M.return=b;M.sibling=null}return b.child}function ff(m,b){return(m.lanes&b)!==0?!0:(m=m.dependencies,!!(m!==null&&Vm(m)))}function hh(m,b,M){switch(b.tag){case 3:Se(b,b.stateNode.containerInfo),qc(b,Pi,m.memoizedState.cache),Dm();break;case 27:case 5:je(b);break;case 4:Se(b,b.stateNode.containerInfo);break;case 10:qc(b,b.type,b.memoizedProps.value);break;case 13:var P=b.memoizedState;if(P!==null)return P.dehydrated!==null?(Xc(b),b.flags|=128,null):(M&b.child.childLanes)!==0?$b(m,b,M):(Xc(b),m=nl(m,b,M),m!==null?m.sibling:null);Xc(b);break;case 19:var G=(m.flags&128)!==0;if(P=(M&b.childLanes)!==0,P||(jm(m,b,M,!1),P=(M&b.childLanes)!==0),G){if(P)return gh(m,b,M);b.flags|=128}if(G=b.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),oe(Oi,Oi.current),P)break;return null;case 22:case 23:return b.lanes=0,uf(m,b,M);case 24:qc(b,Pi,m.memoizedState.cache)}return nl(m,b,M)}function vh(m,b,M){if(m!==null)if(m.memoizedProps!==b.pendingProps)Xi=!0;else{if(!ff(m,M)&&(b.flags&128)===0)return Xi=!1,hh(m,b,M);Xi=(m.flags&131072)!==0}else Xi=!1,Ta&&(b.flags&1048576)!==0&&dE(b,Jd,b.index);switch(b.lanes=0,b.tag){case 16:e:{m=b.pendingProps;var P=b.elementType,G=P._init;if(P=G(P._payload),b.type=P,typeof P=="function")Pm(P)?(m=Qc(P,m),b.tag=1,b=cp(null,b,P,m,M)):(b.tag=0,b=hs(null,b,P,m,M));else{if(P!=null){if(G=P.$$typeof,G===U){b.tag=11,b=Vb(null,b,P,m,M);break e}else if(G===z){b.tag=14,b=cf(null,b,P,m,M);break e}}throw b=X(P)||P,Error(r(306,b,""))}}return b;case 0:return hs(m,b,b.type,b.pendingProps,M);case 1:return P=b.type,G=Qc(P,b.pendingProps),cp(m,b,P,G,M);case 3:e:{if(Se(b,b.stateNode.containerInfo),m===null)throw Error(r(387));P=b.pendingProps;var Q=b.memoizedState;G=Q.element,Hm(m,b),Hu(b,P,null,M);var ve=b.memoizedState;if(P=ve.cache,qc(b,Pi,P),P!==Q.cache&&ub(b,[Pi],M,!0),Gm(),P=ve.element,Q.isDehydrated)if(Q={element:P,isDehydrated:!1,cache:ve.cache},b.updateQueue.baseState=Q,b.memoizedState=Q,b.flags&256){b=VE(m,b,P,M);break e}else if(P!==G){G=Ho(Error(r(424)),b),Qd(G),b=VE(m,b,P,M);break e}else{switch(m=b.stateNode.containerInfo,m.nodeType){case 9:m=m.body;break;default:m=m.nodeName==="HTML"?m.ownerDocument.body:m}for(hi=ol(m.firstChild),So=b,Ta=!0,Uu=null,Cl=!0,M=LE(b,null,P,M),b.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling}else{if(Dm(),P===G){b=nl(m,b,M);break e}aa(m,b,P,M)}b=b.child}return b;case 26:return df(m,b),m===null?(M=Xh(b.type,null,b.pendingProps,null))?b.memoizedState=M:Ta||(M=b.type,m=b.pendingProps,P=ad(_e.current).createElement(M),P[fn]=b,P[Gt]=m,co(P,M,m),nn(P),b.stateNode=P):b.memoizedState=Xh(b.type,m.memoizedProps,b.pendingProps,m.memoizedState),null;case 27:return je(b),m===null&&Ta&&(P=b.stateNode=IS(b.type,b.pendingProps,_e.current),So=b,Cl=!0,G=hi,Ol(b.type)?(ma=G,hi=ol(P.firstChild)):hi=G),aa(m,b,b.pendingProps.children,M),df(m,b),m===null&&(b.flags|=4194304),b.child;case 5:return m===null&&Ta&&((G=P=hi)&&(P=vx(P,b.type,b.pendingProps,Cl),P!==null?(b.stateNode=P,So=b,hi=ol(P.firstChild),Cl=!1,G=!0):G=!1),G||$t(b)),je(b),G=b.type,Q=b.pendingProps,ve=m!==null?m.memoizedProps:null,P=Q.children,vS(G,Q)?P=null:ve!==null&&vS(G,ve)&&(b.flags|=32),b.memoizedState!==null&&(G=Wg(m,b,vE,null,null,M),Np._currentValue=G),df(m,b),aa(m,b,P,M),b.child;case 6:return m===null&&Ta&&((m=M=hi)&&(M=Za(M,b.pendingProps,Cl),M!==null?(b.stateNode=M,So=b,hi=null,m=!0):m=!1),m||$t(b)),null;case 13:return $b(m,b,M);case 4:return Se(b,b.stateNode.containerInfo),P=b.pendingProps,m===null?b.child=Qu(b,null,P,M):aa(m,b,P,M),b.child;case 11:return Vb(m,b,b.type,b.pendingProps,M);case 7:return aa(m,b,b.pendingProps,M),b.child;case 8:return aa(m,b,b.pendingProps.children,M),b.child;case 12:return aa(m,b,b.pendingProps.children,M),b.child;case 10:return P=b.pendingProps,qc(b,b.type,P.value),aa(m,b,P.children,M),b.child;case 9:return G=b.type._context,P=b.pendingProps.children,Fu(b),G=qi(G),P=P(G),b.flags|=1,aa(m,b,P,M),b.child;case 14:return cf(m,b,b.type,b.pendingProps,M);case 15:return Ro(m,b,b.type,b.pendingProps,M);case 19:return gh(m,b,M);case 31:return P=b.pendingProps,M=b.mode,P={mode:P.mode,children:P.children},m===null?(M=mf(P,M),M.ref=b.ref,b.child=M,M.return=b,b=M):(M=wo(m.child,P),M.ref=b.ref,b.child=M,M.return=b,b=M),b;case 22:return uf(m,b,M);case 24:return Fu(b),P=qi(Pi),m===null?(G=zc(),G===null&&(G=qa,Q=ra(),G.pooledCache=Q,Q.refCount++,Q!==null&&(G.pooledCacheLanes|=M),G=Q),b.memoizedState={parent:P,cache:G},zg(b),qc(b,Pi,G)):((m.lanes&M)!==0&&(Hm(m,b),Hu(b,null,null,M),Gm()),G=m.memoizedState,Q=b.memoizedState,G.parent!==P?(G={parent:P,cache:P},b.memoizedState=G,b.lanes===0&&(b.memoizedState=b.updateQueue.baseState=G),qc(b,Pi,P)):(P=Q.cache,qc(b,Pi,P),P!==G.cache&&ub(b,[Pi],M,!0))),aa(m,b,b.pendingProps.children,M),b.child;case 29:throw b.pendingProps}throw Error(r(156,b.tag))}function xl(m){m.flags|=4}function Fb(m,b){if(b.type!=="stylesheet"||(b.state.loading&4)!==0)m.flags&=-16777217;else if(m.flags|=16777216,!uC(b)){if(b=lr.current,b!==null&&((ha&4194048)===ha?el!==null:(ha&62914560)!==ha&&(ha&536870912)===0||b!==el))throw zm=fb,mb;m.flags|=8192}}function gf(m,b){b!==null&&(m.flags|=4),m.flags&16384&&(b=m.tag!==22?Qn():536870912,m.lanes|=b,gp|=b)}function dp(m,b){if(!Ta)switch(m.tailMode){case"hidden":b=m.tail;for(var M=null;b!==null;)b.alternate!==null&&(M=b),b=b.sibling;M===null?m.tail=null:M.sibling=null;break;case"collapsed":M=m.tail;for(var P=null;M!==null;)M.alternate!==null&&(P=M),M=M.sibling;P===null?b||m.tail===null?m.tail=null:m.tail.sibling=null:P.sibling=null}}function li(m){var b=m.alternate!==null&&m.alternate.child===m.child,M=0,P=0;if(b)for(var G=m.child;G!==null;)M|=G.lanes|G.childLanes,P|=G.subtreeFlags&65011712,P|=G.flags&65011712,G.return=m,G=G.sibling;else for(G=m.child;G!==null;)M|=G.lanes|G.childLanes,P|=G.subtreeFlags,P|=G.flags,G.return=m,G=G.sibling;return m.subtreeFlags|=P,m.childLanes=M,b}function qb(m,b,M){var P=b.pendingProps;switch(Dg(b),b.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return li(b),null;case 1:return li(b),null;case 3:return M=b.stateNode,P=null,m!==null&&(P=m.memoizedState.cache),b.memoizedState.cache!==P&&(b.flags|=2048),tc(Pi),De(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(m===null||m.child===null)&&(ec(b)?xl(b):m===null||m.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,mE())),li(b),null;case 26:return M=b.memoizedState,m===null?(xl(b),M!==null?(li(b),Fb(b,M)):(li(b),b.flags&=-16777217)):M?M!==m.memoizedState?(xl(b),li(b),Fb(b,M)):(li(b),b.flags&=-16777217):(m.memoizedProps!==P&&xl(b),li(b),b.flags&=-16777217),null;case 27:ke(b),M=_e.current;var G=b.type;if(m!==null&&b.stateNode!=null)m.memoizedProps!==P&&xl(b);else{if(!P){if(b.stateNode===null)throw Error(r(166));return li(b),null}m=pe.current,ec(b)?Nr(b):(m=IS(G,P,M),b.stateNode=m,xl(b))}return li(b),null;case 5:if(ke(b),M=b.type,m!==null&&b.stateNode!=null)m.memoizedProps!==P&&xl(b);else{if(!P){if(b.stateNode===null)throw Error(r(166));return li(b),null}if(m=pe.current,ec(b))Nr(b);else{switch(G=ad(_e.current),m){case 1:m=G.createElementNS("http://www.w3.org/2000/svg",M);break;case 2:m=G.createElementNS("http://www.w3.org/1998/Math/MathML",M);break;default:switch(M){case"svg":m=G.createElementNS("http://www.w3.org/2000/svg",M);break;case"math":m=G.createElementNS("http://www.w3.org/1998/Math/MathML",M);break;case"script":m=G.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof P.is=="string"?G.createElement("select",{is:P.is}):G.createElement("select"),P.multiple?m.multiple=!0:P.size&&(m.size=P.size);break;default:m=typeof P.is=="string"?G.createElement(M,{is:P.is}):G.createElement(M)}}m[fn]=b,m[Gt]=P;e:for(G=b.child;G!==null;){if(G.tag===5||G.tag===6)m.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===b)break e;for(;G.sibling===null;){if(G.return===null||G.return===b)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}b.stateNode=m;e:switch(co(m,M,P),M){case"button":case"input":case"select":case"textarea":m=!!P.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&xl(b)}}return li(b),b.flags&=-16777217,null;case 6:if(m&&b.stateNode!=null)m.memoizedProps!==P&&xl(b);else{if(typeof P!="string"&&b.stateNode===null)throw Error(r(166));if(m=_e.current,ec(b)){if(m=b.stateNode,M=b.memoizedProps,P=null,G=So,G!==null)switch(G.tag){case 27:case 5:P=G.memoizedProps}m[fn]=b,m=!!(m.nodeValue===M||P!==null&&P.suppressHydrationWarning===!0||Gh(m.nodeValue,M)),m||$t(b)}else m=ad(m).createTextNode(P),m[fn]=b,b.stateNode=m}return li(b),null;case 13:if(P=b.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(G=ec(b),P!==null&&P.dehydrated!==null){if(m===null){if(!G)throw Error(r(318));if(G=b.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(r(317));G[fn]=b}else Dm(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;li(b),G=!1}else G=mE(),m!==null&&m.memoizedState!==null&&(m.memoizedState.hydrationErrors=G),G=!0;if(!G)return b.flags&256?(ic(b),b):(ic(b),null)}if(ic(b),(b.flags&128)!==0)return b.lanes=M,b;if(M=P!==null,m=m!==null&&m.memoizedState!==null,M){P=b.child,G=null,P.alternate!==null&&P.alternate.memoizedState!==null&&P.alternate.memoizedState.cachePool!==null&&(G=P.alternate.memoizedState.cachePool.pool);var Q=null;P.memoizedState!==null&&P.memoizedState.cachePool!==null&&(Q=P.memoizedState.cachePool.pool),Q!==G&&(P.flags|=2048)}return M!==m&&M&&(b.child.flags|=8192),gf(b,b.updateQueue),li(b),null;case 4:return De(),m===null&&xf(b.stateNode.containerInfo),li(b),null;case 10:return tc(b.type),li(b),null;case 19:if(be(Oi),G=b.memoizedState,G===null)return li(b),null;if(P=(b.flags&128)!==0,Q=G.rendering,Q===null)if(P)dp(G,!1);else{if(ui!==0||m!==null&&(m.flags&128)!==0)for(m=b.child;m!==null;){if(Q=Bn(m),Q!==null){for(b.flags|=128,dp(G,!1),m=Q.updateQueue,b.updateQueue=m,gf(b,m),b.subtreeFlags=0,m=M,M=b.child;M!==null;)uE(M,m),M=M.sibling;return oe(Oi,Oi.current&1|2),b.child}m=m.sibling}G.tail!==null&&nt()>Th&&(b.flags|=128,P=!0,dp(G,!1),b.lanes=4194304)}else{if(!P)if(m=Bn(Q),m!==null){if(b.flags|=128,P=!0,m=m.updateQueue,b.updateQueue=m,gf(b,m),dp(G,!0),G.tail===null&&G.tailMode==="hidden"&&!Q.alternate&&!Ta)return li(b),null}else 2*nt()-G.renderingStartTime>Th&&M!==536870912&&(b.flags|=128,P=!0,dp(G,!1),b.lanes=4194304);G.isBackwards?(Q.sibling=b.child,b.child=Q):(m=G.last,m!==null?m.sibling=Q:b.child=Q,G.last=Q)}return G.tail!==null?(b=G.tail,G.rendering=b,G.tail=b.sibling,G.renderingStartTime=nt(),b.sibling=null,m=Oi.current,oe(Oi,P?m&1|2:m&1),b):(li(b),null);case 22:case 23:return ic(b),Gu(),P=b.memoizedState!==null,m!==null?m.memoizedState!==null!==P&&(b.flags|=8192):P&&(b.flags|=8192),P?(M&536870912)!==0&&(b.flags&128)===0&&(li(b),b.subtreeFlags&6&&(b.flags|=8192)):li(b),M=b.updateQueue,M!==null&&gf(b,M.retryQueue),M=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(M=m.memoizedState.cachePool.pool),P=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(P=b.memoizedState.cachePool.pool),P!==M&&(b.flags|=2048),m!==null&&be(Zs),null;case 24:return M=null,m!==null&&(M=m.memoizedState.cache),b.memoizedState.cache!==M&&(b.flags|=2048),tc(Pi),li(b),null;case 25:return null;case 30:return null}throw Error(r(156,b.tag))}function dx(m,b){switch(Dg(b),b.tag){case 1:return m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 3:return tc(Pi),De(),m=b.flags,(m&65536)!==0&&(m&128)===0?(b.flags=m&-65537|128,b):null;case 26:case 27:case 5:return ke(b),null;case 13:if(ic(b),m=b.memoizedState,m!==null&&m.dehydrated!==null){if(b.alternate===null)throw Error(r(340));Dm()}return m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 19:return be(Oi),null;case 4:return De(),null;case 10:return tc(b.type),null;case 22:case 23:return ic(b),Gu(),m!==null&&be(Zs),m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 24:return tc(Pi),null;case 25:return null;default:return null}}function zb(m,b){switch(Dg(b),b.tag){case 3:tc(Pi),De();break;case 26:case 27:case 5:ke(b);break;case 4:De();break;case 13:ic(b);break;case 19:be(Oi);break;case 10:tc(b.type);break;case 22:case 23:ic(b),Gu(),m!==null&&be(Zs);break;case 24:tc(Pi)}}function hf(m,b){try{var M=b.updateQueue,P=M!==null?M.lastEffect:null;if(P!==null){var G=P.next;M=G;do{if((M.tag&m)===m){P=void 0;var Q=M.create,ve=M.inst;P=Q(),ve.destroy=P}M=M.next}while(M!==G)}}catch(Re){Da(b,b.return,Re)}}function tu(m,b,M){try{var P=b.updateQueue,G=P!==null?P.lastEffect:null;if(G!==null){var Q=G.next;P=Q;do{if((P.tag&m)===m){var ve=P.inst,Re=ve.destroy;if(Re!==void 0){ve.destroy=void 0,G=b;var tt=M,It=Re;try{It()}catch(zt){Da(G,tt,zt)}}}P=P.next}while(P!==Q)}}catch(zt){Da(b,b.return,zt)}}function Ma(m){var b=m.updateQueue;if(b!==null){var M=m.stateNode;try{hE(b,M)}catch(P){Da(m,m.return,P)}}}function $E(m,b,M){M.props=Qc(m.type,m.memoizedProps),M.state=m.memoizedState;try{M.componentWillUnmount()}catch(P){Da(m,b,P)}}function Ao(m,b){try{var M=m.ref;if(M!==null){switch(m.tag){case 26:case 27:case 5:var P=m.stateNode;break;case 30:P=m.stateNode;break;default:P=m.stateNode}typeof M=="function"?m.refCleanup=M(P):M.current=P}}catch(G){Da(m,b,G)}}function wl(m,b){var M=m.ref,P=m.refCleanup;if(M!==null)if(typeof P=="function")try{P()}catch(G){Da(m,b,G)}finally{m.refCleanup=null,m=m.alternate,m!=null&&(m.refCleanup=null)}else if(typeof M=="function")try{M(null)}catch(G){Da(m,b,G)}else M.current=null}function Hb(m){var b=m.type,M=m.memoizedProps,P=m.stateNode;try{e:switch(b){case"button":case"input":case"select":case"textarea":M.autoFocus&&P.focus();break e;case"img":M.src?P.src=M.src:M.srcSet&&(P.srcset=M.srcSet)}}catch(G){Da(m,m.return,G)}}function Gb(m,b,M){try{var P=m.stateNode;hS(P,m.type,M,b),P[Gt]=b}catch(G){Da(m,m.return,G)}}function yh(m){return m.tag===5||m.tag===3||m.tag===26||m.tag===27&&Ol(m.type)||m.tag===4}function js(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||yh(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.tag===27&&Ol(m.type)||m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function Kb(m,b,M){var P=m.tag;if(P===5||P===6)m=m.stateNode,b?(M.nodeType===9?M.body:M.nodeName==="HTML"?M.ownerDocument.body:M).insertBefore(m,b):(b=M.nodeType===9?M.body:M.nodeName==="HTML"?M.ownerDocument.body:M,b.appendChild(m),M=M._reactRootContainer,M!=null||b.onclick!==null||(b.onclick=Tp));else if(P!==4&&(P===27&&Ol(m.type)&&(M=m.stateNode,b=null),m=m.child,m!==null))for(Kb(m,b,M),m=m.sibling;m!==null;)Kb(m,b,M),m=m.sibling}function bh(m,b,M){var P=m.tag;if(P===5||P===6)m=m.stateNode,b?M.insertBefore(m,b):M.appendChild(m);else if(P!==4&&(P===27&&Ol(m.type)&&(M=m.stateNode),m=m.child,m!==null))for(bh(m,b,M),m=m.sibling;m!==null;)bh(m,b,M),m=m.sibling}function Sh(m){var b=m.stateNode,M=m.memoizedProps;try{for(var P=m.type,G=b.attributes;G.length;)b.removeAttributeNode(G[0]);co(b,P,M),b[fn]=m,b[Gt]=M}catch(Q){Da(m,m.return,Q)}}var oc=!1,ki=!1,vf=!1,zn=typeof WeakSet=="function"?WeakSet:Set,Di=null;function px(m,b){if(m=m.containerInfo,ja=hc,m=Xy(m),Om(m)){if("selectionStart"in m)var M={start:m.selectionStart,end:m.selectionEnd};else e:{M=(M=m.ownerDocument)&&M.defaultView||window;var P=M.getSelection&&M.getSelection();if(P&&P.rangeCount!==0){M=P.anchorNode;var G=P.anchorOffset,Q=P.focusNode;P=P.focusOffset;try{M.nodeType,Q.nodeType}catch{M=null;break e}var ve=0,Re=-1,tt=-1,It=0,zt=0,Yt=m,Et=null;t:for(;;){for(var Nt;Yt!==M||G!==0&&Yt.nodeType!==3||(Re=ve+G),Yt!==Q||P!==0&&Yt.nodeType!==3||(tt=ve+P),Yt.nodeType===3&&(ve+=Yt.nodeValue.length),(Nt=Yt.firstChild)!==null;)Et=Yt,Yt=Nt;for(;;){if(Yt===m)break t;if(Et===M&&++It===G&&(Re=ve),Et===Q&&++zt===P&&(tt=ve),(Nt=Yt.nextSibling)!==null)break;Yt=Et,Et=Yt.parentNode}Yt=Nt}M=Re===-1||tt===-1?null:{start:Re,end:tt}}else M=null}M=M||{start:0,end:0}}else M=null;for(Rf={focusedElem:m,selectionRange:M},hc=!1,Di=b;Di!==null;)if(b=Di,m=b.child,(b.subtreeFlags&1024)!==0&&m!==null)m.return=b,Di=m;else for(;Di!==null;){switch(b=Di,Q=b.alternate,m=b.flags,b.tag){case 0:break;case 11:case 15:break;case 1:if((m&1024)!==0&&Q!==null){m=void 0,M=b,G=Q.memoizedProps,Q=Q.memoizedState,P=M.stateNode;try{var kr=Qc(M.type,G,M.elementType===M.type);m=P.getSnapshotBeforeUpdate(kr,Q),P.__reactInternalSnapshotBeforeUpdate=m}catch(Mr){Da(M,M.return,Mr)}}break;case 3:if((m&1024)!==0){if(m=b.stateNode.containerInfo,M=m.nodeType,M===9)ge(m);else if(M===1)switch(m.nodeName){case"HEAD":case"HTML":case"BODY":ge(m);break;default:m.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(r(163))}if(m=b.sibling,m!==null){m.return=b.return,Di=m;break}Di=b.return}}function UE(m,b,M){var P=M.flags;switch(M.tag){case 0:case 11:case 15:nu(m,M),P&4&&hf(5,M);break;case 1:if(nu(m,M),P&4)if(m=M.stateNode,b===null)try{m.componentDidMount()}catch(ve){Da(M,M.return,ve)}else{var G=Qc(M.type,b.memoizedProps);b=b.memoizedState;try{m.componentDidUpdate(G,b,m.__reactInternalSnapshotBeforeUpdate)}catch(ve){Da(M,M.return,ve)}}P&64&&Ma(M),P&512&&Ao(M,M.return);break;case 3:if(nu(m,M),P&64&&(m=M.updateQueue,m!==null)){if(b=null,M.child!==null)switch(M.child.tag){case 27:case 5:b=M.child.stateNode;break;case 1:b=M.child.stateNode}try{hE(m,b)}catch(ve){Da(M,M.return,ve)}}break;case 27:b===null&&P&4&&Sh(M);case 26:case 5:nu(m,M),b===null&&P&4&&Hb(M),P&512&&Ao(M,M.return);break;case 12:nu(m,M);break;case 13:nu(m,M),P&4&&FE(m,M),P&64&&(m=M.memoizedState,m!==null&&(m=m.dehydrated,m!==null&&(M=aS.bind(null,M),iC(m,M))));break;case 22:if(P=M.memoizedState!==null||oc,!P){b=b!==null&&b.memoizedState!==null||ki,G=oc;var Q=ki;oc=P,(ki=b)&&!Q?Nl(m,M,(M.subtreeFlags&8772)!==0):nu(m,M),oc=G,ki=Q}break;case 30:break;default:nu(m,M)}}function Wb(m){var b=m.alternate;b!==null&&(m.alternate=null,Wb(b)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(b=m.stateNode,b!==null&&On(b)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}var ci=null,Io=!1;function Wo(m,b,M){for(M=M.child;M!==null;)BE(m,b,M),M=M.sibling}function BE(m,b,M){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(jt,M)}catch{}switch(M.tag){case 26:ki||wl(M,b),Wo(m,b,M),M.memoizedState?M.memoizedState.count--:M.stateNode&&(M=M.stateNode,M.parentNode.removeChild(M));break;case 27:ki||wl(M,b);var P=ci,G=Io;Ol(M.type)&&(ci=M.stateNode,Io=!1),Wo(m,b,M),Mp(M.stateNode),ci=P,Io=G;break;case 5:ki||wl(M,b);case 6:if(P=ci,G=Io,ci=null,Wo(m,b,M),ci=P,Io=G,ci!==null)if(Io)try{(ci.nodeType===9?ci.body:ci.nodeName==="HTML"?ci.ownerDocument.body:ci).removeChild(M.stateNode)}catch(Q){Da(M,b,Q)}else try{ci.removeChild(M.stateNode)}catch(Q){Da(M,b,Q)}break;case 18:ci!==null&&(Io?(m=ci,bS(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,M.stateNode),Dp(m)):bS(ci,M.stateNode));break;case 4:P=ci,G=Io,ci=M.stateNode.containerInfo,Io=!0,Wo(m,b,M),ci=P,Io=G;break;case 0:case 11:case 14:case 15:ki||tu(2,M,b),ki||tu(4,M,b),Wo(m,b,M);break;case 1:ki||(wl(M,b),P=M.stateNode,typeof P.componentWillUnmount=="function"&&$E(M,b,P)),Wo(m,b,M);break;case 21:Wo(m,b,M);break;case 22:ki=(P=ki)||M.memoizedState!==null,Wo(m,b,M),ki=P;break;default:Wo(m,b,M)}}function FE(m,b){if(b.memoizedState===null&&(m=b.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null))))try{Dp(m)}catch(M){Da(b,b.return,M)}}function mx(m){switch(m.tag){case 13:case 19:var b=m.stateNode;return b===null&&(b=m.stateNode=new zn),b;case 22:return m=m.stateNode,b=m._retryCache,b===null&&(b=m._retryCache=new zn),b;default:throw Error(r(435,m.tag))}}function Yb(m,b){var M=mx(m);b.forEach(function(P){var G=iS.bind(null,m,P);M.has(P)||(M.add(P),P.then(G,G))})}function vs(m,b){var M=b.deletions;if(M!==null)for(var P=0;P<M.length;P++){var G=M[P],Q=m,ve=b,Re=ve;e:for(;Re!==null;){switch(Re.tag){case 27:if(Ol(Re.type)){ci=Re.stateNode,Io=!1;break e}break;case 5:ci=Re.stateNode,Io=!1;break e;case 3:case 4:ci=Re.stateNode.containerInfo,Io=!0;break e}Re=Re.return}if(ci===null)throw Error(r(160));BE(Q,ve,G),ci=null,Io=!1,Q=G.alternate,Q!==null&&(Q.return=null),G.return=null}if(b.subtreeFlags&13878)for(b=b.child;b!==null;)qE(b,m),b=b.sibling}var Vs=null;function qE(m,b){var M=m.alternate,P=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:vs(b,m),Yo(m),P&4&&(tu(3,m,m.return),hf(3,m),tu(5,m,m.return));break;case 1:vs(b,m),Yo(m),P&512&&(ki||M===null||wl(M,M.return)),P&64&&oc&&(m=m.updateQueue,m!==null&&(P=m.callbacks,P!==null&&(M=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=M===null?P:M.concat(P))));break;case 26:var G=Vs;if(vs(b,m),Yo(m),P&512&&(ki||M===null||wl(M,M.return)),P&4){var Q=M!==null?M.memoizedState:null;if(P=m.memoizedState,M===null)if(P===null)if(m.stateNode===null){e:{P=m.type,M=m.memoizedProps,G=G.ownerDocument||G;t:switch(P){case"title":Q=G.getElementsByTagName("title")[0],(!Q||Q[An]||Q[fn]||Q.namespaceURI==="http://www.w3.org/2000/svg"||Q.hasAttribute("itemprop"))&&(Q=G.createElement(P),G.head.insertBefore(Q,G.querySelector("head > title"))),co(Q,P,M),Q[fn]=m,nn(Q),P=Q;break e;case"link":var ve=lC("link","href",G).get(P+(M.href||""));if(ve){for(var Re=0;Re<ve.length;Re++)if(Q=ve[Re],Q.getAttribute("href")===(M.href==null||M.href===""?null:M.href)&&Q.getAttribute("rel")===(M.rel==null?null:M.rel)&&Q.getAttribute("title")===(M.title==null?null:M.title)&&Q.getAttribute("crossorigin")===(M.crossOrigin==null?null:M.crossOrigin)){ve.splice(Re,1);break t}}Q=G.createElement(P),co(Q,P,M),G.head.appendChild(Q);break;case"meta":if(ve=lC("meta","content",G).get(P+(M.content||""))){for(Re=0;Re<ve.length;Re++)if(Q=ve[Re],Q.getAttribute("content")===(M.content==null?null:""+M.content)&&Q.getAttribute("name")===(M.name==null?null:M.name)&&Q.getAttribute("property")===(M.property==null?null:M.property)&&Q.getAttribute("http-equiv")===(M.httpEquiv==null?null:M.httpEquiv)&&Q.getAttribute("charset")===(M.charSet==null?null:M.charSet)){ve.splice(Re,1);break t}}Q=G.createElement(P),co(Q,P,M),G.head.appendChild(Q);break;default:throw Error(r(468,P))}Q[fn]=m,nn(Q),P=Q}m.stateNode=P}else cC(G,m.type,m.stateNode);else m.stateNode=sd(G,P,m.memoizedProps);else Q!==P?(Q===null?M.stateNode!==null&&(M=M.stateNode,M.parentNode.removeChild(M)):Q.count--,P===null?cC(G,m.type,m.stateNode):sd(G,P,m.memoizedProps)):P===null&&m.stateNode!==null&&Gb(m,m.memoizedProps,M.memoizedProps)}break;case 27:vs(b,m),Yo(m),P&512&&(ki||M===null||wl(M,M.return)),M!==null&&P&4&&Gb(m,m.memoizedProps,M.memoizedProps);break;case 5:if(vs(b,m),Yo(m),P&512&&(ki||M===null||wl(M,M.return)),m.flags&32){G=m.stateNode;try{Wa(G,"")}catch(Nt){Da(m,m.return,Nt)}}P&4&&m.stateNode!=null&&(G=m.memoizedProps,Gb(m,G,M!==null?M.memoizedProps:G)),P&1024&&(vf=!0);break;case 6:if(vs(b,m),Yo(m),P&4){if(m.stateNode===null)throw Error(r(162));P=m.memoizedProps,M=m.stateNode;try{M.nodeValue=P}catch(Nt){Da(m,m.return,Nt)}}break;case 3:if(Qh=null,G=Vs,Vs=Wh(b.containerInfo),vs(b,m),Vs=G,Yo(m),P&4&&M!==null&&M.memoizedState.isDehydrated)try{Dp(b.containerInfo)}catch(Nt){Da(m,m.return,Nt)}vf&&(vf=!1,zE(m));break;case 4:P=Vs,Vs=Wh(m.stateNode.containerInfo),vs(b,m),Yo(m),Vs=P;break;case 12:vs(b,m),Yo(m);break;case 13:vs(b,m),Yo(m),m.child.flags&8192&&m.memoizedState!==null!=(M!==null&&M.memoizedState!==null)&&(Zb=nt()),P&4&&(P=m.updateQueue,P!==null&&(m.updateQueue=null,Yb(m,P)));break;case 22:G=m.memoizedState!==null;var tt=M!==null&&M.memoizedState!==null,It=oc,zt=ki;if(oc=It||G,ki=zt||tt,vs(b,m),ki=zt,oc=It,Yo(m),P&8192)e:for(b=m.stateNode,b._visibility=G?b._visibility&-2:b._visibility|1,G&&(M===null||tt||oc||ki||sc(m)),M=null,b=m;;){if(b.tag===5||b.tag===26){if(M===null){tt=M=b;try{if(Q=tt.stateNode,G)ve=Q.style,typeof ve.setProperty=="function"?ve.setProperty("display","none","important"):ve.display="none";else{Re=tt.stateNode;var Yt=tt.memoizedProps.style,Et=Yt!=null&&Yt.hasOwnProperty("display")?Yt.display:null;Re.style.display=Et==null||typeof Et=="boolean"?"":(""+Et).trim()}}catch(Nt){Da(tt,tt.return,Nt)}}}else if(b.tag===6){if(M===null){tt=b;try{tt.stateNode.nodeValue=G?"":tt.memoizedProps}catch(Nt){Da(tt,tt.return,Nt)}}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===m)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break e;for(;b.sibling===null;){if(b.return===null||b.return===m)break e;M===b&&(M=null),b=b.return}M===b&&(M=null),b.sibling.return=b.return,b=b.sibling}P&4&&(P=m.updateQueue,P!==null&&(M=P.retryQueue,M!==null&&(P.retryQueue=null,Yb(m,M))));break;case 19:vs(b,m),Yo(m),P&4&&(P=m.updateQueue,P!==null&&(m.updateQueue=null,Yb(m,P)));break;case 30:break;case 21:break;default:vs(b,m),Yo(m)}}function Yo(m){var b=m.flags;if(b&2){try{for(var M,P=m.return;P!==null;){if(yh(P)){M=P;break}P=P.return}if(M==null)throw Error(r(160));switch(M.tag){case 27:var G=M.stateNode,Q=js(m);bh(m,Q,G);break;case 5:var ve=M.stateNode;M.flags&32&&(Wa(ve,""),M.flags&=-33);var Re=js(m);bh(m,Re,ve);break;case 3:case 4:var tt=M.stateNode.containerInfo,It=js(m);Kb(m,It,tt);break;default:throw Error(r(161))}}catch(zt){Da(m,m.return,zt)}m.flags&=-3}b&4096&&(m.flags&=-4097)}function zE(m){if(m.subtreeFlags&1024)for(m=m.child;m!==null;){var b=m;zE(b),b.tag===5&&b.flags&1024&&b.stateNode.reset(),m=m.sibling}}function nu(m,b){if(b.subtreeFlags&8772)for(b=b.child;b!==null;)UE(m,b.alternate,b),b=b.sibling}function sc(m){for(m=m.child;m!==null;){var b=m;switch(b.tag){case 0:case 11:case 14:case 15:tu(4,b,b.return),sc(b);break;case 1:wl(b,b.return);var M=b.stateNode;typeof M.componentWillUnmount=="function"&&$E(b,b.return,M),sc(b);break;case 27:Mp(b.stateNode);case 26:case 5:wl(b,b.return),sc(b);break;case 22:b.memoizedState===null&&sc(b);break;case 30:sc(b);break;default:sc(b)}m=m.sibling}}function Nl(m,b,M){for(M=M&&(b.subtreeFlags&8772)!==0,b=b.child;b!==null;){var P=b.alternate,G=m,Q=b,ve=Q.flags;switch(Q.tag){case 0:case 11:case 15:Nl(G,Q,M),hf(4,Q);break;case 1:if(Nl(G,Q,M),P=Q,G=P.stateNode,typeof G.componentDidMount=="function")try{G.componentDidMount()}catch(It){Da(P,P.return,It)}if(P=Q,G=P.updateQueue,G!==null){var Re=P.stateNode;try{var tt=G.shared.hiddenCallbacks;if(tt!==null)for(G.shared.hiddenCallbacks=null,G=0;G<tt.length;G++)tp(tt[G],Re)}catch(It){Da(P,P.return,It)}}M&&ve&64&&Ma(Q),Ao(Q,Q.return);break;case 27:Sh(Q);case 26:case 5:Nl(G,Q,M),M&&P===null&&ve&4&&Hb(Q),Ao(Q,Q.return);break;case 12:Nl(G,Q,M);break;case 13:Nl(G,Q,M),M&&ve&4&&FE(G,Q);break;case 22:Q.memoizedState===null&&Nl(G,Q,M),Ao(Q,Q.return);break;case 30:break;default:Nl(G,Q,M)}b=b.sibling}}function or(m,b){var M=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(M=m.memoizedState.cachePool.pool),m=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(m=b.memoizedState.cachePool.pool),m!==M&&(m!=null&&m.refCount++,M!=null&&$m(M))}function Xb(m,b){m=null,b.alternate!==null&&(m=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==m&&(b.refCount++,m!=null&&$m(m))}function Rl(m,b,M,P){if(b.subtreeFlags&10256)for(b=b.child;b!==null;)HE(m,b,M,P),b=b.sibling}function HE(m,b,M,P){var G=b.flags;switch(b.tag){case 0:case 11:case 15:Rl(m,b,M,P),G&2048&&hf(9,b);break;case 1:Rl(m,b,M,P);break;case 3:Rl(m,b,M,P),G&2048&&(m=null,b.alternate!==null&&(m=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==m&&(b.refCount++,m!=null&&$m(m)));break;case 12:if(G&2048){Rl(m,b,M,P),m=b.stateNode;try{var Q=b.memoizedProps,ve=Q.id,Re=Q.onPostCommit;typeof Re=="function"&&Re(ve,b.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(tt){Da(b,b.return,tt)}}else Rl(m,b,M,P);break;case 13:Rl(m,b,M,P);break;case 23:break;case 22:Q=b.stateNode,ve=b.alternate,b.memoizedState!==null?Q._visibility&2?Rl(m,b,M,P):Qe(m,b):Q._visibility&2?Rl(m,b,M,P):(Q._visibility|=2,ru(m,b,M,P,(b.subtreeFlags&10256)!==0)),G&2048&&or(ve,b);break;case 24:Rl(m,b,M,P),G&2048&&Xb(b.alternate,b);break;default:Rl(m,b,M,P)}}function ru(m,b,M,P,G){for(G=G&&(b.subtreeFlags&10256)!==0,b=b.child;b!==null;){var Q=m,ve=b,Re=M,tt=P,It=ve.flags;switch(ve.tag){case 0:case 11:case 15:ru(Q,ve,Re,tt,G),hf(8,ve);break;case 23:break;case 22:var zt=ve.stateNode;ve.memoizedState!==null?zt._visibility&2?ru(Q,ve,Re,tt,G):Qe(Q,ve):(zt._visibility|=2,ru(Q,ve,Re,tt,G)),G&&It&2048&&or(ve.alternate,ve);break;case 24:ru(Q,ve,Re,tt,G),G&&It&2048&&Xb(ve.alternate,ve);break;default:ru(Q,ve,Re,tt,G)}b=b.sibling}}function Qe(m,b){if(b.subtreeFlags&10256)for(b=b.child;b!==null;){var M=m,P=b,G=P.flags;switch(P.tag){case 22:Qe(M,P),G&2048&&or(P.alternate,P);break;case 24:Qe(M,P),G&2048&&Xb(P.alternate,P);break;default:Qe(M,P)}b=b.sibling}}var yf=8192;function pp(m){if(m.subtreeFlags&yf)for(m=m.child;m!==null;)GE(m),m=m.sibling}function GE(m){switch(m.tag){case 26:pp(m),m.flags&yf&&m.memoizedState!==null&&TS(Vs,m.memoizedState,m.memoizedProps);break;case 5:pp(m);break;case 3:case 4:var b=Vs;Vs=Wh(m.stateNode.containerInfo),pp(m),Vs=b;break;case 22:m.memoizedState===null&&(b=m.alternate,b!==null&&b.memoizedState!==null?(b=yf,yf=16777216,pp(m),yf=b):pp(m));break;default:pp(m)}}function Ih(m){var b=m.alternate;if(b!==null&&(m=b.child,m!==null)){b.child=null;do b=m.sibling,m.sibling=null,m=b;while(m!==null)}}function Tn(m){var b=m.deletions;if((m.flags&16)!==0){if(b!==null)for(var M=0;M<b.length;M++){var P=b[M];Di=P,Ch(P,m)}Ih(m)}if(m.subtreeFlags&10256)for(m=m.child;m!==null;)KE(m),m=m.sibling}function KE(m){switch(m.tag){case 0:case 11:case 15:Tn(m),m.flags&2048&&tu(9,m,m.return);break;case 3:Tn(m);break;case 12:Tn(m);break;case 22:var b=m.stateNode;m.memoizedState!==null&&b._visibility&2&&(m.return===null||m.return.tag!==13)?(b._visibility&=-3,Eh(m)):Tn(m);break;default:Tn(m)}}function Eh(m){var b=m.deletions;if((m.flags&16)!==0){if(b!==null)for(var M=0;M<b.length;M++){var P=b[M];Di=P,Ch(P,m)}Ih(m)}for(m=m.child;m!==null;){switch(b=m,b.tag){case 0:case 11:case 15:tu(8,b,b.return),Eh(b);break;case 22:M=b.stateNode,M._visibility&2&&(M._visibility&=-3,Eh(b));break;default:Eh(b)}m=m.sibling}}function Ch(m,b){for(;Di!==null;){var M=Di;switch(M.tag){case 0:case 11:case 15:tu(8,M,b);break;case 23:case 22:if(M.memoizedState!==null&&M.memoizedState.cachePool!==null){var P=M.memoizedState.cachePool.pool;P!=null&&P.refCount++}break;case 24:$m(M.memoizedState.cache)}if(P=M.child,P!==null)P.return=M,Di=P;else e:for(M=m;Di!==null;){P=Di;var G=P.sibling,Q=P.return;if(Wb(P),P===M){Di=null;break e}if(G!==null){G.return=Q,Di=G;break e}Di=Q}}}var fx={getCacheForType:function(m){var b=qi(Pi),M=b.data.get(m);return M===void 0&&(M=m(),b.data.set(m,M)),M}},Xo=typeof WeakMap=="function"?WeakMap:Map,La=0,qa=null,ia=null,ha=0,Pa=0,Oo=null,dr=!1,mp=!1,Jb=!1,lc=0,ui=0,rl=0,au=0,fp=0,Jo=0,gp=0,hp=null,Qo=null,Qb=!1,Zb=0,Th=1/0,bf=null,cc=null,lo=0,uc=null,Zu=null,iu=0,Mh=0,eS=null,tS=null,vp=0,_h=null;function Zo(){if((La&2)!==0&&ha!==0)return ha&-ha;if(ee.T!==null){var m=Zd;return m!==0?m:Cf()}return Sn()}function al(){Jo===0&&(Jo=(ha&536870912)===0||Ta?bn():536870912);var m=lr.current;return m!==null&&(m.flags|=32),Jo}function ys(m,b,M){(m===qa&&(Pa===2||Pa===9)||m.cancelPendingCommit!==null)&&(yp(m,0),dc(m,ha,Jo,!1)),tn(m,M),((La&2)===0||m!==qa)&&(m===qa&&((La&2)===0&&(au|=M),ui===4&&dc(m,ha,Jo,!1)),$s(m))}function WE(m,b,M){if((La&6)!==0)throw Error(r(327));var P=!M&&(b&124)===0&&(b&m.expiredLanes)===0||gt(m,b),G=P?pc(m,b):Nh(m,b,!0),Q=P;do{if(G===0){mp&&!P&&dc(m,b,0,!1);break}else{if(M=m.current.alternate,Q&&!gx(M)){G=Nh(m,b,!1),Q=!1;continue}if(G===2){if(Q=b,m.errorRecoveryDisabledLanes&Q)var ve=0;else ve=m.pendingLanes&-536870913,ve=ve!==0?ve:ve&536870912?536870912:0;if(ve!==0){b=ve;e:{var Re=m;G=hp;var tt=Re.current.memoizedState.isDehydrated;if(tt&&(yp(Re,ve).flags|=256),ve=Nh(Re,ve,!1),ve!==2){if(Jb&&!tt){Re.errorRecoveryDisabledLanes|=Q,au|=Q,G=4;break e}Q=Qo,Qo=G,Q!==null&&(Qo===null?Qo=Q:Qo.push.apply(Qo,Q))}G=ve}if(Q=!1,G!==2)continue}}if(G===1){yp(m,0),dc(m,b,0,!0);break}e:{switch(P=m,Q=G,Q){case 0:case 1:throw Error(r(345));case 4:if((b&4194048)!==b)break;case 6:dc(P,b,Jo,!dr);break e;case 2:Qo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((b&62914560)===b&&(G=Zb+300-nt(),10<G)){if(dc(P,b,Jo,!dr),yt(P,0,!0)!==0)break e;P.timeoutHandle=il(YE.bind(null,P,M,Qo,bf,Qb,b,Jo,au,gp,dr,Q,2,-0,0),G);break e}YE(P,M,Qo,bf,Qb,b,Jo,au,gp,dr,Q,0,-0,0)}}break}while(!0);$s(m)}function YE(m,b,M,P,G,Q,ve,Re,tt,It,zt,Yt,Et,Nt){if(m.timeoutHandle=-1,Yt=b.subtreeFlags,(Yt&8192||(Yt&16785408)===16785408)&&(kf={stylesheets:null,count:0,unsuspend:Sx},GE(b),Yt=dC(),Yt!==null)){m.cancelPendingCommit=Yt(nC.bind(null,m,b,Q,M,P,G,ve,Re,tt,zt,1,Et,Nt)),dc(m,Q,ve,!It);return}nC(m,b,Q,M,P,G,ve,Re,tt)}function gx(m){for(var b=m;;){var M=b.tag;if((M===0||M===11||M===15)&&b.flags&16384&&(M=b.updateQueue,M!==null&&(M=M.stores,M!==null)))for(var P=0;P<M.length;P++){var G=M[P],Q=G.getSnapshot;G=G.value;try{if(!zo(Q(),G))return!1}catch{return!1}}if(M=b.child,b.subtreeFlags&16384&&M!==null)M.return=b,b=M;else{if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function dc(m,b,M,P){b&=~fp,b&=~au,m.suspendedLanes|=b,m.pingedLanes&=~b,P&&(m.warmLanes|=b),P=m.expirationTimes;for(var G=b;0<G;){var Q=31-wt(G),ve=1<<Q;P[Q]=-1,G&=~ve}M!==0&&Fn(m,M,b)}function Xa(){return(La&6)===0?(td(0),!1):!0}function nS(){if(ia!==null){if(Pa===0)var m=ia.return;else m=ia,Tl=Bu=null,Yc(m),sp=null,af=0,m=ia;for(;m!==null;)zb(m.alternate,m),m=m.return;ia=null}}function yp(m,b){var M=m.timeoutHandle;M!==-1&&(m.timeoutHandle=-1,yS(M)),M=m.cancelPendingCommit,M!==null&&(m.cancelPendingCommit=null,M()),nS(),qa=m,ia=M=wo(m.current,null),ha=b,Pa=0,Oo=null,dr=!1,mp=gt(m,b),Jb=!1,gp=Jo=fp=au=rl=ui=0,Qo=hp=null,Qb=!1,(b&8)!==0&&(b|=b&32);var P=m.entangledLanes;if(P!==0)for(m=m.entanglements,P&=b;0<P;){var G=31-wt(P),Q=1<<G;b|=m[G],P&=~Q}return lc=b,kg(),M}function xh(m,b){$r=null,ee.H=lh,b===Go||b===Fm?(b=Ds(),Pa=3):b===mb?(b=Ds(),Pa=4):Pa=b===mh?8:b!==null&&typeof b=="object"&&typeof b.then=="function"?6:1,Oo=b,ia===null&&(ui=1,ph(m,Ho(b,m.current)))}function XE(){var m=ee.H;return ee.H=lh,m===null?lh:m}function JE(){var m=ee.A;return ee.A=fx,m}function wh(){ui=4,dr||(ha&4194048)!==ha&&lr.current!==null||(mp=!0),(rl&134217727)===0&&(au&134217727)===0||qa===null||dc(qa,ha,Jo,!1)}function Nh(m,b,M){var P=La;La|=2;var G=XE(),Q=JE();(qa!==m||ha!==b)&&(bf=null,yp(m,b)),b=!1;var ve=ui;e:do try{if(Pa!==0&&ia!==null){var Re=ia,tt=Oo;switch(Pa){case 8:nS(),ve=6;break e;case 3:case 2:case 9:case 6:lr.current===null&&(b=!0);var It=Pa;if(Pa=0,Oo=null,ed(m,Re,tt,It),M&&mp){ve=0;break e}break;default:It=Pa,Pa=0,Oo=null,ed(m,Re,tt,It)}}QE(),ve=ui;break}catch(zt){xh(m,zt)}while(!0);return b&&m.shellSuspendCounter++,Tl=Bu=null,La=P,ee.H=G,ee.A=Q,ia===null&&(qa=null,ha=0,kg()),ve}function QE(){for(;ia!==null;)ZE(ia)}function pc(m,b){var M=La;La|=2;var P=XE(),G=JE();qa!==m||ha!==b?(bf=null,Th=nt()+500,yp(m,b)):mp=gt(m,b);e:do try{if(Pa!==0&&ia!==null){b=ia;var Q=Oo;t:switch(Pa){case 1:Pa=0,Oo=null,ed(m,b,Q,1);break;case 2:case 9:if(Fg(Q)){Pa=0,Oo=null,eC(b);break}b=function(){Pa!==2&&Pa!==9||qa!==m||(Pa=7),$s(m)},Q.then(b,b);break e;case 3:Pa=7;break e;case 4:Pa=5;break e;case 7:Fg(Q)?(Pa=0,Oo=null,eC(b)):(Pa=0,Oo=null,ed(m,b,Q,7));break;case 5:var ve=null;switch(ia.tag){case 26:ve=ia.memoizedState;case 5:case 27:var Re=ia;if(!ve||uC(ve)){Pa=0,Oo=null;var tt=Re.sibling;if(tt!==null)ia=tt;else{var It=Re.return;It!==null?(ia=It,Rh(It)):ia=null}break t}}Pa=0,Oo=null,ed(m,b,Q,5);break;case 6:Pa=0,Oo=null,ed(m,b,Q,6);break;case 8:nS(),ui=6;break e;default:throw Error(r(462))}}hx();break}catch(zt){xh(m,zt)}while(!0);return Tl=Bu=null,ee.H=P,ee.A=G,La=M,ia!==null?0:(qa=null,ha=0,kg(),ui)}function hx(){for(;ia!==null&&!Ke();)ZE(ia)}function ZE(m){var b=vh(m.alternate,m,lc);m.memoizedProps=m.pendingProps,b===null?Rh(m):ia=b}function eC(m){var b=m,M=b.alternate;switch(b.tag){case 15:case 0:b=eu(M,b,b.pendingProps,b.type,void 0,ha);break;case 11:b=eu(M,b,b.pendingProps,b.type.render,b.ref,ha);break;case 5:Yc(b);default:zb(M,b),b=ia=uE(b,lc),b=vh(M,b,lc)}m.memoizedProps=m.pendingProps,b===null?Rh(m):ia=b}function ed(m,b,M,P){Tl=Bu=null,Yc(b),sp=null,af=0;var G=b.return;try{if(jb(m,G,b,M,ha)){ui=1,ph(m,Ho(M,m.current)),ia=null;return}}catch(Q){if(G!==null)throw ia=G,Q;ui=1,ph(m,Ho(M,m.current)),ia=null;return}b.flags&32768?(Ta||P===1?m=!0:mp||(ha&536870912)!==0?m=!1:(dr=m=!0,(P===2||P===9||P===3||P===6)&&(P=lr.current,P!==null&&P.tag===13&&(P.flags|=16384))),tC(b,m)):Rh(b)}function Rh(m){var b=m;do{if((b.flags&32768)!==0){tC(b,dr);return}m=b.return;var M=qb(b.alternate,b,lc);if(M!==null){ia=M;return}if(b=b.sibling,b!==null){ia=b;return}ia=b=m}while(b!==null);ui===0&&(ui=5)}function tC(m,b){do{var M=dx(m.alternate,m);if(M!==null){M.flags&=32767,ia=M;return}if(M=m.return,M!==null&&(M.flags|=32768,M.subtreeFlags=0,M.deletions=null),!b&&(m=m.sibling,m!==null)){ia=m;return}ia=m=M}while(m!==null);ui=6,ia=null}function nC(m,b,M,P,G,Q,ve,Re,tt){m.cancelPendingCommit=null;do bp();while(lo!==0);if((La&6)!==0)throw Error(r(327));if(b!==null){if(b===m.current)throw Error(r(177));if(Q=b.lanes|b.childLanes,Q|=rb,_n(m,M,Q,ve,Re,tt),m===qa&&(ia=qa=null,ha=0),Zu=b,uc=m,iu=M,Mh=Q,eS=G,tS=P,(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?(m.callbackNode=null,m.callbackPriority=0,oS(et,function(){return Lh(),null})):(m.callbackNode=null,m.callbackPriority=0),P=(b.flags&13878)!==0,(b.subtreeFlags&13878)!==0||P){P=ee.T,ee.T=null,G=ae.p,ae.p=2,ve=La,La|=4;try{px(m,b,M)}finally{La=ve,ae.p=G,ee.T=P}}lo=1,rC(),Ah(),Oh()}}function rC(){if(lo===1){lo=0;var m=uc,b=Zu,M=(b.flags&13878)!==0;if((b.subtreeFlags&13878)!==0||M){M=ee.T,ee.T=null;var P=ae.p;ae.p=2;var G=La;La|=4;try{qE(b,m);var Q=Rf,ve=Xy(m.containerInfo),Re=Q.focusedElem,tt=Q.selectionRange;if(ve!==Re&&Re&&Re.ownerDocument&&Ag(Re.ownerDocument.documentElement,Re)){if(tt!==null&&Om(Re)){var It=tt.start,zt=tt.end;if(zt===void 0&&(zt=It),"selectionStart"in Re)Re.selectionStart=It,Re.selectionEnd=Math.min(zt,Re.value.length);else{var Yt=Re.ownerDocument||document,Et=Yt&&Yt.defaultView||window;if(Et.getSelection){var Nt=Et.getSelection(),kr=Re.textContent.length,Mr=Math.min(tt.start,kr),za=tt.end===void 0?Mr:Math.min(tt.end,kr);!Nt.extend&&Mr>za&&(ve=za,za=Mr,Mr=ve);var ft=Yy(Re,Mr),st=Yy(Re,za);if(ft&&st&&(Nt.rangeCount!==1||Nt.anchorNode!==ft.node||Nt.anchorOffset!==ft.offset||Nt.focusNode!==st.node||Nt.focusOffset!==st.offset)){var St=Yt.createRange();St.setStart(ft.node,ft.offset),Nt.removeAllRanges(),Mr>za?(Nt.addRange(St),Nt.extend(st.node,st.offset)):(St.setEnd(st.node,st.offset),Nt.addRange(St))}}}}for(Yt=[],Nt=Re;Nt=Nt.parentNode;)Nt.nodeType===1&&Yt.push({element:Nt,left:Nt.scrollLeft,top:Nt.scrollTop});for(typeof Re.focus=="function"&&Re.focus(),Re=0;Re<Yt.length;Re++){var Kt=Yt[Re];Kt.element.scrollLeft=Kt.left,Kt.element.scrollTop=Kt.top}}hc=!!ja,Rf=ja=null}finally{La=G,ae.p=P,ee.T=M}}m.current=b,lo=2}}function Ah(){if(lo===2){lo=0;var m=uc,b=Zu,M=(b.flags&8772)!==0;if((b.subtreeFlags&8772)!==0||M){M=ee.T,ee.T=null;var P=ae.p;ae.p=2;var G=La;La|=4;try{UE(m,b.alternate,b)}finally{La=G,ae.p=P,ee.T=M}}lo=3}}function Oh(){if(lo===4||lo===3){lo=0,He();var m=uc,b=Zu,M=iu,P=tS;(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?lo=5:(lo=0,Zu=uc=null,kh(m,m.pendingLanes));var G=m.pendingLanes;if(G===0&&(cc=null),En(M),b=b.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(jt,b,void 0,(b.current.flags&128)===128)}catch{}if(P!==null){b=ee.T,G=ae.p,ae.p=2,ee.T=null;try{for(var Q=m.onRecoverableError,ve=0;ve<P.length;ve++){var Re=P[ve];Q(Re.value,{componentStack:Re.stack})}}finally{ee.T=b,ae.p=G}}(iu&3)!==0&&bp(),$s(m),G=m.pendingLanes,(M&4194090)!==0&&(G&42)!==0?m===_h?vp++:(vp=0,_h=m):vp=0,td(0)}}function kh(m,b){(m.pooledCacheLanes&=b)===0&&(b=m.pooledCache,b!=null&&(m.pooledCache=null,$m(b)))}function bp(m){return rC(),Ah(),Oh(),Lh()}function Lh(){if(lo!==5)return!1;var m=uc,b=Mh;Mh=0;var M=En(iu),P=ee.T,G=ae.p;try{ae.p=32>M?32:M,ee.T=null,M=eS,eS=null;var Q=uc,ve=iu;if(lo=0,Zu=uc=null,iu=0,(La&6)!==0)throw Error(r(331));var Re=La;if(La|=4,KE(Q.current),HE(Q,Q.current,ve,M),La=Re,td(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(jt,Q)}catch{}return!0}finally{ae.p=G,ee.T=P,kh(m,b)}}function Ph(m,b,M){b=Ho(M,b),b=lf(m.stateNode,b,2),m=Hc(m,b,2),m!==null&&(tn(m,2),$s(m))}function Da(m,b,M){if(m.tag===3)Ph(m,m,M);else for(;b!==null;){if(b.tag===3){Ph(b,m,M);break}else if(b.tag===1){var P=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(cc===null||!cc.has(P))){m=Ho(M,m),M=Pb(2),P=Hc(b,M,2),P!==null&&(Db(M,P,b,m),tn(P,2),$s(P));break}}b=b.return}}function Sf(m,b,M){var P=m.pingCache;if(P===null){P=m.pingCache=new Xo;var G=new Set;P.set(b,G)}else G=P.get(b),G===void 0&&(G=new Set,P.set(b,G));G.has(M)||(Jb=!0,G.add(M),m=rS.bind(null,m,b,M),b.then(m,m))}function rS(m,b,M){var P=m.pingCache;P!==null&&P.delete(b),m.pingedLanes|=m.suspendedLanes&M,m.warmLanes&=~M,qa===m&&(ha&M)===M&&(ui===4||ui===3&&(ha&62914560)===ha&&300>nt()-Zb?(La&2)===0&&yp(m,0):fp|=M,gp===ha&&(gp=0)),$s(m)}function Dh(m,b){b===0&&(b=Qn()),m=Fc(m,b),m!==null&&(tn(m,b),$s(m))}function aS(m){var b=m.memoizedState,M=0;b!==null&&(M=b.retryLane),Dh(m,M)}function iS(m,b){var M=0;switch(m.tag){case 13:var P=m.stateNode,G=m.memoizedState;G!==null&&(M=G.retryLane);break;case 19:P=m.stateNode;break;case 22:P=m.stateNode._retryCache;break;default:throw Error(r(314))}P!==null&&P.delete(b),Dh(m,M)}function oS(m,b){return Ne(m,b)}var Sp=null,ou=null,If=!1,Ip=!1,Ef=!1,mc=0;function $s(m){m!==ou&&m.next===null&&(ou===null?Sp=ou=m:ou=ou.next=m),Ip=!0,If||(If=!0,cS())}function td(m,b){if(!Ef&&Ip){Ef=!0;do for(var M=!1,P=Sp;P!==null;){if(m!==0){var G=P.pendingLanes;if(G===0)var Q=0;else{var ve=P.suspendedLanes,Re=P.pingedLanes;Q=(1<<31-wt(42|m)+1)-1,Q&=G&~(ve&~Re),Q=Q&201326741?Q&201326741|1:Q?Q|2:0}Q!==0&&(M=!0,$h(P,Q))}else Q=ha,Q=yt(P,P===qa?Q:0,P.cancelPendingCommit!==null||P.timeoutHandle!==-1),(Q&3)===0||gt(P,Q)||(M=!0,$h(P,Q));P=P.next}while(M);Ef=!1}}function sS(){lS()}function lS(){Ip=If=!1;var m=0;mc!==0&&(fc()&&(m=mc),mc=0);for(var b=nt(),M=null,P=Sp;P!==null;){var G=P.next,Q=jh(P,b);Q===0?(P.next=null,M===null?Sp=G:M.next=G,G===null&&(ou=M)):(M=P,(m!==0||(Q&3)!==0)&&(Ip=!0)),P=G}td(m)}function jh(m,b){for(var M=m.suspendedLanes,P=m.pingedLanes,G=m.expirationTimes,Q=m.pendingLanes&-62914561;0<Q;){var ve=31-wt(Q),Re=1<<ve,tt=G[ve];tt===-1?((Re&M)===0||(Re&P)!==0)&&(G[ve]=Jt(Re,b)):tt<=b&&(m.expiredLanes|=Re),Q&=~Re}if(b=qa,M=ha,M=yt(m,m===b?M:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),P=m.callbackNode,M===0||m===b&&(Pa===2||Pa===9)||m.cancelPendingCommit!==null)return P!==null&&P!==null&&qe(P),m.callbackNode=null,m.callbackPriority=0;if((M&3)===0||gt(m,M)){if(b=M&-M,b===m.callbackPriority)return b;switch(P!==null&&qe(P),En(M)){case 2:case 8:M=lt;break;case 32:M=et;break;case 268435456:M=pt;break;default:M=et}return P=Vh.bind(null,m),M=Ne(M,P),m.callbackPriority=b,m.callbackNode=M,b}return P!==null&&P!==null&&qe(P),m.callbackPriority=2,m.callbackNode=null,2}function Vh(m,b){if(lo!==0&&lo!==5)return m.callbackNode=null,m.callbackPriority=0,null;var M=m.callbackNode;if(bp()&&m.callbackNode!==M)return null;var P=ha;return P=yt(m,m===qa?P:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),P===0?null:(WE(m,P,b),jh(m,nt()),m.callbackNode!=null&&m.callbackNode===M?Vh.bind(null,m):null)}function $h(m,b){if(bp())return null;WE(m,b,!0)}function cS(){Or(function(){(La&6)!==0?Ne(ut,sS):lS()})}function Cf(){return mc===0&&(mc=bn()),mc}function Uh(m){return m==null||typeof m=="symbol"||typeof m=="boolean"?null:typeof m=="function"?m:Ba(""+m)}function Bh(m,b){var M=b.ownerDocument.createElement("input");return M.name=b.name,M.value=b.value,m.id&&M.setAttribute("form",m.id),b.parentNode.insertBefore(M,b),m=new FormData(m),M.parentNode.removeChild(M),m}function uS(m,b,M,P,G){if(b==="submit"&&M&&M.stateNode===G){var Q=Uh((G[Gt]||null).action),ve=P.submitter;ve&&(b=(b=ve[Gt]||null)?Uh(b.formAction):ve.getAttribute("formAction"),b!==null&&(Q=b,ve=null));var Re=new Cg("action","action",null,P,G);m.push({event:Re,listeners:[{instance:null,listener:function(){if(P.defaultPrevented){if(mc!==0){var tt=ve?Bh(G,ve):new FormData(G);tf(M,{pending:!0,data:tt,method:G.method,action:Q},null,tt)}}else typeof Q=="function"&&(Re.preventDefault(),tt=ve?Bh(G,ve):new FormData(G),tf(M,{pending:!0,data:tt,method:G.method,action:Q},Q,tt))},currentTarget:G}]})}}for(var Tf=0;Tf<nb.length;Tf++){var Mf=nb[Tf],dS=Mf.toLowerCase(),pS=Mf[0].toUpperCase()+Mf.slice(1);ks(dS,"on"+pS)}ks(km,"onAnimationEnd"),ks(sE,"onAnimationIteration"),ks(eb,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(tb,"onTransitionRun"),ks(lE,"onTransitionStart"),ks(Pu,"onTransitionCancel"),ks(Sl,"onTransitionEnd"),gn("onMouseEnter",["mouseout","mouseover"]),gn("onMouseLeave",["mouseout","mouseover"]),gn("onPointerEnter",["pointerout","pointerover"]),gn("onPointerLeave",["pointerout","pointerover"]),Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nd));function Fh(m,b){b=(b&4)!==0;for(var M=0;M<m.length;M++){var P=m[M],G=P.event;P=P.listeners;e:{var Q=void 0;if(b)for(var ve=P.length-1;0<=ve;ve--){var Re=P[ve],tt=Re.instance,It=Re.currentTarget;if(Re=Re.listener,tt!==Q&&G.isPropagationStopped())break e;Q=Re,G.currentTarget=It;try{Q(G)}catch(zt){sf(zt)}G.currentTarget=null,Q=tt}else for(ve=0;ve<P.length;ve++){if(Re=P[ve],tt=Re.instance,It=Re.currentTarget,Re=Re.listener,tt!==Q&&G.isPropagationStopped())break e;Q=Re,G.currentTarget=It;try{Q(G)}catch(zt){sf(zt)}G.currentTarget=null,Q=tt}}}}function Zr(m,b){var M=b[$n];M===void 0&&(M=b[$n]=new Set);var P=m+"__bubble";M.has(P)||(qh(b,m,2,!1),M.add(P))}function _f(m,b,M){var P=0;b&&(P|=4),qh(M,m,P,b)}var Ep="_reactListening"+Math.random().toString(36).slice(2);function xf(m){if(!m[Ep]){m[Ep]=!0,jr.forEach(function(M){M!=="selectionchange"&&(mS.has(M)||_f(M,!1,m),_f(M,!0,m))});var b=m.nodeType===9?m:m.ownerDocument;b===null||b[Ep]||(b[Ep]=!0,_f("selectionchange",!1,b))}}function qh(m,b,M,P){switch(nv(b)){case 2:var G=es;break;case 8:G=tv;break;default:G=sl}M=G.bind(null,b,M,m),G=void 0,!Ir||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(G=!0),P?G!==void 0?m.addEventListener(b,M,{capture:!0,passive:G}):m.addEventListener(b,M,!0):G!==void 0?m.addEventListener(b,M,{passive:G}):m.addEventListener(b,M,!1)}function wf(m,b,M,P,G){var Q=P;if((b&1)===0&&(b&2)===0&&P!==null)e:for(;;){if(P===null)return;var ve=P.tag;if(ve===3||ve===4){var Re=P.stateNode.containerInfo;if(Re===G)break;if(ve===4)for(ve=P.return;ve!==null;){var tt=ve.tag;if((tt===3||tt===4)&&ve.stateNode.containerInfo===G)return;ve=ve.return}for(;Re!==null;){if(ve=sn(Re),ve===null)return;if(tt=ve.tag,tt===5||tt===6||tt===26||tt===27){P=Q=ve;continue e}Re=Re.parentNode}}P=P.return}Nu(function(){var It=Q,zt=Fa(M),Yt=[];e:{var Et=Bc.get(m);if(Et!==void 0){var Nt=Cg,kr=m;switch(m){case"keypress":if(Ru(M)===0)break e;case"keydown":case"keyup":Nt=Z_;break;case"focusin":kr="focus",Nt=ce;break;case"focusout":kr="blur",Nt=ce;break;case"beforeblur":case"afterblur":Nt=ce;break;case"click":if(M.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Nt=Ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Nt=X_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Nt=Vc;break;case km:case sE:case eb:Nt=Tg;break;case Sl:Nt=W0;break;case"scroll":case"scrollend":Nt=cn;break;case"wheel":Nt=Y0;break;case"copy":case"cut":case"paste":Nt=Mg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Nt=G0;break;case"toggle":case"beforetoggle":Nt=X0}var Mr=(b&4)!==0,za=!Mr&&(m==="scroll"||m==="scrollend"),ft=Mr?Et!==null?Et+"Capture":null:Et;Mr=[];for(var st=It,St;st!==null;){var Kt=st;if(St=Kt.stateNode,Kt=Kt.tag,Kt!==5&&Kt!==26&&Kt!==27||St===null||ft===null||(Kt=Li(st,ft),Kt!=null&&Mr.push(rd(st,Kt,St))),za)break;st=st.return}0<Mr.length&&(Et=new Nt(Et,kr,null,M,zt),Yt.push({event:Et,listeners:Mr}))}}if((b&7)===0){e:{if(Et=m==="mouseover"||m==="pointerover",Nt=m==="mouseout"||m==="pointerout",Et&&M!==yo&&(kr=M.relatedTarget||M.fromElement)&&(sn(kr)||kr[Xt]))break e;if((Nt||Et)&&(Et=zt.window===zt?zt:(Et=zt.ownerDocument)?Et.defaultView||Et.parentWindow:window,Nt?(kr=M.relatedTarget||M.toElement,Nt=It,kr=kr?sn(kr):null,kr!==null&&(za=d(kr),Mr=kr.tag,kr!==za||Mr!==5&&Mr!==27&&Mr!==6)&&(kr=null)):(Nt=null,kr=It),Nt!==kr)){if(Mr=Ou,Kt="onMouseLeave",ft="onMouseEnter",st="mouse",(m==="pointerout"||m==="pointerover")&&(Mr=G0,Kt="onPointerLeave",ft="onPointerEnter",st="pointer"),za=Nt==null?Et:wr(Nt),St=kr==null?Et:wr(kr),Et=new Mr(Kt,st+"leave",Nt,M,zt),Et.target=za,Et.relatedTarget=St,Kt=null,sn(zt)===It&&(Mr=new Mr(ft,st+"enter",kr,M,zt),Mr.target=St,Mr.relatedTarget=za,Kt=Mr),za=Kt,Nt&&kr)t:{for(Mr=Nt,ft=kr,st=0,St=Mr;St;St=su(St))st++;for(St=0,Kt=ft;Kt;Kt=su(Kt))St++;for(;0<st-St;)Mr=su(Mr),st--;for(;0<St-st;)ft=su(ft),St--;for(;st--;){if(Mr===ft||ft!==null&&Mr===ft.alternate)break t;Mr=su(Mr),ft=su(ft)}Mr=null}else Mr=null;Nt!==null&&zh(Yt,Et,Nt,Mr,!1),kr!==null&&za!==null&&zh(Yt,za,kr,Mr,!0)}}e:{if(Et=It?wr(It):window,Nt=Et.nodeName&&Et.nodeName.toLowerCase(),Nt==="select"||Nt==="input"&&Et.type==="file")var mn=Hy;else if(tE(Et))if($c)mn=nx;else{mn=Rg;var Br=aE}else Nt=Et.nodeName,!Nt||Nt.toLowerCase()!=="input"||Et.type!=="checkbox"&&Et.type!=="radio"?It&&ur(It.elementType)&&(mn=Hy):mn=iE;if(mn&&(mn=mn(m,It))){nE(Yt,mn,M,zt);break e}Br&&Br(m,Et,It),m==="focusout"&&It&&Et.type==="number"&&It.memoizedProps.value!=null&&ua(Et,"number",Et.value)}switch(Br=It?wr(It):window,m){case"focusin":(tE(Br)||Br.contentEditable==="true")&&(zd=Br,Og=It,Hd=null);break;case"focusout":Hd=Og=zd=null;break;case"mousedown":Jy=!0;break;case"contextmenu":case"mouseup":case"dragend":Jy=!1,Qy(Yt,M,zt);break;case"selectionchange":if(Jl)break;case"keydown":case"keyup":Qy(Yt,M,zt)}var mr;if(_g)e:{switch(m){case"compositionstart":var xr="onCompositionStart";break e;case"compositionend":xr="onCompositionEnd";break e;case"compositionupdate":xr="onCompositionUpdate";break e}xr=void 0}else qd?xg(m,M)&&(xr="onCompositionEnd"):m==="keydown"&&M.keyCode===229&&(xr="onCompositionStart");xr&&(Q0&&M.locale!=="ko"&&(qd||xr!=="onCompositionStart"?xr==="onCompositionEnd"&&qd&&(mr=$d()):(na=zt,da="value"in na?na.value:na.textContent,qd=!0)),Br=Cp(It,xr),0<Br.length&&(xr=new bl(xr,m,null,M,zt),Yt.push({event:xr,listeners:Br}),mr?xr.data=mr:(mr=qy(M),mr!==null&&(xr.data=mr)))),(mr=Fy?Z0(m,M):eE(m,M))&&(xr=Cp(It,"onBeforeInput"),0<xr.length&&(Br=new bl("onBeforeInput","beforeinput",null,M,zt),Yt.push({event:Br,listeners:xr}),Br.data=mr)),uS(Yt,m,It,M,zt)}Fh(Yt,b)})}function rd(m,b,M){return{instance:m,listener:b,currentTarget:M}}function Cp(m,b){for(var M=b+"Capture",P=[];m!==null;){var G=m,Q=G.stateNode;if(G=G.tag,G!==5&&G!==26&&G!==27||Q===null||(G=Li(m,M),G!=null&&P.unshift(rd(m,G,Q)),G=Li(m,b),G!=null&&P.push(rd(m,G,Q))),m.tag===3)return P;m=m.return}return[]}function su(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5&&m.tag!==27);return m||null}function zh(m,b,M,P,G){for(var Q=b._reactName,ve=[];M!==null&&M!==P;){var Re=M,tt=Re.alternate,It=Re.stateNode;if(Re=Re.tag,tt!==null&&tt===P)break;Re!==5&&Re!==26&&Re!==27||It===null||(tt=It,G?(It=Li(M,Q),It!=null&&ve.unshift(rd(M,It,tt))):G||(It=Li(M,Q),It!=null&&ve.push(rd(M,It,tt)))),M=M.return}ve.length!==0&&m.push({event:b,listeners:ve})}var fS=/\r\n?/g,gS=/\u0000|\uFFFD/g;function Hh(m){return(typeof m=="string"?m:""+m).replace(fS,`
`).replace(gS,"")}function Gh(m,b){return b=Hh(b),Hh(m)===b}function Tp(){}function Na(m,b,M,P,G,Q){switch(M){case"children":typeof P=="string"?b==="body"||b==="textarea"&&P===""||Wa(m,P):(typeof P=="number"||typeof P=="bigint")&&b!=="body"&&Wa(m,""+P);break;case"className":Xr(m,"class",P);break;case"tabIndex":Xr(m,"tabindex",P);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(m,M,P);break;case"style":br(m,P,Q);break;case"data":if(b!=="object"){Xr(m,"data",P);break}case"src":case"href":if(P===""&&(b!=="a"||M!=="href")){m.removeAttribute(M);break}if(P==null||typeof P=="function"||typeof P=="symbol"||typeof P=="boolean"){m.removeAttribute(M);break}P=Ba(""+P),m.setAttribute(M,P);break;case"action":case"formAction":if(typeof P=="function"){m.setAttribute(M,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Q=="function"&&(M==="formAction"?(b!=="input"&&Na(m,b,"name",G.name,G,null),Na(m,b,"formEncType",G.formEncType,G,null),Na(m,b,"formMethod",G.formMethod,G,null),Na(m,b,"formTarget",G.formTarget,G,null)):(Na(m,b,"encType",G.encType,G,null),Na(m,b,"method",G.method,G,null),Na(m,b,"target",G.target,G,null)));if(P==null||typeof P=="symbol"||typeof P=="boolean"){m.removeAttribute(M);break}P=Ba(""+P),m.setAttribute(M,P);break;case"onClick":P!=null&&(m.onclick=Tp);break;case"onScroll":P!=null&&Zr("scroll",m);break;case"onScrollEnd":P!=null&&Zr("scrollend",m);break;case"dangerouslySetInnerHTML":if(P!=null){if(typeof P!="object"||!("__html"in P))throw Error(r(61));if(M=P.__html,M!=null){if(G.children!=null)throw Error(r(60));m.innerHTML=M}}break;case"multiple":m.multiple=P&&typeof P!="function"&&typeof P!="symbol";break;case"muted":m.muted=P&&typeof P!="function"&&typeof P!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(P==null||typeof P=="function"||typeof P=="boolean"||typeof P=="symbol"){m.removeAttribute("xlink:href");break}M=Ba(""+P),m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",M);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":P!=null&&typeof P!="function"&&typeof P!="symbol"?m.setAttribute(M,""+P):m.removeAttribute(M);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":P&&typeof P!="function"&&typeof P!="symbol"?m.setAttribute(M,""):m.removeAttribute(M);break;case"capture":case"download":P===!0?m.setAttribute(M,""):P!==!1&&P!=null&&typeof P!="function"&&typeof P!="symbol"?m.setAttribute(M,P):m.removeAttribute(M);break;case"cols":case"rows":case"size":case"span":P!=null&&typeof P!="function"&&typeof P!="symbol"&&!isNaN(P)&&1<=P?m.setAttribute(M,P):m.removeAttribute(M);break;case"rowSpan":case"start":P==null||typeof P=="function"||typeof P=="symbol"||isNaN(P)?m.removeAttribute(M):m.setAttribute(M,P);break;case"popover":Zr("beforetoggle",m),Zr("toggle",m),Cr(m,"popover",P);break;case"xlinkActuate":Lt(m,"http://www.w3.org/1999/xlink","xlink:actuate",P);break;case"xlinkArcrole":Lt(m,"http://www.w3.org/1999/xlink","xlink:arcrole",P);break;case"xlinkRole":Lt(m,"http://www.w3.org/1999/xlink","xlink:role",P);break;case"xlinkShow":Lt(m,"http://www.w3.org/1999/xlink","xlink:show",P);break;case"xlinkTitle":Lt(m,"http://www.w3.org/1999/xlink","xlink:title",P);break;case"xlinkType":Lt(m,"http://www.w3.org/1999/xlink","xlink:type",P);break;case"xmlBase":Lt(m,"http://www.w3.org/XML/1998/namespace","xml:base",P);break;case"xmlLang":Lt(m,"http://www.w3.org/XML/1998/namespace","xml:lang",P);break;case"xmlSpace":Lt(m,"http://www.w3.org/XML/1998/namespace","xml:space",P);break;case"is":Cr(m,"is",P);break;case"innerText":case"textContent":break;default:(!(2<M.length)||M[0]!=="o"&&M[0]!=="O"||M[1]!=="n"&&M[1]!=="N")&&(M=Ya.get(M)||M,Cr(m,M,P))}}function Nf(m,b,M,P,G,Q){switch(M){case"style":br(m,P,Q);break;case"dangerouslySetInnerHTML":if(P!=null){if(typeof P!="object"||!("__html"in P))throw Error(r(61));if(M=P.__html,M!=null){if(G.children!=null)throw Error(r(60));m.innerHTML=M}}break;case"children":typeof P=="string"?Wa(m,P):(typeof P=="number"||typeof P=="bigint")&&Wa(m,""+P);break;case"onScroll":P!=null&&Zr("scroll",m);break;case"onScrollEnd":P!=null&&Zr("scrollend",m);break;case"onClick":P!=null&&(m.onclick=Tp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ur.hasOwnProperty(M))e:{if(M[0]==="o"&&M[1]==="n"&&(G=M.endsWith("Capture"),b=M.slice(2,G?M.length-7:void 0),Q=m[Gt]||null,Q=Q!=null?Q[M]:null,typeof Q=="function"&&m.removeEventListener(b,Q,G),typeof P=="function")){typeof Q!="function"&&Q!==null&&(M in m?m[M]=null:m.hasAttribute(M)&&m.removeAttribute(M)),m.addEventListener(b,P,G);break e}M in m?m[M]=P:P===!0?m.setAttribute(M,""):Cr(m,M,P)}}}function co(m,b,M){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zr("error",m),Zr("load",m);var P=!1,G=!1,Q;for(Q in M)if(M.hasOwnProperty(Q)){var ve=M[Q];if(ve!=null)switch(Q){case"src":P=!0;break;case"srcSet":G=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,b));default:Na(m,b,Q,ve,M,null)}}G&&Na(m,b,"srcSet",M.srcSet,M,null),P&&Na(m,b,"src",M.src,M,null);return;case"input":Zr("invalid",m);var Re=Q=ve=G=null,tt=null,It=null;for(P in M)if(M.hasOwnProperty(P)){var zt=M[P];if(zt!=null)switch(P){case"name":G=zt;break;case"type":ve=zt;break;case"checked":tt=zt;break;case"defaultChecked":It=zt;break;case"value":Q=zt;break;case"defaultValue":Re=zt;break;case"children":case"dangerouslySetInnerHTML":if(zt!=null)throw Error(r(137,b));break;default:Na(m,b,P,zt,M,null)}}Qr(m,Q,Re,tt,It,ve,G,!1),Ii(m);return;case"select":Zr("invalid",m),P=ve=Q=null;for(G in M)if(M.hasOwnProperty(G)&&(Re=M[G],Re!=null))switch(G){case"value":Q=Re;break;case"defaultValue":ve=Re;break;case"multiple":P=Re;default:Na(m,b,G,Re,M,null)}b=Q,M=ve,m.multiple=!!P,b!=null?Gr(m,!!P,b,!1):M!=null&&Gr(m,!!P,M,!0);return;case"textarea":Zr("invalid",m),Q=G=P=null;for(ve in M)if(M.hasOwnProperty(ve)&&(Re=M[ve],Re!=null))switch(ve){case"value":P=Re;break;case"defaultValue":G=Re;break;case"children":Q=Re;break;case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(91));break;default:Na(m,b,ve,Re,M,null)}oi(m,P,G,Q),Ii(m);return;case"option":for(tt in M)if(M.hasOwnProperty(tt)&&(P=M[tt],P!=null))switch(tt){case"selected":m.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Na(m,b,tt,P,M,null)}return;case"dialog":Zr("beforetoggle",m),Zr("toggle",m),Zr("cancel",m),Zr("close",m);break;case"iframe":case"object":Zr("load",m);break;case"video":case"audio":for(P=0;P<nd.length;P++)Zr(nd[P],m);break;case"image":Zr("error",m),Zr("load",m);break;case"details":Zr("toggle",m);break;case"embed":case"source":case"link":Zr("error",m),Zr("load",m);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(It in M)if(M.hasOwnProperty(It)&&(P=M[It],P!=null))switch(It){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,b));default:Na(m,b,It,P,M,null)}return;default:if(ur(b)){for(zt in M)M.hasOwnProperty(zt)&&(P=M[zt],P!==void 0&&Nf(m,b,zt,P,M,void 0));return}}for(Re in M)M.hasOwnProperty(Re)&&(P=M[Re],P!=null&&Na(m,b,Re,P,M,null))}function hS(m,b,M,P){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var G=null,Q=null,ve=null,Re=null,tt=null,It=null,zt=null;for(Nt in M){var Yt=M[Nt];if(M.hasOwnProperty(Nt)&&Yt!=null)switch(Nt){case"checked":break;case"value":break;case"defaultValue":tt=Yt;default:P.hasOwnProperty(Nt)||Na(m,b,Nt,null,P,Yt)}}for(var Et in P){var Nt=P[Et];if(Yt=M[Et],P.hasOwnProperty(Et)&&(Nt!=null||Yt!=null))switch(Et){case"type":Q=Nt;break;case"name":G=Nt;break;case"checked":It=Nt;break;case"defaultChecked":zt=Nt;break;case"value":ve=Nt;break;case"defaultValue":Re=Nt;break;case"children":case"dangerouslySetInnerHTML":if(Nt!=null)throw Error(r(137,b));break;default:Nt!==Yt&&Na(m,b,Et,Nt,P,Yt)}}Tr(m,ve,Re,tt,It,zt,Q,G);return;case"select":Nt=ve=Re=Et=null;for(Q in M)if(tt=M[Q],M.hasOwnProperty(Q)&&tt!=null)switch(Q){case"value":break;case"multiple":Nt=tt;default:P.hasOwnProperty(Q)||Na(m,b,Q,null,P,tt)}for(G in P)if(Q=P[G],tt=M[G],P.hasOwnProperty(G)&&(Q!=null||tt!=null))switch(G){case"value":Et=Q;break;case"defaultValue":Re=Q;break;case"multiple":ve=Q;default:Q!==tt&&Na(m,b,G,Q,P,tt)}b=Re,M=ve,P=Nt,Et!=null?Gr(m,!!M,Et,!1):!!P!=!!M&&(b!=null?Gr(m,!!M,b,!0):Gr(m,!!M,M?[]:"",!1));return;case"textarea":Nt=Et=null;for(Re in M)if(G=M[Re],M.hasOwnProperty(Re)&&G!=null&&!P.hasOwnProperty(Re))switch(Re){case"value":break;case"children":break;default:Na(m,b,Re,null,P,G)}for(ve in P)if(G=P[ve],Q=M[ve],P.hasOwnProperty(ve)&&(G!=null||Q!=null))switch(ve){case"value":Et=G;break;case"defaultValue":Nt=G;break;case"children":break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:G!==Q&&Na(m,b,ve,G,P,Q)}Ei(m,Et,Nt);return;case"option":for(var kr in M)if(Et=M[kr],M.hasOwnProperty(kr)&&Et!=null&&!P.hasOwnProperty(kr))switch(kr){case"selected":m.selected=!1;break;default:Na(m,b,kr,null,P,Et)}for(tt in P)if(Et=P[tt],Nt=M[tt],P.hasOwnProperty(tt)&&Et!==Nt&&(Et!=null||Nt!=null))switch(tt){case"selected":m.selected=Et&&typeof Et!="function"&&typeof Et!="symbol";break;default:Na(m,b,tt,Et,P,Nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mr in M)Et=M[Mr],M.hasOwnProperty(Mr)&&Et!=null&&!P.hasOwnProperty(Mr)&&Na(m,b,Mr,null,P,Et);for(It in P)if(Et=P[It],Nt=M[It],P.hasOwnProperty(It)&&Et!==Nt&&(Et!=null||Nt!=null))switch(It){case"children":case"dangerouslySetInnerHTML":if(Et!=null)throw Error(r(137,b));break;default:Na(m,b,It,Et,P,Nt)}return;default:if(ur(b)){for(var za in M)Et=M[za],M.hasOwnProperty(za)&&Et!==void 0&&!P.hasOwnProperty(za)&&Nf(m,b,za,void 0,P,Et);for(zt in P)Et=P[zt],Nt=M[zt],!P.hasOwnProperty(zt)||Et===Nt||Et===void 0&&Nt===void 0||Nf(m,b,zt,Et,P,Nt);return}}for(var ft in M)Et=M[ft],M.hasOwnProperty(ft)&&Et!=null&&!P.hasOwnProperty(ft)&&Na(m,b,ft,null,P,Et);for(Yt in P)Et=P[Yt],Nt=M[Yt],!P.hasOwnProperty(Yt)||Et===Nt||Et==null&&Nt==null||Na(m,b,Yt,Et,P,Nt)}var ja=null,Rf=null;function ad(m){return m.nodeType===9?m:m.ownerDocument}function it(m){switch(m){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kh(m,b){if(m===0)switch(b){case"svg":return 1;case"math":return 2;default:return 0}return m===1&&b==="foreignObject"?0:m}function vS(m,b){return m==="textarea"||m==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.children=="bigint"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var Ct=null;function fc(){var m=window.event;return m&&m.type==="popstate"?m===Ct?!1:(Ct=m,!0):(Ct=null,!1)}var il=typeof setTimeout=="function"?setTimeout:void 0,yS=typeof clearTimeout=="function"?clearTimeout:void 0,Al=typeof Promise=="function"?Promise:void 0,Or=typeof queueMicrotask=="function"?queueMicrotask:typeof Al<"u"?function(m){return Al.resolve(null).then(m).catch(aC)}:il;function aC(m){setTimeout(function(){throw m})}function Ol(m){return m==="head"}function bS(m,b){var M=b,P=0,G=0;do{var Q=M.nextSibling;if(m.removeChild(M),Q&&Q.nodeType===8)if(M=Q.data,M==="/$"){if(0<P&&8>P){M=P;var ve=m.ownerDocument;if(M&1&&Mp(ve.documentElement),M&2&&Mp(ve.body),M&4)for(M=ve.head,Mp(M),ve=M.firstChild;ve;){var Re=ve.nextSibling,tt=ve.nodeName;ve[An]||tt==="SCRIPT"||tt==="STYLE"||tt==="LINK"&&ve.rel.toLowerCase()==="stylesheet"||M.removeChild(ve),ve=Re}}if(G===0){m.removeChild(Q),Dp(b);return}G--}else M==="$"||M==="$?"||M==="$!"?G++:P=M.charCodeAt(0)-48;else P=0;M=Q}while(M);Dp(b)}function ge(m){var b=m.firstChild;for(b&&b.nodeType===10&&(b=b.nextSibling);b;){var M=b;switch(b=b.nextSibling,M.nodeName){case"HTML":case"HEAD":case"BODY":ge(M),On(M);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(M.rel.toLowerCase()==="stylesheet")continue}m.removeChild(M)}}function vx(m,b,M,P){for(;m.nodeType===1;){var G=M;if(m.nodeName.toLowerCase()!==b.toLowerCase()){if(!P&&(m.nodeName!=="INPUT"||m.type!=="hidden"))break}else if(P){if(!m[An])switch(b){case"meta":if(!m.hasAttribute("itemprop"))break;return m;case"link":if(Q=m.getAttribute("rel"),Q==="stylesheet"&&m.hasAttribute("data-precedence"))break;if(Q!==G.rel||m.getAttribute("href")!==(G.href==null||G.href===""?null:G.href)||m.getAttribute("crossorigin")!==(G.crossOrigin==null?null:G.crossOrigin)||m.getAttribute("title")!==(G.title==null?null:G.title))break;return m;case"style":if(m.hasAttribute("data-precedence"))break;return m;case"script":if(Q=m.getAttribute("src"),(Q!==(G.src==null?null:G.src)||m.getAttribute("type")!==(G.type==null?null:G.type)||m.getAttribute("crossorigin")!==(G.crossOrigin==null?null:G.crossOrigin))&&Q&&m.hasAttribute("async")&&!m.hasAttribute("itemprop"))break;return m;default:return m}}else if(b==="input"&&m.type==="hidden"){var Q=G.name==null?null:""+G.name;if(G.type==="hidden"&&m.getAttribute("name")===Q)return m}else return m;if(m=ol(m.nextSibling),m===null)break}return null}function Za(m,b,M){if(b==="")return null;for(;m.nodeType!==3;)if((m.nodeType!==1||m.nodeName!=="INPUT"||m.type!=="hidden")&&!M||(m=ol(m.nextSibling),m===null))return null;return m}function SS(m){return m.data==="$!"||m.data==="$?"&&m.ownerDocument.readyState==="complete"}function iC(m,b){var M=m.ownerDocument;if(m.data!=="$?"||M.readyState==="complete")b();else{var P=function(){b(),M.removeEventListener("DOMContentLoaded",P)};M.addEventListener("DOMContentLoaded",P),m._reactRetry=P}}function ol(m){for(;m!=null;m=m.nextSibling){var b=m.nodeType;if(b===1||b===3)break;if(b===8){if(b=m.data,b==="$"||b==="$!"||b==="$?"||b==="F!"||b==="F")break;if(b==="/$")return null}}return m}var ma=null;function Eo(m){m=m.previousSibling;for(var b=0;m;){if(m.nodeType===8){var M=m.data;if(M==="$"||M==="$!"||M==="$?"){if(b===0)return m;b--}else M==="/$"&&b++}m=m.previousSibling}return null}function IS(m,b,M){switch(b=ad(M),m){case"html":if(m=b.documentElement,!m)throw Error(r(452));return m;case"head":if(m=b.head,!m)throw Error(r(453));return m;case"body":if(m=b.body,!m)throw Error(r(454));return m;default:throw Error(r(451))}}function Mp(m){for(var b=m.attributes;b.length;)m.removeAttributeNode(b[0]);On(m)}var bs=new Map,oC=new Set;function Wh(m){return typeof m.getRootNode=="function"?m.getRootNode():m.nodeType===9?m:m.ownerDocument}var Us=ae.d;ae.d={f:q,r:Ja,D:sC,C:rn,L:_p,m:cu,X:yx,S:Yh,M:bx};function q(){var m=Us.f(),b=Xa();return m||b}function Ja(m){var b=tr(m);b!==null&&b.tag===5&&b.type==="form"?wE(b):Us.r(m)}var le=typeof document>"u"?null:document;function lu(m,b,M){var P=le;if(P&&typeof b=="string"&&b){var G=Mn(b);G='link[rel="'+m+'"][href="'+G+'"]',typeof M=="string"&&(G+='[crossorigin="'+M+'"]'),oC.has(G)||(oC.add(G),m={rel:m,crossOrigin:M,href:b},P.querySelector(G)===null&&(b=P.createElement("link"),co(b,"link",m),nn(b),P.head.appendChild(b)))}}function sC(m){Us.D(m),lu("dns-prefetch",m,null)}function rn(m,b){Us.C(m,b),lu("preconnect",m,b)}function _p(m,b,M){Us.L(m,b,M);var P=le;if(P&&m&&b){var G='link[rel="preload"][as="'+Mn(b)+'"]';b==="image"&&M&&M.imageSrcSet?(G+='[imagesrcset="'+Mn(M.imageSrcSet)+'"]',typeof M.imageSizes=="string"&&(G+='[imagesizes="'+Mn(M.imageSizes)+'"]')):G+='[href="'+Mn(m)+'"]';var Q=G;switch(b){case"style":Q=id(m);break;case"script":Q=xp(m)}bs.has(Q)||(m=T({rel:"preload",href:b==="image"&&M&&M.imageSrcSet?void 0:m,as:b},M),bs.set(Q,m),P.querySelector(G)!==null||b==="style"&&P.querySelector(Af(Q))||b==="script"&&P.querySelector(od(Q))||(b=P.createElement("link"),co(b,"link",m),nn(b),P.head.appendChild(b)))}}function cu(m,b){Us.m(m,b);var M=le;if(M&&m){var P=b&&typeof b.as=="string"?b.as:"script",G='link[rel="modulepreload"][as="'+Mn(P)+'"][href="'+Mn(m)+'"]',Q=G;switch(P){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Q=xp(m)}if(!bs.has(Q)&&(m=T({rel:"modulepreload",href:m},b),bs.set(Q,m),M.querySelector(G)===null)){switch(P){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(M.querySelector(od(Q)))return}P=M.createElement("link"),co(P,"link",m),nn(P),M.head.appendChild(P)}}}function Yh(m,b,M){Us.S(m,b,M);var P=le;if(P&&m){var G=Ar(P).hoistableStyles,Q=id(m);b=b||"default";var ve=G.get(Q);if(!ve){var Re={loading:0,preload:null};if(ve=P.querySelector(Af(Q)))Re.loading=5;else{m=T({rel:"stylesheet",href:m,"data-precedence":b},M),(M=bs.get(Q))&&Jh(m,M);var tt=ve=P.createElement("link");nn(tt),co(tt,"link",m),tt._p=new Promise(function(It,zt){tt.onload=It,tt.onerror=zt}),tt.addEventListener("load",function(){Re.loading|=1}),tt.addEventListener("error",function(){Re.loading|=2}),Re.loading|=4,gc(ve,b,P)}ve={type:"stylesheet",instance:ve,count:1,state:Re},G.set(Q,ve)}}}function yx(m,b){Us.X(m,b);var M=le;if(M&&m){var P=Ar(M).hoistableScripts,G=xp(m),Q=P.get(G);Q||(Q=M.querySelector(od(G)),Q||(m=T({src:m,async:!0},b),(b=bs.get(G))&&wp(m,b),Q=M.createElement("script"),nn(Q),co(Q,"link",m),M.head.appendChild(Q)),Q={type:"script",instance:Q,count:1,state:null},P.set(G,Q))}}function bx(m,b){Us.M(m,b);var M=le;if(M&&m){var P=Ar(M).hoistableScripts,G=xp(m),Q=P.get(G);Q||(Q=M.querySelector(od(G)),Q||(m=T({src:m,async:!0,type:"module"},b),(b=bs.get(G))&&wp(m,b),Q=M.createElement("script"),nn(Q),co(Q,"link",m),M.head.appendChild(Q)),Q={type:"script",instance:Q,count:1,state:null},P.set(G,Q))}}function Xh(m,b,M,P){var G=(G=_e.current)?Wh(G):null;if(!G)throw Error(r(446));switch(m){case"meta":case"title":return null;case"style":return typeof M.precedence=="string"&&typeof M.href=="string"?(b=id(M.href),M=Ar(G).hoistableStyles,P=M.get(b),P||(P={type:"style",instance:null,count:0,state:null},M.set(b,P)),P):{type:"void",instance:null,count:0,state:null};case"link":if(M.rel==="stylesheet"&&typeof M.href=="string"&&typeof M.precedence=="string"){m=id(M.href);var Q=Ar(G).hoistableStyles,ve=Q.get(m);if(ve||(G=G.ownerDocument||G,ve={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Q.set(m,ve),(Q=G.querySelector(Af(m)))&&!Q._p&&(ve.instance=Q,ve.state.loading=5),bs.has(m)||(M={rel:"preload",as:"style",href:M.href,crossOrigin:M.crossOrigin,integrity:M.integrity,media:M.media,hrefLang:M.hrefLang,referrerPolicy:M.referrerPolicy},bs.set(m,M),Q||Of(G,m,M,ve.state))),b&&P===null)throw Error(r(528,""));return ve}if(b&&P!==null)throw Error(r(529,""));return null;case"script":return b=M.async,M=M.src,typeof M=="string"&&b&&typeof b!="function"&&typeof b!="symbol"?(b=xp(M),M=Ar(G).hoistableScripts,P=M.get(b),P||(P={type:"script",instance:null,count:0,state:null},M.set(b,P)),P):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,m))}}function id(m){return'href="'+Mn(m)+'"'}function Af(m){return'link[rel="stylesheet"]['+m+"]"}function ES(m){return T({},m,{"data-precedence":m.precedence,precedence:null})}function Of(m,b,M,P){m.querySelector('link[rel="preload"][as="style"]['+b+"]")?P.loading=1:(b=m.createElement("link"),P.preload=b,b.addEventListener("load",function(){return P.loading|=1}),b.addEventListener("error",function(){return P.loading|=2}),co(b,"link",M),nn(b),m.head.appendChild(b))}function xp(m){return'[src="'+Mn(m)+'"]'}function od(m){return"script[async]"+m}function sd(m,b,M){if(b.count++,b.instance===null)switch(b.type){case"style":var P=m.querySelector('style[data-href~="'+Mn(M.href)+'"]');if(P)return b.instance=P,nn(P),P;var G=T({},M,{"data-href":M.href,"data-precedence":M.precedence,href:null,precedence:null});return P=(m.ownerDocument||m).createElement("style"),nn(P),co(P,"style",G),gc(P,M.precedence,m),b.instance=P;case"stylesheet":G=id(M.href);var Q=m.querySelector(Af(G));if(Q)return b.state.loading|=4,b.instance=Q,nn(Q),Q;P=ES(M),(G=bs.get(G))&&Jh(P,G),Q=(m.ownerDocument||m).createElement("link"),nn(Q);var ve=Q;return ve._p=new Promise(function(Re,tt){ve.onload=Re,ve.onerror=tt}),co(Q,"link",P),b.state.loading|=4,gc(Q,M.precedence,m),b.instance=Q;case"script":return Q=xp(M.src),(G=m.querySelector(od(Q)))?(b.instance=G,nn(G),G):(P=M,(G=bs.get(Q))&&(P=T({},M),wp(P,G)),m=m.ownerDocument||m,G=m.createElement("script"),nn(G),co(G,"link",P),m.head.appendChild(G),b.instance=G);case"void":return null;default:throw Error(r(443,b.type))}else b.type==="stylesheet"&&(b.state.loading&4)===0&&(P=b.instance,b.state.loading|=4,gc(P,M.precedence,m));return b.instance}function gc(m,b,M){for(var P=M.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),G=P.length?P[P.length-1]:null,Q=G,ve=0;ve<P.length;ve++){var Re=P[ve];if(Re.dataset.precedence===b)Q=Re;else if(Q!==G)break}Q?Q.parentNode.insertBefore(m,Q.nextSibling):(b=M.nodeType===9?M.head:M,b.insertBefore(m,b.firstChild))}function Jh(m,b){m.crossOrigin==null&&(m.crossOrigin=b.crossOrigin),m.referrerPolicy==null&&(m.referrerPolicy=b.referrerPolicy),m.title==null&&(m.title=b.title)}function wp(m,b){m.crossOrigin==null&&(m.crossOrigin=b.crossOrigin),m.referrerPolicy==null&&(m.referrerPolicy=b.referrerPolicy),m.integrity==null&&(m.integrity=b.integrity)}var Qh=null;function lC(m,b,M){if(Qh===null){var P=new Map,G=Qh=new Map;G.set(M,P)}else G=Qh,P=G.get(M),P||(P=new Map,G.set(M,P));if(P.has(m))return P;for(P.set(m,null),M=M.getElementsByTagName(m),G=0;G<M.length;G++){var Q=M[G];if(!(Q[An]||Q[fn]||m==="link"&&Q.getAttribute("rel")==="stylesheet")&&Q.namespaceURI!=="http://www.w3.org/2000/svg"){var ve=Q.getAttribute(b)||"";ve=m+ve;var Re=P.get(ve);Re?Re.push(Q):P.set(ve,[Q])}}return P}function cC(m,b,M){m=m.ownerDocument||m,m.head.insertBefore(M,b==="title"?m.querySelector("head > title"):null)}function CS(m,b,M){if(M===1||b.itemProp!=null)return!1;switch(m){case"meta":case"title":return!0;case"style":if(typeof b.precedence!="string"||typeof b.href!="string"||b.href==="")break;return!0;case"link":if(typeof b.rel!="string"||typeof b.href!="string"||b.href===""||b.onLoad||b.onError)break;switch(b.rel){case"stylesheet":return m=b.disabled,typeof b.precedence=="string"&&m==null;default:return!0}case"script":if(b.async&&typeof b.async!="function"&&typeof b.async!="symbol"&&!b.onLoad&&!b.onError&&b.src&&typeof b.src=="string")return!0}return!1}function uC(m){return!(m.type==="stylesheet"&&(m.state.loading&3)===0)}var kf=null;function Sx(){}function TS(m,b,M){if(kf===null)throw Error(r(475));var P=kf;if(b.type==="stylesheet"&&(typeof M.media!="string"||matchMedia(M.media).matches!==!1)&&(b.state.loading&4)===0){if(b.instance===null){var G=id(M.href),Q=m.querySelector(Af(G));if(Q){m=Q._p,m!==null&&typeof m=="object"&&typeof m.then=="function"&&(P.count++,P=Zh.bind(P),m.then(P,P)),b.state.loading|=4,b.instance=Q,nn(Q);return}Q=m.ownerDocument||m,M=ES(M),(G=bs.get(G))&&Jh(M,G),Q=Q.createElement("link"),nn(Q);var ve=Q;ve._p=new Promise(function(Re,tt){ve.onload=Re,ve.onerror=tt}),co(Q,"link",M),b.instance=Q}P.stylesheets===null&&(P.stylesheets=new Map),P.stylesheets.set(b,m),(m=b.state.preload)&&(b.state.loading&3)===0&&(P.count++,b=Zh.bind(P),m.addEventListener("load",b),m.addEventListener("error",b))}}function dC(){if(kf===null)throw Error(r(475));var m=kf;return m.stylesheets&&m.count===0&&ev(m,m.stylesheets),0<m.count?function(b){var M=setTimeout(function(){if(m.stylesheets&&ev(m,m.stylesheets),m.unsuspend){var P=m.unsuspend;m.unsuspend=null,P()}},6e4);return m.unsuspend=b,function(){m.unsuspend=null,clearTimeout(M)}}:null}function Zh(){if(this.count--,this.count===0){if(this.stylesheets)ev(this,this.stylesheets);else if(this.unsuspend){var m=this.unsuspend;this.unsuspend=null,m()}}}var uu=null;function ev(m,b){m.stylesheets=null,m.unsuspend!==null&&(m.count++,uu=new Map,b.forEach(pC,m),uu=null,Zh.call(m))}function pC(m,b){if(!(b.state.loading&4)){var M=uu.get(m);if(M)var P=M.get(null);else{M=new Map,uu.set(m,M);for(var G=m.querySelectorAll("link[data-precedence],style[data-precedence]"),Q=0;Q<G.length;Q++){var ve=G[Q];(ve.nodeName==="LINK"||ve.getAttribute("media")!=="not all")&&(M.set(ve.dataset.precedence,ve),P=ve)}P&&M.set(null,P)}G=b.instance,ve=G.getAttribute("data-precedence"),Q=M.get(ve)||P,Q===P&&M.set(null,G),M.set(ve,G),this.count++,P=Zh.bind(this),G.addEventListener("load",P),G.addEventListener("error",P),Q?Q.parentNode.insertBefore(G,Q.nextSibling):(m=m.nodeType===9?m.head:m,m.insertBefore(G,m.firstChild)),b.state.loading|=4}}var Np={$$typeof:L,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Ix(m,b,M,P,G,Q,ve,Re){this.tag=1,this.containerInfo=m,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dn(0),this.hiddenUpdates=Dn(null),this.identifierPrefix=P,this.onUncaughtError=G,this.onCaughtError=Q,this.onRecoverableError=ve,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Re,this.incompleteTransitions=new Map}function MS(m,b,M,P,G,Q,ve,Re,tt,It,zt,Yt){return m=new Ix(m,b,M,ve,Re,tt,It,Yt),b=1,Q===!0&&(b|=24),Q=gs(3,null,null,b),m.current=Q,Q.stateNode=m,b=ra(),b.refCount++,m.pooledCache=b,b.refCount++,Q.memoizedState={element:P,isDehydrated:M,cache:b},zg(Q),m}function un(m){return m?(m=Wd,m):Wd}function Ht(m,b,M,P,G,Q){G=un(G),P.context===null?P.context=G:P.pendingContext=G,P=rc(b),P.payload={element:M},Q=Q===void 0?null:Q,Q!==null&&(P.callback=Q),M=Hc(m,P,b),M!==null&&(ys(M,m,b),zu(M,m,b))}function kl(m,b){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var M=m.retryLane;m.retryLane=M!==0&&M<b?M:b}}function ai(m,b){kl(m,b),(m=m.alternate)&&kl(m,b)}function Kr(m){if(m.tag===13){var b=Fc(m,67108864);b!==null&&ys(b,m,67108864),ai(m,67108864)}}var hc=!0;function es(m,b,M,P){var G=ee.T;ee.T=null;var Q=ae.p;try{ae.p=2,sl(m,b,M,P)}finally{ae.p=Q,ee.T=G}}function tv(m,b,M,P){var G=ee.T;ee.T=null;var Q=ae.p;try{ae.p=8,sl(m,b,M,P)}finally{ae.p=Q,ee.T=G}}function sl(m,b,M,P){if(hc){var G=Rp(P);if(G===null)wf(m,b,P,du,M),Lf(m,P);else if(mC(G,m,b,M,P))P.stopPropagation();else if(Lf(m,P),b&4&&-1<Ex.indexOf(m)){for(;G!==null;){var Q=tr(G);if(Q!==null)switch(Q.tag){case 3:if(Q=Q.stateNode,Q.current.memoizedState.isDehydrated){var ve=bt(Q.pendingLanes);if(ve!==0){var Re=Q;for(Re.pendingLanes|=2,Re.entangledLanes|=2;ve;){var tt=1<<31-wt(ve);Re.entanglements[1]|=tt,ve&=~tt}$s(Q),(La&6)===0&&(Th=nt()+500,td(0))}}break;case 13:Re=Fc(Q,2),Re!==null&&ys(Re,Q,2),Xa(),ai(Q,2)}if(Q=Rp(P),Q===null&&wf(m,b,P,du,M),Q===G)break;G=Q}G!==null&&P.stopPropagation()}else wf(m,b,P,null,M)}}function Rp(m){return m=Fa(m),Ap(m)}var du=null;function Ap(m){if(du=null,m=sn(m),m!==null){var b=d(m);if(b===null)m=null;else{var M=b.tag;if(M===13){if(m=g(b),m!==null)return m;m=null}else if(M===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;m=null}else b!==m&&(m=null)}}return du=m,null}function nv(m){switch(m){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case ut:return 2;case lt:return 8;case et:case Ye:return 32;case pt:return 268435456;default:return 32}default:return 32}}var Bs=!1,pu=null,Ll=null,vc=null,Op=new Map,kp=new Map,mu=[],Ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lf(m,b){switch(m){case"focusin":case"focusout":pu=null;break;case"dragenter":case"dragleave":Ll=null;break;case"mouseover":case"mouseout":vc=null;break;case"pointerover":case"pointerout":Op.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":kp.delete(b.pointerId)}}function Lp(m,b,M,P,G,Q){return m===null||m.nativeEvent!==Q?(m={blockedOn:b,domEventName:M,eventSystemFlags:P,nativeEvent:Q,targetContainers:[G]},b!==null&&(b=tr(b),b!==null&&Kr(b)),m):(m.eventSystemFlags|=P,b=m.targetContainers,G!==null&&b.indexOf(G)===-1&&b.push(G),m)}function mC(m,b,M,P,G){switch(b){case"focusin":return pu=Lp(pu,m,b,M,P,G),!0;case"dragenter":return Ll=Lp(Ll,m,b,M,P,G),!0;case"mouseover":return vc=Lp(vc,m,b,M,P,G),!0;case"pointerover":var Q=G.pointerId;return Op.set(Q,Lp(Op.get(Q)||null,m,b,M,P,G)),!0;case"gotpointercapture":return Q=G.pointerId,kp.set(Q,Lp(kp.get(Q)||null,m,b,M,P,G)),!0}return!1}function _S(m){var b=sn(m.target);if(b!==null){var M=d(b);if(M!==null){if(b=M.tag,b===13){if(b=g(M),b!==null){m.blockedOn=b,Qt(m.priority,function(){if(M.tag===13){var P=Zo();P=xn(P);var G=Fc(M,P);G!==null&&ys(G,M,P),ai(M,P)}});return}}else if(b===3&&M.stateNode.current.memoizedState.isDehydrated){m.blockedOn=M.tag===3?M.stateNode.containerInfo:null;return}}}m.blockedOn=null}function Pp(m){if(m.blockedOn!==null)return!1;for(var b=m.targetContainers;0<b.length;){var M=Rp(m.nativeEvent);if(M===null){M=m.nativeEvent;var P=new M.constructor(M.type,M);yo=P,M.target.dispatchEvent(P),yo=null}else return b=tr(M),b!==null&&Kr(b),m.blockedOn=M,!1;b.shift()}return!0}function fC(m,b,M){Pp(m)&&M.delete(b)}function gC(){Bs=!1,pu!==null&&Pp(pu)&&(pu=null),Ll!==null&&Pp(Ll)&&(Ll=null),vc!==null&&Pp(vc)&&(vc=null),Op.forEach(fC),kp.forEach(fC)}function rv(m,b){m.blockedOn===b&&(m.blockedOn=null,Bs||(Bs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gC)))}var av=null;function Pf(m){av!==m&&(av=m,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){av===m&&(av=null);for(var b=0;b<m.length;b+=3){var M=m[b],P=m[b+1],G=m[b+2];if(typeof P!="function"){if(Ap(P||M)===null)continue;break}var Q=tr(M);Q!==null&&(m.splice(b,3),b-=3,tf(Q,{pending:!0,data:G,method:M.method,action:P},P,G))}}))}function Dp(m){function b(tt){return rv(tt,m)}pu!==null&&rv(pu,m),Ll!==null&&rv(Ll,m),vc!==null&&rv(vc,m),Op.forEach(b),kp.forEach(b);for(var M=0;M<mu.length;M++){var P=mu[M];P.blockedOn===m&&(P.blockedOn=null)}for(;0<mu.length&&(M=mu[0],M.blockedOn===null);)_S(M),M.blockedOn===null&&mu.shift();if(M=(m.ownerDocument||m).$$reactFormReplay,M!=null)for(P=0;P<M.length;P+=3){var G=M[P],Q=M[P+1],ve=G[Gt]||null;if(typeof Q=="function")ve||Pf(M);else if(ve){var Re=null;if(Q&&Q.hasAttribute("formAction")){if(G=Q,ve=Q[Gt]||null)Re=ve.formAction;else if(Ap(G)!==null)continue}else Re=ve.action;typeof Re=="function"?M[P+1]=Re:(M.splice(P,3),P-=3),Pf(M)}}}function xS(m){this._internalRoot=m}ld.prototype.render=xS.prototype.render=function(m){var b=this._internalRoot;if(b===null)throw Error(r(409));var M=b.current,P=Zo();Ht(M,P,m,b,null,null)},ld.prototype.unmount=xS.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var b=m.containerInfo;Ht(m.current,2,null,m,null,null),Xa(),b[Xt]=null}};function ld(m){this._internalRoot=m}ld.prototype.unstable_scheduleHydration=function(m){if(m){var b=Sn();m={blockedOn:null,target:m,priority:b};for(var M=0;M<mu.length&&b!==0&&b<mu[M].priority;M++);mu.splice(M,0,m),M===0&&_S(m)}};var iv=t.version;if(iv!=="19.1.0")throw Error(r(527,iv,"19.1.0"));ae.findDOMNode=function(m){var b=m._reactInternals;if(b===void 0)throw typeof m.render=="function"?Error(r(188)):(m=Object.keys(m).join(","),Error(r(268,m)));return m=S(b),m=m!==null?I(m):null,m=m===null?null:m.stateNode,m};var hC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ov=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ov.isDisabled&&ov.supportsFiber)try{jt=ov.inject(hC),Ut=ov}catch{}}return bI.createRoot=function(m,b){if(!i(m))throw Error(r(299));var M=!1,P="",G=pa,Q=Zc,ve=dh,Re=null;return b!=null&&(b.unstable_strictMode===!0&&(M=!0),b.identifierPrefix!==void 0&&(P=b.identifierPrefix),b.onUncaughtError!==void 0&&(G=b.onUncaughtError),b.onCaughtError!==void 0&&(Q=b.onCaughtError),b.onRecoverableError!==void 0&&(ve=b.onRecoverableError),b.unstable_transitionCallbacks!==void 0&&(Re=b.unstable_transitionCallbacks)),b=MS(m,1,!1,null,null,M,P,G,Q,ve,Re,null),m[Xt]=b.current,xf(m),new xS(b)},bI.hydrateRoot=function(m,b,M){if(!i(m))throw Error(r(299));var P=!1,G="",Q=pa,ve=Zc,Re=dh,tt=null,It=null;return M!=null&&(M.unstable_strictMode===!0&&(P=!0),M.identifierPrefix!==void 0&&(G=M.identifierPrefix),M.onUncaughtError!==void 0&&(Q=M.onUncaughtError),M.onCaughtError!==void 0&&(ve=M.onCaughtError),M.onRecoverableError!==void 0&&(Re=M.onRecoverableError),M.unstable_transitionCallbacks!==void 0&&(tt=M.unstable_transitionCallbacks),M.formState!==void 0&&(It=M.formState)),b=MS(m,1,!0,b,M??null,P,G,Q,ve,Re,tt,It),b.context=un(null),M=b.current,P=Zo(),P=xn(P),G=rc(P),G.callback=null,Hc(M,G,P),M=P,b.current.lanes=M,tn(b,M),$s(b),m[Xt]=b.current,xf(m),new ld(b)},bI.version="19.1.0",bI}var z4;function kxe(){if(z4)return DN.exports;z4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),DN.exports=Oxe(),DN.exports}var nJ=kxe();hD(function(e,t){t._reactRoot||(t._reactRoot=nJ.createRoot(t));var n=t._reactRoot;return n.render(e),function(){return new Promise(function(r){setTimeout(function(){n.unmount(),r()},0)})}});var SI={},H4;function Lxe(){if(H4)return SI;H4=1,Object.defineProperty(SI,"__esModule",{value:!0}),SI.parse=g,SI.serialize=I;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,d=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function g(N,A){const w=new d,O=N.length;if(O<2)return w;const R=(A==null?void 0:A.decode)||T;let D=0;do{const j=N.indexOf("=",D);if(j===-1)break;const L=N.indexOf(";",D),U=L===-1?O:L;if(j>U){D=N.lastIndexOf(";",j-1)+1;continue}const $=v(N,D,j),F=S(N,j,$),z=N.slice($,F);if(w[z]===void 0){let H=v(N,j+1,U),V=S(N,U,H);const K=R(N.slice(H,V));w[z]=K}D=U+1}while(D<O);return w}function v(N,A,w){do{const O=N.charCodeAt(A);if(O!==32&&O!==9)return A}while(++A<w);return w}function S(N,A,w){for(;A>w;){const O=N.charCodeAt(--A);if(O!==32&&O!==9)return A+1}return w}function I(N,A,w){const O=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(N))throw new TypeError(`argument name is invalid: ${N}`);const R=O(A);if(!t.test(R))throw new TypeError(`argument val is invalid: ${A}`);let D=N+"="+R;if(!w)return D;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);D+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);D+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);D+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);D+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(D+="; HttpOnly"),w.secure&&(D+="; Secure"),w.partitioned&&(D+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return D}function T(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function _(N){return i.call(N)==="[object Date]"}return SI}Lxe();var G4="popstate";function Pxe(e={}){function t(r,i){let{pathname:d,search:g,hash:v}=r.location;return LP("",{pathname:d,search:g,hash:v},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:f0(i)}return jxe(t,n,null,e)}function Ni(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dxe(){return Math.random().toString(36).substring(2,10)}function K4(e,t){return{usr:e.state,key:e.key,idx:t}}function LP(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Dy(t):t,state:n,key:t&&t.key||r||Dxe()}}function f0({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Dy(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function jxe(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:d=!1}=r,g=i.history,v="POP",S=null,I=T();I==null&&(I=0,g.replaceState({...g.state,idx:I},""));function T(){return(g.state||{idx:null}).idx}function _(){v="POP";let R=T(),D=R==null?null:R-I;I=R,S&&S({action:v,location:O.location,delta:D})}function N(R,D){v="PUSH";let j=LP(O.location,R,D);I=T()+1;let L=K4(j,I),U=O.createHref(j);try{g.pushState(L,"",U)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(U)}d&&S&&S({action:v,location:O.location,delta:1})}function A(R,D){v="REPLACE";let j=LP(O.location,R,D);I=T();let L=K4(j,I),U=O.createHref(j);g.replaceState(L,"",U),d&&S&&S({action:v,location:O.location,delta:0})}function w(R){return Vxe(R)}let O={get action(){return v},get location(){return e(i,g)},listen(R){if(S)throw new Error("A history only accepts one active listener");return i.addEventListener(G4,_),S=R,()=>{i.removeEventListener(G4,_),S=null}},createHref(R){return t(i,R)},createURL:w,encodeLocation(R){let D=w(R);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:N,replace:A,go(R){return g.go(R)}};return O}function Vxe(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ni(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:f0(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function rJ(e,t,n="/"){return $xe(e,t,n,!1)}function $xe(e,t,n,r){let i=typeof t=="string"?Dy(t):t,d=Pd(i.pathname||"/",n);if(d==null)return null;let g=aJ(e);Uxe(g);let v=null;for(let S=0;v==null&&S<g.length;++S){let I=Jxe(d);v=Yxe(g[S],I,r)}return v}function aJ(e,t=[],n=[],r=""){let i=(d,g,v)=>{let S={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};S.relativePath.startsWith("/")&&(Ni(S.relativePath.startsWith(r),`Absolute route path "${S.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(r.length));let I=Ad([r,S.relativePath]),T=n.concat(S);d.children&&d.children.length>0&&(Ni(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${I}".`),aJ(d.children,t,T,I)),!(d.path==null&&!d.index)&&t.push({path:I,score:Kxe(I,d.index),routesMeta:T})};return e.forEach((d,g)=>{var v;if(d.path===""||!((v=d.path)!=null&&v.includes("?")))i(d,g);else for(let S of iJ(d.path))i(d,g,S)}),t}function iJ(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),d=n.replace(/\?$/,"");if(r.length===0)return i?[d,""]:[d];let g=iJ(r.join("/")),v=[];return v.push(...g.map(S=>S===""?d:[d,S].join("/"))),i&&v.push(...g),v.map(S=>e.startsWith("/")&&S===""?"/":S)}function Uxe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Wxe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Bxe=/^:[\w-]+$/,Fxe=3,qxe=2,zxe=1,Hxe=10,Gxe=-2,W4=e=>e==="*";function Kxe(e,t){let n=e.split("/"),r=n.length;return n.some(W4)&&(r+=Gxe),t&&(r+=qxe),n.filter(i=>!W4(i)).reduce((i,d)=>i+(Bxe.test(d)?Fxe:d===""?zxe:Hxe),r)}function Wxe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Yxe(e,t,n=!1){let{routesMeta:r}=e,i={},d="/",g=[];for(let v=0;v<r.length;++v){let S=r[v],I=v===r.length-1,T=d==="/"?t:t.slice(d.length)||"/",_=HM({path:S.relativePath,caseSensitive:S.caseSensitive,end:I},T),N=S.route;if(!_&&I&&n&&!r[r.length-1].route.index&&(_=HM({path:S.relativePath,caseSensitive:S.caseSensitive,end:!1},T)),!_)return null;Object.assign(i,_.params),g.push({params:i,pathname:Ad([d,_.pathname]),pathnameBase:twe(Ad([d,_.pathnameBase])),route:N}),_.pathnameBase!=="/"&&(d=Ad([d,_.pathnameBase]))}return g}function HM(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Xxe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let d=i[0],g=d.replace(/(.)\/+$/,"$1"),v=i.slice(1);return{params:r.reduce((I,{paramName:T,isOptional:_},N)=>{if(T==="*"){let w=v[N]||"";g=d.slice(0,d.length-w.length).replace(/(.)\/+$/,"$1")}const A=v[N];return _&&!A?I[T]=void 0:I[T]=(A||"").replace(/%2F/g,"/"),I},{}),pathname:d,pathnameBase:g,pattern:e}}function Xxe(e,t=!1,n=!0){Pc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,v,S)=>(r.push({paramName:v,isOptional:S!=null}),S?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Jxe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Qxe(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Dy(e):e;return{pathname:n?n.startsWith("/")?n:Zxe(n,t):t,search:nwe(r),hash:rwe(i)}}function Zxe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $N(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ewe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ij(e){let t=ewe(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Ej(e,t,n,r=!1){let i;typeof e=="string"?i=Dy(e):(i={...e},Ni(!i.pathname||!i.pathname.includes("?"),$N("?","pathname","search",i)),Ni(!i.pathname||!i.pathname.includes("#"),$N("#","pathname","hash",i)),Ni(!i.search||!i.search.includes("#"),$N("#","search","hash",i)));let d=e===""||i.pathname==="",g=d?"/":i.pathname,v;if(g==null)v=n;else{let _=t.length-1;if(!r&&g.startsWith("..")){let N=g.split("/");for(;N[0]==="..";)N.shift(),_-=1;i.pathname=N.join("/")}v=_>=0?t[_]:"/"}let S=Qxe(i,v),I=g&&g!=="/"&&g.endsWith("/"),T=(d||g===".")&&n.endsWith("/");return!S.pathname.endsWith("/")&&(I||T)&&(S.pathname+="/"),S}var Ad=e=>e.join("/").replace(/\/\/+/g,"/"),twe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nwe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rwe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function awe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var oJ=["POST","PUT","PATCH","DELETE"];new Set(oJ);var iwe=["GET",...oJ];new Set(iwe);var jy=E.createContext(null);jy.displayName="DataRouter";var $_=E.createContext(null);$_.displayName="DataRouterState";var sJ=E.createContext({isTransitioning:!1});sJ.displayName="ViewTransition";var owe=E.createContext(new Map);owe.displayName="Fetchers";var swe=E.createContext(null);swe.displayName="Await";var Dc=E.createContext(null);Dc.displayName="Navigation";var L0=E.createContext(null);L0.displayName="Location";var Yl=E.createContext({outlet:null,matches:[],isDataRoute:!1});Yl.displayName="Route";var Cj=E.createContext(null);Cj.displayName="RouteError";function lwe(e,{relative:t}={}){Ni(Vy(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Dc),{hash:i,pathname:d,search:g}=P0(e,{relative:t}),v=d;return n!=="/"&&(v=d==="/"?n:Ad([n,d])),r.createHref({pathname:v,search:g,hash:i})}function Vy(){return E.useContext(L0)!=null}function wu(){return Ni(Vy(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(L0).location}var lJ="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cJ(e){E.useContext(Dc).static||E.useLayoutEffect(e)}function U_(){let{isDataRoute:e}=E.useContext(Yl);return e?Twe():cwe()}function cwe(){Ni(Vy(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(jy),{basename:t,navigator:n}=E.useContext(Dc),{matches:r}=E.useContext(Yl),{pathname:i}=wu(),d=JSON.stringify(Ij(r)),g=E.useRef(!1);return cJ(()=>{g.current=!0}),E.useCallback((S,I={})=>{if(Pc(g.current,lJ),!g.current)return;if(typeof S=="number"){n.go(S);return}let T=Ej(S,JSON.parse(d),i,I.relative==="path");e==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:Ad([t,T.pathname])),(I.replace?n.replace:n.push)(T,I.state,I)},[t,n,d,i,e])}var uwe=E.createContext(null);function dwe(e){let t=E.useContext(Yl).outlet;return t&&E.createElement(uwe.Provider,{value:e},t)}function pwe(){let{matches:e}=E.useContext(Yl),t=e[e.length-1];return t?t.params:{}}function P0(e,{relative:t}={}){let{matches:n}=E.useContext(Yl),{pathname:r}=wu(),i=JSON.stringify(Ij(n));return E.useMemo(()=>Ej(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function mwe(e,t){return uJ(e,t)}function uJ(e,t,n,r){var D;Ni(Vy(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=E.useContext(Dc),{matches:d}=E.useContext(Yl),g=d[d.length-1],v=g?g.params:{},S=g?g.pathname:"/",I=g?g.pathnameBase:"/",T=g&&g.route;{let j=T&&T.path||"";dJ(S,!T||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${S}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=wu(),N;if(t){let j=typeof t=="string"?Dy(t):t;Ni(I==="/"||((D=j.pathname)==null?void 0:D.startsWith(I)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${I}" but pathname "${j.pathname}" was given in the \`location\` prop.`),N=j}else N=_;let A=N.pathname||"/",w=A;if(I!=="/"){let j=I.replace(/^\//,"").split("/");w="/"+A.replace(/^\//,"").split("/").slice(j.length).join("/")}let O=rJ(e,{pathname:w});Pc(T||O!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Pc(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=ywe(O&&O.map(j=>Object.assign({},j,{params:Object.assign({},v,j.params),pathname:Ad([I,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?I:Ad([I,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),d,n,r);return t&&R?E.createElement(L0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},R):R}function fwe(){let e=Cwe(),t=awe(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},d={padding:"2px 4px",backgroundColor:r},g=null;return console.error("Error handled by React Router default ErrorBoundary:",e),g=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:d},"ErrorBoundary")," or"," ",E.createElement("code",{style:d},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,g)}var gwe=E.createElement(fwe,null),hwe=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?E.createElement(Yl.Provider,{value:this.props.routeContext},E.createElement(Cj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vwe({routeContext:e,match:t,children:n}){let r=E.useContext(jy);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Yl.Provider,{value:e},n)}function ywe(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,d=n==null?void 0:n.errors;if(d!=null){let S=i.findIndex(I=>I.route.id&&(d==null?void 0:d[I.route.id])!==void 0);Ni(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),i=i.slice(0,Math.min(i.length,S+1))}let g=!1,v=-1;if(n)for(let S=0;S<i.length;S++){let I=i[S];if((I.route.HydrateFallback||I.route.hydrateFallbackElement)&&(v=S),I.route.id){let{loaderData:T,errors:_}=n,N=I.route.loader&&!T.hasOwnProperty(I.route.id)&&(!_||_[I.route.id]===void 0);if(I.route.lazy||N){g=!0,v>=0?i=i.slice(0,v+1):i=[i[0]];break}}}return i.reduceRight((S,I,T)=>{let _,N=!1,A=null,w=null;n&&(_=d&&I.route.id?d[I.route.id]:void 0,A=I.route.errorElement||gwe,g&&(v<0&&T===0?(dJ("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,w=null):v===T&&(N=!0,w=I.route.hydrateFallbackElement||null)));let O=t.concat(i.slice(0,T+1)),R=()=>{let D;return _?D=A:N?D=w:I.route.Component?D=E.createElement(I.route.Component,null):I.route.element?D=I.route.element:D=S,E.createElement(vwe,{match:I,routeContext:{outlet:S,matches:O,isDataRoute:n!=null},children:D})};return n&&(I.route.ErrorBoundary||I.route.errorElement||T===0)?E.createElement(hwe,{location:n.location,revalidation:n.revalidation,component:A,error:_,children:R(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):R()},null)}function Tj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bwe(e){let t=E.useContext(jy);return Ni(t,Tj(e)),t}function Swe(e){let t=E.useContext($_);return Ni(t,Tj(e)),t}function Iwe(e){let t=E.useContext(Yl);return Ni(t,Tj(e)),t}function Mj(e){let t=Iwe(e),n=t.matches[t.matches.length-1];return Ni(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Ewe(){return Mj("useRouteId")}function Cwe(){var r;let e=E.useContext(Cj),t=Swe("useRouteError"),n=Mj("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Twe(){let{router:e}=bwe("useNavigate"),t=Mj("useNavigate"),n=E.useRef(!1);return cJ(()=>{n.current=!0}),E.useCallback(async(i,d={})=>{Pc(n.current,lJ),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...d}))},[e,t])}var Y4={};function dJ(e,t,n){!t&&!Y4[e]&&(Y4[e]=!0,Pc(!1,n))}E.memo(Mwe);function Mwe({routes:e,future:t,state:n}){return uJ(e,void 0,n,t)}function _we({to:e,replace:t,state:n,relative:r}){Ni(Vy(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(Dc);Pc(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=E.useContext(Yl),{pathname:g}=wu(),v=U_(),S=Ej(e,Ij(d),g,r==="path"),I=JSON.stringify(S);return E.useEffect(()=>{v(JSON.parse(I),{replace:t,state:n,relative:r})},[v,I,r,t,n]),null}function xwe(e){return dwe(e.context)}function hr(e){Ni(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wwe({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:d=!1}){Ni(!Vy(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=e.replace(/^\/*/,"/"),v=E.useMemo(()=>({basename:g,navigator:i,static:d,future:{}}),[g,i,d]);typeof n=="string"&&(n=Dy(n));let{pathname:S="/",search:I="",hash:T="",state:_=null,key:N="default"}=n,A=E.useMemo(()=>{let w=Pd(S,g);return w==null?null:{location:{pathname:w,search:I,hash:T,state:_,key:N},navigationType:r}},[g,S,I,T,_,N,r]);return Pc(A!=null,`<Router basename="${g}"> is not able to match the URL "${S}${I}${T}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:E.createElement(Dc.Provider,{value:v},E.createElement(L0.Provider,{children:t,value:A}))}function Nwe({children:e,location:t}){return mwe(PP(e),t)}function PP(e,t=[]){let n=[];return E.Children.forEach(e,(r,i)=>{if(!E.isValidElement(r))return;let d=[...t,i];if(r.type===E.Fragment){n.push.apply(n,PP(r.props.children,d));return}Ni(r.type===hr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ni(!r.props.index||!r.props.children,"An index route cannot have child routes.");let g={id:r.props.id||d.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(g.children=PP(r.props.children,d)),n.push(g)}),n}var SM="get",IM="application/x-www-form-urlencoded";function B_(e){return e!=null&&typeof e.tagName=="string"}function Rwe(e){return B_(e)&&e.tagName.toLowerCase()==="button"}function Awe(e){return B_(e)&&e.tagName.toLowerCase()==="form"}function Owe(e){return B_(e)&&e.tagName.toLowerCase()==="input"}function kwe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Lwe(e,t){return e.button===0&&(!t||t==="_self")&&!kwe(e)}var bT=null;function Pwe(){if(bT===null)try{new FormData(document.createElement("form"),0),bT=!1}catch{bT=!0}return bT}var Dwe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function UN(e){return e!=null&&!Dwe.has(e)?(Pc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${IM}"`),null):e}function jwe(e,t){let n,r,i,d,g;if(Awe(e)){let v=e.getAttribute("action");r=v?Pd(v,t):null,n=e.getAttribute("method")||SM,i=UN(e.getAttribute("enctype"))||IM,d=new FormData(e)}else if(Rwe(e)||Owe(e)&&(e.type==="submit"||e.type==="image")){let v=e.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let S=e.getAttribute("formaction")||v.getAttribute("action");if(r=S?Pd(S,t):null,n=e.getAttribute("formmethod")||v.getAttribute("method")||SM,i=UN(e.getAttribute("formenctype"))||UN(v.getAttribute("enctype"))||IM,d=new FormData(v,e),!Pwe()){let{name:I,type:T,value:_}=e;if(T==="image"){let N=I?`${I}.`:"";d.append(`${N}x`,"0"),d.append(`${N}y`,"0")}else I&&d.append(I,_)}}else{if(B_(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=SM,r=null,i=IM,g=e}return d&&i==="text/plain"&&(g=d,d=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:d,body:g}}function _j(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Vwe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $we(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Uwe(e,t,n){let r=await Promise.all(e.map(async i=>{let d=t.routes[i.route.id];if(d){let g=await Vwe(d,n);return g.links?g.links():[]}return[]}));return zwe(r.flat(1).filter($we).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function X4(e,t,n,r,i,d){let g=(S,I)=>n[I]?S.route.id!==n[I].route.id:!0,v=(S,I)=>{var T;return n[I].pathname!==S.pathname||((T=n[I].route.path)==null?void 0:T.endsWith("*"))&&n[I].params["*"]!==S.params["*"]};return d==="assets"?t.filter((S,I)=>g(S,I)||v(S,I)):d==="data"?t.filter((S,I)=>{var _;let T=r.routes[S.route.id];if(!T||!T.hasLoader)return!1;if(g(S,I)||v(S,I))return!0;if(S.route.shouldRevalidate){let N=S.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(e,window.origin),nextParams:S.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function Bwe(e,t,{includeHydrateFallback:n}={}){return Fwe(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let d=[i.module];return i.clientActionModule&&(d=d.concat(i.clientActionModule)),i.clientLoaderModule&&(d=d.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(d=d.concat(i.hydrateFallbackModule)),i.imports&&(d=d.concat(i.imports)),d}).flat(1))}function Fwe(e){return[...new Set(e)]}function qwe(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function zwe(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let d=JSON.stringify(qwe(i));return n.has(d)||(n.add(d),r.push({key:d,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Hwe=new Set([100,101,204,205]);function Gwe(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Pd(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function pJ(){let e=E.useContext(jy);return _j(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Kwe(){let e=E.useContext($_);return _j(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var xj=E.createContext(void 0);xj.displayName="FrameworkContext";function mJ(){let e=E.useContext(xj);return _j(e,"You must render this element inside a <HydratedRouter> element"),e}function Wwe(e,t){let n=E.useContext(xj),[r,i]=E.useState(!1),[d,g]=E.useState(!1),{onFocus:v,onBlur:S,onMouseEnter:I,onMouseLeave:T,onTouchStart:_}=t,N=E.useRef(null);E.useEffect(()=>{if(e==="render"&&g(!0),e==="viewport"){let O=D=>{D.forEach(j=>{g(j.isIntersecting)})},R=new IntersectionObserver(O,{threshold:.5});return N.current&&R.observe(N.current),()=>{R.disconnect()}}},[e]),E.useEffect(()=>{if(r){let O=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(O)}}},[r]);let A=()=>{i(!0)},w=()=>{i(!1),g(!1)};return n?e!=="intent"?[d,N,{}]:[d,N,{onFocus:II(v,A),onBlur:II(S,w),onMouseEnter:II(I,A),onMouseLeave:II(T,w),onTouchStart:II(_,A)}]:[!1,N,{}]}function II(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ywe({page:e,...t}){let{router:n}=pJ(),r=E.useMemo(()=>rJ(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?E.createElement(Jwe,{page:e,matches:r,...t}):null}function Xwe(e){let{manifest:t,routeModules:n}=mJ(),[r,i]=E.useState([]);return E.useEffect(()=>{let d=!1;return Uwe(e,t,n).then(g=>{d||i(g)}),()=>{d=!0}},[e,t,n]),r}function Jwe({page:e,matches:t,...n}){let r=wu(),{manifest:i,routeModules:d}=mJ(),{basename:g}=pJ(),{loaderData:v,matches:S}=Kwe(),I=E.useMemo(()=>X4(e,t,S,i,r,"data"),[e,t,S,i,r]),T=E.useMemo(()=>X4(e,t,S,i,r,"assets"),[e,t,S,i,r]),_=E.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,O=!1;if(t.forEach(D=>{var L;let j=i.routes[D.route.id];!j||!j.hasLoader||(!I.some(U=>U.route.id===D.route.id)&&D.route.id in v&&((L=d[D.route.id])!=null&&L.shouldRevalidate)||j.hasClientLoader?O=!0:w.add(D.route.id))}),w.size===0)return[];let R=Gwe(e,g);return O&&w.size>0&&R.searchParams.set("_routes",t.filter(D=>w.has(D.route.id)).map(D=>D.route.id).join(",")),[R.pathname+R.search]},[g,v,r,i,I,t,e,d]),N=E.useMemo(()=>Bwe(T,i),[T,i]),A=Xwe(T);return E.createElement(E.Fragment,null,_.map(w=>E.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),N.map(w=>E.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),A.map(({key:w,link:O})=>E.createElement("link",{key:w,...O})))}function Qwe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var fJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fJ&&(window.__reactRouterVersion="7.6.3")}catch{}function Zwe({basename:e,children:t,window:n}){let r=E.useRef();r.current==null&&(r.current=Pxe({window:n,v5Compat:!0}));let i=r.current,[d,g]=E.useState({action:i.action,location:i.location}),v=E.useCallback(S=>{E.startTransition(()=>g(S))},[g]);return E.useLayoutEffect(()=>i.listen(v),[i,v]),E.createElement(wwe,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:i})}var gJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GM=E.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:d,replace:g,state:v,target:S,to:I,preventScrollReset:T,viewTransition:_,...N},A){let{basename:w}=E.useContext(Dc),O=typeof I=="string"&&gJ.test(I),R,D=!1;if(typeof I=="string"&&O&&(R=I,fJ))try{let V=new URL(window.location.href),K=I.startsWith("//")?new URL(V.protocol+I):new URL(I),J=Pd(K.pathname,w);K.origin===V.origin&&J!=null?I=J+K.search+K.hash:D=!0}catch{Pc(!1,`<Link to="${I}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=lwe(I,{relative:i}),[L,U,$]=Wwe(r,N),F=rNe(I,{replace:g,state:v,target:S,preventScrollReset:T,relative:i,viewTransition:_});function z(V){t&&t(V),V.defaultPrevented||F(V)}let H=E.createElement("a",{...N,...$,href:R||j,onClick:D||d?t:z,ref:Qwe(A,U),target:S,"data-discover":!O&&n==="render"?"true":void 0});return L&&!O?E.createElement(E.Fragment,null,H,E.createElement(Ywe,{page:j})):H});GM.displayName="Link";var eNe=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:d,to:g,viewTransition:v,children:S,...I},T){let _=P0(g,{relative:I.relative}),N=wu(),A=E.useContext($_),{navigator:w,basename:O}=E.useContext(Dc),R=A!=null&&lNe(_)&&v===!0,D=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,j=N.pathname,L=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(j=j.toLowerCase(),L=L?L.toLowerCase():null,D=D.toLowerCase()),L&&O&&(L=Pd(L,O)||L);const U=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let $=j===D||!i&&j.startsWith(D)&&j.charAt(U)==="/",F=L!=null&&(L===D||!i&&L.startsWith(D)&&L.charAt(D.length)==="/"),z={isActive:$,isPending:F,isTransitioning:R},H=$?t:void 0,V;typeof r=="function"?V=r(z):V=[r,$?"active":null,F?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let K=typeof d=="function"?d(z):d;return E.createElement(GM,{...I,"aria-current":H,className:V,ref:T,style:K,to:g,viewTransition:v},typeof S=="function"?S(z):S)});eNe.displayName="NavLink";var tNe=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:d,method:g=SM,action:v,onSubmit:S,relative:I,preventScrollReset:T,viewTransition:_,...N},A)=>{let w=oNe(),O=sNe(v,{relative:I}),R=g.toLowerCase()==="get"?"get":"post",D=typeof v=="string"&&gJ.test(v),j=L=>{if(S&&S(L),L.defaultPrevented)return;L.preventDefault();let U=L.nativeEvent.submitter,$=(U==null?void 0:U.getAttribute("formmethod"))||g;w(U||L.currentTarget,{fetcherKey:t,method:$,navigate:n,replace:i,state:d,relative:I,preventScrollReset:T,viewTransition:_})};return E.createElement("form",{ref:A,method:R,action:O,onSubmit:r?S:j,...N,"data-discover":!D&&e==="render"?"true":void 0})});tNe.displayName="Form";function nNe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hJ(e){let t=E.useContext(jy);return Ni(t,nNe(e)),t}function rNe(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:d,viewTransition:g}={}){let v=U_(),S=wu(),I=P0(e,{relative:d});return E.useCallback(T=>{if(Lwe(T,t)){T.preventDefault();let _=n!==void 0?n:f0(S)===f0(I);v(e,{replace:_,state:r,preventScrollReset:i,relative:d,viewTransition:g})}},[S,v,I,n,r,t,e,i,d,g])}var aNe=0,iNe=()=>`__${String(++aNe)}__`;function oNe(){let{router:e}=hJ("useSubmit"),{basename:t}=E.useContext(Dc),n=Ewe();return E.useCallback(async(r,i={})=>{let{action:d,method:g,encType:v,formData:S,body:I}=jwe(r,t);if(i.navigate===!1){let T=i.fetcherKey||iNe();await e.fetch(T,n,i.action||d,{preventScrollReset:i.preventScrollReset,formData:S,body:I,formMethod:i.method||g,formEncType:i.encType||v,flushSync:i.flushSync})}else await e.navigate(i.action||d,{preventScrollReset:i.preventScrollReset,formData:S,body:I,formMethod:i.method||g,formEncType:i.encType||v,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function sNe(e,{relative:t}={}){let{basename:n}=E.useContext(Dc),r=E.useContext(Yl);Ni(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),d={...P0(e||".",{relative:t})},g=wu();if(e==null){d.search=g.search;let v=new URLSearchParams(d.search),S=v.getAll("index");if(S.some(T=>T==="")){v.delete("index"),S.filter(_=>_).forEach(_=>v.append("index",_));let T=v.toString();d.search=T?`?${T}`:""}}return(!e||e===".")&&i.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(d.pathname=d.pathname==="/"?n:Ad([n,d.pathname])),f0(d)}function lNe(e,t={}){let n=E.useContext(sJ);Ni(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hJ("useViewTransitionState"),i=P0(e,{relative:t.relative});if(!n.isTransitioning)return!1;let d=Pd(n.currentLocation.pathname,r)||n.currentLocation.pathname,g=Pd(n.nextLocation.pathname,r)||n.nextLocation.pathname;return HM(i.pathname,g)!=null||HM(i.pathname,d)!=null}[...Hwe];const DP={},vJ=Xe.createContext(DP);function cNe(e){const t=Xe.useContext(vJ);return Xe.useMemo(function(){return typeof e=="function"?e(t):{...t,...e}},[t,e])}function uNe(e){let t;return e.disableParentContext?t=typeof e.components=="function"?e.components(DP):e.components||DP:t=cNe(e.components),Xe.createElement(vJ.Provider,{value:t},e.children)}const dNe=[{key:"/scenes",label:"场景总览"},{key:"init & login",label:"初始化登录",type:"group",children:[{key:"/scenes/init",label:"初始化"},{key:"/scenes/login",label:"登录"}]},{key:"conversation",label:"会话",type:"group",children:[{key:"/scenes/local-conversation",label:"本地会话"}]}],{Sider:pNe,Content:mNe}=hl,ST=({children:e})=>{const t=U_(),n=wu(),[r,i]=E.useState([]),d=n.pathname,g=S=>{t(S)};E.useEffect(()=>{const I=setTimeout(()=>{const T=document.querySelectorAll("h1, h2, h3, h4, h5, h6"),_=[];T.forEach((N,A)=>{const w=parseInt(N.tagName.charAt(1)),O=N.textContent||"",R=`heading-${A}-${O.replace(/\s+/g,"-").toLowerCase()}`;N.id=R;const D={key:R,href:`#${R}`,title:O};if(w===1)_.push(D);else if(w===2){const j=_[_.length-1];j?(j.children||(j.children=[]),j.children.push(D)):_.push(D)}else if(w===3){const j=_[_.length-1];if(j&&j.children){const L=j.children[j.children.length-1];L?(L.children||(L.children=[]),L.children.push(D)):j.children.push(D)}else j?(j.children||(j.children=[]),j.children.push(D)):_.push(D)}}),i(_)},100);return()=>clearTimeout(I)},[e,n.pathname]);const v={h1:S=>s.jsx("h1",{style:{marginTop:"2em",marginBottom:"1em"},...S}),h2:S=>s.jsx("h2",{style:{marginTop:"1.5em",marginBottom:"0.8em"},...S}),h3:S=>s.jsx("h3",{style:{marginTop:"1.2em",marginBottom:"0.6em"},...S})};return s.jsx(hl,{style:{height:"100%"},children:s.jsxs(hl,{style:{minHeight:"100%",background:"#fff",borderRadius:"8px",overflow:"hidden"},children:[s.jsx(pNe,{width:"18vw",style:{paddingTop:"24px",minHeight:"100%",background:"#fff",borderRight:"1px solid #f0f0f0",textAlign:"left"},children:s.jsx(jd,{theme:"light",mode:"inline",selectedKeys:[d],items:dNe,onClick:({key:S})=>g(S)})}),s.jsxs(mNe,{style:{padding:"24px",paddingInline:"48px 200px",paddingBottom:"100px",minHeight:280,overflow:"scroll",position:"relative"},children:[s.jsx(uNe,{components:v,children:e}),r.length>0&&s.jsxs("div",{style:{position:"fixed",right:"24px",top:"50%",transform:"translateY(-50%)",width:"160px",maxHeight:"60vh",overflow:"auto",background:"#fff",border:"1px solid #f0f0f0",borderRadius:"8px",padding:"16px 0",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#666",padding:"0 16px 8px",borderBottom:"1px solid #f0f0f0",marginBottom:"8px"},children:"目录"}),s.jsx(UK,{items:r,offsetTop:80,bounds:5,style:{fontSize:"12px"},getContainer:()=>document.querySelector(".ant-layout-content")||window})]})]})]})})},yJ=E.createContext({}),fNe={aliceblue:"9ehhb",antiquewhite:"9sgk7",aqua:"1ekf",aquamarine:"4zsno",azure:"9eiv3",beige:"9lhp8",bisque:"9zg04",black:"0",blanchedalmond:"9zhe5",blue:"73",blueviolet:"5e31e",brown:"6g016",burlywood:"8ouiv",cadetblue:"3qba8",chartreuse:"4zshs",chocolate:"87k0u",coral:"9yvyo",cornflowerblue:"3xael",cornsilk:"9zjz0",crimson:"8l4xo",cyan:"1ekf",darkblue:"3v",darkcyan:"rkb",darkgoldenrod:"776yz",darkgray:"6mbhl",darkgreen:"jr4",darkgrey:"6mbhl",darkkhaki:"7ehkb",darkmagenta:"5f91n",darkolivegreen:"3bzfz",darkorange:"9yygw",darkorchid:"5z6x8",darkred:"5f8xs",darksalmon:"9441m",darkseagreen:"5lwgf",darkslateblue:"2th1n",darkslategray:"1ugcv",darkslategrey:"1ugcv",darkturquoise:"14up",darkviolet:"5rw7n",deeppink:"9yavn",deepskyblue:"11xb",dimgray:"442g9",dimgrey:"442g9",dodgerblue:"16xof",firebrick:"6y7tu",floralwhite:"9zkds",forestgreen:"1cisi",fuchsia:"9y70f",gainsboro:"8m8kc",ghostwhite:"9pq0v",goldenrod:"8j4f4",gold:"9zda8",gray:"50i2o",green:"pa8",greenyellow:"6senj",grey:"50i2o",honeydew:"9eiuo",hotpink:"9yrp0",indianred:"80gnw",indigo:"2xcoy",ivory:"9zldc",khaki:"9edu4",lavenderblush:"9ziet",lavender:"90c8q",lawngreen:"4vk74",lemonchiffon:"9zkct",lightblue:"6s73a",lightcoral:"9dtog",lightcyan:"8s1rz",lightgoldenrodyellow:"9sjiq",lightgray:"89jo3",lightgreen:"5nkwg",lightgrey:"89jo3",lightpink:"9z6wx",lightsalmon:"9z2ii",lightseagreen:"19xgq",lightskyblue:"5arju",lightslategray:"4nwk9",lightslategrey:"4nwk9",lightsteelblue:"6wau6",lightyellow:"9zlcw",lime:"1edc",limegreen:"1zcxe",linen:"9shk6",magenta:"9y70f",maroon:"4zsow",mediumaquamarine:"40eju",mediumblue:"5p",mediumorchid:"79qkz",mediumpurple:"5r3rv",mediumseagreen:"2d9ip",mediumslateblue:"4tcku",mediumspringgreen:"1di2",mediumturquoise:"2uabw",mediumvioletred:"7rn9h",midnightblue:"z980",mintcream:"9ljp6",mistyrose:"9zg0x",moccasin:"9zfzp",navajowhite:"9zest",navy:"3k",oldlace:"9wq92",olive:"50hz4",olivedrab:"472ub",orange:"9z3eo",orangered:"9ykg0",orchid:"8iu3a",palegoldenrod:"9bl4a",palegreen:"5yw0o",paleturquoise:"6v4ku",palevioletred:"8k8lv",papayawhip:"9zi6t",peachpuff:"9ze0p",peru:"80oqn",pink:"9z8wb",plum:"8nba5",powderblue:"6wgdi",purple:"4zssg",rebeccapurple:"3zk49",red:"9y6tc",rosybrown:"7cv4f",royalblue:"2jvtt",saddlebrown:"5fmkz",salmon:"9rvci",sandybrown:"9jn1c",seagreen:"1tdnb",seashell:"9zje6",sienna:"6973h",silver:"7ir40",skyblue:"5arjf",slateblue:"45e4t",slategray:"4e100",slategrey:"4e100",snow:"9zke2",springgreen:"1egv",steelblue:"2r1kk",tan:"87yx8",teal:"pds",thistle:"8ggk8",tomato:"9yqfb",turquoise:"2j4r4",violet:"9b10u",wheat:"9ld4j",white:"9zldr",whitesmoke:"9lhpx",yellow:"9zl6o",yellowgreen:"61fzm"},_o=Math.round;function BN(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=t(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const J4=(e,t,n)=>n===0?e:e/100;function EI(e,t){const n=t||255;return e>n?n:e<0?0:e}class Xv{constructor(t){cl(this,"isValid",!0);cl(this,"r",0);cl(this,"g",0);cl(this,"b",0);cl(this,"a",1);cl(this,"_h");cl(this,"_s");cl(this,"_l");cl(this,"_v");cl(this,"_max");cl(this,"_min");cl(this,"_brightness");function n(i){return i[0]in t&&i[1]in t&&i[2]in t}if(t)if(typeof t=="string"){let d=function(g){return i.startsWith(g)};var r=d;const i=t.trim();if(/^#?[A-F\d]{3,8}$/i.test(i))this.fromHexString(i);else if(d("rgb"))this.fromRgbString(i);else if(d("hsl"))this.fromHslString(i);else if(d("hsv")||d("hsb"))this.fromHsvString(i);else{const g=fNe[i.toLowerCase()];g&&this.fromHexString(parseInt(g,36).toString(16).padStart(6,"0"))}}else if(t instanceof Xv)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(n("rgb"))this.r=EI(t.r),this.g=EI(t.g),this.b=EI(t.b),this.a=typeof t.a=="number"?EI(t.a,1):1;else if(n("hsl"))this.fromHsl(t);else if(n("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){const n=this.toHsv();return n.h=t,this._c(n)}getLuminance(){function t(d){const g=d/255;return g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4)}const n=t(this.r),r=t(this.g),i=t(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const t=this.getMax()-this.getMin();t===0?this._h=0:this._h=_o(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-t/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(t=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+t/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(t,n=50){const r=this._c(t),i=n/100,d=v=>(r[v]-this[v])*i+this[v],g={r:_o(d("r")),g:_o(d("g")),b:_o(d("b")),a:_o(d("a")*100)/100};return this._c(g)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){const n=this._c(t),r=this.a+n.a*(1-this.a),i=d=>_o((this[d]*this.a+n[d]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#";const n=(this.r||0).toString(16);t+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);t+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(t+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const d=_o(this.a*255).toString(16);t+=d.length===2?d:"0"+d}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const t=this.getHue(),n=_o(this.getSaturation()*100),r=_o(this.getLightness()*100);return this.a!==1?`hsla(${t},${n}%,${r}%,${this.a})`:`hsl(${t},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,n,r){const i=this.clone();return i[t]=EI(n,r),i}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){const n=t.replace("#","");function r(i,d){return parseInt(n[i]+n[d||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:t,s:n,l:r,a:i}){if(this._h=t%360,this._s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const N=_o(r*255);this.r=N,this.g=N,this.b=N}let d=0,g=0,v=0;const S=t/60,I=(1-Math.abs(2*r-1))*n,T=I*(1-Math.abs(S%2-1));S>=0&&S<1?(d=I,g=T):S>=1&&S<2?(d=T,g=I):S>=2&&S<3?(g=I,v=T):S>=3&&S<4?(g=T,v=I):S>=4&&S<5?(d=T,v=I):S>=5&&S<6&&(d=I,v=T);const _=r-I/2;this.r=_o((d+_)*255),this.g=_o((g+_)*255),this.b=_o((v+_)*255)}fromHsv({h:t,s:n,v:r,a:i}){this._h=t%360,this._s=n,this._v=r,this.a=typeof i=="number"?i:1;const d=_o(r*255);if(this.r=d,this.g=d,this.b=d,n<=0)return;const g=t/60,v=Math.floor(g),S=g-v,I=_o(r*(1-n)*255),T=_o(r*(1-n*S)*255),_=_o(r*(1-n*(1-S))*255);switch(v){case 0:this.g=_,this.b=I;break;case 1:this.r=T,this.b=I;break;case 2:this.r=I,this.b=_;break;case 3:this.r=I,this.g=T;break;case 4:this.r=_,this.g=I;break;case 5:default:this.g=I,this.b=T;break}}fromHsvString(t){const n=BN(t,J4);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(t){const n=BN(t,J4);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(t){const n=BN(t,(r,i)=>i.includes("%")?_o(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}const IT=2,Q4=.16,gNe=.05,hNe=.05,vNe=.15,bJ=5,SJ=4,yNe=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Z4(e,t,n){let r;return Math.round(e.h)>=60&&Math.round(e.h)<=240?r=n?Math.round(e.h)-IT*t:Math.round(e.h)+IT*t:r=n?Math.round(e.h)+IT*t:Math.round(e.h)-IT*t,r<0?r+=360:r>=360&&(r-=360),r}function eq(e,t,n){if(e.h===0&&e.s===0)return e.s;let r;return n?r=e.s-Q4*t:t===SJ?r=e.s+Q4:r=e.s+gNe*t,r>1&&(r=1),n&&t===bJ&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function tq(e,t,n){let r;return n?r=e.v+hNe*t:r=e.v-vNe*t,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function bNe(e,t={}){const n=[],r=new Xv(e),i=r.toHsv();for(let d=bJ;d>0;d-=1){const g=new Xv({h:Z4(i,d,!0),s:eq(i,d,!0),v:tq(i,d,!0)});n.push(g)}n.push(r);for(let d=1;d<=SJ;d+=1){const g=new Xv({h:Z4(i,d),s:eq(i,d),v:tq(i,d)});n.push(g)}return t.theme==="dark"?yNe.map(({index:d,amount:g})=>new Xv(t.backgroundColor||"#141414").mix(n[d],g).toHexString()):n.map(d=>d.toHexString())}const jP=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];jP.primary=jP[5];function SNe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function INe(e,t){if(!e)return!1;if(e.contains)return e.contains(t);let n=t;for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const nq="data-rc-order",rq="data-rc-priority",ENe="rc-util-key",VP=new Map;function IJ({mark:e}={}){return e?e.startsWith("data-")?e:`data-${e}`:ENe}function wj(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function CNe(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function Nj(e){return Array.from((VP.get(e)||e).children).filter(t=>t.tagName==="STYLE")}function EJ(e,t={}){if(!SNe())return null;const{csp:n,prepend:r,priority:i=0}=t,d=CNe(r),g=d==="prependQueue",v=document.createElement("style");v.setAttribute(nq,d),g&&i&&v.setAttribute(rq,`${i}`),n!=null&&n.nonce&&(v.nonce=n==null?void 0:n.nonce),v.innerHTML=e;const S=wj(t),{firstChild:I}=S;if(r){if(g){const T=(t.styles||Nj(S)).filter(_=>{if(!["prepend","prependQueue"].includes(_.getAttribute(nq)))return!1;const N=Number(_.getAttribute(rq)||0);return i>=N});if(T.length)return S.insertBefore(v,T[T.length-1].nextSibling),v}S.insertBefore(v,I)}else S.appendChild(v);return v}function TNe(e,t={}){let{styles:n}=t;return n||(n=Nj(wj(t))),n.find(r=>r.getAttribute(IJ(t))===e)}function MNe(e,t){const n=VP.get(e);if(!n||!INe(document,n)){const r=EJ("",t),{parentNode:i}=r;VP.set(e,i),e.removeChild(r)}}function _Ne(e,t,n={}){var S,I,T;const r=wj(n),i=Nj(r),d={...n,styles:i};MNe(r,d);const g=TNe(t,d);if(g)return(S=d.csp)!=null&&S.nonce&&g.nonce!==((I=d.csp)==null?void 0:I.nonce)&&(g.nonce=(T=d.csp)==null?void 0:T.nonce),g.innerHTML!==e&&(g.innerHTML=e),g;const v=EJ(e,d);return v.setAttribute(IJ(d),t),v}function CJ(e){var t;return(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e)}function xNe(e){return CJ(e)instanceof ShadowRoot}function wNe(e){return xNe(e)?CJ(e):null}let $P={};const NNe=e=>{};function RNe(e,t){}function ANe(e,t){}function ONe(){$P={}}function TJ(e,t,n){!t&&!$P[n]&&(e(!1,n),$P[n]=!0)}function F_(e,t){TJ(RNe,e,t)}function kNe(e,t){TJ(ANe,e,t)}F_.preMessage=NNe;F_.resetWarned=ONe;F_.noteOnce=kNe;function LNe(e){return e.replace(/-(.)/g,(t,n)=>n.toUpperCase())}function PNe(e,t){F_(e,`[@ant-design/icons] ${t}`)}function aq(e){return typeof e=="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(typeof e.icon=="object"||typeof e.icon=="function")}function iq(e={}){return Object.keys(e).reduce((t,n)=>{const r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:delete t[n],t[LNe(n)]=r}return t},{})}function UP(e,t,n){return n?Xe.createElement(e.tag,{key:t,...iq(e.attrs),...n},(e.children||[]).map((r,i)=>UP(r,`${t}-${e.tag}-${i}`))):Xe.createElement(e.tag,{key:t,...iq(e.attrs)},(e.children||[]).map((r,i)=>UP(r,`${t}-${e.tag}-${i}`)))}function MJ(e){return bNe(e)[0]}function _J(e){return e?Array.isArray(e)?e:[e]:[]}const DNe=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,jNe=e=>{const{csp:t,prefixCls:n,layer:r}=E.useContext(yJ);let i=DNe;n&&(i=i.replace(/anticon/g,n)),r&&(i=`@layer ${r} {
${i}
}`),E.useEffect(()=>{const d=e.current,g=wNe(d);_Ne(i,"@ant-design-icons",{prepend:!r,csp:t,attachTo:g})},[])},HI={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function VNe({primaryColor:e,secondaryColor:t}){HI.primaryColor=e,HI.secondaryColor=t||MJ(e),HI.calculated=!!t}function $Ne(){return{...HI}}const $y=e=>{const{icon:t,className:n,onClick:r,style:i,primaryColor:d,secondaryColor:g,...v}=e,S=E.useRef();let I=HI;if(d&&(I={primaryColor:d,secondaryColor:g||MJ(d)}),jNe(S),PNe(aq(t),`icon should be icon definiton, but got ${t}`),!aq(t))return null;let T=t;return T&&typeof T.icon=="function"&&(T={...T,icon:T.icon(I.primaryColor,I.secondaryColor)}),UP(T.icon,`svg-${T.name}`,{className:n,onClick:r,style:i,"data-icon":T.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",...v,ref:S})};$y.displayName="IconReact";$y.getTwoToneColors=$Ne;$y.setTwoToneColors=VNe;function xJ(e){const[t,n]=_J(e);return $y.setTwoToneColors({primaryColor:t,secondaryColor:n})}function UNe(){const e=$y.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}function BP(){return BP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BP.apply(this,arguments)}xJ(jP.primary);const _m=E.forwardRef((e,t)=>{const{className:n,icon:r,spin:i,rotate:d,tabIndex:g,onClick:v,twoToneColor:S,...I}=e,{prefixCls:T="anticon",rootClassName:_}=E.useContext(yJ),N=Ue(_,T,{[`${T}-${r.name}`]:!!r.name,[`${T}-spin`]:!!i||r.name==="loading"},n);let A=g;A===void 0&&v&&(A=-1);const w=d?{msTransform:`rotate(${d}deg)`,transform:`rotate(${d}deg)`}:void 0,[O,R]=_J(S);return E.createElement("span",BP({role:"img","aria-label":r.name},I,{ref:t,tabIndex:A,onClick:v,className:N}),E.createElement($y,{icon:r,primaryColor:O,secondaryColor:R,style:w}))});_m.displayName="AntdIcon";_m.getTwoToneColor=UNe;_m.setTwoToneColor=xJ;function FP(){return FP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FP.apply(this,arguments)}const BNe=(e,t)=>E.createElement(_m,FP({},e,{ref:t,icon:kEe})),FNe=E.forwardRef(BNe);function qP(){return qP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qP.apply(this,arguments)}const qNe=(e,t)=>E.createElement(_m,qP({},e,{ref:t,icon:IX})),zNe=E.forwardRef(qNe);function zP(){return zP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zP.apply(this,arguments)}const HNe=(e,t)=>E.createElement(_m,zP({},e,{ref:t,icon:cX})),GNe=E.forwardRef(HNe);function HP(){return HP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HP.apply(this,arguments)}const KNe=(e,t)=>E.createElement(_m,HP({},e,{ref:t,icon:WY})),WNe=E.forwardRef(KNe);function GP(){return GP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GP.apply(this,arguments)}const YNe=(e,t)=>E.createElement(_m,GP({},e,{ref:t,icon:CCe})),LI=E.forwardRef(YNe);function oq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oq(Object(n),!0).forEach(function(r){Ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XNe(e){var t=e.length;if(t===0||t===1)return e;if(t===2)return[e[0],e[1],"".concat(e[0],".").concat(e[1]),"".concat(e[1],".").concat(e[0])];if(t===3)return[e[0],e[1],e[2],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0])];if(t>=4)return[e[0],e[1],e[2],e[3],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[2],".").concat(e[3]),"".concat(e[3],".").concat(e[0]),"".concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[0]),"".concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[3],".").concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[2],".").concat(e[1],".").concat(e[0])]}var FN={};function JNe(e){if(e.length===0||e.length===1)return e;var t=e.join(".");return FN[t]||(FN[t]=XNe(e)),FN[t]}function QNe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.filter(function(d){return d!=="token"}),i=JNe(r);return i.reduce(function(d,g){return Jv(Jv({},d),n[g])},t)}function sq(e){return e.join(" ")}function ZNe(e,t){var n=0;return function(r){return n+=1,r.map(function(i,d){return wJ({node:i,stylesheet:e,useInlineStyles:t,key:"code-segment-".concat(n,"-").concat(d)})})}}function wJ(e){var t=e.node,n=e.stylesheet,r=e.style,i=r===void 0?{}:r,d=e.useInlineStyles,g=e.key,v=t.properties,S=t.type,I=t.tagName,T=t.value;if(S==="text")return T;if(I){var _=ZNe(n,d),N;if(!d)N=Jv(Jv({},v),{},{className:sq(v.className)});else{var A=Object.keys(n).reduce(function(D,j){return j.split(".").forEach(function(L){D.includes(L)||D.push(L)}),D},[]),w=v.className&&v.className.includes("token")?["token"]:[],O=v.className&&w.concat(v.className.filter(function(D){return!A.includes(D)}));N=Jv(Jv({},v),{},{className:sq(O)||void 0,style:QNe(v.className,Object.assign({},v.style,i),n)})}var R=_(t.children);return Xe.createElement(I,kt({key:g},N),R)}}const e1e=function(e,t){var n=e.listLanguages();return n.indexOf(t)!==-1};var t1e=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function lq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lq(Object(n),!0).forEach(function(r){Ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var n1e=/\n/g;function r1e(e){return e.match(n1e)}function a1e(e){var t=e.lines,n=e.startingLineNumber,r=e.style;return t.map(function(i,d){var g=d+n;return Xe.createElement("span",{key:"line-".concat(d),className:"react-syntax-highlighter-line-number",style:typeof r=="function"?r(g):r},"".concat(g,`
`))})}function i1e(e){var t=e.codeString,n=e.codeStyle,r=e.containerStyle,i=r===void 0?{float:"left",paddingRight:"10px"}:r,d=e.numberStyle,g=d===void 0?{}:d,v=e.startingLineNumber;return Xe.createElement("code",{style:Object.assign({},n,i)},a1e({lines:t.replace(/\n$/,"").split(`
`),style:g,startingLineNumber:v}))}function o1e(e){return"".concat(e.toString().length,".25em")}function NJ(e,t){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(e),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:t},children:[{type:"text",value:e}]}}function RJ(e,t,n){var r={display:"inline-block",minWidth:o1e(n),paddingRight:"1em",textAlign:"right",userSelect:"none"},i=typeof e=="function"?e(t):e,d=vm(vm({},r),i);return d}function EM(e){var t=e.children,n=e.lineNumber,r=e.lineNumberStyle,i=e.largestLineNumber,d=e.showInlineLineNumbers,g=e.lineProps,v=g===void 0?{}:g,S=e.className,I=S===void 0?[]:S,T=e.showLineNumbers,_=e.wrapLongLines,N=e.wrapLines,A=N===void 0?!1:N,w=A?vm({},typeof v=="function"?v(n):v):{};if(w.className=w.className?[].concat(Rt(w.className.trim().split(/\s+/)),Rt(I)):I,n&&d){var O=RJ(r,n,i);t.unshift(NJ(n,O))}return _&T&&(w.style=vm({display:"flex"},w.style)),{type:"element",tagName:"span",properties:w,children:t}}function AJ(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=0;r<e.length;r++){var i=e[r];if(i.type==="text")n.push(EM({children:[i],className:Rt(new Set(t))}));else if(i.children){var d=t.concat(i.properties.className);AJ(i.children,d).forEach(function(g){return n.push(g)})}}return n}function s1e(e,t,n,r,i,d,g,v,S){var I,T=AJ(e.value),_=[],N=-1,A=0;function w($,F){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return EM({children:$,lineNumber:F,lineNumberStyle:v,largestLineNumber:g,showInlineLineNumbers:i,lineProps:n,className:z,showLineNumbers:r,wrapLongLines:S,wrapLines:t})}function O($,F){if(r&&F&&i){var z=RJ(v,F,g);$.unshift(NJ(F,z))}return $}function R($,F){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return t||z.length>0?w($,F,z):O($,F)}for(var D=function(){var F=T[A],z=F.children[0].value,H=r1e(z);if(H){var V=z.split(`
`);V.forEach(function(K,J){var te=r&&_.length+d,Z={type:"text",value:"".concat(K,`
`)};if(J===0){var X=T.slice(N+1,A).concat(EM({children:[Z],className:F.properties.className})),re=R(X,te);_.push(re)}else if(J===V.length-1){var ee=T[A+1]&&T[A+1].children&&T[A+1].children[0],ae={type:"text",value:"".concat(K)};if(ee){var de=EM({children:[ae],className:F.properties.className});T.splice(A+1,0,de)}else{var he=[ae],ue=R(he,te,F.properties.className);_.push(ue)}}else{var ye=[Z],be=R(ye,te,F.properties.className);_.push(be)}}),N=A}A++};A<T.length;)D();if(N!==T.length-1){var j=T.slice(N+1,T.length);if(j&&j.length){var L=r&&_.length+d,U=R(j,L);_.push(U)}}return t?_:(I=[]).concat.apply(I,_)}function l1e(e){var t=e.rows,n=e.stylesheet,r=e.useInlineStyles;return t.map(function(i,d){return wJ({node:i,stylesheet:n,useInlineStyles:r,key:"code-segement".concat(d)})})}function OJ(e){return e&&typeof e.highlightAuto<"u"}function c1e(e){var t=e.astGenerator,n=e.language,r=e.code,i=e.defaultCodeValue;if(OJ(t)){var d=e1e(t,n);return n==="text"?{value:i,language:"text"}:d?t.highlight(n,r):t.highlightAuto(r)}try{return n&&n!=="text"?{value:t.highlight(r,n)}:{value:i}}catch{return{value:i}}}function u1e(e,t){return function(r){var i=r.language,d=r.children,g=r.style,v=g===void 0?t:g,S=r.customStyle,I=S===void 0?{}:S,T=r.codeTagProps,_=T===void 0?{className:i?"language-".concat(i):void 0,style:vm(vm({},v['code[class*="language-"]']),v['code[class*="language-'.concat(i,'"]')])}:T,N=r.useInlineStyles,A=N===void 0?!0:N,w=r.showLineNumbers,O=w===void 0?!1:w,R=r.showInlineLineNumbers,D=R===void 0?!0:R,j=r.startingLineNumber,L=j===void 0?1:j,U=r.lineNumberContainerStyle,$=r.lineNumberStyle,F=$===void 0?{}:$,z=r.wrapLines,H=r.wrapLongLines,V=H===void 0?!1:H,K=r.lineProps,J=K===void 0?{}:K,te=r.renderer,Z=r.PreTag,X=Z===void 0?"pre":Z,re=r.CodeTag,ee=re===void 0?"code":re,ae=r.code,de=ae===void 0?(Array.isArray(d)?d[0]:d)||"":ae,he=r.astGenerator,ue=ir(r,t1e);he=he||e;var ye=O?Xe.createElement(i1e,{containerStyle:U,codeStyle:_.style||{},numberStyle:F,startingLineNumber:L,codeString:de}):null,be=v.hljs||v['pre[class*="language-"]']||{backgroundColor:"#fff"},oe=OJ(he)?"hljs":"prismjs",pe=A?Object.assign({},ue,{style:Object.assign({},be,I)}):Object.assign({},ue,{className:ue.className?"".concat(oe," ").concat(ue.className):oe,style:Object.assign({},I)});if(V?_.style=vm({whiteSpace:"pre-wrap"},_.style):_.style=vm({whiteSpace:"pre"},_.style),!he)return Xe.createElement(X,pe,ye,Xe.createElement(ee,_,de));(z===void 0&&te||V)&&(z=!0),te=te||l1e;var fe=[{type:"text",value:de}],_e=c1e({astGenerator:he,language:i,code:de,defaultCodeValue:fe});_e.language===null&&(_e.value=fe);var Te=_e.value.length;Te===1&&_e.value[0].type==="text"&&(Te=_e.value[0].value.split(`
`).length);var Se=Te+L,De=s1e(_e,z,J,O,D,L,Se,F,V);return Xe.createElement(X,pe,Xe.createElement(ee,_,!D&&ye,te({rows:De,stylesheet:v,useInlineStyles:A})))}}const d1e=["abap","abnf","actionscript","ada","agda","al","antlr4","apacheconf","apex","apl","applescript","aql","arduino","arff","asciidoc","asm6502","asmatmel","aspnet","autohotkey","autoit","avisynth","avro-idl","bash","basic","batch","bbcode","bicep","birb","bison","bnf","brainfuck","brightscript","bro","bsl","c","cfscript","chaiscript","cil","clike","clojure","cmake","cobol","coffeescript","concurnas","coq","cpp","crystal","csharp","cshtml","csp","css-extras","css","csv","cypher","d","dart","dataweave","dax","dhall","diff","django","dns-zone-file","docker","dot","ebnf","editorconfig","eiffel","ejs","elixir","elm","erb","erlang","etlua","excel-formula","factor","false","firestore-security-rules","flow","fortran","fsharp","ftl","gap","gcode","gdscript","gedcom","gherkin","git","glsl","gml","gn","go-module","go","graphql","groovy","haml","handlebars","haskell","haxe","hcl","hlsl","hoon","hpkp","hsts","http","ichigojam","icon","icu-message-format","idris","iecst","ignore","inform7","ini","io","j","java","javadoc","javadoclike","javascript","javastacktrace","jexl","jolie","jq","js-extras","js-templates","jsdoc","json","json5","jsonp","jsstacktrace","jsx","julia","keepalived","keyman","kotlin","kumir","kusto","latex","latte","less","lilypond","liquid","lisp","livescript","llvm","log","lolcode","lua","magma","makefile","markdown","markup-templating","markup","matlab","maxscript","mel","mermaid","mizar","mongodb","monkey","moonscript","n1ql","n4js","nand2tetris-hdl","naniscript","nasm","neon","nevod","nginx","nim","nix","nsis","objectivec","ocaml","opencl","openqasm","oz","parigp","parser","pascal","pascaligo","pcaxis","peoplecode","perl","php-extras","php","phpdoc","plsql","powerquery","powershell","processing","prolog","promql","properties","protobuf","psl","pug","puppet","pure","purebasic","purescript","python","q","qml","qore","qsharp","r","racket","reason","regex","rego","renpy","rest","rip","roboconf","robotframework","ruby","rust","sas","sass","scala","scheme","scss","shell-session","smali","smalltalk","smarty","sml","solidity","solution-file","soy","sparql","splunk-spl","sqf","sql","squirrel","stan","stylus","swift","systemd","t4-cs","t4-templating","t4-vb","tap","tcl","textile","toml","tremor","tsx","tt2","turtle","twig","typescript","typoscript","unrealscript","uorazor","uri","v","vala","vbnet","velocity","verilog","vhdl","vim","visual-basic","warpscript","wasm","web-idl","wiki","wolfram","wren","xeora","xml-doc","xojo","xquery","yaml","yang","zig"];var qN,cq;function p1e(){if(cq)return qN;cq=1,qN=t;var e=Object.prototype.hasOwnProperty;function t(){for(var n={},r=0;r<arguments.length;r++){var i=arguments[r];for(var d in i)e.call(i,d)&&(n[d]=i[d])}return n}return qN}var zN,uq;function kJ(){if(uq)return zN;uq=1,zN=t;var e=t.prototype;e.space=null,e.normal={},e.property={};function t(n,r,i){this.property=n,this.normal=r,i&&(this.space=i)}return zN}var HN,dq;function m1e(){if(dq)return HN;dq=1;var e=p1e(),t=kJ();HN=n;function n(r){for(var i=r.length,d=[],g=[],v=-1,S,I;++v<i;)S=r[v],d.push(S.property),g.push(S.normal),I=S.space;return new t(e.apply(null,d),e.apply(null,g),I)}return HN}var GN,pq;function Rj(){if(pq)return GN;pq=1,GN=e;function e(t){return t.toLowerCase()}return GN}var KN,mq;function LJ(){if(mq)return KN;mq=1,KN=t;var e=t.prototype;e.space=null,e.attribute=null,e.property=null,e.boolean=!1,e.booleanish=!1,e.overloadedBoolean=!1,e.number=!1,e.commaSeparated=!1,e.spaceSeparated=!1,e.commaOrSpaceSeparated=!1,e.mustUseProperty=!1,e.defined=!1;function t(n,r){this.property=n,this.attribute=r}return KN}var Td={},fq;function Aj(){if(fq)return Td;fq=1;var e=0;Td.boolean=t(),Td.booleanish=t(),Td.overloadedBoolean=t(),Td.number=t(),Td.spaceSeparated=t(),Td.commaSeparated=t(),Td.commaOrSpaceSeparated=t();function t(){return Math.pow(2,++e)}return Td}var WN,gq;function PJ(){if(gq)return WN;gq=1;var e=LJ(),t=Aj();WN=i,i.prototype=new e,i.prototype.defined=!0;var n=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],r=n.length;function i(g,v,S,I){var T=-1,_;for(d(this,"space",I),e.call(this,g,v);++T<r;)_=n[T],d(this,_,(S&t[_])===t[_])}function d(g,v,S){S&&(g[v]=S)}return WN}var YN,hq;function D0(){if(hq)return YN;hq=1;var e=Rj(),t=kJ(),n=PJ();YN=r;function r(i){var d=i.space,g=i.mustUseProperty||[],v=i.attributes||{},S=i.properties,I=i.transform,T={},_={},N,A;for(N in S)A=new n(N,I(v,N),S[N],d),g.indexOf(N)!==-1&&(A.mustUseProperty=!0),T[N]=A,_[e(N)]=N,_[e(A.attribute)]=N;return new t(T,_,d)}return YN}var XN,vq;function f1e(){if(vq)return XN;vq=1;var e=D0();XN=e({space:"xlink",transform:t,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function t(n,r){return"xlink:"+r.slice(5).toLowerCase()}return XN}var JN,yq;function g1e(){if(yq)return JN;yq=1;var e=D0();JN=e({space:"xml",transform:t,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function t(n,r){return"xml:"+r.slice(3).toLowerCase()}return JN}var QN,bq;function h1e(){if(bq)return QN;bq=1,QN=e;function e(t,n){return n in t?t[n]:n}return QN}var ZN,Sq;function DJ(){if(Sq)return ZN;Sq=1;var e=h1e();ZN=t;function t(n,r){return e(n,r.toLowerCase())}return ZN}var e1,Iq;function v1e(){if(Iq)return e1;Iq=1;var e=D0(),t=DJ();return e1=e({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:t,properties:{xmlns:null,xmlnsXLink:null}}),e1}var t1,Eq;function y1e(){if(Eq)return t1;Eq=1;var e=Aj(),t=D0(),n=e.booleanish,r=e.number,i=e.spaceSeparated;t1=t({transform:d,properties:{ariaActiveDescendant:null,ariaAtomic:n,ariaAutoComplete:null,ariaBusy:n,ariaChecked:n,ariaColCount:r,ariaColIndex:r,ariaColSpan:r,ariaControls:i,ariaCurrent:null,ariaDescribedBy:i,ariaDetails:null,ariaDisabled:n,ariaDropEffect:i,ariaErrorMessage:null,ariaExpanded:n,ariaFlowTo:i,ariaGrabbed:n,ariaHasPopup:null,ariaHidden:n,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:i,ariaLevel:r,ariaLive:null,ariaModal:n,ariaMultiLine:n,ariaMultiSelectable:n,ariaOrientation:null,ariaOwns:i,ariaPlaceholder:null,ariaPosInSet:r,ariaPressed:n,ariaReadOnly:n,ariaRelevant:null,ariaRequired:n,ariaRoleDescription:i,ariaRowCount:r,ariaRowIndex:r,ariaRowSpan:r,ariaSelected:n,ariaSetSize:r,ariaSort:null,ariaValueMax:r,ariaValueMin:r,ariaValueNow:r,ariaValueText:null,role:null}});function d(g,v){return v==="role"?v:"aria-"+v.slice(4).toLowerCase()}return t1}var n1,Cq;function b1e(){if(Cq)return n1;Cq=1;var e=Aj(),t=D0(),n=DJ(),r=e.boolean,i=e.overloadedBoolean,d=e.booleanish,g=e.number,v=e.spaceSeparated,S=e.commaSeparated;return n1=t({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:n,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:S,acceptCharset:v,accessKey:v,action:null,allow:null,allowFullScreen:r,allowPaymentRequest:r,allowUserMedia:r,alt:null,as:null,async:r,autoCapitalize:null,autoComplete:v,autoFocus:r,autoPlay:r,capture:r,charSet:null,checked:r,cite:null,className:v,cols:g,colSpan:null,content:null,contentEditable:d,controls:r,controlsList:v,coords:g|S,crossOrigin:null,data:null,dateTime:null,decoding:null,default:r,defer:r,dir:null,dirName:null,disabled:r,download:i,draggable:d,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:r,formTarget:null,headers:v,height:g,hidden:r,high:g,href:null,hrefLang:null,htmlFor:v,httpEquiv:v,id:null,imageSizes:null,imageSrcSet:S,inputMode:null,integrity:null,is:null,isMap:r,itemId:null,itemProp:v,itemRef:v,itemScope:r,itemType:v,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:r,low:g,manifest:null,max:null,maxLength:g,media:null,method:null,min:null,minLength:g,multiple:r,muted:r,name:null,nonce:null,noModule:r,noValidate:r,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:r,optimum:g,pattern:null,ping:v,placeholder:null,playsInline:r,poster:null,preload:null,readOnly:r,referrerPolicy:null,rel:v,required:r,reversed:r,rows:g,rowSpan:g,sandbox:v,scope:null,scoped:r,seamless:r,selected:r,shape:null,size:g,sizes:null,slot:null,span:g,spellCheck:d,src:null,srcDoc:null,srcLang:null,srcSet:S,start:g,step:null,style:null,tabIndex:g,target:null,title:null,translate:null,type:null,typeMustMatch:r,useMap:null,value:d,width:g,wrap:null,align:null,aLink:null,archive:v,axis:null,background:null,bgColor:null,border:g,borderColor:null,bottomMargin:g,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:r,declare:r,event:null,face:null,frame:null,frameBorder:null,hSpace:g,leftMargin:g,link:null,longDesc:null,lowSrc:null,marginHeight:g,marginWidth:g,noResize:r,noHref:r,noShade:r,noWrap:r,object:null,profile:null,prompt:null,rev:null,rightMargin:g,rules:null,scheme:null,scrolling:d,standby:null,summary:null,text:null,topMargin:g,valueType:null,version:null,vAlign:null,vLink:null,vSpace:g,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:r,disableRemotePlayback:r,prefix:null,property:null,results:g,security:null,unselectable:null}}),n1}var r1,Tq;function S1e(){if(Tq)return r1;Tq=1;var e=m1e(),t=f1e(),n=g1e(),r=v1e(),i=y1e(),d=b1e();return r1=e([n,t,r,i,d]),r1}var a1,Mq;function I1e(){if(Mq)return a1;Mq=1;var e=Rj(),t=PJ(),n=LJ(),r="data";a1=v;var i=/^data[-\w.:]+$/i,d=/-[a-z]/g,g=/[A-Z]/g;function v(N,A){var w=e(A),O=A,R=n;return w in N.normal?N.property[N.normal[w]]:(w.length>4&&w.slice(0,4)===r&&i.test(A)&&(A.charAt(4)==="-"?O=S(A):A=I(A),R=t),new R(O,A))}function S(N){var A=N.slice(5).replace(d,_);return r+A.charAt(0).toUpperCase()+A.slice(1)}function I(N){var A=N.slice(4);return d.test(A)?N:(A=A.replace(g,T),A.charAt(0)!=="-"&&(A="-"+A),r+A)}function T(N){return"-"+N.toLowerCase()}function _(N){return N.charAt(1).toUpperCase()}return a1}var i1,_q;function E1e(){if(_q)return i1;_q=1,i1=t;var e=/[#.]/g;function t(n,r){for(var i=n||"",d=r||"div",g={},v=0,S,I,T;v<i.length;)e.lastIndex=v,T=e.exec(i),S=i.slice(v,T?T.index:i.length),S&&(I?I==="#"?g.id=S:g.className?g.className.push(S):g.className=[S]:d=S,v+=S.length),T&&(I=T[0],v++);return{type:"element",tagName:d,properties:g,children:[]}}return i1}var ET={},xq;function C1e(){if(xq)return ET;xq=1,ET.parse=r,ET.stringify=i;var e="",t=" ",n=/[ \t\n\r\f]+/g;function r(d){var g=String(d||e).trim();return g===e?[]:g.split(n)}function i(d){return d.join(t).trim()}return ET}var CT={},wq;function T1e(){if(wq)return CT;wq=1,CT.parse=r,CT.stringify=i;var e=",",t=" ",n="";function r(d){for(var g=[],v=String(d||n),S=v.indexOf(e),I=0,T=!1,_;!T;)S===-1&&(S=v.length,T=!0),_=v.slice(I,S).trim(),(_||!T)&&g.push(_),I=S+1,S=v.indexOf(e,I);return g}function i(d,g){var v=g||{},S=v.padLeft===!1?n:t,I=v.padRight?t:n;return d[d.length-1]===n&&(d=d.concat(n)),d.join(I+e+S).trim()}return CT}var o1,Nq;function M1e(){if(Nq)return o1;Nq=1;var e=I1e(),t=Rj(),n=E1e(),r=C1e().parse,i=T1e().parse;o1=g;var d={}.hasOwnProperty;function g(w,O,R){var D=R?A(R):null;return j;function j(U,$){var F=n(U,O),z=Array.prototype.slice.call(arguments,2),H=F.tagName.toLowerCase(),V;if(F.tagName=D&&d.call(D,H)?D[H]:H,$&&v($,F)&&(z.unshift($),$=null),$)for(V in $)L(F.properties,V,$[V]);return I(F.children,z),F.tagName==="template"&&(F.content={type:"root",children:F.children},F.children=[]),F}function L(U,$,F){var z,H,V;F==null||F!==F||(z=e(w,$),H=z.property,V=F,typeof V=="string"&&(z.spaceSeparated?V=r(V):z.commaSeparated?V=i(V):z.commaOrSpaceSeparated&&(V=r(i(V).join(" ")))),H==="style"&&typeof F!="string"&&(V=N(V)),H==="className"&&U.className&&(V=U.className.concat(V)),U[H]=T(z,H,V))}}function v(w,O){return typeof w=="string"||"length"in w||S(O.tagName,w)}function S(w,O){var R=O.type;return w==="input"||!R||typeof R!="string"?!1:typeof O.children=="object"&&"length"in O.children?!0:(R=R.toLowerCase(),w==="button"?R!=="menu"&&R!=="submit"&&R!=="reset"&&R!=="button":"value"in O)}function I(w,O){var R,D;if(typeof O=="string"||typeof O=="number"){w.push({type:"text",value:String(O)});return}if(typeof O=="object"&&"length"in O){for(R=-1,D=O.length;++R<D;)I(w,O[R]);return}if(typeof O!="object"||!("type"in O))throw new Error("Expected node, nodes, or string, got `"+O+"`");w.push(O)}function T(w,O,R){var D,j,L;if(typeof R!="object"||!("length"in R))return _(w,O,R);for(j=R.length,D=-1,L=[];++D<j;)L[D]=_(w,O,R[D]);return L}function _(w,O,R){var D=R;return w.number||w.positiveNumber?!isNaN(D)&&D!==""&&(D=Number(D)):(w.boolean||w.overloadedBoolean)&&typeof D=="string"&&(D===""||t(R)===t(O))&&(D=!0),D}function N(w){var O=[],R;for(R in w)O.push([R,w[R]].join(": "));return O.join("; ")}function A(w){for(var O=w.length,R=-1,D={},j;++R<O;)j=w[R],D[j.toLowerCase()]=j;return D}return o1}var s1,Rq;function _1e(){if(Rq)return s1;Rq=1;var e=S1e(),t=M1e(),n=t(e,"div");return n.displayName="html",s1=n,s1}var l1,Aq;function x1e(){return Aq||(Aq=1,l1=_1e()),l1}const w1e="Æ",N1e="&",R1e="Á",A1e="Â",O1e="À",k1e="Å",L1e="Ã",P1e="Ä",D1e="©",j1e="Ç",V1e="Ð",$1e="É",U1e="Ê",B1e="È",F1e="Ë",q1e=">",z1e="Í",H1e="Î",G1e="Ì",K1e="Ï",W1e="<",Y1e="Ñ",X1e="Ó",J1e="Ô",Q1e="Ò",Z1e="Ø",eRe="Õ",tRe="Ö",nRe='"',rRe="®",aRe="Þ",iRe="Ú",oRe="Û",sRe="Ù",lRe="Ü",cRe="Ý",uRe="á",dRe="â",pRe="´",mRe="æ",fRe="à",gRe="&",hRe="å",vRe="ã",yRe="ä",bRe="¦",SRe="ç",IRe="¸",ERe="¢",CRe="©",TRe="¤",MRe="°",_Re="÷",xRe="é",wRe="ê",NRe="è",RRe="ð",ARe="ë",ORe="½",kRe="¼",LRe="¾",PRe=">",DRe="í",jRe="î",VRe="¡",$Re="ì",URe="¿",BRe="ï",FRe="«",qRe="<",zRe="¯",HRe="µ",GRe="·",KRe=" ",WRe="¬",YRe="ñ",XRe="ó",JRe="ô",QRe="ò",ZRe="ª",e2e="º",t2e="ø",n2e="õ",r2e="ö",a2e="¶",i2e="±",o2e="£",s2e='"',l2e="»",c2e="®",u2e="§",d2e="­",p2e="¹",m2e="²",f2e="³",g2e="ß",h2e="þ",v2e="×",y2e="ú",b2e="û",S2e="ù",I2e="¨",E2e="ü",C2e="ý",T2e="¥",M2e="ÿ",_2e={AElig:w1e,AMP:N1e,Aacute:R1e,Acirc:A1e,Agrave:O1e,Aring:k1e,Atilde:L1e,Auml:P1e,COPY:D1e,Ccedil:j1e,ETH:V1e,Eacute:$1e,Ecirc:U1e,Egrave:B1e,Euml:F1e,GT:q1e,Iacute:z1e,Icirc:H1e,Igrave:G1e,Iuml:K1e,LT:W1e,Ntilde:Y1e,Oacute:X1e,Ocirc:J1e,Ograve:Q1e,Oslash:Z1e,Otilde:eRe,Ouml:tRe,QUOT:nRe,REG:rRe,THORN:aRe,Uacute:iRe,Ucirc:oRe,Ugrave:sRe,Uuml:lRe,Yacute:cRe,aacute:uRe,acirc:dRe,acute:pRe,aelig:mRe,agrave:fRe,amp:gRe,aring:hRe,atilde:vRe,auml:yRe,brvbar:bRe,ccedil:SRe,cedil:IRe,cent:ERe,copy:CRe,curren:TRe,deg:MRe,divide:_Re,eacute:xRe,ecirc:wRe,egrave:NRe,eth:RRe,euml:ARe,frac12:ORe,frac14:kRe,frac34:LRe,gt:PRe,iacute:DRe,icirc:jRe,iexcl:VRe,igrave:$Re,iquest:URe,iuml:BRe,laquo:FRe,lt:qRe,macr:zRe,micro:HRe,middot:GRe,nbsp:KRe,not:WRe,ntilde:YRe,oacute:XRe,ocirc:JRe,ograve:QRe,ordf:ZRe,ordm:e2e,oslash:t2e,otilde:n2e,ouml:r2e,para:a2e,plusmn:i2e,pound:o2e,quot:s2e,raquo:l2e,reg:c2e,sect:u2e,shy:d2e,sup1:p2e,sup2:m2e,sup3:f2e,szlig:g2e,thorn:h2e,times:v2e,uacute:y2e,ucirc:b2e,ugrave:S2e,uml:I2e,uuml:E2e,yacute:C2e,yen:T2e,yuml:M2e},x2e={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};var c1,Oq;function jJ(){if(Oq)return c1;Oq=1,c1=e;function e(t){var n=typeof t=="string"?t.charCodeAt(0):t;return n>=48&&n<=57}return c1}var u1,kq;function w2e(){if(kq)return u1;kq=1,u1=e;function e(t){var n=typeof t=="string"?t.charCodeAt(0):t;return n>=97&&n<=102||n>=65&&n<=70||n>=48&&n<=57}return u1}var d1,Lq;function N2e(){if(Lq)return d1;Lq=1,d1=e;function e(t){var n=typeof t=="string"?t.charCodeAt(0):t;return n>=97&&n<=122||n>=65&&n<=90}return d1}var p1,Pq;function R2e(){if(Pq)return p1;Pq=1;var e=N2e(),t=jJ();p1=n;function n(r){return e(r)||t(r)}return p1}var m1,Dq;function A2e(){if(Dq)return m1;Dq=1;var e,t=59;m1=n;function n(r){var i="&"+r+";",d;return e=e||document.createElement("i"),e.innerHTML=i,d=e.textContent,d.charCodeAt(d.length-1)===t&&r!=="semi"||d===i?!1:d}return m1}var f1,jq;function O2e(){if(jq)return f1;jq=1;var e=_2e,t=x2e,n=jJ(),r=w2e(),i=R2e(),d=A2e();f1=he;var g={}.hasOwnProperty,v=String.fromCharCode,S=Function.prototype,I={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},T=9,_=10,N=12,A=32,w=38,O=59,R=60,D=61,j=35,L=88,U=120,$=65533,F="named",z="hexadecimal",H="decimal",V={};V[z]=16,V[H]=10;var K={};K[F]=i,K[H]=n,K[z]=r;var J=1,te=2,Z=3,X=4,re=5,ee=6,ae=7,de={};de[J]="Named character references must be terminated by a semicolon",de[te]="Numeric character references must be terminated by a semicolon",de[Z]="Named character references cannot be empty",de[X]="Numeric character references cannot be empty",de[re]="Named character references must be known",de[ee]="Numeric character references cannot be disallowed",de[ae]="Numeric character references cannot be outside the permissible Unicode range";function he(oe,pe){var fe={},_e,Te;pe||(pe={});for(Te in I)_e=pe[Te],fe[Te]=_e??I[Te];return(fe.position.indent||fe.position.start)&&(fe.indent=fe.position.indent||[],fe.position=fe.position.start),ue(oe,fe)}function ue(oe,pe){var fe=pe.additional,_e=pe.nonTerminated,Te=pe.text,Se=pe.reference,De=pe.warning,je=pe.textContext,ke=pe.referenceContext,Oe=pe.warningContext,Ne=pe.position,qe=pe.indent||[],Ke=oe.length,He=0,nt=-1,Je=Ne.column||1,ut=Ne.line||1,lt="",et=[],Ye,pt,ct,xt,jt,Ut,Vt,wt,Bt,Pt,ot,qt,vt,bt,yt,gt,Jt,bn,Qn;for(typeof fe=="string"&&(fe=fe.charCodeAt(0)),gt=Dn(),wt=De?tn:S,He--,Ke++;++He<Ke;)if(jt===_&&(Je=qe[nt]||1),jt=oe.charCodeAt(He),jt===w){if(Vt=oe.charCodeAt(He+1),Vt===T||Vt===_||Vt===N||Vt===A||Vt===w||Vt===R||Vt!==Vt||fe&&Vt===fe){lt+=v(jt),Je++;continue}for(vt=He+1,qt=vt,Qn=vt,Vt===j?(Qn=++qt,Vt=oe.charCodeAt(Qn),Vt===L||Vt===U?(bt=z,Qn=++qt):bt=H):bt=F,Ye="",ot="",xt="",yt=K[bt],Qn--;++Qn<Ke&&(Vt=oe.charCodeAt(Qn),!!yt(Vt));)xt+=v(Vt),bt===F&&g.call(e,xt)&&(Ye=xt,ot=e[xt]);ct=oe.charCodeAt(Qn)===O,ct&&(Qn++,pt=bt===F?d(xt):!1,pt&&(Ye=xt,ot=pt)),bn=1+Qn-vt,!ct&&!_e||(xt?bt===F?(ct&&!ot?wt(re,1):(Ye!==xt&&(Qn=qt+Ye.length,bn=1+Qn-qt,ct=!1),ct||(Bt=Ye?J:Z,pe.attribute?(Vt=oe.charCodeAt(Qn),Vt===D?(wt(Bt,bn),ot=null):i(Vt)?ot=null:wt(Bt,bn)):wt(Bt,bn))),Ut=ot):(ct||wt(te,bn),Ut=parseInt(xt,V[bt]),ye(Ut)?(wt(ae,bn),Ut=v($)):Ut in t?(wt(ee,bn),Ut=t[Ut]):(Pt="",be(Ut)&&wt(ee,bn),Ut>65535&&(Ut-=65536,Pt+=v(Ut>>>10|55296),Ut=56320|Ut&1023),Ut=Pt+v(Ut))):bt!==F&&wt(X,bn)),Ut?(_n(),gt=Dn(),He=Qn-1,Je+=Qn-vt+1,et.push(Ut),Jt=Dn(),Jt.offset++,Se&&Se.call(ke,Ut,{start:gt,end:Jt},oe.slice(vt-1,Qn)),gt=Jt):(xt=oe.slice(vt-1,Qn),lt+=xt,Je+=xt.length,He=Qn-1)}else jt===10&&(ut++,nt++,Je=0),jt===jt?(lt+=v(jt),Je++):_n();return et.join("");function Dn(){return{line:ut,column:Je,offset:He+(Ne.offset||0)}}function tn(Fn,Wt){var xn=Dn();xn.column+=Wt,xn.offset+=Wt,De.call(Oe,de[Fn],xn,Fn)}function _n(){lt&&(et.push(lt),Te&&Te.call(je,lt,{start:gt,end:Dn()}),lt="")}}function ye(oe){return oe>=55296&&oe<=57343||oe>1114111}function be(oe){return oe>=1&&oe<=8||oe===11||oe>=13&&oe<=31||oe>=127&&oe<=159||oe>=64976&&oe<=65007||(oe&65535)===65535||(oe&65535)===65534}return f1}var g1={exports:{}},Vq;function k2e(){return Vq||(Vq=1,function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,d=0,g={},v={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function j(L){return L instanceof S?new S(L.type,j(L.content),L.alias):Array.isArray(L)?L.map(j):L.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(j){return Object.prototype.toString.call(j).slice(8,-1)},objId:function(j){return j.__id||Object.defineProperty(j,"__id",{value:++d}),j.__id},clone:function j(L,U){U=U||{};var $,F;switch(v.util.type(L)){case"Object":if(F=v.util.objId(L),U[F])return U[F];$={},U[F]=$;for(var z in L)L.hasOwnProperty(z)&&($[z]=j(L[z],U));return $;case"Array":return F=v.util.objId(L),U[F]?U[F]:($=[],U[F]=$,L.forEach(function(H,V){$[V]=j(H,U)}),$);default:return L}},getLanguage:function(j){for(;j;){var L=i.exec(j.className);if(L)return L[1].toLowerCase();j=j.parentElement}return"none"},setLanguage:function(j,L){j.className=j.className.replace(RegExp(i,"gi"),""),j.classList.add("language-"+L)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch($){var j=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec($.stack)||[])[1];if(j){var L=document.getElementsByTagName("script");for(var U in L)if(L[U].src==j)return L[U]}return null}},isActive:function(j,L,U){for(var $="no-"+L;j;){var F=j.classList;if(F.contains(L))return!0;if(F.contains($))return!1;j=j.parentElement}return!!U}},languages:{plain:g,plaintext:g,text:g,txt:g,extend:function(j,L){var U=v.util.clone(v.languages[j]);for(var $ in L)U[$]=L[$];return U},insertBefore:function(j,L,U,$){$=$||v.languages;var F=$[j],z={};for(var H in F)if(F.hasOwnProperty(H)){if(H==L)for(var V in U)U.hasOwnProperty(V)&&(z[V]=U[V]);U.hasOwnProperty(H)||(z[H]=F[H])}var K=$[j];return $[j]=z,v.languages.DFS(v.languages,function(J,te){te===K&&J!=j&&(this[J]=z)}),z},DFS:function j(L,U,$,F){F=F||{};var z=v.util.objId;for(var H in L)if(L.hasOwnProperty(H)){U.call(L,H,L[H],$||H);var V=L[H],K=v.util.type(V);K==="Object"&&!F[z(V)]?(F[z(V)]=!0,j(V,U,null,F)):K==="Array"&&!F[z(V)]&&(F[z(V)]=!0,j(V,U,H,F))}}},plugins:{},highlightAll:function(j,L){v.highlightAllUnder(document,j,L)},highlightAllUnder:function(j,L,U){var $={callback:U,container:j,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};v.hooks.run("before-highlightall",$),$.elements=Array.prototype.slice.apply($.container.querySelectorAll($.selector)),v.hooks.run("before-all-elements-highlight",$);for(var F=0,z;z=$.elements[F++];)v.highlightElement(z,L===!0,$.callback)},highlightElement:function(j,L,U){var $=v.util.getLanguage(j),F=v.languages[$];v.util.setLanguage(j,$);var z=j.parentElement;z&&z.nodeName.toLowerCase()==="pre"&&v.util.setLanguage(z,$);var H=j.textContent,V={element:j,language:$,grammar:F,code:H};function K(te){V.highlightedCode=te,v.hooks.run("before-insert",V),V.element.innerHTML=V.highlightedCode,v.hooks.run("after-highlight",V),v.hooks.run("complete",V),U&&U.call(V.element)}if(v.hooks.run("before-sanity-check",V),z=V.element.parentElement,z&&z.nodeName.toLowerCase()==="pre"&&!z.hasAttribute("tabindex")&&z.setAttribute("tabindex","0"),!V.code){v.hooks.run("complete",V),U&&U.call(V.element);return}if(v.hooks.run("before-highlight",V),!V.grammar){K(v.util.encode(V.code));return}if(L&&r.Worker){var J=new Worker(v.filename);J.onmessage=function(te){K(te.data)},J.postMessage(JSON.stringify({language:V.language,code:V.code,immediateClose:!0}))}else K(v.highlight(V.code,V.grammar,V.language))},highlight:function(j,L,U){var $={code:j,grammar:L,language:U};if(v.hooks.run("before-tokenize",$),!$.grammar)throw new Error('The language "'+$.language+'" has no grammar.');return $.tokens=v.tokenize($.code,$.grammar),v.hooks.run("after-tokenize",$),S.stringify(v.util.encode($.tokens),$.language)},tokenize:function(j,L){var U=L.rest;if(U){for(var $ in U)L[$]=U[$];delete L.rest}var F=new _;return N(F,F.head,j),T(j,F,L,F.head,0),w(F)},hooks:{all:{},add:function(j,L){var U=v.hooks.all;U[j]=U[j]||[],U[j].push(L)},run:function(j,L){var U=v.hooks.all[j];if(!(!U||!U.length))for(var $=0,F;F=U[$++];)F(L)}},Token:S};r.Prism=v;function S(j,L,U,$){this.type=j,this.content=L,this.alias=U,this.length=($||"").length|0}S.stringify=function j(L,U){if(typeof L=="string")return L;if(Array.isArray(L)){var $="";return L.forEach(function(K){$+=j(K,U)}),$}var F={type:L.type,content:j(L.content,U),tag:"span",classes:["token",L.type],attributes:{},language:U},z=L.alias;z&&(Array.isArray(z)?Array.prototype.push.apply(F.classes,z):F.classes.push(z)),v.hooks.run("wrap",F);var H="";for(var V in F.attributes)H+=" "+V+'="'+(F.attributes[V]||"").replace(/"/g,"&quot;")+'"';return"<"+F.tag+' class="'+F.classes.join(" ")+'"'+H+">"+F.content+"</"+F.tag+">"};function I(j,L,U,$){j.lastIndex=L;var F=j.exec(U);if(F&&$&&F[1]){var z=F[1].length;F.index+=z,F[0]=F[0].slice(z)}return F}function T(j,L,U,$,F,z){for(var H in U)if(!(!U.hasOwnProperty(H)||!U[H])){var V=U[H];V=Array.isArray(V)?V:[V];for(var K=0;K<V.length;++K){if(z&&z.cause==H+","+K)return;var J=V[K],te=J.inside,Z=!!J.lookbehind,X=!!J.greedy,re=J.alias;if(X&&!J.pattern.global){var ee=J.pattern.toString().match(/[imsuy]*$/)[0];J.pattern=RegExp(J.pattern.source,ee+"g")}for(var ae=J.pattern||J,de=$.next,he=F;de!==L.tail&&!(z&&he>=z.reach);he+=de.value.length,de=de.next){var ue=de.value;if(L.length>j.length)return;if(!(ue instanceof S)){var ye=1,be;if(X){if(be=I(ae,he,j,Z),!be||be.index>=j.length)break;var _e=be.index,oe=be.index+be[0].length,pe=he;for(pe+=de.value.length;_e>=pe;)de=de.next,pe+=de.value.length;if(pe-=de.value.length,he=pe,de.value instanceof S)continue;for(var fe=de;fe!==L.tail&&(pe<oe||typeof fe.value=="string");fe=fe.next)ye++,pe+=fe.value.length;ye--,ue=j.slice(he,pe),be.index-=he}else if(be=I(ae,0,ue,Z),!be)continue;var _e=be.index,Te=be[0],Se=ue.slice(0,_e),De=ue.slice(_e+Te.length),je=he+ue.length;z&&je>z.reach&&(z.reach=je);var ke=de.prev;Se&&(ke=N(L,ke,Se),he+=Se.length),A(L,ke,ye);var Oe=new S(H,te?v.tokenize(Te,te):Te,re,Te);if(de=N(L,ke,Oe),De&&N(L,de,De),ye>1){var Ne={cause:H+","+K,reach:je};T(j,L,U,de.prev,he,Ne),z&&Ne.reach>z.reach&&(z.reach=Ne.reach)}}}}}}function _(){var j={value:null,prev:null,next:null},L={value:null,prev:j,next:null};j.next=L,this.head=j,this.tail=L,this.length=0}function N(j,L,U){var $=L.next,F={value:U,prev:L,next:$};return L.next=F,$.prev=F,j.length++,F}function A(j,L,U){for(var $=L.next,F=0;F<U&&$!==j.tail;F++)$=$.next;L.next=$,$.prev=L,j.length-=F}function w(j){for(var L=[],U=j.head.next;U!==j.tail;)L.push(U.value),U=U.next;return L}if(!r.document)return r.addEventListener&&(v.disableWorkerMessageHandler||r.addEventListener("message",function(j){var L=JSON.parse(j.data),U=L.language,$=L.code,F=L.immediateClose;r.postMessage(v.highlight($,v.languages[U],U)),F&&r.close()},!1)),v;var O=v.util.currentScript();O&&(v.filename=O.src,O.hasAttribute("data-manual")&&(v.manual=!0));function R(){v.manual||v.highlightAll()}if(!v.manual){var D=document.readyState;D==="loading"||D==="interactive"&&O&&O.defer?document.addEventListener("DOMContentLoaded",R):window.requestAnimationFrame?window.requestAnimationFrame(R):window.setTimeout(R,16)}return v}(t);e.exports&&(e.exports=n),typeof wd<"u"&&(wd.Prism=n)}(g1)),g1.exports}var h1,$q;function L2e(){if($q)return h1;$q=1,h1=e,e.displayName="markup",e.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function e(t){t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(r,i){var d={};d["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[i]},d.cdata=/^<!\[CDATA\[|\]\]>$/i;var g={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:d}};g["language-"+i]={pattern:/[\s\S]+/,inside:t.languages[i]};var v={};v[r]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return r}),"i"),lookbehind:!0,greedy:!0,inside:g},t.languages.insertBefore("markup","cdata",v)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(n,r){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[r,"language-"+r],inside:t.languages[r]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml}return h1}var v1,Uq;function P2e(){if(Uq)return v1;Uq=1,v1=e,e.displayName="css",e.aliases=[];function e(t){(function(n){var r=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+r.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+r.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+r.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:r,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var i=n.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))})(t)}return v1}var y1,Bq;function D2e(){if(Bq)return y1;Bq=1,y1=e,e.displayName="clike",e.aliases=[];function e(t){t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}return y1}var b1,Fq;function j2e(){if(Fq)return b1;Fq=1,b1=e,e.displayName="javascript",e.aliases=["js"];function e(t){t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript}return b1}var S1,qq;function V2e(){if(qq)return S1;qq=1;var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof wd=="object"?wd:{},t=$();e.Prism={manual:!0,disableWorkerMessageHandler:!0};var n=x1e(),r=O2e(),i=k2e(),d=L2e(),g=P2e(),v=D2e(),S=j2e();t();var I={}.hasOwnProperty;function T(){}T.prototype=i;var _=new T;S1=_,_.highlight=w,_.register=N,_.alias=A,_.registered=O,_.listLanguages=R,N(d),N(g),N(v),N(S),_.util.encode=L,_.Token.stringify=D;function N(F){if(typeof F!="function"||!F.displayName)throw new Error("Expected `function` for `grammar`, got `"+F+"`");_.languages[F.displayName]===void 0&&F(_)}function A(F,z){var H=_.languages,V=F,K,J,te,Z;z&&(V={},V[F]=z);for(K in V)for(J=V[K],J=typeof J=="string"?[J]:J,te=J.length,Z=-1;++Z<te;)H[J[Z]]=H[K]}function w(F,z){var H=i.highlight,V;if(typeof F!="string")throw new Error("Expected `string` for `value`, got `"+F+"`");if(_.util.type(z)==="Object")V=z,z=null;else{if(typeof z!="string")throw new Error("Expected `string` for `name`, got `"+z+"`");if(I.call(_.languages,z))V=_.languages[z];else throw new Error("Unknown language: `"+z+"` is not registered")}return H.call(this,F,V,z)}function O(F){if(typeof F!="string")throw new Error("Expected `string` for `language`, got `"+F+"`");return I.call(_.languages,F)}function R(){var F=_.languages,z=[],H;for(H in F)I.call(F,H)&&typeof F[H]=="object"&&z.push(H);return z}function D(F,z,H){var V;return typeof F=="string"?{type:"text",value:F}:_.util.type(F)==="Array"?j(F,z):(V={type:F.type,content:_.Token.stringify(F.content,z,H),tag:"span",classes:["token",F.type],attributes:{},language:z,parent:H},F.alias&&(V.classes=V.classes.concat(F.alias)),_.hooks.run("wrap",V),n(V.tag+"."+V.classes.join("."),U(V.attributes),V.content))}function j(F,z){for(var H=[],V=F.length,K=-1,J;++K<V;)J=F[K],J!==""&&J!==null&&J!==void 0&&H.push(J);for(K=-1,V=H.length;++K<V;)J=H[K],H[K]=_.Token.stringify(J,z,H);return H}function L(F){return F}function U(F){var z;for(z in F)F[z]=r(F[z]);return F}function $(){var F="Prism"in e,z=F?e.Prism:void 0;return H;function H(){F?e.Prism=z:delete e.Prism,F=void 0,z=void 0}}return S1}const VJ={'code[class*="language-"]':{color:"black",background:"none",textShadow:"0 1px white",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{color:"black",background:"#f5f2f0",textShadow:"0 1px white",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto"},'pre[class*="language-"]::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"]::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"] ::selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"]::selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"] ::selection':{textShadow:"none",background:"#b3d4fc"},':not(pre) > code[class*="language-"]':{background:"#f5f2f0",padding:".1em",borderRadius:".3em",whiteSpace:"normal"},comment:{color:"slategray"},prolog:{color:"slategray"},doctype:{color:"slategray"},cdata:{color:"slategray"},punctuation:{color:"#999"},namespace:{Opacity:".7"},property:{color:"#905"},tag:{color:"#905"},boolean:{color:"#905"},number:{color:"#905"},constant:{color:"#905"},symbol:{color:"#905"},deleted:{color:"#905"},selector:{color:"#690"},"attr-name":{color:"#690"},string:{color:"#690"},char:{color:"#690"},builtin:{color:"#690"},inserted:{color:"#690"},operator:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},entity:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)",cursor:"help"},url:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},".language-css .token.string":{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},".style .token.string":{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},atrule:{color:"#07a"},"attr-value":{color:"#07a"},keyword:{color:"#07a"},function:{color:"#DD4A68"},"class-name":{color:"#DD4A68"},regex:{color:"#e90"},important:{color:"#e90",fontWeight:"bold"},variable:{color:"#e90"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"}};var I1,zq;function $2e(){if(zq)return I1;zq=1,I1=e,e.displayName="abap",e.aliases=[];function e(t){t.languages.abap={comment:/^\*.*/m,string:/(`|')(?:\\.|(?!\1)[^\\\r\n])*\1/,"string-template":{pattern:/([|}])(?:\\.|[^\\|{\r\n])*(?=[|{])/,lookbehind:!0,alias:"string"},"eol-comment":{pattern:/(^|\s)".*/m,lookbehind:!0,alias:"comment"},keyword:{pattern:/(\s|\.|^)(?:SCIENTIFIC_WITH_LEADING_ZERO|SCALE_PRESERVING_SCIENTIFIC|RMC_COMMUNICATION_FAILURE|END-ENHANCEMENT-SECTION|MULTIPLY-CORRESPONDING|SUBTRACT-CORRESPONDING|VERIFICATION-MESSAGE|DIVIDE-CORRESPONDING|ENHANCEMENT-SECTION|CURRENCY_CONVERSION|RMC_SYSTEM_FAILURE|START-OF-SELECTION|MOVE-CORRESPONDING|RMC_INVALID_STATUS|CUSTOMER-FUNCTION|END-OF-DEFINITION|ENHANCEMENT-POINT|SYSTEM-EXCEPTIONS|ADD-CORRESPONDING|SCALE_PRESERVING|SELECTION-SCREEN|CURSOR-SELECTION|END-OF-SELECTION|LOAD-OF-PROGRAM|SCROLL-BOUNDARY|SELECTION-TABLE|EXCEPTION-TABLE|IMPLEMENTATIONS|PARAMETER-TABLE|RIGHT-JUSTIFIED|UNIT_CONVERSION|AUTHORITY-CHECK|LIST-PROCESSING|SIGN_AS_POSTFIX|COL_BACKGROUND|IMPLEMENTATION|INTERFACE-POOL|TRANSFORMATION|IDENTIFICATION|ENDENHANCEMENT|LINE-SELECTION|INITIALIZATION|LEFT-JUSTIFIED|SELECT-OPTIONS|SELECTION-SETS|COMMUNICATION|CORRESPONDING|DECIMAL_SHIFT|PRINT-CONTROL|VALUE-REQUEST|CHAIN-REQUEST|FUNCTION-POOL|FIELD-SYMBOLS|FUNCTIONALITY|INVERTED-DATE|SELECTION-SET|CLASS-METHODS|OUTPUT-LENGTH|CLASS-CODING|COL_NEGATIVE|ERRORMESSAGE|FIELD-GROUPS|HELP-REQUEST|NO-EXTENSION|NO-TOPOFPAGE|REDEFINITION|DISPLAY-MODE|ENDINTERFACE|EXIT-COMMAND|FIELD-SYMBOL|NO-SCROLLING|SHORTDUMP-ID|ACCESSPOLICY|CLASS-EVENTS|COL_POSITIVE|DECLARATIONS|ENHANCEMENTS|FILTER-TABLE|SWITCHSTATES|SYNTAX-CHECK|TRANSPORTING|ASYNCHRONOUS|SYNTAX-TRACE|TOKENIZATION|USER-COMMAND|WITH-HEADING|ABAP-SOURCE|BREAK-POINT|CHAIN-INPUT|COMPRESSION|FIXED-POINT|NEW-SECTION|NON-UNICODE|OCCURRENCES|RESPONSIBLE|SYSTEM-CALL|TRACE-TABLE|ABBREVIATED|CHAR-TO-HEX|END-OF-FILE|ENDFUNCTION|ENVIRONMENT|ASSOCIATION|COL_HEADING|EDITOR-CALL|END-OF-PAGE|ENGINEERING|IMPLEMENTED|INTENSIFIED|RADIOBUTTON|SYSTEM-EXIT|TOP-OF-PAGE|TRANSACTION|APPLICATION|CONCATENATE|DESTINATION|ENHANCEMENT|IMMEDIATELY|NO-GROUPING|PRECOMPILED|REPLACEMENT|TITLE-LINES|ACTIVATION|BYTE-ORDER|CLASS-POOL|CONNECTION|CONVERSION|DEFINITION|DEPARTMENT|EXPIRATION|INHERITING|MESSAGE-ID|NO-HEADING|PERFORMING|QUEUE-ONLY|RIGHTSPACE|SCIENTIFIC|STATUSINFO|STRUCTURES|SYNCPOINTS|WITH-TITLE|ATTRIBUTES|BOUNDARIES|CLASS-DATA|COL_NORMAL|DD\/MM\/YYYY|DESCENDING|INTERFACES|LINE-COUNT|MM\/DD\/YYYY|NON-UNIQUE|PRESERVING|SELECTIONS|STATEMENTS|SUBROUTINE|TRUNCATION|TYPE-POOLS|ARITHMETIC|BACKGROUND|ENDPROVIDE|EXCEPTIONS|IDENTIFIER|INDEX-LINE|OBLIGATORY|PARAMETERS|PERCENTAGE|PUSHBUTTON|RESOLUTION|COMPONENTS|DEALLOCATE|DISCONNECT|DUPLICATES|FIRST-LINE|HEAD-LINES|NO-DISPLAY|OCCURRENCE|RESPECTING|RETURNCODE|SUBMATCHES|TRACE-FILE|ASCENDING|BYPASSING|ENDMODULE|EXCEPTION|EXCLUDING|EXPORTING|INCREMENT|MATCHCODE|PARAMETER|PARTIALLY|PREFERRED|REFERENCE|REPLACING|RETURNING|SELECTION|SEPARATED|SPECIFIED|STATEMENT|TIMESTAMP|TYPE-POOL|ACCEPTING|APPENDAGE|ASSIGNING|COL_GROUP|COMPARING|CONSTANTS|DANGEROUS|IMPORTING|INSTANCES|LEFTSPACE|LOG-POINT|QUICKINFO|READ-ONLY|SCROLLING|SQLSCRIPT|STEP-LOOP|TOP-LINES|TRANSLATE|APPENDING|AUTHORITY|CHARACTER|COMPONENT|CONDITION|DIRECTORY|DUPLICATE|MESSAGING|RECEIVING|SUBSCREEN|ACCORDING|COL_TOTAL|END-LINES|ENDMETHOD|ENDSELECT|EXPANDING|EXTENSION|INCLUDING|INFOTYPES|INTERFACE|INTERVALS|LINE-SIZE|PF-STATUS|PROCEDURE|PROTECTED|REQUESTED|RESUMABLE|RIGHTPLUS|SAP-SPOOL|SECONDARY|STRUCTURE|SUBSTRING|TABLEVIEW|NUMOFCHAR|ADJACENT|ANALYSIS|ASSIGNED|BACKWARD|CHANNELS|CHECKBOX|CONTINUE|CRITICAL|DATAINFO|DD\/MM\/YY|DURATION|ENCODING|ENDCLASS|FUNCTION|LEFTPLUS|LINEFEED|MM\/DD\/YY|OVERFLOW|RECEIVED|SKIPPING|SORTABLE|STANDARD|SUBTRACT|SUPPRESS|TABSTRIP|TITLEBAR|TRUNCATE|UNASSIGN|WHENEVER|ANALYZER|COALESCE|COMMENTS|CONDENSE|DECIMALS|DEFERRED|ENDWHILE|EXPLICIT|KEYWORDS|MESSAGES|POSITION|PRIORITY|RECEIVER|RENAMING|TIMEZONE|TRAILING|ALLOCATE|CENTERED|CIRCULAR|CONTROLS|CURRENCY|DELETING|DESCRIBE|DISTANCE|ENDCATCH|EXPONENT|EXTENDED|GENERATE|IGNORING|INCLUDES|INTERNAL|MAJOR-ID|MODIFIER|NEW-LINE|OPTIONAL|PROPERTY|ROLLBACK|STARTING|SUPPLIED|ABSTRACT|CHANGING|CONTEXTS|CREATING|CUSTOMER|DATABASE|DAYLIGHT|DEFINING|DISTINCT|DIVISION|ENABLING|ENDCHAIN|ESCAPING|HARMLESS|IMPLICIT|INACTIVE|LANGUAGE|MINOR-ID|MULTIPLY|NEW-PAGE|NO-TITLE|POS_HIGH|SEPARATE|TEXTPOOL|TRANSFER|SELECTOR|DBMAXLEN|ITERATOR|ARCHIVE|BIT-XOR|BYTE-CO|COLLECT|COMMENT|CURRENT|DEFAULT|DISPLAY|ENDFORM|EXTRACT|LEADING|LISTBOX|LOCATOR|MEMBERS|METHODS|NESTING|POS_LOW|PROCESS|PROVIDE|RAISING|RESERVE|SECONDS|SUMMARY|VISIBLE|BETWEEN|BIT-AND|BYTE-CS|CLEANUP|COMPUTE|CONTROL|CONVERT|DATASET|ENDCASE|FORWARD|HEADERS|HOTSPOT|INCLUDE|INVERSE|KEEPING|NO-ZERO|OBJECTS|OVERLAY|PADDING|PATTERN|PROGRAM|REFRESH|SECTION|SUMMING|TESTING|VERSION|WINDOWS|WITHOUT|BIT-NOT|BYTE-CA|BYTE-NA|CASTING|CONTEXT|COUNTRY|DYNAMIC|ENABLED|ENDLOOP|EXECUTE|FRIENDS|HANDLER|HEADING|INITIAL|\*-INPUT|LOGFILE|MAXIMUM|MINIMUM|NO-GAPS|NO-SIGN|PRAGMAS|PRIMARY|PRIVATE|REDUCED|REPLACE|REQUEST|RESULTS|UNICODE|WARNING|ALIASES|BYTE-CN|BYTE-NS|CALLING|COL_KEY|COLUMNS|CONNECT|ENDEXEC|ENTRIES|EXCLUDE|FILTERS|FURTHER|HELP-ID|LOGICAL|MAPPING|MESSAGE|NAMETAB|OPTIONS|PACKAGE|PERFORM|RECEIVE|STATICS|VARYING|BINDING|CHARLEN|GREATER|XSTRLEN|ACCEPT|APPEND|DETAIL|ELSEIF|ENDING|ENDTRY|FORMAT|FRAMES|GIVING|HASHED|HEADER|IMPORT|INSERT|MARGIN|MODULE|NATIVE|OBJECT|OFFSET|REMOTE|RESUME|SAVING|SIMPLE|SUBMIT|TABBED|TOKENS|UNIQUE|UNPACK|UPDATE|WINDOW|YELLOW|ACTUAL|ASPECT|CENTER|CURSOR|DELETE|DIALOG|DIVIDE|DURING|ERRORS|EVENTS|EXTEND|FILTER|HANDLE|HAVING|IGNORE|LITTLE|MEMORY|NO-GAP|OCCURS|OPTION|PERSON|PLACES|PUBLIC|REDUCE|REPORT|RESULT|SINGLE|SORTED|SWITCH|SYNTAX|TARGET|VALUES|WRITER|ASSERT|BLOCKS|BOUNDS|BUFFER|CHANGE|COLUMN|COMMIT|CONCAT|COPIES|CREATE|DDMMYY|DEFINE|ENDIAN|ESCAPE|EXPAND|KERNEL|LAYOUT|LEGACY|LEVELS|MMDDYY|NUMBER|OUTPUT|RANGES|READER|RETURN|SCREEN|SEARCH|SELECT|SHARED|SOURCE|STABLE|STATIC|SUBKEY|SUFFIX|TABLES|UNWIND|YYMMDD|ASSIGN|BACKUP|BEFORE|BINARY|BIT-OR|BLANKS|CLIENT|CODING|COMMON|DEMAND|DYNPRO|EXCEPT|EXISTS|EXPORT|FIELDS|GLOBAL|GROUPS|LENGTH|LOCALE|MEDIUM|METHOD|MODIFY|NESTED|OTHERS|REJECT|SCROLL|SUPPLY|SYMBOL|ENDFOR|STRLEN|ALIGN|BEGIN|BOUND|ENDAT|ENTRY|EVENT|FINAL|FLUSH|GRANT|INNER|SHORT|USING|WRITE|AFTER|BLACK|BLOCK|CLOCK|COLOR|COUNT|DUMMY|EMPTY|ENDDO|ENDON|GREEN|INDEX|INOUT|LEAVE|LEVEL|LINES|MODIF|ORDER|OUTER|RANGE|RESET|RETRY|RIGHT|SMART|SPLIT|STYLE|TABLE|THROW|UNDER|UNTIL|UPPER|UTF-8|WHERE|ALIAS|BLANK|CLEAR|CLOSE|EXACT|FETCH|FIRST|FOUND|GROUP|LLANG|LOCAL|OTHER|REGEX|SPOOL|TITLE|TYPES|VALID|WHILE|ALPHA|BOXED|CATCH|CHAIN|CHECK|CLASS|COVER|ENDIF|EQUIV|FIELD|FLOOR|FRAME|INPUT|LOWER|MATCH|NODES|PAGES|PRINT|RAISE|ROUND|SHIFT|SPACE|SPOTS|STAMP|STATE|TASKS|TIMES|TRMAC|ULINE|UNION|VALUE|WIDTH|EQUAL|LOG10|TRUNC|BLOB|CASE|CEIL|CLOB|COND|EXIT|FILE|GAPS|HOLD|INCL|INTO|KEEP|KEYS|LAST|LINE|LONG|LPAD|MAIL|MODE|OPEN|PINK|READ|ROWS|TEST|THEN|ZERO|AREA|BACK|BADI|BYTE|CAST|EDIT|EXEC|FAIL|FIND|FKEQ|FONT|FREE|GKEQ|HIDE|INIT|ITNO|LATE|LOOP|MAIN|MARK|MOVE|NEXT|NULL|RISK|ROLE|UNIT|WAIT|ZONE|BASE|CALL|CODE|DATA|DATE|FKGE|GKGE|HIGH|KIND|LEFT|LIST|MASK|MESH|NAME|NODE|PACK|PAGE|POOL|SEND|SIGN|SIZE|SOME|STOP|TASK|TEXT|TIME|USER|VARY|WITH|WORD|BLUE|CONV|COPY|DEEP|ELSE|FORM|FROM|HINT|ICON|JOIN|LIKE|LOAD|ONLY|PART|SCAN|SKIP|SORT|TYPE|UNIX|VIEW|WHEN|WORK|ACOS|ASIN|ATAN|COSH|EACH|FRAC|LESS|RTTI|SINH|SQRT|TANH|AVG|BIT|DIV|ISO|LET|OUT|PAD|SQL|ALL|CI_|CPI|END|LOB|LPI|MAX|MIN|NEW|OLE|RUN|SET|\?TO|YES|ABS|ADD|AND|BIG|FOR|HDB|JOB|LOW|NOT|SAP|TRY|VIA|XML|ANY|GET|IDS|KEY|MOD|OFF|PUT|RAW|RED|REF|SUM|TAB|XSD|CNT|COS|EXP|LOG|SIN|TAN|XOR|AT|CO|CP|DO|GT|ID|IF|NS|OR|BT|CA|CS|GE|NA|NB|EQ|IN|LT|NE|NO|OF|ON|PF|TO|AS|BY|CN|IS|LE|NP|UP|E|I|M|O|Z|C|X)\b/i,lookbehind:!0},number:/\b\d+\b/,operator:{pattern:/(\s)(?:\*\*?|<[=>]?|>=?|\?=|[-+\/=])(?=\s)/,lookbehind:!0},"string-operator":{pattern:/(\s)&&?(?=\s)/,lookbehind:!0,alias:"keyword"},"token-operator":[{pattern:/(\w)(?:->?|=>|[~|{}])(?=\w)/,lookbehind:!0,alias:"punctuation"},{pattern:/[|{}]/,alias:"punctuation"}],punctuation:/[,.:()]/}}return I1}var E1,Hq;function U2e(){if(Hq)return E1;Hq=1,E1=e,e.displayName="abnf",e.aliases=[];function e(t){(function(n){var r="(?:ALPHA|BIT|CHAR|CR|CRLF|CTL|DIGIT|DQUOTE|HEXDIG|HTAB|LF|LWSP|OCTET|SP|VCHAR|WSP)";n.languages.abnf={comment:/;.*/,string:{pattern:/(?:%[is])?"[^"\n\r]*"/,greedy:!0,inside:{punctuation:/^%[is]/}},range:{pattern:/%(?:b[01]+-[01]+|d\d+-\d+|x[A-F\d]+-[A-F\d]+)/i,alias:"number"},terminal:{pattern:/%(?:b[01]+(?:\.[01]+)*|d\d+(?:\.\d+)*|x[A-F\d]+(?:\.[A-F\d]+)*)/i,alias:"number"},repetition:{pattern:/(^|[^\w-])(?:\d*\*\d*|\d+)/,lookbehind:!0,alias:"operator"},definition:{pattern:/(^[ \t]*)(?:[a-z][\w-]*|<[^<>\r\n]*>)(?=\s*=)/m,lookbehind:!0,alias:"keyword",inside:{punctuation:/<|>/}},"core-rule":{pattern:RegExp("(?:(^|[^<\\w-])"+r+"|<"+r+">)(?![\\w-])","i"),lookbehind:!0,alias:["rule","constant"],inside:{punctuation:/<|>/}},rule:{pattern:/(^|[^<\w-])[a-z][\w-]*|<[^<>\r\n]*>/i,lookbehind:!0,inside:{punctuation:/<|>/}},operator:/=\/?|\//,punctuation:/[()\[\]]/}})(t)}return E1}var C1,Gq;function B2e(){if(Gq)return C1;Gq=1,C1=e,e.displayName="actionscript",e.aliases=[];function e(t){t.languages.actionscript=t.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),t.languages.actionscript["class-name"].alias="function",delete t.languages.actionscript.parameter,delete t.languages.actionscript["literal-property"],t.languages.markup&&t.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:t.languages.markup}})}return C1}var T1,Kq;function F2e(){if(Kq)return T1;Kq=1,T1=e,e.displayName="ada",e.aliases=[];function e(t){t.languages.ada={comment:/--.*/,string:/"(?:""|[^"\r\f\n])*"/,number:[{pattern:/\b\d(?:_?\d)*#[\dA-F](?:_?[\dA-F])*(?:\.[\dA-F](?:_?[\dA-F])*)?#(?:E[+-]?\d(?:_?\d)*)?/i},{pattern:/\b\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:E[+-]?\d(?:_?\d)*)?\b/i}],"attr-name":/\b'\w+/,keyword:/\b(?:abort|abs|abstract|accept|access|aliased|all|and|array|at|begin|body|case|constant|declare|delay|delta|digits|do|else|elsif|end|entry|exception|exit|for|function|generic|goto|if|in|interface|is|limited|loop|mod|new|not|null|of|others|out|overriding|package|pragma|private|procedure|protected|raise|range|record|rem|renames|requeue|return|reverse|select|separate|some|subtype|synchronized|tagged|task|terminate|then|type|until|use|when|while|with|xor)\b/i,boolean:/\b(?:false|true)\b/i,operator:/<[=>]?|>=?|=>?|:=|\/=?|\*\*?|[&+-]/,punctuation:/\.\.?|[,;():]/,char:/'.'/,variable:/\b[a-z](?:\w)*\b/i}}return T1}var M1,Wq;function q2e(){if(Wq)return M1;Wq=1,M1=e,e.displayName="agda",e.aliases=[];function e(t){(function(n){n.languages.agda={comment:/\{-[\s\S]*?(?:-\}|$)|--.*/,string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},punctuation:/[(){}⦃⦄.;@]/,"class-name":{pattern:/((?:data|record) +)\S+/,lookbehind:!0},function:{pattern:/(^[ \t]*)(?!\s)[^:\r\n]+(?=:)/m,lookbehind:!0},operator:{pattern:/(^\s*|\s)(?:[=|:∀→λ\\?_]|->)(?=\s)/,lookbehind:!0},keyword:/\b(?:Set|abstract|constructor|data|eta-equality|field|forall|hiding|import|in|inductive|infix|infixl|infixr|instance|let|macro|module|mutual|no-eta-equality|open|overlap|pattern|postulate|primitive|private|public|quote|quoteContext|quoteGoal|quoteTerm|record|renaming|rewrite|syntax|tactic|unquote|unquoteDecl|unquoteDef|using|variable|where|with)\b/}})(t)}return M1}var _1,Yq;function z2e(){if(Yq)return _1;Yq=1,_1=e,e.displayName="al",e.aliases=[];function e(t){t.languages.al={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},function:{pattern:/(\b(?:event|procedure|trigger)\s+|(?:^|[^.])\.\s*)[a-z_]\w*(?=\s*\()/i,lookbehind:!0},keyword:[/\b(?:array|asserterror|begin|break|case|do|downto|else|end|event|exit|for|foreach|function|if|implements|in|indataset|interface|internal|local|of|procedure|program|protected|repeat|runonclient|securityfiltering|suppressdispose|temporary|then|to|trigger|until|var|while|with|withevents)\b/i,/\b(?:action|actions|addafter|addbefore|addfirst|addlast|area|assembly|chartpart|codeunit|column|controladdin|cuegroup|customizes|dataitem|dataset|dotnet|elements|enum|enumextension|extends|field|fieldattribute|fieldelement|fieldgroup|fieldgroups|fields|filter|fixed|grid|group|key|keys|label|labels|layout|modify|moveafter|movebefore|movefirst|movelast|page|pagecustomization|pageextension|part|profile|query|repeater|report|requestpage|schema|separator|systempart|table|tableelement|tableextension|textattribute|textelement|type|usercontrol|value|xmlport)\b/i],number:/\b(?:0x[\da-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)(?:F|LL?|U(?:LL?)?)?\b/i,boolean:/\b(?:false|true)\b/i,variable:/\b(?:Curr(?:FieldNo|Page|Report)|x?Rec|RequestOptionsPage)\b/,"class-name":/\b(?:automation|biginteger|bigtext|blob|boolean|byte|char|clienttype|code|completiontriggererrorlevel|connectiontype|database|dataclassification|datascope|date|dateformula|datetime|decimal|defaultlayout|dialog|dictionary|dotnetassembly|dotnettypedeclaration|duration|errorinfo|errortype|executioncontext|executionmode|fieldclass|fieldref|fieldtype|file|filterpagebuilder|guid|httpclient|httpcontent|httpheaders|httprequestmessage|httpresponsemessage|instream|integer|joker|jsonarray|jsonobject|jsontoken|jsonvalue|keyref|list|moduledependencyinfo|moduleinfo|none|notification|notificationscope|objecttype|option|outstream|pageresult|record|recordid|recordref|reportformat|securityfilter|sessionsettings|tableconnectiontype|tablefilter|testaction|testfield|testfilterfield|testpage|testpermissions|testrequestpage|text|textbuilder|textconst|textencoding|time|transactionmodel|transactiontype|variant|verbosity|version|view|views|webserviceactioncontext|webserviceactionresultcode|xmlattribute|xmlattributecollection|xmlcdata|xmlcomment|xmldeclaration|xmldocument|xmldocumenttype|xmlelement|xmlnamespacemanager|xmlnametable|xmlnode|xmlnodelist|xmlprocessinginstruction|xmlreadoptions|xmltext|xmlwriteoptions)\b/i,operator:/\.\.|:[=:]|[-+*/]=?|<>|[<>]=?|=|\b(?:and|div|mod|not|or|xor)\b/i,punctuation:/[()\[\]{}:.;,]/}}return _1}var x1,Xq;function H2e(){if(Xq)return x1;Xq=1,x1=e,e.displayName="antlr4",e.aliases=["g4"];function e(t){t.languages.antlr4={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,string:{pattern:/'(?:\\.|[^\\'\r\n])*'/,greedy:!0},"character-class":{pattern:/\[(?:\\.|[^\\\]\r\n])*\]/,greedy:!0,alias:"regex",inside:{range:{pattern:/([^[]|(?:^|[^\\])(?:\\\\)*\\\[)-(?!\])/,lookbehind:!0,alias:"punctuation"},escape:/\\(?:u(?:[a-fA-F\d]{4}|\{[a-fA-F\d]+\})|[pP]\{[=\w-]+\}|[^\r\nupP])/,punctuation:/[\[\]]/}},action:{pattern:/\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\}/,greedy:!0,inside:{content:{pattern:/(\{)[\s\S]+(?=\})/,lookbehind:!0},punctuation:/[{}]/}},command:{pattern:/(->\s*(?!\s))(?:\s*(?:,\s*)?\b[a-z]\w*(?:\s*\([^()\r\n]*\))?)+(?=\s*;)/i,lookbehind:!0,inside:{function:/\b\w+(?=\s*(?:[,(]|$))/,punctuation:/[,()]/}},annotation:{pattern:/@\w+(?:::\w+)*/,alias:"keyword"},label:{pattern:/#[ \t]*\w+/,alias:"punctuation"},keyword:/\b(?:catch|channels|finally|fragment|grammar|import|lexer|locals|mode|options|parser|returns|throws|tokens)\b/,definition:[{pattern:/\b[a-z]\w*(?=\s*:)/,alias:["rule","class-name"]},{pattern:/\b[A-Z]\w*(?=\s*:)/,alias:["token","constant"]}],constant:/\b[A-Z][A-Z_]*\b/,operator:/\.\.|->|[|~]|[*+?]\??/,punctuation:/[;:()=]/},t.languages.g4=t.languages.antlr4}return x1}var w1,Jq;function G2e(){if(Jq)return w1;Jq=1,w1=e,e.displayName="apacheconf",e.aliases=[];function e(t){t.languages.apacheconf={comment:/#.*/,"directive-inline":{pattern:/(^[\t ]*)\b(?:AcceptFilter|AcceptPathInfo|AccessFileName|Action|Add(?:Alt|AltByEncoding|AltByType|Charset|DefaultCharset|Description|Encoding|Handler|Icon|IconByEncoding|IconByType|InputFilter|Language|ModuleInfo|OutputFilter|OutputFilterByType|Type)|Alias|AliasMatch|Allow(?:CONNECT|EncodedSlashes|Methods|Override|OverrideList)?|Anonymous(?:_LogEmail|_MustGiveEmail|_NoUserID|_VerifyEmail)?|AsyncRequestWorkerFactor|Auth(?:BasicAuthoritative|BasicFake|BasicProvider|BasicUseDigestAlgorithm|DBDUserPWQuery|DBDUserRealmQuery|DBMGroupFile|DBMType|DBMUserFile|Digest(?:Algorithm|Domain|NonceLifetime|Provider|Qop|ShmemSize)|Form(?:Authoritative|Body|DisableNoStore|FakeBasicAuth|Location|LoginRequiredLocation|LoginSuccessLocation|LogoutLocation|Method|Mimetype|Password|Provider|SitePassphrase|Size|Username)|GroupFile|LDAP(?:AuthorizePrefix|BindAuthoritative|BindDN|BindPassword|CharsetConfig|CompareAsUser|CompareDNOnServer|DereferenceAliases|GroupAttribute|GroupAttributeIsDN|InitialBindAsUser|InitialBindPattern|MaxSubGroupDepth|RemoteUserAttribute|RemoteUserIsDN|SearchAsUser|SubGroupAttribute|SubGroupClass|Url)|Merging|Name|nCache(?:Context|Enable|ProvideFor|SOCache|Timeout)|nzFcgiCheckAuthnProvider|nzFcgiDefineProvider|Type|UserFile|zDBDLoginToReferer|zDBDQuery|zDBDRedirectQuery|zDBMType|zSendForbiddenOnFailure)|BalancerGrowth|BalancerInherit|BalancerMember|BalancerPersist|BrowserMatch|BrowserMatchNoCase|BufferedLogs|BufferSize|Cache(?:DefaultExpire|DetailHeader|DirLength|DirLevels|Disable|Enable|File|Header|IgnoreCacheControl|IgnoreHeaders|IgnoreNoLastMod|IgnoreQueryString|IgnoreURLSessionIdentifiers|KeyBaseURL|LastModifiedFactor|Lock|LockMaxAge|LockPath|MaxExpire|MaxFileSize|MinExpire|MinFileSize|NegotiatedDocs|QuickHandler|ReadSize|ReadTime|Root|Socache(?:MaxSize|MaxTime|MinTime|ReadSize|ReadTime)?|StaleOnError|StoreExpired|StoreNoStore|StorePrivate)|CGIDScriptTimeout|CGIMapExtension|CharsetDefault|CharsetOptions|CharsetSourceEnc|CheckCaseOnly|CheckSpelling|ChrootDir|ContentDigest|CookieDomain|CookieExpires|CookieName|CookieStyle|CookieTracking|CoreDumpDirectory|CustomLog|Dav|DavDepthInfinity|DavGenericLockDB|DavLockDB|DavMinTimeout|DBDExptime|DBDInitSQL|DBDKeep|DBDMax|DBDMin|DBDParams|DBDPersist|DBDPrepareSQL|DBDriver|DefaultIcon|DefaultLanguage|DefaultRuntimeDir|DefaultType|Define|Deflate(?:BufferSize|CompressionLevel|FilterNote|InflateLimitRequestBody|InflateRatio(?:Burst|Limit)|MemLevel|WindowSize)|Deny|DirectoryCheckHandler|DirectoryIndex|DirectoryIndexRedirect|DirectorySlash|DocumentRoot|DTracePrivileges|DumpIOInput|DumpIOOutput|EnableExceptionHook|EnableMMAP|EnableSendfile|Error|ErrorDocument|ErrorLog|ErrorLogFormat|Example|ExpiresActive|ExpiresByType|ExpiresDefault|ExtendedStatus|ExtFilterDefine|ExtFilterOptions|FallbackResource|FileETag|FilterChain|FilterDeclare|FilterProtocol|FilterProvider|FilterTrace|ForceLanguagePriority|ForceType|ForensicLog|GprofDir|GracefulShutdownTimeout|Group|Header|HeaderName|Heartbeat(?:Address|Listen|MaxServers|Storage)|HostnameLookups|IdentityCheck|IdentityCheckTimeout|ImapBase|ImapDefault|ImapMenu|Include|IncludeOptional|Index(?:HeadInsert|Ignore|IgnoreReset|Options|OrderDefault|StyleSheet)|InputSed|ISAPI(?:AppendLogToErrors|AppendLogToQuery|CacheFile|FakeAsync|LogNotSupported|ReadAheadBuffer)|KeepAlive|KeepAliveTimeout|KeptBodySize|LanguagePriority|LDAP(?:CacheEntries|CacheTTL|ConnectionPoolTTL|ConnectionTimeout|LibraryDebug|OpCacheEntries|OpCacheTTL|ReferralHopLimit|Referrals|Retries|RetryDelay|SharedCacheFile|SharedCacheSize|Timeout|TrustedClientCert|TrustedGlobalCert|TrustedMode|VerifyServerCert)|Limit(?:InternalRecursion|Request(?:Body|Fields|FieldSize|Line)|XMLRequestBody)|Listen|ListenBackLog|LoadFile|LoadModule|LogFormat|LogLevel|LogMessage|LuaAuthzProvider|LuaCodeCache|Lua(?:Hook(?:AccessChecker|AuthChecker|CheckUserID|Fixups|InsertFilter|Log|MapToStorage|TranslateName|TypeChecker)|Inherit|InputFilter|MapHandler|OutputFilter|PackageCPath|PackagePath|QuickHandler|Root|Scope)|Max(?:ConnectionsPerChild|KeepAliveRequests|MemFree|RangeOverlaps|RangeReversals|Ranges|RequestWorkers|SpareServers|SpareThreads|Threads)|MergeTrailers|MetaDir|MetaFiles|MetaSuffix|MimeMagicFile|MinSpareServers|MinSpareThreads|MMapFile|ModemStandard|ModMimeUsePathInfo|MultiviewsMatch|Mutex|NameVirtualHost|NoProxy|NWSSLTrustedCerts|NWSSLUpgradeable|Options|Order|OutputSed|PassEnv|PidFile|PrivilegesMode|Protocol|ProtocolEcho|Proxy(?:AddHeaders|BadHeader|Block|Domain|ErrorOverride|ExpressDBMFile|ExpressDBMType|ExpressEnable|FtpDirCharset|FtpEscapeWildcards|FtpListOnWildcard|HTML(?:BufSize|CharsetOut|DocType|Enable|Events|Extended|Fixups|Interp|Links|Meta|StripComments|URLMap)|IOBufferSize|MaxForwards|Pass(?:Inherit|InterpolateEnv|Match|Reverse|ReverseCookieDomain|ReverseCookiePath)?|PreserveHost|ReceiveBufferSize|Remote|RemoteMatch|Requests|SCGIInternalRedirect|SCGISendfile|Set|SourceAddress|Status|Timeout|Via)|ReadmeName|ReceiveBufferSize|Redirect|RedirectMatch|RedirectPermanent|RedirectTemp|ReflectorHeader|RemoteIP(?:Header|InternalProxy|InternalProxyList|ProxiesHeader|TrustedProxy|TrustedProxyList)|RemoveCharset|RemoveEncoding|RemoveHandler|RemoveInputFilter|RemoveLanguage|RemoveOutputFilter|RemoveType|RequestHeader|RequestReadTimeout|Require|Rewrite(?:Base|Cond|Engine|Map|Options|Rule)|RLimitCPU|RLimitMEM|RLimitNPROC|Satisfy|ScoreBoardFile|Script(?:Alias|AliasMatch|InterpreterSource|Log|LogBuffer|LogLength|Sock)?|SecureListen|SeeRequestTail|SendBufferSize|Server(?:Admin|Alias|Limit|Name|Path|Root|Signature|Tokens)|Session(?:Cookie(?:Name|Name2|Remove)|Crypto(?:Cipher|Driver|Passphrase|PassphraseFile)|DBD(?:CookieName|CookieName2|CookieRemove|DeleteLabel|InsertLabel|PerUser|SelectLabel|UpdateLabel)|Env|Exclude|Header|Include|MaxAge)?|SetEnv|SetEnvIf|SetEnvIfExpr|SetEnvIfNoCase|SetHandler|SetInputFilter|SetOutputFilter|SSIEndTag|SSIErrorMsg|SSIETag|SSILastModified|SSILegacyExprParser|SSIStartTag|SSITimeFormat|SSIUndefinedEcho|SSL(?:CACertificateFile|CACertificatePath|CADNRequestFile|CADNRequestPath|CARevocationCheck|CARevocationFile|CARevocationPath|CertificateChainFile|CertificateFile|CertificateKeyFile|CipherSuite|Compression|CryptoDevice|Engine|FIPS|HonorCipherOrder|InsecureRenegotiation|OCSP(?:DefaultResponder|Enable|OverrideResponder|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|UseRequestNonce)|OpenSSLConfCmd|Options|PassPhraseDialog|Protocol|Proxy(?:CACertificateFile|CACertificatePath|CARevocation(?:Check|File|Path)|CheckPeer(?:CN|Expire|Name)|CipherSuite|Engine|MachineCertificate(?:ChainFile|File|Path)|Protocol|Verify|VerifyDepth)|RandomSeed|RenegBufferSize|Require|RequireSSL|Session(?:Cache|CacheTimeout|TicketKeyFile|Tickets)|SRPUnknownUserSeed|SRPVerifierFile|Stapling(?:Cache|ErrorCacheTimeout|FakeTryLater|ForceURL|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|ReturnResponderErrors|StandardCacheTimeout)|StrictSNIVHostCheck|UserName|UseStapling|VerifyClient|VerifyDepth)|StartServers|StartThreads|Substitute|Suexec|SuexecUserGroup|ThreadLimit|ThreadsPerChild|ThreadStackSize|TimeOut|TraceEnable|TransferLog|TypesConfig|UnDefine|UndefMacro|UnsetEnv|Use|UseCanonicalName|UseCanonicalPhysicalPort|User|UserDir|VHostCGIMode|VHostCGIPrivs|VHostGroup|VHostPrivs|VHostSecure|VHostUser|Virtual(?:DocumentRoot|ScriptAlias)(?:IP)?|WatchdogInterval|XBitHack|xml2EncAlias|xml2EncDefault|xml2StartParse)\b/im,lookbehind:!0,alias:"property"},"directive-block":{pattern:/<\/?\b(?:Auth[nz]ProviderAlias|Directory|DirectoryMatch|Else|ElseIf|Files|FilesMatch|If|IfDefine|IfModule|IfVersion|Limit|LimitExcept|Location|LocationMatch|Macro|Proxy|Require(?:All|Any|None)|VirtualHost)\b.*>/i,inside:{"directive-block":{pattern:/^<\/?\w+/,inside:{punctuation:/^<\/?/},alias:"tag"},"directive-block-parameter":{pattern:/.*[^>]/,inside:{punctuation:/:/,string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}}},alias:"attr-value"},punctuation:/>/},alias:"tag"},"directive-flags":{pattern:/\[(?:[\w=],?)+\]/,alias:"keyword"},string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}},variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/,regex:/\^?.*\$|\^.*\$?/}}return w1}var N1,Qq;function Oj(){if(Qq)return N1;Qq=1,N1=e,e.displayName="sql",e.aliases=[];function e(t){t.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}return N1}var R1,Zq;function K2e(){if(Zq)return R1;Zq=1;var e=Oj();R1=t,t.displayName="apex",t.aliases=[];function t(n){n.register(e),function(r){var i=/\b(?:(?:after|before)(?=\s+[a-z])|abstract|activate|and|any|array|as|asc|autonomous|begin|bigdecimal|blob|boolean|break|bulk|by|byte|case|cast|catch|char|class|collect|commit|const|continue|currency|date|datetime|decimal|default|delete|desc|do|double|else|end|enum|exception|exit|export|extends|final|finally|float|for|from|get(?=\s*[{};])|global|goto|group|having|hint|if|implements|import|in|inner|insert|instanceof|int|integer|interface|into|join|like|limit|list|long|loop|map|merge|new|not|null|nulls|number|object|of|on|or|outer|override|package|parallel|pragma|private|protected|public|retrieve|return|rollback|select|set|short|sObject|sort|static|string|super|switch|synchronized|system|testmethod|then|this|throw|time|transaction|transient|trigger|try|undelete|update|upsert|using|virtual|void|webservice|when|where|while|(?:inherited|with|without)\s+sharing)\b/i,d=/\b(?:(?=[a-z_]\w*\s*[<\[])|(?!<keyword>))[A-Z_]\w*(?:\s*\.\s*[A-Z_]\w*)*\b(?:\s*(?:\[\s*\]|<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>))*/.source.replace(/<keyword>/g,function(){return i.source});function g(S){return RegExp(S.replace(/<CLASS-NAME>/g,function(){return d}),"i")}var v={keyword:i,punctuation:/[()\[\]{};,:.<>]/};r.languages.apex={comment:r.languages.clike.comment,string:r.languages.clike.string,sql:{pattern:/((?:[=,({:]|\breturn)\s*)\[[^\[\]]*\]/i,lookbehind:!0,greedy:!0,alias:"language-sql",inside:r.languages.sql},annotation:{pattern:/@\w+\b/,alias:"punctuation"},"class-name":[{pattern:g(/(\b(?:class|enum|extends|implements|instanceof|interface|new|trigger\s+\w+\s+on)\s+)<CLASS-NAME>/.source),lookbehind:!0,inside:v},{pattern:g(/(\(\s*)<CLASS-NAME>(?=\s*\)\s*[\w(])/.source),lookbehind:!0,inside:v},{pattern:g(/<CLASS-NAME>(?=\s*\w+\s*[;=,(){:])/.source),inside:v}],trigger:{pattern:/(\btrigger\s+)\w+\b/i,lookbehind:!0,alias:"class-name"},keyword:i,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/(?:\B\.\d+|\b\d+(?:\.\d+|L)?)\b/i,operator:/[!=](?:==?)?|\?\.?|&&|\|\||--|\+\+|[-+*/^&|]=?|:|<<?=?|>{1,3}=?/,punctuation:/[()\[\]{};,.]/}}(n)}return R1}var A1,e6;function W2e(){if(e6)return A1;e6=1,A1=e,e.displayName="apl",e.aliases=[];function e(t){t.languages.apl={comment:/(?:⍝|#[! ]).*$/m,string:{pattern:/'(?:[^'\r\n]|'')*'/,greedy:!0},number:/¯?(?:\d*\.?\b\d+(?:e[+¯]?\d+)?|¯|∞)(?:j¯?(?:(?:\d+(?:\.\d+)?|\.\d+)(?:e[+¯]?\d+)?|¯|∞))?/i,statement:/:[A-Z][a-z][A-Za-z]*\b/,"system-function":{pattern:/⎕[A-Z]+/i,alias:"function"},constant:/[⍬⌾#⎕⍞]/,function:/[-+×÷⌈⌊∣|⍳⍸?*⍟○!⌹<≤=>≥≠≡≢∊⍷∪∩~∨∧⍱⍲⍴,⍪⌽⊖⍉↑↓⊂⊃⊆⊇⌷⍋⍒⊤⊥⍕⍎⊣⊢⍁⍂≈⍯↗¤→]/,"monadic-operator":{pattern:/[\\\/⌿⍀¨⍨⌶&∥]/,alias:"operator"},"dyadic-operator":{pattern:/[.⍣⍠⍤∘⌸@⌺⍥]/,alias:"operator"},assignment:{pattern:/←/,alias:"keyword"},punctuation:/[\[;\]()◇⋄]/,dfn:{pattern:/[{}⍺⍵⍶⍹∇⍫:]/,alias:"builtin"}}}return A1}var O1,t6;function Y2e(){if(t6)return O1;t6=1,O1=e,e.displayName="applescript",e.aliases=[];function e(t){t.languages.applescript={comment:[/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,/--.+/,/#.+/],string:/"(?:\\.|[^"\\\r\n])*"/,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?\b/i,operator:[/[&=≠≤≥*+\-\/÷^]|[<>]=?/,/\b(?:(?:begin|end|start)s? with|(?:contains?|(?:does not|doesn't) contain)|(?:is|isn't|is not) (?:contained by|in)|(?:(?:is|isn't|is not) )?(?:greater|less) than(?: or equal)?(?: to)?|(?:comes|(?:does not|doesn't) come) (?:after|before)|(?:is|isn't|is not) equal(?: to)?|(?:(?:does not|doesn't) equal|equal to|equals|is not|isn't)|(?:a )?(?:ref(?: to)?|reference to)|(?:and|as|div|mod|not|or))\b/],keyword:/\b(?:about|above|after|against|apart from|around|aside from|at|back|before|beginning|behind|below|beneath|beside|between|but|by|considering|continue|copy|does|eighth|else|end|equal|error|every|exit|false|fifth|first|for|fourth|from|front|get|given|global|if|ignoring|in|instead of|into|is|it|its|last|local|me|middle|my|ninth|of|on|onto|out of|over|prop|property|put|repeat|return|returning|second|set|seventh|since|sixth|some|tell|tenth|that|the|then|third|through|thru|timeout|times|to|transaction|true|try|until|where|while|whose|with|without)\b/,"class-name":/\b(?:POSIX file|RGB color|alias|application|boolean|centimeters|centimetres|class|constant|cubic centimeters|cubic centimetres|cubic feet|cubic inches|cubic meters|cubic metres|cubic yards|date|degrees Celsius|degrees Fahrenheit|degrees Kelvin|feet|file|gallons|grams|inches|integer|kilograms|kilometers|kilometres|list|liters|litres|meters|metres|miles|number|ounces|pounds|quarts|real|record|reference|script|square feet|square kilometers|square kilometres|square meters|square metres|square miles|square yards|text|yards)\b/,punctuation:/[{}():,¬«»《》]/}}return O1}var k1,n6;function X2e(){if(n6)return k1;n6=1,k1=e,e.displayName="aql",e.aliases=[];function e(t){t.languages.aql={comment:/\/\/.*|\/\*[\s\S]*?\*\//,property:{pattern:/([{,]\s*)(?:(?!\d)\w+|(["'´`])(?:(?!\2)[^\\\r\n]|\\.)*\2)(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},identifier:{pattern:/([´`])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},variable:/@@?\w+/,keyword:[{pattern:/(\bWITH\s+)COUNT(?=\s+INTO\b)/i,lookbehind:!0},/\b(?:AGGREGATE|ALL|AND|ANY|ASC|COLLECT|DESC|DISTINCT|FILTER|FOR|GRAPH|IN|INBOUND|INSERT|INTO|K_PATHS|K_SHORTEST_PATHS|LET|LIKE|LIMIT|NONE|NOT|NULL|OR|OUTBOUND|REMOVE|REPLACE|RETURN|SHORTEST_PATH|SORT|UPDATE|UPSERT|WINDOW|WITH)\b/i,{pattern:/(^|[^\w.[])(?:KEEP|PRUNE|SEARCH|TO)\b/i,lookbehind:!0},{pattern:/(^|[^\w.[])(?:CURRENT|NEW|OLD)\b/,lookbehind:!0},{pattern:/\bOPTIONS(?=\s*\{)/i}],function:/\b(?!\d)\w+(?=\s*\()/,boolean:/\b(?:false|true)\b/i,range:{pattern:/\.\./,alias:"operator"},number:[/\b0b[01]+/i,/\b0x[0-9a-f]+/i,/(?:\B\.\d+|\b(?:0|[1-9]\d*)(?:\.\d+)?)(?:e[+-]?\d+)?/i],operator:/\*{2,}|[=!]~|[!=<>]=?|&&|\|\||[-+*/%]/,punctuation:/::|[?.:,;()[\]{}]/}}return k1}var L1,r6;function Eg(){if(r6)return L1;r6=1,L1=e,e.displayName="c",e.aliases=[];function e(t){t.languages.c=t.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),t.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),t.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},t.languages.c.string],char:t.languages.c.char,comment:t.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:t.languages.c}}}}),t.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete t.languages.c.boolean}return L1}var P1,a6;function kj(){if(a6)return P1;a6=1;var e=Eg();P1=t,t.displayName="cpp",t.aliases=[];function t(n){n.register(e),function(r){var i=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,d=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return i.source});r.languages.cpp=r.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return i.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:i,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),r.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return d})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),r.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r.languages.cpp}}}}),r.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),r.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:r.languages.extend("cpp",{})}}),r.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},r.languages.cpp["base-clause"])}(n)}return P1}var D1,i6;function J2e(){if(i6)return D1;i6=1;var e=kj();D1=t,t.displayName="arduino",t.aliases=["ino"];function t(n){n.register(e),n.languages.arduino=n.languages.extend("cpp",{keyword:/\b(?:String|array|bool|boolean|break|byte|case|catch|continue|default|do|double|else|finally|for|function|goto|if|in|instanceof|int|integer|long|loop|new|null|return|setup|string|switch|throw|try|void|while|word)\b/,constant:/\b(?:ANALOG_MESSAGE|DEFAULT|DIGITAL_MESSAGE|EXTERNAL|FIRMATA_STRING|HIGH|INPUT|INPUT_PULLUP|INTERNAL|INTERNAL1V1|INTERNAL2V56|LED_BUILTIN|LOW|OUTPUT|REPORT_ANALOG|REPORT_DIGITAL|SET_PIN_MODE|SYSEX_START|SYSTEM_RESET)\b/,builtin:/\b(?:Audio|BSSID|Bridge|Client|Console|EEPROM|Esplora|EsploraTFT|Ethernet|EthernetClient|EthernetServer|EthernetUDP|File|FileIO|FileSystem|Firmata|GPRS|GSM|GSMBand|GSMClient|GSMModem|GSMPIN|GSMScanner|GSMServer|GSMVoiceCall|GSM_SMS|HttpClient|IPAddress|IRread|Keyboard|KeyboardController|LiquidCrystal|LiquidCrystal_I2C|Mailbox|Mouse|MouseController|PImage|Process|RSSI|RobotControl|RobotMotor|SD|SPI|SSID|Scheduler|Serial|Server|Servo|SoftwareSerial|Stepper|Stream|TFT|Task|USBHost|WiFi|WiFiClient|WiFiServer|WiFiUDP|Wire|YunClient|YunServer|abs|addParameter|analogRead|analogReadResolution|analogReference|analogWrite|analogWriteResolution|answerCall|attach|attachGPRS|attachInterrupt|attached|autoscroll|available|background|beep|begin|beginPacket|beginSD|beginSMS|beginSpeaker|beginTFT|beginTransmission|beginWrite|bit|bitClear|bitRead|bitSet|bitWrite|blink|blinkVersion|buffer|changePIN|checkPIN|checkPUK|checkReg|circle|cityNameRead|cityNameWrite|clear|clearScreen|click|close|compassRead|config|connect|connected|constrain|cos|countryNameRead|countryNameWrite|createChar|cursor|debugPrint|delay|delayMicroseconds|detach|detachInterrupt|digitalRead|digitalWrite|disconnect|display|displayLogos|drawBMP|drawCompass|encryptionType|end|endPacket|endSMS|endTransmission|endWrite|exists|exitValue|fill|find|findUntil|flush|gatewayIP|get|getAsynchronously|getBand|getButton|getCurrentCarrier|getIMEI|getKey|getModifiers|getOemKey|getPINUsed|getResult|getSignalStrength|getSocket|getVoiceCallStatus|getXChange|getYChange|hangCall|height|highByte|home|image|interrupts|isActionDone|isDirectory|isListening|isPIN|isPressed|isValid|keyPressed|keyReleased|keyboardRead|knobRead|leftToRight|line|lineFollowConfig|listen|listenOnLocalhost|loadImage|localIP|lowByte|macAddress|maintain|map|max|messageAvailable|micros|millis|min|mkdir|motorsStop|motorsWrite|mouseDragged|mouseMoved|mousePressed|mouseReleased|move|noAutoscroll|noBlink|noBuffer|noCursor|noDisplay|noFill|noInterrupts|noListenOnLocalhost|noStroke|noTone|onReceive|onRequest|open|openNextFile|overflow|parseCommand|parseFloat|parseInt|parsePacket|pauseMode|peek|pinMode|playFile|playMelody|point|pointTo|position|pow|prepare|press|print|printFirmwareVersion|printVersion|println|process|processInput|pulseIn|put|random|randomSeed|read|readAccelerometer|readBlue|readButton|readBytes|readBytesUntil|readGreen|readJoystickButton|readJoystickSwitch|readJoystickX|readJoystickY|readLightSensor|readMessage|readMicrophone|readNetworks|readRed|readSlider|readString|readStringUntil|readTemperature|ready|rect|release|releaseAll|remoteIP|remoteNumber|remotePort|remove|requestFrom|retrieveCallingNumber|rewindDirectory|rightToLeft|rmdir|robotNameRead|robotNameWrite|run|runAsynchronously|runShellCommand|runShellCommandAsynchronously|running|scanNetworks|scrollDisplayLeft|scrollDisplayRight|seek|sendAnalog|sendDigitalPortPair|sendDigitalPorts|sendString|sendSysex|serialEvent|setBand|setBitOrder|setClockDivider|setCursor|setDNS|setDataMode|setFirmwareVersion|setMode|setPINUsed|setSpeed|setTextSize|setTimeout|shiftIn|shiftOut|shutdown|sin|size|sqrt|startLoop|step|stop|stroke|subnetMask|switchPIN|tan|tempoWrite|text|tone|transfer|tuneWrite|turn|updateIR|userNameRead|userNameWrite|voiceCall|waitContinue|width|write|writeBlue|writeGreen|writeJSON|writeMessage|writeMicroseconds|writeRGB|writeRed|yield)\b/}),n.languages.ino=n.languages.arduino}return D1}var j1,o6;function Q2e(){if(o6)return j1;o6=1,j1=e,e.displayName="arff",e.aliases=[];function e(t){t.languages.arff={comment:/%.*/,string:{pattern:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/@(?:attribute|data|end|relation)\b/i,number:/\b\d+(?:\.\d+)?\b/,punctuation:/[{},]/}}return j1}var V1,s6;function Z2e(){if(s6)return V1;s6=1,V1=e,e.displayName="asciidoc",e.aliases=["adoc"];function e(t){(function(n){var r={pattern:/(^[ \t]*)\[(?!\[)(?:(["'$`])(?:(?!\2)[^\\]|\\.)*\2|\[(?:[^\[\]\\]|\\.)*\]|[^\[\]\\"'$`]|\\.)*\]/m,lookbehind:!0,inside:{quoted:{pattern:/([$`])(?:(?!\1)[^\\]|\\.)*\1/,inside:{punctuation:/^[$`]|[$`]$/}},interpreted:{pattern:/'(?:[^'\\]|\\.)*'/,inside:{punctuation:/^'|'$/}},string:/"(?:[^"\\]|\\.)*"/,variable:/\w+(?==)/,punctuation:/^\[|\]$|,/,operator:/=/,"attr-value":/(?!^\s+$).+/}},i=n.languages.asciidoc={"comment-block":{pattern:/^(\/{4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1/m,alias:"comment"},table:{pattern:/^\|={3,}(?:(?:\r?\n|\r(?!\n)).*)*?(?:\r?\n|\r)\|={3,}$/m,inside:{specifiers:{pattern:/(?:(?:(?:\d+(?:\.\d+)?|\.\d+)[+*](?:[<^>](?:\.[<^>])?|\.[<^>])?|[<^>](?:\.[<^>])?|\.[<^>])[a-z]*|[a-z]+)(?=\|)/,alias:"attr-value"},punctuation:{pattern:/(^|[^\\])[|!]=*/,lookbehind:!0}}},"passthrough-block":{pattern:/^(\+{4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1$/m,inside:{punctuation:/^\++|\++$/}},"literal-block":{pattern:/^(-{4,}|\.{4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1$/m,inside:{punctuation:/^(?:-+|\.+)|(?:-+|\.+)$/}},"other-block":{pattern:/^(--|\*{4,}|_{4,}|={4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1$/m,inside:{punctuation:/^(?:-+|\*+|_+|=+)|(?:-+|\*+|_+|=+)$/}},"list-punctuation":{pattern:/(^[ \t]*)(?:-|\*{1,5}|\.{1,5}|(?:[a-z]|\d+)\.|[xvi]+\))(?= )/im,lookbehind:!0,alias:"punctuation"},"list-label":{pattern:/(^[ \t]*)[a-z\d].+(?::{2,4}|;;)(?=\s)/im,lookbehind:!0,alias:"symbol"},"indented-block":{pattern:/((\r?\n|\r)\2)([ \t]+)\S.*(?:(?:\r?\n|\r)\3.+)*(?=\2{2}|$)/,lookbehind:!0},comment:/^\/\/.*/m,title:{pattern:/^.+(?:\r?\n|\r)(?:={3,}|-{3,}|~{3,}|\^{3,}|\+{3,})$|^={1,5} .+|^\.(?![\s.]).*/m,alias:"important",inside:{punctuation:/^(?:\.|=+)|(?:=+|-+|~+|\^+|\++)$/}},"attribute-entry":{pattern:/^:[^:\r\n]+:(?: .*?(?: \+(?:\r?\n|\r).*?)*)?$/m,alias:"tag"},attributes:r,hr:{pattern:/^'{3,}$/m,alias:"punctuation"},"page-break":{pattern:/^<{3,}$/m,alias:"punctuation"},admonition:{pattern:/^(?:CAUTION|IMPORTANT|NOTE|TIP|WARNING):/m,alias:"keyword"},callout:[{pattern:/(^[ \t]*)<?\d*>/m,lookbehind:!0,alias:"symbol"},{pattern:/<\d+>/,alias:"symbol"}],macro:{pattern:/\b[a-z\d][a-z\d-]*::?(?:[^\s\[\]]*\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:{function:/^[a-z\d-]+(?=:)/,punctuation:/^::?/,attributes:{pattern:/(?:\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:r.inside}}},inline:{pattern:/(^|[^\\])(?:(?:\B\[(?:[^\]\\"']|(["'])(?:(?!\2)[^\\]|\\.)*\2|\\.)*\])?(?:\b_(?!\s)(?: _|[^_\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: _|[^_\\\r\n]|\\.)+)*_\b|\B``(?!\s).+?(?:(?:\r?\n|\r).+?)*''\B|\B`(?!\s)(?:[^`'\s]|\s+\S)+['`]\B|\B(['*+#])(?!\s)(?: \3|(?!\3)[^\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: \3|(?!\3)[^\\\r\n]|\\.)+)*\3\B)|(?:\[(?:[^\]\\"']|(["'])(?:(?!\4)[^\\]|\\.)*\4|\\.)*\])?(?:(__|\*\*|\+\+\+?|##|\$\$|[~^]).+?(?:(?:\r?\n|\r).+?)*\5|\{[^}\r\n]+\}|\[\[\[?.+?(?:(?:\r?\n|\r).+?)*\]?\]\]|<<.+?(?:(?:\r?\n|\r).+?)*>>|\(\(\(?.+?(?:(?:\r?\n|\r).+?)*\)?\)\)))/m,lookbehind:!0,inside:{attributes:r,url:{pattern:/^(?:\[\[\[?.+?\]?\]\]|<<.+?>>)$/,inside:{punctuation:/^(?:\[\[\[?|<<)|(?:\]\]\]?|>>)$/}},"attribute-ref":{pattern:/^\{.+\}$/,inside:{variable:{pattern:/(^\{)[a-z\d,+_-]+/,lookbehind:!0},operator:/^[=?!#%@$]|!(?=[:}])/,punctuation:/^\{|\}$|::?/}},italic:{pattern:/^(['_])[\s\S]+\1$/,inside:{punctuation:/^(?:''?|__?)|(?:''?|__?)$/}},bold:{pattern:/^\*[\s\S]+\*$/,inside:{punctuation:/^\*\*?|\*\*?$/}},punctuation:/^(?:``?|\+{1,3}|##?|\$\$|[~^]|\(\(\(?)|(?:''?|\+{1,3}|##?|\$\$|[~^`]|\)?\)\))$/}},replacement:{pattern:/\((?:C|R|TM)\)/,alias:"builtin"},entity:/&#?[\da-z]{1,8};/i,"line-continuation":{pattern:/(^| )\+$/m,lookbehind:!0,alias:"punctuation"}};function d(g){g=g.split(" ");for(var v={},S=0,I=g.length;S<I;S++)v[g[S]]=i[g[S]];return v}r.inside.interpreted.inside.rest=d("macro inline replacement entity"),i["passthrough-block"].inside.rest=d("macro"),i["literal-block"].inside.rest=d("callout"),i.table.inside.rest=d("comment-block passthrough-block literal-block other-block list-punctuation indented-block comment title attribute-entry attributes hr page-break admonition list-label callout macro inline replacement entity line-continuation"),i["other-block"].inside.rest=d("table list-punctuation indented-block comment attribute-entry attributes hr page-break admonition list-label macro inline replacement entity line-continuation"),i.title.inside.rest=d("macro inline replacement entity"),n.hooks.add("wrap",function(g){g.type==="entity"&&(g.attributes.title=g.content.value.replace(/&amp;/,"&"))}),n.languages.adoc=n.languages.asciidoc})(t)}return V1}var $1,l6;function eAe(){if(l6)return $1;l6=1,$1=e,e.displayName="asm6502",e.aliases=[];function e(t){t.languages.asm6502={comment:/;.*/,directive:{pattern:/\.\w+(?= )/,alias:"property"},string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,"op-code":{pattern:/\b(?:ADC|AND|ASL|BCC|BCS|BEQ|BIT|BMI|BNE|BPL|BRK|BVC|BVS|CLC|CLD|CLI|CLV|CMP|CPX|CPY|DEC|DEX|DEY|EOR|INC|INX|INY|JMP|JSR|LDA|LDX|LDY|LSR|NOP|ORA|PHA|PHP|PLA|PLP|ROL|ROR|RTI|RTS|SBC|SEC|SED|SEI|STA|STX|STY|TAX|TAY|TSX|TXA|TXS|TYA|adc|and|asl|bcc|bcs|beq|bit|bmi|bne|bpl|brk|bvc|bvs|clc|cld|cli|clv|cmp|cpx|cpy|dec|dex|dey|eor|inc|inx|iny|jmp|jsr|lda|ldx|ldy|lsr|nop|ora|pha|php|pla|plp|rol|ror|rti|rts|sbc|sec|sed|sei|sta|stx|sty|tax|tay|tsx|txa|txs|tya)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{1,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[xya]\b/i,alias:"variable"},punctuation:/[(),:]/}}return $1}var U1,c6;function tAe(){if(c6)return U1;c6=1,U1=e,e.displayName="asmatmel",e.aliases=[];function e(t){t.languages.asmatmel={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},constant:/\b(?:PORT[A-Z]|DDR[A-Z]|(?:DD|P)[A-Z](?:\d|[0-2]\d|3[01]))\b/,directive:{pattern:/\.\w+(?= )/,alias:"property"},"r-register":{pattern:/\br(?:\d|[12]\d|3[01])\b/,alias:"variable"},"op-code":{pattern:/\b(?:ADC|ADD|ADIW|AND|ANDI|ASR|BCLR|BLD|BRBC|BRBS|BRCC|BRCS|BREAK|BREQ|BRGE|BRHC|BRHS|BRID|BRIE|BRLO|BRLT|BRMI|BRNE|BRPL|BRSH|BRTC|BRTS|BRVC|BRVS|BSET|BST|CALL|CBI|CBR|CLC|CLH|CLI|CLN|CLR|CLS|CLT|CLV|CLZ|COM|CP|CPC|CPI|CPSE|DEC|DES|EICALL|EIJMP|ELPM|EOR|FMUL|FMULS|FMULSU|ICALL|IJMP|IN|INC|JMP|LAC|LAS|LAT|LD|LD[A-Za-z0-9]|LPM|LSL|LSR|MOV|MOVW|MUL|MULS|MULSU|NEG|NOP|OR|ORI|OUT|POP|PUSH|RCALL|RET|RETI|RJMP|ROL|ROR|SBC|SBCI|SBI|SBIC|SBIS|SBIW|SBR|SBRC|SBRS|SEC|SEH|SEI|SEN|SER|SES|SET|SEV|SEZ|SLEEP|SPM|ST|ST[A-Z0-9]|SUB|SUBI|SWAP|TST|WDR|XCH|adc|add|adiw|and|andi|asr|bclr|bld|brbc|brbs|brcc|brcs|break|breq|brge|brhc|brhs|brid|brie|brlo|brlt|brmi|brne|brpl|brsh|brtc|brts|brvc|brvs|bset|bst|call|cbi|cbr|clc|clh|cli|cln|clr|cls|clt|clv|clz|com|cp|cpc|cpi|cpse|dec|des|eicall|eijmp|elpm|eor|fmul|fmuls|fmulsu|icall|ijmp|in|inc|jmp|lac|las|lat|ld|ld[a-z0-9]|lpm|lsl|lsr|mov|movw|mul|muls|mulsu|neg|nop|or|ori|out|pop|push|rcall|ret|reti|rjmp|rol|ror|sbc|sbci|sbi|sbic|sbis|sbiw|sbr|sbrc|sbrs|sec|seh|sei|sen|ser|ses|set|sev|sez|sleep|spm|st|st[a-zA-Z0-9]|sub|subi|swap|tst|wdr|xch)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{2,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[acznvshtixy]\b/i,alias:"variable"},operator:/>>=?|<<=?|&&?|\|\|?|[-+*/%&|^!=<>?]=?/,punctuation:/[(),:]/}}return U1}var B1,u6;function q_(){if(u6)return B1;u6=1,B1=e,e.displayName="csharp",e.aliases=["dotnet","cs"];function e(t){(function(n){function r(ye,be){return ye.replace(/<<(\d+)>>/g,function(oe,pe){return"(?:"+be[+pe]+")"})}function i(ye,be,oe){return RegExp(r(ye,be),"")}function d(ye,be){for(var oe=0;oe<be;oe++)ye=ye.replace(/<<self>>/g,function(){return"(?:"+ye+")"});return ye.replace(/<<self>>/g,"[^\\s\\S]")}var g={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function v(ye){return"\\b(?:"+ye.trim().replace(/ /g,"|")+")\\b"}var S=v(g.typeDeclaration),I=RegExp(v(g.type+" "+g.typeDeclaration+" "+g.contextual+" "+g.other)),T=v(g.typeDeclaration+" "+g.contextual+" "+g.other),_=v(g.type+" "+g.typeDeclaration+" "+g.other),N=d(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),A=d(/\((?:[^()]|<<self>>)*\)/.source,2),w=/@?\b[A-Za-z_]\w*\b/.source,O=r(/<<0>>(?:\s*<<1>>)?/.source,[w,N]),R=r(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[T,O]),D=/\[\s*(?:,\s*)*\]/.source,j=r(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[R,D]),L=r(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[N,A,D]),U=r(/\(<<0>>+(?:,<<0>>+)+\)/.source,[L]),$=r(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[U,R,D]),F={keyword:I,punctuation:/[<>()?,.:[\]]/},z=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,H=/"(?:\\.|[^\\"\r\n])*"/.source,V=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;n.languages.csharp=n.languages.extend("clike",{string:[{pattern:i(/(^|[^$\\])<<0>>/.source,[V]),lookbehind:!0,greedy:!0},{pattern:i(/(^|[^@$\\])<<0>>/.source,[H]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:i(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[R]),lookbehind:!0,inside:F},{pattern:i(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[w,$]),lookbehind:!0,inside:F},{pattern:i(/(\busing\s+)<<0>>(?=\s*=)/.source,[w]),lookbehind:!0},{pattern:i(/(\b<<0>>\s+)<<1>>/.source,[S,O]),lookbehind:!0,inside:F},{pattern:i(/(\bcatch\s*\(\s*)<<0>>/.source,[R]),lookbehind:!0,inside:F},{pattern:i(/(\bwhere\s+)<<0>>/.source,[w]),lookbehind:!0},{pattern:i(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[j]),lookbehind:!0,inside:F},{pattern:i(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[$,_,w]),inside:F}],keyword:I,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),n.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),n.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:i(/([(,]\s*)<<0>>(?=\s*:)/.source,[w]),lookbehind:!0,alias:"punctuation"}}),n.languages.insertBefore("csharp","class-name",{namespace:{pattern:i(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[w]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:i(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[A]),lookbehind:!0,alias:"class-name",inside:F},"return-type":{pattern:i(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[$,R]),inside:F,alias:"class-name"},"constructor-invocation":{pattern:i(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[$]),lookbehind:!0,inside:F,alias:"class-name"},"generic-method":{pattern:i(/<<0>>\s*<<1>>(?=\s*\()/.source,[w,N]),inside:{function:i(/^<<0>>/.source,[w]),generic:{pattern:RegExp(N),alias:"class-name",inside:F}}},"type-list":{pattern:i(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[S,O,w,$,I.source,A,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:i(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[O,A]),lookbehind:!0,greedy:!0,inside:n.languages.csharp},keyword:I,"class-name":{pattern:RegExp($),greedy:!0,inside:F},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var K=H+"|"+z,J=r(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[K]),te=d(r(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[J]),2),Z=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,X=r(/<<0>>(?:\s*\(<<1>>*\))?/.source,[R,te]);n.languages.insertBefore("csharp","class-name",{attribute:{pattern:i(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[Z,X]),lookbehind:!0,greedy:!0,inside:{target:{pattern:i(/^<<0>>(?=\s*:)/.source,[Z]),alias:"keyword"},"attribute-arguments":{pattern:i(/\(<<0>>*\)/.source,[te]),inside:n.languages.csharp},"class-name":{pattern:RegExp(R),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var re=/:[^}\r\n]+/.source,ee=d(r(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[J]),2),ae=r(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[ee,re]),de=d(r(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[K]),2),he=r(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[de,re]);function ue(ye,be){return{interpolation:{pattern:i(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[ye]),lookbehind:!0,inside:{"format-string":{pattern:i(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[be,re]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:n.languages.csharp}}},string:/[\s\S]+/}}n.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:i(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[ae]),lookbehind:!0,greedy:!0,inside:ue(ae,ee)},{pattern:i(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[he]),lookbehind:!0,greedy:!0,inside:ue(he,de)}],char:{pattern:RegExp(z),greedy:!0}}),n.languages.dotnet=n.languages.cs=n.languages.csharp})(t)}return B1}var F1,d6;function nAe(){if(d6)return F1;d6=1;var e=q_();F1=t,t.displayName="aspnet",t.aliases=[];function t(n){n.register(e),n.languages.aspnet=n.languages.extend("markup",{"page-directive":{pattern:/<%\s*@.*%>/,alias:"tag",inside:{"page-directive":{pattern:/<%\s*@\s*(?:Assembly|Control|Implements|Import|Master(?:Type)?|OutputCache|Page|PreviousPageType|Reference|Register)?|%>/i,alias:"tag"},rest:n.languages.markup.tag.inside}},directive:{pattern:/<%.*%>/,alias:"tag",inside:{directive:{pattern:/<%\s*?[$=%#:]{0,2}|%>/,alias:"tag"},rest:n.languages.csharp}}}),n.languages.aspnet.tag.pattern=/<(?!%)\/?[^\s>\/]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,n.languages.insertBefore("inside","punctuation",{directive:n.languages.aspnet.directive},n.languages.aspnet.tag.inside["attr-value"]),n.languages.insertBefore("aspnet","comment",{"asp-comment":{pattern:/<%--[\s\S]*?--%>/,alias:["asp","comment"]}}),n.languages.insertBefore("aspnet",n.languages.javascript?"script":"tag",{"asp-script":{pattern:/(<script(?=.*runat=['"]?server\b)[^>]*>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,alias:["asp","script"],inside:n.languages.csharp||{}}})}return F1}var q1,p6;function rAe(){if(p6)return q1;p6=1,q1=e,e.displayName="autohotkey",e.aliases=[];function e(t){t.languages.autohotkey={comment:[{pattern:/(^|\s);.*/,lookbehind:!0},{pattern:/(^[\t ]*)\/\*(?:[\r\n](?![ \t]*\*\/)|[^\r\n])*(?:[\r\n][ \t]*\*\/)?/m,lookbehind:!0,greedy:!0}],tag:{pattern:/^([ \t]*)[^\s,`":]+(?=:[ \t]*$)/m,lookbehind:!0},string:/"(?:[^"\n\r]|"")*"/,variable:/%\w+%/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/\?|\/\/?=?|:=|\|[=|]?|&[=&]?|\+[=+]?|-[=-]?|\*[=*]?|<(?:<=?|>|=)?|>>?=?|[.^!=~]=?|\b(?:AND|NOT|OR)\b/,boolean:/\b(?:false|true)\b/,selector:/\b(?:AutoTrim|BlockInput|Break|Click|ClipWait|Continue|Control|ControlClick|ControlFocus|ControlGet|ControlGetFocus|ControlGetPos|ControlGetText|ControlMove|ControlSend|ControlSendRaw|ControlSetText|CoordMode|Critical|DetectHiddenText|DetectHiddenWindows|Drive|DriveGet|DriveSpaceFree|EnvAdd|EnvDiv|EnvGet|EnvMult|EnvSet|EnvSub|EnvUpdate|Exit|ExitApp|FileAppend|FileCopy|FileCopyDir|FileCreateDir|FileCreateShortcut|FileDelete|FileEncoding|FileGetAttrib|FileGetShortcut|FileGetSize|FileGetTime|FileGetVersion|FileInstall|FileMove|FileMoveDir|FileRead|FileReadLine|FileRecycle|FileRecycleEmpty|FileRemoveDir|FileSelectFile|FileSelectFolder|FileSetAttrib|FileSetTime|FormatTime|GetKeyState|Gosub|Goto|GroupActivate|GroupAdd|GroupClose|GroupDeactivate|Gui|GuiControl|GuiControlGet|Hotkey|ImageSearch|IniDelete|IniRead|IniWrite|Input|InputBox|KeyWait|ListHotkeys|ListLines|ListVars|Loop|Menu|MouseClick|MouseClickDrag|MouseGetPos|MouseMove|MsgBox|OnExit|OutputDebug|Pause|PixelGetColor|PixelSearch|PostMessage|Process|Progress|Random|RegDelete|RegRead|RegWrite|Reload|Repeat|Return|Run|RunAs|RunWait|Send|SendEvent|SendInput|SendMessage|SendMode|SendPlay|SendRaw|SetBatchLines|SetCapslockState|SetControlDelay|SetDefaultMouseSpeed|SetEnv|SetFormat|SetKeyDelay|SetMouseDelay|SetNumlockState|SetRegView|SetScrollLockState|SetStoreCapslockMode|SetTimer|SetTitleMatchMode|SetWinDelay|SetWorkingDir|Shutdown|Sleep|Sort|SoundBeep|SoundGet|SoundGetWaveVolume|SoundPlay|SoundSet|SoundSetWaveVolume|SplashImage|SplashTextOff|SplashTextOn|SplitPath|StatusBarGetText|StatusBarWait|StringCaseSense|StringGetPos|StringLeft|StringLen|StringLower|StringMid|StringReplace|StringRight|StringSplit|StringTrimLeft|StringTrimRight|StringUpper|Suspend|SysGet|Thread|ToolTip|Transform|TrayTip|URLDownloadToFile|WinActivate|WinActivateBottom|WinClose|WinGet|WinGetActiveStats|WinGetActiveTitle|WinGetClass|WinGetPos|WinGetText|WinGetTitle|WinHide|WinKill|WinMaximize|WinMenuSelectItem|WinMinimize|WinMinimizeAll|WinMinimizeAllUndo|WinMove|WinRestore|WinSet|WinSetTitle|WinShow|WinWait|WinWaitActive|WinWaitClose|WinWaitNotActive)\b/i,constant:/\b(?:a_ahkpath|a_ahkversion|a_appdata|a_appdatacommon|a_autotrim|a_batchlines|a_caretx|a_carety|a_computername|a_controldelay|a_cursor|a_dd|a_ddd|a_dddd|a_defaultmousespeed|a_desktop|a_desktopcommon|a_detecthiddentext|a_detecthiddenwindows|a_endchar|a_eventinfo|a_exitreason|a_fileencoding|a_formatfloat|a_formatinteger|a_gui|a_guicontrol|a_guicontrolevent|a_guievent|a_guiheight|a_guiwidth|a_guix|a_guiy|a_hour|a_iconfile|a_iconhidden|a_iconnumber|a_icontip|a_index|a_ipaddress1|a_ipaddress2|a_ipaddress3|a_ipaddress4|a_is64bitos|a_isadmin|a_iscompiled|a_iscritical|a_ispaused|a_issuspended|a_isunicode|a_keydelay|a_language|a_lasterror|a_linefile|a_linenumber|a_loopfield|a_loopfileattrib|a_loopfiledir|a_loopfileext|a_loopfilefullpath|a_loopfilelongpath|a_loopfilename|a_loopfileshortname|a_loopfileshortpath|a_loopfilesize|a_loopfilesizekb|a_loopfilesizemb|a_loopfiletimeaccessed|a_loopfiletimecreated|a_loopfiletimemodified|a_loopreadline|a_loopregkey|a_loopregname|a_loopregsubkey|a_loopregtimemodified|a_loopregtype|a_mday|a_min|a_mm|a_mmm|a_mmmm|a_mon|a_mousedelay|a_msec|a_mydocuments|a_now|a_nowutc|a_numbatchlines|a_ostype|a_osversion|a_priorhotkey|a_priorkey|a_programfiles|a_programs|a_programscommon|a_ptrsize|a_regview|a_screendpi|a_screenheight|a_screenwidth|a_scriptdir|a_scriptfullpath|a_scripthwnd|a_scriptname|a_sec|a_space|a_startmenu|a_startmenucommon|a_startup|a_startupcommon|a_stringcasesense|a_tab|a_temp|a_thisfunc|a_thishotkey|a_thislabel|a_thismenu|a_thismenuitem|a_thismenuitempos|a_tickcount|a_timeidle|a_timeidlephysical|a_timesincepriorhotkey|a_timesincethishotkey|a_titlematchmode|a_titlematchmodespeed|a_username|a_wday|a_windelay|a_windir|a_workingdir|a_yday|a_year|a_yweek|a_yyyy|clipboard|clipboardall|comspec|errorlevel|programfiles)\b/i,builtin:/\b(?:abs|acos|asc|asin|atan|ceil|chr|class|comobjactive|comobjarray|comobjconnect|comobjcreate|comobjerror|comobjflags|comobjget|comobjquery|comobjtype|comobjvalue|cos|dllcall|exp|fileexist|Fileopen|floor|format|il_add|il_create|il_destroy|instr|isfunc|islabel|IsObject|ln|log|ltrim|lv_add|lv_delete|lv_deletecol|lv_getcount|lv_getnext|lv_gettext|lv_insert|lv_insertcol|lv_modify|lv_modifycol|lv_setimagelist|mod|numget|numput|onmessage|regexmatch|regexreplace|registercallback|round|rtrim|sb_seticon|sb_setparts|sb_settext|sin|sqrt|strlen|strreplace|strsplit|substr|tan|tv_add|tv_delete|tv_get|tv_getchild|tv_getcount|tv_getnext|tv_getparent|tv_getprev|tv_getselection|tv_gettext|tv_modify|varsetcapacity|winactive|winexist|__Call|__Get|__New|__Set)\b/i,symbol:/\b(?:alt|altdown|altup|appskey|backspace|browser_back|browser_favorites|browser_forward|browser_home|browser_refresh|browser_search|browser_stop|bs|capslock|ctrl|ctrlbreak|ctrldown|ctrlup|del|delete|down|end|enter|esc|escape|f1|f10|f11|f12|f13|f14|f15|f16|f17|f18|f19|f2|f20|f21|f22|f23|f24|f3|f4|f5|f6|f7|f8|f9|home|ins|insert|joy1|joy10|joy11|joy12|joy13|joy14|joy15|joy16|joy17|joy18|joy19|joy2|joy20|joy21|joy22|joy23|joy24|joy25|joy26|joy27|joy28|joy29|joy3|joy30|joy31|joy32|joy4|joy5|joy6|joy7|joy8|joy9|joyaxes|joybuttons|joyinfo|joyname|joypov|joyr|joyu|joyv|joyx|joyy|joyz|lalt|launch_app1|launch_app2|launch_mail|launch_media|lbutton|lcontrol|lctrl|left|lshift|lwin|lwindown|lwinup|mbutton|media_next|media_play_pause|media_prev|media_stop|numlock|numpad0|numpad1|numpad2|numpad3|numpad4|numpad5|numpad6|numpad7|numpad8|numpad9|numpadadd|numpadclear|numpaddel|numpaddiv|numpaddot|numpaddown|numpadend|numpadenter|numpadhome|numpadins|numpadleft|numpadmult|numpadpgdn|numpadpgup|numpadright|numpadsub|numpadup|pgdn|pgup|printscreen|ralt|rbutton|rcontrol|rctrl|right|rshift|rwin|rwindown|rwinup|scrolllock|shift|shiftdown|shiftup|space|tab|up|volume_down|volume_mute|volume_up|wheeldown|wheelleft|wheelright|wheelup|xbutton1|xbutton2)\b/i,important:/#\b(?:AllowSameLineComments|ClipboardTimeout|CommentFlag|DerefChar|ErrorStdOut|EscapeChar|HotkeyInterval|HotkeyModifierTimeout|Hotstring|If|IfTimeout|IfWinActive|IfWinExist|IfWinNotActive|IfWinNotExist|Include|IncludeAgain|InputLevel|InstallKeybdHook|InstallMouseHook|KeyHistory|MaxHotkeysPerInterval|MaxMem|MaxThreads|MaxThreadsBuffer|MaxThreadsPerHotkey|MenuMaskKey|NoEnv|NoTrayIcon|Persistent|SingleInstance|UseHook|Warn|WinActivateForce)\b/i,keyword:/\b(?:Abort|AboveNormal|Add|ahk_class|ahk_exe|ahk_group|ahk_id|ahk_pid|All|Alnum|Alpha|AltSubmit|AltTab|AltTabAndMenu|AltTabMenu|AltTabMenuDismiss|AlwaysOnTop|AutoSize|Background|BackgroundTrans|BelowNormal|between|BitAnd|BitNot|BitOr|BitShiftLeft|BitShiftRight|BitXOr|Bold|Border|Button|ByRef|Catch|Checkbox|Checked|CheckedGray|Choose|ChooseString|Close|Color|ComboBox|Contains|ControlList|Count|Date|DateTime|Days|DDL|Default|DeleteAll|Delimiter|Deref|Destroy|Digit|Disable|Disabled|DropDownList|Edit|Eject|Else|Enable|Enabled|Error|Exist|Expand|ExStyle|FileSystem|Finally|First|Flash|Float|FloatFast|Focus|Font|for|global|Grid|Group|GroupBox|GuiClose|GuiContextMenu|GuiDropFiles|GuiEscape|GuiSize|Hdr|Hidden|Hide|High|HKCC|HKCR|HKCU|HKEY_CLASSES_ROOT|HKEY_CURRENT_CONFIG|HKEY_CURRENT_USER|HKEY_LOCAL_MACHINE|HKEY_USERS|HKLM|HKU|Hours|HScroll|Icon|IconSmall|ID|IDLast|If|IfEqual|IfExist|IfGreater|IfGreaterOrEqual|IfInString|IfLess|IfLessOrEqual|IfMsgBox|IfNotEqual|IfNotExist|IfNotInString|IfWinActive|IfWinExist|IfWinNotActive|IfWinNotExist|Ignore|ImageList|in|Integer|IntegerFast|Interrupt|is|italic|Join|Label|LastFound|LastFoundExist|Limit|Lines|List|ListBox|ListView|local|Lock|Logoff|Low|Lower|Lowercase|MainWindow|Margin|Maximize|MaximizeBox|MaxSize|Minimize|MinimizeBox|MinMax|MinSize|Minutes|MonthCal|Mouse|Move|Multi|NA|No|NoActivate|NoDefault|NoHide|NoIcon|NoMainWindow|norm|Normal|NoSort|NoSortHdr|NoStandard|Not|NoTab|NoTimers|Number|Off|Ok|On|OwnDialogs|Owner|Parse|Password|Picture|Pixel|Pos|Pow|Priority|ProcessName|Radio|Range|Read|ReadOnly|Realtime|Redraw|Region|REG_BINARY|REG_DWORD|REG_EXPAND_SZ|REG_MULTI_SZ|REG_SZ|Relative|Rename|Report|Resize|Restore|Retry|RGB|Screen|Seconds|Section|Serial|SetLabel|ShiftAltTab|Show|Single|Slider|SortDesc|Standard|static|Status|StatusBar|StatusCD|strike|Style|Submit|SysMenu|Tab2|TabStop|Text|Theme|Throw|Tile|ToggleCheck|ToggleEnable|ToolWindow|Top|Topmost|TransColor|Transparent|Tray|TreeView|Try|TryAgain|Type|UnCheck|underline|Unicode|Unlock|Until|UpDown|Upper|Uppercase|UseErrorLevel|Vis|VisFirst|Visible|VScroll|Wait|WaitClose|WantCtrlA|WantF2|WantReturn|While|Wrap|Xdigit|xm|xp|xs|Yes|ym|yp|ys)\b/i,function:/[^(); \t,\n+*\-=?>:\\\/<&%\[\]]+(?=\()/,punctuation:/[{}[\]():,]/}}return q1}var z1,m6;function aAe(){if(m6)return z1;m6=1,z1=e,e.displayName="autoit",e.aliases=[];function e(t){t.languages.autoit={comment:[/;.*/,{pattern:/(^[\t ]*)#(?:comments-start|cs)[\s\S]*?^[ \t]*#(?:ce|comments-end)/m,lookbehind:!0}],url:{pattern:/(^[\t ]*#include\s+)(?:<[^\r\n>]+>|"[^\r\n"]+")/m,lookbehind:!0},string:{pattern:/(["'])(?:\1\1|(?!\1)[^\r\n])*\1/,greedy:!0,inside:{variable:/([%$@])\w+\1/}},directive:{pattern:/(^[\t ]*)#[\w-]+/m,lookbehind:!0,alias:"keyword"},function:/\b\w+(?=\()/,variable:/[$@]\w+/,keyword:/\b(?:Case|Const|Continue(?:Case|Loop)|Default|Dim|Do|Else(?:If)?|End(?:Func|If|Select|Switch|With)|Enum|Exit(?:Loop)?|For|Func|Global|If|In|Local|Next|Null|ReDim|Select|Static|Step|Switch|Then|To|Until|Volatile|WEnd|While|With)\b/i,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,boolean:/\b(?:False|True)\b/i,operator:/<[=>]?|[-+*\/=&>]=?|[?^]|\b(?:And|Not|Or)\b/i,punctuation:/[\[\]().,:]/}}return z1}var H1,f6;function iAe(){if(f6)return H1;f6=1,H1=e,e.displayName="avisynth",e.aliases=["avs"];function e(t){(function(n){function r(T,_){return T.replace(/<<(\d+)>>/g,function(N,A){return _[+A]})}function i(T,_,N){return RegExp(r(T,_),N)}var d=/bool|clip|float|int|string|val/.source,g=[/is(?:bool|clip|float|int|string)|defined|(?:(?:internal)?function|var)?exists?/.source,/apply|assert|default|eval|import|nop|select|undefined/.source,/opt_(?:allowfloataudio|avipadscanlines|dwchannelmask|enable_(?:b64a|planartopackedrgb|v210|y3_10_10|y3_10_16)|usewaveextensible|vdubplanarhack)|set(?:cachemode|maxcpu|memorymax|planarlegacyalignment|workingdir)/.source,/hex(?:value)?|value/.source,/abs|ceil|continued(?:denominator|numerator)?|exp|floor|fmod|frac|log(?:10)?|max|min|muldiv|pi|pow|rand|round|sign|spline|sqrt/.source,/a?sinh?|a?cosh?|a?tan[2h]?/.source,/(?:bit(?:and|not|x?or|[lr]?shift[aslu]?|sh[lr]|sa[lr]|[lr]rotatel?|ro[rl]|te?st|set(?:count)?|cl(?:ea)?r|ch(?:an)?ge?))/.source,/average(?:[bgr]|chroma[uv]|luma)|(?:[rgb]|chroma[uv]|luma|rgb|[yuv](?=difference(?:fromprevious|tonext)))difference(?:fromprevious|tonext)?|[yuvrgb]plane(?:median|min|max|minmaxdifference)/.source,/getprocessinfo|logmsg|script(?:dir(?:utf8)?|file(?:utf8)?|name(?:utf8)?)|setlogparams/.source,/chr|(?:fill|find|left|mid|replace|rev|right)str|format|[lu]case|ord|str(?:cmpi?|fromutf8|len|toutf8)|time|trim(?:all|left|right)/.source,/isversionorgreater|version(?:number|string)/.source,/buildpixeltype|colorspacenametopixeltype/.source,/addautoloaddir|on(?:cpu|cuda)|prefetch|setfiltermtmode/.source].join("|"),v=[/has(?:audio|video)/.source,/height|width/.source,/frame(?:count|rate)|framerate(?:denominator|numerator)/.source,/getparity|is(?:field|frame)based/.source,/bitspercomponent|componentsize|hasalpha|is(?:planar(?:rgba?)?|interleaved|rgb(?:24|32|48|64)?|y(?:8|u(?:va?|y2))?|yv(?:12|16|24|411)|420|422|444|packedrgb)|numcomponents|pixeltype/.source,/audio(?:bits|channels|duration|length(?:[fs]|hi|lo)?|rate)|isaudio(?:float|int)/.source].join("|"),S=[/avi(?:file)?source|directshowsource|image(?:reader|source|sourceanim)|opendmlsource|segmented(?:avisource|directshowsource)|wavsource/.source,/coloryuv|convertbacktoyuy2|convertto(?:RGB(?:24|32|48|64)|(?:planar)?RGBA?|Y8?|YV(?:12|16|24|411)|YUVA?(?:411|420|422|444)|YUY2)|fixluminance|gr[ae]yscale|invert|levels|limiter|mergea?rgb|merge(?:chroma|luma)|rgbadjust|show(?:alpha|blue|green|red)|swapuv|tweak|[uv]toy8?|ytouv/.source,/(?:colorkey|reset)mask|layer|mask(?:hs)?|merge|overlay|subtract/.source,/addborders|(?:bicubic|bilinear|blackman|gauss|lanczos4|lanczos|point|sinc|spline(?:16|36|64))resize|crop(?:bottom)?|flip(?:horizontal|vertical)|(?:horizontal|vertical)?reduceby2|letterbox|skewrows|turn(?:180|left|right)/.source,/blur|fixbrokenchromaupsampling|generalconvolution|(?:spatial|temporal)soften|sharpen/.source,/trim|(?:un)?alignedsplice|(?:assume|assumescaled|change|convert)FPS|(?:delete|duplicate)frame|dissolve|fade(?:in|io|out)[02]?|freezeframe|interleave|loop|reverse|select(?:even|odd|(?:range)?every)/.source,/assume[bt]ff|assume(?:field|frame)based|bob|complementparity|doubleweave|peculiarblend|pulldown|separate(?:columns|fields|rows)|swapfields|weave(?:columns|rows)?/.source,/amplify(?:db)?|assumesamplerate|audiodub(?:ex)?|audiotrim|convertaudioto(?:(?:8|16|24|32)bit|float)|converttomono|delayaudio|ensurevbrmp3sync|get(?:left|right)?channel|kill(?:audio|video)|mergechannels|mixaudio|monotostereo|normalize|resampleaudio|ssrc|supereq|timestretch/.source,/animate|applyrange|conditional(?:filter|reader|select)|frameevaluate|scriptclip|tcp(?:server|source)|writefile(?:end|if|start)?/.source,/imagewriter/.source,/blackness|blankclip|colorbars(?:hd)?|compare|dumpfiltergraph|echo|histogram|info|messageclip|preroll|setgraphanalysis|show(?:framenumber|smpte|time)|showfiveversions|stack(?:horizontal|vertical)|subtitle|tone|version/.source].join("|"),I=[g,v,S].join("|");n.languages.avisynth={comment:[{pattern:/(^|[^\\])\[\*(?:[^\[*]|\[(?!\*)|\*(?!\])|\[\*(?:[^\[*]|\[(?!\*)|\*(?!\]))*\*\])*\*\]/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],argument:{pattern:i(/\b(?:<<0>>)\s+("?)\w+\1/.source,[d],"i"),inside:{keyword:/^\w+/}},"argument-label":{pattern:/([,(][\s\\]*)\w+\s*=(?!=)/,lookbehind:!0,inside:{"argument-name":{pattern:/^\w+/,alias:"punctuation"},punctuation:/=$/}},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0,inside:{constant:{pattern:/\b(?:DEFAULT_MT_MODE|(?:MAINSCRIPT|PROGRAM|SCRIPT)DIR|(?:MACHINE|USER)_(?:CLASSIC|PLUS)_PLUGINS)\b/}}}],variable:/\b(?:last)\b/i,boolean:/\b(?:false|no|true|yes)\b/i,keyword:/\b(?:catch|else|for|function|global|if|return|try|while|__END__)\b/i,constant:/\bMT_(?:MULTI_INSTANCE|NICE_FILTER|SERIALIZED|SPECIAL_MT)\b/,"builtin-function":{pattern:i(/\b(?:<<0>>)\b/.source,[I],"i"),alias:"function"},"type-cast":{pattern:i(/\b(?:<<0>>)(?=\s*\()/.source,[d],"i"),alias:"keyword"},function:{pattern:/\b[a-z_]\w*(?=\s*\()|(\.)[a-z_]\w*\b/i,lookbehind:!0},"line-continuation":{pattern:/(^[ \t]*)\\|\\(?=[ \t]*$)/m,lookbehind:!0,alias:"punctuation"},number:/\B\$(?:[\da-f]{6}|[\da-f]{8})\b|(?:(?:\b|\B-)\d+(?:\.\d*)?\b|\B\.\d+\b)/i,operator:/\+\+?|[!=<>]=?|&&|\|\||[?:*/%-]/,punctuation:/[{}\[\]();,.]/},n.languages.avs=n.languages.avisynth})(t)}return H1}var G1,g6;function oAe(){if(g6)return G1;g6=1,G1=e,e.displayName="avroIdl",e.aliases=[];function e(t){t.languages["avro-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0},annotation:{pattern:/@(?:[$\w.-]|`[^\r\n`]+`)+/,greedy:!0,alias:"function"},"function-identifier":{pattern:/`[^\r\n`]+`(?=\s*\()/,greedy:!0,alias:"function"},identifier:{pattern:/`[^\r\n`]+`/,greedy:!0},"class-name":{pattern:/(\b(?:enum|error|protocol|record|throws)\b\s+)[$\w]+/,lookbehind:!0,greedy:!0},keyword:/\b(?:array|boolean|bytes|date|decimal|double|enum|error|false|fixed|float|idl|import|int|local_timestamp_ms|long|map|null|oneway|protocol|record|schema|string|throws|time_ms|timestamp_ms|true|union|uuid|void)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:[{pattern:/(^|[^\w.])-?(?:(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|0x(?:[a-f0-9]+(?:\.[a-f0-9]*)?|\.[a-f0-9]+)(?:p[+-]?\d+)?)[dfl]?(?![\w.])/i,lookbehind:!0},/-?\b(?:Infinity|NaN)\b/],operator:/=/,punctuation:/[()\[\]{}<>.:,;-]/},t.languages.avdl=t.languages["avro-idl"]}return G1}var K1,h6;function $J(){if(h6)return K1;h6=1,K1=e,e.displayName="bash",e.aliases=["shell"];function e(t){(function(n){var r="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",i={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},d={bash:i,environment:{pattern:RegExp("\\$"+r),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+r),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};n.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+r),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:d},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:i}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:d},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:d.entity}}],environment:{pattern:RegExp("\\$?"+r),alias:"constant"},variable:d.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},i.inside=n.languages.bash;for(var g=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],v=d.variable[1].inside,S=0;S<g.length;S++)v[g[S]]=n.languages.bash[g[S]];n.languages.shell=n.languages.bash})(t)}return K1}var W1,v6;function UJ(){if(v6)return W1;v6=1,W1=e,e.displayName="basic",e.aliases=[];function e(t){t.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/}}return W1}var Y1,y6;function sAe(){if(y6)return Y1;y6=1,Y1=e,e.displayName="batch",e.aliases=[];function e(t){(function(n){var r=/%%?[~:\w]+%?|!\S+!/,i={pattern:/\/[a-z?]+(?=[ :]|$):?|-[a-z]\b|--[a-z-]+\b/im,alias:"attr-name",inside:{punctuation:/:/}},d=/"(?:[\\"]"|[^"])*"(?!")/,g=/(?:\b|-)\d+\b/;n.languages.batch={comment:[/^::.*/m,{pattern:/((?:^|[&(])[ \t]*)rem\b(?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0}],label:{pattern:/^:.*/m,alias:"property"},command:[{pattern:/((?:^|[&(])[ \t]*)for(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* \S+ in \([^)]+\) do/im,lookbehind:!0,inside:{keyword:/\b(?:do|in)\b|^for\b/i,string:d,parameter:i,variable:r,number:g,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*)if(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:not )?(?:cmdextversion \d+|defined \w+|errorlevel \d+|exist \S+|(?:"[^"]*"|(?!")(?:(?!==)\S)+)?(?:==| (?:equ|geq|gtr|leq|lss|neq) )(?:"[^"]*"|[^\s"]\S*))/im,lookbehind:!0,inside:{keyword:/\b(?:cmdextversion|defined|errorlevel|exist|not)\b|^if\b/i,string:d,parameter:i,variable:r,number:g,operator:/\^|==|\b(?:equ|geq|gtr|leq|lss|neq)\b/i}},{pattern:/((?:^|[&()])[ \t]*)else\b/im,lookbehind:!0,inside:{keyword:/^else\b/i}},{pattern:/((?:^|[&(])[ \t]*)set(?: \/[a-z](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0,inside:{keyword:/^set\b/i,string:d,parameter:i,variable:[r,/\w+(?=(?:[*\/%+\-&^|]|<<|>>)?=)/],number:g,operator:/[*\/%+\-&^|]=?|<<=?|>>=?|[!~_=]/,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*@?)\w+\b(?:"(?:[\\"]"|[^"])*"(?!")|[^"^&)\r\n]|\^(?:\r\n|[\s\S]))*/m,lookbehind:!0,inside:{keyword:/^\w+\b/,string:d,parameter:i,label:{pattern:/(^\s*):\S+/m,lookbehind:!0,alias:"property"},variable:r,number:g,operator:/\^/}}],operator:/[&@]/,punctuation:/[()']/}})(t)}return Y1}var X1,b6;function lAe(){if(b6)return X1;b6=1,X1=e,e.displayName="bbcode",e.aliases=["shortcode"];function e(t){t.languages.bbcode={tag:{pattern:/\[\/?[^\s=\]]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))?(?:\s+[^\s=\]]+\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))*\s*\]/,inside:{tag:{pattern:/^\[\/?[^\s=\]]+/,inside:{punctuation:/^\[\/?/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+)/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\]/,"attr-name":/[^\s=\]]+/}}},t.languages.shortcode=t.languages.bbcode}return X1}var J1,S6;function cAe(){if(S6)return J1;S6=1,J1=e,e.displayName="bicep",e.aliases=[];function e(t){t.languages.bicep={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],property:[{pattern:/([\r\n][ \t]*)[a-z_]\w*(?=[ \t]*:)/i,lookbehind:!0},{pattern:/([\r\n][ \t]*)'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'(?=[ \t]*:)/,lookbehind:!0,greedy:!0}],string:[{pattern:/'''[^'][\s\S]*?'''/,greedy:!0},{pattern:/(^|[^\\'])'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0}],"interpolated-string":{pattern:/(^|[^\\'])'(?:\\.|\$(?:(?!\{)|\{[^{}\r\n]*\})|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}\r\n]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0},punctuation:/^\$\{|\}$/}},string:/[\s\S]+/}},datatype:{pattern:/(\b(?:output|param)\b[ \t]+\w+[ \t]+)\w+\b/,lookbehind:!0,alias:"class-name"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:existing|for|if|in|module|null|output|param|resource|targetScope|var)\b/,decorator:/@\w+\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/,punctuation:/[{}[\];(),.:]/},t.languages.bicep["interpolated-string"].inside.interpolation.inside.expression.inside=t.languages.bicep}return J1}var Q1,I6;function uAe(){if(I6)return Q1;I6=1,Q1=e,e.displayName="birb",e.aliases=[];function e(t){t.languages.birb=t.languages.extend("clike",{string:{pattern:/r?("|')(?:\\.|(?!\1)[^\\])*\1/,greedy:!0},"class-name":[/\b[A-Z](?:[\d_]*[a-zA-Z]\w*)?\b/,/\b(?:[A-Z]\w*|(?!(?:var|void)\b)[a-z]\w*)(?=\s+\w+\s*[;,=()])/],keyword:/\b(?:assert|break|case|class|const|default|else|enum|final|follows|for|grab|if|nest|new|next|noSeeb|return|static|switch|throw|var|void|while)\b/,operator:/\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?|:/,variable:/\b[a-z_]\w*\b/}),t.languages.insertBefore("birb","function",{metadata:{pattern:/<\w+>/,greedy:!0,alias:"symbol"}})}return Q1}var Z1,E6;function dAe(){if(E6)return Z1;E6=1;var e=Eg();Z1=t,t.displayName="bison",t.aliases=[];function t(n){n.register(e),n.languages.bison=n.languages.extend("c",{}),n.languages.insertBefore("bison","comment",{bison:{pattern:/^(?:[^%]|%(?!%))*%%[\s\S]*?%%/,inside:{c:{pattern:/%\{[\s\S]*?%\}|\{(?:\{[^}]*\}|[^{}])*\}/,inside:{delimiter:{pattern:/^%?\{|%?\}$/,alias:"punctuation"},"bison-variable":{pattern:/[$@](?:<[^\s>]+>)?[\w$]+/,alias:"variable",inside:{punctuation:/<|>/}},rest:n.languages.c}},comment:n.languages.c.comment,string:n.languages.c.string,property:/\S+(?=:)/,keyword:/%\w+/,number:{pattern:/(^|[^@])\b(?:0x[\da-f]+|\d+)/i,lookbehind:!0},punctuation:/%[%?]|[|:;\[\]<>]/}}})}return Z1}var eR,C6;function pAe(){if(C6)return eR;C6=1,eR=e,e.displayName="bnf",e.aliases=["rbnf"];function e(t){t.languages.bnf={string:{pattern:/"[^\r\n"]*"|'[^\r\n']*'/},definition:{pattern:/<[^<>\r\n\t]+>(?=\s*::=)/,alias:["rule","keyword"],inside:{punctuation:/^<|>$/}},rule:{pattern:/<[^<>\r\n\t]+>/,inside:{punctuation:/^<|>$/}},operator:/::=|[|()[\]{}*+?]|\.{3}/},t.languages.rbnf=t.languages.bnf}return eR}var tR,T6;function mAe(){if(T6)return tR;T6=1,tR=e,e.displayName="brainfuck",e.aliases=[];function e(t){t.languages.brainfuck={pointer:{pattern:/<|>/,alias:"keyword"},increment:{pattern:/\+/,alias:"inserted"},decrement:{pattern:/-/,alias:"deleted"},branching:{pattern:/\[|\]/,alias:"important"},operator:/[.,]/,comment:/\S+/}}return tR}var nR,M6;function fAe(){if(M6)return nR;M6=1,nR=e,e.displayName="brightscript",e.aliases=[];function e(t){t.languages.brightscript={comment:/(?:\brem|').*/i,"directive-statement":{pattern:/(^[\t ]*)#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if).*/im,lookbehind:!0,alias:"property",inside:{"error-message":{pattern:/(^#error).+/,lookbehind:!0},directive:{pattern:/^#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if)/,alias:"keyword"},expression:{pattern:/[\s\S]+/,inside:null}}},property:{pattern:/([\r\n{,][\t ]*)(?:(?!\d)\w+|"(?:[^"\r\n]|"")*"(?!"))(?=[ \t]*:)/,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},"class-name":{pattern:/(\bAs[\t ]+)\w+/i,lookbehind:!0},keyword:/\b(?:As|Dim|Each|Else|Elseif|End|Exit|For|Function|Goto|If|In|Print|Return|Step|Stop|Sub|Then|To|While)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?!\d)\w+(?=[\t ]*\()/,number:/(?:\b\d+(?:\.\d+)?(?:[ed][+-]\d+)?|&h[a-f\d]+)\b[%&!#]?/i,operator:/--|\+\+|>>=?|<<=?|<>|[-+*/\\<>]=?|[:^=?]|\b(?:and|mod|not|or)\b/i,punctuation:/[.,;()[\]{}]/,constant:/\b(?:LINE_NUM)\b/i},t.languages.brightscript["directive-statement"].inside.expression.inside=t.languages.brightscript}return nR}var rR,_6;function gAe(){if(_6)return rR;_6=1,rR=e,e.displayName="bro",e.aliases=[];function e(t){t.languages.bro={comment:{pattern:/(^|[^\\$])#.*/,lookbehind:!0,inside:{italic:/\b(?:FIXME|TODO|XXX)\b/}},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},boolean:/\b[TF]\b/,function:{pattern:/(\b(?:event|function|hook)[ \t]+)\w+(?:::\w+)?/,lookbehind:!0},builtin:/(?:@(?:load(?:-(?:plugin|sigs))?|unload|prefixes|ifn?def|else|(?:end)?if|DIR|FILENAME))|(?:&?(?:add_func|create_expire|default|delete_func|encrypt|error_handler|expire_func|group|log|mergeable|optional|persistent|priority|raw_output|read_expire|redef|rotate_interval|rotate_size|synchronized|type_column|write_expire))/,constant:{pattern:/(\bconst[ \t]+)\w+/i,lookbehind:!0},keyword:/\b(?:add|addr|alarm|any|bool|break|const|continue|count|delete|double|else|enum|event|export|file|for|function|global|hook|if|in|int|interval|local|module|next|of|opaque|pattern|port|print|record|return|schedule|set|string|subnet|table|time|timeout|using|vector|when)\b/,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&|\|\|?|\?|\*|\/|~|\^|%/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,punctuation:/[{}[\];(),.:]/}}return rR}var aR,x6;function hAe(){if(x6)return aR;x6=1,aR=e,e.displayName="bsl",e.aliases=[];function e(t){t.languages.bsl={comment:/\/\/.*/,string:[{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},{pattern:/'(?:[^'\r\n\\]|\\.)*'/}],keyword:[{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:пока|для|новый|прервать|попытка|исключение|вызватьисключение|иначе|конецпопытки|неопределено|функция|перем|возврат|конецфункции|если|иначеесли|процедура|конецпроцедуры|тогда|знач|экспорт|конецесли|из|каждого|истина|ложь|по|цикл|конеццикла|выполнить)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:break|do|each|else|elseif|enddo|endfunction|endif|endprocedure|endtry|except|execute|export|false|for|function|if|in|new|null|procedure|raise|return|then|to|true|try|undefined|val|var|while)\b/i}],number:{pattern:/(^(?=\d)|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:\d+(?:\.\d*)?|\.\d+)(?:E[+-]?\d+)?/i,lookbehind:!0},operator:[/[<>+\-*/]=?|[%=]/,{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:и|или|не)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:and|not|or)\b/i}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/,directive:[{pattern:/^([ \t]*)&.*/m,lookbehind:!0,greedy:!0,alias:"important"},{pattern:/^([ \t]*)#.*/gm,lookbehind:!0,greedy:!0,alias:"important"}]},t.languages.oscript=t.languages.bsl}return aR}var iR,w6;function vAe(){if(w6)return iR;w6=1,iR=e,e.displayName="cfscript",e.aliases=[];function e(t){t.languages.cfscript=t.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,inside:{annotation:{pattern:/(?:^|[^.])@[\w\.]+/,alias:"punctuation"}}},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],keyword:/\b(?:abstract|break|catch|component|continue|default|do|else|extends|final|finally|for|function|if|in|include|package|private|property|public|remote|required|rethrow|return|static|switch|throw|try|var|while|xml)\b(?!\s*=)/,operator:[/\+\+|--|&&|\|\||::|=>|[!=]==|<=?|>=?|[-+*/%&|^!=<>]=?|\?(?:\.|:)?|[?:]/,/\b(?:and|contains|eq|equal|eqv|gt|gte|imp|is|lt|lte|mod|not|or|xor)\b/],scope:{pattern:/\b(?:application|arguments|cgi|client|cookie|local|session|super|this|variables)\b/,alias:"global"},type:{pattern:/\b(?:any|array|binary|boolean|date|guid|numeric|query|string|struct|uuid|void|xml)\b/,alias:"builtin"}}),t.languages.insertBefore("cfscript","keyword",{"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"}}),delete t.languages.cfscript["class-name"],t.languages.cfc=t.languages.cfscript}return iR}var oR,N6;function yAe(){if(N6)return oR;N6=1;var e=kj();oR=t,t.displayName="chaiscript",t.aliases=[];function t(n){n.register(e),n.languages.chaiscript=n.languages.extend("clike",{string:{pattern:/(^|[^\\])'(?:[^'\\]|\\[\s\S])*'/,lookbehind:!0,greedy:!0},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},{pattern:/(\b(?:attr|def)\s+)\w+(?=\s*::)/,lookbehind:!0}],keyword:/\b(?:attr|auto|break|case|catch|class|continue|def|default|else|finally|for|fun|global|if|return|switch|this|try|var|while)\b/,number:[n.languages.cpp.number,/\b(?:Infinity|NaN)\b/],operator:/>>=?|<<=?|\|\||&&|:[:=]?|--|\+\+|[=!<>+\-*/%|&^]=?|[?~]|`[^`\r\n]{1,4}`/}),n.languages.insertBefore("chaiscript","operator",{"parameter-type":{pattern:/([,(]\s*)\w+(?=\s+\w)/,lookbehind:!0,alias:"class-name"}}),n.languages.insertBefore("chaiscript","string",{"string-interpolation":{pattern:/(^|[^\\])"(?:[^"$\\]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\}/,lookbehind:!0,inside:{"interpolation-expression":{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:n.languages.chaiscript},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"}}},string:/[\s\S]+/}}})}return oR}var sR,R6;function bAe(){if(R6)return sR;R6=1,sR=e,e.displayName="cil",e.aliases=[];function e(t){t.languages.cil={comment:/\/\/.*/,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},directive:{pattern:/(^|\W)\.[a-z]+(?=\s)/,lookbehind:!0,alias:"class-name"},variable:/\[[\w\.]+\]/,keyword:/\b(?:abstract|ansi|assembly|auto|autochar|beforefieldinit|bool|bstr|byvalstr|catch|char|cil|class|currency|date|decimal|default|enum|error|explicit|extends|extern|famandassem|family|famorassem|final(?:ly)?|float32|float64|hidebysig|u?int(?:8|16|32|64)?|iant|idispatch|implements|import|initonly|instance|interface|iunknown|literal|lpstr|lpstruct|lptstr|lpwstr|managed|method|native(?:Type)?|nested|newslot|object(?:ref)?|pinvokeimpl|private|privatescope|public|reqsecobj|rtspecialname|runtime|sealed|sequential|serializable|specialname|static|string|struct|syschar|tbstr|unicode|unmanagedexp|unsigned|value(?:type)?|variant|virtual|void)\b/,function:/\b(?:(?:constrained|no|readonly|tail|unaligned|volatile)\.)?(?:conv\.(?:[iu][1248]?|ovf\.[iu][1248]?(?:\.un)?|r\.un|r4|r8)|ldc\.(?:i4(?:\.\d+|\.[mM]1|\.s)?|i8|r4|r8)|ldelem(?:\.[iu][1248]?|\.r[48]|\.ref|a)?|ldind\.(?:[iu][1248]?|r[48]|ref)|stelem\.?(?:i[1248]?|r[48]|ref)?|stind\.(?:i[1248]?|r[48]|ref)?|end(?:fault|filter|finally)|ldarg(?:\.[0-3s]|a(?:\.s)?)?|ldloc(?:\.\d+|\.s)?|sub(?:\.ovf(?:\.un)?)?|mul(?:\.ovf(?:\.un)?)?|add(?:\.ovf(?:\.un)?)?|stloc(?:\.[0-3s])?|refany(?:type|val)|blt(?:\.un)?(?:\.s)?|ble(?:\.un)?(?:\.s)?|bgt(?:\.un)?(?:\.s)?|bge(?:\.un)?(?:\.s)?|unbox(?:\.any)?|init(?:blk|obj)|call(?:i|virt)?|brfalse(?:\.s)?|bne\.un(?:\.s)?|ldloca(?:\.s)?|brzero(?:\.s)?|brtrue(?:\.s)?|brnull(?:\.s)?|brinst(?:\.s)?|starg(?:\.s)?|leave(?:\.s)?|shr(?:\.un)?|rem(?:\.un)?|div(?:\.un)?|clt(?:\.un)?|alignment|castclass|ldvirtftn|beq(?:\.s)?|ckfinite|ldsflda|ldtoken|localloc|mkrefany|rethrow|cgt\.un|arglist|switch|stsfld|sizeof|newobj|newarr|ldsfld|ldnull|ldflda|isinst|throw|stobj|stfld|ldstr|ldobj|ldlen|ldftn|ldfld|cpobj|cpblk|break|br\.s|xor|shl|ret|pop|not|nop|neg|jmp|dup|cgt|ceq|box|and|or|br)\b/,boolean:/\b(?:false|true)\b/,number:/\b-?(?:0x[0-9a-f]+|\d+)(?:\.[0-9a-f]+)?\b/i,punctuation:/[{}[\];(),:=]|IL_[0-9A-Za-z]+/}}return sR}var lR,A6;function SAe(){if(A6)return lR;A6=1,lR=e,e.displayName="clojure",e.aliases=[];function e(t){t.languages.clojure={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},char:/\\\w+/,symbol:{pattern:/(^|[\s()\[\]{},])::?[\w*+!?'<>=/.-]+/,lookbehind:!0},keyword:{pattern:/(\()(?:-|->|->>|\.|\.\.|\*|\/|\+|<|<=|=|==|>|>=|accessor|agent|agent-errors|aget|alength|all-ns|alter|and|append-child|apply|array-map|aset|aset-boolean|aset-byte|aset-char|aset-double|aset-float|aset-int|aset-long|aset-short|assert|assoc|await|await-for|bean|binding|bit-and|bit-not|bit-or|bit-shift-left|bit-shift-right|bit-xor|boolean|branch\?|butlast|byte|cast|char|children|class|clear-agent-errors|comment|commute|comp|comparator|complement|concat|cond|conj|cons|constantly|construct-proxy|contains\?|count|create-ns|create-struct|cycle|dec|declare|def|def-|definline|definterface|defmacro|defmethod|defmulti|defn|defn-|defonce|defproject|defprotocol|defrecord|defstruct|deftype|deref|difference|disj|dissoc|distinct|do|doall|doc|dorun|doseq|dosync|dotimes|doto|double|down|drop|drop-while|edit|end\?|ensure|eval|every\?|false\?|ffirst|file-seq|filter|find|find-doc|find-ns|find-var|first|float|flush|fn|fnseq|for|frest|gensym|get|get-proxy-class|hash-map|hash-set|identical\?|identity|if|if-let|if-not|import|in-ns|inc|index|insert-child|insert-left|insert-right|inspect-table|inspect-tree|instance\?|int|interleave|intersection|into|into-array|iterate|join|key|keys|keyword|keyword\?|last|lazy-cat|lazy-cons|left|lefts|let|line-seq|list|list\*|load|load-file|locking|long|loop|macroexpand|macroexpand-1|make-array|make-node|map|map-invert|map\?|mapcat|max|max-key|memfn|merge|merge-with|meta|min|min-key|monitor-enter|name|namespace|neg\?|new|newline|next|nil\?|node|not|not-any\?|not-every\?|not=|ns|ns-imports|ns-interns|ns-map|ns-name|ns-publics|ns-refers|ns-resolve|ns-unmap|nth|nthrest|or|parse|partial|path|peek|pop|pos\?|pr|pr-str|print|print-str|println|println-str|prn|prn-str|project|proxy|proxy-mappings|quot|quote|rand|rand-int|range|re-find|re-groups|re-matcher|re-matches|re-pattern|re-seq|read|read-line|recur|reduce|ref|ref-set|refer|rem|remove|remove-method|remove-ns|rename|rename-keys|repeat|replace|replicate|resolve|rest|resultset-seq|reverse|rfirst|right|rights|root|rrest|rseq|second|select|select-keys|send|send-off|seq|seq-zip|seq\?|set|set!|short|slurp|some|sort|sort-by|sorted-map|sorted-map-by|sorted-set|special-symbol\?|split-at|split-with|str|string\?|struct|struct-map|subs|subvec|symbol|symbol\?|sync|take|take-nth|take-while|test|throw|time|to-array|to-array-2d|tree-seq|true\?|try|union|up|update-proxy|val|vals|var|var-get|var-set|var\?|vector|vector-zip|vector\?|when|when-first|when-let|when-not|with-local-vars|with-meta|with-open|with-out-str|xml-seq|xml-zip|zero\?|zipmap|zipper)(?=[\s)]|$)/,lookbehind:!0},boolean:/\b(?:false|nil|true)\b/,number:{pattern:/(^|[^\w$@])(?:\d+(?:[/.]\d+)?(?:e[+-]?\d+)?|0x[a-f0-9]+|[1-9]\d?r[a-z0-9]+)[lmn]?(?![\w$@])/i,lookbehind:!0},function:{pattern:/((?:^|[^'])\()[\w*+!?'<>=/.-]+(?=[\s)]|$)/,lookbehind:!0},operator:/[#@^`~]/,punctuation:/[{}\[\](),]/}}return lR}var cR,O6;function IAe(){if(O6)return cR;O6=1,cR=e,e.displayName="cmake",e.aliases=[];function e(t){t.languages.cmake={comment:/#.*/,string:{pattern:/"(?:[^\\"]|\\.)*"/,greedy:!0,inside:{interpolation:{pattern:/\$\{(?:[^{}$]|\$\{[^{}$]*\})*\}/,inside:{punctuation:/\$\{|\}/,variable:/\w+/}}}},variable:/\b(?:CMAKE_\w+|\w+_(?:(?:BINARY|SOURCE)_DIR|DESCRIPTION|HOMEPAGE_URL|ROOT|VERSION(?:_MAJOR|_MINOR|_PATCH|_TWEAK)?)|(?:ANDROID|APPLE|BORLAND|BUILD_SHARED_LIBS|CACHE|CPACK_(?:ABSOLUTE_DESTINATION_FILES|COMPONENT_INCLUDE_TOPLEVEL_DIRECTORY|ERROR_ON_ABSOLUTE_INSTALL_DESTINATION|INCLUDE_TOPLEVEL_DIRECTORY|INSTALL_DEFAULT_DIRECTORY_PERMISSIONS|INSTALL_SCRIPT|PACKAGING_INSTALL_PREFIX|SET_DESTDIR|WARN_ON_ABSOLUTE_INSTALL_DESTINATION)|CTEST_(?:BINARY_DIRECTORY|BUILD_COMMAND|BUILD_NAME|BZR_COMMAND|BZR_UPDATE_OPTIONS|CHANGE_ID|CHECKOUT_COMMAND|CONFIGURATION_TYPE|CONFIGURE_COMMAND|COVERAGE_COMMAND|COVERAGE_EXTRA_FLAGS|CURL_OPTIONS|CUSTOM_(?:COVERAGE_EXCLUDE|ERROR_EXCEPTION|ERROR_MATCH|ERROR_POST_CONTEXT|ERROR_PRE_CONTEXT|MAXIMUM_FAILED_TEST_OUTPUT_SIZE|MAXIMUM_NUMBER_OF_(?:ERRORS|WARNINGS)|MAXIMUM_PASSED_TEST_OUTPUT_SIZE|MEMCHECK_IGNORE|POST_MEMCHECK|POST_TEST|PRE_MEMCHECK|PRE_TEST|TESTS_IGNORE|WARNING_EXCEPTION|WARNING_MATCH)|CVS_CHECKOUT|CVS_COMMAND|CVS_UPDATE_OPTIONS|DROP_LOCATION|DROP_METHOD|DROP_SITE|DROP_SITE_CDASH|DROP_SITE_PASSWORD|DROP_SITE_USER|EXTRA_COVERAGE_GLOB|GIT_COMMAND|GIT_INIT_SUBMODULES|GIT_UPDATE_CUSTOM|GIT_UPDATE_OPTIONS|HG_COMMAND|HG_UPDATE_OPTIONS|LABELS_FOR_SUBPROJECTS|MEMORYCHECK_(?:COMMAND|COMMAND_OPTIONS|SANITIZER_OPTIONS|SUPPRESSIONS_FILE|TYPE)|NIGHTLY_START_TIME|P4_CLIENT|P4_COMMAND|P4_OPTIONS|P4_UPDATE_OPTIONS|RUN_CURRENT_SCRIPT|SCP_COMMAND|SITE|SOURCE_DIRECTORY|SUBMIT_URL|SVN_COMMAND|SVN_OPTIONS|SVN_UPDATE_OPTIONS|TEST_LOAD|TEST_TIMEOUT|TRIGGER_SITE|UPDATE_COMMAND|UPDATE_OPTIONS|UPDATE_VERSION_ONLY|USE_LAUNCHERS)|CYGWIN|ENV|EXECUTABLE_OUTPUT_PATH|GHS-MULTI|IOS|LIBRARY_OUTPUT_PATH|MINGW|MSVC(?:10|11|12|14|60|70|71|80|90|_IDE|_TOOLSET_VERSION|_VERSION)?|MSYS|PROJECT_(?:BINARY_DIR|DESCRIPTION|HOMEPAGE_URL|NAME|SOURCE_DIR|VERSION|VERSION_(?:MAJOR|MINOR|PATCH|TWEAK))|UNIX|WIN32|WINCE|WINDOWS_PHONE|WINDOWS_STORE|XCODE|XCODE_VERSION))\b/,property:/\b(?:cxx_\w+|(?:ARCHIVE_OUTPUT_(?:DIRECTORY|NAME)|COMPILE_DEFINITIONS|COMPILE_PDB_NAME|COMPILE_PDB_OUTPUT_DIRECTORY|EXCLUDE_FROM_DEFAULT_BUILD|IMPORTED_(?:IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_LANGUAGES|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|NO_SONAME|OBJECTS|SONAME)|INTERPROCEDURAL_OPTIMIZATION|LIBRARY_OUTPUT_DIRECTORY|LIBRARY_OUTPUT_NAME|LINK_FLAGS|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|MAP_IMPORTED_CONFIG|OSX_ARCHITECTURES|OUTPUT_NAME|PDB_NAME|PDB_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_NAME|STATIC_LIBRARY_FLAGS|VS_CSHARP|VS_DOTNET_REFERENCEPROP|VS_DOTNET_REFERENCE|VS_GLOBAL_SECTION_POST|VS_GLOBAL_SECTION_PRE|VS_GLOBAL|XCODE_ATTRIBUTE)_\w+|\w+_(?:CLANG_TIDY|COMPILER_LAUNCHER|CPPCHECK|CPPLINT|INCLUDE_WHAT_YOU_USE|OUTPUT_NAME|POSTFIX|VISIBILITY_PRESET)|ABSTRACT|ADDITIONAL_MAKE_CLEAN_FILES|ADVANCED|ALIASED_TARGET|ALLOW_DUPLICATE_CUSTOM_TARGETS|ANDROID_(?:ANT_ADDITIONAL_OPTIONS|API|API_MIN|ARCH|ASSETS_DIRECTORIES|GUI|JAR_DEPENDENCIES|NATIVE_LIB_DEPENDENCIES|NATIVE_LIB_DIRECTORIES|PROCESS_MAX|PROGUARD|PROGUARD_CONFIG_PATH|SECURE_PROPS_PATH|SKIP_ANT_STEP|STL_TYPE)|ARCHIVE_OUTPUT_DIRECTORY|ATTACHED_FILES|ATTACHED_FILES_ON_FAIL|AUTOGEN_(?:BUILD_DIR|ORIGIN_DEPENDS|PARALLEL|SOURCE_GROUP|TARGETS_FOLDER|TARGET_DEPENDS)|AUTOMOC|AUTOMOC_(?:COMPILER_PREDEFINES|DEPEND_FILTERS|EXECUTABLE|MACRO_NAMES|MOC_OPTIONS|SOURCE_GROUP|TARGETS_FOLDER)|AUTORCC|AUTORCC_EXECUTABLE|AUTORCC_OPTIONS|AUTORCC_SOURCE_GROUP|AUTOUIC|AUTOUIC_EXECUTABLE|AUTOUIC_OPTIONS|AUTOUIC_SEARCH_PATHS|BINARY_DIR|BUILDSYSTEM_TARGETS|BUILD_RPATH|BUILD_RPATH_USE_ORIGIN|BUILD_WITH_INSTALL_NAME_DIR|BUILD_WITH_INSTALL_RPATH|BUNDLE|BUNDLE_EXTENSION|CACHE_VARIABLES|CLEAN_NO_CUSTOM|COMMON_LANGUAGE_RUNTIME|COMPATIBLE_INTERFACE_(?:BOOL|NUMBER_MAX|NUMBER_MIN|STRING)|COMPILE_(?:DEFINITIONS|FEATURES|FLAGS|OPTIONS|PDB_NAME|PDB_OUTPUT_DIRECTORY)|COST|CPACK_DESKTOP_SHORTCUTS|CPACK_NEVER_OVERWRITE|CPACK_PERMANENT|CPACK_STARTUP_SHORTCUTS|CPACK_START_MENU_SHORTCUTS|CPACK_WIX_ACL|CROSSCOMPILING_EMULATOR|CUDA_EXTENSIONS|CUDA_PTX_COMPILATION|CUDA_RESOLVE_DEVICE_SYMBOLS|CUDA_SEPARABLE_COMPILATION|CUDA_STANDARD|CUDA_STANDARD_REQUIRED|CXX_EXTENSIONS|CXX_STANDARD|CXX_STANDARD_REQUIRED|C_EXTENSIONS|C_STANDARD|C_STANDARD_REQUIRED|DEBUG_CONFIGURATIONS|DEFINE_SYMBOL|DEFINITIONS|DEPENDS|DEPLOYMENT_ADDITIONAL_FILES|DEPLOYMENT_REMOTE_DIRECTORY|DISABLED|DISABLED_FEATURES|ECLIPSE_EXTRA_CPROJECT_CONTENTS|ECLIPSE_EXTRA_NATURES|ENABLED_FEATURES|ENABLED_LANGUAGES|ENABLE_EXPORTS|ENVIRONMENT|EXCLUDE_FROM_ALL|EXCLUDE_FROM_DEFAULT_BUILD|EXPORT_NAME|EXPORT_PROPERTIES|EXTERNAL_OBJECT|EchoString|FAIL_REGULAR_EXPRESSION|FIND_LIBRARY_USE_LIB32_PATHS|FIND_LIBRARY_USE_LIB64_PATHS|FIND_LIBRARY_USE_LIBX32_PATHS|FIND_LIBRARY_USE_OPENBSD_VERSIONING|FIXTURES_CLEANUP|FIXTURES_REQUIRED|FIXTURES_SETUP|FOLDER|FRAMEWORK|Fortran_FORMAT|Fortran_MODULE_DIRECTORY|GENERATED|GENERATOR_FILE_NAME|GENERATOR_IS_MULTI_CONFIG|GHS_INTEGRITY_APP|GHS_NO_SOURCE_GROUP_FILE|GLOBAL_DEPENDS_DEBUG_MODE|GLOBAL_DEPENDS_NO_CYCLES|GNUtoMS|HAS_CXX|HEADER_FILE_ONLY|HELPSTRING|IMPLICIT_DEPENDS_INCLUDE_TRANSFORM|IMPORTED|IMPORTED_(?:COMMON_LANGUAGE_RUNTIME|CONFIGURATIONS|GLOBAL|IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_(?:LANGUAGES|LIBRARIES|MULTIPLICITY)|LOCATION|NO_SONAME|OBJECTS|SONAME)|IMPORT_PREFIX|IMPORT_SUFFIX|INCLUDE_DIRECTORIES|INCLUDE_REGULAR_EXPRESSION|INSTALL_NAME_DIR|INSTALL_RPATH|INSTALL_RPATH_USE_LINK_PATH|INTERFACE_(?:AUTOUIC_OPTIONS|COMPILE_DEFINITIONS|COMPILE_FEATURES|COMPILE_OPTIONS|INCLUDE_DIRECTORIES|LINK_DEPENDS|LINK_DIRECTORIES|LINK_LIBRARIES|LINK_OPTIONS|POSITION_INDEPENDENT_CODE|SOURCES|SYSTEM_INCLUDE_DIRECTORIES)|INTERPROCEDURAL_OPTIMIZATION|IN_TRY_COMPILE|IOS_INSTALL_COMBINED|JOB_POOLS|JOB_POOL_COMPILE|JOB_POOL_LINK|KEEP_EXTENSION|LABELS|LANGUAGE|LIBRARY_OUTPUT_DIRECTORY|LINKER_LANGUAGE|LINK_(?:DEPENDS|DEPENDS_NO_SHARED|DIRECTORIES|FLAGS|INTERFACE_LIBRARIES|INTERFACE_MULTIPLICITY|LIBRARIES|OPTIONS|SEARCH_END_STATIC|SEARCH_START_STATIC|WHAT_YOU_USE)|LISTFILE_STACK|LOCATION|MACOSX_BUNDLE|MACOSX_BUNDLE_INFO_PLIST|MACOSX_FRAMEWORK_INFO_PLIST|MACOSX_PACKAGE_LOCATION|MACOSX_RPATH|MACROS|MANUALLY_ADDED_DEPENDENCIES|MEASUREMENT|MODIFIED|NAME|NO_SONAME|NO_SYSTEM_FROM_IMPORTED|OBJECT_DEPENDS|OBJECT_OUTPUTS|OSX_ARCHITECTURES|OUTPUT_NAME|PACKAGES_FOUND|PACKAGES_NOT_FOUND|PARENT_DIRECTORY|PASS_REGULAR_EXPRESSION|PDB_NAME|PDB_OUTPUT_DIRECTORY|POSITION_INDEPENDENT_CODE|POST_INSTALL_SCRIPT|PREDEFINED_TARGETS_FOLDER|PREFIX|PRE_INSTALL_SCRIPT|PRIVATE_HEADER|PROCESSORS|PROCESSOR_AFFINITY|PROJECT_LABEL|PUBLIC_HEADER|REPORT_UNDEFINED_PROPERTIES|REQUIRED_FILES|RESOURCE|RESOURCE_LOCK|RULE_LAUNCH_COMPILE|RULE_LAUNCH_CUSTOM|RULE_LAUNCH_LINK|RULE_MESSAGES|RUNTIME_OUTPUT_DIRECTORY|RUN_SERIAL|SKIP_AUTOGEN|SKIP_AUTOMOC|SKIP_AUTORCC|SKIP_AUTOUIC|SKIP_BUILD_RPATH|SKIP_RETURN_CODE|SOURCES|SOURCE_DIR|SOVERSION|STATIC_LIBRARY_FLAGS|STATIC_LIBRARY_OPTIONS|STRINGS|SUBDIRECTORIES|SUFFIX|SYMBOLIC|TARGET_ARCHIVES_MAY_BE_SHARED_LIBS|TARGET_MESSAGES|TARGET_SUPPORTS_SHARED_LIBS|TESTS|TEST_INCLUDE_FILE|TEST_INCLUDE_FILES|TIMEOUT|TIMEOUT_AFTER_MATCH|TYPE|USE_FOLDERS|VALUE|VARIABLES|VERSION|VISIBILITY_INLINES_HIDDEN|VS_(?:CONFIGURATION_TYPE|COPY_TO_OUT_DIR|DEBUGGER_(?:COMMAND|COMMAND_ARGUMENTS|ENVIRONMENT|WORKING_DIRECTORY)|DEPLOYMENT_CONTENT|DEPLOYMENT_LOCATION|DOTNET_REFERENCES|DOTNET_REFERENCES_COPY_LOCAL|GLOBAL_KEYWORD|GLOBAL_PROJECT_TYPES|GLOBAL_ROOTNAMESPACE|INCLUDE_IN_VSIX|IOT_STARTUP_TASK|KEYWORD|RESOURCE_GENERATOR|SCC_AUXPATH|SCC_LOCALPATH|SCC_PROJECTNAME|SCC_PROVIDER|SDK_REFERENCES|SHADER_(?:DISABLE_OPTIMIZATIONS|ENABLE_DEBUG|ENTRYPOINT|FLAGS|MODEL|OBJECT_FILE_NAME|OUTPUT_HEADER_FILE|TYPE|VARIABLE_NAME)|STARTUP_PROJECT|TOOL_OVERRIDE|USER_PROPS|WINRT_COMPONENT|WINRT_EXTENSIONS|WINRT_REFERENCES|XAML_TYPE)|WILL_FAIL|WIN32_EXECUTABLE|WINDOWS_EXPORT_ALL_SYMBOLS|WORKING_DIRECTORY|WRAP_EXCLUDE|XCODE_(?:EMIT_EFFECTIVE_PLATFORM_NAME|EXPLICIT_FILE_TYPE|FILE_ATTRIBUTES|LAST_KNOWN_FILE_TYPE|PRODUCT_TYPE|SCHEME_(?:ADDRESS_SANITIZER|ADDRESS_SANITIZER_USE_AFTER_RETURN|ARGUMENTS|DISABLE_MAIN_THREAD_CHECKER|DYNAMIC_LIBRARY_LOADS|DYNAMIC_LINKER_API_USAGE|ENVIRONMENT|EXECUTABLE|GUARD_MALLOC|MAIN_THREAD_CHECKER_STOP|MALLOC_GUARD_EDGES|MALLOC_SCRIBBLE|MALLOC_STACK|THREAD_SANITIZER(?:_STOP)?|UNDEFINED_BEHAVIOUR_SANITIZER(?:_STOP)?|ZOMBIE_OBJECTS))|XCTEST)\b/,keyword:/\b(?:add_compile_definitions|add_compile_options|add_custom_command|add_custom_target|add_definitions|add_dependencies|add_executable|add_library|add_link_options|add_subdirectory|add_test|aux_source_directory|break|build_command|build_name|cmake_host_system_information|cmake_minimum_required|cmake_parse_arguments|cmake_policy|configure_file|continue|create_test_sourcelist|ctest_build|ctest_configure|ctest_coverage|ctest_empty_binary_directory|ctest_memcheck|ctest_read_custom_files|ctest_run_script|ctest_sleep|ctest_start|ctest_submit|ctest_test|ctest_update|ctest_upload|define_property|else|elseif|enable_language|enable_testing|endforeach|endfunction|endif|endmacro|endwhile|exec_program|execute_process|export|export_library_dependencies|file|find_file|find_library|find_package|find_path|find_program|fltk_wrap_ui|foreach|function|get_cmake_property|get_directory_property|get_filename_component|get_property|get_source_file_property|get_target_property|get_test_property|if|include|include_directories|include_external_msproject|include_guard|include_regular_expression|install|install_files|install_programs|install_targets|link_directories|link_libraries|list|load_cache|load_command|macro|make_directory|mark_as_advanced|math|message|option|output_required_files|project|qt_wrap_cpp|qt_wrap_ui|remove|remove_definitions|return|separate_arguments|set|set_directory_properties|set_property|set_source_files_properties|set_target_properties|set_tests_properties|site_name|source_group|string|subdir_depends|subdirs|target_compile_definitions|target_compile_features|target_compile_options|target_include_directories|target_link_directories|target_link_libraries|target_link_options|target_sources|try_compile|try_run|unset|use_mangled_mesa|utility_source|variable_requires|variable_watch|while|write_file)(?=\s*\()\b/,boolean:/\b(?:FALSE|OFF|ON|TRUE)\b/,namespace:/\b(?:INTERFACE|PRIVATE|PROPERTIES|PUBLIC|SHARED|STATIC|TARGET_OBJECTS)\b/,operator:/\b(?:AND|DEFINED|EQUAL|GREATER|LESS|MATCHES|NOT|OR|STREQUAL|STRGREATER|STRLESS|VERSION_EQUAL|VERSION_GREATER|VERSION_LESS)\b/,inserted:{pattern:/\b\w+::\w+\b/,alias:"class-name"},number:/\b\d+(?:\.\d+)*\b/,function:/\b[a-z_]\w*(?=\s*\()\b/i,punctuation:/[()>}]|\$[<{]/}}return cR}var uR,k6;function EAe(){if(k6)return uR;k6=1,uR=e,e.displayName="cobol",e.aliases=[];function e(t){t.languages.cobol={comment:{pattern:/\*>.*|(^[ \t]*)\*.*/m,lookbehind:!0,greedy:!0},string:{pattern:/[xzgn]?(?:"(?:[^\r\n"]|"")*"(?!")|'(?:[^\r\n']|'')*'(?!'))/i,greedy:!0},level:{pattern:/(^[ \t]*)\d+\b/m,lookbehind:!0,greedy:!0,alias:"number"},"class-name":{pattern:/(\bpic(?:ture)?\s+)(?:(?:[-\w$/,:*+<>]|\.(?!\s|$))(?:\(\d+\))?)+/i,lookbehind:!0,inside:{number:{pattern:/(\()\d+/,lookbehind:!0},punctuation:/[()]/}},keyword:{pattern:/(^|[^\w-])(?:ABORT|ACCEPT|ACCESS|ADD|ADDRESS|ADVANCING|AFTER|ALIGNED|ALL|ALPHABET|ALPHABETIC|ALPHABETIC-LOWER|ALPHABETIC-UPPER|ALPHANUMERIC|ALPHANUMERIC-EDITED|ALSO|ALTER|ALTERNATE|ANY|ARE|AREA|AREAS|AS|ASCENDING|ASCII|ASSIGN|ASSOCIATED-DATA|ASSOCIATED-DATA-LENGTH|AT|ATTRIBUTE|AUTHOR|AUTO|AUTO-SKIP|BACKGROUND-COLOR|BACKGROUND-COLOUR|BASIS|BEEP|BEFORE|BEGINNING|BELL|BINARY|BIT|BLANK|BLINK|BLOCK|BOTTOM|BOUNDS|BY|BYFUNCTION|BYTITLE|CALL|CANCEL|CAPABLE|CCSVERSION|CD|CF|CH|CHAINING|CHANGED|CHANNEL|CHARACTER|CHARACTERS|CLASS|CLASS-ID|CLOCK-UNITS|CLOSE|CLOSE-DISPOSITION|COBOL|CODE|CODE-SET|COL|COLLATING|COLUMN|COM-REG|COMMA|COMMITMENT|COMMON|COMMUNICATION|COMP|COMP-1|COMP-2|COMP-3|COMP-4|COMP-5|COMPUTATIONAL|COMPUTATIONAL-1|COMPUTATIONAL-2|COMPUTATIONAL-3|COMPUTATIONAL-4|COMPUTATIONAL-5|COMPUTE|CONFIGURATION|CONTAINS|CONTENT|CONTINUE|CONTROL|CONTROL-POINT|CONTROLS|CONVENTION|CONVERTING|COPY|CORR|CORRESPONDING|COUNT|CRUNCH|CURRENCY|CURSOR|DATA|DATA-BASE|DATE|DATE-COMPILED|DATE-WRITTEN|DAY|DAY-OF-WEEK|DBCS|DE|DEBUG-CONTENTS|DEBUG-ITEM|DEBUG-LINE|DEBUG-NAME|DEBUG-SUB-1|DEBUG-SUB-2|DEBUG-SUB-3|DEBUGGING|DECIMAL-POINT|DECLARATIVES|DEFAULT|DEFAULT-DISPLAY|DEFINITION|DELETE|DELIMITED|DELIMITER|DEPENDING|DESCENDING|DESTINATION|DETAIL|DFHRESP|DFHVALUE|DISABLE|DISK|DISPLAY|DISPLAY-1|DIVIDE|DIVISION|DONTCARE|DOUBLE|DOWN|DUPLICATES|DYNAMIC|EBCDIC|EGCS|EGI|ELSE|EMI|EMPTY-CHECK|ENABLE|END|END-ACCEPT|END-ADD|END-CALL|END-COMPUTE|END-DELETE|END-DIVIDE|END-EVALUATE|END-IF|END-MULTIPLY|END-OF-PAGE|END-PERFORM|END-READ|END-RECEIVE|END-RETURN|END-REWRITE|END-SEARCH|END-START|END-STRING|END-SUBTRACT|END-UNSTRING|END-WRITE|ENDING|ENTER|ENTRY|ENTRY-PROCEDURE|ENVIRONMENT|EOL|EOP|EOS|ERASE|ERROR|ESCAPE|ESI|EVALUATE|EVENT|EVERY|EXCEPTION|EXCLUSIVE|EXHIBIT|EXIT|EXPORT|EXTEND|EXTENDED|EXTERNAL|FD|FILE|FILE-CONTROL|FILLER|FINAL|FIRST|FOOTING|FOR|FOREGROUND-COLOR|FOREGROUND-COLOUR|FROM|FULL|FUNCTION|FUNCTION-POINTER|FUNCTIONNAME|GENERATE|GIVING|GLOBAL|GO|GOBACK|GRID|GROUP|HEADING|HIGH-VALUE|HIGH-VALUES|HIGHLIGHT|I-O|I-O-CONTROL|ID|IDENTIFICATION|IF|IMPLICIT|IMPORT|IN|INDEX|INDEXED|INDICATE|INITIAL|INITIALIZE|INITIATE|INPUT|INPUT-OUTPUT|INSPECT|INSTALLATION|INTEGER|INTO|INVALID|INVOKE|IS|JUST|JUSTIFIED|KANJI|KEPT|KEY|KEYBOARD|LABEL|LANGUAGE|LAST|LB|LD|LEADING|LEFT|LEFTLINE|LENGTH|LENGTH-CHECK|LIBACCESS|LIBPARAMETER|LIBRARY|LIMIT|LIMITS|LINAGE|LINAGE-COUNTER|LINE|LINE-COUNTER|LINES|LINKAGE|LIST|LOCAL|LOCAL-STORAGE|LOCK|LONG-DATE|LONG-TIME|LOW-VALUE|LOW-VALUES|LOWER|LOWLIGHT|MEMORY|MERGE|MESSAGE|MMDDYYYY|MODE|MODULES|MORE-LABELS|MOVE|MULTIPLE|MULTIPLY|NAMED|NATIONAL|NATIONAL-EDITED|NATIVE|NEGATIVE|NETWORK|NEXT|NO|NO-ECHO|NULL|NULLS|NUMBER|NUMERIC|NUMERIC-DATE|NUMERIC-EDITED|NUMERIC-TIME|OBJECT-COMPUTER|OCCURS|ODT|OF|OFF|OMITTED|ON|OPEN|OPTIONAL|ORDER|ORDERLY|ORGANIZATION|OTHER|OUTPUT|OVERFLOW|OVERLINE|OWN|PACKED-DECIMAL|PADDING|PAGE|PAGE-COUNTER|PASSWORD|PERFORM|PF|PH|PIC|PICTURE|PLUS|POINTER|PORT|POSITION|POSITIVE|PRINTER|PRINTING|PRIVATE|PROCEDURE|PROCEDURE-POINTER|PROCEDURES|PROCEED|PROCESS|PROGRAM|PROGRAM-ID|PROGRAM-LIBRARY|PROMPT|PURGE|QUEUE|QUOTE|QUOTES|RANDOM|RD|READ|READER|REAL|RECEIVE|RECEIVED|RECORD|RECORDING|RECORDS|RECURSIVE|REDEFINES|REEL|REF|REFERENCE|REFERENCES|RELATIVE|RELEASE|REMAINDER|REMARKS|REMOTE|REMOVAL|REMOVE|RENAMES|REPLACE|REPLACING|REPORT|REPORTING|REPORTS|REQUIRED|RERUN|RESERVE|RESET|RETURN|RETURN-CODE|RETURNING|REVERSE-VIDEO|REVERSED|REWIND|REWRITE|RF|RH|RIGHT|ROUNDED|RUN|SAME|SAVE|SCREEN|SD|SEARCH|SECTION|SECURE|SECURITY|SEGMENT|SEGMENT-LIMIT|SELECT|SEND|SENTENCE|SEPARATE|SEQUENCE|SEQUENTIAL|SET|SHARED|SHAREDBYALL|SHAREDBYRUNUNIT|SHARING|SHIFT-IN|SHIFT-OUT|SHORT-DATE|SIGN|SIZE|SORT|SORT-CONTROL|SORT-CORE-SIZE|SORT-FILE-SIZE|SORT-MERGE|SORT-MESSAGE|SORT-MODE-SIZE|SORT-RETURN|SOURCE|SOURCE-COMPUTER|SPACE|SPACES|SPECIAL-NAMES|STANDARD|STANDARD-1|STANDARD-2|START|STATUS|STOP|STRING|SUB-QUEUE-1|SUB-QUEUE-2|SUB-QUEUE-3|SUBTRACT|SUM|SUPPRESS|SYMBOL|SYMBOLIC|SYNC|SYNCHRONIZED|TABLE|TALLY|TALLYING|TAPE|TASK|TERMINAL|TERMINATE|TEST|TEXT|THEN|THREAD|THREAD-LOCAL|THROUGH|THRU|TIME|TIMER|TIMES|TITLE|TO|TODAYS-DATE|TODAYS-NAME|TOP|TRAILING|TRUNCATED|TYPE|TYPEDEF|UNDERLINE|UNIT|UNSTRING|UNTIL|UP|UPON|USAGE|USE|USING|VALUE|VALUES|VARYING|VIRTUAL|WAIT|WHEN|WHEN-COMPILED|WITH|WORDS|WORKING-STORAGE|WRITE|YEAR|YYYYDDD|YYYYMMDD|ZERO-FILL|ZEROES|ZEROS)(?![\w-])/i,lookbehind:!0},boolean:{pattern:/(^|[^\w-])(?:false|true)(?![\w-])/i,lookbehind:!0},number:{pattern:/(^|[^\w-])(?:[+-]?(?:(?:\d+(?:[.,]\d+)?|[.,]\d+)(?:e[+-]?\d+)?|zero))(?![\w-])/i,lookbehind:!0},operator:[/<>|[<>]=?|[=+*/&]/,{pattern:/(^|[^\w-])(?:-|and|equal|greater|less|not|or|than)(?![\w-])/i,lookbehind:!0}],punctuation:/[.:,()]/}}return uR}var dR,L6;function CAe(){if(L6)return dR;L6=1,dR=e,e.displayName="coffeescript",e.aliases=["coffee"];function e(t){(function(n){var r=/#(?!\{).+/,i={pattern:/#\{[^}]+\}/,alias:"variable"};n.languages.coffeescript=n.languages.extend("javascript",{comment:r,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:i}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),n.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:r,interpolation:i}}}),n.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:n.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:i}}]}),n.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete n.languages.coffeescript["template-string"],n.languages.coffee=n.languages.coffeescript})(t)}return dR}var pR,P6;function TAe(){if(P6)return pR;P6=1,pR=e,e.displayName="concurnas",e.aliases=["conc"];function e(t){t.languages.concurnas={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*)/,lookbehind:!0,greedy:!0},langext:{pattern:/\b\w+\s*\|\|[\s\S]+?\|\|/,greedy:!0,inside:{"class-name":/^\w+/,string:{pattern:/(^\s*\|\|)[\s\S]+(?=\|\|$)/,lookbehind:!0},punctuation:/\|\|/}},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/,lookbehind:!0},keyword:/\b(?:abstract|actor|also|annotation|assert|async|await|bool|boolean|break|byte|case|catch|changed|char|class|closed|constant|continue|def|default|del|double|elif|else|enum|every|extends|false|finally|float|for|from|global|gpudef|gpukernel|if|import|in|init|inject|int|lambda|local|long|loop|match|new|nodefault|null|of|onchange|open|out|override|package|parfor|parforsync|post|pre|private|protected|provide|provider|public|return|shared|short|single|size_t|sizeof|super|sync|this|throw|trait|trans|transient|true|try|typedef|unchecked|using|val|var|void|while|with)\b/,boolean:/\b(?:false|true)\b/,number:/\b0b[01][01_]*L?\b|\b0x(?:[\da-f_]*\.)?[\da-f_p+-]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfls]?/i,punctuation:/[{}[\];(),.:]/,operator:/<==|>==|=>|->|<-|<>|&==|&<>|\?:?|\.\?|\+\+|--|[-+*/=<>]=?|[!^~]|\b(?:and|as|band|bor|bxor|comp|is|isnot|mod|or)\b=?/,annotation:{pattern:/@(?:\w+:)?(?:\w+|\[[^\]]+\])?/,alias:"builtin"}},t.languages.insertBefore("concurnas","langext",{"regex-literal":{pattern:/\br("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:t.languages.concurnas},regex:/[\s\S]+/}},"string-literal":{pattern:/(?:\B|\bs)("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:t.languages.concurnas},string:/[\s\S]+/}}}),t.languages.conc=t.languages.concurnas}return pR}var mR,D6;function MAe(){if(D6)return mR;D6=1,mR=e,e.displayName="coq",e.aliases=[];function e(t){(function(n){for(var r=/\(\*(?:[^(*]|\((?!\*)|\*(?!\))|<self>)*\*\)/.source,i=0;i<2;i++)r=r.replace(/<self>/g,function(){return r});r=r.replace(/<self>/g,"[]"),n.languages.coq={comment:RegExp(r),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},attribute:[{pattern:RegExp(/#\[(?:[^\[\]("]|"(?:[^"]|"")*"(?!")|\((?!\*)|<comment>)*\]/.source.replace(/<comment>/g,function(){return r})),greedy:!0,alias:"attr-name",inside:{comment:RegExp(r),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},operator:/=/,punctuation:/^#\[|\]$|[,()]/}},{pattern:/\b(?:Cumulative|Global|Local|Monomorphic|NonCumulative|Polymorphic|Private|Program)\b/,alias:"attr-name"}],keyword:/\b(?:Abort|About|Add|Admit|Admitted|All|Arguments|As|Assumptions|Axiom|Axioms|Back|BackTo|Backtrace|BinOp|BinOpSpec|BinRel|Bind|Blacklist|Canonical|Case|Cd|Check|Class|Classes|Close|CoFixpoint|CoInductive|Coercion|Coercions|Collection|Combined|Compute|Conjecture|Conjectures|Constant|Constants|Constraint|Constructors|Context|Corollary|Create|CstOp|Custom|Cut|Debug|Declare|Defined|Definition|Delimit|Dependencies|Dependent|Derive|Diffs|Drop|Elimination|End|Entry|Equality|Eval|Example|Existential|Existentials|Existing|Export|Extern|Extraction|Fact|Fail|Field|File|Firstorder|Fixpoint|Flags|Focus|From|Funclass|Function|Functional|GC|Generalizable|Goal|Grab|Grammar|Graph|Guarded|Haskell|Heap|Hide|Hint|HintDb|Hints|Hypotheses|Hypothesis|IF|Identity|Immediate|Implicit|Implicits|Import|Include|Induction|Inductive|Infix|Info|Initial|InjTyp|Inline|Inspect|Instance|Instances|Intro|Intros|Inversion|Inversion_clear|JSON|Language|Left|Lemma|Let|Lia|Libraries|Library|Load|LoadPath|Locate|Ltac|Ltac2|ML|Match|Method|Minimality|Module|Modules|Morphism|Next|NoInline|Notation|Number|OCaml|Obligation|Obligations|Opaque|Open|Optimize|Parameter|Parameters|Parametric|Path|Paths|Prenex|Preterm|Primitive|Print|Profile|Projections|Proof|Prop|PropBinOp|PropOp|PropUOp|Property|Proposition|Pwd|Qed|Quit|Rec|Record|Recursive|Redirect|Reduction|Register|Relation|Remark|Remove|Require|Reserved|Reset|Resolve|Restart|Rewrite|Right|Ring|Rings|SProp|Saturate|Save|Scheme|Scope|Scopes|Search|SearchHead|SearchPattern|SearchRewrite|Section|Separate|Set|Setoid|Show|Signatures|Solve|Solver|Sort|Sortclass|Sorted|Spec|Step|Strategies|Strategy|String|Structure|SubClass|Subgraph|SuchThat|Tactic|Term|TestCompile|Theorem|Time|Timeout|To|Transparent|Type|Typeclasses|Types|Typing|UnOp|UnOpSpec|Undelimit|Undo|Unfocus|Unfocused|Unfold|Universe|Universes|Unshelve|Variable|Variables|Variant|Verbose|View|Visibility|Zify|_|apply|as|at|by|cofix|else|end|exists|exists2|fix|for|forall|fun|if|in|let|match|measure|move|removed|return|struct|then|using|wf|where|with)\b/,number:/\b(?:0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]+)?(?:p[+-]?\d[\d_]*)?|\d[\d_]*(?:\.[\d_]+)?(?:e[+-]?\d[\d_]*)?)\b/i,punct:{pattern:/@\{|\{\||\[=|:>/,alias:"punctuation"},operator:/\/\\|\\\/|\.{2,3}|:{1,2}=|\*\*|[-=]>|<(?:->?|[+:=>]|<:)|>(?:=|->)|\|[-|]?|[-!%&*+/<=>?@^~']/,punctuation:/\.\(|`\(|@\{|`\{|\{\||\[=|:>|[:.,;(){}\[\]]/}})(t)}return mR}var fR,j6;function z_(){if(j6)return fR;j6=1,fR=e,e.displayName="ruby",e.aliases=["rb"];function e(t){(function(n){n.languages.ruby=n.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),n.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var r={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:n.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete n.languages.ruby.function;var i="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",d=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;n.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+i+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:r,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:r,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+d),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+d+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),n.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+i),greedy:!0,inside:{interpolation:r,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:r,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:r,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+i),greedy:!0,inside:{interpolation:r,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:r,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete n.languages.ruby.string,n.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),n.languages.rb=n.languages.ruby})(t)}return fR}var gR,V6;function _Ae(){if(V6)return gR;V6=1;var e=z_();gR=t,t.displayName="crystal",t.aliases=[];function t(n){n.register(e),function(r){r.languages.crystal=r.languages.extend("ruby",{keyword:[/\b(?:__DIR__|__END_LINE__|__FILE__|__LINE__|abstract|alias|annotation|as|asm|begin|break|case|class|def|do|else|elsif|end|ensure|enum|extend|for|fun|if|ifdef|include|instance_sizeof|lib|macro|module|next|of|out|pointerof|private|protected|ptr|require|rescue|return|select|self|sizeof|struct|super|then|type|typeof|undef|uninitialized|union|unless|until|when|while|with|yield)\b/,{pattern:/(\.\s*)(?:is_a|responds_to)\?/,lookbehind:!0}],number:/\b(?:0b[01_]*[01]|0o[0-7_]*[0-7]|0x[\da-fA-F_]*[\da-fA-F]|(?:\d(?:[\d_]*\d)?)(?:\.[\d_]*\d)?(?:[eE][+-]?[\d_]*\d)?)(?:_(?:[uif](?:8|16|32|64))?)?\b/,operator:[/->/,r.languages.ruby.operator],punctuation:/[(){}[\].,;\\]/}),r.languages.insertBefore("crystal","string-literal",{attribute:{pattern:/@\[.*?\]/,inside:{delimiter:{pattern:/^@\[|\]$/,alias:"punctuation"},attribute:{pattern:/^(\s*)\w+/,lookbehind:!0,alias:"class-name"},args:{pattern:/\S(?:[\s\S]*\S)?/,inside:r.languages.crystal}}},expansion:{pattern:/\{(?:\{.*?\}|%.*?%)\}/,inside:{content:{pattern:/^(\{.)[\s\S]+(?=.\}$)/,lookbehind:!0,inside:r.languages.crystal},delimiter:{pattern:/^\{[\{%]|[\}%]\}$/,alias:"operator"}}},char:{pattern:/'(?:[^\\\r\n]{1,2}|\\(?:.|u(?:[A-Fa-f0-9]{1,4}|\{[A-Fa-f0-9]{1,6}\})))'/,greedy:!0}})}(n)}return gR}var hR,$6;function xAe(){if($6)return hR;$6=1;var e=q_();hR=t,t.displayName="cshtml",t.aliases=["razor"];function t(n){n.register(e),function(r){var i=/\/(?![/*])|\/\/.*[\r\n]|\/\*[^*]*(?:\*(?!\/)[^*]*)*\*\//.source,d=/@(?!")|"(?:[^\r\n\\"]|\\.)*"|@"(?:[^\\"]|""|\\[\s\S])*"(?!")/.source+"|"+/'(?:(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'|(?=[^\\](?!')))/.source;function g(R,D){for(var j=0;j<D;j++)R=R.replace(/<self>/g,function(){return"(?:"+R+")"});return R.replace(/<self>/g,"[^\\s\\S]").replace(/<str>/g,"(?:"+d+")").replace(/<comment>/g,"(?:"+i+")")}var v=g(/\((?:[^()'"@/]|<str>|<comment>|<self>)*\)/.source,2),S=g(/\[(?:[^\[\]'"@/]|<str>|<comment>|<self>)*\]/.source,2),I=g(/\{(?:[^{}'"@/]|<str>|<comment>|<self>)*\}/.source,2),T=g(/<(?:[^<>'"@/]|<str>|<comment>|<self>)*>/.source,2),_=/(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?/.source,N=/(?!\d)[^\s>\/=$<%]+/.source+_+/\s*\/?>/.source,A=/\B@?/.source+"(?:"+/<([a-zA-Z][\w:]*)/.source+_+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source+N+"|"+g(/<\1/.source+_+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source+N+"|<self>")+")*"+/<\/\1\s*>/.source,2))+")*"+/<\/\1\s*>/.source+"|"+/</.source+N+")";r.languages.cshtml=r.languages.extend("markup",{});var w=r.languages.insertBefore("csharp","string",{html:{pattern:RegExp(A),greedy:!0,inside:r.languages.cshtml}},{csharp:r.languages.extend("csharp",{})}),O={pattern:/\S[\s\S]*/,alias:"language-csharp",inside:w};r.languages.insertBefore("cshtml","prolog",{"razor-comment":{pattern:/@\*[\s\S]*?\*@/,greedy:!0,alias:"comment"},block:{pattern:RegExp(/(^|[^@])@/.source+"(?:"+[I,/(?:code|functions)\s*/.source+I,/(?:for|foreach|lock|switch|using|while)\s*/.source+v+/\s*/.source+I,/do\s*/.source+I+/\s*while\s*/.source+v+/(?:\s*;)?/.source,/try\s*/.source+I+/\s*catch\s*/.source+v+/\s*/.source+I+/\s*finally\s*/.source+I,/if\s*/.source+v+/\s*/.source+I+"(?:"+/\s*else/.source+"(?:"+/\s+if\s*/.source+v+")?"+/\s*/.source+I+")*"].join("|")+")"),lookbehind:!0,greedy:!0,inside:{keyword:/^@\w*/,csharp:O}},directive:{pattern:/^([ \t]*)@(?:addTagHelper|attribute|implements|inherits|inject|layout|model|namespace|page|preservewhitespace|removeTagHelper|section|tagHelperPrefix|using)(?=\s).*/m,lookbehind:!0,greedy:!0,inside:{keyword:/^@\w+/,csharp:O}},value:{pattern:RegExp(/(^|[^@])@/.source+/(?:await\b\s*)?/.source+"(?:"+/\w+\b/.source+"|"+v+")(?:"+/[?!]?\.\w+\b/.source+"|"+v+"|"+S+"|"+T+v+")*"),lookbehind:!0,greedy:!0,alias:"variable",inside:{keyword:/^@/,csharp:O}},"delegate-operator":{pattern:/(^|[^@])@(?=<)/,lookbehind:!0,alias:"operator"}}),r.languages.razor=r.languages.cshtml}(n)}return hR}var vR,U6;function wAe(){if(U6)return vR;U6=1,vR=e,e.displayName="csp",e.aliases=[];function e(t){(function(n){function r(i){return RegExp(/([ \t])/.source+"(?:"+i+")"+/(?=[\s;]|$)/.source,"i")}n.languages.csp={directive:{pattern:/(^|[\s;])(?:base-uri|block-all-mixed-content|(?:child|connect|default|font|frame|img|manifest|media|object|prefetch|script|style|worker)-src|disown-opener|form-action|frame-(?:ancestors|options)|input-protection(?:-(?:clip|selectors))?|navigate-to|plugin-types|policy-uri|referrer|reflected-xss|report-(?:to|uri)|require-sri-for|sandbox|(?:script|style)-src-(?:attr|elem)|upgrade-insecure-requests)(?=[\s;]|$)/i,lookbehind:!0,alias:"property"},scheme:{pattern:r(/[a-z][a-z0-9.+-]*:/.source),lookbehind:!0},none:{pattern:r(/'none'/.source),lookbehind:!0,alias:"keyword"},nonce:{pattern:r(/'nonce-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},hash:{pattern:r(/'sha(?:256|384|512)-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},host:{pattern:r(/[a-z][a-z0-9.+-]*:\/\/[^\s;,']*/.source+"|"+/\*[^\s;,']*/.source+"|"+/[a-z0-9-]+(?:\.[a-z0-9-]+)+(?::[\d*]+)?(?:\/[^\s;,']*)?/.source),lookbehind:!0,alias:"url",inside:{important:/\*/}},keyword:[{pattern:r(/'unsafe-[a-z-]+'/.source),lookbehind:!0,alias:"unsafe"},{pattern:r(/'[a-z-]+'/.source),lookbehind:!0,alias:"safe"}],punctuation:/;/}})(t)}return vR}var yR,B6;function NAe(){if(B6)return yR;B6=1,yR=e,e.displayName="cssExtras",e.aliases=[];function e(t){(function(n){var r=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,i;n.languages.css.selector={pattern:n.languages.css.selector.pattern,lookbehind:!0,inside:i={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp(`\\[(?:[^[\\]"']|`+r.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[r,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},n.languages.css.atrule.inside["selector-function-argument"].inside=i,n.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var d={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},g={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};n.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:d,number:g,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:d,number:g})})(t)}return yR}var bR,F6;function RAe(){if(F6)return bR;F6=1,bR=e,e.displayName="csv",e.aliases=[];function e(t){t.languages.csv={value:/[^\r\n,"]+|"(?:[^"]|"")*"(?!")/,punctuation:/,/}}return bR}var SR,q6;function AAe(){if(q6)return SR;q6=1,SR=e,e.displayName="cypher",e.aliases=[];function e(t){t.languages.cypher={comment:/\/\/.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/,greedy:!0},"class-name":{pattern:/(:\s*)(?:\w+|`(?:[^`\\\r\n])*`)(?=\s*[{):])/,lookbehind:!0,greedy:!0},relationship:{pattern:/(-\[\s*(?:\w+\s*|`(?:[^`\\\r\n])*`\s*)?:\s*|\|\s*:\s*)(?:\w+|`(?:[^`\\\r\n])*`)/,lookbehind:!0,greedy:!0,alias:"property"},identifier:{pattern:/`(?:[^`\\\r\n])*`/,greedy:!0},variable:/\$\w+/,keyword:/\b(?:ADD|ALL|AND|AS|ASC|ASCENDING|ASSERT|BY|CALL|CASE|COMMIT|CONSTRAINT|CONTAINS|CREATE|CSV|DELETE|DESC|DESCENDING|DETACH|DISTINCT|DO|DROP|ELSE|END|ENDS|EXISTS|FOR|FOREACH|IN|INDEX|IS|JOIN|KEY|LIMIT|LOAD|MANDATORY|MATCH|MERGE|NODE|NOT|OF|ON|OPTIONAL|OR|ORDER(?=\s+BY)|PERIODIC|REMOVE|REQUIRE|RETURN|SCALAR|SCAN|SET|SKIP|START|STARTS|THEN|UNION|UNIQUE|UNWIND|USING|WHEN|WHERE|WITH|XOR|YIELD)\b/i,function:/\b\w+\b(?=\s*\()/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)\b/,operator:/:|<--?|--?>?|<>|=~?|[<>]=?|[+*/%^|]|\.\.\.?/,punctuation:/[()[\]{},;.]/}}return SR}var IR,z6;function OAe(){if(z6)return IR;z6=1,IR=e,e.displayName="d",e.aliases=[];function e(t){t.languages.d=t.languages.extend("clike",{comment:[{pattern:/^\s*#!.+/,greedy:!0},{pattern:RegExp(/(^|[^\\])/.source+"(?:"+[/\/\+(?:\/\+(?:[^+]|\+(?!\/))*\+\/|(?!\/\+)[\s\S])*?\+\//.source,/\/\/.*/.source,/\/\*[\s\S]*?\*\//.source].join("|")+")"),lookbehind:!0,greedy:!0}],string:[{pattern:RegExp([/\b[rx]"(?:\\[\s\S]|[^\\"])*"[cwd]?/.source,/\bq"(?:\[[\s\S]*?\]|\([\s\S]*?\)|<[\s\S]*?>|\{[\s\S]*?\})"/.source,/\bq"((?!\d)\w+)$[\s\S]*?^\1"/.source,/\bq"(.)[\s\S]*?\2"/.source,/(["`])(?:\\[\s\S]|(?!\3)[^\\])*\3[cwd]?/.source].join("|"),"m"),greedy:!0},{pattern:/\bq\{(?:\{[^{}]*\}|[^{}])*\}/,greedy:!0,alias:"token-string"}],keyword:/\$|\b(?:__(?:(?:DATE|EOF|FILE|FUNCTION|LINE|MODULE|PRETTY_FUNCTION|TIMESTAMP|TIME|VENDOR|VERSION)__|gshared|parameters|traits|vector)|abstract|alias|align|asm|assert|auto|body|bool|break|byte|case|cast|catch|cdouble|cent|cfloat|char|class|const|continue|creal|dchar|debug|default|delegate|delete|deprecated|do|double|dstring|else|enum|export|extern|false|final|finally|float|for|foreach|foreach_reverse|function|goto|idouble|if|ifloat|immutable|import|inout|int|interface|invariant|ireal|lazy|long|macro|mixin|module|new|nothrow|null|out|override|package|pragma|private|protected|ptrdiff_t|public|pure|real|ref|return|scope|shared|short|size_t|static|string|struct|super|switch|synchronized|template|this|throw|true|try|typedef|typeid|typeof|ubyte|ucent|uint|ulong|union|unittest|ushort|version|void|volatile|wchar|while|with|wstring)\b/,number:[/\b0x\.?[a-f\d_]+(?:(?!\.\.)\.[a-f\d_]*)?(?:p[+-]?[a-f\d_]+)?[ulfi]{0,4}/i,{pattern:/((?:\.\.)?)(?:\b0b\.?|\b|\.)\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:e[+-]?\d[\d_]*)?[ulfi]{0,4}/i,lookbehind:!0}],operator:/\|[|=]?|&[&=]?|\+[+=]?|-[-=]?|\.?\.\.|=[>=]?|!(?:i[ns]\b|<>?=?|>=?|=)?|\bi[ns]\b|(?:<[<>]?|>>?>?|\^\^|[*\/%^~])=?/}),t.languages.insertBefore("d","string",{char:/'(?:\\(?:\W|\w+)|[^\\])'/}),t.languages.insertBefore("d","keyword",{property:/\B@\w*/}),t.languages.insertBefore("d","function",{register:{pattern:/\b(?:[ABCD][LHX]|E?(?:BP|DI|SI|SP)|[BS]PL|[ECSDGF]S|CR[0234]|[DS]IL|DR[012367]|E[ABCD]X|X?MM[0-7]|R(?:1[0-5]|[89])[BWD]?|R[ABCD]X|R[BS]P|R[DS]I|TR[3-7]|XMM(?:1[0-5]|[89])|YMM(?:1[0-5]|\d))\b|\bST(?:\([0-7]\)|\b)/,alias:"variable"}})}return IR}var ER,H6;function kAe(){if(H6)return ER;H6=1,ER=e,e.displayName="dart",e.aliases=[];function e(t){(function(n){var r=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],i=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,d={pattern:RegExp(i+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};n.languages.dart=n.languages.extend("clike",{"class-name":[d,{pattern:RegExp(i+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:d.inside}],keyword:r,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),n.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:n.languages.dart}}},string:/[\s\S]+/}},string:void 0}),n.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),n.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":d,keyword:r,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})})(t)}return ER}var CR,G6;function LAe(){if(G6)return CR;G6=1,CR=e,e.displayName="dataweave",e.aliases=[];function e(t){(function(n){n.languages.dataweave={url:/\b[A-Za-z]+:\/\/[\w/:.?=&-]+|\burn:[\w:.?=&-]+/,property:{pattern:/(?:\b\w+#)?(?:"(?:\\.|[^\\"\r\n])*"|\b\w+)(?=\s*[:@])/,greedy:!0},string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},"mime-type":/\b(?:application|audio|image|multipart|text|video)\/[\w+-]+/,date:{pattern:/\|[\w:+-]+\|/,greedy:!0},comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],regex:{pattern:/\/(?:[^\\\/\r\n]|\\[^\r\n])+\//,greedy:!0},keyword:/\b(?:and|as|at|case|do|else|fun|if|input|is|match|not|ns|null|or|output|type|unless|update|using|var)\b/,function:/\b[A-Z_]\w*(?=\s*\()/i,number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\];(),.:@]/,operator:/<<|>>|->|[<>~=]=?|!=|--?-?|\+\+?|!|\?/,boolean:/\b(?:false|true)\b/}})(t)}return CR}var TR,K6;function PAe(){if(K6)return TR;K6=1,TR=e,e.displayName="dax",e.aliases=[];function e(t){t.languages.dax={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/).*)/,lookbehind:!0},"data-field":{pattern:/'(?:[^']|'')*'(?!')(?:\[[ \w\xA0-\uFFFF]+\])?|\w+\[[ \w\xA0-\uFFFF]+\]/,alias:"symbol"},measure:{pattern:/\[[ \w\xA0-\uFFFF]+\]/,alias:"constant"},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},function:/\b(?:ABS|ACOS|ACOSH|ACOT|ACOTH|ADDCOLUMNS|ADDMISSINGITEMS|ALL|ALLCROSSFILTERED|ALLEXCEPT|ALLNOBLANKROW|ALLSELECTED|AND|APPROXIMATEDISTINCTCOUNT|ASIN|ASINH|ATAN|ATANH|AVERAGE|AVERAGEA|AVERAGEX|BETA\.DIST|BETA\.INV|BLANK|CALCULATE|CALCULATETABLE|CALENDAR|CALENDARAUTO|CEILING|CHISQ\.DIST|CHISQ\.DIST\.RT|CHISQ\.INV|CHISQ\.INV\.RT|CLOSINGBALANCEMONTH|CLOSINGBALANCEQUARTER|CLOSINGBALANCEYEAR|COALESCE|COMBIN|COMBINA|COMBINEVALUES|CONCATENATE|CONCATENATEX|CONFIDENCE\.NORM|CONFIDENCE\.T|CONTAINS|CONTAINSROW|CONTAINSSTRING|CONTAINSSTRINGEXACT|CONVERT|COS|COSH|COT|COTH|COUNT|COUNTA|COUNTAX|COUNTBLANK|COUNTROWS|COUNTX|CROSSFILTER|CROSSJOIN|CURRENCY|CURRENTGROUP|CUSTOMDATA|DATATABLE|DATE|DATEADD|DATEDIFF|DATESBETWEEN|DATESINPERIOD|DATESMTD|DATESQTD|DATESYTD|DATEVALUE|DAY|DEGREES|DETAILROWS|DISTINCT|DISTINCTCOUNT|DISTINCTCOUNTNOBLANK|DIVIDE|EARLIER|EARLIEST|EDATE|ENDOFMONTH|ENDOFQUARTER|ENDOFYEAR|EOMONTH|ERROR|EVEN|EXACT|EXCEPT|EXP|EXPON\.DIST|FACT|FALSE|FILTER|FILTERS|FIND|FIRSTDATE|FIRSTNONBLANK|FIRSTNONBLANKVALUE|FIXED|FLOOR|FORMAT|GCD|GENERATE|GENERATEALL|GENERATESERIES|GEOMEAN|GEOMEANX|GROUPBY|HASONEFILTER|HASONEVALUE|HOUR|IF|IF\.EAGER|IFERROR|IGNORE|INT|INTERSECT|ISBLANK|ISCROSSFILTERED|ISEMPTY|ISERROR|ISEVEN|ISFILTERED|ISINSCOPE|ISLOGICAL|ISNONTEXT|ISNUMBER|ISO\.CEILING|ISODD|ISONORAFTER|ISSELECTEDMEASURE|ISSUBTOTAL|ISTEXT|KEEPFILTERS|KEYWORDMATCH|LASTDATE|LASTNONBLANK|LASTNONBLANKVALUE|LCM|LEFT|LEN|LN|LOG|LOG10|LOOKUPVALUE|LOWER|MAX|MAXA|MAXX|MEDIAN|MEDIANX|MID|MIN|MINA|MINUTE|MINX|MOD|MONTH|MROUND|NATURALINNERJOIN|NATURALLEFTOUTERJOIN|NEXTDAY|NEXTMONTH|NEXTQUARTER|NEXTYEAR|NONVISUAL|NORM\.DIST|NORM\.INV|NORM\.S\.DIST|NORM\.S\.INV|NOT|NOW|ODD|OPENINGBALANCEMONTH|OPENINGBALANCEQUARTER|OPENINGBALANCEYEAR|OR|PARALLELPERIOD|PATH|PATHCONTAINS|PATHITEM|PATHITEMREVERSE|PATHLENGTH|PERCENTILE\.EXC|PERCENTILE\.INC|PERCENTILEX\.EXC|PERCENTILEX\.INC|PERMUT|PI|POISSON\.DIST|POWER|PREVIOUSDAY|PREVIOUSMONTH|PREVIOUSQUARTER|PREVIOUSYEAR|PRODUCT|PRODUCTX|QUARTER|QUOTIENT|RADIANS|RAND|RANDBETWEEN|RANK\.EQ|RANKX|RELATED|RELATEDTABLE|REMOVEFILTERS|REPLACE|REPT|RIGHT|ROLLUP|ROLLUPADDISSUBTOTAL|ROLLUPGROUP|ROLLUPISSUBTOTAL|ROUND|ROUNDDOWN|ROUNDUP|ROW|SAMEPERIODLASTYEAR|SAMPLE|SEARCH|SECOND|SELECTCOLUMNS|SELECTEDMEASURE|SELECTEDMEASUREFORMATSTRING|SELECTEDMEASURENAME|SELECTEDVALUE|SIGN|SIN|SINH|SQRT|SQRTPI|STARTOFMONTH|STARTOFQUARTER|STARTOFYEAR|STDEV\.P|STDEV\.S|STDEVX\.P|STDEVX\.S|SUBSTITUTE|SUBSTITUTEWITHINDEX|SUM|SUMMARIZE|SUMMARIZECOLUMNS|SUMX|SWITCH|T\.DIST|T\.DIST\.2T|T\.DIST\.RT|T\.INV|T\.INV\.2T|TAN|TANH|TIME|TIMEVALUE|TODAY|TOPN|TOPNPERLEVEL|TOPNSKIP|TOTALMTD|TOTALQTD|TOTALYTD|TREATAS|TRIM|TRUE|TRUNC|UNICHAR|UNICODE|UNION|UPPER|USERELATIONSHIP|USERNAME|USEROBJECTID|USERPRINCIPALNAME|UTCNOW|UTCTODAY|VALUE|VALUES|VAR\.P|VAR\.S|VARX\.P|VARX\.S|WEEKDAY|WEEKNUM|XIRR|XNPV|YEAR|YEARFRAC)(?=\s*\()/i,keyword:/\b(?:DEFINE|EVALUATE|MEASURE|ORDER\s+BY|RETURN|VAR|START\s+AT|ASC|DESC)\b/i,boolean:{pattern:/\b(?:FALSE|NULL|TRUE)\b/i,alias:"constant"},number:/\b\d+(?:\.\d*)?|\B\.\d+\b/,operator:/:=|[-+*\/=^]|&&?|\|\||<(?:=>?|<|>)?|>[>=]?|\b(?:IN|NOT)\b/i,punctuation:/[;\[\](){}`,.]/}}return TR}var MR,W6;function DAe(){if(W6)return MR;W6=1,MR=e,e.displayName="dhall",e.aliases=[];function e(t){t.languages.dhall={comment:/--.*|\{-(?:[^-{]|-(?!\})|\{(?!-)|\{-(?:[^-{]|-(?!\})|\{(?!-))*-\})*-\}/,string:{pattern:/"(?:[^"\\]|\\.)*"|''(?:[^']|'(?!')|'''|''\$\{)*''(?!'|\$)/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,alias:"language-dhall",inside:null},punctuation:/\$\{|\}/}}}},label:{pattern:/`[^`]*`/,greedy:!0},url:{pattern:/\bhttps?:\/\/[\w.:%!$&'*+;=@~-]+(?:\/[\w.:%!$&'*+;=@~-]*)*(?:\?[/?\w.:%!$&'*+;=@~-]*)?/,greedy:!0},env:{pattern:/\benv:(?:(?!\d)\w+|"(?:[^"\\=]|\\.)*")/,greedy:!0,inside:{function:/^env/,operator:/^:/,variable:/[\s\S]+/}},hash:{pattern:/\bsha256:[\da-fA-F]{64}\b/,inside:{function:/sha256/,operator:/:/,number:/[\da-fA-F]{64}/}},keyword:/\b(?:as|assert|else|forall|if|in|let|merge|missing|then|toMap|using|with)\b|\u2200/,builtin:/\b(?:None|Some)\b/,boolean:/\b(?:False|True)\b/,number:/\bNaN\b|-?\bInfinity\b|[+-]?\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/,operator:/\/\\|\/\/\\\\|&&|\|\||===|[!=]=|\/\/|->|\+\+|::|[+*#@=:?<>|\\\u2227\u2a53\u2261\u2afd\u03bb\u2192]/,punctuation:/\.\.|[{}\[\](),./]/,"class-name":/\b[A-Z]\w*\b/},t.languages.dhall.string.inside.interpolation.inside.expression.inside=t.languages.dhall}return MR}var _R,Y6;function jAe(){if(Y6)return _R;Y6=1,_R=e,e.displayName="diff",e.aliases=[];function e(t){(function(n){n.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var r={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(r).forEach(function(i){var d=r[i],g=[];/^\w+$/.test(i)||g.push(/\w+/.exec(i)[0]),i==="diff"&&g.push("bold"),n.languages.diff[i]={pattern:RegExp("^(?:["+d+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:g,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(i)[0]}}}}),Object.defineProperty(n.languages.diff,"PREFIXES",{value:r})})(t)}return _R}var xR,X6;function Js(){if(X6)return xR;X6=1,xR=e,e.displayName="markupTemplating",e.aliases=[];function e(t){(function(n){function r(i,d){return"___"+i.toUpperCase()+d+"___"}Object.defineProperties(n.languages["markup-templating"]={},{buildPlaceholders:{value:function(i,d,g,v){if(i.language===d){var S=i.tokenStack=[];i.code=i.code.replace(g,function(I){if(typeof v=="function"&&!v(I))return I;for(var T=S.length,_;i.code.indexOf(_=r(d,T))!==-1;)++T;return S[T]=I,_}),i.grammar=n.languages.markup}}},tokenizePlaceholders:{value:function(i,d){if(i.language!==d||!i.tokenStack)return;i.grammar=n.languages[d];var g=0,v=Object.keys(i.tokenStack);function S(I){for(var T=0;T<I.length&&!(g>=v.length);T++){var _=I[T];if(typeof _=="string"||_.content&&typeof _.content=="string"){var N=v[g],A=i.tokenStack[N],w=typeof _=="string"?_:_.content,O=r(d,N),R=w.indexOf(O);if(R>-1){++g;var D=w.substring(0,R),j=new n.Token(d,n.tokenize(A,i.grammar),"language-"+d,A),L=w.substring(R+O.length),U=[];D&&U.push.apply(U,S([D])),U.push(j),L&&U.push.apply(U,S([L])),typeof _=="string"?I.splice.apply(I,[T,1].concat(U)):_.content=U}}else _.content&&S(_.content)}return I}S(i.tokens)}}})})(t)}return xR}var wR,J6;function VAe(){if(J6)return wR;J6=1;var e=Js();wR=t,t.displayName="django",t.aliases=["jinja2"];function t(n){n.register(e),function(r){r.languages.django={comment:/^\{#[\s\S]*?#\}$/,tag:{pattern:/(^\{%[+-]?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%][+-]?|[+-]?[}%]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},filter:{pattern:/(\|)\w+/,lookbehind:!0,alias:"function"},test:{pattern:/(\bis\s+(?:not\s+)?)(?!not\b)\w+/,lookbehind:!0,alias:"function"},function:/\b[a-z_]\w+(?=\s*\()/i,keyword:/\b(?:and|as|by|else|for|if|import|in|is|loop|not|or|recursive|with|without)\b/,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,number:/\b\d+(?:\.\d+)?\b/,boolean:/[Ff]alse|[Nn]one|[Tt]rue/,variable:/\b\w+\b/,punctuation:/[{}[\](),.:;]/};var i=/\{\{[\s\S]*?\}\}|\{%[\s\S]*?%\}|\{#[\s\S]*?#\}/g,d=r.languages["markup-templating"];r.hooks.add("before-tokenize",function(g){d.buildPlaceholders(g,"django",i)}),r.hooks.add("after-tokenize",function(g){d.tokenizePlaceholders(g,"django")}),r.languages.jinja2=r.languages.django,r.hooks.add("before-tokenize",function(g){d.buildPlaceholders(g,"jinja2",i)}),r.hooks.add("after-tokenize",function(g){d.tokenizePlaceholders(g,"jinja2")})}(n)}return wR}var NR,Q6;function $Ae(){if(Q6)return NR;Q6=1,NR=e,e.displayName="dnsZoneFile",e.aliases=[];function e(t){t.languages["dns-zone-file"]={comment:/;.*/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},variable:[{pattern:/(^\$ORIGIN[ \t]+)\S+/m,lookbehind:!0},{pattern:/(^|\s)@(?=\s|$)/,lookbehind:!0}],keyword:/^\$(?:INCLUDE|ORIGIN|TTL)(?=\s|$)/m,class:{pattern:/(^|\s)(?:CH|CS|HS|IN)(?=\s|$)/,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|\s)(?:A|A6|AAAA|AFSDB|APL|ATMA|CAA|CDNSKEY|CDS|CERT|CNAME|DHCID|DLV|DNAME|DNSKEY|DS|EID|GID|GPOS|HINFO|HIP|IPSECKEY|ISDN|KEY|KX|LOC|MAILA|MAILB|MB|MD|MF|MG|MINFO|MR|MX|NAPTR|NB|NBSTAT|NIMLOC|NINFO|NS|NSAP|NSAP-PTR|NSEC|NSEC3|NSEC3PARAM|NULL|NXT|OPENPGPKEY|PTR|PX|RKEY|RP|RRSIG|RT|SIG|SINK|SMIMEA|SOA|SPF|SRV|SSHFP|TA|TKEY|TLSA|TSIG|TXT|UID|UINFO|UNSPEC|URI|WKS|X25)(?=\s|$)/,lookbehind:!0,alias:"keyword"},punctuation:/[()]/},t.languages["dns-zone"]=t.languages["dns-zone-file"]}return NR}var RR,Z6;function UAe(){if(Z6)return RR;Z6=1,RR=e,e.displayName="docker",e.aliases=["dockerfile"];function e(t){(function(n){var r=/\\[\r\n](?:\s|\\[\r\n]|#.*(?!.))*(?![\s#]|\\[\r\n])/.source,i=/(?:[ \t]+(?![ \t])(?:<SP_BS>)?|<SP_BS>)/.source.replace(/<SP_BS>/g,function(){return r}),d=/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"|'(?:[^'\\\r\n]|\\(?:\r\n|[\s\S]))*'/.source,g=/--[\w-]+=(?:<STR>|(?!["'])(?:[^\s\\]|\\.)+)/.source.replace(/<STR>/g,function(){return d}),v={pattern:RegExp(d),greedy:!0},S={pattern:/(^[ \t]*)#.*/m,lookbehind:!0,greedy:!0};function I(T,_){return T=T.replace(/<OPT>/g,function(){return g}).replace(/<SP>/g,function(){return i}),RegExp(T,_)}n.languages.docker={instruction:{pattern:/(^[ \t]*)(?:ADD|ARG|CMD|COPY|ENTRYPOINT|ENV|EXPOSE|FROM|HEALTHCHECK|LABEL|MAINTAINER|ONBUILD|RUN|SHELL|STOPSIGNAL|USER|VOLUME|WORKDIR)(?=\s)(?:\\.|[^\r\n\\])*(?:\\$(?:\s|#.*$)*(?![\s#])(?:\\.|[^\r\n\\])*)*/im,lookbehind:!0,greedy:!0,inside:{options:{pattern:I(/(^(?:ONBUILD<SP>)?\w+<SP>)<OPT>(?:<SP><OPT>)*/.source,"i"),lookbehind:!0,greedy:!0,inside:{property:{pattern:/(^|\s)--[\w-]+/,lookbehind:!0},string:[v,{pattern:/(=)(?!["'])(?:[^\s\\]|\\.)+/,lookbehind:!0}],operator:/\\$/m,punctuation:/=/}},keyword:[{pattern:I(/(^(?:ONBUILD<SP>)?HEALTHCHECK<SP>(?:<OPT><SP>)*)(?:CMD|NONE)\b/.source,"i"),lookbehind:!0,greedy:!0},{pattern:I(/(^(?:ONBUILD<SP>)?FROM<SP>(?:<OPT><SP>)*(?!--)[^ \t\\]+<SP>)AS/.source,"i"),lookbehind:!0,greedy:!0},{pattern:I(/(^ONBUILD<SP>)\w+/.source,"i"),lookbehind:!0,greedy:!0},{pattern:/^\w+/,greedy:!0}],comment:S,string:v,variable:/\$(?:\w+|\{[^{}"'\\]*\})/,operator:/\\$/m}},comment:S},n.languages.dockerfile=n.languages.docker})(t)}return RR}var AR,ez;function BAe(){if(ez)return AR;ez=1,AR=e,e.displayName="dot",e.aliases=["gv"];function e(t){(function(n){var r="(?:"+[/[a-zA-Z_\x80-\uFFFF][\w\x80-\uFFFF]*/.source,/-?(?:\.\d+|\d+(?:\.\d*)?)/.source,/"[^"\\]*(?:\\[\s\S][^"\\]*)*"/.source,/<(?:[^<>]|(?!<!--)<(?:[^<>"']|"[^"]*"|'[^']*')+>|<!--(?:[^-]|-(?!->))*-->)*>/.source].join("|")+")",i={markup:{pattern:/(^<)[\s\S]+(?=>$)/,lookbehind:!0,alias:["language-markup","language-html","language-xml"],inside:n.languages.markup}};function d(g,v){return RegExp(g.replace(/<ID>/g,function(){return r}),v)}n.languages.dot={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\/|^#.*/m,greedy:!0},"graph-name":{pattern:d(/(\b(?:digraph|graph|subgraph)[ \t\r\n]+)<ID>/.source,"i"),lookbehind:!0,greedy:!0,alias:"class-name",inside:i},"attr-value":{pattern:d(/(=[ \t\r\n]*)<ID>/.source),lookbehind:!0,greedy:!0,inside:i},"attr-name":{pattern:d(/([\[;, \t\r\n])<ID>(?=[ \t\r\n]*=)/.source),lookbehind:!0,greedy:!0,inside:i},keyword:/\b(?:digraph|edge|graph|node|strict|subgraph)\b/i,"compass-point":{pattern:/(:[ \t\r\n]*)(?:[ewc_]|[ns][ew]?)(?![\w\x80-\uFFFF])/,lookbehind:!0,alias:"builtin"},node:{pattern:d(/(^|[^-.\w\x80-\uFFFF\\])<ID>/.source),lookbehind:!0,greedy:!0,inside:i},operator:/[=:]|-[->]/,punctuation:/[\[\]{};,]/},n.languages.gv=n.languages.dot})(t)}return AR}var OR,tz;function FAe(){if(tz)return OR;tz=1,OR=e,e.displayName="ebnf",e.aliases=[];function e(t){t.languages.ebnf={comment:/\(\*[\s\S]*?\*\)/,string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},special:{pattern:/\?[^?\r\n]*\?/,greedy:!0,alias:"class-name"},definition:{pattern:/^([\t ]*)[a-z]\w*(?:[ \t]+[a-z]\w*)*(?=\s*=)/im,lookbehind:!0,alias:["rule","keyword"]},rule:/\b[a-z]\w*(?:[ \t]+[a-z]\w*)*\b/i,punctuation:/\([:/]|[:/]\)|[.,;()[\]{}]/,operator:/[-=|*/!]/}}return OR}var kR,nz;function qAe(){if(nz)return kR;nz=1,kR=e,e.displayName="editorconfig",e.aliases=[];function e(t){t.languages.editorconfig={comment:/[;#].*/,section:{pattern:/(^[ \t]*)\[.+\]/m,lookbehind:!0,alias:"selector",inside:{regex:/\\\\[\[\]{},!?.*]/,operator:/[!?]|\.\.|\*{1,2}/,punctuation:/[\[\]{},]/}},key:{pattern:/(^[ \t]*)[^\s=]+(?=[ \t]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/=.*/,alias:"attr-value",inside:{punctuation:/^=/}}}}return kR}var LR,rz;function zAe(){if(rz)return LR;rz=1,LR=e,e.displayName="eiffel",e.aliases=[];function e(t){t.languages.eiffel={comment:/--.*/,string:[{pattern:/"([^[]*)\[[\s\S]*?\]\1"/,greedy:!0},{pattern:/"([^{]*)\{[\s\S]*?\}\1"/,greedy:!0},{pattern:/"(?:%(?:(?!\n)\s)*\n\s*%|%\S|[^%"\r\n])*"/,greedy:!0}],char:/'(?:%.|[^%'\r\n])+'/,keyword:/\b(?:across|agent|alias|all|and|as|assign|attached|attribute|check|class|convert|create|Current|debug|deferred|detachable|do|else|elseif|end|ensure|expanded|export|external|feature|from|frozen|if|implies|inherit|inspect|invariant|like|local|loop|not|note|obsolete|old|once|or|Precursor|redefine|rename|require|rescue|Result|retry|select|separate|some|then|undefine|until|variant|Void|when|xor)\b/i,boolean:/\b(?:False|True)\b/i,"class-name":/\b[A-Z][\dA-Z_]*\b/,number:[/\b0[xcb][\da-f](?:_*[\da-f])*\b/i,/(?:\b\d(?:_*\d)*)?\.(?:(?:\d(?:_*\d)*)?e[+-]?)?\d(?:_*\d)*\b|\b\d(?:_*\d)*\b\.?/i],punctuation:/:=|<<|>>|\(\||\|\)|->|\.(?=\w)|[{}[\];(),:?]/,operator:/\\\\|\|\.\.\||\.\.|\/[~\/=]?|[><]=?|[-+*^=~]/}}return LR}var PR,az;function HAe(){if(az)return PR;az=1;var e=Js();PR=t,t.displayName="ejs",t.aliases=["eta"];function t(n){n.register(e),function(r){r.languages.ejs={delimiter:{pattern:/^<%[-_=]?|[-_]?%>$/,alias:"punctuation"},comment:/^#[\s\S]*/,"language-javascript":{pattern:/[\s\S]+/,inside:r.languages.javascript}},r.hooks.add("before-tokenize",function(i){var d=/<%(?!%)[\s\S]+?%>/g;r.languages["markup-templating"].buildPlaceholders(i,"ejs",d)}),r.hooks.add("after-tokenize",function(i){r.languages["markup-templating"].tokenizePlaceholders(i,"ejs")}),r.languages.eta=r.languages.ejs}(n)}return PR}var DR,iz;function GAe(){if(iz)return DR;iz=1,DR=e,e.displayName="elixir",e.aliases=[];function e(t){t.languages.elixir={doc:{pattern:/@(?:doc|moduledoc)\s+(?:("""|''')[\s\S]*?\1|("|')(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2)/,inside:{attribute:/^@\w+/,string:/['"][\s\S]+/}},comment:{pattern:/#.*/,greedy:!0},regex:{pattern:/~[rR](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|[^\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[uismxfr]*/,greedy:!0},string:[{pattern:/~[cCsSwW](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|#\{[^}]+\}|#(?!\{)|[^#\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[csa]?/,greedy:!0,inside:{}},{pattern:/("""|''')[\s\S]*?\1/,greedy:!0,inside:{}},{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{}}],atom:{pattern:/(^|[^:]):\w+/,lookbehind:!0,alias:"symbol"},module:{pattern:/\b[A-Z]\w*\b/,alias:"class-name"},"attr-name":/\b\w+\??:(?!:)/,argument:{pattern:/(^|[^&])&\d+/,lookbehind:!0,alias:"variable"},attribute:{pattern:/@\w+/,alias:"variable"},function:/\b[_a-zA-Z]\w*[?!]?(?:(?=\s*(?:\.\s*)?\()|(?=\/\d))/,number:/\b(?:0[box][a-f\d_]+|\d[\d_]*)(?:\.[\d_]+)?(?:e[+-]?[\d_]+)?\b/i,keyword:/\b(?:after|alias|and|case|catch|cond|def(?:callback|delegate|exception|impl|macro|module|n|np|p|protocol|struct)?|do|else|end|fn|for|if|import|not|or|quote|raise|require|rescue|try|unless|unquote|use|when)\b/,boolean:/\b(?:false|nil|true)\b/,operator:[/\bin\b|&&?|\|[|>]?|\\\\|::|\.\.\.?|\+\+?|-[->]?|<[-=>]|>=|!==?|\B!|=(?:==?|[>~])?|[*\/^]/,{pattern:/([^<])<(?!<)/,lookbehind:!0},{pattern:/([^>])>(?!>)/,lookbehind:!0}],punctuation:/<<|>>|[.,%\[\]{}()]/},t.languages.elixir.string.forEach(function(n){n.inside={interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},rest:t.languages.elixir}}}})}return DR}var jR,oz;function KAe(){if(oz)return jR;oz=1,jR=e,e.displayName="elm",e.aliases=[];function e(t){t.languages.elm={comment:/--.*|\{-[\s\S]*?-\}/,char:{pattern:/'(?:[^\\'\r\n]|\\(?:[abfnrtv\\']|\d+|x[0-9a-fA-F]+|u\{[0-9a-fA-F]+\}))'/,greedy:!0},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:[^\\"\r\n]|\\.)*"/,greedy:!0}],"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z]\w*(?:\.[A-Z]\w*)*(?:\s+as\s+(?:[A-Z]\w*)(?:\.[A-Z]\w*)*)?(?:\s+exposing\s+)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|exposing|import)\b/}},keyword:/\b(?:alias|as|case|else|exposing|if|in|infixl|infixr|let|module|of|then|type)\b/,builtin:/\b(?:abs|acos|always|asin|atan|atan2|ceiling|clamp|compare|cos|curry|degrees|e|flip|floor|fromPolar|identity|isInfinite|isNaN|logBase|max|min|negate|never|not|pi|radians|rem|round|sin|sqrt|tan|toFloat|toPolar|toString|truncate|turns|uncurry|xor)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0x[0-9a-f]+)\b/i,operator:/\s\.\s|[+\-/*=.$<>:&|^?%#@~!]{2,}|[+\-/*=$<>:&|^?%#@~!]/,hvariable:/\b(?:[A-Z]\w*\.)*[a-z]\w*\b/,constant:/\b(?:[A-Z]\w*\.)*[A-Z]\w*\b/,punctuation:/[{}[\]|(),.:]/}}return jR}var VR,sz;function WAe(){if(sz)return VR;sz=1;var e=z_(),t=Js();VR=n,n.displayName="erb",n.aliases=[];function n(r){r.register(e),r.register(t),function(i){i.languages.erb={delimiter:{pattern:/^(\s*)<%=?|%>(?=\s*$)/,lookbehind:!0,alias:"punctuation"},ruby:{pattern:/\s*\S[\s\S]*/,alias:"language-ruby",inside:i.languages.ruby}},i.hooks.add("before-tokenize",function(d){var g=/<%=?(?:[^\r\n]|[\r\n](?!=begin)|[\r\n]=begin\s(?:[^\r\n]|[\r\n](?!=end))*[\r\n]=end)+?%>/g;i.languages["markup-templating"].buildPlaceholders(d,"erb",g)}),i.hooks.add("after-tokenize",function(d){i.languages["markup-templating"].tokenizePlaceholders(d,"erb")})}(r)}return VR}var $R,lz;function YAe(){if(lz)return $R;lz=1,$R=e,e.displayName="erlang",e.aliases=[];function e(t){t.languages.erlang={comment:/%.+/,string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},"quoted-function":{pattern:/'(?:\\.|[^\\'\r\n])+'(?=\()/,alias:"function"},"quoted-atom":{pattern:/'(?:\\.|[^\\'\r\n])+'/,alias:"atom"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:after|case|catch|end|fun|if|of|receive|try|when)\b/,number:[/\$\\?./,/\b\d+#[a-z0-9]+/i,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i],function:/\b[a-z][\w@]*(?=\()/,variable:{pattern:/(^|[^@])(?:\b|\?)[A-Z_][\w@]*/,lookbehind:!0},operator:[/[=\/<>:]=|=[:\/]=|\+\+?|--?|[=*\/!]|\b(?:and|andalso|band|bnot|bor|bsl|bsr|bxor|div|not|or|orelse|rem|xor)\b/,{pattern:/(^|[^<])<(?!<)/,lookbehind:!0},{pattern:/(^|[^>])>(?!>)/,lookbehind:!0}],atom:/\b[a-z][\w@]*/,punctuation:/[()[\]{}:;,.#|]|<<|>>/}}return $R}var UR,cz;function BJ(){if(cz)return UR;cz=1,UR=e,e.displayName="lua",e.aliases=[];function e(t){t.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/}}return UR}var BR,uz;function XAe(){if(uz)return BR;uz=1;var e=BJ(),t=Js();BR=n,n.displayName="etlua",n.aliases=[];function n(r){r.register(e),r.register(t),function(i){i.languages.etlua={delimiter:{pattern:/^<%[-=]?|-?%>$/,alias:"punctuation"},"language-lua":{pattern:/[\s\S]+/,inside:i.languages.lua}},i.hooks.add("before-tokenize",function(d){var g=/<%[\s\S]+?%>/g;i.languages["markup-templating"].buildPlaceholders(d,"etlua",g)}),i.hooks.add("after-tokenize",function(d){i.languages["markup-templating"].tokenizePlaceholders(d,"etlua")})}(r)}return BR}var FR,dz;function JAe(){if(dz)return FR;dz=1,FR=e,e.displayName="excelFormula",e.aliases=[];function e(t){t.languages["excel-formula"]={comment:{pattern:/(\bN\(\s*)"(?:[^"]|"")*"(?=\s*\))/i,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},reference:{pattern:/(?:'[^']*'|(?:[^\s()[\]{}<>*?"';,$&]*\[[^^\s()[\]{}<>*?"']+\])?\w+)!/,greedy:!0,alias:"string",inside:{operator:/!$/,punctuation:/'/,sheet:{pattern:/[^[\]]+$/,alias:"function"},file:{pattern:/\[[^[\]]+\]$/,inside:{punctuation:/[[\]]/}},path:/[\s\S]+/}},"function-name":{pattern:/\b[A-Z]\w*(?=\()/i,alias:"keyword"},range:{pattern:/\$?\b(?:[A-Z]+\$?\d+:\$?[A-Z]+\$?\d+|[A-Z]+:\$?[A-Z]+|\d+:\$?\d+)\b/i,alias:"property",inside:{operator:/:/,cell:/\$?[A-Z]+\$?\d+/i,column:/\$?[A-Z]+/i,row:/\$?\d+/}},cell:{pattern:/\b[A-Z]+\d+\b|\$[A-Za-z]+\$?\d+\b|\b[A-Za-z]+\$\d+\b/,alias:"property"},number:/(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?\b/i,boolean:/\b(?:FALSE|TRUE)\b/i,operator:/[-+*/^%=&,]|<[=>]?|>=?/,punctuation:/[[\]();{}|]/},t.languages.xlsx=t.languages.xls=t.languages["excel-formula"]}return FR}var qR,pz;function QAe(){if(pz)return qR;pz=1,qR=e,e.displayName="factor",e.aliases=[];function e(t){(function(n){var r={function:/\b(?:BUGS?|FIX(?:MES?)?|NOTES?|TODOS?|XX+|HACKS?|WARN(?:ING)?|\?{2,}|!{2,})\b/},i={number:/\\[^\s']|%\w/},d={comment:[{pattern:/(^|\s)(?:! .*|!$)/,lookbehind:!0,inside:r},{pattern:/(^|\s)\/\*\s[\s\S]*?\*\/(?=\s|$)/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|\s)!\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,inside:r}],number:[{pattern:/(^|\s)[+-]?\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b[01]+|o[0-7]+|d\d+|x[\dA-F]+)(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)[+-]?\d+\/\d+\.?(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)\+?\d+\+\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)-\d+-\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?(?:\d*\.\d+|\d+\.\d*|\d+)(?:e[+-]?\d+)?(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)NAN:\s+[\da-fA-F]+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b1\.[01]*|o1\.[0-7]*|d1\.\d*|x1\.[\dA-F]*)p\d+(?=\s|$)/i,lookbehind:!0}],regexp:{pattern:/(^|\s)R\/\s(?:\\\S|[^\\/])*\/(?:[idmsr]*|[idmsr]+-[idmsr]+)(?=\s|$)/,lookbehind:!0,alias:"number",inside:{variable:/\\\S/,keyword:/[+?*\[\]^$(){}.|]/,operator:{pattern:/(\/)[idmsr]+(?:-[idmsr]+)?/,lookbehind:!0}}},boolean:{pattern:/(^|\s)[tf](?=\s|$)/,lookbehind:!0},"custom-string":{pattern:/(^|\s)[A-Z0-9\-]+"\s(?:\\\S|[^"\\])*"/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:/\\\S|%\w|\//}},"multiline-string":[{pattern:/(^|\s)STRING:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*;(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:i.number,"semicolon-or-setlocal":{pattern:/([\r\n][ \t]*);(?=\s|$)/,lookbehind:!0,alias:"function"}}},{pattern:/(^|\s)HEREDOC:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*\S+(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:i},{pattern:/(^|\s)\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:i}],"special-using":{pattern:/(^|\s)USING:(?:\s\S+)*(?=\s+;(?:\s|$))/,lookbehind:!0,alias:"function",inside:{string:{pattern:/(\s)[^:\s]+/,lookbehind:!0}}},"stack-effect-delimiter":[{pattern:/(^|\s)(?:call|eval|execute)?\((?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)--(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\)(?=\s|$)/,lookbehind:!0,alias:"operator"}],combinators:{pattern:null,lookbehind:!0,alias:"keyword"},"kernel-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"sequences-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"math-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"constructor-word":{pattern:/(^|\s)<(?!=+>|-+>)\S+>(?=\s|$)/,lookbehind:!0,alias:"keyword"},"other-builtin-syntax":{pattern:null,lookbehind:!0,alias:"operator"},"conventionally-named-word":{pattern:/(^|\s)(?!")(?:(?:change|new|set|with)-\S+|\$\S+|>[^>\s]+|[^:>\s]+>|[^>\s]+>[^>\s]+|\+[^+\s]+\+|[^?\s]+\?|\?[^?\s]+|[^>\s]+>>|>>[^>\s]+|[^<\s]+<<|\([^()\s]+\)|[^!\s]+!|[^*\s]\S*\*|[^.\s]\S*\.)(?=\s|$)/,lookbehind:!0,alias:"keyword"},"colon-syntax":{pattern:/(^|\s)(?:[A-Z0-9\-]+#?)?:{1,2}\s+(?:;\S+|(?!;)\S+)(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"function"},"semicolon-or-setlocal":{pattern:/(\s)(?:;|:>)(?=\s|$)/,lookbehind:!0,alias:"function"},"curly-brace-literal-delimiter":[{pattern:/(^|\s)[a-z]*\{(?=\s)/i,lookbehind:!0,alias:"operator"},{pattern:/(\s)\}(?=\s|$)/,lookbehind:!0,alias:"operator"}],"quotation-delimiter":[{pattern:/(^|\s)\[(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\](?=\s|$)/,lookbehind:!0,alias:"operator"}],"normal-word":{pattern:/(^|\s)[^"\s]\S*(?=\s|$)/,lookbehind:!0},string:{pattern:/"(?:\\\S|[^"\\])*"/,greedy:!0,inside:i}},g=function(T){return(T+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},v=function(T){return new RegExp("(^|\\s)(?:"+T.map(g).join("|")+")(?=\\s|$)")},S={"kernel-builtin":["or","2nipd","4drop","tuck","wrapper","nip","wrapper?","callstack>array","die","dupd","callstack","callstack?","3dup","hashcode","pick","4nip","build",">boolean","nipd","clone","5nip","eq?","?","=","swapd","2over","clear","2dup","get-retainstack","not","tuple?","dup","3nipd","call","-rotd","object","drop","assert=","assert?","-rot","execute","boa","get-callstack","curried?","3drop","pickd","overd","over","roll","3nip","swap","and","2nip","rotd","throw","(clone)","hashcode*","spin","reach","4dup","equal?","get-datastack","assert","2drop","<wrapper>","boolean?","identity-hashcode","identity-tuple?","null","composed?","new","5drop","rot","-roll","xor","identity-tuple","boolean"],"other-builtin-syntax":["=======","recursive","flushable",">>","<<<<<<","M\\","B","PRIVATE>","\\","======","final","inline","delimiter","deprecated","<PRIVATE",">>>>>>","<<<<<<<","parse-complex","malformed-complex","read-only",">>>>>>>","call-next-method","<<","foldable","$","$[","${"],"sequences-builtin":["member-eq?","mismatch","append","assert-sequence=","longer","repetition","clone-like","3sequence","assert-sequence?","last-index-from","reversed","index-from","cut*","pad-tail","join-as","remove-eq!","concat-as","but-last","snip","nths","nth","sequence","longest","slice?","<slice>","remove-nth","tail-slice","empty?","tail*","member?","virtual-sequence?","set-length","drop-prefix","iota","unclip","bounds-error?","unclip-last-slice","non-negative-integer-expected","non-negative-integer-expected?","midpoint@","longer?","?set-nth","?first","rest-slice","prepend-as","prepend","fourth","sift","subseq-start","new-sequence","?last","like","first4","1sequence","reverse","slice","virtual@","repetition?","set-last","index","4sequence","max-length","set-second","immutable-sequence","first2","first3","supremum","unclip-slice","suffix!","insert-nth","tail","3append","short","suffix","concat","flip","immutable?","reverse!","2sequence","sum","delete-all","indices","snip-slice","<iota>","check-slice","sequence?","head","append-as","halves","sequence=","collapse-slice","?second","slice-error?","product","bounds-check?","bounds-check","immutable","virtual-exemplar","harvest","remove","pad-head","last","set-fourth","cartesian-product","remove-eq","shorten","shorter","reversed?","shorter?","shortest","head-slice","pop*","tail-slice*","but-last-slice","iota?","append!","cut-slice","new-resizable","head-slice*","sequence-hashcode","pop","set-nth","?nth","second","join","immutable-sequence?","<reversed>","3append-as","virtual-sequence","subseq?","remove-nth!","length","last-index","lengthen","assert-sequence","copy","move","third","first","tail?","set-first","prefix","bounds-error","<repetition>","exchange","surround","cut","min-length","set-third","push-all","head?","subseq-start-from","delete-slice","rest","sum-lengths","head*","infimum","remove!","glue","slice-error","subseq","push","replace-slice","subseq-as","unclip-last"],"math-builtin":["number=","next-power-of-2","?1+","fp-special?","imaginary-part","float>bits","number?","fp-infinity?","bignum?","fp-snan?","denominator","gcd","*","+","fp-bitwise=","-","u>=","/",">=","bitand","power-of-2?","log2-expects-positive","neg?","<","log2",">","integer?","number","bits>double","2/","zero?","bits>float","float?","shift","ratio?","rect>","even?","ratio","fp-sign","bitnot",">fixnum","complex?","/i","integer>fixnum","/f","sgn",">bignum","next-float","u<","u>","mod","recip","rational",">float","2^","integer","fixnum?","neg","fixnum","sq","bignum",">rect","bit?","fp-qnan?","simple-gcd","complex","<fp-nan>","real",">fraction","double>bits","bitor","rem","fp-nan-payload","real-part","log2-expects-positive?","prev-float","align","unordered?","float","fp-nan?","abs","bitxor","integer>fixnum-strict","u<=","odd?","<=","/mod",">integer","real?","rational?","numerator"]};Object.keys(S).forEach(function(T){d[T].pattern=v(S[T])});var I=["2bi","while","2tri","bi*","4dip","both?","same?","tri@","curry","prepose","3bi","?if","tri*","2keep","3keep","curried","2keepd","when","2bi*","2tri*","4keep","bi@","keepdd","do","unless*","tri-curry","if*","loop","bi-curry*","when*","2bi@","2tri@","with","2with","either?","bi","until","3dip","3curry","tri-curry*","tri-curry@","bi-curry","keepd","compose","2dip","if","3tri","unless","tuple","keep","2curry","tri","most","while*","dip","composed","bi-curry@","find-last-from","trim-head-slice","map-as","each-from","none?","trim-tail","partition","if-empty","accumulate*","reject!","find-from","accumulate-as","collector-for-as","reject","map","map-sum","accumulate!","2each-from","follow","supremum-by","map!","unless-empty","collector","padding","reduce-index","replicate-as","infimum-by","trim-tail-slice","count","find-index","filter","accumulate*!","reject-as","map-integers","map-find","reduce","selector","interleave","2map","filter-as","binary-reduce","map-index-as","find","produce","filter!","replicate","cartesian-map","cartesian-each","find-index-from","map-find-last","3map-as","3map","find-last","selector-as","2map-as","2map-reduce","accumulate","each","each-index","accumulate*-as","when-empty","all?","collector-as","push-either","new-like","collector-for","2selector","push-if","2all?","map-reduce","3each","any?","trim-slice","2reduce","change-nth","produce-as","2each","trim","trim-head","cartesian-find","map-index","if-zero","each-integer","unless-zero","(find-integer)","when-zero","find-last-integer","(all-integers?)","times","(each-integer)","find-integer","all-integers?","unless-negative","if-positive","when-positive","when-negative","unless-positive","if-negative","case","2cleave","cond>quot","case>quot","3cleave","wrong-values","to-fixed-point","alist>quot","cond","cleave","call-effect","recursive-hashcode","spread","deep-spread>quot","2||","0||","n||","0&&","2&&","3||","1||","1&&","n&&","3&&","smart-unless*","keep-inputs","reduce-outputs","smart-when*","cleave>array","smart-with","smart-apply","smart-if","inputs/outputs","output>sequence-n","map-outputs","map-reduce-outputs","dropping","output>array","smart-map-reduce","smart-2map-reduce","output>array-n","nullary","input<sequence","append-outputs","drop-inputs","inputs","smart-2reduce","drop-outputs","smart-reduce","preserving","smart-when","outputs","append-outputs-as","smart-unless","smart-if*","sum-outputs","input<sequence-unsafe","output>sequence"];d.combinators.pattern=v(I),n.languages.factor=d})(t)}return qR}var zR,mz;function ZAe(){if(mz)return zR;mz=1,zR=e,e.displayName="$false",e.aliases=[];function e(t){(function(n){n.languages.false={comment:{pattern:/\{[^}]*\}/},string:{pattern:/"[^"]*"/,greedy:!0},"character-code":{pattern:/'(?:[^\r]|\r\n?)/,alias:"number"},"assembler-code":{pattern:/\d+`/,alias:"important"},number:/\d+/,operator:/[-!#$%&'*+,./:;=>?@\\^_`|~ßø]/,punctuation:/\[|\]/,variable:/[a-z]/,"non-standard":{pattern:/[()<BDO®]/,alias:"bold"}}})(t)}return zR}var HR,fz;function eOe(){if(fz)return HR;fz=1,HR=e,e.displayName="firestoreSecurityRules",e.aliases=[];function e(t){t.languages["firestore-security-rules"]=t.languages.extend("clike",{comment:/\/\/.*/,keyword:/\b(?:allow|function|if|match|null|return|rules_version|service)\b/,operator:/&&|\|\||[<>!=]=?|[-+*/%]|\b(?:in|is)\b/}),delete t.languages["firestore-security-rules"]["class-name"],t.languages.insertBefore("firestore-security-rules","keyword",{path:{pattern:/(^|[\s(),])(?:\/(?:[\w\xA0-\uFFFF]+|\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)))+/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)/,inside:{operator:/=/,keyword:/\*\*/,punctuation:/[.$(){}]/}},punctuation:/\//}},method:{pattern:/(\ballow\s+)[a-z]+(?:\s*,\s*[a-z]+)*(?=\s*[:;])/,lookbehind:!0,alias:"builtin",inside:{punctuation:/,/}}})}return HR}var GR,gz;function tOe(){if(gz)return GR;gz=1,GR=e,e.displayName="flow",e.aliases=[];function e(t){(function(n){n.languages.flow=n.languages.extend("javascript",{}),n.languages.insertBefore("flow","keyword",{type:[{pattern:/\b(?:[Bb]oolean|Function|[Nn]umber|[Ss]tring|any|mixed|null|void)\b/,alias:"tag"}]}),n.languages.flow["function-variable"].pattern=/(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/i,delete n.languages.flow.parameter,n.languages.insertBefore("flow","operator",{"flow-punctuation":{pattern:/\{\||\|\}/,alias:"punctuation"}}),Array.isArray(n.languages.flow.keyword)||(n.languages.flow.keyword=[n.languages.flow.keyword]),n.languages.flow.keyword.unshift({pattern:/(^|[^$]\b)(?:Class|declare|opaque|type)\b(?!\$)/,lookbehind:!0},{pattern:/(^|[^$]\B)\$(?:Diff|Enum|Exact|Keys|ObjMap|PropertyType|Record|Shape|Subtype|Supertype|await)\b(?!\$)/,lookbehind:!0})})(t)}return GR}var KR,hz;function nOe(){if(hz)return KR;hz=1,KR=e,e.displayName="fortran",e.aliases=[];function e(t){t.languages.fortran={"quoted-number":{pattern:/[BOZ](['"])[A-F0-9]+\1/i,alias:"number"},string:{pattern:/(?:\b\w+_)?(['"])(?:\1\1|&(?:\r\n?|\n)(?:[ \t]*!.*(?:\r\n?|\n)|(?![ \t]*!))|(?!\1).)*(?:\1|&)/,inside:{comment:{pattern:/(&(?:\r\n?|\n)\s*)!.*/,lookbehind:!0}}},comment:{pattern:/!.*/,greedy:!0},boolean:/\.(?:FALSE|TRUE)\.(?:_\w+)?/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[ED][+-]?\d+)?(?:_\w+)?/i,keyword:[/\b(?:CHARACTER|COMPLEX|DOUBLE ?PRECISION|INTEGER|LOGICAL|REAL)\b/i,/\b(?:END ?)?(?:BLOCK ?DATA|DO|FILE|FORALL|FUNCTION|IF|INTERFACE|MODULE(?! PROCEDURE)|PROGRAM|SELECT|SUBROUTINE|TYPE|WHERE)\b/i,/\b(?:ALLOCATABLE|ALLOCATE|BACKSPACE|CALL|CASE|CLOSE|COMMON|CONTAINS|CONTINUE|CYCLE|DATA|DEALLOCATE|DIMENSION|DO|END|EQUIVALENCE|EXIT|EXTERNAL|FORMAT|GO ?TO|IMPLICIT(?: NONE)?|INQUIRE|INTENT|INTRINSIC|MODULE PROCEDURE|NAMELIST|NULLIFY|OPEN|OPTIONAL|PARAMETER|POINTER|PRINT|PRIVATE|PUBLIC|READ|RETURN|REWIND|SAVE|SELECT|STOP|TARGET|WHILE|WRITE)\b/i,/\b(?:ASSIGNMENT|DEFAULT|ELEMENTAL|ELSE|ELSEIF|ELSEWHERE|ENTRY|IN|INCLUDE|INOUT|KIND|NULL|ONLY|OPERATOR|OUT|PURE|RECURSIVE|RESULT|SEQUENCE|STAT|THEN|USE)\b/i],operator:[/\*\*|\/\/|=>|[=\/]=|[<>]=?|::|[+\-*=%]|\.[A-Z]+\./i,{pattern:/(^|(?!\().)\/(?!\))/,lookbehind:!0}],punctuation:/\(\/|\/\)|[(),;:&]/}}return KR}var WR,vz;function rOe(){if(vz)return WR;vz=1,WR=e,e.displayName="fsharp",e.aliases=[];function e(t){t.languages.fsharp=t.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\(\*(?!\))[\s\S]*?\*\)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(?:"""[\s\S]*?"""|@"(?:""|[^"])*"|"(?:\\[\s\S]|[^\\"])*")B?/,greedy:!0},"class-name":{pattern:/(\b(?:exception|inherit|interface|new|of|type)\s+|\w\s*:\s*|\s:\??>\s*)[.\w]+\b(?:\s*(?:->|\*)\s*[.\w]+\b)*(?!\s*[:.])/,lookbehind:!0,inside:{operator:/->|\*/,punctuation:/\./}},keyword:/\b(?:let|return|use|yield)(?:!\B|\b)|\b(?:abstract|and|as|asr|assert|atomic|base|begin|break|checked|class|component|const|constraint|constructor|continue|default|delegate|do|done|downcast|downto|eager|elif|else|end|event|exception|extern|external|false|finally|fixed|for|fun|function|functor|global|if|in|include|inherit|inline|interface|internal|land|lazy|lor|lsl|lsr|lxor|match|member|method|mixin|mod|module|mutable|namespace|new|not|null|object|of|open|or|override|parallel|private|process|protected|public|pure|rec|sealed|select|sig|static|struct|tailcall|then|to|trait|true|try|type|upcast|val|virtual|void|volatile|when|while|with)\b/,number:[/\b0x[\da-fA-F]+(?:LF|lf|un)?\b/,/\b0b[01]+(?:uy|y)?\b/,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[fm]|e[+-]?\d+)?\b/i,/\b\d+(?:[IlLsy]|UL|u[lsy]?)?\b/],operator:/([<>~&^])\1\1|([*.:<>&])\2|<-|->|[!=:]=|<?\|{1,3}>?|\??(?:<=|>=|<>|[-+*/%=<>])\??|[!?^&]|~[+~-]|:>|:\?>?/}),t.languages.insertBefore("fsharp","keyword",{preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(^#)\b(?:else|endif|if|light|line|nowarn)\b/,lookbehind:!0,alias:"keyword"}}}}),t.languages.insertBefore("fsharp","punctuation",{"computation-expression":{pattern:/\b[_a-z]\w*(?=\s*\{)/i,alias:"keyword"}}),t.languages.insertBefore("fsharp","string",{annotation:{pattern:/\[<.+?>\]/,greedy:!0,inside:{punctuation:/^\[<|>\]$/,"class-name":{pattern:/^\w+$|(^|;\s*)[A-Z]\w*(?=\()/,lookbehind:!0},"annotation-content":{pattern:/[\s\S]+/,inside:t.languages.fsharp}}},char:{pattern:/'(?:[^\\']|\\(?:.|\d{3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}|U[a-fA-F\d]{8}))'B?/,greedy:!0}})}return WR}var YR,yz;function aOe(){if(yz)return YR;yz=1;var e=Js();YR=t,t.displayName="ftl",t.aliases=[];function t(n){n.register(e),function(r){for(var i=/[^<()"']|\((?:<expr>)*\)|<(?!#--)|<#--(?:[^-]|-(?!->))*-->|"(?:[^\\"]|\\.)*"|'(?:[^\\']|\\.)*'/.source,d=0;d<2;d++)i=i.replace(/<expr>/g,function(){return i});i=i.replace(/<expr>/g,/[^\s\S]/.source);var g={comment:/<#--[\s\S]*?-->/,string:[{pattern:/\br("|')(?:(?!\1)[^\\]|\\.)*\1/,greedy:!0},{pattern:RegExp(/("|')(?:(?!\1|\$\{)[^\\]|\\.|\$\{(?:(?!\})(?:<expr>))*\})*\1/.source.replace(/<expr>/g,function(){return i})),greedy:!0,inside:{interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\\\)*)\$\{(?:(?!\})(?:<expr>))*\}/.source.replace(/<expr>/g,function(){return i})),lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:null}}}}],keyword:/\b(?:as)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/((?:^|[^?])\?\s*)\w+/,lookbehind:!0,alias:"function"},function:/\b\w+(?=\s*\()/,number:/\b\d+(?:\.\d+)?\b/,operator:/\.\.[<*!]?|->|--|\+\+|&&|\|\||\?{1,2}|[-+*/%!=<>]=?|\b(?:gt|gte|lt|lte)\b/,punctuation:/[,;.:()[\]{}]/};g.string[1].inside.interpolation.inside.rest=g,r.languages.ftl={"ftl-comment":{pattern:/^<#--[\s\S]*/,alias:"comment"},"ftl-directive":{pattern:/^<[\s\S]+>$/,inside:{directive:{pattern:/(^<\/?)[#@][a-z]\w*/i,lookbehind:!0,alias:"keyword"},punctuation:/^<\/?|\/?>$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:g}}},"ftl-interpolation":{pattern:/^\$\{[\s\S]*\}$/,inside:{punctuation:/^\$\{|\}$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:g}}}},r.hooks.add("before-tokenize",function(v){var S=RegExp(/<#--[\s\S]*?-->|<\/?[#@][a-zA-Z](?:<expr>)*?>|\$\{(?:<expr>)*?\}/.source.replace(/<expr>/g,function(){return i}),"gi");r.languages["markup-templating"].buildPlaceholders(v,"ftl",S)}),r.hooks.add("after-tokenize",function(v){r.languages["markup-templating"].tokenizePlaceholders(v,"ftl")})}(n)}return YR}var XR,bz;function iOe(){if(bz)return XR;bz=1,XR=e,e.displayName="gap",e.aliases=[];function e(t){t.languages.gap={shell:{pattern:/^gap>[\s\S]*?(?=^gap>|$(?![\s\S]))/m,greedy:!0,inside:{gap:{pattern:/^(gap>).+(?:(?:\r(?:\n|(?!\n))|\n)>.*)*/,lookbehind:!0,inside:null},punctuation:/^gap>/}},comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(^|[^\\'"])(?:'(?:[^\r\n\\']|\\.){1,10}'|"(?:[^\r\n\\"]|\\.)*"(?!")|"""[\s\S]*?""")/,lookbehind:!0,greedy:!0,inside:{continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"}}},keyword:/\b(?:Assert|Info|IsBound|QUIT|TryNextMethod|Unbind|and|atomic|break|continue|do|elif|else|end|fi|for|function|if|in|local|mod|not|od|or|quit|readonly|readwrite|rec|repeat|return|then|until|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"},operator:/->|[-+*/^~=!]|<>|[<>]=?|:=|\.\./,punctuation:/[()[\]{},;.:]/},t.languages.gap.shell.inside.gap.inside=t.languages.gap}return XR}var JR,Sz;function oOe(){if(Sz)return JR;Sz=1,JR=e,e.displayName="gcode",e.aliases=[];function e(t){t.languages.gcode={comment:/;.*|\B\(.*?\)\B/,string:{pattern:/"(?:""|[^"])*"/,greedy:!0},keyword:/\b[GM]\d+(?:\.\d+)?\b/,property:/\b[A-Z]/,checksum:{pattern:/(\*)\d+/,lookbehind:!0,alias:"number"},punctuation:/[:*]/}}return JR}var QR,Iz;function sOe(){if(Iz)return QR;Iz=1,QR=e,e.displayName="gdscript",e.aliases=[];function e(t){t.languages.gdscript={comment:/#.*/,string:{pattern:/@?(?:("|')(?:(?!\1)[^\n\\]|\\[\s\S])*\1(?!"|')|"""(?:[^\\]|\\[\s\S])*?""")/,greedy:!0},"class-name":{pattern:/(^(?:class|class_name|extends)[ \t]+|^export\([ \t]*|\bas[ \t]+|(?:\b(?:const|var)[ \t]|[,(])[ \t]*\w+[ \t]*:[ \t]*|->[ \t]*)[a-zA-Z_]\w*/m,lookbehind:!0},keyword:/\b(?:and|as|assert|break|breakpoint|class|class_name|const|continue|elif|else|enum|export|extends|for|func|if|in|is|master|mastersync|match|not|null|onready|or|pass|preload|puppet|puppetsync|remote|remotesync|return|self|setget|signal|static|tool|var|while|yield)\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,variable:/\$\w+/,number:[/\b0b[01_]+\b|\b0x[\da-fA-F_]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.[\d_]+)(?:e[+-]?[\d_]+)?\b/,/\b(?:INF|NAN|PI|TAU)\b/],constant:/\b[A-Z][A-Z_\d]*\b/,boolean:/\b(?:false|true)\b/,operator:/->|:=|&&|\|\||<<|>>|[-+*/%&|!<>=]=?|[~^]/,punctuation:/[.:,;()[\]{}]/}}return QR}var ZR,Ez;function lOe(){if(Ez)return ZR;Ez=1,ZR=e,e.displayName="gedcom",e.aliases=[];function e(t){t.languages.gedcom={"line-value":{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?\w+ ).+/m,lookbehind:!0,inside:{pointer:{pattern:/^@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@$/,alias:"variable"}}},tag:{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?)\w+/m,lookbehind:!0,alias:"string"},level:{pattern:/(^[\t ]*)\d+/m,lookbehind:!0,alias:"number"},pointer:{pattern:/@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@/,alias:"variable"}}}return ZR}var e2,Cz;function cOe(){if(Cz)return e2;Cz=1,e2=e,e.displayName="gherkin",e.aliases=[];function e(t){(function(n){var r=/(?:\r?\n|\r)[ \t]*\|.+\|(?:(?!\|).)*/.source;n.languages.gherkin={pystring:{pattern:/("""|''')[\s\S]+?\1/,alias:"string"},comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},tag:{pattern:/(^[ \t]*)@\S*/m,lookbehind:!0},feature:{pattern:/((?:^|\r?\n|\r)[ \t]*)(?:Ability|Ahoy matey!|Arwedd|Aspekt|Besigheid Behoefte|Business Need|Caracteristica|Característica|Egenskab|Egenskap|Eiginleiki|Feature|Fīča|Fitur|Fonctionnalité|Fonksyonalite|Funcionalidade|Funcionalitat|Functionalitate|Funcţionalitate|Funcționalitate|Functionaliteit|Fungsi|Funkcia|Funkcija|Funkcionalitāte|Funkcionalnost|Funkcja|Funksie|Funktionalität|Funktionalitéit|Funzionalità|Hwaet|Hwæt|Jellemző|Karakteristik|Lastnost|Mak|Mogucnost|laH|Mogućnost|Moznosti|Možnosti|OH HAI|Omadus|Ominaisuus|Osobina|Özellik|Potrzeba biznesowa|perbogh|poQbogh malja'|Požadavek|Požiadavka|Pretty much|Qap|Qu'meH 'ut|Savybė|Tính năng|Trajto|Vermoë|Vlastnosť|Właściwość|Značilnost|Δυνατότητα|Λειτουργία|Могућност|Мөмкинлек|Особина|Свойство|Үзенчәлеклелек|Функционал|Функционалност|Функция|Функціонал|תכונה|خاصية|خصوصیت|صلاحیت|کاروبار کی ضرورت|وِیژگی|रूप लेख|ਖਾਸੀਅਤ|ਨਕਸ਼ ਨੁਹਾਰ|ਮੁਹਾਂਦਰਾ|గుణము|ಹೆಚ್ಚಳ|ความต้องการทางธุรกิจ|ความสามารถ|โครงหลัก|기능|フィーチャ|功能|機能):(?:[^:\r\n]+(?:\r?\n|\r|$))*/,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]+/,lookbehind:!0},keyword:/[^:\r\n]+:/}},scenario:{pattern:/(^[ \t]*)(?:Abstract Scenario|Abstrakt Scenario|Achtergrond|Aer|Ær|Agtergrond|All y'all|Antecedentes|Antecedents|Atburðarás|Atburðarásir|Awww, look mate|B4|Background|Baggrund|Bakgrund|Bakgrunn|Bakgrunnur|Beispiele|Beispiller|Bối cảnh|Cefndir|Cenario|Cenário|Cenario de Fundo|Cenário de Fundo|Cenarios|Cenários|Contesto|Context|Contexte|Contexto|Conto|Contoh|Contone|Dæmi|Dasar|Dead men tell no tales|Delineacao do Cenario|Delineação do Cenário|Dis is what went down|Dữ liệu|Dyagram Senaryo|Dyagram senaryo|Egzanp|Ejemplos|Eksempler|Ekzemploj|Enghreifftiau|Esbozo do escenario|Escenari|Escenario|Esempi|Esquema de l'escenari|Esquema del escenario|Esquema do Cenario|Esquema do Cenário|EXAMPLZ|Examples|Exempel|Exemple|Exemples|Exemplos|First off|Fono|Forgatókönyv|Forgatókönyv vázlat|Fundo|Geçmiş|Grundlage|Hannergrond|ghantoH|Háttér|Heave to|Istorik|Juhtumid|Keadaan|Khung kịch bản|Khung tình huống|Kịch bản|Koncept|Konsep skenario|Kontèks|Kontekst|Kontekstas|Konteksts|Kontext|Konturo de la scenaro|Latar Belakang|lut chovnatlh|lut|lutmey|Lýsing Atburðarásar|Lýsing Dæma|MISHUN SRSLY|MISHUN|Menggariskan Senario|mo'|Náčrt Scenára|Náčrt Scénáře|Náčrt Scenáru|Oris scenarija|Örnekler|Osnova|Osnova Scenára|Osnova scénáře|Osnutek|Ozadje|Paraugs|Pavyzdžiai|Példák|Piemēri|Plan du scénario|Plan du Scénario|Plan Senaryo|Plan senaryo|Plang vum Szenario|Pozadí|Pozadie|Pozadina|Príklady|Příklady|Primer|Primeri|Primjeri|Przykłady|Raamstsenaarium|Reckon it's like|Rerefons|Scenár|Scénář|Scenarie|Scenarij|Scenarijai|Scenarijaus šablonas|Scenariji|Scenārijs|Scenārijs pēc parauga|Scenarijus|Scenario|Scénario|Scenario Amlinellol|Scenario Outline|Scenario Template|Scenariomal|Scenariomall|Scenarios|Scenariu|Scenariusz|Scenaro|Schema dello scenario|Se ðe|Se the|Se þe|Senario|Senaryo Deskripsyon|Senaryo deskripsyon|Senaryo|Senaryo taslağı|Shiver me timbers|Situācija|Situai|Situasie Uiteensetting|Situasie|Skenario konsep|Skenario|Skica|Structura scenariu|Structură scenariu|Struktura scenarija|Stsenaarium|Swa hwaer swa|Swa|Swa hwær swa|Szablon scenariusza|Szenario|Szenariogrundriss|Tapaukset|Tapaus|Tapausaihio|Taust|Tausta|Template Keadaan|Template Senario|Template Situai|The thing of it is|Tình huống|Variantai|Voorbeelde|Voorbeelden|Wharrimean is|Yo-ho-ho|You'll wanna|Założenia|Παραδείγματα|Περιγραφή Σεναρίου|Σενάρια|Σενάριο|Υπόβαθρο|Кереш|Контекст|Концепт|Мисаллар|Мисоллар|Основа|Передумова|Позадина|Предистория|Предыстория|Приклади|Пример|Примери|Примеры|Рамка на сценарий|Скица|Структура сценарија|Структура сценария|Структура сценарію|Сценарий|Сценарий структураси|Сценарийның төзелеше|Сценарији|Сценарио|Сценарій|Тарих|Үрнәкләр|דוגמאות|רקע|תבנית תרחיש|תרחיש|الخلفية|الگوی سناریو|امثلة|پس منظر|زمینه|سناریو|سيناريو|سيناريو مخطط|مثالیں|منظر نامے کا خاکہ|منظرنامہ|نمونه ها|उदाहरण|परिदृश्य|परिदृश्य रूपरेखा|पृष्ठभूमि|ਉਦਾਹਰਨਾਂ|ਪਟਕਥਾ|ਪਟਕਥਾ ਢਾਂਚਾ|ਪਟਕਥਾ ਰੂਪ ਰੇਖਾ|ਪਿਛੋਕੜ|ఉదాహరణలు|కథనం|నేపథ్యం|సన్నివేశం|ಉದಾಹರಣೆಗಳು|ಕಥಾಸಾರಾಂಶ|ವಿವರಣೆ|ಹಿನ್ನೆಲೆ|โครงสร้างของเหตุการณ์|ชุดของตัวอย่าง|ชุดของเหตุการณ์|แนวคิด|สรุปเหตุการณ์|เหตุการณ์|배경|시나리오|시나리오 개요|예|サンプル|シナリオ|シナリオアウトライン|シナリオテンプレ|シナリオテンプレート|テンプレ|例|例子|剧本|剧本大纲|劇本|劇本大綱|场景|场景大纲|場景|場景大綱|背景):[^:\r\n]*/m,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]*/,lookbehind:!0},keyword:/[^:\r\n]+:/}},"table-body":{pattern:RegExp("("+r+")(?:"+r+")+"),lookbehind:!0,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"},td:{pattern:/\s*[^\s|][^|]*/,alias:"string"},punctuation:/\|/}},"table-head":{pattern:RegExp(r),inside:{th:{pattern:/\s*[^\s|][^|]*/,alias:"variable"},punctuation:/\|/}},atrule:{pattern:/(^[ \t]+)(?:'a|'ach|'ej|7|a|A také|A taktiež|A tiež|A zároveň|Aber|Ac|Adott|Akkor|Ak|Aleshores|Ale|Ali|Allora|Alors|Als|Ama|Amennyiben|Amikor|Ampak|an|AN|Ananging|And y'all|And|Angenommen|Anrhegedig a|An|Apabila|Atès|Atesa|Atunci|Avast!|Aye|A|awer|Bagi|Banjur|Bet|Biết|Blimey!|Buh|But at the end of the day I reckon|But y'all|But|BUT|Cal|Când|Cand|Cando|Ce|Cuando|Če|Ða ðe|Ða|Dadas|Dada|Dados|Dado|DaH ghu' bejlu'|dann|Dann|Dano|Dan|Dar|Dat fiind|Data|Date fiind|Date|Dati fiind|Dati|Daţi fiind|Dați fiind|DEN|Dato|De|Den youse gotta|Dengan|Diberi|Diyelim ki|Donada|Donat|Donitaĵo|Do|Dun|Duota|Ðurh|Eeldades|Ef|Eğer ki|Entao|Então|Entón|E|En|Entonces|Epi|És|Etant donnée|Etant donné|Et|Étant données|Étant donnée|Étant donné|Etant données|Etant donnés|Étant donnés|Fakat|Gangway!|Gdy|Gegeben seien|Gegeben sei|Gegeven|Gegewe|ghu' noblu'|Gitt|Given y'all|Given|Givet|Givun|Ha|Cho|I CAN HAZ|In|Ir|It's just unbelievable|I|Ja|Jeśli|Jeżeli|Kad|Kada|Kadar|Kai|Kaj|Když|Keď|Kemudian|Ketika|Khi|Kiedy|Ko|Kuid|Kui|Kun|Lan|latlh|Le sa a|Let go and haul|Le|Lè sa a|Lè|Logo|Lorsqu'<|Lorsque|mä|Maar|Mais|Mając|Ma|Majd|Maka|Manawa|Mas|Men|Menawa|Mutta|Nalika|Nalikaning|Nanging|Når|När|Nato|Nhưng|Niin|Njuk|O zaman|Och|Og|Oletetaan|Ond|Onda|Oraz|Pak|Pero|Però|Podano|Pokiaľ|Pokud|Potem|Potom|Privzeto|Pryd|Quan|Quand|Quando|qaSDI'|Så|Sed|Se|Siis|Sipoze ke|Sipoze Ke|Sipoze|Si|Şi|Și|Soit|Stel|Tada|Tad|Takrat|Tak|Tapi|Ter|Tetapi|Tha the|Tha|Then y'all|Then|Thì|Thurh|Toda|Too right|Un|Und|ugeholl|Và|vaj|Vendar|Ve|wann|Wanneer|WEN|Wenn|When y'all|When|Wtedy|Wun|Y'know|Yeah nah|Yna|Youse know like when|Youse know when youse got|Y|Za predpokladu|Za předpokladu|Zadan|Zadani|Zadano|Zadate|Zadato|Zakładając|Zaradi|Zatati|Þa þe|Þa|Þá|Þegar|Þurh|Αλλά|Δεδομένου|Και|Όταν|Τότε|А також|Агар|Але|Али|Аммо|А|Әгәр|Әйтик|Әмма|Бирок|Ва|Вә|Дадено|Дано|Допустим|Если|Задате|Задати|Задато|И|І|К тому же|Када|Кад|Когато|Когда|Коли|Ләкин|Лекин|Нәтиҗәдә|Нехай|Но|Онда|Припустимо, що|Припустимо|Пусть|Также|Та|Тогда|Тоді|То|Унда|Һәм|Якщо|אבל|אזי|אז|בהינתן|וגם|כאשר|آنگاه|اذاً|اگر|اما|اور|با فرض|بالفرض|بفرض|پھر|تب|ثم|جب|عندما|فرض کیا|لكن|لیکن|متى|هنگامی|و|अगर|और|कदा|किन्तु|चूंकि|जब|तथा|तदा|तब|परन्तु|पर|यदि|ਅਤੇ|ਜਦੋਂ|ਜਿਵੇਂ ਕਿ|ਜੇਕਰ|ਤਦ|ਪਰ|అప్పుడు|ఈ పరిస్థితిలో|కాని|చెప్పబడినది|మరియు|ಆದರೆ|ನಂತರ|ನೀಡಿದ|ಮತ್ತು|ಸ್ಥಿತಿಯನ್ನು|กำหนดให้|ดังนั้น|แต่|เมื่อ|และ|그러면<|그리고<|단<|만약<|만일<|먼저<|조건<|하지만<|かつ<|しかし<|ただし<|ならば<|もし<|並且<|但し<|但是<|假如<|假定<|假設<|假设<|前提<|同时<|同時<|并且<|当<|當<|而且<|那么<|那麼<)(?=[ \t])/m,lookbehind:!0},string:{pattern:/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"}}},outline:{pattern:/<[^>]+>/,alias:"variable"}}})(t)}return e2}var t2,Tz;function uOe(){if(Tz)return t2;Tz=1,t2=e,e.displayName="git",e.aliases=[];function e(t){t.languages.git={comment:/^#.*/m,deleted:/^[-–].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m}}return t2}var n2,Mz;function dOe(){if(Mz)return n2;Mz=1;var e=Eg();n2=t,t.displayName="glsl",t.aliases=[];function t(n){n.register(e),n.languages.glsl=n.languages.extend("c",{keyword:/\b(?:active|asm|atomic_uint|attribute|[ibdu]?vec[234]|bool|break|buffer|case|cast|centroid|class|coherent|common|const|continue|d?mat[234](?:x[234])?|default|discard|do|double|else|enum|extern|external|false|filter|fixed|flat|float|for|fvec[234]|goto|half|highp|hvec[234]|[iu]?sampler2DMS(?:Array)?|[iu]?sampler2DRect|[iu]?samplerBuffer|[iu]?samplerCube|[iu]?samplerCubeArray|[iu]?sampler[123]D|[iu]?sampler[12]DArray|[iu]?image2DMS(?:Array)?|[iu]?image2DRect|[iu]?imageBuffer|[iu]?imageCube|[iu]?imageCubeArray|[iu]?image[123]D|[iu]?image[12]DArray|if|in|inline|inout|input|int|interface|invariant|layout|long|lowp|mediump|namespace|noinline|noperspective|out|output|partition|patch|precise|precision|public|readonly|resource|restrict|return|sample|sampler[12]DArrayShadow|sampler[12]DShadow|sampler2DRectShadow|sampler3DRect|samplerCubeArrayShadow|samplerCubeShadow|shared|short|sizeof|smooth|static|struct|subroutine|superp|switch|template|this|true|typedef|uint|uniform|union|unsigned|using|varying|void|volatile|while|writeonly)\b/})}return n2}var r2,_z;function pOe(){if(_z)return r2;_z=1,r2=e,e.displayName="gml",e.aliases=[];function e(t){t.languages.gamemakerlanguage=t.languages.gml=t.languages.extend("clike",{keyword:/\b(?:break|case|continue|default|do|else|enum|exit|for|globalvar|if|repeat|return|switch|until|var|while)\b/,number:/(?:\b0x[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ulf]{0,4}/i,operator:/--|\+\+|[-+%/=]=?|!=|\*\*?=?|<[<=>]?|>[=>]?|&&?|\^\^?|\|\|?|~|\b(?:and|at|not|or|with|xor)\b/,constant:/\b(?:GM_build_date|GM_version|action_(?:continue|restart|reverse|stop)|all|gamespeed_(?:fps|microseconds)|global|local|noone|other|pi|pointer_(?:invalid|null)|self|timezone_(?:local|utc)|undefined|ev_(?:create|destroy|step|alarm|keyboard|mouse|collision|other|draw|draw_(?:begin|end|post|pre)|keypress|keyrelease|trigger|(?:left|middle|no|right)_button|(?:left|middle|right)_press|(?:left|middle|right)_release|mouse_(?:enter|leave|wheel_down|wheel_up)|global_(?:left|middle|right)_button|global_(?:left|middle|right)_press|global_(?:left|middle|right)_release|joystick(?:1|2)_(?:button1|button2|button3|button4|button5|button6|button7|button8|down|left|right|up)|outside|boundary|game_start|game_end|room_start|room_end|no_more_lives|animation_end|end_of_path|no_more_health|user\d|gui|gui_begin|gui_end|step_(?:begin|end|normal))|vk_(?:alt|anykey|backspace|control|delete|down|end|enter|escape|home|insert|left|nokey|pagedown|pageup|pause|printscreen|return|right|shift|space|tab|up|f\d|numpad\d|add|decimal|divide|lalt|lcontrol|lshift|multiply|ralt|rcontrol|rshift|subtract)|achievement_(?:filter_(?:all_players|favorites_only|friends_only)|friends_info|info|leaderboard_info|our_info|pic_loaded|show_(?:achievement|bank|friend_picker|leaderboard|profile|purchase_prompt|ui)|type_challenge|type_score_challenge)|asset_(?:font|object|path|room|script|shader|sound|sprite|tiles|timeline|unknown)|audio_(?:3d|falloff_(?:exponent_distance|exponent_distance_clamped|inverse_distance|inverse_distance_clamped|linear_distance|linear_distance_clamped|none)|mono|new_system|old_system|stereo)|bm_(?:add|complex|dest_alpha|dest_color|dest_colour|inv_dest_alpha|inv_dest_color|inv_dest_colour|inv_src_alpha|inv_src_color|inv_src_colour|max|normal|one|src_alpha|src_alpha_sat|src_color|src_colour|subtract|zero)|browser_(?:chrome|firefox|ie|ie_mobile|not_a_browser|opera|safari|safari_mobile|tizen|unknown|windows_store)|buffer_(?:bool|f16|f32|f64|fast|fixed|generalerror|grow|invalidtype|network|outofbounds|outofspace|s16|s32|s8|seek_end|seek_relative|seek_start|string|text|u16|u32|u64|u8|vbuffer|wrap)|c_(?:aqua|black|blue|dkgray|fuchsia|gray|green|lime|ltgray|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)|cmpfunc_(?:always|equal|greater|greaterequal|less|lessequal|never|notequal)|cr_(?:appstart|arrow|beam|cross|default|drag|handpoint|hourglass|none|size_all|size_nesw|size_ns|size_nwse|size_we|uparrow)|cull_(?:clockwise|counterclockwise|noculling)|device_(?:emulator|tablet)|device_ios_(?:ipad|ipad_retina|iphone|iphone5|iphone6|iphone6plus|iphone_retina|unknown)|display_(?:landscape|landscape_flipped|portrait|portrait_flipped)|dll_(?:cdecl|cdel|stdcall)|ds_type_(?:grid|list|map|priority|queue|stack)|ef_(?:cloud|ellipse|explosion|firework|flare|rain|ring|smoke|smokeup|snow|spark|star)|fa_(?:archive|bottom|center|directory|hidden|left|middle|readonly|right|sysfile|top|volumeid)|fb_login_(?:default|fallback_to_webview|forcing_safari|forcing_webview|no_fallback_to_webview|use_system_account)|iap_(?:available|canceled|ev_consume|ev_product|ev_purchase|ev_restore|ev_storeload|failed|purchased|refunded|status_available|status_loading|status_processing|status_restoring|status_unavailable|status_uninitialised|storeload_failed|storeload_ok|unavailable)|leaderboard_type_(?:number|time_mins_secs)|lighttype_(?:dir|point)|matrix_(?:projection|view|world)|mb_(?:any|left|middle|none|right)|network_(?:config_(?:connect_timeout|disable_reliable_udp|enable_reliable_udp|use_non_blocking_socket)|socket_(?:bluetooth|tcp|udp)|type_(?:connect|data|disconnect|non_blocking_connect))|of_challenge_(?:lose|tie|win)|os_(?:android|ios|linux|macosx|ps3|ps4|psvita|unknown|uwp|win32|win8native|windows|winphone|xboxone)|phy_debug_render_(?:aabb|collision_pairs|coms|core_shapes|joints|obb|shapes)|phy_joint_(?:anchor_1_x|anchor_1_y|anchor_2_x|anchor_2_y|angle|angle_limits|damping_ratio|frequency|length_1|length_2|lower_angle_limit|max_force|max_length|max_motor_force|max_motor_torque|max_torque|motor_force|motor_speed|motor_torque|reaction_force_x|reaction_force_y|reaction_torque|speed|translation|upper_angle_limit)|phy_particle_data_flag_(?:category|color|colour|position|typeflags|velocity)|phy_particle_flag_(?:colormixing|colourmixing|elastic|powder|spring|tensile|viscous|wall|water|zombie)|phy_particle_group_flag_(?:rigid|solid)|pr_(?:linelist|linestrip|pointlist|trianglefan|trianglelist|trianglestrip)|ps_(?:distr|shape)_(?:diamond|ellipse|gaussian|invgaussian|line|linear|rectangle)|pt_shape_(?:circle|cloud|disk|explosion|flare|line|pixel|ring|smoke|snow|spark|sphere|square|star)|ty_(?:real|string)|gp_(?:face\d|axislh|axislv|axisrh|axisrv|padd|padl|padr|padu|select|shoulderl|shoulderlb|shoulderr|shoulderrb|start|stickl|stickr)|lb_disp_(?:none|numeric|time_ms|time_sec)|lb_sort_(?:ascending|descending|none)|ov_(?:achievements|community|friends|gamegroup|players|settings)|ugc_(?:filetype_(?:community|microtrans)|list_(?:Favorited|Followed|Published|Subscribed|UsedOrPlayed|VotedDown|VotedOn|VotedUp|WillVoteLater)|match_(?:AllGuides|Artwork|Collections|ControllerBindings|IntegratedGuides|Items|Items_Mtx|Items_ReadyToUse|Screenshots|UsableInGame|Videos|WebGuides)|query_(?:AcceptedForGameRankedByAcceptanceDate|CreatedByFriendsRankedByPublicationDate|FavoritedByFriendsRankedByPublicationDate|NotYetRated)|query_RankedBy(?:NumTimesReported|PublicationDate|TextSearch|TotalVotesAsc|Trend|Vote|VotesUp)|result_success|sortorder_CreationOrder(?:Asc|Desc)|sortorder_(?:ForModeration|LastUpdatedDesc|SubscriptionDateDesc|TitleAsc|VoteScoreDesc)|visibility_(?:friends_only|private|public))|vertex_usage_(?:binormal|blendindices|blendweight|color|colour|depth|fog|normal|position|psize|sample|tangent|texcoord|textcoord)|vertex_type_(?:float\d|color|colour|ubyte4)|input_type|layerelementtype_(?:background|instance|oldtilemap|particlesystem|sprite|tile|tilemap|undefined)|se_(?:chorus|compressor|echo|equalizer|flanger|gargle|none|reverb)|text_type|tile_(?:flip|index_mask|mirror|rotate)|(?:obj|rm|scr|spr)\w+)\b/,variable:/\b(?:alarm|application_surface|async_load|background_(?:alpha|blend|color|colour|foreground|height|hspeed|htiled|index|showcolor|showcolour|visible|vspeed|vtiled|width|x|xscale|y|yscale)|bbox_(?:bottom|left|right|top)|browser_(?:height|width)|caption_(?:health|lives|score)|current_(?:day|hour|minute|month|second|time|weekday|year)|cursor_sprite|debug_mode|delta_time|direction|display_aa|error_(?:last|occurred)|event_(?:action|number|object|type)|fps|fps_real|friction|game_(?:display|project|save)_(?:id|name)|gamemaker_(?:pro|registered|version)|gravity|gravity_direction|(?:h|v)speed|health|iap_data|id|image_(?:alpha|angle|blend|depth|index|number|speed|xscale|yscale)|instance_(?:count|id)|keyboard_(?:key|lastchar|lastkey|string)|layer|lives|mask_index|mouse_(?:button|lastbutton|x|y)|object_index|os_(?:browser|device|type|version)|path_(?:endaction|index|orientation|position|positionprevious|scale|speed)|persistent|phy_(?:rotation|(?:col_normal|collision|com|linear_velocity|position|speed)_(?:x|y)|angular_(?:damping|velocity)|position_(?:x|y)previous|speed|linear_damping|bullet|fixed_rotation|active|mass|inertia|dynamic|kinematic|sleeping|collision_points)|pointer_(?:invalid|null)|room|room_(?:caption|first|height|last|persistent|speed|width)|score|secure_mode|show_(?:health|lives|score)|solid|speed|sprite_(?:height|index|width|xoffset|yoffset)|temp_directory|timeline_(?:index|loop|position|running|speed)|transition_(?:color|kind|steps)|undefined|view_(?:angle|current|enabled|(?:h|v)(?:border|speed)|(?:h|w|x|y)port|(?:h|w|x|y)view|object|surface_id|visible)|visible|webgl_enabled|working_directory|(?:x|y)(?:previous|start)|x|y|argument(?:_relitive|_count|\d)|argument|global|local|other|self)\b/})}return r2}var a2,xz;function mOe(){if(xz)return a2;xz=1,a2=e,e.displayName="gn",e.aliases=["gni"];function e(t){t.languages.gn={comment:{pattern:/#.*/,greedy:!0},"string-literal":{pattern:/(^|[^\\"])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[\s\S]*?\}|[a-zA-Z_]\w*|0x[a-fA-F0-9]{2})/,lookbehind:!0,inside:{number:/^\$0x[\s\S]{2}$/,variable:/^\$\w+$/,"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},keyword:/\b(?:else|if)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/\b(?:assert|defined|foreach|import|pool|print|template|tool|toolchain)(?=\s*\()/i,alias:"keyword"},function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:current_cpu|current_os|current_toolchain|default_toolchain|host_cpu|host_os|root_build_dir|root_gen_dir|root_out_dir|target_cpu|target_gen_dir|target_os|target_out_dir)\b/,number:/-?\b\d+\b/,operator:/[-+!=<>]=?|&&|\|\|/,punctuation:/[(){}[\],.]/},t.languages.gn["string-literal"].inside.interpolation.inside.expression.inside=t.languages.gn,t.languages.gni=t.languages.gn}return a2}var i2,wz;function fOe(){if(wz)return i2;wz=1,i2=e,e.displayName="goModule",e.aliases=[];function e(t){t.languages["go-mod"]=t.languages["go-module"]={comment:{pattern:/\/\/.*/,greedy:!0},version:{pattern:/(^|[\s()[\],])v\d+\.\d+\.\d+(?:[+-][-+.\w]*)?(?![^\s()[\],])/,lookbehind:!0,alias:"number"},"go-version":{pattern:/((?:^|\s)go\s+)\d+(?:\.\d+){1,2}/,lookbehind:!0,alias:"number"},keyword:{pattern:/^([ \t]*)(?:exclude|go|module|replace|require|retract)\b/m,lookbehind:!0},operator:/=>/,punctuation:/[()[\],]/}}return i2}var o2,Nz;function gOe(){if(Nz)return o2;Nz=1,o2=e,e.displayName="go",e.aliases=[];function e(t){t.languages.go=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),t.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete t.languages.go["class-name"]}return o2}var s2,Rz;function hOe(){if(Rz)return s2;Rz=1,s2=e,e.displayName="graphql",e.aliases=[];function e(t){t.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:t.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},t.hooks.add("after-tokenize",function(r){if(r.language!=="graphql")return;var i=r.tokens.filter(function(D){return typeof D!="string"&&D.type!=="comment"&&D.type!=="scalar"}),d=0;function g(D){return i[d+D]}function v(D,j){j=j||0;for(var L=0;L<D.length;L++){var U=g(L+j);if(!U||U.type!==D[L])return!1}return!0}function S(D,j){for(var L=1,U=d;U<i.length;U++){var $=i[U],F=$.content;if($.type==="punctuation"&&typeof F=="string"){if(D.test(F))L++;else if(j.test(F)&&(L--,L===0))return U}}return-1}function I(D,j){var L=D.alias;L?Array.isArray(L)||(D.alias=L=[L]):D.alias=L=[],L.push(j)}for(;d<i.length;){var T=i[d++];if(T.type==="keyword"&&T.content==="mutation"){var _=[];if(v(["definition-mutation","punctuation"])&&g(1).content==="("){d+=2;var N=S(/^\($/,/^\)$/);if(N===-1)continue;for(;d<N;d++){var A=g(0);A.type==="variable"&&(I(A,"variable-input"),_.push(A.content))}d=N+1}if(v(["punctuation","property-query"])&&g(0).content==="{"&&(d++,I(g(0),"property-mutation"),_.length>0)){var w=S(/^\{$/,/^\}$/);if(w===-1)continue;for(var O=d;O<w;O++){var R=i[O];R.type==="variable"&&_.indexOf(R.content)>=0&&I(R,"variable-input")}}}}})}return s2}var l2,Az;function vOe(){if(Az)return l2;Az=1,l2=e,e.displayName="groovy",e.aliases=[];function e(t){t.languages.groovy=t.languages.extend("clike",{string:[{pattern:/("""|''')(?:[^\\]|\\[\s\S])*?\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0},{pattern:/(["'/])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0}],keyword:/\b(?:abstract|as|assert|boolean|break|byte|case|catch|char|class|const|continue|def|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|in|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),t.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment"}}),t.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),t.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),t.hooks.add("wrap",function(n){if(n.language==="groovy"&&n.type==="string"){var r=n.content.value[0];if(r!="'"){var i=/([^\\])(?:\$(?:\{.*?\}|[\w.]+))/;r==="$"&&(i=/([^\$])(?:\$(?:\{.*?\}|[\w.]+))/),n.content.value=n.content.value.replace(/&lt;/g,"<").replace(/&amp;/g,"&"),n.content=t.highlight(n.content.value,{expression:{pattern:i,lookbehind:!0,inside:t.languages.groovy}}),n.classes.push(r==="/"?"regex":"gstring")}}})}return l2}var c2,Oz;function yOe(){if(Oz)return c2;Oz=1;var e=z_();c2=t,t.displayName="haml",t.aliases=[];function t(n){n.register(e),function(r){r.languages.haml={"multiline-comment":{pattern:/((?:^|\r?\n|\r)([\t ]*))(?:\/|-#).*(?:(?:\r?\n|\r)\2[\t ].+)*/,lookbehind:!0,alias:"comment"},"multiline-code":[{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*,[\t ]*(?:(?:\r?\n|\r)\2[\t ].*,[\t ]*)*(?:(?:\r?\n|\r)\2[\t ].+)/,lookbehind:!0,inside:r.languages.ruby},{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*\|[\t ]*(?:(?:\r?\n|\r)\2[\t ].*\|[\t ]*)*/,lookbehind:!0,inside:r.languages.ruby}],filter:{pattern:/((?:^|\r?\n|\r)([\t ]*)):[\w-]+(?:(?:\r?\n|\r)(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"}}},markup:{pattern:/((?:^|\r?\n|\r)[\t ]*)<.+/,lookbehind:!0,inside:r.languages.markup},doctype:{pattern:/((?:^|\r?\n|\r)[\t ]*)!!!(?: .+)?/,lookbehind:!0},tag:{pattern:/((?:^|\r?\n|\r)[\t ]*)[%.#][\w\-#.]*[\w\-](?:\([^)]+\)|\{(?:\{[^}]+\}|[^{}])+\}|\[[^\]]+\])*[\/<>]*/,lookbehind:!0,inside:{attributes:[{pattern:/(^|[^#])\{(?:\{[^}]+\}|[^{}])+\}/,lookbehind:!0,inside:r.languages.ruby},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*)(?:"(?:\\.|[^\\"\r\n])*"|[^)\s]+)/,lookbehind:!0},"attr-name":/[\w:-]+(?=\s*!?=|\s*[,)])/,punctuation:/[=(),]/}},{pattern:/\[[^\]]+\]/,inside:r.languages.ruby}],punctuation:/[<>]/}},code:{pattern:/((?:^|\r?\n|\r)[\t ]*(?:[~-]|[&!]?=)).+/,lookbehind:!0,inside:r.languages.ruby},interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},ruby:{pattern:/[\s\S]+/,inside:r.languages.ruby}}},punctuation:{pattern:/((?:^|\r?\n|\r)[\t ]*)[~=\-&!]+/,lookbehind:!0}};for(var i="((?:^|\\r?\\n|\\r)([\\t ]*)):{{filter_name}}(?:(?:\\r?\\n|\\r)(?:\\2[\\t ].+|\\s*?(?=\\r?\\n|\\r)))+",d=["css",{filter:"coffee",language:"coffeescript"},"erb","javascript","less","markdown","ruby","scss","textile"],g={},v=0,S=d.length;v<S;v++){var I=d[v];I=typeof I=="string"?{filter:I,language:I}:I,r.languages[I.language]&&(g["filter-"+I.filter]={pattern:RegExp(i.replace("{{filter_name}}",function(){return I.filter})),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"},text:{pattern:/[\s\S]+/,alias:[I.language,"language-"+I.language],inside:r.languages[I.language]}}})}r.languages.insertBefore("haml","filter",g)}(n)}return c2}var u2,kz;function bOe(){if(kz)return u2;kz=1;var e=Js();u2=t,t.displayName="handlebars",t.aliases=["hbs"];function t(n){n.register(e),function(r){r.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:false|true)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},r.hooks.add("before-tokenize",function(i){var d=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;r.languages["markup-templating"].buildPlaceholders(i,"handlebars",d)}),r.hooks.add("after-tokenize",function(i){r.languages["markup-templating"].tokenizePlaceholders(i,"handlebars")}),r.languages.hbs=r.languages.handlebars}(n)}return u2}var d2,Lz;function Lj(){if(Lz)return d2;Lz=1,d2=e,e.displayName="haskell",e.aliases=["hs"];function e(t){t.languages.haskell={comment:{pattern:/(^|[^-!#$%*+=?&@|~.:<>^\\\/])(?:--(?:(?=.)[^-!#$%*+=?&@|~.:<>^\\\/].*|$)|\{-[\s\S]*?-\})/m,lookbehind:!0},char:{pattern:/'(?:[^\\']|\\(?:[abfnrtv\\"'&]|\^[A-Z@[\]^_]|ACK|BEL|BS|CAN|CR|DC1|DC2|DC3|DC4|DEL|DLE|EM|ENQ|EOT|ESC|ETB|ETX|FF|FS|GS|HT|LF|NAK|NUL|RS|SI|SO|SOH|SP|STX|SUB|SYN|US|VT|\d+|o[0-7]+|x[0-9a-fA-F]+))'/,alias:"string"},string:{pattern:/"(?:[^\\"]|\\(?:\S|\s+\\))*"/,greedy:!0},keyword:/\b(?:case|class|data|deriving|do|else|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b/,"import-statement":{pattern:/(^[\t ]*)import\s+(?:qualified\s+)?(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*(?:\s+as\s+(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import|qualified)\b/,punctuation:/\./}},builtin:/\b(?:abs|acos|acosh|all|and|any|appendFile|approxRational|asTypeOf|asin|asinh|atan|atan2|atanh|basicIORun|break|catch|ceiling|chr|compare|concat|concatMap|const|cos|cosh|curry|cycle|decodeFloat|denominator|digitToInt|div|divMod|drop|dropWhile|either|elem|encodeFloat|enumFrom|enumFromThen|enumFromThenTo|enumFromTo|error|even|exp|exponent|fail|filter|flip|floatDigits|floatRadix|floatRange|floor|fmap|foldl|foldl1|foldr|foldr1|fromDouble|fromEnum|fromInt|fromInteger|fromIntegral|fromRational|fst|gcd|getChar|getContents|getLine|group|head|id|inRange|index|init|intToDigit|interact|ioError|isAlpha|isAlphaNum|isAscii|isControl|isDenormalized|isDigit|isHexDigit|isIEEE|isInfinite|isLower|isNaN|isNegativeZero|isOctDigit|isPrint|isSpace|isUpper|iterate|last|lcm|length|lex|lexDigits|lexLitChar|lines|log|logBase|lookup|map|mapM|mapM_|max|maxBound|maximum|maybe|min|minBound|minimum|mod|negate|not|notElem|null|numerator|odd|or|ord|otherwise|pack|pi|pred|primExitWith|print|product|properFraction|putChar|putStr|putStrLn|quot|quotRem|range|rangeSize|read|readDec|readFile|readFloat|readHex|readIO|readInt|readList|readLitChar|readLn|readOct|readParen|readSigned|reads|readsPrec|realToFrac|recip|rem|repeat|replicate|return|reverse|round|scaleFloat|scanl|scanl1|scanr|scanr1|seq|sequence|sequence_|show|showChar|showInt|showList|showLitChar|showParen|showSigned|showString|shows|showsPrec|significand|signum|sin|sinh|snd|sort|span|splitAt|sqrt|subtract|succ|sum|tail|take|takeWhile|tan|tanh|threadToIOResult|toEnum|toInt|toInteger|toLower|toRational|toUpper|truncate|uncurry|undefined|unlines|until|unwords|unzip|unzip3|userError|words|writeFile|zip|zip3|zipWith|zipWith3)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0o[0-7]+|0x[0-9a-f]+)\b/i,operator:[{pattern:/`(?:[A-Z][\w']*\.)*[_a-z][\w']*`/,greedy:!0},{pattern:/(\s)\.(?=\s)/,lookbehind:!0},/[-!#$%*+=?&@|~:<>^\\\/][-!#$%*+=?&@|~.:<>^\\\/]*|\.[-!#$%*+=?&@|~.:<>^\\\/]+/],hvariable:{pattern:/\b(?:[A-Z][\w']*\.)*[_a-z][\w']*/,inside:{punctuation:/\./}},constant:{pattern:/\b(?:[A-Z][\w']*\.)*[A-Z][\w']*/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:]/},t.languages.hs=t.languages.haskell}return d2}var p2,Pz;function SOe(){if(Pz)return p2;Pz=1,p2=e,e.displayName="haxe",e.aliases=[];function e(t){t.languages.haxe=t.languages.extend("clike",{string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},"class-name":[{pattern:/(\b(?:abstract|class|enum|extends|implements|interface|new|typedef)\s+)[A-Z_]\w*/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\bthis\b|\b(?:abstract|as|break|case|cast|catch|class|continue|default|do|dynamic|else|enum|extends|extern|final|for|from|function|if|implements|import|in|inline|interface|macro|new|null|operator|overload|override|package|private|public|return|static|super|switch|throw|to|try|typedef|untyped|using|var|while)(?!\.)\b/,function:{pattern:/\b[a-z_]\w*(?=\s*(?:<[^<>]*>\s*)?\()/i,greedy:!0},operator:/\.{3}|\+\+|--|&&|\|\||->|=>|(?:<<?|>{1,3}|[-+*/%!=&|^])=?|[?:~]/}),t.languages.insertBefore("haxe","string",{"string-interpolation":{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{interpolation:{pattern:/(^|[^\\])\$(?:\w+|\{[^{}]+\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:t.languages.haxe}}},string:/[\s\S]+/}}}),t.languages.insertBefore("haxe","class-name",{regex:{pattern:/~\/(?:[^\/\\\r\n]|\\.)+\/[a-z]*/,greedy:!0,inside:{"regex-flags":/\b[a-z]+$/,"regex-source":{pattern:/^(~\/)[\s\S]+(?=\/$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^~\/|\/$/}}}),t.languages.insertBefore("haxe","keyword",{preprocessor:{pattern:/#(?:else|elseif|end|if)\b.*/,alias:"property"},metadata:{pattern:/@:?[\w.]+/,alias:"symbol"},reification:{pattern:/\$(?:\w+|(?=\{))/,alias:"important"}})}return p2}var m2,Dz;function IOe(){if(Dz)return m2;Dz=1,m2=e,e.displayName="hcl",e.aliases=[];function e(t){t.languages.hcl={comment:/(?:\/\/|#).*|\/\*[\s\S]*?(?:\*\/|$)/,heredoc:{pattern:/<<-?(\w+\b)[\s\S]*?^[ \t]*\1/m,greedy:!0,alias:"string"},keyword:[{pattern:/(?:data|resource)\s+(?:"(?:\\[\s\S]|[^\\"])*")(?=\s+"[\w-]+"\s+\{)/i,inside:{type:{pattern:/(resource|data|\s+)(?:"(?:\\[\s\S]|[^\\"])*")/i,lookbehind:!0,alias:"variable"}}},{pattern:/(?:backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+(?=\{)/i,inside:{type:{pattern:/(backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+/i,lookbehind:!0,alias:"variable"}}},/[\w-]+(?=\s+\{)/],property:[/[-\w\.]+(?=\s*=(?!=))/,/"(?:\\[\s\S]|[^\\"])+"(?=\s*[:=])/],string:{pattern:/"(?:[^\\$"]|\\[\s\S]|\$(?:(?=")|\$+(?!\$)|[^"${])|\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\})*"/,greedy:!0,inside:{interpolation:{pattern:/(^|[^$])\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\}/,lookbehind:!0,inside:{type:{pattern:/(\b(?:count|data|local|module|path|self|terraform|var)\b\.)[\w\*]+/i,lookbehind:!0,alias:"variable"},keyword:/\b(?:count|data|local|module|path|self|terraform|var)\b/i,function:/\w+(?=\()/,string:{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[!\$#%&'()*+,.\/;<=>@\[\\\]^`{|}~?:]/}}}},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,boolean:/\b(?:false|true)\b/i,punctuation:/[=\[\]{}]/}}return m2}var f2,jz;function EOe(){if(jz)return f2;jz=1;var e=Eg();f2=t,t.displayName="hlsl",t.aliases=[];function t(n){n.register(e),n.languages.hlsl=n.languages.extend("c",{"class-name":[n.languages.c["class-name"],/\b(?:AppendStructuredBuffer|BlendState|Buffer|ByteAddressBuffer|CompileShader|ComputeShader|ConsumeStructuredBuffer|DepthStencilState|DepthStencilView|DomainShader|GeometryShader|Hullshader|InputPatch|LineStream|OutputPatch|PixelShader|PointStream|RWBuffer|RWByteAddressBuffer|RWStructuredBuffer|RWTexture(?:1D|1DArray|2D|2DArray|3D)|RasterizerState|RenderTargetView|SamplerComparisonState|SamplerState|StructuredBuffer|Texture(?:1D|1DArray|2D|2DArray|2DMS|2DMSArray|3D|Cube|CubeArray)|TriangleStream|VertexShader)\b/],keyword:[/\b(?:asm|asm_fragment|auto|break|case|catch|cbuffer|centroid|char|class|column_major|compile|compile_fragment|const|const_cast|continue|default|delete|discard|do|dynamic_cast|else|enum|explicit|export|extern|for|friend|fxgroup|goto|groupshared|if|in|inline|inout|interface|line|lineadj|linear|long|matrix|mutable|namespace|new|nointerpolation|noperspective|operator|out|packoffset|pass|pixelfragment|point|precise|private|protected|public|register|reinterpret_cast|return|row_major|sample|sampler|shared|short|signed|sizeof|snorm|stateblock|stateblock_state|static|static_cast|string|struct|switch|tbuffer|technique|technique10|technique11|template|texture|this|throw|triangle|triangleadj|try|typedef|typename|uniform|union|unorm|unsigned|using|vector|vertexfragment|virtual|void|volatile|while)\b/,/\b(?:bool|double|dword|float|half|int|min(?:10float|12int|16(?:float|int|uint))|uint)(?:[1-4](?:x[1-4])?)?\b/],number:/(?:(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?|\b0x[\da-fA-F]+)[fFhHlLuU]?\b/,boolean:/\b(?:false|true)\b/})}return f2}var g2,Vz;function COe(){if(Vz)return g2;Vz=1,g2=e,e.displayName="hoon",e.aliases=[];function e(t){t.languages.hoon={comment:{pattern:/::.*/,greedy:!0},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},constant:/%(?:\.[ny]|[\w-]+)/,"class-name":/@(?:[a-z0-9-]*[a-z0-9])?|\*/i,function:/(?:\+[-+] {2})?(?:[a-z](?:[a-z0-9-]*[a-z0-9])?)/,keyword:/\.[\^\+\*=\?]|![><:\.=\?!]|=[>|:,\.\-\^<+;/~\*\?]|\?[>|:\.\-\^<\+&~=@!]|\|[\$_%:\.\-\^~\*=@\?]|\+[|\$\+\*]|:[_\-\^\+~\*]|%[_:\.\-\^\+~\*=]|\^[|:\.\-\+&~\*=\?]|\$[|_%:<>\-\^&~@=\?]|;[:<\+;\/~\*=]|~[>|\$_%<\+\/&=\?!]|--|==/}}return g2}var h2,$z;function TOe(){if($z)return h2;$z=1,h2=e,e.displayName="hpkp",e.aliases=[];function e(t){t.languages.hpkp={directive:{pattern:/\b(?:includeSubDomains|max-age|pin-sha256|preload|report-to|report-uri|strict)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}return h2}var v2,Uz;function MOe(){if(Uz)return v2;Uz=1,v2=e,e.displayName="hsts",e.aliases=[];function e(t){t.languages.hsts={directive:{pattern:/\b(?:includeSubDomains|max-age|preload)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}return v2}var y2,Bz;function _Oe(){if(Bz)return y2;Bz=1,y2=e,e.displayName="http",e.aliases=[];function e(t){(function(n){function r(_){return RegExp("(^(?:"+_+"):[ 	]*(?![ 	]))[^]+","i")}n.languages.http={"request-line":{pattern:/^(?:CONNECT|DELETE|GET|HEAD|OPTIONS|PATCH|POST|PRI|PUT|SEARCH|TRACE)\s(?:https?:\/\/|\/)\S*\sHTTP\/[\d.]+/m,inside:{method:{pattern:/^[A-Z]+\b/,alias:"property"},"request-target":{pattern:/^(\s)(?:https?:\/\/|\/)\S*(?=\s)/,lookbehind:!0,alias:"url",inside:n.languages.uri},"http-version":{pattern:/^(\s)HTTP\/[\d.]+/,lookbehind:!0,alias:"property"}}},"response-status":{pattern:/^HTTP\/[\d.]+ \d+ .+/m,inside:{"http-version":{pattern:/^HTTP\/[\d.]+/,alias:"property"},"status-code":{pattern:/^(\s)\d+(?=\s)/,lookbehind:!0,alias:"number"},"reason-phrase":{pattern:/^(\s).+/,lookbehind:!0,alias:"string"}}},header:{pattern:/^[\w-]+:.+(?:(?:\r\n?|\n)[ \t].+)*/m,inside:{"header-value":[{pattern:r(/Content-Security-Policy/.source),lookbehind:!0,alias:["csp","languages-csp"],inside:n.languages.csp},{pattern:r(/Public-Key-Pins(?:-Report-Only)?/.source),lookbehind:!0,alias:["hpkp","languages-hpkp"],inside:n.languages.hpkp},{pattern:r(/Strict-Transport-Security/.source),lookbehind:!0,alias:["hsts","languages-hsts"],inside:n.languages.hsts},{pattern:r(/[^:]+/.source),lookbehind:!0}],"header-name":{pattern:/^[^:]+/,alias:"keyword"},punctuation:/^:/}}};var i=n.languages,d={"application/javascript":i.javascript,"application/json":i.json||i.javascript,"application/xml":i.xml,"text/xml":i.xml,"text/html":i.html,"text/css":i.css,"text/plain":i.plain},g={"application/json":!0,"application/xml":!0};function v(_){var N=_.replace(/^[a-z]+\//,""),A="\\w+/(?:[\\w.-]+\\+)+"+N+"(?![+\\w.-])";return"(?:"+_+"|"+A+")"}var S;for(var I in d)if(d[I]){S=S||{};var T=g[I]?v(I):I;S[I.replace(/\//g,"-")]={pattern:RegExp("("+/content-type:\s*/.source+T+/(?:(?:\r\n?|\n)[\w-].*)*(?:\r(?:\n|(?!\n))|\n)/.source+")"+/[^ \t\w-][\s\S]*/.source,"i"),lookbehind:!0,inside:d[I]}}S&&n.languages.insertBefore("http","header",S)})(t)}return y2}var b2,Fz;function xOe(){if(Fz)return b2;Fz=1,b2=e,e.displayName="ichigojam",e.aliases=[];function e(t){t.languages.ichigojam={comment:/(?:\B'|REM)(?:[^\n\r]*)/i,string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/\B#[0-9A-F]+|\B`[01]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:BEEP|BPS|CASE|CLEAR|CLK|CLO|CLP|CLS|CLT|CLV|CONT|COPY|ELSE|END|FILE|FILES|FOR|GOSUB|GOTO|GSB|IF|INPUT|KBD|LED|LET|LIST|LOAD|LOCATE|LRUN|NEW|NEXT|OUT|PLAY|POKE|PRINT|PWM|REM|RENUM|RESET|RETURN|RIGHT|RTN|RUN|SAVE|SCROLL|SLEEP|SRND|STEP|STOP|SUB|TEMPO|THEN|TO|UART|VIDEO|WAIT)(?:\$|\b)/i,function:/\b(?:ABS|ANA|ASC|BIN|BTN|DEC|END|FREE|HELP|HEX|I2CR|I2CW|IN|INKEY|LEN|LINE|PEEK|RND|SCR|SOUND|STR|TICK|USR|VER|VPEEK|ZER)(?:\$|\b)/i,label:/(?:\B@\S+)/,operator:/<[=>]?|>=?|\|\||&&|[+\-*\/=|&^~!]|\b(?:AND|NOT|OR)\b/i,punctuation:/[\[,;:()\]]/}}return b2}var S2,qz;function wOe(){if(qz)return S2;qz=1,S2=e,e.displayName="icon",e.aliases=[];function e(t){t.languages.icon={comment:/#.*/,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n_]|\\.|_(?!\1)(?:\r\n|[\s\S]))*\1/,greedy:!0},number:/\b(?:\d+r[a-z\d]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b|\.\d+\b/i,"builtin-keyword":{pattern:/&(?:allocated|ascii|clock|collections|cset|current|date|dateline|digits|dump|e|error(?:number|text|value)?|errout|fail|features|file|host|input|lcase|letters|level|line|main|null|output|phi|pi|pos|progname|random|regions|source|storage|subject|time|trace|ucase|version)\b/,alias:"variable"},directive:{pattern:/\$\w+/,alias:"builtin"},keyword:/\b(?:break|by|case|create|default|do|else|end|every|fail|global|if|initial|invocable|link|local|next|not|of|procedure|record|repeat|return|static|suspend|then|to|until|while)\b/,function:/\b(?!\d)\w+(?=\s*[({]|\s*!\s*\[)/,operator:/[+-]:(?!=)|(?:[\/?@^%&]|\+\+?|--?|==?=?|~==?=?|\*\*?|\|\|\|?|<(?:->?|<?=?)|>>?=?)(?::=)?|:(?:=:?)?|[!.\\|~]/,punctuation:/[\[\](){},;]/}}return S2}var I2,zz;function NOe(){if(zz)return I2;zz=1,I2=e,e.displayName="icuMessageFormat",e.aliases=[];function e(t){(function(n){function r(I,T){return T<=0?/[]/.source:I.replace(/<SELF>/g,function(){return r(I,T-1)})}var i=/'[{}:=,](?:[^']|'')*'(?!')/,d={pattern:/''/,greedy:!0,alias:"operator"},g={pattern:i,greedy:!0,inside:{escape:d}},v=r(/\{(?:[^{}']|'(?![{},'])|''|<STR>|<SELF>)*\}/.source.replace(/<STR>/g,function(){return i.source}),8),S={pattern:RegExp(v),inside:{message:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:null},"message-delimiter":{pattern:/./,alias:"punctuation"}}};n.languages["icu-message-format"]={argument:{pattern:RegExp(v),greedy:!0,inside:{content:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:{"argument-name":{pattern:/^(\s*)[^{}:=,\s]+/,lookbehind:!0},"choice-style":{pattern:/^(\s*,\s*choice\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{punctuation:/\|/,range:{pattern:/^(\s*)[+-]?(?:\d+(?:\.\d*)?|\u221e)\s*[<#\u2264]/,lookbehind:!0,inside:{operator:/[<#\u2264]/,number:/\S+/}},rest:null}},"plural-style":{pattern:/^(\s*,\s*(?:plural|selectordinal)\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{offset:/^offset:\s*\d+/,"nested-message":S,selector:{pattern:/=\d+|[^{}:=,\s]+/,inside:{keyword:/^(?:few|many|one|other|two|zero)$/}}}},"select-style":{pattern:/^(\s*,\s*select\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{"nested-message":S,selector:{pattern:/[^{}:=,\s]+/,inside:{keyword:/^other$/}}}},keyword:/\b(?:choice|plural|select|selectordinal)\b/,"arg-type":{pattern:/\b(?:date|duration|number|ordinal|spellout|time)\b/,alias:"keyword"},"arg-skeleton":{pattern:/(,\s*)::[^{}:=,\s]+/,lookbehind:!0},"arg-style":{pattern:/(,\s*)(?:currency|full|integer|long|medium|percent|short)(?=\s*$)/,lookbehind:!0},"arg-style-text":{pattern:RegExp(/(^\s*,\s*(?=\S))/.source+r(/(?:[^{}']|'[^']*'|\{(?:<SELF>)?\})+/.source,8)+"$"),lookbehind:!0,alias:"string"},punctuation:/,/}},"argument-delimiter":{pattern:/./,alias:"operator"}}},escape:d,string:g},S.inside.message.inside=n.languages["icu-message-format"],n.languages["icu-message-format"].argument.inside.content.inside["choice-style"].inside.rest=n.languages["icu-message-format"]})(t)}return I2}var E2,Hz;function ROe(){if(Hz)return E2;Hz=1;var e=Lj();E2=t,t.displayName="idris",t.aliases=["idr"];function t(n){n.register(e),n.languages.idris=n.languages.extend("haskell",{comment:{pattern:/(?:(?:--|\|\|\|).*$|\{-[\s\S]*?-\})/m},keyword:/\b(?:Type|case|class|codata|constructor|corecord|data|do|dsl|else|export|if|implementation|implicit|import|impossible|in|infix|infixl|infixr|instance|interface|let|module|mutual|namespace|of|parameters|partial|postulate|private|proof|public|quoteGoal|record|rewrite|syntax|then|total|using|where|with)\b/,builtin:void 0}),n.languages.insertBefore("idris","keyword",{"import-statement":{pattern:/(^\s*import\s+)(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*/m,lookbehind:!0,inside:{punctuation:/\./}}}),n.languages.idr=n.languages.idris}return E2}var C2,Gz;function AOe(){if(Gz)return C2;Gz=1,C2=e,e.displayName="iecst",e.aliases=[];function e(t){t.languages.iecst={comment:[{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\(\*[\s\S]*?(?:\*\)|$)|\{[\s\S]*?(?:\}|$))/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:[/\b(?:END_)?(?:PROGRAM|CONFIGURATION|INTERFACE|FUNCTION_BLOCK|FUNCTION|ACTION|TRANSITION|TYPE|STRUCT|(?:INITIAL_)?STEP|NAMESPACE|LIBRARY|CHANNEL|FOLDER|RESOURCE|VAR_(?:ACCESS|CONFIG|EXTERNAL|GLOBAL|INPUT|IN_OUT|OUTPUT|TEMP)|VAR|METHOD|PROPERTY)\b/i,/\b(?:AT|BY|(?:END_)?(?:CASE|FOR|IF|REPEAT|WHILE)|CONSTANT|CONTINUE|DO|ELSE|ELSIF|EXIT|EXTENDS|FROM|GET|GOTO|IMPLEMENTS|JMP|NON_RETAIN|OF|PRIVATE|PROTECTED|PUBLIC|RETAIN|RETURN|SET|TASK|THEN|TO|UNTIL|USING|WITH|__CATCH|__ENDTRY|__FINALLY|__TRY)\b/],"class-name":/\b(?:ANY|ARRAY|BOOL|BYTE|U?(?:D|L|S)?INT|(?:D|L)?WORD|DATE(?:_AND_TIME)?|DT|L?REAL|POINTER|STRING|TIME(?:_OF_DAY)?|TOD)\b/,address:{pattern:/%[IQM][XBWDL][\d.]*|%[IQ][\d.]*/,alias:"symbol"},number:/\b(?:16#[\da-f]+|2#[01_]+|0x[\da-f]+)\b|\b(?:D|DT|T|TOD)#[\d_shmd:]*|\b[A-Z]*#[\d.,_]*|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/,operator:/S?R?:?=>?|&&?|\*\*?|<[=>]?|>=?|[-:^/+#]|\b(?:AND|EQ|EXPT|GE|GT|LE|LT|MOD|NE|NOT|OR|XOR)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,punctuation:/[()[\].,;]/}}return C2}var T2,Kz;function OOe(){if(Kz)return T2;Kz=1,T2=e,e.displayName="ignore",e.aliases=["gitignore","hgignore","npmignore"];function e(t){(function(n){n.languages.ignore={comment:/^#.*/m,entry:{pattern:/\S(?:.*(?:(?:\\ )|\S))?/,alias:"string",inside:{operator:/^!|\*\*?|\?/,regex:{pattern:/(^|[^\\])\[[^\[\]]*\]/,lookbehind:!0},punctuation:/\//}}},n.languages.gitignore=n.languages.ignore,n.languages.hgignore=n.languages.ignore,n.languages.npmignore=n.languages.ignore})(t)}return T2}var M2,Wz;function kOe(){if(Wz)return M2;Wz=1,M2=e,e.displayName="inform7",e.aliases=[];function e(t){t.languages.inform7={string:{pattern:/"[^"]*"/,inside:{substitution:{pattern:/\[[^\[\]]+\]/,inside:{delimiter:{pattern:/\[|\]/,alias:"punctuation"}}}}},comment:{pattern:/\[[^\[\]]+\]/,greedy:!0},title:{pattern:/^[ \t]*(?:book|chapter|part(?! of)|section|table|volume)\b.+/im,alias:"important"},number:{pattern:/(^|[^-])(?:\b\d+(?:\.\d+)?(?:\^\d+)?(?:(?!\d)\w+)?|\b(?:eight|eleven|five|four|nine|one|seven|six|ten|three|twelve|two))\b(?!-)/i,lookbehind:!0},verb:{pattern:/(^|[^-])\b(?:answering|applying to|are|asking|attacking|be(?:ing)?|burning|buying|called|carries|carry(?! out)|carrying|climbing|closing|conceal(?:ing|s)?|consulting|contain(?:ing|s)?|cutting|drinking|dropping|eating|enclos(?:es?|ing)|entering|examining|exiting|getting|giving|going|ha(?:s|ve|ving)|hold(?:ing|s)?|impl(?:ies|y)|incorporat(?:es?|ing)|inserting|is|jumping|kissing|listening|locking|looking|mean(?:ing|s)?|opening|provid(?:es?|ing)|pulling|pushing|putting|relat(?:es?|ing)|removing|searching|see(?:ing|s)?|setting|showing|singing|sleeping|smelling|squeezing|support(?:ing|s)?|swearing|switching|taking|tasting|telling|thinking|throwing|touching|turning|tying|unlock(?:ing|s)?|var(?:ies|y|ying)|waiting|waking|waving|wear(?:ing|s)?)\b(?!-)/i,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^-])\b(?:after|before|carry out|check|continue the action|definition(?= *:)|do nothing|else|end (?:if|the story|unless)|every turn|if|include|instead(?: of)?|let|move|no|now|otherwise|repeat|report|resume the story|rule for|running through|say(?:ing)?|stop the action|test|try(?:ing)?|understand|unless|use|when|while|yes)\b(?!-)/i,lookbehind:!0},property:{pattern:/(^|[^-])\b(?:adjacent(?! to)|carried|closed|concealed|contained|dark|described|edible|empty|enclosed|enterable|even|female|fixed in place|full|handled|held|improper-named|incorporated|inedible|invisible|lighted|lit|lock(?:able|ed)|male|marked for listing|mentioned|negative|neuter|non-(?:empty|full|recurring)|odd|opaque|open(?:able)?|plural-named|portable|positive|privately-named|proper-named|provided|publically-named|pushable between rooms|recurring|related|rubbing|scenery|seen|singular-named|supported|swinging|switch(?:able|ed(?: off| on)?)|touch(?:able|ed)|transparent|unconcealed|undescribed|unlit|unlocked|unmarked for listing|unmentioned|unopenable|untouchable|unvisited|variable|visible|visited|wearable|worn)\b(?!-)/i,lookbehind:!0,alias:"symbol"},position:{pattern:/(^|[^-])\b(?:above|adjacent to|back side of|below|between|down|east|everywhere|front side|here|in|inside(?: from)?|north(?:east|west)?|nowhere|on(?: top of)?|other side|outside(?: from)?|parts? of|regionally in|south(?:east|west)?|through|up|west|within)\b(?!-)/i,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|[^-])\b(?:actions?|activit(?:ies|y)|actors?|animals?|backdrops?|containers?|devices?|directions?|doors?|holders?|kinds?|lists?|m[ae]n|nobody|nothing|nouns?|numbers?|objects?|people|persons?|player(?:'s holdall)?|regions?|relations?|rooms?|rule(?:book)?s?|scenes?|someone|something|supporters?|tables?|texts?|things?|time|vehicles?|wom[ae]n)\b(?!-)/i,lookbehind:!0,alias:"variable"},punctuation:/[.,:;(){}]/},t.languages.inform7.string.inside.substitution.inside.rest=t.languages.inform7,t.languages.inform7.string.inside.substitution.inside.rest.text={pattern:/\S(?:\s*\S)*/,alias:"comment"}}return M2}var _2,Yz;function LOe(){if(Yz)return _2;Yz=1,_2=e,e.displayName="ini",e.aliases=[];function e(t){t.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/}}return _2}var x2,Xz;function POe(){if(Xz)return x2;Xz=1,x2=e,e.displayName="io",e.aliases=[];function e(t){t.languages.io={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*|#.*)/,lookbehind:!0,greedy:!0},"triple-quoted-string":{pattern:/"""(?:\\[\s\S]|(?!""")[^\\])*"""/,greedy:!0,alias:"string"},string:{pattern:/"(?:\\.|[^\\\r\n"])*"/,greedy:!0},keyword:/\b(?:activate|activeCoroCount|asString|block|break|call|catch|clone|collectGarbage|compileString|continue|do|doFile|doMessage|doString|else|elseif|exit|for|foreach|forward|getEnvironmentVariable|getSlot|hasSlot|if|ifFalse|ifNil|ifNilEval|ifTrue|isActive|isNil|isResumable|list|message|method|parent|pass|pause|perform|performWithArgList|print|println|proto|raise|raiseResumable|removeSlot|resend|resume|schedulerSleepSeconds|self|sender|setSchedulerSleepSeconds|setSlot|shallowCopy|slotNames|super|system|then|thisBlock|thisContext|try|type|uniqueId|updateSlot|wait|while|write|yield)\b/,builtin:/\b(?:Array|AudioDevice|AudioMixer|BigNum|Block|Box|Buffer|CFunction|CGI|Color|Curses|DBM|DNSResolver|DOConnection|DOProxy|DOServer|Date|Directory|Duration|DynLib|Error|Exception|FFT|File|Fnmatch|Font|Future|GL|GLE|GLScissor|GLU|GLUCylinder|GLUQuadric|GLUSphere|GLUT|Host|Image|Importer|LinkList|List|Lobby|Locals|MD5|MP3Decoder|MP3Encoder|Map|Message|Movie|Notification|Number|Object|OpenGL|Point|Protos|Random|Regex|SGML|SGMLElement|SGMLParser|SQLite|Sequence|Server|ShowMessage|SleepyCat|SleepyCatCursor|Socket|SocketManager|Sound|Soup|Store|String|Tree|UDPSender|UPDReceiver|URL|User|Warning|WeakLink)\b/,boolean:/\b(?:false|nil|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?/i,operator:/[=!*/%+\-^&|]=|>>?=?|<<?=?|:?:?=|\+\+?|--?|\*\*?|\/\/?|%|\|\|?|&&?|\b(?:and|not|or|return)\b|@@?|\?\??|\.\./,punctuation:/[{}[\];(),.:]/}}return x2}var w2,Jz;function DOe(){if(Jz)return w2;Jz=1,w2=e,e.displayName="j",e.aliases=[];function e(t){t.languages.j={comment:{pattern:/\bNB\..*/,greedy:!0},string:{pattern:/'(?:''|[^'\r\n])*'/,greedy:!0},keyword:/\b(?:(?:CR|LF|adverb|conjunction|def|define|dyad|monad|noun|verb)\b|(?:assert|break|case|catch[dt]?|continue|do|else|elseif|end|fcase|for|for_\w+|goto_\w+|if|label_\w+|return|select|throw|try|while|whilst)\.)/,verb:{pattern:/(?!\^:|;\.|[=!][.:])(?:\{(?:\.|::?)?|p(?:\.\.?|:)|[=!\]]|[<>+*\-%$|,#][.:]?|[?^]\.?|[;\[]:?|[~}"i][.:]|[ACeEIjLor]\.|(?:[_\/\\qsux]|_?\d):)/,alias:"keyword"},number:/\b_?(?:(?!\d:)\d+(?:\.\d+)?(?:(?:ad|ar|[ejpx])_?\d+(?:\.\d+)?)*(?:b_?[\da-z]+(?:\.[\da-z]+)?)?|_\b(?!\.))/,adverb:{pattern:/[~}]|[\/\\]\.?|[bfM]\.|t[.:]/,alias:"builtin"},operator:/[=a][.:]|_\./,conjunction:{pattern:/&(?:\.:?|:)?|[.:@][.:]?|[!D][.:]|[;dHT]\.|`:?|[\^LS]:|"/,alias:"variable"},punctuation:/[()]/}}return w2}var N2,Qz;function Pj(){if(Qz)return N2;Qz=1,N2=e,e.displayName="java",e.aliases=[];function e(t){(function(n){var r=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,i=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,d={pattern:RegExp(i+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[d,{pattern:RegExp(i+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:d.inside}],keyword:r,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":d,keyword:r,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return r.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(t)}return N2}var R2,Zz;function H_(){if(Zz)return R2;Zz=1,R2=e,e.displayName="javadoclike",e.aliases=[];function e(t){(function(n){var r=n.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};function i(g,v){var S="doc-comment",I=n.languages[g];if(I){var T=I[S];if(!T){var _={};_[S]={pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"},I=n.languages.insertBefore(g,"comment",_),T=I[S]}if(T instanceof RegExp&&(T=I[S]={pattern:T}),Array.isArray(T))for(var N=0,A=T.length;N<A;N++)T[N]instanceof RegExp&&(T[N]={pattern:T[N]}),v(T[N]);else v(T)}}function d(g,v){typeof g=="string"&&(g=[g]),g.forEach(function(S){i(S,function(I){I.inside||(I.inside={}),I.inside.rest=v})})}Object.defineProperty(r,"addSupport",{value:d}),r.addSupport(["java","javascript","php"],r)})(t)}return R2}var A2,eH;function jOe(){if(eH)return A2;eH=1;var e=Pj(),t=H_();A2=n,n.displayName="javadoc",n.aliases=[];function n(r){r.register(e),r.register(t),function(i){var d=/(^(?:[\t ]*(?:\*\s*)*))[^*\s].*$/m,g=/#\s*\w+(?:\s*\([^()]*\))?/.source,v=/(?:\b[a-zA-Z]\w+\s*\.\s*)*\b[A-Z]\w*(?:\s*<mem>)?|<mem>/.source.replace(/<mem>/g,function(){return g});i.languages.javadoc=i.languages.extend("javadoclike",{}),i.languages.insertBefore("javadoc","keyword",{reference:{pattern:RegExp(/(@(?:exception|link|linkplain|see|throws|value)\s+(?:\*\s*)?)/.source+"(?:"+v+")"),lookbehind:!0,inside:{function:{pattern:/(#\s*)\w+(?=\s*\()/,lookbehind:!0},field:{pattern:/(#\s*)\w+/,lookbehind:!0},namespace:{pattern:/\b(?:[a-z]\w*\s*\.\s*)+/,inside:{punctuation:/\./}},"class-name":/\b[A-Z]\w*/,keyword:i.languages.java.keyword,punctuation:/[#()[\],.]/}},"class-name":{pattern:/(@param\s+)<[A-Z]\w*>/,lookbehind:!0,inside:{punctuation:/[.<>]/}},"code-section":[{pattern:/(\{@code\s+(?!\s))(?:[^\s{}]|\s+(?![\s}])|\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\})+(?=\s*\})/,lookbehind:!0,inside:{code:{pattern:d,lookbehind:!0,inside:i.languages.java,alias:"language-java"}}},{pattern:/(<(code|pre|tt)>(?!<code>)\s*)\S(?:\S|\s+\S)*?(?=\s*<\/\2>)/,lookbehind:!0,inside:{line:{pattern:d,lookbehind:!0,inside:{tag:i.languages.markup.tag,entity:i.languages.markup.entity,code:{pattern:/.+/,inside:i.languages.java,alias:"language-java"}}}}}],tag:i.languages.markup.tag,entity:i.languages.markup.entity}),i.languages.javadoclike.addSupport("java",i.languages.javadoc)}(r)}return A2}var O2,tH;function VOe(){if(tH)return O2;tH=1,O2=e,e.displayName="javastacktrace",e.aliases=[];function e(t){t.languages.javastacktrace={summary:{pattern:/^([\t ]*)(?:(?:Caused by:|Suppressed:|Exception in thread "[^"]*")[\t ]+)?[\w$.]+(?::.*)?$/m,lookbehind:!0,inside:{keyword:{pattern:/^([\t ]*)(?:(?:Caused by|Suppressed)(?=:)|Exception in thread)/m,lookbehind:!0},string:{pattern:/^(\s*)"[^"]*"/,lookbehind:!0},exceptions:{pattern:/^(:?\s*)[\w$.]+(?=:|$)/,lookbehind:!0,inside:{"class-name":/[\w$]+$/,namespace:/\b[a-z]\w*\b/,punctuation:/\./}},message:{pattern:/(:\s*)\S.*/,lookbehind:!0,alias:"string"},punctuation:/:/}},"stack-frame":{pattern:/^([\t ]*)at (?:[\w$./]|@[\w$.+-]*\/)+(?:<init>)?\([^()]*\)/m,lookbehind:!0,inside:{keyword:{pattern:/^(\s*)at(?= )/,lookbehind:!0},source:[{pattern:/(\()\w+\.\w+:\d+(?=\))/,lookbehind:!0,inside:{file:/^\w+\.\w+/,punctuation:/:/,"line-number":{pattern:/\b\d+\b/,alias:"number"}}},{pattern:/(\()[^()]*(?=\))/,lookbehind:!0,inside:{keyword:/^(?:Native Method|Unknown Source)$/}}],"class-name":/[\w$]+(?=\.(?:<init>|[\w$]+)\()/,function:/(?:<init>|[\w$]+)(?=\()/,"class-loader":{pattern:/(\s)[a-z]\w*(?:\.[a-z]\w*)*(?=\/[\w@$.]*\/)/,lookbehind:!0,alias:"namespace",inside:{punctuation:/\./}},module:{pattern:/([\s/])[a-z]\w*(?:\.[a-z]\w*)*(?:@[\w$.+-]*)?(?=\/)/,lookbehind:!0,inside:{version:{pattern:/(@)[\s\S]+/,lookbehind:!0,alias:"number"},punctuation:/[@.]/}},namespace:{pattern:/(?:\b[a-z]\w*\.)+/,inside:{punctuation:/\./}},punctuation:/[()/.]/}},more:{pattern:/^([\t ]*)\.{3} \d+ [a-z]+(?: [a-z]+)*/m,lookbehind:!0,inside:{punctuation:/\.{3}/,number:/\d+/,keyword:/\b[a-z]+(?: [a-z]+)*\b/}}}}return O2}var k2,nH;function $Oe(){if(nH)return k2;nH=1,k2=e,e.displayName="jexl",e.aliases=[];function e(t){t.languages.jexl={string:/(["'])(?:\\[\s\S]|(?!\1)[^\\])*\1/,transform:{pattern:/(\|\s*)[a-zA-Zа-яА-Я_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\wа-яА-Я\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*/,alias:"function",lookbehind:!0},function:/[a-zA-Zа-яА-Я_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\wа-яА-Я\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*\s*(?=\()/,number:/\b\d+(?:\.\d+)?\b|\B\.\d+\b/,operator:/[<>!]=?|-|\+|&&|==|\|\|?|\/\/?|[?:*^%]/,boolean:/\b(?:false|true)\b/,keyword:/\bin\b/,punctuation:/[{}[\](),.]/}}return k2}var L2,rH;function UOe(){if(rH)return L2;rH=1,L2=e,e.displayName="jolie",e.aliases=[];function e(t){t.languages.jolie=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\[\s\S]|[^"\\])*"/,lookbehind:!0,greedy:!0},"class-name":{pattern:/((?:\b(?:as|courier|embed|in|inputPort|outputPort|service)\b|@)[ \t]*)\w+/,lookbehind:!0},keyword:/\b(?:as|cH|comp|concurrent|constants|courier|cset|csets|default|define|else|embed|embedded|execution|exit|extender|for|foreach|forward|from|global|if|import|in|include|init|inputPort|install|instanceof|interface|is_defined|linkIn|linkOut|main|new|nullProcess|outputPort|over|private|provide|public|scope|sequential|service|single|spawn|synchronized|this|throw|throws|type|undef|until|while|with)\b/,function:/\b[a-z_]\w*(?=[ \t]*[@(])/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?l?/i,operator:/-[-=>]?|\+[+=]?|<[<=]?|[>=*!]=?|&&|\|\||[?\/%^@|]/,punctuation:/[()[\]{},;.:]/,builtin:/\b(?:Byte|any|bool|char|double|enum|float|int|length|long|ranges|regex|string|undefined|void)\b/}),t.languages.insertBefore("jolie","keyword",{aggregates:{pattern:/(\bAggregates\s*:\s*)(?:\w+(?:\s+with\s+\w+)?\s*,\s*)*\w+(?:\s+with\s+\w+)?/,lookbehind:!0,inside:{keyword:/\bwith\b/,"class-name":/\w+/,punctuation:/,/}},redirects:{pattern:/(\bRedirects\s*:\s*)(?:\w+\s*=>\s*\w+\s*,\s*)*(?:\w+\s*=>\s*\w+)/,lookbehind:!0,inside:{punctuation:/,/,"class-name":/\w+/,operator:/=>/}},property:{pattern:/\b(?:Aggregates|[Ii]nterfaces|Java|Javascript|Jolie|[Ll]ocation|OneWay|[Pp]rotocol|Redirects|RequestResponse)\b(?=[ \t]*:)/}})}return L2}var P2,aH;function BOe(){if(aH)return P2;aH=1,P2=e,e.displayName="jq",e.aliases=[];function e(t){(function(n){var r=/\\\((?:[^()]|\([^()]*\))*\)/.source,i=RegExp(/(^|[^\\])"(?:[^"\r\n\\]|\\[^\r\n(]|__)*"/.source.replace(/__/g,function(){return r})),d={interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+r),lookbehind:!0,inside:{content:{pattern:/^(\\\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:null},punctuation:/^\\\(|\)$/}}},g=n.languages.jq={comment:/#.*/,property:{pattern:RegExp(i.source+/(?=\s*:(?!:))/.source),lookbehind:!0,greedy:!0,inside:d},string:{pattern:i,lookbehind:!0,greedy:!0,inside:d},function:{pattern:/(\bdef\s+)[a-z_]\w+/i,lookbehind:!0},variable:/\B\$\w+/,"property-literal":{pattern:/\b[a-z_]\w*(?=\s*:(?!:))/i,alias:"property"},keyword:/\b(?:as|break|catch|def|elif|else|end|foreach|if|import|include|label|module|modulemeta|null|reduce|then|try|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b\d+\.|\B\.)?\b\d+(?:[eE][+-]?\d+)?\b/,operator:[{pattern:/\|=?/,alias:"pipe"},/\.\.|[!=<>]?=|\?\/\/|\/\/=?|[-+*/%]=?|[<>?]|\b(?:and|not|or)\b/],"c-style-function":{pattern:/\b[a-z_]\w*(?=\s*\()/i,alias:"function"},punctuation:/::|[()\[\]{},:;]|\.(?=\s*[\[\w$])/,dot:{pattern:/\./,alias:"important"}};d.interpolation.inside.content.inside=g})(t)}return P2}var D2,iH;function FOe(){if(iH)return D2;iH=1,D2=e,e.displayName="jsExtras",e.aliases=[];function e(t){(function(n){n.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+n.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),n.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+n.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),n.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]});function r(I,T){return RegExp(I.replace(/<ID>/g,function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source}),T)}n.languages.insertBefore("javascript","keyword",{imports:{pattern:r(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:n.languages.javascript},exports:{pattern:r(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:n.languages.javascript}}),n.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),n.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),n.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:r(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var i=["function","function-variable","method","method-variable","property-access"],d=0;d<i.length;d++){var g=i[d],v=n.languages.javascript[g];n.util.type(v)==="RegExp"&&(v=n.languages.javascript[g]={pattern:v});var S=v.inside||{};v.inside=S,S["maybe-class-name"]=/^[A-Z][\s\S]*/}})(t)}return D2}var j2,oH;function qOe(){if(oH)return j2;oH=1,j2=e,e.displayName="jsTemplates",e.aliases=[];function e(t){(function(n){var r=n.languages.javascript["template-string"],i=r.pattern.source,d=r.inside.interpolation,g=d.inside["interpolation-punctuation"],v=d.pattern.source;function S(O,R){if(n.languages[O])return{pattern:RegExp("((?:"+R+")\\s*)"+i),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:O}}}}n.languages.javascript["template-string"]=[S("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),S("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),S("svg",/\bsvg/.source),S("markdown",/\b(?:markdown|md)/.source),S("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),S("sql",/\bsql/.source),r].filter(Boolean);function I(O,R){return"___"+R.toUpperCase()+"_"+O+"___"}function T(O,R,D){var j={code:O,grammar:R,language:D};return n.hooks.run("before-tokenize",j),j.tokens=n.tokenize(j.code,j.grammar),n.hooks.run("after-tokenize",j),j.tokens}function _(O){var R={};R["interpolation-punctuation"]=g;var D=n.tokenize(O,R);if(D.length===3){var j=[1,1];j.push.apply(j,T(D[1],n.languages.javascript,"javascript")),D.splice.apply(D,j)}return new n.Token("interpolation",D,d.alias,O)}function N(O,R,D){var j=n.tokenize(O,{interpolation:{pattern:RegExp(v),lookbehind:!0}}),L=0,U={},$=j.map(function(V){if(typeof V=="string")return V;for(var K=V.content,J;O.indexOf(J=I(L++,D))!==-1;);return U[J]=K,J}).join(""),F=T($,R,D),z=Object.keys(U);L=0;function H(V){for(var K=0;K<V.length;K++){if(L>=z.length)return;var J=V[K];if(typeof J=="string"||typeof J.content=="string"){var te=z[L],Z=typeof J=="string"?J:J.content,X=Z.indexOf(te);if(X!==-1){++L;var re=Z.substring(0,X),ee=_(U[te]),ae=Z.substring(X+te.length),de=[];if(re&&de.push(re),de.push(ee),ae){var he=[ae];H(he),de.push.apply(de,he)}typeof J=="string"?(V.splice.apply(V,[K,1].concat(de)),K+=de.length-1):J.content=de}}else{var ue=J.content;Array.isArray(ue)?H(ue):H([ue])}}}return H(F),new n.Token(D,F,"language-"+D,O)}var A={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};n.hooks.add("after-tokenize",function(O){if(!(O.language in A))return;function R(D){for(var j=0,L=D.length;j<L;j++){var U=D[j];if(typeof U!="string"){var $=U.content;if(!Array.isArray($)){typeof $!="string"&&R([$]);continue}if(U.type==="template-string"){var F=$[1];if($.length===3&&typeof F!="string"&&F.type==="embedded-code"){var z=w(F),H=F.alias,V=Array.isArray(H)?H[0]:H,K=n.languages[V];if(!K)continue;$[1]=N(z,K,V)}}else R($)}}}R(O.tokens)});function w(O){return typeof O=="string"?O:Array.isArray(O)?O.map(w).join(""):w(O.content)}})(t)}return j2}var V2,sH;function Dj(){if(sH)return V2;sH=1,V2=e,e.displayName="typescript",e.aliases=["ts"];function e(t){(function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var r=n.languages.extend("typescript",{});delete r["class-name"],n.languages.typescript["class-name"].inside=r,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r}}}}),n.languages.ts=n.languages.typescript})(t)}return V2}var $2,lH;function zOe(){if(lH)return $2;lH=1;var e=H_(),t=Dj();$2=n,n.displayName="jsdoc",n.aliases=[];function n(r){r.register(e),r.register(t),function(i){var d=i.languages.javascript,g=/\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})+\}/.source,v="(@(?:arg|argument|param|property)\\s+(?:"+g+"\\s+)?)";i.languages.jsdoc=i.languages.extend("javadoclike",{parameter:{pattern:RegExp(v+/(?:(?!\s)[$\w\xA0-\uFFFF.])+(?=\s|$)/.source),lookbehind:!0,inside:{punctuation:/\./}}}),i.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(v+/\[(?:(?!\s)[$\w\xA0-\uFFFF.])+(?:=[^[\]]+)?\](?=\s|$)/.source),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:d,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp(/(@(?:augments|class|extends|interface|memberof!?|template|this|typedef)\s+(?:<TYPE>\s+)?)[A-Z]\w*(?:\.[A-Z]\w*)*/.source.replace(/<TYPE>/g,function(){return g})),lookbehind:!0,inside:{punctuation:/\./}},{pattern:RegExp("(@[a-z]+\\s+)"+g),lookbehind:!0,inside:{string:d.string,number:d.number,boolean:d.boolean,keyword:i.languages.typescript.keyword,operator:/=>|\.\.\.|[&|?:*]/,punctuation:/[.,;=<>{}()[\]]/}}],example:{pattern:/(@example\s+(?!\s))(?:[^@\s]|\s+(?!\s))+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^([\t ]*(?:\*\s*)?)\S.*$/m,lookbehind:!0,inside:d,alias:"language-javascript"}}}}),i.languages.javadoclike.addSupport("javascript",i.languages.jsdoc)}(r)}return $2}var U2,cH;function jj(){if(cH)return U2;cH=1,U2=e,e.displayName="json",e.aliases=["webmanifest"];function e(t){t.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},t.languages.webmanifest=t.languages.json}return U2}var B2,uH;function HOe(){if(uH)return B2;uH=1;var e=jj();B2=t,t.displayName="json5",t.aliases=[];function t(n){n.register(e),function(r){var i=/("|')(?:\\(?:\r\n?|\n|.)|(?!\1)[^\\\r\n])*\1/;r.languages.json5=r.languages.extend("json",{property:[{pattern:RegExp(i.source+"(?=\\s*:)"),greedy:!0},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/,alias:"unquoted"}],string:{pattern:i,greedy:!0},number:/[+-]?\b(?:NaN|Infinity|0x[a-fA-F\d]+)\b|[+-]?(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+\b)?/})}(n)}return B2}var F2,dH;function GOe(){if(dH)return F2;dH=1;var e=jj();F2=t,t.displayName="jsonp",t.aliases=[];function t(n){n.register(e),n.languages.jsonp=n.languages.extend("json",{punctuation:/[{}[\]();,.]/}),n.languages.insertBefore("jsonp","punctuation",{function:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*\()/})}return F2}var q2,pH;function KOe(){if(pH)return q2;pH=1,q2=e,e.displayName="jsstacktrace",e.aliases=[];function e(t){t.languages.jsstacktrace={"error-message":{pattern:/^\S.*/m,alias:"string"},"stack-frame":{pattern:/(^[ \t]+)at[ \t].*/m,lookbehind:!0,inside:{"not-my-code":{pattern:/^at[ \t]+(?!\s)(?:node\.js|<unknown>|.*(?:node_modules|\(<anonymous>\)|\(<unknown>|<anonymous>$|\(internal\/|\(node\.js)).*/m,alias:"comment"},filename:{pattern:/(\bat\s+(?!\s)|\()(?:[a-zA-Z]:)?[^():]+(?=:)/,lookbehind:!0,alias:"url"},function:{pattern:/(\bat\s+(?:new\s+)?)(?!\s)[_$a-zA-Z\xA0-\uFFFF<][.$\w\xA0-\uFFFF<>]*/,lookbehind:!0,inside:{punctuation:/\./}},punctuation:/[()]/,keyword:/\b(?:at|new)\b/,alias:{pattern:/\[(?:as\s+)?(?!\s)[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\]/,alias:"variable"},"line-number":{pattern:/:\d+(?::\d+)?\b/,alias:"number",inside:{punctuation:/:/}}}}}}return q2}var z2,mH;function FJ(){if(mH)return z2;mH=1,z2=e,e.displayName="jsx",e.aliases=[];function e(t){(function(n){var r=n.util.clone(n.languages.javascript),i=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,d=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,g=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function v(T,_){return T=T.replace(/<S>/g,function(){return i}).replace(/<BRACES>/g,function(){return d}).replace(/<SPREAD>/g,function(){return g}),RegExp(T,_)}g=v(g).source,n.languages.jsx=n.languages.extend("markup",r),n.languages.jsx.tag.pattern=v(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),n.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,n.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,n.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,n.languages.jsx.tag.inside.comment=r.comment,n.languages.insertBefore("inside","attr-name",{spread:{pattern:v(/<SPREAD>/.source),inside:n.languages.jsx}},n.languages.jsx.tag),n.languages.insertBefore("inside","special-attr",{script:{pattern:v(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:n.languages.jsx}}},n.languages.jsx.tag);var S=function(T){return T?typeof T=="string"?T:typeof T.content=="string"?T.content:T.content.map(S).join(""):""},I=function(T){for(var _=[],N=0;N<T.length;N++){var A=T[N],w=!1;if(typeof A!="string"&&(A.type==="tag"&&A.content[0]&&A.content[0].type==="tag"?A.content[0].content[0].content==="</"?_.length>0&&_[_.length-1].tagName===S(A.content[0].content[1])&&_.pop():A.content[A.content.length-1].content==="/>"||_.push({tagName:S(A.content[0].content[1]),openedBraces:0}):_.length>0&&A.type==="punctuation"&&A.content==="{"?_[_.length-1].openedBraces++:_.length>0&&_[_.length-1].openedBraces>0&&A.type==="punctuation"&&A.content==="}"?_[_.length-1].openedBraces--:w=!0),(w||typeof A=="string")&&_.length>0&&_[_.length-1].openedBraces===0){var O=S(A);N<T.length-1&&(typeof T[N+1]=="string"||T[N+1].type==="plain-text")&&(O+=S(T[N+1]),T.splice(N+1,1)),N>0&&(typeof T[N-1]=="string"||T[N-1].type==="plain-text")&&(O=S(T[N-1])+O,T.splice(N-1,1),N--),T[N]=new n.Token("plain-text",O,null,O)}A.content&&typeof A.content!="string"&&I(A.content)}};n.hooks.add("after-tokenize",function(T){T.language!=="jsx"&&T.language!=="tsx"||I(T.tokens)})})(t)}return z2}var H2,fH;function WOe(){if(fH)return H2;fH=1,H2=e,e.displayName="julia",e.aliases=[];function e(t){t.languages.julia={comment:{pattern:/(^|[^\\])(?:#=(?:[^#=]|=(?!#)|#(?!=)|#=(?:[^#=]|=(?!#)|#(?!=))*=#)*=#|#.*)/,lookbehind:!0},regex:{pattern:/r"(?:\\.|[^"\\\r\n])*"[imsx]{0,4}/,greedy:!0},string:{pattern:/"""[\s\S]+?"""|(?:\b\w+)?"(?:\\.|[^"\\\r\n])*"|`(?:[^\\`\r\n]|\\.)*`/,greedy:!0},char:{pattern:/(^|[^\w'])'(?:\\[^\r\n][^'\r\n]*|[^\\\r\n])'/,lookbehind:!0,greedy:!0},keyword:/\b(?:abstract|baremodule|begin|bitstype|break|catch|ccall|const|continue|do|else|elseif|end|export|finally|for|function|global|if|immutable|import|importall|in|let|local|macro|module|print|println|quote|return|struct|try|type|typealias|using|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[box])?(?:[\da-f]+(?:_[\da-f]+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[efp][+-]?\d+(?:_\d+)*)?j?/i,operator:/&&|\|\||[-+*^%÷⊻&$\\]=?|\/[\/=]?|!=?=?|\|[=>]?|<(?:<=?|[=:|])?|>(?:=|>>?=?)?|==?=?|[~≠≤≥'√∛]/,punctuation:/::?|[{}[\]();,.?]/,constant:/\b(?:(?:Inf|NaN)(?:16|32|64)?|im|pi)\b|[πℯ]/}}return H2}var G2,gH;function YOe(){if(gH)return G2;gH=1,G2=e,e.displayName="keepalived",e.aliases=[];function e(t){t.languages.keepalived={comment:{pattern:/[#!].*/,greedy:!0},string:{pattern:/(^|[^\\])(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,lookbehind:!0,greedy:!0},ip:{pattern:RegExp(/\b(?:(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){5}:(?:[\da-f]{1,4}:)?[\da-f]{1,4}|(?:[\da-f]{1,4}:){4}:(?:[\da-f]{1,4}:){0,2}[\da-f]{1,4}|(?:[\da-f]{1,4}:){3}:(?:[\da-f]{1,4}:){0,3}[\da-f]{1,4}|(?:[\da-f]{1,4}:){2}:(?:[\da-f]{1,4}:){0,4}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}<ipv4>|(?:[\da-f]{1,4}:){0,5}:<ipv4>|::(?:[\da-f]{1,4}:){0,5}<ipv4>|[\da-f]{1,4}::(?:[\da-f]{1,4}:){0,5}[\da-f]{1,4}|::(?:[\da-f]{1,4}:){0,6}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:)(?:\/\d{1,3})?|<ipv4>(?:\/\d{1,2})?)\b/.source.replace(/<ipv4>/g,function(){return/(?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d))/.source}),"i"),alias:"number"},path:{pattern:/(\s)\/(?:[^\/\s]+\/)*[^\/\s]*|\b[a-zA-Z]:\\(?:[^\\\s]+\\)*[^\\\s]*/,lookbehind:!0,alias:"string"},variable:/\$\{?\w+\}?/,email:{pattern:/[\w-]+@[\w-]+(?:\.[\w-]{2,3}){1,2}/,alias:"string"},"conditional-configuration":{pattern:/@\^?[\w-]+/,alias:"variable"},operator:/=/,property:/\b(?:BFD_CHECK|DNS_CHECK|FILE_CHECK|HTTP_GET|MISC_CHECK|NAME|PING_CHECK|SCRIPTS|SMTP_CHECK|SSL|SSL_GET|TCP_CHECK|UDP_CHECK|accept|advert_int|alpha|auth_pass|auth_type|authentication|bfd_cpu_affinity|bfd_instance|bfd_no_swap|bfd_priority|bfd_process_name|bfd_rlimit_rttime|bfd_rt_priority|bind_if|bind_port|bindto|ca|certificate|check_unicast_src|checker|checker_cpu_affinity|checker_log_all_failures|checker_no_swap|checker_priority|checker_rlimit_rttime|checker_rt_priority|child_wait_time|connect_ip|connect_port|connect_timeout|dbus_service_name|debug|default_interface|delay|delay_before_retry|delay_loop|digest|dont_track_primary|dynamic|dynamic_interfaces|enable_(?:dbus|script_security|sni|snmp_checker|snmp_rfc|snmp_rfcv2|snmp_rfcv3|snmp_vrrp|traps)|end|fall|fast_recovery|file|flag-[123]|fork_delay|full_command|fwmark|garp_group|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|global_defs|global_tracking|gna_interval|group|ha_suspend|hashed|helo_name|higher_prio_send_advert|hoplimit|http_protocol|hysteresis|idle_tx|include|inhibit_on_failure|init_fail|init_file|instance|interface|interfaces|interval|ip_family|ipvs_process_name|keepalived.conf|kernel_rx_buf_size|key|linkbeat_interfaces|linkbeat_use_polling|log_all_failures|log_unknown_vrids|lower_prio_no_advert|lthreshold|lvs_flush|lvs_flush_onstop|lvs_method|lvs_netlink_cmd_rcv_bufs|lvs_netlink_cmd_rcv_bufs_force|lvs_netlink_monitor_rcv_bufs|lvs_netlink_monitor_rcv_bufs_force|lvs_notify_fifo|lvs_notify_fifo_script|lvs_sched|lvs_sync_daemon|max_auto_priority|max_hops|mcast_src_ip|mh-fallback|mh-port|min_auto_priority_delay|min_rx|min_tx|misc_dynamic|misc_path|misc_timeout|multiplier|name|namespace_with_ipsets|native_ipv6|neighbor_ip|net_namespace|net_namespace_ipvs|nftables|nftables_counters|nftables_ifindex|nftables_priority|no_accept|no_checker_emails|no_email_faults|nopreempt|notification_email|notification_email_from|notify|notify_backup|notify_deleted|notify_down|notify_fault|notify_fifo|notify_fifo_script|notify_master|notify_master_rx_lower_pri|notify_priority_changes|notify_stop|notify_up|old_unicast_checksum|omega|ops|param_match|passive|password|path|persistence_engine|persistence_granularity|persistence_timeout|preempt|preempt_delay|priority|process|process_monitor_rcv_bufs|process_monitor_rcv_bufs_force|process_name|process_names|promote_secondaries|protocol|proxy_arp|proxy_arp_pvlan|quorum|quorum_down|quorum_max|quorum_up|random_seed|real_server|regex|regex_max_offset|regex_min_offset|regex_no_match|regex_options|regex_stack|reload_repeat|reload_time_file|require_reply|retry|rise|router_id|rs_init_notifies|script|script_user|sh-fallback|sh-port|shutdown_script|shutdown_script_timeout|skip_check_adv_addr|smtp_alert|smtp_alert_checker|smtp_alert_vrrp|smtp_connect_timeout|smtp_helo_name|smtp_server|snmp_socket|sorry_server|sorry_server_inhibit|sorry_server_lvs_method|source_ip|start|startup_script|startup_script_timeout|state|static_ipaddress|static_routes|static_rules|status_code|step|strict_mode|sync_group_tracking_weight|terminate_delay|timeout|track_bfd|track_file|track_group|track_interface|track_process|track_script|track_src_ip|ttl|type|umask|unicast_peer|unicast_src_ip|unicast_ttl|url|use_ipvlan|use_pid_dir|use_vmac|user|uthreshold|val[123]|version|virtual_ipaddress|virtual_ipaddress_excluded|virtual_router_id|virtual_routes|virtual_rules|virtual_server|virtual_server_group|virtualhost|vmac_xmit_base|vrrp|vrrp_(?:check_unicast_src|cpu_affinity|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|gna_interval|higher_prio_send_advert|instance|ipsets|iptables|lower_prio_no_advert|mcast_group4|mcast_group6|min_garp|netlink_cmd_rcv_bufs|netlink_cmd_rcv_bufs_force|netlink_monitor_rcv_bufs|netlink_monitor_rcv_bufs_force|no_swap|notify_fifo|notify_fifo_script|notify_priority_changes|priority|process_name|rlimit_rttime|rt_priority|rx_bufs_multiplier|rx_bufs_policy|script|skip_check_adv_addr|startup_delay|strict|sync_group|track_process|version)|warmup|weight)\b/,constant:/\b(?:A|AAAA|AH|BACKUP|CNAME|DR|MASTER|MX|NAT|NS|PASS|SCTP|SOA|TCP|TUN|TXT|UDP|dh|fo|lblc|lblcr|lc|mh|nq|ovf|rr|sed|sh|wlc|wrr)\b/,number:{pattern:/(^|[^\w.-])-?\d+(?:\.\d+)?/,lookbehind:!0},boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\{\}]/}}return G2}var K2,hH;function XOe(){if(hH)return K2;hH=1,K2=e,e.displayName="keyman",e.aliases=[];function e(t){t.languages.keyman={comment:{pattern:/\bc .*/i,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},"virtual-key":{pattern:/\[\s*(?:(?:ALT|CAPS|CTRL|LALT|LCTRL|NCAPS|RALT|RCTRL|SHIFT)\s+)*(?:[TKU]_[\w?]+|[A-E]\d\d?|"[^"\r\n]*"|'[^'\r\n]*')\s*\]/i,greedy:!0,alias:"function"},"header-keyword":{pattern:/&\w+/,alias:"bold"},"header-statement":{pattern:/\b(?:bitmap|bitmaps|caps always off|caps on only|copyright|hotkey|language|layout|message|name|shift frees caps|version)\b/i,alias:"bold"},"rule-keyword":{pattern:/\b(?:any|baselayout|beep|call|context|deadkey|dk|if|index|layer|notany|nul|outs|platform|reset|return|save|set|store|use)\b/i,alias:"keyword"},"structural-keyword":{pattern:/\b(?:ansi|begin|group|match|nomatch|unicode|using keys)\b/i,alias:"keyword"},"compile-target":{pattern:/\$(?:keyman|keymanonly|keymanweb|kmfl|weaver):/i,alias:"property"},number:/\b(?:U\+[\dA-F]+|d\d+|x[\da-f]+|\d+)\b/i,operator:/[+>\\$]|\.\./,punctuation:/[()=,]/}}return K2}var W2,vH;function JOe(){if(vH)return W2;vH=1,W2=e,e.displayName="kotlin",e.aliases=["kt","kts"];function e(t){(function(n){n.languages.kotlin=n.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete n.languages.kotlin["class-name"];var r={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:n.languages.kotlin}};n.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:r},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:r},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete n.languages.kotlin.string,n.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),n.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),n.languages.kt=n.languages.kotlin,n.languages.kts=n.languages.kotlin})(t)}return W2}var Y2,yH;function QOe(){if(yH)return Y2;yH=1,Y2=e,e.displayName="kumir",e.aliases=["kum"];function e(t){(function(n){var r=/\s\x00-\x1f\x22-\x2f\x3a-\x3f\x5b-\x5e\x60\x7b-\x7e/.source;function i(d,g){return RegExp(d.replace(/<nonId>/g,r),g)}n.languages.kumir={comment:{pattern:/\|.*/},prolog:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^\n\r"]*"|'[^\n\r']*'/,greedy:!0},boolean:{pattern:i(/(^|[<nonId>])(?:да|нет)(?=[<nonId>]|$)/.source),lookbehind:!0},"operator-word":{pattern:i(/(^|[<nonId>])(?:и|или|не)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},"system-variable":{pattern:i(/(^|[<nonId>])знач(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},type:[{pattern:i(/(^|[<nonId>])(?:вещ|лит|лог|сим|цел)(?:\x20*таб)?(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"builtin"},{pattern:i(/(^|[<nonId>])(?:компл|сканкод|файл|цвет)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"important"}],keyword:{pattern:i(/(^|[<nonId>])(?:алг|арг(?:\x20*рез)?|ввод|ВКЛЮЧИТЬ|вс[её]|выбор|вывод|выход|дано|для|до|дс|если|иначе|исп|использовать|кон(?:(?:\x20+|_)исп)?|кц(?:(?:\x20+|_)при)?|надо|нач|нс|нц|от|пауза|пока|при|раза?|рез|стоп|таб|то|утв|шаг)(?=[<nonId>]|$)/.source),lookbehind:!0},name:{pattern:i(/(^|[<nonId>])[^\d<nonId>][^<nonId>]*(?:\x20+[^<nonId>]+)*(?=[<nonId>]|$)/.source),lookbehind:!0},number:{pattern:i(/(^|[<nonId>])(?:\B\$[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?=[<nonId>]|$)/.source,"i"),lookbehind:!0},punctuation:/:=|[(),:;\[\]]/,"operator-char":{pattern:/\*\*?|<[=>]?|>=?|[-+/=]/,alias:"operator"}},n.languages.kum=n.languages.kumir})(t)}return Y2}var X2,bH;function ZOe(){if(bH)return X2;bH=1,X2=e,e.displayName="kusto",e.aliases=[];function e(t){t.languages.kusto={comment:{pattern:/\/\/.*/,greedy:!0},string:{pattern:/```[\s\S]*?```|[hH]?(?:"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\.)*'|@(?:"[^\r\n"]*"|'[^\r\n']*'))/,greedy:!0},verb:{pattern:/(\|\s*)[a-z][\w-]*/i,lookbehind:!0,alias:"keyword"},command:{pattern:/\.[a-z][a-z\d-]*\b/,alias:"keyword"},"class-name":/\b(?:bool|datetime|decimal|dynamic|guid|int|long|real|string|timespan)\b/,keyword:/\b(?:access|alias|and|anti|as|asc|auto|between|by|(?:contains|(?:ends|starts)with|has(?:perfix|suffix)?)(?:_cs)?|database|declare|desc|external|from|fullouter|has_all|in|ingestion|inline|inner|innerunique|into|(?:left|right)(?:anti(?:semi)?|inner|outer|semi)?|let|like|local|not|of|on|or|pattern|print|query_parameters|range|restrict|schema|set|step|table|tables|to|view|where|with|matches\s+regex|nulls\s+(?:first|last))(?![\w-])/,boolean:/\b(?:false|null|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/,datetime:[{pattern:/\b(?:(?:Fri|Friday|Mon|Monday|Sat|Saturday|Sun|Sunday|Thu|Thursday|Tue|Tuesday|Wed|Wednesday)\s*,\s*)?\d{1,2}(?:\s+|-)(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)(?:\s+|-)\d{2}\s+\d{2}:\d{2}(?::\d{2})?(?:\s*(?:\b(?:[A-Z]|(?:[ECMT][DS]|GM|U)T)|[+-]\d{4}))?\b/,alias:"number"},{pattern:/[+-]?\b(?:\d{4}-\d{2}-\d{2}(?:[ T]\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)?|\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)Z?/,alias:"number"}],number:/\b(?:0x[0-9A-Fa-f]+|\d+(?:\.\d+)?(?:[Ee][+-]?\d+)?)(?:(?:min|sec|[mnµ]s|[dhms]|microsecond|tick)\b)?|[+-]?\binf\b/,operator:/=>|[!=]~|[!=<>]=?|[-+*/%|]|\.\./,punctuation:/[()\[\]{},;.:]/}}return X2}var J2,SH;function eke(){if(SH)return J2;SH=1,J2=e,e.displayName="latex",e.aliases=["tex","context"];function e(t){(function(n){var r=/\\(?:[^a-z()[\]]|[a-z*]+)/i,i={"equation-command":{pattern:r,alias:"regex"}};n.languages.latex={comment:/%.*/,cdata:{pattern:/(\\begin\{((?:lstlisting|verbatim)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0},equation:[{pattern:/\$\$(?:\\[\s\S]|[^\\$])+\$\$|\$(?:\\[\s\S]|[^\\$])+\$|\\\([\s\S]*?\\\)|\\\[[\s\S]*?\\\]/,inside:i,alias:"string"},{pattern:/(\\begin\{((?:align|eqnarray|equation|gather|math|multline)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0,inside:i,alias:"string"}],keyword:{pattern:/(\\(?:begin|cite|documentclass|end|label|ref|usepackage)(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0},url:{pattern:/(\\url\{)[^}]+(?=\})/,lookbehind:!0},headline:{pattern:/(\\(?:chapter|frametitle|paragraph|part|section|subparagraph|subsection|subsubparagraph|subsubsection|subsubsubparagraph)\*?(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0,alias:"class-name"},function:{pattern:r,alias:"selector"},punctuation:/[[\]{}&]/},n.languages.tex=n.languages.latex,n.languages.context=n.languages.latex})(t)}return J2}var Q2,IH;function G_(){if(IH)return Q2;IH=1;var e=Js();Q2=t,t.displayName="php",t.aliases=[];function t(n){n.register(e),function(r){var i=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,d=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],g=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,v=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,S=/[{}\[\](),:;]/;r.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:i,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:d,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:g,operator:v,punctuation:S};var I={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:r.languages.php},T=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:I}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:I}}];r.languages.insertBefore("php","variable",{string:T,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:i,string:T,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:d,number:g,operator:v,punctuation:S}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),r.hooks.add("before-tokenize",function(_){if(/<\?/.test(_.code)){var N=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;r.languages["markup-templating"].buildPlaceholders(_,"php",N)}}),r.hooks.add("after-tokenize",function(_){r.languages["markup-templating"].tokenizePlaceholders(_,"php")})}(n)}return Q2}var Z2,EH;function tke(){if(EH)return Z2;EH=1;var e=Js(),t=G_();Z2=n,n.displayName="latte",n.aliases=[];function n(r){r.register(e),r.register(t),function(i){i.languages.latte={comment:/^\{\*[\s\S]*/,"latte-tag":{pattern:/(^\{(?:\/(?=[a-z]))?)(?:[=_]|[a-z]\w*\b(?!\())/i,lookbehind:!0,alias:"important"},delimiter:{pattern:/^\{\/?|\}$/,alias:"punctuation"},php:{pattern:/\S(?:[\s\S]*\S)?/,alias:"language-php",inside:i.languages.php}};var d=i.languages.extend("markup",{});i.languages.insertBefore("inside","attr-value",{"n-attr":{pattern:/n:[\w-]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+))?/,inside:{"attr-name":{pattern:/^[^\s=]+/,alias:"important"},"attr-value":{pattern:/=[\s\S]+/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],php:{pattern:/\S(?:[\s\S]*\S)?/,inside:i.languages.php}}}}}},d.tag),i.hooks.add("before-tokenize",function(g){if(g.language==="latte"){var v=/\{\*[\s\S]*?\*\}|\{[^'"\s{}*](?:[^"'/{}]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|\/\*(?:[^*]|\*(?!\/))*\*\/)*\}/g;i.languages["markup-templating"].buildPlaceholders(g,"latte",v),g.grammar=d}}),i.hooks.add("after-tokenize",function(g){i.languages["markup-templating"].tokenizePlaceholders(g,"latte")})}(r)}return Z2}var eA,CH;function nke(){if(CH)return eA;CH=1,eA=e,e.displayName="less",e.aliases=[];function e(t){t.languages.less=t.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),t.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})}return eA}var tA,TH;function Vj(){if(TH)return tA;TH=1,tA=e,e.displayName="scheme",e.aliases=[];function e(t){(function(n){n.languages.scheme={comment:/;.*|#;\s*(?:\((?:[^()]|\([^()]*\))*\)|\[(?:[^\[\]]|\[[^\[\]]*\])*\])|#\|(?:[^#|]|#(?!\|)|\|(?!#)|#\|(?:[^#|]|#(?!\|)|\|(?!#))*\|#)*\|#/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},symbol:{pattern:/'[^()\[\]#'\s]+/,greedy:!0},char:{pattern:/#\\(?:[ux][a-fA-F\d]+\b|[-a-zA-Z]+\b|[\uD800-\uDBFF][\uDC00-\uDFFF]|\S)/,greedy:!0},"lambda-parameter":[{pattern:/((?:^|[^'`#])[(\[]lambda\s+)(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)/,lookbehind:!0},{pattern:/((?:^|[^'`#])[(\[]lambda\s+[(\[])[^()\[\]']+/,lookbehind:!0}],keyword:{pattern:/((?:^|[^'`#])[(\[])(?:begin|case(?:-lambda)?|cond(?:-expand)?|define(?:-library|-macro|-record-type|-syntax|-values)?|defmacro|delay(?:-force)?|do|else|except|export|guard|if|import|include(?:-ci|-library-declarations)?|lambda|let(?:rec)?(?:-syntax|-values|\*)?|let\*-values|only|parameterize|prefix|(?:quasi-?)?quote|rename|set!|syntax-(?:case|rules)|unless|unquote(?:-splicing)?|when)(?=[()\[\]\s]|$)/,lookbehind:!0},builtin:{pattern:/((?:^|[^'`#])[(\[])(?:abs|and|append|apply|assoc|ass[qv]|binary-port\?|boolean=?\?|bytevector(?:-append|-copy|-copy!|-length|-u8-ref|-u8-set!|\?)?|caar|cadr|call-with-(?:current-continuation|port|values)|call\/cc|car|cdar|cddr|cdr|ceiling|char(?:->integer|-ready\?|\?|<\?|<=\?|=\?|>\?|>=\?)|close-(?:input-port|output-port|port)|complex\?|cons|current-(?:error|input|output)-port|denominator|dynamic-wind|eof-object\??|eq\?|equal\?|eqv\?|error|error-object(?:-irritants|-message|\?)|eval|even\?|exact(?:-integer-sqrt|-integer\?|\?)?|expt|features|file-error\?|floor(?:-quotient|-remainder|\/)?|flush-output-port|for-each|gcd|get-output-(?:bytevector|string)|inexact\??|input-port(?:-open\?|\?)|integer(?:->char|\?)|lcm|length|list(?:->string|->vector|-copy|-ref|-set!|-tail|\?)?|make-(?:bytevector|list|parameter|string|vector)|map|max|member|memq|memv|min|modulo|negative\?|newline|not|null\?|number(?:->string|\?)|numerator|odd\?|open-(?:input|output)-(?:bytevector|string)|or|output-port(?:-open\?|\?)|pair\?|peek-char|peek-u8|port\?|positive\?|procedure\?|quotient|raise|raise-continuable|rational\?|rationalize|read-(?:bytevector|bytevector!|char|error\?|line|string|u8)|real\?|remainder|reverse|round|set-c[ad]r!|square|string(?:->list|->number|->symbol|->utf8|->vector|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?|<\?|<=\?|=\?|>\?|>=\?)?|substring|symbol(?:->string|\?|=\?)|syntax-error|textual-port\?|truncate(?:-quotient|-remainder|\/)?|u8-ready\?|utf8->string|values|vector(?:->list|->string|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?)?|with-exception-handler|write-(?:bytevector|char|string|u8)|zero\?)(?=[()\[\]\s]|$)/,lookbehind:!0},operator:{pattern:/((?:^|[^'`#])[(\[])(?:[-+*%/]|[<>]=?|=>?)(?=[()\[\]\s]|$)/,lookbehind:!0},number:{pattern:RegExp(r({"<ureal dec>":/\d+(?:\/\d+)|(?:\d+(?:\.\d*)?|\.\d+)(?:[esfdl][+-]?\d+)?/.source,"<real dec>":/[+-]?<ureal dec>|[+-](?:inf|nan)\.0/.source,"<imaginary dec>":/[+-](?:<ureal dec>|(?:inf|nan)\.0)?i/.source,"<complex dec>":/<real dec>(?:@<real dec>|<imaginary dec>)?|<imaginary dec>/.source,"<num dec>":/(?:#d(?:#[ei])?|#[ei](?:#d)?)?<complex dec>/.source,"<ureal box>":/[0-9a-f]+(?:\/[0-9a-f]+)?/.source,"<real box>":/[+-]?<ureal box>|[+-](?:inf|nan)\.0/.source,"<imaginary box>":/[+-](?:<ureal box>|(?:inf|nan)\.0)?i/.source,"<complex box>":/<real box>(?:@<real box>|<imaginary box>)?|<imaginary box>/.source,"<num box>":/#[box](?:#[ei])?|(?:#[ei])?#[box]<complex box>/.source,"<number>":/(^|[()\[\]\s])(?:<num dec>|<num box>)(?=[()\[\]\s]|$)/.source}),"i"),lookbehind:!0},boolean:{pattern:/(^|[()\[\]\s])#(?:[ft]|false|true)(?=[()\[\]\s]|$)/,lookbehind:!0},function:{pattern:/((?:^|[^'`#])[(\[])(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)(?=[()\[\]\s]|$)/,lookbehind:!0},identifier:{pattern:/(^|[()\[\]\s])\|(?:[^\\|]|\\.)*\|(?=[()\[\]\s]|$)/,lookbehind:!0,greedy:!0},punctuation:/[()\[\]']/};function r(i){for(var d in i)i[d]=i[d].replace(/<[\w\s]+>/g,function(g){return"(?:"+i[g].trim()+")"});return i[d]}})(t)}return tA}var nA,MH;function rke(){if(MH)return nA;MH=1;var e=Vj();nA=t,t.displayName="lilypond",t.aliases=[];function t(n){n.register(e),function(r){for(var i=/\((?:[^();"#\\]|\\[\s\S]|;.*(?!.)|"(?:[^"\\]|\\.)*"|#(?:\{(?:(?!#\})[\s\S])*#\}|[^{])|<expr>)*\)/.source,d=5,g=0;g<d;g++)i=i.replace(/<expr>/g,function(){return i});i=i.replace(/<expr>/g,/[^\s\S]/.source);var v=r.languages.lilypond={comment:/%(?:(?!\{).*|\{[\s\S]*?%\})/,"embedded-scheme":{pattern:RegExp(/(^|[=\s])#(?:"(?:[^"\\]|\\.)*"|[^\s()"]*(?:[^\s()]|<expr>))/.source.replace(/<expr>/g,function(){return i}),"m"),lookbehind:!0,greedy:!0,inside:{scheme:{pattern:/^(#)[\s\S]+$/,lookbehind:!0,alias:"language-scheme",inside:{"embedded-lilypond":{pattern:/#\{[\s\S]*?#\}/,greedy:!0,inside:{punctuation:/^#\{|#\}$/,lilypond:{pattern:/[\s\S]+/,alias:"language-lilypond",inside:null}}},rest:r.languages.scheme}},punctuation:/#/}},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":{pattern:/(\\new\s+)[\w-]+/,lookbehind:!0},keyword:{pattern:/\\[a-z][-\w]*/i,inside:{punctuation:/^\\/}},operator:/[=|]|<<|>>/,punctuation:{pattern:/(^|[a-z\d])(?:'+|,+|[_^]?-[_^]?(?:[-+^!>._]|(?=\d))|[_^]\.?|[.!])|[{}()[\]<>^~]|\\[()[\]<>\\!]|--|__/,lookbehind:!0},number:/\b\d+(?:\/\d+)?\b/};v["embedded-scheme"].inside.scheme.inside["embedded-lilypond"].inside.lilypond.inside=v,r.languages.ly=v}(n)}return nA}var rA,_H;function ake(){if(_H)return rA;_H=1;var e=Js();rA=t,t.displayName="liquid",t.aliases=[];function t(n){n.register(e),n.languages.liquid={comment:{pattern:/(^\{%\s*comment\s*%\})[\s\S]+(?=\{%\s*endcomment\s*%\}$)/,lookbehind:!0},delimiter:{pattern:/^\{(?:\{\{|[%\{])-?|-?(?:\}\}|[%\}])\}$/,alias:"punctuation"},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},keyword:/\b(?:as|assign|break|(?:end)?(?:capture|case|comment|for|form|if|paginate|raw|style|tablerow|unless)|continue|cycle|decrement|echo|else|elsif|in|include|increment|limit|liquid|offset|range|render|reversed|section|when|with)\b/,object:/\b(?:address|all_country_option_tags|article|block|blog|cart|checkout|collection|color|country|country_option_tags|currency|current_page|current_tags|customer|customer_address|date|discount_allocation|discount_application|external_video|filter|filter_value|font|forloop|fulfillment|generic_file|gift_card|group|handle|image|line_item|link|linklist|localization|location|measurement|media|metafield|model|model_source|order|page|page_description|page_image|page_title|part|policy|product|product_option|recommendations|request|robots|routes|rule|script|search|selling_plan|selling_plan_allocation|selling_plan_group|shipping_method|shop|shop_locale|sitemap|store_availability|tax_line|template|theme|transaction|unit_price_measurement|user_agent|variant|video|video_source)\b/,function:[{pattern:/(\|\s*)\w+/,lookbehind:!0,alias:"filter"},{pattern:/(\.\s*)(?:first|last|size)/,lookbehind:!0}],boolean:/\b(?:false|nil|true)\b/,range:{pattern:/\.\./,alias:"operator"},number:/\b\d+(?:\.\d+)?\b/,operator:/[!=]=|<>|[<>]=?|[|?:=-]|\b(?:and|contains(?=\s)|or)\b/,punctuation:/[.,\[\]()]/,empty:{pattern:/\bempty\b/,alias:"keyword"}},n.hooks.add("before-tokenize",function(r){var i=/\{%\s*comment\s*%\}[\s\S]*?\{%\s*endcomment\s*%\}|\{(?:%[\s\S]*?%|\{\{[\s\S]*?\}\}|\{[\s\S]*?\})\}/g,d=!1;n.languages["markup-templating"].buildPlaceholders(r,"liquid",i,function(g){var v=/^\{%-?\s*(\w+)/.exec(g);if(v){var S=v[1];if(S==="raw"&&!d)return d=!0,!0;if(S==="endraw")return d=!1,!0}return!d})}),n.hooks.add("after-tokenize",function(r){n.languages["markup-templating"].tokenizePlaceholders(r,"liquid")})}return rA}var aA,xH;function ike(){if(xH)return aA;xH=1,aA=e,e.displayName="lisp",e.aliases=[];function e(t){(function(n){function r(O){return RegExp(/(\()/.source+"(?:"+O+")"+/(?=[\s\)])/.source)}function i(O){return RegExp(/([\s([])/.source+"(?:"+O+")"+/(?=[\s)])/.source)}var d=/(?!\d)[-+*/~!@$%^=<>{}\w]+/.source,g="&"+d,v="(\\()",S="(?=\\))",I="(?=\\s)",T=/(?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\))*\))*\))*/.source,_={heading:{pattern:/;;;.*/,alias:["comment","title"]},comment:/;.*/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0,inside:{argument:/[-A-Z]+(?=[.,\s])/,symbol:RegExp("`"+d+"'")}},"quoted-symbol":{pattern:RegExp("#?'"+d),alias:["variable","symbol"]},"lisp-property":{pattern:RegExp(":"+d),alias:"property"},splice:{pattern:RegExp(",@?"+d),alias:["symbol","variable"]},keyword:[{pattern:RegExp(v+"(?:and|(?:cl-)?letf|cl-loop|cond|cons|error|if|(?:lexical-)?let\\*?|message|not|null|or|provide|require|setq|unless|use-package|when|while)"+I),lookbehind:!0},{pattern:RegExp(v+"(?:append|by|collect|concat|do|finally|for|in|return)"+I),lookbehind:!0}],declare:{pattern:r(/declare/.source),lookbehind:!0,alias:"keyword"},interactive:{pattern:r(/interactive/.source),lookbehind:!0,alias:"keyword"},boolean:{pattern:i(/nil|t/.source),lookbehind:!0},number:{pattern:i(/[-+]?\d+(?:\.\d*)?/.source),lookbehind:!0},defvar:{pattern:RegExp(v+"def(?:const|custom|group|var)\\s+"+d),lookbehind:!0,inside:{keyword:/^def[a-z]+/,variable:RegExp(d)}},defun:{pattern:RegExp(v+/(?:cl-)?(?:defmacro|defun\*?)\s+/.source+d+/\s+\(/.source+T+/\)/.source),lookbehind:!0,greedy:!0,inside:{keyword:/^(?:cl-)?def\S+/,arguments:null,function:{pattern:RegExp("(^\\s)"+d),lookbehind:!0},punctuation:/[()]/}},lambda:{pattern:RegExp(v+"lambda\\s+\\(\\s*(?:&?"+d+"(?:\\s+&?"+d+")*\\s*)?\\)"),lookbehind:!0,greedy:!0,inside:{keyword:/^lambda/,arguments:null,punctuation:/[()]/}},car:{pattern:RegExp(v+d),lookbehind:!0},punctuation:[/(?:['`,]?\(|[)\[\]])/,{pattern:/(\s)\.(?=\s)/,lookbehind:!0}]},N={"lisp-marker":RegExp(g),varform:{pattern:RegExp(/\(/.source+d+/\s+(?=\S)/.source+T+/\)/.source),inside:_},argument:{pattern:RegExp(/(^|[\s(])/.source+d),lookbehind:!0,alias:"variable"},rest:_},A="\\S+(?:\\s+\\S+)*",w={pattern:RegExp(v+T+S),lookbehind:!0,inside:{"rest-vars":{pattern:RegExp("&(?:body|rest)\\s+"+A),inside:N},"other-marker-vars":{pattern:RegExp("&(?:aux|optional)\\s+"+A),inside:N},keys:{pattern:RegExp("&key\\s+"+A+"(?:\\s+&allow-other-keys)?"),inside:N},argument:{pattern:RegExp(d),alias:"variable"},punctuation:/[()]/}};_.lambda.inside.arguments=w,_.defun.inside.arguments=n.util.clone(w),_.defun.inside.arguments.inside.sublist=w,n.languages.lisp=_,n.languages.elisp=_,n.languages.emacs=_,n.languages["emacs-lisp"]=_})(t)}return aA}var iA,wH;function oke(){if(wH)return iA;wH=1,iA=e,e.displayName="livescript",e.aliases=[];function e(t){t.languages.livescript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\])#.*/,lookbehind:!0}],"interpolated-string":{pattern:/(^|[^"])("""|")(?:\\[\s\S]|(?!\2)[^\\])*\2(?!")/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/(^|[^\\])#[a-z_](?:-?[a-z]|[\d_])*/m,lookbehind:!0},interpolation:{pattern:/(^|[^\\])#\{[^}]+\}/m,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^#\{|\}$/,alias:"variable"}}},string:/[\s\S]+/}},string:[{pattern:/('''|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},{pattern:/<\[[\s\S]*?\]>/,greedy:!0},/\\[^\s,;\])}]+/],regex:[{pattern:/\/\/(?:\[[^\r\n\]]*\]|\\.|(?!\/\/)[^\\\[])+\/\/[gimyu]{0,5}/,greedy:!0,inside:{comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0}}},{pattern:/\/(?:\[[^\r\n\]]*\]|\\.|[^/\\\r\n\[])+\/[gimyu]{0,5}/,greedy:!0}],keyword:{pattern:/(^|(?!-).)\b(?:break|case|catch|class|const|continue|default|do|else|extends|fallthrough|finally|for(?: ever)?|function|if|implements|it|let|loop|new|null|otherwise|own|return|super|switch|that|then|this|throw|try|unless|until|var|void|when|while|yield)(?!-)\b/m,lookbehind:!0},"keyword-operator":{pattern:/(^|[^-])\b(?:(?:delete|require|typeof)!|(?:and|by|delete|export|from|import(?: all)?|in|instanceof|is(?: not|nt)?|not|of|or|til|to|typeof|with|xor)(?!-)\b)/m,lookbehind:!0,alias:"operator"},boolean:{pattern:/(^|[^-])\b(?:false|no|off|on|true|yes)(?!-)\b/m,lookbehind:!0},argument:{pattern:/(^|(?!\.&\.)[^&])&(?!&)\d*/m,lookbehind:!0,alias:"variable"},number:/\b(?:\d+~[\da-z]+|\d[\d_]*(?:\.\d[\d_]*)?(?:[a-z]\w*)?)/i,identifier:/[a-z_](?:-?[a-z]|[\d_])*/i,operator:[{pattern:/( )\.(?= )/,lookbehind:!0},/\.(?:[=~]|\.\.?)|\.(?:[&|^]|<<|>>>?)\.|:(?:=|:=?)|&&|\|[|>]|<(?:<<?<?|--?!?|~~?!?|[|=?])?|>[>=?]?|-(?:->?|>)?|\+\+?|@@?|%%?|\*\*?|!(?:~?=|--?>|~?~>)?|~(?:~?>|=)?|==?|\^\^?|[\/?]/],punctuation:/[(){}\[\]|.,:;`]/},t.languages.livescript["interpolated-string"].inside.interpolation.inside.rest=t.languages.livescript}return iA}var oA,NH;function ske(){if(NH)return oA;NH=1,oA=e,e.displayName="llvm",e.aliases=[];function e(t){(function(n){n.languages.llvm={comment:/;.*/,string:{pattern:/"[^"]*"/,greedy:!0},boolean:/\b(?:false|true)\b/,variable:/[%@!#](?:(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+|\d+)/i,label:/(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+:/i,type:{pattern:/\b(?:double|float|fp128|half|i[1-9]\d*|label|metadata|ppc_fp128|token|void|x86_fp80|x86_mmx)\b/,alias:"class-name"},keyword:/\b[a-z_][a-z_0-9]*\b/,number:/[+-]?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-Fa-f]+\b|\b0xK[\dA-Fa-f]{20}\b|\b0x[ML][\dA-Fa-f]{32}\b|\b0xH[\dA-Fa-f]{4}\b/,punctuation:/[{}[\];(),.!*=<>]/}})(t)}return oA}var sA,RH;function lke(){if(RH)return sA;RH=1,sA=e,e.displayName="log",e.aliases=[];function e(t){t.languages.log={string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?![st] | \w)(?:[^'\\\r\n]|\\.)*'/,greedy:!0},exception:{pattern:/(^|[^\w.])[a-z][\w.]*(?:Error|Exception):.*(?:(?:\r\n?|\n)[ \t]*(?:at[ \t].+|\.{3}.*|Caused by:.*))+(?:(?:\r\n?|\n)[ \t]*\.\.\. .*)?/,lookbehind:!0,greedy:!0,alias:["javastacktrace","language-javastacktrace"],inside:t.languages.javastacktrace||{keyword:/\bat\b/,function:/[a-z_][\w$]*(?=\()/,punctuation:/[.:()]/}},level:[{pattern:/\b(?:ALERT|CRIT|CRITICAL|EMERG|EMERGENCY|ERR|ERROR|FAILURE|FATAL|SEVERE)\b/,alias:["error","important"]},{pattern:/\b(?:WARN|WARNING|WRN)\b/,alias:["warning","important"]},{pattern:/\b(?:DISPLAY|INF|INFO|NOTICE|STATUS)\b/,alias:["info","keyword"]},{pattern:/\b(?:DBG|DEBUG|FINE)\b/,alias:["debug","keyword"]},{pattern:/\b(?:FINER|FINEST|TRACE|TRC|VERBOSE|VRB)\b/,alias:["trace","comment"]}],property:{pattern:/((?:^|[\]|])[ \t]*)[a-z_](?:[\w-]|\b\/\b)*(?:[. ]\(?\w(?:[\w-]|\b\/\b)*\)?)*:(?=\s)/im,lookbehind:!0},separator:{pattern:/(^|[^-+])-{3,}|={3,}|\*{3,}|- - /m,lookbehind:!0,alias:"comment"},url:/\b(?:file|ftp|https?):\/\/[^\s|,;'"]*[^\s|,;'">.]/,email:{pattern:/(^|\s)[-\w+.]+@[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)+(?=\s)/,lookbehind:!0,alias:"url"},"ip-address":{pattern:/\b(?:\d{1,3}(?:\.\d{1,3}){3})\b/,alias:"constant"},"mac-address":{pattern:/\b[a-f0-9]{2}(?::[a-f0-9]{2}){5}\b/i,alias:"constant"},domain:{pattern:/(^|\s)[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)*\.[a-z][a-z0-9-]+(?=\s)/,lookbehind:!0,alias:"constant"},uuid:{pattern:/\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\b/i,alias:"constant"},hash:{pattern:/\b(?:[a-f0-9]{32}){1,2}\b/i,alias:"constant"},"file-path":{pattern:/\b[a-z]:[\\/][^\s|,;:(){}\[\]"']+|(^|[\s:\[\](>|])\.{0,2}\/\w[^\s|,;:(){}\[\]"']*/i,lookbehind:!0,greedy:!0,alias:"string"},date:{pattern:RegExp(/\b\d{4}[-/]\d{2}[-/]\d{2}(?:T(?=\d{1,2}:)|(?=\s\d{1,2}:))/.source+"|"+/\b\d{1,4}[-/ ](?:\d{1,2}|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)[-/ ]\d{2,4}T?\b/.source+"|"+/\b(?:(?:Fri|Mon|Sat|Sun|Thu|Tue|Wed)(?:\s{1,2}(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep))?|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)\s{1,2}\d{1,2}\b/.source,"i"),alias:"number"},time:{pattern:/\b\d{1,2}:\d{1,2}:\d{1,2}(?:[.,:]\d+)?(?:\s?[+-]\d{2}:?\d{2}|Z)?\b/,alias:"number"},boolean:/\b(?:false|null|true)\b/i,number:{pattern:/(^|[^.\w])(?:0x[a-f0-9]+|0o[0-7]+|0b[01]+|v?\d[\da-f]*(?:\.\d+)*(?:e[+-]?\d+)?[a-z]{0,3}\b)\b(?!\.\w)/i,lookbehind:!0},operator:/[;:?<=>~/@!$%&+\-|^(){}*#]/,punctuation:/[\[\].,]/}}return sA}var lA,AH;function cke(){if(AH)return lA;AH=1,lA=e,e.displayName="lolcode",e.aliases=[];function e(t){t.languages.lolcode={comment:[/\bOBTW\s[\s\S]*?\sTLDR\b/,/\bBTW.+/],string:{pattern:/"(?::.|[^":])*"/,inside:{variable:/:\{[^}]+\}/,symbol:[/:\([a-f\d]+\)/i,/:\[[^\]]+\]/,/:[)>o":]/]},greedy:!0},number:/(?:\B-)?(?:\b\d+(?:\.\d*)?|\B\.\d+)/,symbol:{pattern:/(^|\s)(?:A )?(?:BUKKIT|NOOB|NUMBAR|NUMBR|TROOF|YARN)(?=\s|,|$)/,lookbehind:!0,inside:{keyword:/A(?=\s)/}},label:{pattern:/((?:^|\s)(?:IM IN YR|IM OUTTA YR) )[a-zA-Z]\w*/,lookbehind:!0,alias:"string"},function:{pattern:/((?:^|\s)(?:HOW IZ I|I IZ|IZ) )[a-zA-Z]\w*/,lookbehind:!0},keyword:[{pattern:/(^|\s)(?:AN|FOUND YR|GIMMEH|GTFO|HAI|HAS A|HOW IZ I|I HAS A|I IZ|IF U SAY SO|IM IN YR|IM OUTTA YR|IS NOW(?: A)?|ITZ(?: A)?|IZ|KTHX|KTHXBYE|LIEK(?: A)?|MAEK|MEBBE|MKAY|NERFIN|NO WAI|O HAI IM|O RLY\?|OIC|OMG|OMGWTF|R|SMOOSH|SRS|TIL|UPPIN|VISIBLE|WILE|WTF\?|YA RLY|YR)(?=\s|,|$)/,lookbehind:!0},/'Z(?=\s|,|$)/],boolean:{pattern:/(^|\s)(?:FAIL|WIN)(?=\s|,|$)/,lookbehind:!0},variable:{pattern:/(^|\s)IT(?=\s|,|$)/,lookbehind:!0},operator:{pattern:/(^|\s)(?:NOT|BOTH SAEM|DIFFRINT|(?:ALL|ANY|BIGGR|BOTH|DIFF|EITHER|MOD|PRODUKT|QUOSHUNT|SMALLR|SUM|WON) OF)(?=\s|,|$)/,lookbehind:!0},punctuation:/\.{3}|…|,|!/}}return lA}var cA,OH;function uke(){if(OH)return cA;OH=1,cA=e,e.displayName="magma",e.aliases=[];function e(t){t.languages.magma={output:{pattern:/^(>.*(?:\r(?:\n|(?!\n))|\n))(?!>)(?:.+|(?:\r(?:\n|(?!\n))|\n)(?!>).*)(?:(?:\r(?:\n|(?!\n))|\n)(?!>).*)*/m,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\"])"(?:[^\r\n\\"]|\\.)*"/,lookbehind:!0,greedy:!0},keyword:/\b(?:_|adj|and|assert|assert2|assert3|assigned|break|by|case|cat|catch|clear|cmpeq|cmpne|continue|declare|default|delete|diff|div|do|elif|else|end|eq|error|eval|exists|exit|for|forall|forward|fprintf|freeze|function|ge|gt|if|iload|import|in|intrinsic|is|join|le|load|local|lt|meet|mod|ne|not|notadj|notin|notsubset|or|print|printf|procedure|quit|random|read|readi|repeat|require|requirege|requirerange|restore|return|save|sdiff|select|subset|then|time|to|try|until|vprint|vprintf|vtime|when|where|while|xor)\b/,boolean:/\b(?:false|true)\b/,generator:{pattern:/\b[a-z_]\w*(?=\s*<)/i,alias:"class-name"},function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},operator:/->|[-+*/^~!|#=]|:=|\.\./,punctuation:/[()[\]{}<>,;.:]/}}return cA}var uA,kH;function dke(){if(kH)return uA;kH=1,uA=e,e.displayName="makefile",e.aliases=[];function e(t){t.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/}}return uA}var dA,LH;function pke(){if(LH)return dA;LH=1,dA=e,e.displayName="markdown",e.aliases=["md"];function e(t){(function(n){var r=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function i(N){return N=N.replace(/<inner>/g,function(){return r}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+N+")")}var d=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,g=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return d}),v=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;n.languages.markdown=n.languages.extend("markup",{}),n.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:n.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+g+v+"(?:"+g+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+g+v+")(?:"+g+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(d),inside:n.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+g+")"+v+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+g+"$"),inside:{"table-header":{pattern:RegExp(d),alias:"important",inside:n.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:i(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:i(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:i(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:i(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(N){["url","bold","italic","strike","code-snippet"].forEach(function(A){N!==A&&(n.languages.markdown[N].inside.content.inside[A]=n.languages.markdown[A])})}),n.hooks.add("after-tokenize",function(N){if(N.language!=="markdown"&&N.language!=="md")return;function A(w){if(!(!w||typeof w=="string"))for(var O=0,R=w.length;O<R;O++){var D=w[O];if(D.type!=="code"){A(D.content);continue}var j=D.content[1],L=D.content[3];if(j&&L&&j.type==="code-language"&&L.type==="code-block"&&typeof j.content=="string"){var U=j.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");U=(/[a-z][\w-]*/i.exec(U)||[""])[0].toLowerCase();var $="language-"+U;L.alias?typeof L.alias=="string"?L.alias=[L.alias,$]:L.alias.push($):L.alias=[$]}}}A(N.tokens)}),n.hooks.add("wrap",function(N){if(N.type==="code-block"){for(var A="",w=0,O=N.classes.length;w<O;w++){var R=N.classes[w],D=/language-(.+)/.exec(R);if(D){A=D[1];break}}var j=n.languages[A];if(j)N.content=n.highlight(_(N.content.value),j,A);else if(A&&A!=="none"&&n.plugins.autoloader){var L="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);N.attributes.id=L,n.plugins.autoloader.loadLanguages(A,function(){var U=document.getElementById(L);U&&(U.innerHTML=n.highlight(U.textContent,n.languages[A],A))})}}});var S=RegExp(n.languages.markup.tag.pattern.source,"gi"),I={amp:"&",lt:"<",gt:">",quot:'"'},T=String.fromCodePoint||String.fromCharCode;function _(N){var A=N.replace(S,"");return A=A.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(w,O){if(O=O.toLowerCase(),O[0]==="#"){var R;return O[1]==="x"?R=parseInt(O.slice(2),16):R=Number(O.slice(1)),T(R)}else{var D=I[O];return D||w}}),A}n.languages.md=n.languages.markdown})(t)}return dA}var pA,PH;function mke(){if(PH)return pA;PH=1,pA=e,e.displayName="matlab",e.aliases=[];function e(t){t.languages.matlab={comment:[/%\{[\s\S]*?\}%/,/%.+/],string:{pattern:/\B'(?:''|[^'\r\n])*'/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?(?:[ij])?|\b[ij]\b/,keyword:/\b(?:NaN|break|case|catch|continue|else|elseif|end|for|function|if|inf|otherwise|parfor|pause|pi|return|switch|try|while)\b/,function:/\b(?!\d)\w+(?=\s*\()/,operator:/\.?[*^\/\\']|[+\-:@]|[<>=~]=?|&&?|\|\|?/,punctuation:/\.{3}|[.,;\[\](){}!]/}}return pA}var mA,DH;function fke(){if(DH)return mA;DH=1,mA=e,e.displayName="maxscript",e.aliases=[];function e(t){(function(n){var r=/\b(?:about|and|animate|as|at|attributes|by|case|catch|collect|continue|coordsys|do|else|exit|fn|for|from|function|global|if|in|local|macroscript|mapped|max|not|of|off|on|or|parameters|persistent|plugin|rcmenu|return|rollout|set|struct|then|throw|to|tool|try|undo|utility|when|where|while|with)\b/i;n.languages.maxscript={comment:{pattern:/\/\*[\s\S]*?(?:\*\/|$)|--.*/,greedy:!0},string:{pattern:/(^|[^"\\@])(?:"(?:[^"\\]|\\[\s\S])*"|@"[^"]*")/,lookbehind:!0,greedy:!0},path:{pattern:/\$(?:[\w/\\.*?]|'[^']*')*/,greedy:!0,alias:"string"},"function-call":{pattern:RegExp("((?:"+(/^/.source+"|"+/[;=<>+\-*/^({\[]/.source+"|"+/\b(?:and|by|case|catch|collect|do|else|if|in|not|or|return|then|to|try|where|while|with)\b/.source)+")[ 	]*)(?!"+r.source+")"+/[a-z_]\w*\b/.source+"(?=[ 	]*(?:"+("(?!"+r.source+")"+/[a-z_]/.source+"|"+/\d|-\.?\d/.source+"|"+/[({'"$@#?]/.source)+"))","im"),lookbehind:!0,greedy:!0,alias:"function"},"function-definition":{pattern:/(\b(?:fn|function)\s+)\w+\b/i,lookbehind:!0,alias:"function"},argument:{pattern:/\b[a-z_]\w*(?=:)/i,alias:"attr-name"},keyword:r,boolean:/\b(?:false|true)\b/,time:{pattern:/(^|[^\w.])(?:(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?[msft])+|\d+:\d+(?:\.\d*)?)(?![\w.:])/,lookbehind:!0,alias:"number"},number:[{pattern:/(^|[^\w.])(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?|0x[a-fA-F0-9]+)(?![\w.:])/,lookbehind:!0},/\b(?:e|pi)\b/],constant:/\b(?:dontcollect|ok|silentValue|undefined|unsupplied)\b/,color:{pattern:/\b(?:black|blue|brown|gray|green|orange|red|white|yellow)\b/i,alias:"constant"},operator:/[-+*/<>=!]=?|[&^?]|#(?!\()/,punctuation:/[()\[\]{}.:,;]|#(?=\()|\\$/m}})(t)}return mA}var fA,jH;function gke(){if(jH)return fA;jH=1,fA=e,e.displayName="mel",e.aliases=[];function e(t){t.languages.mel={comment:/\/\/.*/,code:{pattern:/`(?:\\.|[^\\`\r\n])*`/,greedy:!0,alias:"italic",inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"}}},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},variable:/\$\w+/,number:/\b0x[\da-fA-F]+\b|\b\d+(?:\.\d*)?|\B\.\d+/,flag:{pattern:/-[^\d\W]\w*/,alias:"operator"},keyword:/\b(?:break|case|continue|default|do|else|float|for|global|if|in|int|matrix|proc|return|string|switch|vector|while)\b/,function:/\b\w+(?=\()|\b(?:CBG|HfAddAttractorToAS|HfAssignAS|HfBuildEqualMap|HfBuildFurFiles|HfBuildFurImages|HfCancelAFR|HfConnectASToHF|HfCreateAttractor|HfDeleteAS|HfEditAS|HfPerformCreateAS|HfRemoveAttractorFromAS|HfSelectAttached|HfSelectAttractors|HfUnAssignAS|Mayatomr|about|abs|addAttr|addAttributeEditorNodeHelp|addDynamic|addNewShelfTab|addPP|addPanelCategory|addPrefixToName|advanceToNextDrivenKey|affectedNet|affects|aimConstraint|air|alias|aliasAttr|align|alignCtx|alignCurve|alignSurface|allViewFit|ambientLight|angle|angleBetween|animCone|animCurveEditor|animDisplay|animView|annotate|appendStringArray|applicationName|applyAttrPreset|applyTake|arcLenDimContext|arcLengthDimension|arclen|arrayMapper|art3dPaintCtx|artAttrCtx|artAttrPaintVertexCtx|artAttrSkinPaintCtx|artAttrTool|artBuildPaintMenu|artFluidAttrCtx|artPuttyCtx|artSelectCtx|artSetPaintCtx|artUserPaintCtx|assignCommand|assignInputDevice|assignViewportFactories|attachCurve|attachDeviceAttr|attachSurface|attrColorSliderGrp|attrCompatibility|attrControlGrp|attrEnumOptionMenu|attrEnumOptionMenuGrp|attrFieldGrp|attrFieldSliderGrp|attrNavigationControlGrp|attrPresetEditWin|attributeExists|attributeInfo|attributeMenu|attributeQuery|autoKeyframe|autoPlace|bakeClip|bakeFluidShading|bakePartialHistory|bakeResults|bakeSimulation|basename|basenameEx|batchRender|bessel|bevel|bevelPlus|binMembership|bindSkin|blend2|blendShape|blendShapeEditor|blendShapePanel|blendTwoAttr|blindDataType|boneLattice|boundary|boxDollyCtx|boxZoomCtx|bufferCurve|buildBookmarkMenu|buildKeyframeMenu|button|buttonManip|cacheFile|cacheFileCombine|cacheFileMerge|cacheFileTrack|camera|cameraView|canCreateManip|canvas|capitalizeString|catch|catchQuiet|ceil|changeSubdivComponentDisplayLevel|changeSubdivRegion|channelBox|character|characterMap|characterOutlineEditor|characterize|chdir|checkBox|checkBoxGrp|checkDefaultRenderGlobals|choice|circle|circularFillet|clamp|clear|clearCache|clip|clipEditor|clipEditorCurrentTimeCtx|clipSchedule|clipSchedulerOutliner|clipTrimBefore|closeCurve|closeSurface|cluster|cmdFileOutput|cmdScrollFieldExecuter|cmdScrollFieldReporter|cmdShell|coarsenSubdivSelectionList|collision|color|colorAtPoint|colorEditor|colorIndex|colorIndexSliderGrp|colorSliderButtonGrp|colorSliderGrp|columnLayout|commandEcho|commandLine|commandPort|compactHairSystem|componentEditor|compositingInterop|computePolysetVolume|condition|cone|confirmDialog|connectAttr|connectControl|connectDynamic|connectJoint|connectionInfo|constrain|constrainValue|constructionHistory|container|containsMultibyte|contextInfo|control|convertFromOldLayers|convertIffToPsd|convertLightmap|convertSolidTx|convertTessellation|convertUnit|copyArray|copyFlexor|copyKey|copySkinWeights|cos|cpButton|cpCache|cpClothSet|cpCollision|cpConstraint|cpConvClothToMesh|cpForces|cpGetSolverAttr|cpPanel|cpProperty|cpRigidCollisionFilter|cpSeam|cpSetEdit|cpSetSolverAttr|cpSolver|cpSolverTypes|cpTool|cpUpdateClothUVs|createDisplayLayer|createDrawCtx|createEditor|createLayeredPsdFile|createMotionField|createNewShelf|createNode|createRenderLayer|createSubdivRegion|cross|crossProduct|ctxAbort|ctxCompletion|ctxEditMode|ctxTraverse|currentCtx|currentTime|currentTimeCtx|currentUnit|curve|curveAddPtCtx|curveCVCtx|curveEPCtx|curveEditorCtx|curveIntersect|curveMoveEPCtx|curveOnSurface|curveSketchCtx|cutKey|cycleCheck|cylinder|dagPose|date|defaultLightListCheckBox|defaultNavigation|defineDataServer|defineVirtualDevice|deformer|deg_to_rad|delete|deleteAttr|deleteShadingGroupsAndMaterials|deleteShelfTab|deleteUI|deleteUnusedBrushes|delrandstr|detachCurve|detachDeviceAttr|detachSurface|deviceEditor|devicePanel|dgInfo|dgdirty|dgeval|dgtimer|dimWhen|directKeyCtx|directionalLight|dirmap|dirname|disable|disconnectAttr|disconnectJoint|diskCache|displacementToPoly|displayAffected|displayColor|displayCull|displayLevelOfDetail|displayPref|displayRGBColor|displaySmoothness|displayStats|displayString|displaySurface|distanceDimContext|distanceDimension|doBlur|dolly|dollyCtx|dopeSheetEditor|dot|dotProduct|doubleProfileBirailSurface|drag|dragAttrContext|draggerContext|dropoffLocator|duplicate|duplicateCurve|duplicateSurface|dynCache|dynControl|dynExport|dynExpression|dynGlobals|dynPaintEditor|dynParticleCtx|dynPref|dynRelEdPanel|dynRelEditor|dynamicLoad|editAttrLimits|editDisplayLayerGlobals|editDisplayLayerMembers|editRenderLayerAdjustment|editRenderLayerGlobals|editRenderLayerMembers|editor|editorTemplate|effector|emit|emitter|enableDevice|encodeString|endString|endsWith|env|equivalent|equivalentTol|erf|error|eval|evalDeferred|evalEcho|event|exactWorldBoundingBox|exclusiveLightCheckBox|exec|executeForEachObject|exists|exp|expression|expressionEditorListen|extendCurve|extendSurface|extrude|fcheck|fclose|feof|fflush|fgetline|fgetword|file|fileBrowserDialog|fileDialog|fileExtension|fileInfo|filetest|filletCurve|filter|filterCurve|filterExpand|filterStudioImport|findAllIntersections|findAnimCurves|findKeyframe|findMenuItem|findRelatedSkinCluster|finder|firstParentOf|fitBspline|flexor|floatEq|floatField|floatFieldGrp|floatScrollBar|floatSlider|floatSlider2|floatSliderButtonGrp|floatSliderGrp|floor|flow|fluidCacheInfo|fluidEmitter|fluidVoxelInfo|flushUndo|fmod|fontDialog|fopen|formLayout|format|fprint|frameLayout|fread|freeFormFillet|frewind|fromNativePath|fwrite|gamma|gauss|geometryConstraint|getApplicationVersionAsFloat|getAttr|getClassification|getDefaultBrush|getFileList|getFluidAttr|getInputDeviceRange|getMayaPanelTypes|getModifiers|getPanel|getParticleAttr|getPluginResource|getenv|getpid|glRender|glRenderEditor|globalStitch|gmatch|goal|gotoBindPose|grabColor|gradientControl|gradientControlNoAttr|graphDollyCtx|graphSelectContext|graphTrackCtx|gravity|grid|gridLayout|group|groupObjectsByName|hardenPointCurve|hardware|hardwareRenderPanel|headsUpDisplay|headsUpMessage|help|helpLine|hermite|hide|hilite|hitTest|hotBox|hotkey|hotkeyCheck|hsv_to_rgb|hudButton|hudSlider|hudSliderButton|hwReflectionMap|hwRender|hwRenderLoad|hyperGraph|hyperPanel|hyperShade|hypot|iconTextButton|iconTextCheckBox|iconTextRadioButton|iconTextRadioCollection|iconTextScrollList|iconTextStaticLabel|ikHandle|ikHandleCtx|ikHandleDisplayScale|ikSolver|ikSplineHandleCtx|ikSystem|ikSystemInfo|ikfkDisplayMethod|illustratorCurves|image|imfPlugins|inheritTransform|insertJoint|insertJointCtx|insertKeyCtx|insertKnotCurve|insertKnotSurface|instance|instanceable|instancer|intField|intFieldGrp|intScrollBar|intSlider|intSliderGrp|interToUI|internalVar|intersect|iprEngine|isAnimCurve|isConnected|isDirty|isParentOf|isSameObject|isTrue|isValidObjectName|isValidString|isValidUiName|isolateSelect|itemFilter|itemFilterAttr|itemFilterRender|itemFilterType|joint|jointCluster|jointCtx|jointDisplayScale|jointLattice|keyTangent|keyframe|keyframeOutliner|keyframeRegionCurrentTimeCtx|keyframeRegionDirectKeyCtx|keyframeRegionDollyCtx|keyframeRegionInsertKeyCtx|keyframeRegionMoveKeyCtx|keyframeRegionScaleKeyCtx|keyframeRegionSelectKeyCtx|keyframeRegionSetKeyCtx|keyframeRegionTrackCtx|keyframeStats|lassoContext|lattice|latticeDeformKeyCtx|launch|launchImageEditor|layerButton|layeredShaderPort|layeredTexturePort|layout|layoutDialog|lightList|lightListEditor|lightListPanel|lightlink|lineIntersection|linearPrecision|linstep|listAnimatable|listAttr|listCameras|listConnections|listDeviceAttachments|listHistory|listInputDeviceAxes|listInputDeviceButtons|listInputDevices|listMenuAnnotation|listNodeTypes|listPanelCategories|listRelatives|listSets|listTransforms|listUnselected|listerEditor|loadFluid|loadNewShelf|loadPlugin|loadPluginLanguageResources|loadPrefObjects|localizedPanelLabel|lockNode|loft|log|longNameOf|lookThru|ls|lsThroughFilter|lsType|lsUI|mag|makeIdentity|makeLive|makePaintable|makeRoll|makeSingleSurface|makeTubeOn|makebot|manipMoveContext|manipMoveLimitsCtx|manipOptions|manipRotateContext|manipRotateLimitsCtx|manipScaleContext|manipScaleLimitsCtx|marker|match|max|memory|menu|menuBarLayout|menuEditor|menuItem|menuItemToShelf|menuSet|menuSetPref|messageLine|min|minimizeApp|mirrorJoint|modelCurrentTimeCtx|modelEditor|modelPanel|mouse|movIn|movOut|move|moveIKtoFK|moveKeyCtx|moveVertexAlongDirection|multiProfileBirailSurface|mute|nParticle|nameCommand|nameField|namespace|namespaceInfo|newPanelItems|newton|nodeCast|nodeIconButton|nodeOutliner|nodePreset|nodeType|noise|nonLinear|normalConstraint|normalize|nurbsBoolean|nurbsCopyUVSet|nurbsCube|nurbsEditUV|nurbsPlane|nurbsSelect|nurbsSquare|nurbsToPoly|nurbsToPolygonsPref|nurbsToSubdiv|nurbsToSubdivPref|nurbsUVSet|nurbsViewDirectionVector|objExists|objectCenter|objectLayer|objectType|objectTypeUI|obsoleteProc|oceanNurbsPreviewPlane|offsetCurve|offsetCurveOnSurface|offsetSurface|openGLExtension|openMayaPref|optionMenu|optionMenuGrp|optionVar|orbit|orbitCtx|orientConstraint|outlinerEditor|outlinerPanel|overrideModifier|paintEffectsDisplay|pairBlend|palettePort|paneLayout|panel|panelConfiguration|panelHistory|paramDimContext|paramDimension|paramLocator|parent|parentConstraint|particle|particleExists|particleInstancer|particleRenderInfo|partition|pasteKey|pathAnimation|pause|pclose|percent|performanceOptions|pfxstrokes|pickWalk|picture|pixelMove|planarSrf|plane|play|playbackOptions|playblast|plugAttr|plugNode|pluginInfo|pluginResourceUtil|pointConstraint|pointCurveConstraint|pointLight|pointMatrixMult|pointOnCurve|pointOnSurface|pointPosition|poleVectorConstraint|polyAppend|polyAppendFacetCtx|polyAppendVertex|polyAutoProjection|polyAverageNormal|polyAverageVertex|polyBevel|polyBlendColor|polyBlindData|polyBoolOp|polyBridgeEdge|polyCacheMonitor|polyCheck|polyChipOff|polyClipboard|polyCloseBorder|polyCollapseEdge|polyCollapseFacet|polyColorBlindData|polyColorDel|polyColorPerVertex|polyColorSet|polyCompare|polyCone|polyCopyUV|polyCrease|polyCreaseCtx|polyCreateFacet|polyCreateFacetCtx|polyCube|polyCut|polyCutCtx|polyCylinder|polyCylindricalProjection|polyDelEdge|polyDelFacet|polyDelVertex|polyDuplicateAndConnect|polyDuplicateEdge|polyEditUV|polyEditUVShell|polyEvaluate|polyExtrudeEdge|polyExtrudeFacet|polyExtrudeVertex|polyFlipEdge|polyFlipUV|polyForceUV|polyGeoSampler|polyHelix|polyInfo|polyInstallAction|polyLayoutUV|polyListComponentConversion|polyMapCut|polyMapDel|polyMapSew|polyMapSewMove|polyMergeEdge|polyMergeEdgeCtx|polyMergeFacet|polyMergeFacetCtx|polyMergeUV|polyMergeVertex|polyMirrorFace|polyMoveEdge|polyMoveFacet|polyMoveFacetUV|polyMoveUV|polyMoveVertex|polyNormal|polyNormalPerVertex|polyNormalizeUV|polyOptUvs|polyOptions|polyOutput|polyPipe|polyPlanarProjection|polyPlane|polyPlatonicSolid|polyPoke|polyPrimitive|polyPrism|polyProjection|polyPyramid|polyQuad|polyQueryBlindData|polyReduce|polySelect|polySelectConstraint|polySelectConstraintMonitor|polySelectCtx|polySelectEditCtx|polySeparate|polySetToFaceNormal|polySewEdge|polyShortestPathCtx|polySmooth|polySoftEdge|polySphere|polySphericalProjection|polySplit|polySplitCtx|polySplitEdge|polySplitRing|polySplitVertex|polyStraightenUVBorder|polySubdivideEdge|polySubdivideFacet|polyToSubdiv|polyTorus|polyTransfer|polyTriangulate|polyUVSet|polyUnite|polyWedgeFace|popen|popupMenu|pose|pow|preloadRefEd|print|progressBar|progressWindow|projFileViewer|projectCurve|projectTangent|projectionContext|projectionManip|promptDialog|propModCtx|propMove|psdChannelOutliner|psdEditTextureFile|psdExport|psdTextureFile|putenv|pwd|python|querySubdiv|quit|rad_to_deg|radial|radioButton|radioButtonGrp|radioCollection|radioMenuItemCollection|rampColorPort|rand|randomizeFollicles|randstate|rangeControl|readTake|rebuildCurve|rebuildSurface|recordAttr|recordDevice|redo|reference|referenceEdit|referenceQuery|refineSubdivSelectionList|refresh|refreshAE|registerPluginResource|rehash|reloadImage|removeJoint|removeMultiInstance|removePanelCategory|rename|renameAttr|renameSelectionList|renameUI|render|renderGlobalsNode|renderInfo|renderLayerButton|renderLayerParent|renderLayerPostProcess|renderLayerUnparent|renderManip|renderPartition|renderQualityNode|renderSettings|renderThumbnailUpdate|renderWindowEditor|renderWindowSelectContext|renderer|reorder|reorderDeformers|requires|reroot|resampleFluid|resetAE|resetPfxToPolyCamera|resetTool|resolutionNode|retarget|reverseCurve|reverseSurface|revolve|rgb_to_hsv|rigidBody|rigidSolver|roll|rollCtx|rootOf|rot|rotate|rotationInterpolation|roundConstantRadius|rowColumnLayout|rowLayout|runTimeCommand|runup|sampleImage|saveAllShelves|saveAttrPreset|saveFluid|saveImage|saveInitialState|saveMenu|savePrefObjects|savePrefs|saveShelf|saveToolSettings|scale|scaleBrushBrightness|scaleComponents|scaleConstraint|scaleKey|scaleKeyCtx|sceneEditor|sceneUIReplacement|scmh|scriptCtx|scriptEditorInfo|scriptJob|scriptNode|scriptTable|scriptToShelf|scriptedPanel|scriptedPanelType|scrollField|scrollLayout|sculpt|searchPathArray|seed|selLoadSettings|select|selectContext|selectCurveCV|selectKey|selectKeyCtx|selectKeyframeRegionCtx|selectMode|selectPref|selectPriority|selectType|selectedNodes|selectionConnection|separator|setAttr|setAttrEnumResource|setAttrMapping|setAttrNiceNameResource|setConstraintRestPosition|setDefaultShadingGroup|setDrivenKeyframe|setDynamic|setEditCtx|setEditor|setFluidAttr|setFocus|setInfinity|setInputDeviceMapping|setKeyCtx|setKeyPath|setKeyframe|setKeyframeBlendshapeTargetWts|setMenuMode|setNodeNiceNameResource|setNodeTypeFlag|setParent|setParticleAttr|setPfxToPolyCamera|setPluginResource|setProject|setStampDensity|setStartupMessage|setState|setToolTo|setUITemplate|setXformManip|sets|shadingConnection|shadingGeometryRelCtx|shadingLightRelCtx|shadingNetworkCompare|shadingNode|shapeCompare|shelfButton|shelfLayout|shelfTabLayout|shellField|shortNameOf|showHelp|showHidden|showManipCtx|showSelectionInTitle|showShadingGroupAttrEditor|showWindow|sign|simplify|sin|singleProfileBirailSurface|size|sizeBytes|skinCluster|skinPercent|smoothCurve|smoothTangentSurface|smoothstep|snap2to2|snapKey|snapMode|snapTogetherCtx|snapshot|soft|softMod|softModCtx|sort|sound|soundControl|source|spaceLocator|sphere|sphrand|spotLight|spotLightPreviewPort|spreadSheetEditor|spring|sqrt|squareSurface|srtContext|stackTrace|startString|startsWith|stitchAndExplodeShell|stitchSurface|stitchSurfacePoints|strcmp|stringArrayCatenate|stringArrayContains|stringArrayCount|stringArrayInsertAtIndex|stringArrayIntersector|stringArrayRemove|stringArrayRemoveAtIndex|stringArrayRemoveDuplicates|stringArrayRemoveExact|stringArrayToString|stringToStringArray|strip|stripPrefixFromName|stroke|subdAutoProjection|subdCleanTopology|subdCollapse|subdDuplicateAndConnect|subdEditUV|subdListComponentConversion|subdMapCut|subdMapSewMove|subdMatchTopology|subdMirror|subdToBlind|subdToPoly|subdTransferUVsToCache|subdiv|subdivCrease|subdivDisplaySmoothness|substitute|substituteAllString|substituteGeometry|substring|surface|surfaceSampler|surfaceShaderList|swatchDisplayPort|switchTable|symbolButton|symbolCheckBox|sysFile|system|tabLayout|tan|tangentConstraint|texLatticeDeformContext|texManipContext|texMoveContext|texMoveUVShellContext|texRotateContext|texScaleContext|texSelectContext|texSelectShortestPathCtx|texSmudgeUVContext|texWinToolCtx|text|textCurves|textField|textFieldButtonGrp|textFieldGrp|textManip|textScrollList|textToShelf|textureDisplacePlane|textureHairColor|texturePlacementContext|textureWindow|threadCount|threePointArcCtx|timeControl|timePort|timerX|toNativePath|toggle|toggleAxis|toggleWindowVisibility|tokenize|tokenizeList|tolerance|tolower|toolButton|toolCollection|toolDropped|toolHasOptions|toolPropertyWindow|torus|toupper|trace|track|trackCtx|transferAttributes|transformCompare|transformLimits|translator|trim|trunc|truncateFluidCache|truncateHairCache|tumble|tumbleCtx|turbulence|twoPointArcCtx|uiRes|uiTemplate|unassignInputDevice|undo|undoInfo|ungroup|uniform|unit|unloadPlugin|untangleUV|untitledFileName|untrim|upAxis|updateAE|userCtx|uvLink|uvSnapshot|validateShelfName|vectorize|view2dToolCtx|viewCamera|viewClipPlane|viewFit|viewHeadOn|viewLookAt|viewManip|viewPlace|viewSet|visor|volumeAxis|vortex|waitCursor|warning|webBrowser|webBrowserPrefs|whatIs|window|windowPref|wire|wireContext|workspace|wrinkle|wrinkleContext|writeTake|xbmLangPathList|xform)\b/,operator:[/\+[+=]?|-[-=]?|&&|\|\||[<>]=|[*\/!=]=?|[%^]/,{pattern:/(^|[^<])<(?!<)/,lookbehind:!0},{pattern:/(^|[^>])>(?!>)/,lookbehind:!0}],punctuation:/<<|>>|[.,:;?\[\](){}]/},t.languages.mel.code.inside.rest=t.languages.mel}return fA}var gA,VH;function hke(){if(VH)return gA;VH=1,gA=e,e.displayName="mermaid",e.aliases=[];function e(t){t.languages.mermaid={comment:{pattern:/%%.*/,greedy:!0},style:{pattern:/^([ \t]*(?:classDef|linkStyle|style)[ \t]+[\w$-]+[ \t]+)\w.*[^\s;]/m,lookbehind:!0,inside:{property:/\b\w[\w-]*(?=[ \t]*:)/,operator:/:/,punctuation:/,/}},"inter-arrow-label":{pattern:/([^<>ox.=-])(?:-[-.]|==)(?![<>ox.=-])[ \t]*(?:"[^"\r\n]*"|[^\s".=-](?:[^\r\n.=-]*[^\s.=-])?)[ \t]*(?:\.+->?|--+[->]|==+[=>])(?![<>ox.=-])/,lookbehind:!0,greedy:!0,inside:{arrow:{pattern:/(?:\.+->?|--+[->]|==+[=>])$/,alias:"operator"},label:{pattern:/^([\s\S]{2}[ \t]*)\S(?:[\s\S]*\S)?/,lookbehind:!0,alias:"property"},"arrow-head":{pattern:/^\S+/,alias:["arrow","operator"]}}},arrow:[{pattern:/(^|[^{}|o.-])[|}][|o](?:--|\.\.)[|o][|{](?![{}|o.-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>ox.=-])(?:[<ox](?:==+|--+|-\.*-)[>ox]?|(?:==+|--+|-\.*-)[>ox]|===+|---+|-\.+-)(?![<>ox.=-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>()x-])(?:--?(?:>>|[x>)])(?![<>()x])|(?:<<|[x<(])--?(?!-))/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>|*o.-])(?:[*o]--|--[*o]|<\|?(?:--|\.\.)|(?:--|\.\.)\|?>|--|\.\.)(?![<>|*o.-])/,lookbehind:!0,alias:"operator"}],label:{pattern:/(^|[^|<])\|(?:[^\r\n"|]|"[^"\r\n]*")+\|/,lookbehind:!0,greedy:!0,alias:"property"},text:{pattern:/(?:[(\[{]+|\b>)(?:[^\r\n"()\[\]{}]|"[^"\r\n]*")+(?:[)\]}]+|>)/,alias:"string"},string:{pattern:/"[^"\r\n]*"/,greedy:!0},annotation:{pattern:/<<(?:abstract|choice|enumeration|fork|interface|join|service)>>|\[\[(?:choice|fork|join)\]\]/i,alias:"important"},keyword:[{pattern:/(^[ \t]*)(?:action|callback|class|classDef|classDiagram|click|direction|erDiagram|flowchart|gantt|gitGraph|graph|journey|link|linkStyle|pie|requirementDiagram|sequenceDiagram|stateDiagram|stateDiagram-v2|style|subgraph)(?![\w$-])/m,lookbehind:!0,greedy:!0},{pattern:/(^[ \t]*)(?:activate|alt|and|as|autonumber|deactivate|else|end(?:[ \t]+note)?|loop|opt|par|participant|rect|state|note[ \t]+(?:over|(?:left|right)[ \t]+of))(?![\w$-])/im,lookbehind:!0,greedy:!0}],entity:/#[a-z0-9]+;/,operator:{pattern:/(\w[ \t]*)&(?=[ \t]*\w)|:::|:/,lookbehind:!0},punctuation:/[(){};]/}}return gA}var hA,$H;function vke(){if($H)return hA;$H=1,hA=e,e.displayName="mizar",e.aliases=[];function e(t){t.languages.mizar={comment:/::.+/,keyword:/@proof\b|\b(?:according|aggregate|all|and|antonym|are|as|associativity|assume|asymmetry|attr|be|begin|being|by|canceled|case|cases|clusters?|coherence|commutativity|compatibility|connectedness|consider|consistency|constructors|contradiction|correctness|def|deffunc|define|definitions?|defpred|do|does|end|environ|equals|ex|exactly|existence|for|from|func|given|hence|hereby|holds|idempotence|identity|iff?|implies|involutiveness|irreflexivity|is|it|let|means|mode|non|not|notations?|now|of|or|otherwise|over|per|pred|prefix|projectivity|proof|provided|qua|reconsider|redefine|reduce|reducibility|reflexivity|registrations?|requirements|reserve|sch|schemes?|section|selector|set|sethood|st|struct|such|suppose|symmetry|synonym|take|that|the|then|theorems?|thesis|thus|to|transitivity|uniqueness|vocabular(?:ies|y)|when|where|with|wrt)\b/,parameter:{pattern:/\$(?:10|\d)/,alias:"variable"},variable:/\b\w+(?=:)/,number:/(?:\b|-)\d+\b/,operator:/\.\.\.|->|&|\.?=/,punctuation:/\(#|#\)|[,:;\[\](){}]/}}return hA}var vA,UH;function yke(){if(UH)return vA;UH=1,vA=e,e.displayName="mongodb",e.aliases=[];function e(t){(function(n){var r=["$eq","$gt","$gte","$in","$lt","$lte","$ne","$nin","$and","$not","$nor","$or","$exists","$type","$expr","$jsonSchema","$mod","$regex","$text","$where","$geoIntersects","$geoWithin","$near","$nearSphere","$all","$elemMatch","$size","$bitsAllClear","$bitsAllSet","$bitsAnyClear","$bitsAnySet","$comment","$elemMatch","$meta","$slice","$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$each","$position","$slice","$sort","$bit","$addFields","$bucket","$bucketAuto","$collStats","$count","$currentOp","$facet","$geoNear","$graphLookup","$group","$indexStats","$limit","$listLocalSessions","$listSessions","$lookup","$match","$merge","$out","$planCacheStats","$project","$redact","$replaceRoot","$replaceWith","$sample","$set","$skip","$sort","$sortByCount","$unionWith","$unset","$unwind","$setWindowFields","$abs","$accumulator","$acos","$acosh","$add","$addToSet","$allElementsTrue","$and","$anyElementTrue","$arrayElemAt","$arrayToObject","$asin","$asinh","$atan","$atan2","$atanh","$avg","$binarySize","$bsonSize","$ceil","$cmp","$concat","$concatArrays","$cond","$convert","$cos","$dateFromParts","$dateToParts","$dateFromString","$dateToString","$dayOfMonth","$dayOfWeek","$dayOfYear","$degreesToRadians","$divide","$eq","$exp","$filter","$first","$floor","$function","$gt","$gte","$hour","$ifNull","$in","$indexOfArray","$indexOfBytes","$indexOfCP","$isArray","$isNumber","$isoDayOfWeek","$isoWeek","$isoWeekYear","$last","$last","$let","$literal","$ln","$log","$log10","$lt","$lte","$ltrim","$map","$max","$mergeObjects","$meta","$min","$millisecond","$minute","$mod","$month","$multiply","$ne","$not","$objectToArray","$or","$pow","$push","$radiansToDegrees","$range","$reduce","$regexFind","$regexFindAll","$regexMatch","$replaceOne","$replaceAll","$reverseArray","$round","$rtrim","$second","$setDifference","$setEquals","$setIntersection","$setIsSubset","$setUnion","$size","$sin","$slice","$split","$sqrt","$stdDevPop","$stdDevSamp","$strcasecmp","$strLenBytes","$strLenCP","$substr","$substrBytes","$substrCP","$subtract","$sum","$switch","$tan","$toBool","$toDate","$toDecimal","$toDouble","$toInt","$toLong","$toObjectId","$toString","$toLower","$toUpper","$trim","$trunc","$type","$week","$year","$zip","$count","$dateAdd","$dateDiff","$dateSubtract","$dateTrunc","$getField","$rand","$sampleRate","$setField","$unsetField","$comment","$explain","$hint","$max","$maxTimeMS","$min","$orderby","$query","$returnKey","$showDiskLoc","$natural"],i=["ObjectId","Code","BinData","DBRef","Timestamp","NumberLong","NumberDecimal","MaxKey","MinKey","RegExp","ISODate","UUID"];r=r.map(function(g){return g.replace("$","\\$")});var d="(?:"+r.join("|")+")\\b";n.languages.mongodb=n.languages.extend("javascript",{}),n.languages.insertBefore("mongodb","string",{property:{pattern:/(?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)(?=\s*:)/,greedy:!0,inside:{keyword:RegExp(`^(['"])?`+d+"(?:\\1)?$")}}}),n.languages.mongodb.string.inside={url:{pattern:/https?:\/\/[-\w@:%.+~#=]{1,256}\.[a-z0-9()]{1,6}\b[-\w()@:%+.~#?&/=]*/i,greedy:!0},entity:{pattern:/\b(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d\d?|2[0-4]\d|25[0-5])\b/,greedy:!0}},n.languages.insertBefore("mongodb","constant",{builtin:{pattern:RegExp("\\b(?:"+i.join("|")+")\\b"),alias:"keyword"}})})(t)}return vA}var yA,BH;function bke(){if(BH)return yA;BH=1,yA=e,e.displayName="monkey",e.aliases=[];function e(t){t.languages.monkey={comment:{pattern:/^#Rem\s[\s\S]*?^#End|'.+/im,greedy:!0},string:{pattern:/"[^"\r\n]*"/,greedy:!0},preprocessor:{pattern:/(^[ \t]*)#.+/m,lookbehind:!0,greedy:!0,alias:"property"},function:/\b\w+(?=\()/,"type-char":{pattern:/\b[?%#$]/,alias:"class-name"},number:{pattern:/((?:\.\.)?)(?:(?:\b|\B-\.?|\B\.)\d+(?:(?!\.\.)\.\d*)?|\$[\da-f]+)/i,lookbehind:!0},keyword:/\b(?:Abstract|Array|Bool|Case|Catch|Class|Const|Continue|Default|Eachin|Else|ElseIf|End|EndIf|Exit|Extends|Extern|False|Field|Final|Float|For|Forever|Function|Global|If|Implements|Import|Inline|Int|Interface|Local|Method|Module|New|Next|Null|Object|Private|Property|Public|Repeat|Return|Select|Self|Step|Strict|String|Super|Then|Throw|To|True|Try|Until|Void|Wend|While)\b/i,operator:/\.\.|<[=>]?|>=?|:?=|(?:[+\-*\/&~|]|\b(?:Mod|Shl|Shr)\b)=?|\b(?:And|Not|Or)\b/i,punctuation:/[.,:;()\[\]]/}}return yA}var bA,FH;function Ske(){if(FH)return bA;FH=1,bA=e,e.displayName="moonscript",e.aliases=["moon"];function e(t){t.languages.moonscript={comment:/--.*/,string:[{pattern:/'[^']*'|\[(=*)\[[\s\S]*?\]\1\]/,greedy:!0},{pattern:/"[^"]*"/,greedy:!0,inside:{interpolation:{pattern:/#\{[^{}]*\}/,inside:{moonscript:{pattern:/(^#\{)[\s\S]+(?=\})/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/#\{|\}/,alias:"punctuation"}}}}}],"class-name":[{pattern:/(\b(?:class|extends)[ \t]+)\w+/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\b(?:class|continue|do|else|elseif|export|extends|for|from|if|import|in|local|nil|return|self|super|switch|then|unless|using|when|while|with)\b/,variable:/@@?\w*/,property:{pattern:/\b(?!\d)\w+(?=:)|(:)(?!\d)\w+/,lookbehind:!0},function:{pattern:/\b(?:_G|_VERSION|assert|collectgarbage|coroutine\.(?:create|resume|running|status|wrap|yield)|debug\.(?:debug|getfenv|gethook|getinfo|getlocal|getmetatable|getregistry|getupvalue|setfenv|sethook|setlocal|setmetatable|setupvalue|traceback)|dofile|error|getfenv|getmetatable|io\.(?:close|flush|input|lines|open|output|popen|read|stderr|stdin|stdout|tmpfile|type|write)|ipairs|load|loadfile|loadstring|math\.(?:abs|acos|asin|atan|atan2|ceil|cos|cosh|deg|exp|floor|fmod|frexp|ldexp|log|log10|max|min|modf|pi|pow|rad|random|randomseed|sin|sinh|sqrt|tan|tanh)|module|next|os\.(?:clock|date|difftime|execute|exit|getenv|remove|rename|setlocale|time|tmpname)|package\.(?:cpath|loaded|loadlib|path|preload|seeall)|pairs|pcall|print|rawequal|rawget|rawset|require|select|setfenv|setmetatable|string\.(?:byte|char|dump|find|format|gmatch|gsub|len|lower|match|rep|reverse|sub|upper)|table\.(?:concat|insert|maxn|remove|sort)|tonumber|tostring|type|unpack|xpcall)\b/,inside:{punctuation:/\./}},boolean:/\b(?:false|true)\b/,number:/(?:\B\.\d+|\b\d+\.\d+|\b\d+(?=[eE]))(?:[eE][-+]?\d+)?\b|\b(?:0x[a-fA-F\d]+|\d+)(?:U?LL)?\b/,operator:/\.{3}|[-=]>|~=|(?:[-+*/%<>!=]|\.\.)=?|[:#^]|\b(?:and|or)\b=?|\b(?:not)\b/,punctuation:/[.,()[\]{}\\]/},t.languages.moonscript.string[1].inside.interpolation.inside.moonscript.inside=t.languages.moonscript,t.languages.moon=t.languages.moonscript}return bA}var SA,qH;function Ike(){if(qH)return SA;qH=1,SA=e,e.displayName="n1ql",e.aliases=[];function e(t){t.languages.n1ql={comment:{pattern:/\/\*[\s\S]*?(?:$|\*\/)|--.*/,greedy:!0},string:{pattern:/(["'])(?:\\[\s\S]|(?!\1)[^\\]|\1\1)*\1/,greedy:!0},identifier:{pattern:/`(?:\\[\s\S]|[^\\`]|``)*`/,greedy:!0},parameter:/\$[\w.]+/,keyword:/\b(?:ADVISE|ALL|ALTER|ANALYZE|AS|ASC|AT|BEGIN|BINARY|BOOLEAN|BREAK|BUCKET|BUILD|BY|CALL|CAST|CLUSTER|COLLATE|COLLECTION|COMMIT|COMMITTED|CONNECT|CONTINUE|CORRELATE|CORRELATED|COVER|CREATE|CURRENT|DATABASE|DATASET|DATASTORE|DECLARE|DECREMENT|DELETE|DERIVED|DESC|DESCRIBE|DISTINCT|DO|DROP|EACH|ELEMENT|EXCEPT|EXCLUDE|EXECUTE|EXPLAIN|FETCH|FILTER|FLATTEN|FLUSH|FOLLOWING|FOR|FORCE|FROM|FTS|FUNCTION|GOLANG|GRANT|GROUP|GROUPS|GSI|HASH|HAVING|IF|IGNORE|ILIKE|INCLUDE|INCREMENT|INDEX|INFER|INLINE|INNER|INSERT|INTERSECT|INTO|IS|ISOLATION|JAVASCRIPT|JOIN|KEY|KEYS|KEYSPACE|KNOWN|LANGUAGE|LAST|LEFT|LET|LETTING|LEVEL|LIMIT|LSM|MAP|MAPPING|MATCHED|MATERIALIZED|MERGE|MINUS|MISSING|NAMESPACE|NEST|NL|NO|NTH_VALUE|NULL|NULLS|NUMBER|OBJECT|OFFSET|ON|OPTION|OPTIONS|ORDER|OTHERS|OUTER|OVER|PARSE|PARTITION|PASSWORD|PATH|POOL|PRECEDING|PREPARE|PRIMARY|PRIVATE|PRIVILEGE|PROBE|PROCEDURE|PUBLIC|RANGE|RAW|REALM|REDUCE|RENAME|RESPECT|RETURN|RETURNING|REVOKE|RIGHT|ROLE|ROLLBACK|ROW|ROWS|SATISFIES|SAVEPOINT|SCHEMA|SCOPE|SELECT|SELF|SEMI|SET|SHOW|SOME|START|STATISTICS|STRING|SYSTEM|TIES|TO|TRAN|TRANSACTION|TRIGGER|TRUNCATE|UNBOUNDED|UNDER|UNION|UNIQUE|UNKNOWN|UNNEST|UNSET|UPDATE|UPSERT|USE|USER|USING|VALIDATE|VALUE|VALUES|VIA|VIEW|WHERE|WHILE|WINDOW|WITH|WORK|XOR)\b/i,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:FALSE|TRUE)\b/i,number:/(?:\b\d+\.|\B\.)\d+e[+\-]?\d+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/%]|!=|==?|\|\||<[>=]?|>=?|\b(?:AND|ANY|ARRAY|BETWEEN|CASE|ELSE|END|EVERY|EXISTS|FIRST|IN|LIKE|NOT|OR|THEN|VALUED|WHEN|WITHIN)\b/i,punctuation:/[;[\](),.{}:]/}}return SA}var IA,zH;function Eke(){if(zH)return IA;zH=1,IA=e,e.displayName="n4js",e.aliases=["n4jsd"];function e(t){t.languages.n4js=t.languages.extend("javascript",{keyword:/\b(?:Array|any|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/}),t.languages.insertBefore("n4js","constant",{annotation:{pattern:/@+\w+/,alias:"operator"}}),t.languages.n4jsd=t.languages.n4js}return IA}var EA,HH;function Cke(){if(HH)return EA;HH=1,EA=e,e.displayName="nand2tetrisHdl",e.aliases=[];function e(t){t.languages["nand2tetris-hdl"]={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,keyword:/\b(?:BUILTIN|CHIP|CLOCKED|IN|OUT|PARTS)\b/,boolean:/\b(?:false|true)\b/,function:/\b[A-Za-z][A-Za-z0-9]*(?=\()/,number:/\b\d+\b/,operator:/=|\.\./,punctuation:/[{}[\];(),:]/}}return EA}var CA,GH;function Tke(){if(GH)return CA;GH=1,CA=e,e.displayName="naniscript",e.aliases=[];function e(t){(function(n){var r=/\{[^\r\n\[\]{}]*\}/,i={"quoted-string":{pattern:/"(?:[^"\\]|\\.)*"/,alias:"operator"},"command-param-id":{pattern:/(\s)\w+:/,lookbehind:!0,alias:"property"},"command-param-value":[{pattern:r,alias:"selector"},{pattern:/([\t ])\S+/,lookbehind:!0,greedy:!0,alias:"operator"},{pattern:/\S(?:.*\S)?/,alias:"operator"}]};n.languages.naniscript={comment:{pattern:/^([\t ]*);.*/m,lookbehind:!0},define:{pattern:/^>.+/m,alias:"tag",inside:{value:{pattern:/(^>\w+[\t ]+)(?!\s)[^{}\r\n]+/,lookbehind:!0,alias:"operator"},key:{pattern:/(^>)\w+/,lookbehind:!0}}},label:{pattern:/^([\t ]*)#[\t ]*\w+[\t ]*$/m,lookbehind:!0,alias:"regex"},command:{pattern:/^([\t ]*)@\w+(?=[\t ]|$).*/m,lookbehind:!0,alias:"function",inside:{"command-name":/^@\w+/,expression:{pattern:r,greedy:!0,alias:"selector"},"command-params":{pattern:/\s*\S[\s\S]*/,inside:i}}},"generic-text":{pattern:/(^[ \t]*)[^#@>;\s].*/m,lookbehind:!0,alias:"punctuation",inside:{"escaped-char":/\\[{}\[\]"]/,expression:{pattern:r,greedy:!0,alias:"selector"},"inline-command":{pattern:/\[[\t ]*\w[^\r\n\[\]]*\]/,greedy:!0,alias:"function",inside:{"command-params":{pattern:/(^\[[\t ]*\w+\b)[\s\S]+(?=\]$)/,lookbehind:!0,inside:i},"command-param-name":{pattern:/^(\[[\t ]*)\w+/,lookbehind:!0,alias:"name"},"start-stop-char":/[\[\]]/}}}}},n.languages.nani=n.languages.naniscript,n.hooks.add("after-tokenize",function(v){var S=v.tokens;S.forEach(function(I){if(typeof I!="string"&&I.type==="generic-text"){var T=g(I);d(T)||(I.type="bad-line",I.content=T)}})});function d(v){for(var S="[]{}",I=[],T=0;T<v.length;T++){var _=v[T],N=S.indexOf(_);if(N!==-1){if(N%2===0)I.push(N+1);else if(I.pop()!==N)return!1}}return I.length===0}function g(v){return typeof v=="string"?v:Array.isArray(v)?v.map(g).join(""):g(v.content)}})(t)}return CA}var TA,KH;function Mke(){if(KH)return TA;KH=1,TA=e,e.displayName="nasm",e.aliases=[];function e(t){t.languages.nasm={comment:/;.*$/m,string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,label:{pattern:/(^\s*)[A-Za-z._?$][\w.?$@~#]*:/m,lookbehind:!0,alias:"function"},keyword:[/\[?BITS (?:16|32|64)\]?/,{pattern:/(^\s*)section\s*[a-z.]+:?/im,lookbehind:!0},/(?:extern|global)[^;\r\n]*/i,/(?:CPU|DEFAULT|FLOAT).*$/m],register:{pattern:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s)\b/i,alias:"variable"},number:/(?:\b|(?=\$))(?:0[hx](?:\.[\da-f]+|[\da-f]+(?:\.[\da-f]+)?)(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-\/%<>=&|$!]/}}return TA}var MA,WH;function _ke(){if(WH)return MA;WH=1,MA=e,e.displayName="neon",e.aliases=[];function e(t){t.languages.neon={comment:{pattern:/#.*/,greedy:!0},datetime:{pattern:/(^|[[{(=:,\s])\d\d\d\d-\d\d?-\d\d?(?:(?:[Tt]| +)\d\d?:\d\d:\d\d(?:\.\d*)? *(?:Z|[-+]\d\d?(?::?\d\d)?)?)?(?=$|[\]}),\s])/,lookbehind:!0,alias:"number"},key:{pattern:/(^|[[{(,\s])[^,:=[\]{}()'"\s]+(?=\s*:(?:$|[\]}),\s])|\s*=)/,lookbehind:!0,alias:"atrule"},number:{pattern:/(^|[[{(=:,\s])[+-]?(?:0x[\da-fA-F]+|0o[0-7]+|0b[01]+|(?:\d+(?:\.\d*)?|\.?\d+)(?:[eE][+-]?\d+)?)(?=$|[\]}),:=\s])/,lookbehind:!0},boolean:{pattern:/(^|[[{(=:,\s])(?:false|no|true|yes)(?=$|[\]}),:=\s])/i,lookbehind:!0},null:{pattern:/(^|[[{(=:,\s])(?:null)(?=$|[\]}),:=\s])/i,lookbehind:!0,alias:"keyword"},string:{pattern:/(^|[[{(=:,\s])(?:('''|""")\r?\n(?:(?:[^\r\n]|\r?\n(?![\t ]*\2))*\r?\n)?[\t ]*\2|'[^'\r\n]*'|"(?:\\.|[^\\"\r\n])*")/,lookbehind:!0,greedy:!0},literal:{pattern:/(^|[[{(=:,\s])(?:[^#"',:=[\]{}()\s`-]|[:-][^"',=[\]{}()\s])(?:[^,:=\]})(\s]|:(?![\s,\]})]|$)|[ \t]+[^#,:=\]})(\s])*/,lookbehind:!0,alias:"string"},punctuation:/[,:=[\]{}()-]/}}return MA}var _A,YH;function xke(){if(YH)return _A;YH=1,_A=e,e.displayName="nevod",e.aliases=[];function e(t){t.languages.nevod={comment:/\/\/.*|(?:\/\*[\s\S]*?(?:\*\/|$))/,string:{pattern:/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))!?\*?/,greedy:!0,inside:{"string-attrs":/!$|!\*$|\*$/}},namespace:{pattern:/(@namespace\s+)[a-zA-Z0-9\-.]+(?=\s*\{)/,lookbehind:!0},pattern:{pattern:/(@pattern\s+)?#?[a-zA-Z0-9\-.]+(?:\s*\(\s*(?:~\s*)?[a-zA-Z0-9\-.]+\s*(?:,\s*(?:~\s*)?[a-zA-Z0-9\-.]*)*\))?(?=\s*=)/,lookbehind:!0,inside:{"pattern-name":{pattern:/^#?[a-zA-Z0-9\-.]+/,alias:"class-name"},fields:{pattern:/\(.*\)/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},punctuation:/[,()]/,operator:{pattern:/~/,alias:"field-hidden-mark"}}}}},search:{pattern:/(@search\s+|#)[a-zA-Z0-9\-.]+(?:\.\*)?(?=\s*;)/,alias:"function",lookbehind:!0},keyword:/@(?:having|inside|namespace|outside|pattern|require|search|where)\b/,"standard-pattern":{pattern:/\b(?:Alpha|AlphaNum|Any|Blank|End|LineBreak|Num|NumAlpha|Punct|Space|Start|Symbol|Word|WordBreak)\b(?:\([a-zA-Z0-9\-.,\s+]*\))?/,inside:{"standard-pattern-name":{pattern:/^[a-zA-Z0-9\-.]+/,alias:"builtin"},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},"standard-pattern-attr":{pattern:/[a-zA-Z0-9\-.]+/,alias:"builtin"},punctuation:/[,()]/}},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},operator:[{pattern:/=/,alias:"pattern-def"},{pattern:/&/,alias:"conjunction"},{pattern:/~/,alias:"exception"},{pattern:/\?/,alias:"optionality"},{pattern:/[[\]]/,alias:"repetition"},{pattern:/[{}]/,alias:"variation"},{pattern:/[+_]/,alias:"sequence"},{pattern:/\.{2,3}/,alias:"span"}],"field-capture":[{pattern:/([a-zA-Z0-9\-.]+\s*\()\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+(?:\s*,\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+)*(?=\s*\))/,lookbehind:!0,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}},{pattern:/[a-zA-Z0-9\-.]+\s*:/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}}],punctuation:/[:;,()]/,name:/[a-zA-Z0-9\-.]+/}}return _A}var xA,XH;function wke(){if(XH)return xA;XH=1,xA=e,e.displayName="nginx",e.aliases=[];function e(t){(function(n){var r=/\$(?:\w[a-z\d]*(?:_[^\x00-\x1F\s"'\\()$]*)?|\{[^}\s"'\\]+\})/i;n.languages.nginx={comment:{pattern:/(^|[\s{};])#.*/,lookbehind:!0,greedy:!0},directive:{pattern:/(^|\s)\w(?:[^;{}"'\\\s]|\\.|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\s+(?:#.*(?!.)|(?![#\s])))*?(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:{string:{pattern:/((?:^|[^\\])(?:\\\\)*)(?:"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')/,lookbehind:!0,greedy:!0,inside:{escape:{pattern:/\\["'\\nrt]/,alias:"entity"},variable:r}},comment:{pattern:/(\s)#.*/,lookbehind:!0,greedy:!0},keyword:{pattern:/^\S+/,greedy:!0},boolean:{pattern:/(\s)(?:off|on)(?!\S)/,lookbehind:!0},number:{pattern:/(\s)\d+[a-z]*(?!\S)/i,lookbehind:!0},variable:r}},punctuation:/[{};]/}})(t)}return xA}var wA,JH;function Nke(){if(JH)return wA;JH=1,wA=e,e.displayName="nim",e.aliases=[];function e(t){t.languages.nim={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(?:\b(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+)?(?:"""[\s\S]*?"""(?!")|"(?:\\[\s\S]|""|[^"\\])*")/,greedy:!0},char:{pattern:/'(?:\\(?:\d+|x[\da-fA-F]{0,2}|.)|[^'])'/,greedy:!0},function:{pattern:/(?:(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+|`[^`\r\n]+`)\*?(?:\[[^\]]+\])?(?=\s*\()/,greedy:!0,inside:{operator:/\*$/}},identifier:{pattern:/`[^`\r\n]+`/,greedy:!0,inside:{punctuation:/`/}},number:/\b(?:0[xXoObB][\da-fA-F_]+|\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:[eE][+-]?\d[\d_]*)?)(?:'?[iuf]\d*)?/,keyword:/\b(?:addr|as|asm|atomic|bind|block|break|case|cast|concept|const|continue|converter|defer|discard|distinct|do|elif|else|end|enum|except|export|finally|for|from|func|generic|if|import|include|interface|iterator|let|macro|method|mixin|nil|object|out|proc|ptr|raise|ref|return|static|template|try|tuple|type|using|var|when|while|with|without|yield)\b/,operator:{pattern:/(^|[({\[](?=\.\.)|(?![({\[]\.).)(?:(?:[=+\-*\/<>@$~&%|!?^:\\]|\.\.|\.(?![)}\]]))+|\b(?:and|div|in|is|isnot|mod|not|notin|of|or|shl|shr|xor)\b)/m,lookbehind:!0},punctuation:/[({\[]\.|\.[)}\]]|[`(){}\[\],:]/}}return wA}var NA,QH;function Rke(){if(QH)return NA;QH=1,NA=e,e.displayName="nix",e.aliases=[];function e(t){t.languages.nix={comment:{pattern:/\/\*[\s\S]*?\*\/|#.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"|''(?:(?!'')[\s\S]|''(?:'|\\|\$\{))*''/,greedy:!0,inside:{interpolation:{pattern:/(^|(?:^|(?!'').)[^\\])\$\{(?:[^{}]|\{[^}]*\})*\}/,lookbehind:!0,inside:null}}},url:[/\b(?:[a-z]{3,7}:\/\/)[\w\-+%~\/.:#=?&]+/,{pattern:/([^\/])(?:[\w\-+%~.:#=?&]*(?!\/\/)[\w\-+%~\/.:#=?&])?(?!\/\/)\/[\w\-+%~\/.:#=?&]*/,lookbehind:!0}],antiquotation:{pattern:/\$(?=\{)/,alias:"important"},number:/\b\d+\b/,keyword:/\b(?:assert|builtins|else|if|in|inherit|let|null|or|then|with)\b/,function:/\b(?:abort|add|all|any|attrNames|attrValues|baseNameOf|compareVersions|concatLists|currentSystem|deepSeq|derivation|dirOf|div|elem(?:At)?|fetch(?:Tarball|url)|filter(?:Source)?|fromJSON|genList|getAttr|getEnv|hasAttr|hashString|head|import|intersectAttrs|is(?:Attrs|Bool|Function|Int|List|Null|String)|length|lessThan|listToAttrs|map|mul|parseDrvName|pathExists|read(?:Dir|File)|removeAttrs|replaceStrings|seq|sort|stringLength|sub(?:string)?|tail|throw|to(?:File|JSON|Path|String|XML)|trace|typeOf)\b|\bfoldl'\B/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|\+\+?|\|\||&&|\/\/|->?|[?@]/,punctuation:/[{}()[\].,:;]/},t.languages.nix.string.inside.interpolation.inside=t.languages.nix}return NA}var RA,ZH;function Ake(){if(ZH)return RA;ZH=1,RA=e,e.displayName="nsis",e.aliases=[];function e(t){t.languages.nsis={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|[#;].*)/,lookbehind:!0,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:{pattern:/(^[\t ]*)(?:Abort|Add(?:BrandingImage|Size)|AdvSplash|Allow(?:RootDirInstall|SkipFiles)|AutoCloseWindow|BG(?:Font|Gradient|Image)|Banner|BrandingText|BringToFront|CRCCheck|Call(?:InstDLL)?|Caption|ChangeUI|CheckBitmap|ClearErrors|CompletedText|ComponentText|CopyFiles|Create(?:Directory|Font|ShortCut)|Delete(?:INISec|INIStr|RegKey|RegValue)?|Detail(?:Print|sButtonText)|Dialer|Dir(?:Text|Var|Verify)|EnableWindow|Enum(?:RegKey|RegValue)|Exch|Exec(?:Shell(?:Wait)?|Wait)?|ExpandEnvStrings|File(?:BufSize|Close|ErrorText|Open|Read|ReadByte|ReadUTF16LE|ReadWord|Seek|Write|WriteByte|WriteUTF16LE|WriteWord)?|Find(?:Close|First|Next|Window)|FlushINI|Get(?:CurInstType|CurrentAddress|DLLVersion(?:Local)?|DlgItem|ErrorLevel|FileTime(?:Local)?|FullPathName|Function(?:Address|End)?|InstDirError|LabelAddress|TempFileName)|Goto|HideWindow|Icon|If(?:Abort|Errors|FileExists|RebootFlag|Silent)|InitPluginsDir|InstProgressFlags|Inst(?:Type(?:GetText|SetText)?)|Install(?:ButtonText|Colors|Dir(?:RegKey)?)|Int(?:64|Ptr)?CmpU?|Int(?:64)?Fmt|Int(?:Ptr)?Op|IsWindow|Lang(?:DLL|String)|License(?:BkColor|Data|ForceSelection|LangString|Text)|LoadLanguageFile|LockWindow|Log(?:Set|Text)|Manifest(?:DPIAware|SupportedOS)|Math|MessageBox|MiscButtonText|NSISdl|Name|Nop|OutFile|PE(?:DllCharacteristics|SubsysVer)|Page(?:Callbacks)?|Pop|Push|Quit|RMDir|Read(?:EnvStr|INIStr|RegDWORD|RegStr)|Reboot|RegDLL|Rename|RequestExecutionLevel|ReserveFile|Return|SearchPath|Section(?:End|GetFlags|GetInstTypes|GetSize|GetText|Group|In|SetFlags|SetInstTypes|SetSize|SetText)?|SendMessage|Set(?:AutoClose|BrandingImage|Compress|Compressor(?:DictSize)?|CtlColors|CurInstType|DatablockOptimize|DateSave|Details(?:Print|View)|ErrorLevel|Errors|FileAttributes|Font|OutPath|Overwrite|PluginUnload|RebootFlag|RegView|ShellVarContext|Silent)|Show(?:InstDetails|UninstDetails|Window)|Silent(?:Install|UnInstall)|Sleep|SpaceTexts|Splash|StartMenu|Str(?:CmpS?|Cpy|Len)|SubCaption|System|UnRegDLL|Unicode|UninstPage|Uninstall(?:ButtonText|Caption|Icon|SubCaption|Text)|UserInfo|VI(?:AddVersionKey|FileVersion|ProductVersion)|VPatch|Var|WindowIcon|Write(?:INIStr|Reg(?:Bin|DWORD|ExpandStr|MultiStr|None|Str)|Uninstaller)|XPStyle|ns(?:Dialogs|Exec))\b/m,lookbehind:!0},property:/\b(?:ARCHIVE|FILE_(?:ATTRIBUTE_ARCHIVE|ATTRIBUTE_NORMAL|ATTRIBUTE_OFFLINE|ATTRIBUTE_READONLY|ATTRIBUTE_SYSTEM|ATTRIBUTE_TEMPORARY)|HK(?:(?:CR|CU|LM)(?:32|64)?|DD|PD|U)|HKEY_(?:CLASSES_ROOT|CURRENT_CONFIG|CURRENT_USER|DYN_DATA|LOCAL_MACHINE|PERFORMANCE_DATA|USERS)|ID(?:ABORT|CANCEL|IGNORE|NO|OK|RETRY|YES)|MB_(?:ABORTRETRYIGNORE|DEFBUTTON1|DEFBUTTON2|DEFBUTTON3|DEFBUTTON4|ICONEXCLAMATION|ICONINFORMATION|ICONQUESTION|ICONSTOP|OK|OKCANCEL|RETRYCANCEL|RIGHT|RTLREADING|SETFOREGROUND|TOPMOST|USERICON|YESNO)|NORMAL|OFFLINE|READONLY|SHCTX|SHELL_CONTEXT|SYSTEM|TEMPORARY|admin|all|auto|both|colored|false|force|hide|highest|lastused|leave|listonly|none|normal|notset|off|on|open|print|show|silent|silentlog|smooth|textonly|true|user)\b/,constant:/\$\{[!\w\.:\^-]+\}|\$\([!\w\.:\^-]+\)/,variable:/\$\w[\w\.]*/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|\+\+?|<=?|>=?|==?=?|&&?|\|\|?|[?*\/~^%]/,punctuation:/[{}[\];(),.:]/,important:{pattern:/(^[\t ]*)!(?:addincludedir|addplugindir|appendfile|cd|define|delfile|echo|else|endif|error|execute|finalize|getdllversion|gettlbversion|if|ifdef|ifmacrodef|ifmacrondef|ifndef|include|insertmacro|macro|macroend|makensis|packhdr|pragma|searchparse|searchreplace|system|tempfile|undef|verbose|warning)\b/im,lookbehind:!0}}}return RA}var AA,e5;function Oke(){if(e5)return AA;e5=1;var e=Eg();AA=t,t.displayName="objectivec",t.aliases=["objc"];function t(n){n.register(e),n.languages.objectivec=n.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete n.languages.objectivec["class-name"],n.languages.objc=n.languages.objectivec}return AA}var OA,t5;function kke(){if(t5)return OA;t5=1,OA=e,e.displayName="ocaml",e.aliases=[];function e(t){t.languages.ocaml={comment:{pattern:/\(\*[\s\S]*?\*\)/,greedy:!0},char:{pattern:/'(?:[^\\\r\n']|\\(?:.|[ox]?[0-9a-f]{1,3}))'/i,greedy:!0},string:[{pattern:/"(?:\\(?:[\s\S]|\r\n)|[^\\\r\n"])*"/,greedy:!0},{pattern:/\{([a-z_]*)\|[\s\S]*?\|\1\}/,greedy:!0}],number:[/\b(?:0b[01][01_]*|0o[0-7][0-7_]*)\b/i,/\b0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]*)?(?:p[+-]?\d[\d_]*)?(?!\w)/i,/\b\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?\d[\d_]*)?(?!\w)/i],directive:{pattern:/\B#\w+/,alias:"property"},label:{pattern:/\B~\w+/,alias:"property"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"symbol"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,"operator-like-punctuation":{pattern:/\[[<>|]|[>|]\]|\{<|>\}/,alias:"punctuation"},operator:/\.[.~]|:[=>]|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/;;|::|[(){}\[\].,:;#]|\b_\b/}}return OA}var kA,n5;function Lke(){if(n5)return kA;n5=1;var e=Eg();kA=t,t.displayName="opencl",t.aliases=[];function t(n){n.register(e),function(r){r.languages.opencl=r.languages.extend("c",{keyword:/\b(?:(?:__)?(?:constant|global|kernel|local|private|read_only|read_write|write_only)|__attribute__|auto|(?:bool|u?(?:char|int|long|short)|half|quad)(?:2|3|4|8|16)?|break|case|complex|const|continue|(?:double|float)(?:16(?:x(?:1|2|4|8|16))?|1x(?:1|2|4|8|16)|2(?:x(?:1|2|4|8|16))?|3|4(?:x(?:1|2|4|8|16))?|8(?:x(?:1|2|4|8|16))?)?|default|do|else|enum|extern|for|goto|if|imaginary|inline|packed|pipe|register|restrict|return|signed|sizeof|static|struct|switch|typedef|uniform|union|unsigned|void|volatile|while)\b/,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[fuhl]{0,4}/i,boolean:/\b(?:false|true)\b/,"constant-opencl-kernel":{pattern:/\b(?:CHAR_(?:BIT|MAX|MIN)|CLK_(?:ADDRESS_(?:CLAMP(?:_TO_EDGE)?|NONE|REPEAT)|FILTER_(?:LINEAR|NEAREST)|(?:GLOBAL|LOCAL)_MEM_FENCE|NORMALIZED_COORDS_(?:FALSE|TRUE))|CL_(?:BGRA|(?:HALF_)?FLOAT|INTENSITY|LUMINANCE|A?R?G?B?[Ax]?|(?:(?:UN)?SIGNED|[US]NORM)_(?:INT(?:8|16|32))|UNORM_(?:INT_101010|SHORT_(?:555|565)))|(?:DBL|FLT|HALF)_(?:DIG|EPSILON|(?:MAX|MIN)(?:(?:_10)?_EXP)?|MANT_DIG)|FLT_RADIX|HUGE_VALF?|(?:INT|LONG|SCHAR|SHRT)_(?:MAX|MIN)|INFINITY|MAXFLOAT|M_(?:[12]_PI|2_SQRTPI|E|LN(?:2|10)|LOG(?:2|10)E?|PI(?:_[24])?|SQRT(?:1_2|2))(?:_F|_H)?|NAN|(?:UCHAR|UINT|ULONG|USHRT)_MAX)\b/,alias:"constant"}}),r.languages.insertBefore("opencl","class-name",{"builtin-type":{pattern:/\b(?:_cl_(?:command_queue|context|device_id|event|kernel|mem|platform_id|program|sampler)|cl_(?:image_format|mem_fence_flags)|clk_event_t|event_t|image(?:1d_(?:array_|buffer_)?t|2d_(?:array_(?:depth_|msaa_depth_|msaa_)?|depth_|msaa_depth_|msaa_)?t|3d_t)|intptr_t|ndrange_t|ptrdiff_t|queue_t|reserve_id_t|sampler_t|size_t|uintptr_t)\b/,alias:"keyword"}});var i={"type-opencl-host":{pattern:/\b(?:cl_(?:GLenum|GLint|GLuin|addressing_mode|bitfield|bool|buffer_create_type|build_status|channel_(?:order|type)|(?:u?(?:char|int|long|short)|double|float)(?:2|3|4|8|16)?|command_(?:queue(?:_info|_properties)?|type)|context(?:_info|_properties)?|device_(?:exec_capabilities|fp_config|id|info|local_mem_type|mem_cache_type|type)|(?:event|sampler)(?:_info)?|filter_mode|half|image_info|kernel(?:_info|_work_group_info)?|map_flags|mem(?:_flags|_info|_object_type)?|platform_(?:id|info)|profiling_info|program(?:_build_info|_info)?))\b/,alias:"keyword"},"boolean-opencl-host":{pattern:/\bCL_(?:FALSE|TRUE)\b/,alias:"boolean"},"constant-opencl-host":{pattern:/\bCL_(?:A|ABGR|ADDRESS_(?:CLAMP(?:_TO_EDGE)?|MIRRORED_REPEAT|NONE|REPEAT)|ARGB|BGRA|BLOCKING|BUFFER_CREATE_TYPE_REGION|BUILD_(?:ERROR|IN_PROGRESS|NONE|PROGRAM_FAILURE|SUCCESS)|COMMAND_(?:ACQUIRE_GL_OBJECTS|BARRIER|COPY_(?:BUFFER(?:_RECT|_TO_IMAGE)?|IMAGE(?:_TO_BUFFER)?)|FILL_(?:BUFFER|IMAGE)|MAP(?:_BUFFER|_IMAGE)|MARKER|MIGRATE(?:_SVM)?_MEM_OBJECTS|NATIVE_KERNEL|NDRANGE_KERNEL|READ_(?:BUFFER(?:_RECT)?|IMAGE)|RELEASE_GL_OBJECTS|SVM_(?:FREE|MAP|MEMCPY|MEMFILL|UNMAP)|TASK|UNMAP_MEM_OBJECT|USER|WRITE_(?:BUFFER(?:_RECT)?|IMAGE))|COMPILER_NOT_AVAILABLE|COMPILE_PROGRAM_FAILURE|COMPLETE|CONTEXT_(?:DEVICES|INTEROP_USER_SYNC|NUM_DEVICES|PLATFORM|PROPERTIES|REFERENCE_COUNT)|DEPTH(?:_STENCIL)?|DEVICE_(?:ADDRESS_BITS|AFFINITY_DOMAIN_(?:L[1-4]_CACHE|NEXT_PARTITIONABLE|NUMA)|AVAILABLE|BUILT_IN_KERNELS|COMPILER_AVAILABLE|DOUBLE_FP_CONFIG|ENDIAN_LITTLE|ERROR_CORRECTION_SUPPORT|EXECUTION_CAPABILITIES|EXTENSIONS|GLOBAL_(?:MEM_(?:CACHELINE_SIZE|CACHE_SIZE|CACHE_TYPE|SIZE)|VARIABLE_PREFERRED_TOTAL_SIZE)|HOST_UNIFIED_MEMORY|IL_VERSION|IMAGE(?:2D_MAX_(?:HEIGHT|WIDTH)|3D_MAX_(?:DEPTH|HEIGHT|WIDTH)|_BASE_ADDRESS_ALIGNMENT|_MAX_ARRAY_SIZE|_MAX_BUFFER_SIZE|_PITCH_ALIGNMENT|_SUPPORT)|LINKER_AVAILABLE|LOCAL_MEM_SIZE|LOCAL_MEM_TYPE|MAX_(?:CLOCK_FREQUENCY|COMPUTE_UNITS|CONSTANT_ARGS|CONSTANT_BUFFER_SIZE|GLOBAL_VARIABLE_SIZE|MEM_ALLOC_SIZE|NUM_SUB_GROUPS|ON_DEVICE_(?:EVENTS|QUEUES)|PARAMETER_SIZE|PIPE_ARGS|READ_IMAGE_ARGS|READ_WRITE_IMAGE_ARGS|SAMPLERS|WORK_GROUP_SIZE|WORK_ITEM_DIMENSIONS|WORK_ITEM_SIZES|WRITE_IMAGE_ARGS)|MEM_BASE_ADDR_ALIGN|MIN_DATA_TYPE_ALIGN_SIZE|NAME|NATIVE_VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT)|NOT_(?:AVAILABLE|FOUND)|OPENCL_C_VERSION|PARENT_DEVICE|PARTITION_(?:AFFINITY_DOMAIN|BY_AFFINITY_DOMAIN|BY_COUNTS|BY_COUNTS_LIST_END|EQUALLY|FAILED|MAX_SUB_DEVICES|PROPERTIES|TYPE)|PIPE_MAX_(?:ACTIVE_RESERVATIONS|PACKET_SIZE)|PLATFORM|PREFERRED_(?:GLOBAL_ATOMIC_ALIGNMENT|INTEROP_USER_SYNC|LOCAL_ATOMIC_ALIGNMENT|PLATFORM_ATOMIC_ALIGNMENT|VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT))|PRINTF_BUFFER_SIZE|PROFILE|PROFILING_TIMER_RESOLUTION|QUEUE_(?:ON_(?:DEVICE_(?:MAX_SIZE|PREFERRED_SIZE|PROPERTIES)|HOST_PROPERTIES)|PROPERTIES)|REFERENCE_COUNT|SINGLE_FP_CONFIG|SUB_GROUP_INDEPENDENT_FORWARD_PROGRESS|SVM_(?:ATOMICS|CAPABILITIES|COARSE_GRAIN_BUFFER|FINE_GRAIN_BUFFER|FINE_GRAIN_SYSTEM)|TYPE(?:_ACCELERATOR|_ALL|_CPU|_CUSTOM|_DEFAULT|_GPU)?|VENDOR(?:_ID)?|VERSION)|DRIVER_VERSION|EVENT_(?:COMMAND_(?:EXECUTION_STATUS|QUEUE|TYPE)|CONTEXT|REFERENCE_COUNT)|EXEC_(?:KERNEL|NATIVE_KERNEL|STATUS_ERROR_FOR_EVENTS_IN_WAIT_LIST)|FILTER_(?:LINEAR|NEAREST)|FLOAT|FP_(?:CORRECTLY_ROUNDED_DIVIDE_SQRT|DENORM|FMA|INF_NAN|ROUND_TO_INF|ROUND_TO_NEAREST|ROUND_TO_ZERO|SOFT_FLOAT)|GLOBAL|HALF_FLOAT|IMAGE_(?:ARRAY_SIZE|BUFFER|DEPTH|ELEMENT_SIZE|FORMAT|FORMAT_MISMATCH|FORMAT_NOT_SUPPORTED|HEIGHT|NUM_MIP_LEVELS|NUM_SAMPLES|ROW_PITCH|SLICE_PITCH|WIDTH)|INTENSITY|INVALID_(?:ARG_INDEX|ARG_SIZE|ARG_VALUE|BINARY|BUFFER_SIZE|BUILD_OPTIONS|COMMAND_QUEUE|COMPILER_OPTIONS|CONTEXT|DEVICE|DEVICE_PARTITION_COUNT|DEVICE_QUEUE|DEVICE_TYPE|EVENT|EVENT_WAIT_LIST|GLOBAL_OFFSET|GLOBAL_WORK_SIZE|GL_OBJECT|HOST_PTR|IMAGE_DESCRIPTOR|IMAGE_FORMAT_DESCRIPTOR|IMAGE_SIZE|KERNEL|KERNEL_ARGS|KERNEL_DEFINITION|KERNEL_NAME|LINKER_OPTIONS|MEM_OBJECT|MIP_LEVEL|OPERATION|PIPE_SIZE|PLATFORM|PROGRAM|PROGRAM_EXECUTABLE|PROPERTY|QUEUE_PROPERTIES|SAMPLER|VALUE|WORK_DIMENSION|WORK_GROUP_SIZE|WORK_ITEM_SIZE)|KERNEL_(?:ARG_(?:ACCESS_(?:NONE|QUALIFIER|READ_ONLY|READ_WRITE|WRITE_ONLY)|ADDRESS_(?:CONSTANT|GLOBAL|LOCAL|PRIVATE|QUALIFIER)|INFO_NOT_AVAILABLE|NAME|TYPE_(?:CONST|NAME|NONE|PIPE|QUALIFIER|RESTRICT|VOLATILE))|ATTRIBUTES|COMPILE_NUM_SUB_GROUPS|COMPILE_WORK_GROUP_SIZE|CONTEXT|EXEC_INFO_SVM_FINE_GRAIN_SYSTEM|EXEC_INFO_SVM_PTRS|FUNCTION_NAME|GLOBAL_WORK_SIZE|LOCAL_MEM_SIZE|LOCAL_SIZE_FOR_SUB_GROUP_COUNT|MAX_NUM_SUB_GROUPS|MAX_SUB_GROUP_SIZE_FOR_NDRANGE|NUM_ARGS|PREFERRED_WORK_GROUP_SIZE_MULTIPLE|PRIVATE_MEM_SIZE|PROGRAM|REFERENCE_COUNT|SUB_GROUP_COUNT_FOR_NDRANGE|WORK_GROUP_SIZE)|LINKER_NOT_AVAILABLE|LINK_PROGRAM_FAILURE|LOCAL|LUMINANCE|MAP_(?:FAILURE|READ|WRITE|WRITE_INVALIDATE_REGION)|MEM_(?:ALLOC_HOST_PTR|ASSOCIATED_MEMOBJECT|CONTEXT|COPY_HOST_PTR|COPY_OVERLAP|FLAGS|HOST_NO_ACCESS|HOST_PTR|HOST_READ_ONLY|HOST_WRITE_ONLY|KERNEL_READ_AND_WRITE|MAP_COUNT|OBJECT_(?:ALLOCATION_FAILURE|BUFFER|IMAGE1D|IMAGE1D_ARRAY|IMAGE1D_BUFFER|IMAGE2D|IMAGE2D_ARRAY|IMAGE3D|PIPE)|OFFSET|READ_ONLY|READ_WRITE|REFERENCE_COUNT|SIZE|SVM_ATOMICS|SVM_FINE_GRAIN_BUFFER|TYPE|USES_SVM_POINTER|USE_HOST_PTR|WRITE_ONLY)|MIGRATE_MEM_OBJECT_(?:CONTENT_UNDEFINED|HOST)|MISALIGNED_SUB_BUFFER_OFFSET|NONE|NON_BLOCKING|OUT_OF_(?:HOST_MEMORY|RESOURCES)|PIPE_(?:MAX_PACKETS|PACKET_SIZE)|PLATFORM_(?:EXTENSIONS|HOST_TIMER_RESOLUTION|NAME|PROFILE|VENDOR|VERSION)|PROFILING_(?:COMMAND_(?:COMPLETE|END|QUEUED|START|SUBMIT)|INFO_NOT_AVAILABLE)|PROGRAM_(?:BINARIES|BINARY_SIZES|BINARY_TYPE(?:_COMPILED_OBJECT|_EXECUTABLE|_LIBRARY|_NONE)?|BUILD_(?:GLOBAL_VARIABLE_TOTAL_SIZE|LOG|OPTIONS|STATUS)|CONTEXT|DEVICES|IL|KERNEL_NAMES|NUM_DEVICES|NUM_KERNELS|REFERENCE_COUNT|SOURCE)|QUEUED|QUEUE_(?:CONTEXT|DEVICE|DEVICE_DEFAULT|ON_DEVICE|ON_DEVICE_DEFAULT|OUT_OF_ORDER_EXEC_MODE_ENABLE|PROFILING_ENABLE|PROPERTIES|REFERENCE_COUNT|SIZE)|R|RA|READ_(?:ONLY|WRITE)_CACHE|RG|RGB|RGBA|RGBx|RGx|RUNNING|Rx|SAMPLER_(?:ADDRESSING_MODE|CONTEXT|FILTER_MODE|LOD_MAX|LOD_MIN|MIP_FILTER_MODE|NORMALIZED_COORDS|REFERENCE_COUNT)|(?:UN)?SIGNED_INT(?:8|16|32)|SNORM_INT(?:8|16)|SUBMITTED|SUCCESS|UNORM_INT(?:8|16|24|_101010|_101010_2)|UNORM_SHORT_(?:555|565)|VERSION_(?:1_0|1_1|1_2|2_0|2_1)|sBGRA|sRGB|sRGBA|sRGBx)\b/,alias:"constant"},"function-opencl-host":{pattern:/\bcl(?:BuildProgram|CloneKernel|CompileProgram|Create(?:Buffer|CommandQueue(?:WithProperties)?|Context|ContextFromType|Image|Image2D|Image3D|Kernel|KernelsInProgram|Pipe|ProgramWith(?:Binary|BuiltInKernels|IL|Source)|Sampler|SamplerWithProperties|SubBuffer|SubDevices|UserEvent)|Enqueue(?:(?:Barrier|Marker)(?:WithWaitList)?|Copy(?:Buffer(?:Rect|ToImage)?|Image(?:ToBuffer)?)|(?:Fill|Map)(?:Buffer|Image)|MigrateMemObjects|NDRangeKernel|NativeKernel|(?:Read|Write)(?:Buffer(?:Rect)?|Image)|SVM(?:Free|Map|MemFill|Memcpy|MigrateMem|Unmap)|Task|UnmapMemObject|WaitForEvents)|Finish|Flush|Get(?:CommandQueueInfo|ContextInfo|Device(?:AndHostTimer|IDs|Info)|Event(?:Profiling)?Info|ExtensionFunctionAddress(?:ForPlatform)?|HostTimer|ImageInfo|Kernel(?:ArgInfo|Info|SubGroupInfo|WorkGroupInfo)|MemObjectInfo|PipeInfo|Platform(?:IDs|Info)|Program(?:Build)?Info|SamplerInfo|SupportedImageFormats)|LinkProgram|(?:Release|Retain)(?:CommandQueue|Context|Device|Event|Kernel|MemObject|Program|Sampler)|SVM(?:Alloc|Free)|Set(?:CommandQueueProperty|DefaultDeviceCommandQueue|EventCallback|Kernel|Kernel(?:Arg(?:SVMPointer)?|ExecInfo)|MemObjectDestructorCallback|UserEventStatus)|Unload(?:Platform)?Compiler|WaitForEvents)\b/,alias:"function"}};r.languages.insertBefore("c","keyword",i),r.languages.cpp&&(i["type-opencl-host-cpp"]={pattern:/\b(?:Buffer|BufferGL|BufferRenderGL|CommandQueue|Context|Device|DeviceCommandQueue|EnqueueArgs|Event|Image|Image1D|Image1DArray|Image1DBuffer|Image2D|Image2DArray|Image2DGL|Image3D|Image3DGL|ImageFormat|ImageGL|Kernel|KernelFunctor|LocalSpaceArg|Memory|NDRange|Pipe|Platform|Program|SVMAllocator|SVMTraitAtomic|SVMTraitCoarse|SVMTraitFine|SVMTraitReadOnly|SVMTraitReadWrite|SVMTraitWriteOnly|Sampler|UserEvent)\b/,alias:"keyword"},r.languages.insertBefore("cpp","keyword",i))}(n)}return kA}var LA,r5;function Pke(){if(r5)return LA;r5=1,LA=e,e.displayName="openqasm",e.aliases=["qasm"];function e(t){t.languages.openqasm={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"[^"\r\n\t]*"|'[^'\r\n\t]*'/,greedy:!0},keyword:/\b(?:CX|OPENQASM|U|barrier|boxas|boxto|break|const|continue|ctrl|def|defcal|defcalgrammar|delay|else|end|for|gate|gphase|if|in|include|inv|kernel|lengthof|let|measure|pow|reset|return|rotary|stretchinf|while)\b|#pragma\b/,"class-name":/\b(?:angle|bit|bool|creg|fixed|float|int|length|qreg|qubit|stretch|uint)\b/,function:/\b(?:cos|exp|ln|popcount|rotl|rotr|sin|sqrt|tan)\b(?=\s*\()/,constant:/\b(?:euler|pi|tau)\b|π|𝜏|ℇ/,number:{pattern:/(^|[^.\w$])(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?(?:dt|ns|us|µs|ms|s)?/i,lookbehind:!0},operator:/->|>>=?|<<=?|&&|\|\||\+\+|--|[!=<>&|~^+\-*/%]=?|@/,punctuation:/[(){}\[\];,:.]/},t.languages.qasm=t.languages.openqasm}return LA}var PA,a5;function Dke(){if(a5)return PA;a5=1,PA=e,e.displayName="oz",e.aliases=[];function e(t){t.languages.oz={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},atom:{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,alias:"builtin"},keyword:/\$|\[\]|\b(?:_|at|attr|case|catch|choice|class|cond|declare|define|dis|else(?:case|if)?|end|export|fail|false|feat|finally|from|fun|functor|if|import|in|local|lock|meth|nil|not|of|or|prepare|proc|prop|raise|require|self|skip|then|thread|true|try|unit)\b/,function:[/\b[a-z][A-Za-z\d]*(?=\()/,{pattern:/(\{)[A-Z][A-Za-z\d]*\b/,lookbehind:!0}],number:/\b(?:0[bx][\da-f]+|\d+(?:\.\d*)?(?:e~?\d+)?)\b|&(?:[^\\]|\\(?:\d{3}|.))/i,variable:/`(?:[^`\\]|\\.)+`/,"attr-name":/\b\w+(?=[ \t]*:(?![:=]))/,operator:/:(?:=|::?)|<[-:=]?|=(?:=|<?:?)|>=?:?|\\=:?|!!?|[|#+\-*\/,~^@]|\b(?:andthen|div|mod|orelse)\b/,punctuation:/[\[\](){}.:;?]/}}return PA}var DA,i5;function jke(){if(i5)return DA;i5=1,DA=e,e.displayName="parigp",e.aliases=[];function e(t){t.languages.parigp={comment:/\/\*[\s\S]*?\*\/|\\\\.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"/,greedy:!0},keyword:function(){var n=["breakpoint","break","dbg_down","dbg_err","dbg_up","dbg_x","forcomposite","fordiv","forell","forpart","forprime","forstep","forsubgroup","forvec","for","iferr","if","local","my","next","return","until","while"];return n=n.map(function(r){return r.split("").join(" *")}).join("|"),RegExp("\\b(?:"+n+")\\b")}(),function:/\b\w(?:[\w ]*\w)?(?= *\()/,number:{pattern:/((?:\. *\. *)?)(?:\b\d(?: *\d)*(?: *(?!\. *\.)\.(?: *\d)*)?|\. *\d(?: *\d)*)(?: *e *(?:[+-] *)?\d(?: *\d)*)?/i,lookbehind:!0},operator:/\. *\.|[*\/!](?: *=)?|%(?: *=|(?: *#)?(?: *')*)?|\+(?: *[+=])?|-(?: *[-=>])?|<(?: *>|(?: *<)?(?: *=)?)?|>(?: *>)?(?: *=)?|=(?: *=){0,2}|\\(?: *\/)?(?: *=)?|&(?: *&)?|\| *\||['#~^]/,punctuation:/[\[\]{}().,:;|]/}}return DA}var jA,o5;function Vke(){if(o5)return jA;o5=1,jA=e,e.displayName="parser",e.aliases=[];function e(t){(function(n){var r=n.languages.parser=n.languages.extend("markup",{keyword:{pattern:/(^|[^^])(?:\^(?:case|eval|for|if|switch|throw)\b|@(?:BASE|CLASS|GET(?:_DEFAULT)?|OPTIONS|SET_DEFAULT|USE)\b)/,lookbehind:!0},variable:{pattern:/(^|[^^])\B\$(?:\w+|(?=[.{]))(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{punctuation:/\.|:+/}},function:{pattern:/(^|[^^])\B[@^]\w+(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{keyword:{pattern:/(^@)(?:GET_|SET_)/,lookbehind:!0},punctuation:/\.|:+/}},escape:{pattern:/\^(?:[$^;@()\[\]{}"':]|#[a-f\d]*)/i,alias:"builtin"},punctuation:/[\[\](){};]/});r=n.languages.insertBefore("parser","keyword",{"parser-comment":{pattern:/(\s)#.*/,lookbehind:!0,alias:"comment"},expression:{pattern:/(^|[^^])\((?:[^()]|\((?:[^()]|\((?:[^()])*\))*\))*\)/,greedy:!0,lookbehind:!0,inside:{string:{pattern:/(^|[^^])(["'])(?:(?!\2)[^^]|\^[\s\S])*\2/,lookbehind:!0},keyword:r.keyword,variable:r.variable,function:r.function,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[a-f\d]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?)\b/i,escape:r.escape,operator:/[~+*\/\\%]|!(?:\|\|?|=)?|&&?|\|\|?|==|<[<=]?|>[>=]?|-[fd]?|\b(?:def|eq|ge|gt|in|is|le|lt|ne)\b/,punctuation:r.punctuation}}}),n.languages.insertBefore("inside","punctuation",{expression:r.expression,keyword:r.keyword,variable:r.variable,function:r.function,escape:r.escape,"parser-punctuation":{pattern:r.punctuation,alias:"punctuation"}},r.tag.inside["attr-value"])})(t)}return jA}var VA,s5;function $ke(){if(s5)return VA;s5=1,VA=e,e.displayName="pascal",e.aliases=["objectpascal"];function e(t){t.languages.pascal={directive:{pattern:/\{\$[\s\S]*?\}/,greedy:!0,alias:["marco","property"]},comment:{pattern:/\(\*[\s\S]*?\*\)|\{[\s\S]*?\}|\/\/.*/,greedy:!0},string:{pattern:/(?:'(?:''|[^'\r\n])*'(?!')|#[&$%]?[a-f\d]+)+|\^[a-z]/i,greedy:!0},asm:{pattern:/(\basm\b)[\s\S]+?(?=\bend\s*[;[])/i,lookbehind:!0,greedy:!0,inside:null},keyword:[{pattern:/(^|[^&])\b(?:absolute|array|asm|begin|case|const|constructor|destructor|do|downto|else|end|file|for|function|goto|if|implementation|inherited|inline|interface|label|nil|object|of|operator|packed|procedure|program|record|reintroduce|repeat|self|set|string|then|to|type|unit|until|uses|var|while|with)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:dispose|exit|false|new|true)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:class|dispinterface|except|exports|finalization|finally|initialization|inline|library|on|out|packed|property|raise|resourcestring|threadvar|try)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:absolute|abstract|alias|assembler|bitpacked|break|cdecl|continue|cppdecl|cvar|default|deprecated|dynamic|enumerator|experimental|export|external|far|far16|forward|generic|helper|implements|index|interrupt|iochecks|local|message|name|near|nodefault|noreturn|nostackframe|oldfpccall|otherwise|overload|override|pascal|platform|private|protected|public|published|read|register|reintroduce|result|safecall|saveregisters|softfloat|specialize|static|stdcall|stored|strict|unaligned|unimplemented|varargs|virtual|write)\b/i,lookbehind:!0}],number:[/(?:[&%]\d+|\$[a-f\d]+)/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?/i],operator:[/\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=]/,{pattern:/(^|[^&])\b(?:and|as|div|exclude|in|include|is|mod|not|or|shl|shr|xor)\b/,lookbehind:!0}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/},t.languages.pascal.asm.inside=t.languages.extend("pascal",{asm:void 0,keyword:void 0,operator:void 0}),t.languages.objectpascal=t.languages.pascal}return VA}var $A,l5;function Uke(){if(l5)return $A;l5=1,$A=e,e.displayName="pascaligo",e.aliases=[];function e(t){(function(n){var r=/\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\)/.source,i=/(?:\b\w+(?:<braces>)?|<braces>)/.source.replace(/<braces>/g,function(){return r}),d=n.languages.pascaligo={comment:/\(\*[\s\S]+?\*\)|\/\/.*/,string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1|\^[a-z]/i,greedy:!0},"class-name":[{pattern:RegExp(/(\btype\s+\w+\s+is\s+)<type>/.source.replace(/<type>/g,function(){return i}),"i"),lookbehind:!0,inside:null},{pattern:RegExp(/<type>(?=\s+is\b)/.source.replace(/<type>/g,function(){return i}),"i"),inside:null},{pattern:RegExp(/(:\s*)<type>/.source.replace(/<type>/g,function(){return i})),lookbehind:!0,inside:null}],keyword:{pattern:/(^|[^&])\b(?:begin|block|case|const|else|end|fail|for|from|function|if|is|nil|of|remove|return|skip|then|type|var|while|with)\b/i,lookbehind:!0},boolean:{pattern:/(^|[^&])\b(?:False|True)\b/i,lookbehind:!0},builtin:{pattern:/(^|[^&])\b(?:bool|int|list|map|nat|record|string|unit)\b/i,lookbehind:!0},function:/\b\w+(?=\s*\()/,number:[/%[01]+|&[0-7]+|\$[a-f\d]+/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?(?:mtz|n)?/i],operator:/->|=\/=|\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=|]|\b(?:and|mod|or)\b/,punctuation:/\(\.|\.\)|[()\[\]:;,.{}]/},g=["comment","keyword","builtin","operator","punctuation"].reduce(function(v,S){return v[S]=d[S],v},{});d["class-name"].forEach(function(v){v.inside=g})})(t)}return $A}var UA,c5;function Bke(){if(c5)return UA;c5=1,UA=e,e.displayName="pcaxis",e.aliases=["px"];function e(t){t.languages.pcaxis={string:/"[^"]*"/,keyword:{pattern:/((?:^|;)\s*)[-A-Z\d]+(?:\s*\[[-\w]+\])?(?:\s*\("[^"]*"(?:,\s*"[^"]*")*\))?(?=\s*=)/,lookbehind:!0,greedy:!0,inside:{keyword:/^[-A-Z\d]+/,language:{pattern:/^(\s*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/^\[|\]$/,property:/[-\w]+/}},"sub-key":{pattern:/^(\s*)\S[\s\S]*/,lookbehind:!0,inside:{parameter:{pattern:/"[^"]*"/,alias:"property"},punctuation:/^\(|\)$|,/}}}},operator:/=/,tlist:{pattern:/TLIST\s*\(\s*\w+(?:(?:\s*,\s*"[^"]*")+|\s*,\s*"[^"]*"-"[^"]*")?\s*\)/,greedy:!0,inside:{function:/^TLIST/,property:{pattern:/^(\s*\(\s*)\w+/,lookbehind:!0},string:/"[^"]*"/,punctuation:/[(),]/,operator:/-/}},punctuation:/[;,]/,number:{pattern:/(^|\s)\d+(?:\.\d+)?(?!\S)/,lookbehind:!0},boolean:/NO|YES/},t.languages.px=t.languages.pcaxis}return UA}var BA,u5;function Fke(){if(u5)return BA;u5=1,BA=e,e.displayName="peoplecode",e.aliases=["pcode"];function e(t){t.languages.peoplecode={comment:RegExp([/\/\*[\s\S]*?\*\//.source,/\bREM[^;]*;/.source,/<\*(?:[^<*]|\*(?!>)|<(?!\*)|<\*(?:(?!\*>)[\s\S])*\*>)*\*>/.source,/\/\+[\s\S]*?\+\//.source].join("|")),string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},variable:/%\w+/,"function-definition":{pattern:/((?:^|[^\w-])(?:function|method)\s+)\w+/i,lookbehind:!0,alias:"function"},"class-name":{pattern:/((?:^|[^-\w])(?:as|catch|class|component|create|extends|global|implements|instance|local|of|property|returns)\s+)\w+(?::\w+)*/i,lookbehind:!0,inside:{punctuation:/:/}},keyword:/\b(?:abstract|alias|as|catch|class|component|constant|create|declare|else|end-(?:class|evaluate|for|function|get|if|method|set|try|while)|evaluate|extends|for|function|get|global|if|implements|import|instance|library|local|method|null|of|out|peopleCode|private|program|property|protected|readonly|ref|repeat|returns?|set|step|then|throw|to|try|until|value|when(?:-other)?|while)\b/i,"operator-keyword":{pattern:/\b(?:and|not|or)\b/i,alias:"operator"},function:/[_a-z]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/\b\d+(?:\.\d+)?\b/,operator:/<>|[<>]=?|!=|\*\*|[-+*/|=@]/,punctuation:/[:.;,()[\]]/},t.languages.pcode=t.languages.peoplecode}return BA}var FA,d5;function qke(){if(d5)return FA;d5=1,FA=e,e.displayName="perl",e.aliases=[];function e(t){(function(n){var r=/(?:\((?:[^()\\]|\\[\s\S])*\)|\{(?:[^{}\\]|\\[\s\S])*\}|\[(?:[^[\]\\]|\\[\s\S])*\]|<(?:[^<>\\]|\\[\s\S])*>)/.source;n.languages.perl={comment:[{pattern:/(^\s*)=\w[\s\S]*?=cut.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],string:[{pattern:RegExp(/\b(?:q|qq|qw|qx)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,r].join("|")+")"),greedy:!0},{pattern:/("|`)(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0},{pattern:/'(?:[^'\\\r\n]|\\.)*'/,greedy:!0}],regex:[{pattern:RegExp(/\b(?:m|qr)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,r].join("|")+")"+/[msixpodualngc]*/.source),greedy:!0},{pattern:RegExp(/(^|[^-])\b(?:s|tr|y)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\2)[^\\]|\\[\s\S])*\2(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,/([a-zA-Z0-9])(?:(?!\3)[^\\]|\\[\s\S])*\3(?:(?!\3)[^\\]|\\[\s\S])*\3/.source,r+/\s*/.source+r].join("|")+")"+/[msixpodualngcer]*/.source),lookbehind:!0,greedy:!0},{pattern:/\/(?:[^\/\\\r\n]|\\.)*\/[msixpodualngc]*(?=\s*(?:$|[\r\n,.;})&|\-+*~<>!?^]|(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|x|xor)\b))/,greedy:!0}],variable:[/[&*$@%]\{\^[A-Z]+\}/,/[&*$@%]\^[A-Z_]/,/[&*$@%]#?(?=\{)/,/[&*$@%]#?(?:(?:::)*'?(?!\d)[\w$]+(?![\w$]))+(?:::)*/,/[&*$@%]\d+/,/(?!%=)[$@%][!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/],filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ \t]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|\+[+=]?|-[-=>]?|\*\*?=?|\/\/?=?|=[=~>]?|~[~=]?|\|\|?=?|&&?=?|<(?:=>?|<=?)?|>>?=?|![~=]?|[%^]=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)\b/,punctuation:/[{}[\];(),:]/}})(t)}return FA}var qA,p5;function zke(){if(p5)return qA;p5=1;var e=G_();qA=t,t.displayName="phpExtras",t.aliases=[];function t(n){n.register(e),n.languages.insertBefore("php","variable",{this:{pattern:/\$this\b/,alias:"keyword"},global:/\$(?:GLOBALS|HTTP_RAW_POST_DATA|_(?:COOKIE|ENV|FILES|GET|POST|REQUEST|SERVER|SESSION)|argc|argv|http_response_header|php_errormsg)\b/,scope:{pattern:/\b[\w\\]+::/,inside:{keyword:/\b(?:parent|self|static)\b/,punctuation:/::|\\/}}})}return qA}var zA,m5;function Hke(){if(m5)return zA;m5=1;var e=G_(),t=H_();zA=n,n.displayName="phpdoc",n.aliases=[];function n(r){r.register(e),r.register(t),function(i){var d=/(?:\b[a-zA-Z]\w*|[|\\[\]])+/.source;i.languages.phpdoc=i.languages.extend("javadoclike",{parameter:{pattern:RegExp("(@(?:global|param|property(?:-read|-write)?|var)\\s+(?:"+d+"\\s+)?)\\$\\w+"),lookbehind:!0}}),i.languages.insertBefore("phpdoc","keyword",{"class-name":[{pattern:RegExp("(@(?:global|package|param|property(?:-read|-write)?|return|subpackage|throws|var)\\s+)"+d),lookbehind:!0,inside:{keyword:/\b(?:array|bool|boolean|callback|double|false|float|int|integer|mixed|null|object|resource|self|string|true|void)\b/,punctuation:/[|\\[\]()]/}}]}),i.languages.javadoclike.addSupport("php",i.languages.phpdoc)}(r)}return zA}var HA,f5;function Gke(){if(f5)return HA;f5=1;var e=Oj();HA=t,t.displayName="plsql",t.aliases=[];function t(n){n.register(e),n.languages.plsql=n.languages.extend("sql",{comment:{pattern:/\/\*[\s\S]*?\*\/|--.*/,greedy:!0},keyword:/\b(?:A|ACCESSIBLE|ADD|AGENT|AGGREGATE|ALL|ALTER|AND|ANY|ARRAY|AS|ASC|AT|ATTRIBUTE|AUTHID|AVG|BEGIN|BETWEEN|BFILE_BASE|BINARY|BLOB_BASE|BLOCK|BODY|BOTH|BOUND|BULK|BY|BYTE|C|CALL|CALLING|CASCADE|CASE|CHAR|CHARACTER|CHARSET|CHARSETFORM|CHARSETID|CHAR_BASE|CHECK|CLOB_BASE|CLONE|CLOSE|CLUSTER|CLUSTERS|COLAUTH|COLLECT|COLUMNS|COMMENT|COMMIT|COMMITTED|COMPILED|COMPRESS|CONNECT|CONSTANT|CONSTRUCTOR|CONTEXT|CONTINUE|CONVERT|COUNT|CRASH|CREATE|CREDENTIAL|CURRENT|CURSOR|CUSTOMDATUM|DANGLING|DATA|DATE|DATE_BASE|DAY|DECLARE|DEFAULT|DEFINE|DELETE|DESC|DETERMINISTIC|DIRECTORY|DISTINCT|DOUBLE|DROP|DURATION|ELEMENT|ELSE|ELSIF|EMPTY|END|ESCAPE|EXCEPT|EXCEPTION|EXCEPTIONS|EXCLUSIVE|EXECUTE|EXISTS|EXIT|EXTERNAL|FETCH|FINAL|FIRST|FIXED|FLOAT|FOR|FORALL|FORCE|FROM|FUNCTION|GENERAL|GOTO|GRANT|GROUP|HASH|HAVING|HEAP|HIDDEN|HOUR|IDENTIFIED|IF|IMMEDIATE|IMMUTABLE|IN|INCLUDING|INDEX|INDEXES|INDICATOR|INDICES|INFINITE|INSERT|INSTANTIABLE|INT|INTERFACE|INTERSECT|INTERVAL|INTO|INVALIDATE|IS|ISOLATION|JAVA|LANGUAGE|LARGE|LEADING|LENGTH|LEVEL|LIBRARY|LIKE|LIKE2|LIKE4|LIKEC|LIMIT|LIMITED|LOCAL|LOCK|LONG|LOOP|MAP|MAX|MAXLEN|MEMBER|MERGE|MIN|MINUS|MINUTE|MOD|MODE|MODIFY|MONTH|MULTISET|MUTABLE|NAME|NAN|NATIONAL|NATIVE|NCHAR|NEW|NOCOMPRESS|NOCOPY|NOT|NOWAIT|NULL|NUMBER_BASE|OBJECT|OCICOLL|OCIDATE|OCIDATETIME|OCIDURATION|OCIINTERVAL|OCILOBLOCATOR|OCINUMBER|OCIRAW|OCIREF|OCIREFCURSOR|OCIROWID|OCISTRING|OCITYPE|OF|OLD|ON|ONLY|OPAQUE|OPEN|OPERATOR|OPTION|OR|ORACLE|ORADATA|ORDER|ORGANIZATION|ORLANY|ORLVARY|OTHERS|OUT|OVERLAPS|OVERRIDING|PACKAGE|PARALLEL_ENABLE|PARAMETER|PARAMETERS|PARENT|PARTITION|PASCAL|PERSISTABLE|PIPE|PIPELINED|PLUGGABLE|POLYMORPHIC|PRAGMA|PRECISION|PRIOR|PRIVATE|PROCEDURE|PUBLIC|RAISE|RANGE|RAW|READ|RECORD|REF|REFERENCE|RELIES_ON|REM|REMAINDER|RENAME|RESOURCE|RESULT|RESULT_CACHE|RETURN|RETURNING|REVERSE|REVOKE|ROLLBACK|ROW|SAMPLE|SAVE|SAVEPOINT|SB1|SB2|SB4|SECOND|SEGMENT|SELECT|SELF|SEPARATE|SEQUENCE|SERIALIZABLE|SET|SHARE|SHORT|SIZE|SIZE_T|SOME|SPARSE|SQL|SQLCODE|SQLDATA|SQLNAME|SQLSTATE|STANDARD|START|STATIC|STDDEV|STORED|STRING|STRUCT|STYLE|SUBMULTISET|SUBPARTITION|SUBSTITUTABLE|SUBTYPE|SUM|SYNONYM|TABAUTH|TABLE|TDO|THE|THEN|TIME|TIMESTAMP|TIMEZONE_ABBR|TIMEZONE_HOUR|TIMEZONE_MINUTE|TIMEZONE_REGION|TO|TRAILING|TRANSACTION|TRANSACTIONAL|TRUSTED|TYPE|UB1|UB2|UB4|UNDER|UNION|UNIQUE|UNPLUG|UNSIGNED|UNTRUSTED|UPDATE|USE|USING|VALIST|VALUE|VALUES|VARIABLE|VARIANCE|VARRAY|VARYING|VIEW|VIEWS|VOID|WHEN|WHERE|WHILE|WITH|WORK|WRAPPED|WRITE|YEAR|ZONE)\b/i,operator:/:=?|=>|[<>^~!]=|\.\.|\|\||\*\*|[-+*/%<>=@]/}),n.languages.insertBefore("plsql","operator",{label:{pattern:/<<\s*\w+\s*>>/,alias:"symbol"}})}return HA}var GA,g5;function Kke(){if(g5)return GA;g5=1,GA=e,e.displayName="powerquery",e.aliases=[];function e(t){t.languages.powerquery={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},"quoted-identifier":{pattern:/#"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},string:{pattern:/(?:#!)?"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},constant:[/\bDay\.(?:Friday|Monday|Saturday|Sunday|Thursday|Tuesday|Wednesday)\b/,/\bTraceLevel\.(?:Critical|Error|Information|Verbose|Warning)\b/,/\bOccurrence\.(?:All|First|Last)\b/,/\bOrder\.(?:Ascending|Descending)\b/,/\bRoundingMode\.(?:AwayFromZero|Down|ToEven|TowardZero|Up)\b/,/\bMissingField\.(?:Error|Ignore|UseNull)\b/,/\bQuoteStyle\.(?:Csv|None)\b/,/\bJoinKind\.(?:FullOuter|Inner|LeftAnti|LeftOuter|RightAnti|RightOuter)\b/,/\bGroupKind\.(?:Global|Local)\b/,/\bExtraValues\.(?:Error|Ignore|List)\b/,/\bJoinAlgorithm\.(?:Dynamic|LeftHash|LeftIndex|PairwiseHash|RightHash|RightIndex|SortMerge)\b/,/\bJoinSide\.(?:Left|Right)\b/,/\bPrecision\.(?:Decimal|Double)\b/,/\bRelativePosition\.From(?:End|Start)\b/,/\bTextEncoding\.(?:Ascii|BigEndianUnicode|Unicode|Utf16|Utf8|Windows)\b/,/\b(?:Any|Binary|Date|DateTime|DateTimeZone|Duration|Function|Int16|Int32|Int64|Int8|List|Logical|None|Number|Record|Table|Text|Time)\.Type\b/,/\bnull\b/],boolean:/\b(?:false|true)\b/,keyword:/\b(?:and|as|each|else|error|if|in|is|let|meta|not|nullable|optional|or|otherwise|section|shared|then|try|type)\b|#(?:binary|date|datetime|datetimezone|duration|infinity|nan|sections|shared|table|time)\b/,function:{pattern:/(^|[^#\w.])[a-z_][\w.]*(?=\s*\()/i,lookbehind:!0},"data-type":{pattern:/\b(?:any|anynonnull|binary|date|datetime|datetimezone|duration|function|list|logical|none|number|record|table|text|time)\b/,alias:"class-name"},number:{pattern:/\b0x[\da-f]+\b|(?:[+-]?(?:\b\d+\.)?\b\d+|[+-]\.\d+|(^|[^.])\B\.\d+)(?:e[+-]?\d+)?\b/i,lookbehind:!0},operator:/[-+*\/&?@^]|<(?:=>?|>)?|>=?|=>?|\.\.\.?/,punctuation:/[,;\[\](){}]/},t.languages.pq=t.languages.powerquery,t.languages.mscript=t.languages.powerquery}return GA}var KA,h5;function Wke(){if(h5)return KA;h5=1,KA=e,e.displayName="powershell",e.aliases=[];function e(t){(function(n){var r=n.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};r.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:r},boolean:r.boolean,variable:r.variable}})(t)}return KA}var WA,v5;function Yke(){if(v5)return WA;v5=1,WA=e,e.displayName="processing",e.aliases=[];function e(t){t.languages.processing=t.languages.extend("clike",{keyword:/\b(?:break|case|catch|class|continue|default|else|extends|final|for|if|implements|import|new|null|private|public|return|static|super|switch|this|try|void|while)\b/,function:/\b\w+(?=\s*\()/,operator:/<[<=]?|>[>=]?|&&?|\|\|?|[%?]|[!=+\-*\/]=?/}),t.languages.insertBefore("processing","number",{constant:/\b(?!XML\b)[A-Z][A-Z\d_]+\b/,type:{pattern:/\b(?:boolean|byte|char|color|double|float|int|[A-Z]\w*)\b/,alias:"class-name"}})}return WA}var YA,y5;function Xke(){if(y5)return YA;y5=1,YA=e,e.displayName="prolog",e.aliases=[];function e(t){t.languages.prolog={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/(["'])(?:\1\1|\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1(?!\1)/,greedy:!0},builtin:/\b(?:fx|fy|xf[xy]?|yfx?)\b/,function:/\b[a-z]\w*(?:(?=\()|\/\d+)/,number:/\b\d+(?:\.\d*)?/,operator:/[:\\=><\-?*@\/;+^|!$.]+|\b(?:is|mod|not|xor)\b/,punctuation:/[(){}\[\],]/}}return YA}var XA,b5;function Jke(){if(b5)return XA;b5=1,XA=e,e.displayName="promql",e.aliases=[];function e(t){(function(n){var r=["sum","min","max","avg","group","stddev","stdvar","count","count_values","bottomk","topk","quantile"],i=["on","ignoring","group_right","group_left","by","without"],d=["offset"],g=r.concat(i,d);n.languages.promql={comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},"vector-match":{pattern:new RegExp("((?:"+i.join("|")+")\\s*)\\([^)]*\\)"),lookbehind:!0,inside:{"label-key":{pattern:/\b[^,]+\b/,alias:"attr-name"},punctuation:/[(),]/}},"context-labels":{pattern:/\{[^{}]*\}/,inside:{"label-key":{pattern:/\b[a-z_]\w*(?=\s*(?:=|![=~]))/,alias:"attr-name"},"label-value":{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0,alias:"attr-value"},punctuation:/\{|\}|=~?|![=~]|,/}},"context-range":[{pattern:/\[[\w\s:]+\]/,inside:{punctuation:/\[|\]|:/,"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}},{pattern:/(\boffset\s+)\w+/,lookbehind:!0,inside:{"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}}],keyword:new RegExp("\\b(?:"+g.join("|")+")\\b","i"),function:/\b[a-z_]\w*(?=\s*\()/i,number:/[-+]?(?:(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[-+]?\d+)?\b|\b(?:0x[0-9a-f]+|nan|inf)\b)/i,operator:/[\^*/%+-]|==|!=|<=|<|>=|>|\b(?:and|or|unless)\b/i,punctuation:/[{};()`,.[\]]/}})(t)}return XA}var JA,S5;function Qke(){if(S5)return JA;S5=1,JA=e,e.displayName="properties",e.aliases=[];function e(t){t.languages.properties={comment:/^[ \t]*[#!].*$/m,"attr-value":{pattern:/(^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?: *[=:] *(?! )| ))(?:\\(?:\r\n|[\s\S])|[^\\\r\n])+/m,lookbehind:!0},"attr-name":/^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?= *[=:]| )/m,punctuation:/[=:]/}}return JA}var QA,I5;function Zke(){if(I5)return QA;I5=1,QA=e,e.displayName="protobuf",e.aliases=[];function e(t){(function(n){var r=/\b(?:bool|bytes|double|s?fixed(?:32|64)|float|[su]?int(?:32|64)|string)\b/;n.languages.protobuf=n.languages.extend("clike",{"class-name":[{pattern:/(\b(?:enum|extend|message|service)\s+)[A-Za-z_]\w*(?=\s*\{)/,lookbehind:!0},{pattern:/(\b(?:rpc\s+\w+|returns)\s*\(\s*(?:stream\s+)?)\.?[A-Za-z_]\w*(?:\.[A-Za-z_]\w*)*(?=\s*\))/,lookbehind:!0}],keyword:/\b(?:enum|extend|extensions|import|message|oneof|option|optional|package|public|repeated|required|reserved|returns|rpc(?=\s+\w)|service|stream|syntax|to)\b(?!\s*=\s*\d)/,function:/\b[a-z_]\w*(?=\s*\()/i}),n.languages.insertBefore("protobuf","operator",{map:{pattern:/\bmap<\s*[\w.]+\s*,\s*[\w.]+\s*>(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/[<>.,]/,builtin:r}},builtin:r,"positional-class-name":{pattern:/(?:\b|\B\.)[a-z_]\w*(?:\.[a-z_]\w*)*(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/\./}},annotation:{pattern:/(\[\s*)[a-z_]\w*(?=\s*=)/i,lookbehind:!0}})})(t)}return QA}var ZA,E5;function eLe(){if(E5)return ZA;E5=1,ZA=e,e.displayName="psl",e.aliases=[];function e(t){t.languages.psl={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0,inside:{symbol:/\\[ntrbA-Z"\\]/}},"heredoc-string":{pattern:/<<<([a-zA-Z_]\w*)[\r\n](?:.*[\r\n])*?\1\b/,alias:"string",greedy:!0},keyword:/\b(?:__multi|__single|case|default|do|else|elsif|exit|export|for|foreach|function|if|last|line|local|next|requires|return|switch|until|while|word)\b/,constant:/\b(?:ALARM|CHART_ADD_GRAPH|CHART_DELETE_GRAPH|CHART_DESTROY|CHART_LOAD|CHART_PRINT|EOF|OFFLINE|OK|PSL_PROF_LOG|R_CHECK_HORIZ|R_CHECK_VERT|R_CLICKER|R_COLUMN|R_FRAME|R_ICON|R_LABEL|R_LABEL_CENTER|R_LIST_MULTIPLE|R_LIST_MULTIPLE_ND|R_LIST_SINGLE|R_LIST_SINGLE_ND|R_MENU|R_POPUP|R_POPUP_SCROLLED|R_RADIO_HORIZ|R_RADIO_VERT|R_ROW|R_SCALE_HORIZ|R_SCALE_VERT|R_SEP_HORIZ|R_SEP_VERT|R_SPINNER|R_TEXT_FIELD|R_TEXT_FIELD_LABEL|R_TOGGLE|TRIM_LEADING|TRIM_LEADING_AND_TRAILING|TRIM_REDUNDANT|TRIM_TRAILING|VOID|WARN)\b/,boolean:/\b(?:FALSE|False|NO|No|TRUE|True|YES|Yes|false|no|true|yes)\b/,variable:/\b(?:PslDebug|errno|exit_status)\b/,builtin:{pattern:/\b(?:PslExecute|PslFunctionCall|PslFunctionExists|PslSetOptions|_snmp_debug|acos|add_diary|annotate|annotate_get|ascii_to_ebcdic|asctime|asin|atan|atexit|batch_set|blackout|cat|ceil|chan_exists|change_state|close|code_cvt|cond_signal|cond_wait|console_type|convert_base|convert_date|convert_locale_date|cos|cosh|create|date|dcget_text|destroy|destroy_lock|dget_text|difference|dump_hist|ebcdic_to_ascii|encrypt|event_archive|event_catalog_get|event_check|event_query|event_range_manage|event_range_query|event_report|event_schedule|event_trigger|event_trigger2|execute|exists|exp|fabs|file|floor|fmod|fopen|fseek|ftell|full_discovery|get|get_chan_info|get_ranges|get_text|get_vars|getenv|gethostinfo|getpid|getpname|grep|history|history_get_retention|in_transition|index|int|internal|intersection|is_var|isnumber|join|kill|length|lines|lock|lock_info|log|log10|loge|matchline|msg_check|msg_get_format|msg_get_severity|msg_printf|msg_sprintf|ntharg|nthargf|nthline|nthlinef|num_bytes|num_consoles|pconfig|popen|poplines|pow|print|printf|proc_exists|process|random|read|readln|refresh_parameters|remote_check|remote_close|remote_event_query|remote_event_trigger|remote_file_send|remote_open|remove|replace|rindex|sec_check_priv|sec_store_get|sec_store_set|set|set_alarm_ranges|set_locale|share|sin|sinh|sleep|snmp_agent_config|snmp_agent_start|snmp_agent_stop|snmp_close|snmp_config|snmp_get|snmp_get_next|snmp_h_get|snmp_h_get_next|snmp_h_set|snmp_open|snmp_set|snmp_trap_ignore|snmp_trap_listen|snmp_trap_raise_std_trap|snmp_trap_receive|snmp_trap_register_im|snmp_trap_send|snmp_walk|sopen|sort|splitline|sprintf|sqrt|srandom|str_repeat|strcasecmp|subset|substr|system|tail|tan|tanh|text_domain|time|tmpnam|tolower|toupper|trace_psl_process|trim|union|unique|unlock|unset|va_arg|va_start|write)\b/,alias:"builtin-function"},"foreach-variable":{pattern:/(\bforeach\s+(?:(?:\w+\b|"(?:\\.|[^\\"])*")\s+){0,2})[_a-zA-Z]\w*(?=\s*\()/,lookbehind:!0,greedy:!0},function:/\b[_a-z]\w*\b(?=\s*\()/i,number:/\b(?:0x[0-9a-f]+|\d+(?:\.\d+)?)\b/i,operator:/--|\+\+|&&=?|\|\|=?|<<=?|>>=?|[=!]~|[-+*/%&|^!=<>]=?|\.|[:?]/,punctuation:/[(){}\[\];,]/}}return ZA}var eO,C5;function tLe(){if(C5)return eO;C5=1,eO=e,e.displayName="pug",e.aliases=[];function e(t){(function(n){n.languages.pug={comment:{pattern:/(^([\t ]*))\/\/.*(?:(?:\r?\n|\r)\2[\t ].+)*/m,lookbehind:!0},"multiline-script":{pattern:/(^([\t ]*)script\b.*\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:n.languages.javascript},filter:{pattern:/(^([\t ]*)):.+(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:/\S[\s\S]*/}},"multiline-plain-text":{pattern:/(^([\t ]*)[\w\-#.]+\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0},markup:{pattern:/(^[\t ]*)<.+/m,lookbehind:!0,inside:n.languages.markup},doctype:{pattern:/((?:^|\n)[\t ]*)doctype(?: .+)?/,lookbehind:!0},"flow-control":{pattern:/(^[\t ]*)(?:case|default|each|else|if|unless|when|while)\b(?: .+)?/m,lookbehind:!0,inside:{each:{pattern:/^each .+? in\b/,inside:{keyword:/\b(?:each|in)\b/,punctuation:/,/}},branch:{pattern:/^(?:case|default|else|if|unless|when|while)\b/,alias:"keyword"},rest:n.languages.javascript}},keyword:{pattern:/(^[\t ]*)(?:append|block|extends|include|prepend)\b.+/m,lookbehind:!0},mixin:[{pattern:/(^[\t ]*)mixin .+/m,lookbehind:!0,inside:{keyword:/^mixin/,function:/\w+(?=\s*\(|\s*$)/,punctuation:/[(),.]/}},{pattern:/(^[\t ]*)\+.+/m,lookbehind:!0,inside:{name:{pattern:/^\+\w+/,alias:"function"},rest:n.languages.javascript}}],script:{pattern:/(^[\t ]*script(?:(?:&[^(]+)?\([^)]+\))*[\t ]).+/m,lookbehind:!0,inside:n.languages.javascript},"plain-text":{pattern:/(^[\t ]*(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?[\t ]).+/m,lookbehind:!0},tag:{pattern:/(^[\t ]*)(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?:?/m,lookbehind:!0,inside:{attributes:[{pattern:/&[^(]+\([^)]+\)/,inside:n.languages.javascript},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*(?!\s))(?:\{[^}]*\}|[^,)\r\n]+)/,lookbehind:!0,inside:n.languages.javascript},"attr-name":/[\w-]+(?=\s*!?=|\s*[,)])/,punctuation:/[!=(),]+/}}],punctuation:/:/,"attr-id":/#[\w\-]+/,"attr-class":/\.[\w\-]+/}},code:[{pattern:/(^[\t ]*(?:-|!?=)).+/m,lookbehind:!0,inside:n.languages.javascript}],punctuation:/[.\-!=|]+/};for(var r=/(^([\t ]*)):<filter_name>(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/.source,i=[{filter:"atpl",language:"twig"},{filter:"coffee",language:"coffeescript"},"ejs","handlebars","less","livescript","markdown",{filter:"sass",language:"scss"},"stylus"],d={},g=0,v=i.length;g<v;g++){var S=i[g];S=typeof S=="string"?{filter:S,language:S}:S,n.languages[S.language]&&(d["filter-"+S.filter]={pattern:RegExp(r.replace("<filter_name>",function(){return S.filter}),"m"),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:{pattern:/\S[\s\S]*/,alias:[S.language,"language-"+S.language],inside:n.languages[S.language]}}})}n.languages.insertBefore("pug","filter",d)})(t)}return eO}var tO,T5;function nLe(){if(T5)return tO;T5=1,tO=e,e.displayName="puppet",e.aliases=[];function e(t){(function(n){n.languages.puppet={heredoc:[{pattern:/(@\("([^"\r\n\/):]+)"(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/(@\(([^"\r\n\/):]+)(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,greedy:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/@\("?(?:[^"\r\n\/):]+)"?(?:\/[nrts$uL]*)?\)/,alias:"string",inside:{punctuation:{pattern:/(\().+?(?=\))/,lookbehind:!0}}}],"multiline-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,greedy:!0,alias:"comment"},regex:{pattern:/((?:\bnode\s+|[~=\(\[\{,]\s*|[=+]>\s*|^\s*))\/(?:[^\/\\]|\\[\s\S])+\/(?:[imx]+\b|\B)/,lookbehind:!0,greedy:!0,inside:{"extended-regex":{pattern:/^\/(?:[^\/\\]|\\[\s\S])+\/[im]*x[im]*$/,inside:{comment:/#.*/}}}},comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:\$\{(?:[^'"}]|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}|\$(?!\{)|(?!\1)[^\\$]|\\[\s\S])*\1/,greedy:!0,inside:{"double-quoted":{pattern:/^"[\s\S]*"$/,inside:{}}}},variable:{pattern:/\$(?:::)?\w+(?:::\w+)*/,inside:{punctuation:/::/}},"attr-name":/(?:\b\w+|\*)(?=\s*=>)/,function:[{pattern:/(\.)(?!\d)\w+/,lookbehind:!0},/\b(?:contain|debug|err|fail|include|info|notice|realize|require|tag|warning)\b|\b(?!\d)\w+(?=\()/],number:/\b(?:0x[a-f\d]+|\d+(?:\.\d+)?(?:e-?\d+)?)\b/i,boolean:/\b(?:false|true)\b/,keyword:/\b(?:application|attr|case|class|consumes|default|define|else|elsif|function|if|import|inherits|node|private|produces|type|undef|unless)\b/,datatype:{pattern:/\b(?:Any|Array|Boolean|Callable|Catalogentry|Class|Collection|Data|Default|Enum|Float|Hash|Integer|NotUndef|Numeric|Optional|Pattern|Regexp|Resource|Runtime|Scalar|String|Struct|Tuple|Type|Undef|Variant)\b/,alias:"symbol"},operator:/=[=~>]?|![=~]?|<(?:<\|?|[=~|-])?|>[>=]?|->?|~>|\|>?>?|[*\/%+?]|\b(?:and|in|or)\b/,punctuation:/[\[\]{}().,;]|:+/};var r=[{pattern:/(^|[^\\])\$\{(?:[^'"{}]|\{[^}]*\}|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}/,lookbehind:!0,inside:{"short-variable":{pattern:/(^\$\{)(?!\w+\()(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}},delimiter:{pattern:/^\$/,alias:"variable"},rest:n.languages.puppet}},{pattern:/(^|[^\\])\$(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}}];n.languages.puppet.heredoc[0].inside.interpolation=r,n.languages.puppet.string.inside["double-quoted"].inside.interpolation=r})(t)}return tO}var nO,M5;function rLe(){if(M5)return nO;M5=1,nO=e,e.displayName="pure",e.aliases=[];function e(t){(function(n){n.languages.pure={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0},/#!.+/],"inline-lang":{pattern:/%<[\s\S]+?%>/,greedy:!0,inside:{lang:{pattern:/(^%< *)-\*-.+?-\*-/,lookbehind:!0,alias:"comment"},delimiter:{pattern:/^%<.*|%>$/,alias:"punctuation"}}},string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},number:{pattern:/((?:\.\.)?)(?:\b(?:inf|nan)\b|\b0x[\da-f]+|(?:\b(?:0b)?\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?L?)/i,lookbehind:!0},keyword:/\b(?:NULL|ans|break|bt|case|catch|cd|clear|const|def|del|dump|else|end|exit|extern|false|force|help|if|infix[lr]?|interface|let|ls|mem|namespace|nonfix|of|otherwise|outfix|override|postfix|prefix|private|public|pwd|quit|run|save|show|stats|then|throw|trace|true|type|underride|using|when|with)\b/,function:/\b(?:abs|add_(?:addr|constdef|(?:fundef|interface|macdef|typedef)(?:_at)?|vardef)|all|any|applp?|arity|bigintp?|blob(?:_crc|_size|p)?|boolp?|byte_c?string(?:_pointer)?|byte_(?:matrix|pointer)|calloc|cat|catmap|ceil|char[ps]?|check_ptrtag|chr|clear_sentry|clearsym|closurep?|cmatrixp?|cols?|colcat(?:map)?|colmap|colrev|colvector(?:p|seq)?|complex(?:_float_(?:matrix|pointer)|_matrix(?:_view)?|_pointer|p)?|conj|cookedp?|cst|cstring(?:_(?:dup|list|vector))?|curry3?|cyclen?|del_(?:constdef|fundef|interface|macdef|typedef|vardef)|delete|diag(?:mat)?|dim|dmatrixp?|do|double(?:_matrix(?:_view)?|_pointer|p)?|dowith3?|drop|dropwhile|eval(?:cmd)?|exactp|filter|fix|fixity|flip|float(?:_matrix|_pointer)|floor|fold[lr]1?|frac|free|funp?|functionp?|gcd|get(?:_(?:byte|constdef|double|float|fundef|int(?:64)?|interface(?:_typedef)?|long|macdef|pointer|ptrtag|sentry|short|string|typedef|vardef))?|globsym|hash|head|id|im|imatrixp?|index|inexactp|infp|init|insert|int(?:_matrix(?:_view)?|_pointer|p)?|int64_(?:matrix|pointer)|integerp?|iteraten?|iterwhile|join|keys?|lambdap?|last(?:err(?:pos)?)?|lcd|list[2p]?|listmap|make_ptrtag|malloc|map|matcat|matrixp?|max|member|min|nanp|nargs|nmatrixp?|null|numberp?|ord|pack(?:ed)?|pointer(?:_cast|_tag|_type|p)?|pow|pred|ptrtag|put(?:_(?:byte|double|float|int(?:64)?|long|pointer|short|string))?|rationalp?|re|realp?|realloc|recordp?|redim|reduce(?:_with)?|refp?|repeatn?|reverse|rlistp?|round|rows?|rowcat(?:map)?|rowmap|rowrev|rowvector(?:p|seq)?|same|scan[lr]1?|sentry|sgn|short_(?:matrix|pointer)|slice|smatrixp?|sort|split|str|strcat|stream|stride|string(?:_(?:dup|list|vector)|p)?|subdiag(?:mat)?|submat|subseq2?|substr|succ|supdiag(?:mat)?|symbolp?|tail|take|takewhile|thunkp?|transpose|trunc|tuplep?|typep|ubyte|uint(?:64)?|ulong|uncurry3?|unref|unzip3?|update|ushort|vals?|varp?|vector(?:p|seq)?|void|zip3?|zipwith3?)\b/,special:{pattern:/\b__[a-z]+__\b/i,alias:"builtin"},operator:/(?:[!"#$%&'*+,\-.\/:<=>?@\\^`|~\u00a1-\u00bf\u00d7-\u00f7\u20d0-\u2bff]|\b_+\b)+|\b(?:and|div|mod|not|or)\b/,punctuation:/[(){}\[\];,|]/};var r=["c",{lang:"c++",alias:"cpp"},"fortran"],i=/%< *-\*- *<lang>\d* *-\*-[\s\S]+?%>/.source;r.forEach(function(d){var g=d;if(typeof d!="string"&&(g=d.alias,d=d.lang),n.languages[g]){var v={};v["inline-lang-"+g]={pattern:RegExp(i.replace("<lang>",d.replace(/([.+*?\/\\(){}\[\]])/g,"\\$1")),"i"),inside:n.util.clone(n.languages.pure["inline-lang"].inside)},v["inline-lang-"+g].inside.rest=n.util.clone(n.languages[g]),n.languages.insertBefore("pure","inline-lang",v)}}),n.languages.c&&(n.languages.pure["inline-lang"].inside.rest=n.util.clone(n.languages.c))})(t)}return nO}var rO,_5;function aLe(){if(_5)return rO;_5=1,rO=e,e.displayName="purebasic",e.aliases=[];function e(t){t.languages.purebasic=t.languages.extend("clike",{comment:/;.*/,keyword:/\b(?:align|and|as|break|calldebugger|case|compilercase|compilerdefault|compilerelse|compilerelseif|compilerendif|compilerendselect|compilererror|compilerif|compilerselect|continue|data|datasection|debug|debuglevel|declare|declarec|declarecdll|declaredll|declaremodule|default|define|dim|disableasm|disabledebugger|disableexplicit|else|elseif|enableasm|enabledebugger|enableexplicit|end|enddatasection|enddeclaremodule|endenumeration|endif|endimport|endinterface|endmacro|endmodule|endprocedure|endselect|endstructure|endstructureunion|endwith|enumeration|extends|fakereturn|for|foreach|forever|global|gosub|goto|if|import|importc|includebinary|includefile|includepath|interface|macro|module|newlist|newmap|next|not|or|procedure|procedurec|procedurecdll|proceduredll|procedurereturn|protected|prototype|prototypec|read|redim|repeat|restore|return|runtime|select|shared|static|step|structure|structureunion|swap|threaded|to|until|wend|while|with|xincludefile|xor)\b/i,function:/\b\w+(?:\.\w+)?\s*(?=\()/,number:/(?:\$[\da-f]+|\b-?(?:\d+(?:\.\d+)?|\.\d+)(?:e[+-]?\d+)?)\b/i,operator:/(?:@\*?|\?|\*)\w+|-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*/@]/}),t.languages.insertBefore("purebasic","keyword",{tag:/#\w+\$?/,asm:{pattern:/(^[\t ]*)!.*/m,lookbehind:!0,alias:"tag",inside:{comment:/;.*/,string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"label-reference-anonymous":{pattern:/(!\s*j[a-z]+\s+)@[fb]/i,lookbehind:!0,alias:"fasm-label"},"label-reference-addressed":{pattern:/(!\s*j[a-z]+\s+)[A-Z._?$@][\w.?$@~#]*/i,lookbehind:!0,alias:"fasm-label"},keyword:[/\b(?:extern|global)\b[^;\r\n]*/i,/\b(?:CPU|DEFAULT|FLOAT)\b.*/],function:{pattern:/^([\t ]*!\s*)[\da-z]+(?=\s|$)/im,lookbehind:!0},"function-inline":{pattern:/(:\s*)[\da-z]+(?=\s)/i,lookbehind:!0,alias:"function"},label:{pattern:/^([\t ]*!\s*)[A-Za-z._?$@][\w.?$@~#]*(?=:)/m,lookbehind:!0,alias:"fasm-label"},register:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s|mm\d+)\b/i,number:/(?:\b|-|(?=\$))(?:0[hx](?:[\da-f]*\.)?[\da-f]+(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-/%<>=&|$!,.:]/}}}),delete t.languages.purebasic["class-name"],delete t.languages.purebasic.boolean,t.languages.pbfasm=t.languages.purebasic}return rO}var aO,x5;function iLe(){if(x5)return aO;x5=1;var e=Lj();aO=t,t.displayName="purescript",t.aliases=["purs"];function t(n){n.register(e),n.languages.purescript=n.languages.extend("haskell",{keyword:/\b(?:ado|case|class|data|derive|do|else|forall|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b|∀/,"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*(?:\s+as\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import)\b/,punctuation:/\./}},builtin:/\b(?:absurd|add|ap|append|apply|between|bind|bottom|clamp|compare|comparing|compose|conj|const|degree|discard|disj|div|eq|flap|flip|gcd|identity|ifM|join|lcm|liftA1|liftM1|map|max|mempty|min|mod|mul|negate|not|notEq|one|otherwise|recip|show|sub|top|unit|unless|unlessM|void|when|whenM|zero)\b/,operator:[n.languages.haskell.operator[0],n.languages.haskell.operator[2],/[\xa2-\xa6\xa8\xa9\xac\xae-\xb1\xb4\xb8\xd7\xf7\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384\u0385\u03f6\u0482\u058d-\u058f\u0606-\u0608\u060b\u060e\u060f\u06de\u06e9\u06fd\u06fe\u07f6\u07fe\u07ff\u09f2\u09f3\u09fa\u09fb\u0af1\u0b70\u0bf3-\u0bfa\u0c7f\u0d4f\u0d79\u0e3f\u0f01-\u0f03\u0f13\u0f15-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce\u0fcf\u0fd5-\u0fd8\u109e\u109f\u1390-\u1399\u166d\u17db\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u2044\u2052\u207a-\u207c\u208a-\u208c\u20a0-\u20bf\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211e-\u2123\u2125\u2127\u2129\u212e\u213a\u213b\u2140-\u2144\u214a-\u214d\u214f\u218a\u218b\u2190-\u2307\u230c-\u2328\u232b-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u2767\u2794-\u27c4\u27c7-\u27e5\u27f0-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2b73\u2b76-\u2b95\u2b97-\u2bff\u2ce5-\u2cea\u2e50\u2e51\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u309b\u309c\u3190\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3247\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua700-\ua716\ua720\ua721\ua789\ua78a\ua828-\ua82b\ua836-\ua839\uaa77-\uaa79\uab5b\uab6a\uab6b\ufb29\ufbb2-\ufbc1\ufdfc\ufdfd\ufe62\ufe64-\ufe66\ufe69\uff04\uff0b\uff1c-\uff1e\uff3e\uff40\uff5c\uff5e\uffe0-\uffe6\uffe8-\uffee\ufffc\ufffd]/]}),n.languages.purs=n.languages.purescript}return aO}var iO,w5;function oLe(){if(w5)return iO;w5=1,iO=e,e.displayName="python",e.aliases=["py"];function e(t){t.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},t.languages.python["string-interpolation"].inside.interpolation.inside.rest=t.languages.python,t.languages.py=t.languages.python}return iO}var oO,N5;function sLe(){if(N5)return oO;N5=1,oO=e,e.displayName="q",e.aliases=[];function e(t){t.languages.q={string:/"(?:\\.|[^"\\\r\n])*"/,comment:[{pattern:/([\t )\]}])\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|\r?\n|\r)\/[\t ]*(?:(?:\r?\n|\r)(?:.*(?:\r?\n|\r(?!\n)))*?(?:\\(?=[\t ]*(?:\r?\n|\r))|$)|\S.*)/,lookbehind:!0,greedy:!0},{pattern:/^\\[\t ]*(?:\r?\n|\r)[\s\S]+/m,greedy:!0},{pattern:/^#!.+/m,greedy:!0}],symbol:/`(?::\S+|[\w.]*)/,datetime:{pattern:/0N[mdzuvt]|0W[dtz]|\d{4}\.\d\d(?:m|\.\d\d(?:T(?:\d\d(?::\d\d(?::\d\d(?:[.:]\d\d\d)?)?)?)?)?[dz]?)|\d\d:\d\d(?::\d\d(?:[.:]\d\d\d)?)?[uvt]?/,alias:"number"},number:/\b(?![01]:)(?:0N[hje]?|0W[hj]?|0[wn]|0x[\da-fA-F]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?[hjfeb]?)/,keyword:/\\\w+\b|\b(?:abs|acos|aj0?|all|and|any|asc|asin|asof|atan|attr|avgs?|binr?|by|ceiling|cols|cor|cos|count|cov|cross|csv|cut|delete|deltas|desc|dev|differ|distinct|div|do|dsave|ej|enlist|eval|except|exec|exit|exp|fby|fills|first|fkeys|flip|floor|from|get|getenv|group|gtime|hclose|hcount|hdel|hopen|hsym|iasc|identity|idesc|if|ij|in|insert|inter|inv|keys?|last|like|list|ljf?|load|log|lower|lsq|ltime|ltrim|mavg|maxs?|mcount|md5|mdev|med|meta|mins?|mmax|mmin|mmu|mod|msum|neg|next|not|null|or|over|parse|peach|pj|plist|prds?|prev|prior|rand|rank|ratios|raze|read0|read1|reciprocal|reval|reverse|rload|rotate|rsave|rtrim|save|scan|scov|sdev|select|set|setenv|show|signum|sin|sqrt|ssr?|string|sublist|sums?|sv|svar|system|tables|tan|til|trim|txf|type|uj|ungroup|union|update|upper|upsert|value|var|views?|vs|wavg|where|while|within|wj1?|wsum|ww|xasc|xbar|xcols?|xdesc|xexp|xgroup|xkey|xlog|xprev|xrank)\b/,adverb:{pattern:/['\/\\]:?|\beach\b/,alias:"function"},verb:{pattern:/(?:\B\.\B|\b[01]:|<[=>]?|>=?|[:+\-*%,!?~=|$&#@^]):?|\b_\b:?/,alias:"operator"},punctuation:/[(){}\[\];.]/}}return oO}var sO,R5;function lLe(){if(R5)return sO;R5=1,sO=e,e.displayName="qml",e.aliases=[];function e(t){(function(n){for(var r=/"(?:\\.|[^\\"\r\n])*"|'(?:\\.|[^\\'\r\n])*'/.source,i=/\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))*\*\//.source,d=/(?:[^\\()[\]{}"'/]|<string>|\/(?![*/])|<comment>|\(<expr>*\)|\[<expr>*\]|\{<expr>*\}|\\[\s\S])/.source.replace(/<string>/g,function(){return r}).replace(/<comment>/g,function(){return i}),g=0;g<2;g++)d=d.replace(/<expr>/g,function(){return d});d=d.replace(/<expr>/g,"[^\\s\\S]"),n.languages.qml={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},"javascript-function":{pattern:RegExp(/((?:^|;)[ \t]*)function\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*\(<js>*\)\s*\{<js>*\}/.source.replace(/<js>/g,function(){return d}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:n.languages.javascript},"class-name":{pattern:/((?:^|[:;])[ \t]*)(?!\d)\w+(?=[ \t]*\{|[ \t]+on\b)/m,lookbehind:!0},property:[{pattern:/((?:^|[;{])[ \t]*)(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0},{pattern:/((?:^|[;{])[ \t]*)property[ \t]+(?!\d)\w+(?:\.\w+)*[ \t]+(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0,inside:{keyword:/^property/,property:/\w+(?:\.\w+)*/}}],"javascript-expression":{pattern:RegExp(/(:[ \t]*)(?![\s;}[])(?:(?!$|[;}])<js>)+/.source.replace(/<js>/g,function(){return d}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:n.languages.javascript},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},keyword:/\b(?:as|import|on)\b/,punctuation:/[{}[\]:;,]/}})(t)}return sO}var lO,A5;function cLe(){if(A5)return lO;A5=1,lO=e,e.displayName="qore",e.aliases=[];function e(t){t.languages.qore=t.languages.extend("clike",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:\/\/|#).*)/,lookbehind:!0},string:{pattern:/("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:abstract|any|assert|binary|bool|boolean|break|byte|case|catch|char|class|code|const|continue|data|default|do|double|else|enum|extends|final|finally|float|for|goto|hash|if|implements|import|inherits|instanceof|int|interface|long|my|native|new|nothing|null|object|our|own|private|reference|rethrow|return|short|soft(?:bool|date|float|int|list|number|string)|static|strictfp|string|sub|super|switch|synchronized|this|throw|throws|transient|try|void|volatile|while)\b/,boolean:/\b(?:false|true)\b/i,function:/\$?\b(?!\d)\w+(?=\()/,number:/\b(?:0b[01]+|0x(?:[\da-f]*\.)?[\da-fp\-]+|(?:\d+(?:\.\d+)?|\.\d+)(?:e\d+)?[df]|(?:\d+(?:\.\d+)?|\.\d+))\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|[!=](?:==?|~)?|>>?=?|<(?:=>?|<=?)?|&[&=]?|\|[|=]?|[*\/%^]=?|[~?])/,lookbehind:!0},variable:/\$(?!\d)\w+\b/})}return lO}var cO,O5;function uLe(){if(O5)return cO;O5=1,cO=e,e.displayName="qsharp",e.aliases=["qs"];function e(t){(function(n){function r(w,O){return w.replace(/<<(\d+)>>/g,function(R,D){return"(?:"+O[+D]+")"})}function i(w,O,R){return RegExp(r(w,O),"")}function d(w,O){for(var R=0;R<O;R++)w=w.replace(/<<self>>/g,function(){return"(?:"+w+")"});return w.replace(/<<self>>/g,"[^\\s\\S]")}var g={type:"Adj BigInt Bool Ctl Double false Int One Pauli PauliI PauliX PauliY PauliZ Qubit Range Result String true Unit Zero",other:"Adjoint adjoint apply as auto body borrow borrowing Controlled controlled distribute elif else fail fixup for function if in internal intrinsic invert is let mutable namespace new newtype open operation repeat return self set until use using while within"};function v(w){return"\\b(?:"+w.trim().replace(/ /g,"|")+")\\b"}var S=RegExp(v(g.type+" "+g.other)),I=/\b[A-Za-z_]\w*\b/.source,T=r(/<<0>>(?:\s*\.\s*<<0>>)*/.source,[I]),_={keyword:S,punctuation:/[<>()?,.:[\]]/},N=/"(?:\\.|[^\\"])*"/.source;n.languages.qsharp=n.languages.extend("clike",{comment:/\/\/.*/,string:[{pattern:i(/(^|[^$\\])<<0>>/.source,[N]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:i(/(\b(?:as|open)\s+)<<0>>(?=\s*(?:;|as\b))/.source,[T]),lookbehind:!0,inside:_},{pattern:i(/(\bnamespace\s+)<<0>>(?=\s*\{)/.source,[T]),lookbehind:!0,inside:_}],keyword:S,number:/(?:\b0(?:x[\da-f]+|b[01]+|o[0-7]+)|(?:\B\.\d+|\b\d+(?:\.\d*)?)(?:e[-+]?\d+)?)l?\b/i,operator:/\band=|\bor=|\band\b|\bnot\b|\bor\b|<[-=]|[-=]>|>>>=?|<<<=?|\^\^\^=?|\|\|\|=?|&&&=?|w\/=?|~~~|[*\/+\-^=!%]=?/,punctuation:/::|[{}[\];(),.:]/}),n.languages.insertBefore("qsharp","number",{range:{pattern:/\.\./,alias:"operator"}});var A=d(r(/\{(?:[^"{}]|<<0>>|<<self>>)*\}/.source,[N]),2);n.languages.insertBefore("qsharp","string",{"interpolation-string":{pattern:i(/\$"(?:\\.|<<0>>|[^\\"{])*"/.source,[A]),greedy:!0,inside:{interpolation:{pattern:i(/((?:^|[^\\])(?:\\\\)*)<<0>>/.source,[A]),lookbehind:!0,inside:{punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-qsharp",inside:n.languages.qsharp}}},string:/[\s\S]+/}}})})(t),t.languages.qs=t.languages.qsharp}return cO}var uO,k5;function dLe(){if(k5)return uO;k5=1,uO=e,e.displayName="r",e.aliases=[];function e(t){t.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/}}return uO}var dO,L5;function pLe(){if(L5)return dO;L5=1;var e=Vj();dO=t,t.displayName="racket",t.aliases=["rkt"];function t(n){n.register(e),n.languages.racket=n.languages.extend("scheme",{"lambda-parameter":{pattern:/([(\[]lambda\s+[(\[])[^()\[\]'\s]+/,lookbehind:!0}}),n.languages.insertBefore("racket","string",{lang:{pattern:/^#lang.+/m,greedy:!0,alias:"keyword"}}),n.languages.rkt=n.languages.racket}return dO}var pO,P5;function mLe(){if(P5)return pO;P5=1,pO=e,e.displayName="reason",e.aliases=[];function e(t){t.languages.reason=t.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),t.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete t.languages.reason.function}return pO}var mO,D5;function fLe(){if(D5)return mO;D5=1,mO=e,e.displayName="regex",e.aliases=[];function e(t){(function(n){var r={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},i=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,d={pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},g={pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},v="(?:[^\\\\-]|"+i.source+")",S=RegExp(v+"-"+v),I={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};n.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:S,inside:{escape:i,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":r,"char-set":g,escape:i}},"special-escape":r,"char-set":d,backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":I}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:i,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":I}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}})(t)}return mO}var fO,j5;function gLe(){if(j5)return fO;j5=1,fO=e,e.displayName="rego",e.aliases=[];function e(t){t.languages.rego={comment:/#.*/,property:{pattern:/(^|[^\\.])(?:"(?:\\.|[^\\"\r\n])*"|`[^`]*`|\b[a-z_]\w*\b)(?=\s*:(?!=))/i,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:as|default|else|import|not|null|package|set(?=\s*\()|some|with)\b/,boolean:/\b(?:false|true)\b/,function:{pattern:/\b[a-z_]\w*\b(?:\s*\.\s*\b[a-z_]\w*\b)*(?=\s*\()/i,inside:{namespace:/\b\w+\b(?=\s*\.)/,punctuation:/\./}},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,operator:/[-+*/%|&]|[<>:=]=?|!=|\b_\b/,punctuation:/[,;.\[\]{}()]/}}return fO}var gO,V5;function hLe(){if(V5)return gO;V5=1,gO=e,e.displayName="renpy",e.aliases=["rpy"];function e(t){t.languages.renpy={comment:{pattern:/(^|[^\\])#.+/,lookbehind:!0},string:{pattern:/("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\])*\2|(?:^#?(?:(?:[0-9a-fA-F]){3}|[0-9a-fA-F]{6})$)/m,greedy:!0},function:/\b[a-z_]\w*(?=\()/i,property:/\b(?:Update|UpdateVersion|action|activate_sound|adv_nvl_transition|after_load_transition|align|alpha|alt|anchor|antialias|area|auto|background|bar_invert|bar_resizing|bar_vertical|black_color|bold|bottom_bar|bottom_gutter|bottom_margin|bottom_padding|box_reverse|box_wrap|can_update|caret|child|color|crop|default_afm_enable|default_afm_time|default_fullscreen|default_text_cps|developer|directory_name|drag_handle|drag_joined|drag_name|drag_raise|draggable|dragged|drop_shadow|drop_shadow_color|droppable|dropped|easein|easeout|edgescroll|end_game_transition|end_splash_transition|enter_replay_transition|enter_sound|enter_transition|enter_yesno_transition|executable_name|exit_replay_transition|exit_sound|exit_transition|exit_yesno_transition|fadein|fadeout|first_indent|first_spacing|fit_first|focus|focus_mask|font|foreground|game_main_transition|get_installed_packages|google_play_key|google_play_salt|ground|has_music|has_sound|has_voice|height|help|hinting|hover|hover_background|hover_color|hover_sound|hovered|hyperlink_functions|idle|idle_color|image_style|include_update|insensitive|insensitive_background|insensitive_color|inside|intra_transition|italic|justify|kerning|keyboard_focus|language|layer_clipping|layers|layout|left_bar|left_gutter|left_margin|left_padding|length|line_leading|line_overlap_split|line_spacing|linear|main_game_transition|main_menu_music|maximum|min_width|minimum|minwidth|modal|mouse|mousewheel|name|narrator_menu|newline_indent|nvl_adv_transition|offset|order_reverse|outlines|overlay_functions|pos|position|prefix|radius|range|rest_indent|right_bar|right_gutter|right_margin|right_padding|rotate|rotate_pad|ruby_style|sample_sound|save_directory|say_attribute_transition|screen_height|screen_width|scrollbars|selected_hover|selected_hover_color|selected_idle|selected_idle_color|selected_insensitive|show_side_image|show_two_window|side_spacing|side_xpos|side_ypos|size|size_group|slow_cps|slow_cps_multiplier|spacing|strikethrough|subpixel|text_align|text_style|text_xpos|text_y_fudge|text_ypos|thumb|thumb_offset|thumb_shadow|thumbnail_height|thumbnail_width|time|top_bar|top_gutter|top_margin|top_padding|translations|underline|unscrollable|update|value|version|version_name|version_tuple|vertical|width|window_hide_transition|window_icon|window_left_padding|window_show_transition|window_title|windows_icon|xadjustment|xalign|xanchor|xanchoraround|xaround|xcenter|xfill|xinitial|xmargin|xmaximum|xminimum|xoffset|xofsset|xpadding|xpos|xsize|xzoom|yadjustment|yalign|yanchor|yanchoraround|yaround|ycenter|yfill|yinitial|ymargin|ymaximum|yminimum|yoffset|ypadding|ypos|ysize|ysizexysize|yzoom|zoom|zorder)\b/,tag:/\b(?:bar|block|button|buttoscreenn|drag|draggroup|fixed|frame|grid|[hv]box|hotbar|hotspot|image|imagebutton|imagemap|input|key|label|menu|mm_menu_frame|mousearea|nvl|parallel|screen|self|side|tag|text|textbutton|timer|vbar|viewport|window)\b|\$/,keyword:/\b(?:None|add|adjustment|alignaround|allow|angle|animation|around|as|assert|behind|box_layout|break|build|cache|call|center|changed|child_size|choice|circles|class|clear|clicked|clipping|clockwise|config|contains|continue|corner1|corner2|counterclockwise|def|default|define|del|delay|disabled|disabled_text|dissolve|elif|else|event|except|exclude|exec|expression|fade|finally|for|from|function|global|gm_root|has|hide|id|if|import|in|init|is|jump|knot|lambda|left|less_rounded|mm_root|movie|music|null|on|onlayer|pass|pause|persistent|play|print|python|queue|raise|random|renpy|repeat|return|right|rounded_window|scene|scope|set|show|slow|slow_abortable|slow_done|sound|stop|store|style|style_group|substitute|suffix|theme|transform|transform_anchor|transpose|try|ui|unhovered|updater|use|voice|while|widget|widget_hover|widget_selected|widget_text|yield)\b/,boolean:/\b(?:[Ff]alse|[Tt]rue)\b/,number:/(?:\b(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?)|\B\.\d+)(?:e[+-]?\d+)?j?/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:and|at|not|or|with)\b/,punctuation:/[{}[\];(),.:]/},t.languages.rpy=t.languages.renpy}return gO}var hO,$5;function vLe(){if($5)return hO;$5=1,hO=e,e.displayName="rest",e.aliases=[];function e(t){t.languages.rest={table:[{pattern:/(^[\t ]*)(?:\+[=-]+)+\+(?:\r?\n|\r)(?:\1[+|].+[+|](?:\r?\n|\r))+\1(?:\+[=-]+)+\+/m,lookbehind:!0,inside:{punctuation:/\||(?:\+[=-]+)+\+/}},{pattern:/(^[\t ]*)=+ [ =]*=(?:(?:\r?\n|\r)\1.+)+(?:\r?\n|\r)\1=+ [ =]*=(?=(?:\r?\n|\r){2}|\s*$)/m,lookbehind:!0,inside:{punctuation:/[=-]+/}}],"substitution-def":{pattern:/(^[\t ]*\.\. )\|(?:[^|\s](?:[^|]*[^|\s])?)\| [^:]+::/m,lookbehind:!0,inside:{substitution:{pattern:/^\|(?:[^|\s]|[^|\s][^|]*[^|\s])\|/,alias:"attr-value",inside:{punctuation:/^\||\|$/}},directive:{pattern:/( )(?! )[^:]+::/,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}}}},"link-target":[{pattern:/(^[\t ]*\.\. )\[[^\]]+\]/m,lookbehind:!0,alias:"string",inside:{punctuation:/^\[|\]$/}},{pattern:/(^[\t ]*\.\. )_(?:`[^`]+`|(?:[^:\\]|\\.)+):/m,lookbehind:!0,alias:"string",inside:{punctuation:/^_|:$/}}],directive:{pattern:/(^[\t ]*\.\. )[^:]+::/m,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}},comment:{pattern:/(^[\t ]*\.\.)(?:(?: .+)?(?:(?:\r?\n|\r).+)+| .+)(?=(?:\r?\n|\r){2}|$)/m,lookbehind:!0},title:[{pattern:/^(([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+)(?:\r?\n|\r).+(?:\r?\n|\r)\1$/m,inside:{punctuation:/^[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+|[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}},{pattern:/(^|(?:\r?\n|\r){2}).+(?:\r?\n|\r)([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+(?=\r?\n|\r|$)/,lookbehind:!0,inside:{punctuation:/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}}],hr:{pattern:/((?:\r?\n|\r){2})([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2{3,}(?=(?:\r?\n|\r){2})/,lookbehind:!0,alias:"punctuation"},field:{pattern:/(^[\t ]*):[^:\r\n]+:(?= )/m,lookbehind:!0,alias:"attr-name"},"command-line-option":{pattern:/(^[\t ]*)(?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?(?:, (?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?)*(?=(?:\r?\n|\r)? {2,}\S)/im,lookbehind:!0,alias:"symbol"},"literal-block":{pattern:/::(?:\r?\n|\r){2}([ \t]+)(?![ \t]).+(?:(?:\r?\n|\r)\1.+)*/,inside:{"literal-block-punctuation":{pattern:/^::/,alias:"punctuation"}}},"quoted-literal-block":{pattern:/::(?:\r?\n|\r){2}([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]).*(?:(?:\r?\n|\r)\1.*)*/,inside:{"literal-block-punctuation":{pattern:/^(?:::|([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\1*)/m,alias:"punctuation"}}},"list-bullet":{pattern:/(^[\t ]*)(?:[*+\-•‣⁃]|\(?(?:\d+|[a-z]|[ivxdclm]+)\)|(?:\d+|[a-z]|[ivxdclm]+)\.)(?= )/im,lookbehind:!0,alias:"punctuation"},"doctest-block":{pattern:/(^[\t ]*)>>> .+(?:(?:\r?\n|\r).+)*/m,lookbehind:!0,inside:{punctuation:/^>>>/}},inline:[{pattern:/(^|[\s\-:\/'"<(\[{])(?::[^:]+:`.*?`|`.*?`:[^:]+:|(\*\*?|``?|\|)(?!\s)(?:(?!\2).)*\S\2(?=[\s\-.,:;!?\\\/'")\]}]|$))/m,lookbehind:!0,inside:{bold:{pattern:/(^\*\*).+(?=\*\*$)/,lookbehind:!0},italic:{pattern:/(^\*).+(?=\*$)/,lookbehind:!0},"inline-literal":{pattern:/(^``).+(?=``$)/,lookbehind:!0,alias:"symbol"},role:{pattern:/^:[^:]+:|:[^:]+:$/,alias:"function",inside:{punctuation:/^:|:$/}},"interpreted-text":{pattern:/(^`).+(?=`$)/,lookbehind:!0,alias:"attr-value"},substitution:{pattern:/(^\|).+(?=\|$)/,lookbehind:!0,alias:"attr-value"},punctuation:/\*\*?|``?|\|/}}],link:[{pattern:/\[[^\[\]]+\]_(?=[\s\-.,:;!?\\\/'")\]}]|$)/,alias:"string",inside:{punctuation:/^\[|\]_$/}},{pattern:/(?:\b[a-z\d]+(?:[_.:+][a-z\d]+)*_?_|`[^`]+`_?_|_`[^`]+`)(?=[\s\-.,:;!?\\\/'")\]}]|$)/i,alias:"string",inside:{punctuation:/^_?`|`$|`?_?_$/}}],punctuation:{pattern:/(^[\t ]*)(?:\|(?= |$)|(?:---?|—|\.\.|__)(?= )|\.\.$)/m,lookbehind:!0}}}return hO}var vO,U5;function yLe(){if(U5)return vO;U5=1,vO=e,e.displayName="rip",e.aliases=[];function e(t){t.languages.rip={comment:{pattern:/#.*/,greedy:!0},char:{pattern:/\B`[^\s`'",.:;#\/\\()<>\[\]{}]\b/,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},regex:{pattern:/(^|[^/])\/(?!\/)(?:\[[^\n\r\]]*\]|\\.|[^/\\\r\n\[])+\/(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0},keyword:/(?:=>|->)|\b(?:case|catch|class|else|exit|finally|if|raise|return|switch|try)\b/,builtin:/@|\bSystem\b/,boolean:/\b(?:false|true)\b/,date:/\b\d{4}-\d{2}-\d{2}\b/,time:/\b\d{2}:\d{2}:\d{2}\b/,datetime:/\b\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\b/,symbol:/:[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/,number:/[+-]?\b(?:\d+\.\d+|\d+)\b/,punctuation:/(?:\.{2,3})|[`,.:;=\/\\()<>\[\]{}]/,reference:/[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/}}return vO}var yO,B5;function bLe(){if(B5)return yO;B5=1,yO=e,e.displayName="roboconf",e.aliases=[];function e(t){t.languages.roboconf={comment:/#.*/,keyword:{pattern:/(^|\s)(?:(?:external|import)\b|(?:facet|instance of)(?=[ \t]+[\w-]+[ \t]*\{))/,lookbehind:!0},component:{pattern:/[\w-]+(?=[ \t]*\{)/,alias:"variable"},property:/[\w.-]+(?=[ \t]*:)/,value:{pattern:/(=[ \t]*(?![ \t]))[^,;]+/,lookbehind:!0,alias:"attr-value"},optional:{pattern:/\(optional\)/,alias:"builtin"},wildcard:{pattern:/(\.)\*/,lookbehind:!0,alias:"operator"},punctuation:/[{},.;:=]/}}return yO}var bO,F5;function SLe(){if(F5)return bO;F5=1,bO=e,e.displayName="robotframework",e.aliases=[];function e(t){(function(n){var r={pattern:/(^[ \t]*| {2}|\t)#.*/m,lookbehind:!0,greedy:!0},i={pattern:/((?:^|[^\\])(?:\\{2})*)[$@&%]\{(?:[^{}\r\n]|\{[^{}\r\n]*\})*\}/,lookbehind:!0,inside:{punctuation:/^[$@&%]\{|\}$/}};function d(I,T){var _={};_["section-header"]={pattern:/^ ?\*{3}.+?\*{3}/,alias:"keyword"};for(var N in T)_[N]=T[N];return _.tag={pattern:/([\r\n](?: {2}|\t)[ \t]*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/\[|\]/}},_.variable=i,_.comment=r,{pattern:RegExp(/^ ?\*{3}[ \t]*<name>[ \t]*\*{3}(?:.|[\r\n](?!\*{3}))*/.source.replace(/<name>/g,function(){return I}),"im"),alias:"section",inside:_}}var g={pattern:/(\[Documentation\](?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},v={pattern:/([\r\n] ?)(?!#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,alias:"function",inside:{variable:i}},S={pattern:/([\r\n](?: {2}|\t)[ \t]*)(?!\[|\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,inside:{variable:i}};n.languages.robotframework={settings:d("Settings",{documentation:{pattern:/([\r\n] ?Documentation(?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},property:{pattern:/([\r\n] ?)(?!\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0}}),variables:d("Variables"),"test-cases":d("Test Cases",{"test-name":v,documentation:g,property:S}),keywords:d("Keywords",{"keyword-name":v,documentation:g,property:S}),tasks:d("Tasks",{"task-name":v,documentation:g,property:S}),comment:r},n.languages.robot=n.languages.robotframework})(t)}return bO}var SO,q5;function ILe(){if(q5)return SO;q5=1,SO=e,e.displayName="rust",e.aliases=[];function e(t){(function(n){for(var r=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,i=0;i<2;i++)r=r.replace(/<self>/g,function(){return r});r=r.replace(/<self>/g,function(){return/[^\s\S]/.source}),n.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+r),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},n.languages.rust["closure-params"].inside.rest=n.languages.rust,n.languages.rust.attribute.inside.string=n.languages.rust.string})(t)}return SO}var IO,z5;function ELe(){if(z5)return IO;z5=1,IO=e,e.displayName="sas",e.aliases=[];function e(t){(function(n){var r=/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))/.source,i=/\b(?:\d[\da-f]*x|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,d={pattern:RegExp(r+"[bx]"),alias:"number"},g={pattern:/&[a-z_]\w*/i},v={pattern:/((?:^|\s|=|\())%(?:ABORT|BY|CMS|COPY|DISPLAY|DO|ELSE|END|EVAL|GLOBAL|GO|GOTO|IF|INC|INCLUDE|INDEX|INPUT|KTRIM|LENGTH|LET|LIST|LOCAL|PUT|QKTRIM|QSCAN|QSUBSTR|QSYSFUNC|QUPCASE|RETURN|RUN|SCAN|SUBSTR|SUPERQ|SYMDEL|SYMEXIST|SYMGLOBL|SYMLOCAL|SYSCALL|SYSEVALF|SYSEXEC|SYSFUNC|SYSGET|SYSRPUT|THEN|TO|TSO|UNQUOTE|UNTIL|UPCASE|WHILE|WINDOW)\b/i,lookbehind:!0,alias:"keyword"},S={pattern:/(^|\s)(?:proc\s+\w+|data(?!=)|quit|run)\b/i,alias:"keyword",lookbehind:!0},I=[/\/\*[\s\S]*?\*\//,{pattern:/(^[ \t]*|;\s*)\*[^;]*;/m,lookbehind:!0}],T={pattern:RegExp(r),greedy:!0},_=/[$%@.(){}\[\];,\\]/,N={pattern:/%?\b\w+(?=\()/,alias:"keyword"},A={function:N,"arg-value":{pattern:/(=\s*)[A-Z\.]+/i,lookbehind:!0},operator:/=/,"macro-variable":g,arg:{pattern:/[A-Z]+/i,alias:"keyword"},number:i,"numeric-constant":d,punctuation:_,string:T},w={pattern:/\b(?:format|put)\b=?[\w'$.]+/i,inside:{keyword:/^(?:format|put)(?==)/i,equals:/=/,format:{pattern:/(?:\w|\$\d)+\.\d?/,alias:"number"}}},O={pattern:/\b(?:format|put)\s+[\w']+(?:\s+[$.\w]+)+(?=;)/i,inside:{keyword:/^(?:format|put)/i,format:{pattern:/[\w$]+\.\d?/,alias:"number"}}},R={pattern:/((?:^|\s)=?)(?:catname|checkpoint execute_always|dm|endsas|filename|footnote|%include|libname|%list|lock|missing|options|page|resetline|%run|sasfile|skip|sysecho|title\d?)\b/i,lookbehind:!0,alias:"keyword"},D={pattern:/(^|\s)(?:submit(?:\s+(?:load|norun|parseonly))?|endsubmit)\b/i,lookbehind:!0,alias:"keyword"},j=/aStore|accessControl|aggregation|audio|autotune|bayesianNetClassifier|bioMedImage|boolRule|builtins|cardinality|cdm|clustering|conditionalRandomFields|configuration|copula|countreg|dataDiscovery|dataPreprocess|dataSciencePilot|dataStep|decisionTree|deduplication|deepLearn|deepNeural|deepRnn|ds2|ecm|entityRes|espCluster|explainModel|factmac|fastKnn|fcmpact|fedSql|freqTab|gVarCluster|gam|gleam|graphSemiSupLearn|hiddenMarkovModel|hyperGroup|ica|image|iml|kernalPca|langModel|ldaTopic|loadStreams|mbc|mixed|mlTools|modelPublishing|network|neuralNet|nmf|nonParametricBayes|nonlinear|optNetwork|optimization|panel|pca|percentile|phreg|pls|qkb|qlim|quantreg|recommend|regression|reinforcementLearn|robustPca|ruleMining|sampling|sandwich|sccasl|search(?:Analytics)?|sentimentAnalysis|sequence|session(?:Prop)?|severity|simSystem|simple|smartData|sparkEmbeddedProcess|sparseML|spatialreg|spc|stabilityMonitoring|svDataDescription|svm|table|text(?:Filters|Frequency|Mining|Parse|Rule(?:Develop|Score)|Topic|Util)|timeData|transpose|tsInfo|tsReconcile|uniTimeSeries|varReduce/.source,L={pattern:RegExp(/(^|\s)(?:action\s+)?(?:<act>)\.[a-z]+\b[^;]+/.source.replace(/<act>/g,function(){return j}),"i"),lookbehind:!0,inside:{keyword:RegExp(/(?:<act>)\.[a-z]+\b/.source.replace(/<act>/g,function(){return j}),"i"),action:{pattern:/(?:action)/i,alias:"keyword"},comment:I,function:N,"arg-value":A["arg-value"],operator:A.operator,argument:A.arg,number:i,"numeric-constant":d,punctuation:_,string:T}},U={pattern:/((?:^|\s)=?)(?:after|analysis|and|array|barchart|barwidth|begingraph|by|call|cas|cbarline|cfill|class(?:lev)?|close|column|computed?|contains|continue|data(?==)|define|delete|describe|document|do\s+over|do|dol|drop|dul|else|end(?:comp|source)?|entryTitle|eval(?:uate)?|exec(?:ute)?|exit|file(?:name)?|fill(?:attrs)?|flist|fnc|function(?:list)?|global|goto|group(?:by)?|headline|headskip|histogram|if|infile|keep|keylabel|keyword|label|layout|leave|legendlabel|length|libname|loadactionset|merge|midpoints|_?null_|name|noobs|nowd|ods|options|or|otherwise|out(?:put)?|over(?:lay)?|plot|print|put|raise|ranexp|rannor|rbreak|retain|return|select|session|sessref|set|source|statgraph|sum|summarize|table|temp|terminate|then\s+do|then|title\d?|to|var|when|where|xaxisopts|y2axisopts|yaxisopts)\b/i,lookbehind:!0};n.languages.sas={datalines:{pattern:/^([ \t]*)(?:cards|(?:data)?lines);[\s\S]+?^[ \t]*;/im,lookbehind:!0,alias:"string",inside:{keyword:{pattern:/^(?:cards|(?:data)?lines)/i},punctuation:/;/}},"proc-sql":{pattern:/(^proc\s+(?:fed)?sql(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{sql:{pattern:RegExp(/^[ \t]*(?:select|alter\s+table|(?:create|describe|drop)\s+(?:index|table(?:\s+constraints)?|view)|create\s+unique\s+index|insert\s+into|update)(?:<str>|[^;"'])+;/.source.replace(/<str>/g,function(){return r}),"im"),alias:"language-sql",inside:n.languages.sql},"global-statements":R,"sql-statements":{pattern:/(^|\s)(?:disconnect\s+from|begin|commit|exec(?:ute)?|reset|rollback|validate)\b/i,lookbehind:!0,alias:"keyword"},number:i,"numeric-constant":d,punctuation:_,string:T}},"proc-groovy":{pattern:/(^proc\s+groovy(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:I,groovy:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return r}),"im"),lookbehind:!0,alias:"language-groovy",inside:n.languages.groovy},keyword:U,"submit-statement":D,"global-statements":R,number:i,"numeric-constant":d,punctuation:_,string:T}},"proc-lua":{pattern:/(^proc\s+lua(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:I,lua:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return r}),"im"),lookbehind:!0,alias:"language-lua",inside:n.languages.lua},keyword:U,"submit-statement":D,"global-statements":R,number:i,"numeric-constant":d,punctuation:_,string:T}},"proc-cas":{pattern:/(^proc\s+cas(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|quit|data);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:I,"statement-var":{pattern:/((?:^|\s)=?)saveresult\s[^;]+/im,lookbehind:!0,inside:{statement:{pattern:/^saveresult\s+\S+/i,inside:{keyword:/^(?:saveresult)/i}},rest:A}},"cas-actions":L,statement:{pattern:/((?:^|\s)=?)(?:default|(?:un)?set|on|output|upload)[^;]+/im,lookbehind:!0,inside:A},step:S,keyword:U,function:N,format:w,altformat:O,"global-statements":R,number:i,"numeric-constant":d,punctuation:_,string:T}},"proc-args":{pattern:RegExp(/(^proc\s+\w+\s+)(?!\s)(?:[^;"']|<str>)+;/.source.replace(/<str>/g,function(){return r}),"im"),lookbehind:!0,inside:A},"macro-keyword":v,"macro-variable":g,"macro-string-functions":{pattern:/((?:^|\s|=))%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)\(.*?(?:[^%]\))/i,lookbehind:!0,inside:{function:{pattern:/%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)/i,alias:"keyword"},"macro-keyword":v,"macro-variable":g,"escaped-char":{pattern:/%['"()<>=¬^~;,#]/},punctuation:_}},"macro-declaration":{pattern:/^%macro[^;]+(?=;)/im,inside:{keyword:/%macro/i}},"macro-end":{pattern:/^%mend[^;]+(?=;)/im,inside:{keyword:/%mend/i}},macro:{pattern:/%_\w+(?=\()/,alias:"keyword"},input:{pattern:/\binput\s[-\w\s/*.$&]+;/i,inside:{input:{alias:"keyword",pattern:/^input/i},comment:I,number:i,"numeric-constant":d}},"options-args":{pattern:/(^options)[-'"|/\\<>*+=:()\w\s]*(?=;)/im,lookbehind:!0,inside:A},"cas-actions":L,comment:I,function:N,format:w,altformat:O,"numeric-constant":d,datetime:{pattern:RegExp(r+"(?:dt?|t)"),alias:"number"},string:T,step:S,keyword:U,"operator-keyword":{pattern:/\b(?:eq|ge|gt|in|le|lt|ne|not)\b/i,alias:"operator"},number:i,operator:/\*\*?|\|\|?|!!?|¦¦?|<[>=]?|>[<=]?|[-+\/=&]|[~¬^]=?/,punctuation:_}})(t)}return IO}var EO,H5;function CLe(){if(H5)return EO;H5=1,EO=e,e.displayName="sass",e.aliases=[];function e(t){(function(n){n.languages.sass=n.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),n.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete n.languages.sass.atrule;var r=/\$[-\w]+|#\{\$[-\w]+\}/,i=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];n.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:r,operator:i}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:r,operator:i,important:n.languages.sass.important}}}),delete n.languages.sass.property,delete n.languages.sass.important,n.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})})(t)}return EO}var CO,G5;function TLe(){if(G5)return CO;G5=1;var e=Pj();CO=t,t.displayName="scala",t.aliases=[];function t(n){n.register(e),n.languages.scala=n.languages.extend("java",{"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/<-|=>|\b(?:abstract|case|catch|class|def|do|else|extends|final|finally|for|forSome|if|implicit|import|lazy|match|new|null|object|override|package|private|protected|return|sealed|self|super|this|throw|trait|try|type|val|var|while|with|yield)\b/,number:/\b0x(?:[\da-f]*\.)?[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e\d+)?[dfl]?/i,builtin:/\b(?:Any|AnyRef|AnyVal|Boolean|Byte|Char|Double|Float|Int|Long|Nothing|Short|String|Unit)\b/,symbol:/'[^\d\s\\]\w*/}),n.languages.insertBefore("scala","triple-quoted-string",{"string-interpolation":{pattern:/\b[a-z]\w*(?:"""(?:[^$]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*?"""|"(?:[^$"\r\n]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*")/i,greedy:!0,inside:{id:{pattern:/^\w+/,greedy:!0,alias:"function"},escape:{pattern:/\\\$"|\$[$"]/,greedy:!0,alias:"symbol"},interpolation:{pattern:/\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,greedy:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:n.languages.scala}}},string:/[\s\S]+/}}}),delete n.languages.scala["class-name"],delete n.languages.scala.function}return CO}var TO,K5;function MLe(){if(K5)return TO;K5=1,TO=e,e.displayName="scss",e.aliases=[];function e(t){t.languages.scss=t.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),t.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),t.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),t.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),t.languages.scss.atrule.inside.rest=t.languages.scss}return TO}var MO,W5;function _Le(){if(W5)return MO;W5=1;var e=$J();MO=t,t.displayName="shellSession",t.aliases=[];function t(n){n.register(e),function(r){var i=[/"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/.source,/'[^']*'/.source,/\$'(?:[^'\\]|\\[\s\S])*'/.source,/<<-?\s*(["']?)(\w+)\1\s[\s\S]*?[\r\n]\2/.source].join("|");r.languages["shell-session"]={command:{pattern:RegExp(/^/.source+"(?:"+(/[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+(?::[^\0-\x1F$#%*?"<>:;|]+)?/.source+"|"+/[/~.][^\0-\x1F$#%*?"<>@:;|]*/.source)+")?"+/[$#%](?=\s)/.source+/(?:[^\\\r\n \t'"<$]|[ \t](?:(?!#)|#.*$)|\\(?:[^\r]|\r\n?)|\$(?!')|<(?!<)|<<str>>)+/.source.replace(/<<str>>/g,function(){return i}),"m"),greedy:!0,inside:{info:{pattern:/^[^#$%]+/,alias:"punctuation",inside:{user:/^[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+/,punctuation:/:/,path:/[\s\S]+/}},bash:{pattern:/(^[$#%]\s*)\S[\s\S]*/,lookbehind:!0,alias:"language-bash",inside:r.languages.bash},"shell-symbol":{pattern:/^[$#%]/,alias:"important"}}},output:/.(?:.*(?:[\r\n]|.$))*/},r.languages["sh-session"]=r.languages.shellsession=r.languages["shell-session"]}(n)}return MO}var _O,Y5;function xLe(){if(Y5)return _O;Y5=1,_O=e,e.displayName="smali",e.aliases=[];function e(t){t.languages.smali={comment:/#.*/,string:{pattern:/"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\(?:.|u[\da-fA-F]{4}))'/,greedy:!0},"class-name":{pattern:/(^|[^L])L(?:(?:\w+|`[^`\r\n]*`)\/)*(?:[\w$]+|`[^`\r\n]*`)(?=\s*;)/,lookbehind:!0,inside:{"class-name":{pattern:/(^L|\/)(?:[\w$]+|`[^`\r\n]*`)$/,lookbehind:!0},namespace:{pattern:/^(L)(?:(?:\w+|`[^`\r\n]*`)\/)+/,lookbehind:!0,inside:{punctuation:/\//}},builtin:/^L/}},builtin:[{pattern:/([();\[])[BCDFIJSVZ]+/,lookbehind:!0},{pattern:/([\w$>]:)[BCDFIJSVZ]/,lookbehind:!0}],keyword:[{pattern:/(\.end\s+)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])\.(?!\d)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])(?:abstract|annotation|bridge|constructor|enum|final|interface|private|protected|public|runtime|static|synthetic|system|transient)(?![\w.-])/,lookbehind:!0}],function:{pattern:/(^|[^\w.-])(?:\w+|<[\w$-]+>)(?=\()/,lookbehind:!0},field:{pattern:/[\w$]+(?=:)/,alias:"variable"},register:{pattern:/(^|[^\w.-])[vp]\d(?![\w.-])/,lookbehind:!0,alias:"variable"},boolean:{pattern:/(^|[^\w.-])(?:false|true)(?![\w.-])/,lookbehind:!0},number:{pattern:/(^|[^/\w.-])-?(?:NAN|INFINITY|0x(?:[\dA-F]+(?:\.[\dA-F]*)?|\.[\dA-F]+)(?:p[+-]?[\dA-F]+)?|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)[dflst]?(?![\w.-])/i,lookbehind:!0},label:{pattern:/(:)\w+/,lookbehind:!0,alias:"property"},operator:/->|\.\.|[\[=]/,punctuation:/[{}(),;:]/}}return _O}var xO,X5;function wLe(){if(X5)return xO;X5=1,xO=e,e.displayName="smalltalk",e.aliases=[];function e(t){t.languages.smalltalk={comment:{pattern:/"(?:""|[^"])*"/,greedy:!0},char:{pattern:/\$./,greedy:!0},string:{pattern:/'(?:''|[^'])*'/,greedy:!0},symbol:/#[\da-z]+|#(?:-|([+\/\\*~<>=@%|&?!])\1?)|#(?=\()/i,"block-arguments":{pattern:/(\[\s*):[^\[|]*\|/,lookbehind:!0,inside:{variable:/:[\da-z]+/i,punctuation:/\|/}},"temporary-variables":{pattern:/\|[^|]+\|/,inside:{variable:/[\da-z]+/i,punctuation:/\|/}},keyword:/\b(?:new|nil|self|super)\b/,boolean:/\b(?:false|true)\b/,number:[/\d+r-?[\dA-Z]+(?:\.[\dA-Z]+)?(?:e-?\d+)?/,/\b\d+(?:\.\d+)?(?:e-?\d+)?/],operator:/[<=]=?|:=|~[~=]|\/\/?|\\\\|>[>=]?|[!^+\-*&|,@]/,punctuation:/[.;:?\[\](){}]/}}return xO}var wO,J5;function NLe(){if(J5)return wO;J5=1;var e=Js();wO=t,t.displayName="smarty",t.aliases=[];function t(n){n.register(e),function(r){r.languages.smarty={comment:{pattern:/^\{\*[\s\S]*?\*\}/,greedy:!0},"embedded-php":{pattern:/^\{php\}[\s\S]*?\{\/php\}/,greedy:!0,inside:{smarty:{pattern:/^\{php\}|\{\/php\}$/,inside:null},php:{pattern:/[\s\S]+/,alias:"language-php",inside:r.languages.php}}},string:[{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0,inside:{interpolation:{pattern:/\{[^{}]*\}|`[^`]*`/,inside:{"interpolation-punctuation":{pattern:/^[{`]|[`}]$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},variable:/\$\w+/}},{pattern:/'(?:\\.|[^'\\\r\n])*'/,greedy:!0}],keyword:{pattern:/(^\{\/?)[a-z_]\w*\b(?!\()/i,lookbehind:!0,greedy:!0},delimiter:{pattern:/^\{\/?|\}$/,greedy:!0,alias:"punctuation"},number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,variable:[/\$(?!\d)\w+/,/#(?!\d)\w+#/,{pattern:/(\.|->|\w\s*=)(?!\d)\w+\b(?!\()/,lookbehind:!0},{pattern:/(\[)(?!\d)\w+(?=\])/,lookbehind:!0}],function:{pattern:/(\|\s*)@?[a-z_]\w*|\b[a-z_]\w*(?=\()/i,lookbehind:!0},"attr-name":/\b[a-z_]\w*(?=\s*=)/i,boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\[\](){}.,:`]|->/,operator:[/[+\-*\/%]|==?=?|[!<>]=?|&&|\|\|?/,/\bis\s+(?:not\s+)?(?:div|even|odd)(?:\s+by)?\b/,/\b(?:and|eq|gt?e|gt|lt?e|lt|mod|neq?|not|or)\b/]},r.languages.smarty["embedded-php"].inside.smarty.inside=r.languages.smarty,r.languages.smarty.string[0].inside.interpolation.inside.expression.inside=r.languages.smarty;var i=/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,d=RegExp(/\{\*[\s\S]*?\*\}/.source+"|"+/\{php\}[\s\S]*?\{\/php\}/.source+"|"+/\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>)*\})*\})*\}/.source.replace(/<str>/g,function(){return i.source}),"g");r.hooks.add("before-tokenize",function(g){var v="{literal}",S="{/literal}",I=!1;r.languages["markup-templating"].buildPlaceholders(g,"smarty",d,function(T){return T===S&&(I=!1),I?!1:(T===v&&(I=!0),!0)})}),r.hooks.add("after-tokenize",function(g){r.languages["markup-templating"].tokenizePlaceholders(g,"smarty")})}(n)}return wO}var NO,Q5;function RLe(){if(Q5)return NO;Q5=1,NO=e,e.displayName="sml",e.aliases=["smlnj"];function e(t){(function(n){var r=/\b(?:abstype|and|andalso|as|case|datatype|do|else|end|eqtype|exception|fn|fun|functor|handle|if|in|include|infix|infixr|let|local|nonfix|of|op|open|orelse|raise|rec|sharing|sig|signature|struct|structure|then|type|val|where|while|with|withtype)\b/i;n.languages.sml={comment:/\(\*(?:[^*(]|\*(?!\))|\((?!\*)|\(\*(?:[^*(]|\*(?!\))|\((?!\*))*\*\))*\*\)/,string:{pattern:/#?"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":[{pattern:RegExp(/((?:^|[^:]):\s*)<TERMINAL>(?:\s*(?:(?:\*|->)\s*<TERMINAL>|,\s*<TERMINAL>(?:(?=<NOT-LAST>)|(?!<NOT-LAST>)\s+<LONG-ID>)))*/.source.replace(/<NOT-LAST>/g,function(){return/\s*(?:[*,]|->)/.source}).replace(/<TERMINAL>/g,function(){return/(?:'[\w']*|<LONG-ID>|\((?:[^()]|\([^()]*\))*\)|\{(?:[^{}]|\{[^{}]*\})*\})(?:\s+<LONG-ID>)*/.source}).replace(/<LONG-ID>/g,function(){return/(?!<KEYWORD>)[a-z\d_][\w'.]*/.source}).replace(/<KEYWORD>/g,function(){return r.source}),"i"),lookbehind:!0,greedy:!0,inside:null},{pattern:/((?:^|[^\w'])(?:datatype|exception|functor|signature|structure|type)\s+)[a-z_][\w'.]*/i,lookbehind:!0}],function:{pattern:/((?:^|[^\w'])fun\s+)[a-z_][\w'.]*/i,lookbehind:!0},keyword:r,variable:{pattern:/(^|[^\w'])'[\w']*/,lookbehind:!0},number:/~?\b(?:\d+(?:\.\d+)?(?:e~?\d+)?|0x[\da-f]+)\b/i,word:{pattern:/\b0w(?:\d+|x[\da-f]+)\b/i,alias:"constant"},boolean:/\b(?:false|true)\b/i,operator:/\.\.\.|:[>=:]|=>?|->|[<>]=?|[!+\-*/^#|@~]/,punctuation:/[(){}\[\].:,;]/},n.languages.sml["class-name"][0].inside=n.languages.sml,n.languages.smlnj=n.languages.sml})(t)}return NO}var RO,Z5;function ALe(){if(Z5)return RO;Z5=1,RO=e,e.displayName="solidity",e.aliases=["sol"];function e(t){t.languages.solidity=t.languages.extend("clike",{"class-name":{pattern:/(\b(?:contract|enum|interface|library|new|struct|using)\s+)(?!\d)[\w$]+/,lookbehind:!0},keyword:/\b(?:_|anonymous|as|assembly|assert|break|calldata|case|constant|constructor|continue|contract|default|delete|do|else|emit|enum|event|external|for|from|function|if|import|indexed|inherited|interface|internal|is|let|library|mapping|memory|modifier|new|payable|pragma|private|public|pure|require|returns?|revert|selfdestruct|solidity|storage|struct|suicide|switch|this|throw|using|var|view|while)\b/,operator:/=>|->|:=|=:|\*\*|\+\+|--|\|\||&&|<<=?|>>=?|[-+*/%^&|<>!=]=?|[~?]/}),t.languages.insertBefore("solidity","keyword",{builtin:/\b(?:address|bool|byte|u?int(?:8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?|string|bytes(?:[1-9]|[12]\d|3[0-2])?)\b/}),t.languages.insertBefore("solidity","number",{version:{pattern:/([<>]=?|\^)\d+\.\d+\.\d+\b/,lookbehind:!0,alias:"number"}}),t.languages.sol=t.languages.solidity}return RO}var AO,eG;function OLe(){if(eG)return AO;eG=1,AO=e,e.displayName="solutionFile",e.aliases=[];function e(t){(function(n){var r={pattern:/\{[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}\}/i,alias:"constant",inside:{punctuation:/[{}]/}};n.languages["solution-file"]={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0,inside:{guid:r}},object:{pattern:/^([ \t]*)(?:([A-Z]\w*)\b(?=.*(?:\r\n?|\n)(?:\1[ \t].*(?:\r\n?|\n))*\1End\2(?=[ \t]*$))|End[A-Z]\w*(?=[ \t]*$))/m,lookbehind:!0,greedy:!0,alias:"keyword"},property:{pattern:/^([ \t]*)(?!\s)[^\r\n"#=()]*[^\s"#=()](?=\s*=)/m,lookbehind:!0,inside:{guid:r}},guid:r,number:/\b\d+(?:\.\d+)*\b/,boolean:/\b(?:FALSE|TRUE)\b/,operator:/=/,punctuation:/[(),]/},n.languages.sln=n.languages["solution-file"]})(t)}return AO}var OO,tG;function kLe(){if(tG)return OO;tG=1;var e=Js();OO=t,t.displayName="soy",t.aliases=[];function t(n){n.register(e),function(r){var i=/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,d=/\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-F]+\b/;r.languages.soy={comment:[/\/\*[\s\S]*?\*\//,{pattern:/(\s)\/\/.*/,lookbehind:!0,greedy:!0}],"command-arg":{pattern:/(\{+\/?\s*(?:alias|call|delcall|delpackage|deltemplate|namespace|template)\s+)\.?[\w.]+/,lookbehind:!0,alias:"string",inside:{punctuation:/\./}},parameter:{pattern:/(\{+\/?\s*@?param\??\s+)\.?[\w.]+/,lookbehind:!0,alias:"variable"},keyword:[{pattern:/(\{+\/?[^\S\r\n]*)(?:\\[nrt]|alias|call|case|css|default|delcall|delpackage|deltemplate|else(?:if)?|fallbackmsg|for(?:each)?|if(?:empty)?|lb|let|literal|msg|namespace|nil|@?param\??|rb|sp|switch|template|xid)/,lookbehind:!0},/\b(?:any|as|attributes|bool|css|float|html|in|int|js|list|map|null|number|string|uri)\b/],delimiter:{pattern:/^\{+\/?|\/?\}+$/,alias:"punctuation"},property:/\w+(?==)/,variable:{pattern:/\$[^\W\d]\w*(?:\??(?:\.\w+|\[[^\]]+\]))*/,inside:{string:{pattern:i,greedy:!0},number:d,punctuation:/[\[\].?]/}},string:{pattern:i,greedy:!0},function:[/\w+(?=\()/,{pattern:/(\|[^\S\r\n]*)\w+/,lookbehind:!0}],boolean:/\b(?:false|true)\b/,number:d,operator:/\?:?|<=?|>=?|==?|!=|[+*/%-]|\b(?:and|not|or)\b/,punctuation:/[{}()\[\]|.,:]/},r.hooks.add("before-tokenize",function(g){var v=/\{\{.+?\}\}|\{.+?\}|\s\/\/.*|\/\*[\s\S]*?\*\//g,S="{literal}",I="{/literal}",T=!1;r.languages["markup-templating"].buildPlaceholders(g,"soy",v,function(_){return _===I&&(T=!1),T?!1:(_===S&&(T=!0),!0)})}),r.hooks.add("after-tokenize",function(g){r.languages["markup-templating"].tokenizePlaceholders(g,"soy")})}(n)}return OO}var kO,nG;function qJ(){if(nG)return kO;nG=1,kO=e,e.displayName="turtle",e.aliases=[];function e(t){t.languages.turtle={comment:{pattern:/#.*/,greedy:!0},"multiline-string":{pattern:/"""(?:(?:""?)?(?:[^"\\]|\\.))*"""|'''(?:(?:''?)?(?:[^'\\]|\\.))*'''/,greedy:!0,alias:"string",inside:{comment:/#.*/}},string:{pattern:/"(?:[^\\"\r\n]|\\.)*"|'(?:[^\\'\r\n]|\\.)*'/,greedy:!0},url:{pattern:/<(?:[^\x00-\x20<>"{}|^`\\]|\\(?:u[\da-fA-F]{4}|U[\da-fA-F]{8}))*>/,greedy:!0,inside:{punctuation:/[<>]/}},function:{pattern:/(?:(?![-.\d\xB7])[-.\w\xB7\xC0-\uFFFD]+)?:(?:(?![-.])(?:[-.:\w\xC0-\uFFFD]|%[\da-f]{2}|\\.)+)?/i,inside:{"local-name":{pattern:/([^:]*:)[\s\S]+/,lookbehind:!0},prefix:{pattern:/[\s\S]+/,inside:{punctuation:/:/}}}},number:/[+-]?\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[{}.,;()[\]]|\^\^/,boolean:/\b(?:false|true)\b/,keyword:[/(?:\ba|@prefix|@base)\b|=/,/\b(?:base|graph|prefix)\b/i],tag:{pattern:/@[a-z]+(?:-[a-z\d]+)*/i,inside:{punctuation:/@/}}},t.languages.trig=t.languages.turtle}return kO}var LO,rG;function LLe(){if(rG)return LO;rG=1;var e=qJ();LO=t,t.displayName="sparql",t.aliases=["rq"];function t(n){n.register(e),n.languages.sparql=n.languages.extend("turtle",{boolean:/\b(?:false|true)\b/i,variable:{pattern:/[?$]\w+/,greedy:!0}}),n.languages.insertBefore("sparql","punctuation",{keyword:[/\b(?:A|ADD|ALL|AS|ASC|ASK|BNODE|BY|CLEAR|CONSTRUCT|COPY|CREATE|DATA|DEFAULT|DELETE|DESC|DESCRIBE|DISTINCT|DROP|EXISTS|FILTER|FROM|GROUP|HAVING|INSERT|INTO|LIMIT|LOAD|MINUS|MOVE|NAMED|NOT|NOW|OFFSET|OPTIONAL|ORDER|RAND|REDUCED|SELECT|SEPARATOR|SERVICE|SILENT|STRUUID|UNION|USING|UUID|VALUES|WHERE)\b/i,/\b(?:ABS|AVG|BIND|BOUND|CEIL|COALESCE|CONCAT|CONTAINS|COUNT|DATATYPE|DAY|ENCODE_FOR_URI|FLOOR|GROUP_CONCAT|HOURS|IF|IRI|isBLANK|isIRI|isLITERAL|isNUMERIC|isURI|LANG|LANGMATCHES|LCASE|MAX|MD5|MIN|MINUTES|MONTH|REGEX|REPLACE|ROUND|sameTerm|SAMPLE|SECONDS|SHA1|SHA256|SHA384|SHA512|STR|STRAFTER|STRBEFORE|STRDT|STRENDS|STRLANG|STRLEN|STRSTARTS|SUBSTR|SUM|TIMEZONE|TZ|UCASE|URI|YEAR)\b(?=\s*\()/i,/\b(?:BASE|GRAPH|PREFIX)\b/i]}),n.languages.rq=n.languages.sparql}return LO}var PO,aG;function PLe(){if(aG)return PO;aG=1,PO=e,e.displayName="splunkSpl",e.aliases=[];function e(t){t.languages["splunk-spl"]={comment:/`comment\("(?:\\.|[^\\"])*"\)`/,string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0},keyword:/\b(?:abstract|accum|addcoltotals|addinfo|addtotals|analyzefields|anomalies|anomalousvalue|anomalydetection|append|appendcols|appendcsv|appendlookup|appendpipe|arules|associate|audit|autoregress|bin|bucket|bucketdir|chart|cluster|cofilter|collect|concurrency|contingency|convert|correlate|datamodel|dbinspect|dedup|delete|delta|diff|erex|eval|eventcount|eventstats|extract|fieldformat|fields|fieldsummary|filldown|fillnull|findtypes|folderize|foreach|format|from|gauge|gentimes|geom|geomfilter|geostats|head|highlight|history|iconify|input|inputcsv|inputlookup|iplocation|join|kmeans|kv|kvform|loadjob|localize|localop|lookup|makecontinuous|makemv|makeresults|map|mcollect|metadata|metasearch|meventcollect|mstats|multikv|multisearch|mvcombine|mvexpand|nomv|outlier|outputcsv|outputlookup|outputtext|overlap|pivot|predict|rangemap|rare|regex|relevancy|reltime|rename|replace|rest|return|reverse|rex|rtorder|run|savedsearch|script|scrub|search|searchtxn|selfjoin|sendemail|set|setfields|sichart|sirare|sistats|sitimechart|sitop|sort|spath|stats|strcat|streamstats|table|tags|tail|timechart|timewrap|top|transaction|transpose|trendline|tscollect|tstats|typeahead|typelearner|typer|union|uniq|untable|where|x11|xmlkv|xmlunescape|xpath|xyseries)\b/i,"operator-word":{pattern:/\b(?:and|as|by|not|or|xor)\b/i,alias:"operator"},function:/\b\w+(?=\s*\()/,property:/\b\w+(?=\s*=(?!=))/,date:{pattern:/\b\d{1,2}\/\d{1,2}\/\d{1,4}(?:(?::\d{1,2}){3})?\b/,alias:"number"},number:/\b\d+(?:\.\d+)?\b/,boolean:/\b(?:f|false|t|true)\b/i,operator:/[<>=]=?|[-+*/%|]/,punctuation:/[()[\],]/}}return PO}var DO,iG;function DLe(){if(iG)return DO;iG=1,DO=e,e.displayName="sqf",e.aliases=[];function e(t){t.languages.sqf=t.languages.extend("clike",{string:{pattern:/"(?:(?:"")?[^"])*"(?!")|'(?:[^'])*'/,greedy:!0},keyword:/\b(?:breakOut|breakTo|call|case|catch|default|do|echo|else|execFSM|execVM|exitWith|for|forEach|forEachMember|forEachMemberAgent|forEachMemberTeam|from|goto|if|nil|preprocessFile|preprocessFileLineNumbers|private|scopeName|spawn|step|switch|then|throw|to|try|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?:abs|accTime|acos|action|actionIDs|actionKeys|actionKeysImages|actionKeysNames|actionKeysNamesArray|actionName|actionParams|activateAddons|activatedAddons|activateKey|add3DENConnection|add3DENEventHandler|add3DENLayer|addAction|addBackpack|addBackpackCargo|addBackpackCargoGlobal|addBackpackGlobal|addCamShake|addCuratorAddons|addCuratorCameraArea|addCuratorEditableObjects|addCuratorEditingArea|addCuratorPoints|addEditorObject|addEventHandler|addForce|addForceGeneratorRTD|addGoggles|addGroupIcon|addHandgunItem|addHeadgear|addItem|addItemCargo|addItemCargoGlobal|addItemPool|addItemToBackpack|addItemToUniform|addItemToVest|addLiveStats|addMagazine|addMagazineAmmoCargo|addMagazineCargo|addMagazineCargoGlobal|addMagazineGlobal|addMagazinePool|addMagazines|addMagazineTurret|addMenu|addMenuItem|addMissionEventHandler|addMPEventHandler|addMusicEventHandler|addOwnedMine|addPlayerScores|addPrimaryWeaponItem|addPublicVariableEventHandler|addRating|addResources|addScore|addScoreSide|addSecondaryWeaponItem|addSwitchableUnit|addTeamMember|addToRemainsCollector|addTorque|addUniform|addVehicle|addVest|addWaypoint|addWeapon|addWeaponCargo|addWeaponCargoGlobal|addWeaponGlobal|addWeaponItem|addWeaponPool|addWeaponTurret|admin|agent|agents|AGLToASL|aimedAtTarget|aimPos|airDensityCurveRTD|airDensityRTD|airplaneThrottle|airportSide|AISFinishHeal|alive|all3DENEntities|allAirports|allControls|allCurators|allCutLayers|allDead|allDeadMen|allDisplays|allGroups|allMapMarkers|allMines|allMissionObjects|allow3DMode|allowCrewInImmobile|allowCuratorLogicIgnoreAreas|allowDamage|allowDammage|allowFileOperations|allowFleeing|allowGetIn|allowSprint|allPlayers|allSimpleObjects|allSites|allTurrets|allUnits|allUnitsUAV|allVariables|ammo|ammoOnPylon|animate|animateBay|animateDoor|animatePylon|animateSource|animationNames|animationPhase|animationSourcePhase|animationState|append|apply|armoryPoints|arrayIntersect|asin|ASLToAGL|ASLToATL|assert|assignAsCargo|assignAsCargoIndex|assignAsCommander|assignAsDriver|assignAsGunner|assignAsTurret|assignCurator|assignedCargo|assignedCommander|assignedDriver|assignedGunner|assignedItems|assignedTarget|assignedTeam|assignedVehicle|assignedVehicleRole|assignItem|assignTeam|assignToAirport|atan|atan2|atg|ATLToASL|attachedObject|attachedObjects|attachedTo|attachObject|attachTo|attackEnabled|backpack|backpackCargo|backpackContainer|backpackItems|backpackMagazines|backpackSpaceFor|behaviour|benchmark|binocular|blufor|boundingBox|boundingBoxReal|boundingCenter|briefingName|buildingExit|buildingPos|buldozer_EnableRoadDiag|buldozer_IsEnabledRoadDiag|buldozer_LoadNewRoads|buldozer_reloadOperMap|buttonAction|buttonSetAction|cadetMode|callExtension|camCommand|camCommit|camCommitPrepared|camCommitted|camConstuctionSetParams|camCreate|camDestroy|cameraEffect|cameraEffectEnableHUD|cameraInterest|cameraOn|cameraView|campaignConfigFile|camPreload|camPreloaded|camPrepareBank|camPrepareDir|camPrepareDive|camPrepareFocus|camPrepareFov|camPrepareFovRange|camPreparePos|camPrepareRelPos|camPrepareTarget|camSetBank|camSetDir|camSetDive|camSetFocus|camSetFov|camSetFovRange|camSetPos|camSetRelPos|camSetTarget|camTarget|camUseNVG|canAdd|canAddItemToBackpack|canAddItemToUniform|canAddItemToVest|cancelSimpleTaskDestination|canFire|canMove|canSlingLoad|canStand|canSuspend|canTriggerDynamicSimulation|canUnloadInCombat|canVehicleCargo|captive|captiveNum|cbChecked|cbSetChecked|ceil|channelEnabled|cheatsEnabled|checkAIFeature|checkVisibility|civilian|className|clear3DENAttribute|clear3DENInventory|clearAllItemsFromBackpack|clearBackpackCargo|clearBackpackCargoGlobal|clearForcesRTD|clearGroupIcons|clearItemCargo|clearItemCargoGlobal|clearItemPool|clearMagazineCargo|clearMagazineCargoGlobal|clearMagazinePool|clearOverlay|clearRadio|clearVehicleInit|clearWeaponCargo|clearWeaponCargoGlobal|clearWeaponPool|clientOwner|closeDialog|closeDisplay|closeOverlay|collapseObjectTree|collect3DENHistory|collectiveRTD|combatMode|commandArtilleryFire|commandChat|commander|commandFire|commandFollow|commandFSM|commandGetOut|commandingMenu|commandMove|commandRadio|commandStop|commandSuppressiveFire|commandTarget|commandWatch|comment|commitOverlay|compile|compileFinal|completedFSM|composeText|configClasses|configFile|configHierarchy|configName|configNull|configProperties|configSourceAddonList|configSourceMod|configSourceModList|confirmSensorTarget|connectTerminalToUAV|controlNull|controlsGroupCtrl|copyFromClipboard|copyToClipboard|copyWaypoints|cos|count|countEnemy|countFriendly|countSide|countType|countUnknown|create3DENComposition|create3DENEntity|createAgent|createCenter|createDialog|createDiaryLink|createDiaryRecord|createDiarySubject|createDisplay|createGearDialog|createGroup|createGuardedPoint|createLocation|createMarker|createMarkerLocal|createMenu|createMine|createMissionDisplay|createMPCampaignDisplay|createSimpleObject|createSimpleTask|createSite|createSoundSource|createTask|createTeam|createTrigger|createUnit|createVehicle|createVehicleCrew|createVehicleLocal|crew|ctAddHeader|ctAddRow|ctClear|ctCurSel|ctData|ctFindHeaderRows|ctFindRowHeader|ctHeaderControls|ctHeaderCount|ctRemoveHeaders|ctRemoveRows|ctrlActivate|ctrlAddEventHandler|ctrlAngle|ctrlAutoScrollDelay|ctrlAutoScrollRewind|ctrlAutoScrollSpeed|ctrlChecked|ctrlClassName|ctrlCommit|ctrlCommitted|ctrlCreate|ctrlDelete|ctrlEnable|ctrlEnabled|ctrlFade|ctrlHTMLLoaded|ctrlIDC|ctrlIDD|ctrlMapAnimAdd|ctrlMapAnimClear|ctrlMapAnimCommit|ctrlMapAnimDone|ctrlMapCursor|ctrlMapMouseOver|ctrlMapScale|ctrlMapScreenToWorld|ctrlMapWorldToScreen|ctrlModel|ctrlModelDirAndUp|ctrlModelScale|ctrlParent|ctrlParentControlsGroup|ctrlPosition|ctrlRemoveAllEventHandlers|ctrlRemoveEventHandler|ctrlScale|ctrlSetActiveColor|ctrlSetAngle|ctrlSetAutoScrollDelay|ctrlSetAutoScrollRewind|ctrlSetAutoScrollSpeed|ctrlSetBackgroundColor|ctrlSetChecked|ctrlSetDisabledColor|ctrlSetEventHandler|ctrlSetFade|ctrlSetFocus|ctrlSetFont|ctrlSetFontH1|ctrlSetFontH1B|ctrlSetFontH2|ctrlSetFontH2B|ctrlSetFontH3|ctrlSetFontH3B|ctrlSetFontH4|ctrlSetFontH4B|ctrlSetFontH5|ctrlSetFontH5B|ctrlSetFontH6|ctrlSetFontH6B|ctrlSetFontHeight|ctrlSetFontHeightH1|ctrlSetFontHeightH2|ctrlSetFontHeightH3|ctrlSetFontHeightH4|ctrlSetFontHeightH5|ctrlSetFontHeightH6|ctrlSetFontHeightSecondary|ctrlSetFontP|ctrlSetFontPB|ctrlSetFontSecondary|ctrlSetForegroundColor|ctrlSetModel|ctrlSetModelDirAndUp|ctrlSetModelScale|ctrlSetPixelPrecision|ctrlSetPosition|ctrlSetScale|ctrlSetStructuredText|ctrlSetText|ctrlSetTextColor|ctrlSetTextColorSecondary|ctrlSetTextSecondary|ctrlSetTooltip|ctrlSetTooltipColorBox|ctrlSetTooltipColorShade|ctrlSetTooltipColorText|ctrlShow|ctrlShown|ctrlText|ctrlTextHeight|ctrlTextSecondary|ctrlTextWidth|ctrlType|ctrlVisible|ctRowControls|ctRowCount|ctSetCurSel|ctSetData|ctSetHeaderTemplate|ctSetRowTemplate|ctSetValue|ctValue|curatorAddons|curatorCamera|curatorCameraArea|curatorCameraAreaCeiling|curatorCoef|curatorEditableObjects|curatorEditingArea|curatorEditingAreaType|curatorMouseOver|curatorPoints|curatorRegisteredObjects|curatorSelected|curatorWaypointCost|current3DENOperation|currentChannel|currentCommand|currentMagazine|currentMagazineDetail|currentMagazineDetailTurret|currentMagazineTurret|currentMuzzle|currentNamespace|currentTask|currentTasks|currentThrowable|currentVisionMode|currentWaypoint|currentWeapon|currentWeaponMode|currentWeaponTurret|currentZeroing|cursorObject|cursorTarget|customChat|customRadio|cutFadeOut|cutObj|cutRsc|cutText|damage|date|dateToNumber|daytime|deActivateKey|debriefingText|debugFSM|debugLog|deg|delete3DENEntities|deleteAt|deleteCenter|deleteCollection|deleteEditorObject|deleteGroup|deleteGroupWhenEmpty|deleteIdentity|deleteLocation|deleteMarker|deleteMarkerLocal|deleteRange|deleteResources|deleteSite|deleteStatus|deleteTeam|deleteVehicle|deleteVehicleCrew|deleteWaypoint|detach|detectedMines|diag_activeMissionFSMs|diag_activeScripts|diag_activeSQFScripts|diag_activeSQSScripts|diag_captureFrame|diag_captureFrameToFile|diag_captureSlowFrame|diag_codePerformance|diag_drawMode|diag_dynamicSimulationEnd|diag_enable|diag_enabled|diag_fps|diag_fpsMin|diag_frameNo|diag_lightNewLoad|diag_list|diag_log|diag_logSlowFrame|diag_mergeConfigFile|diag_recordTurretLimits|diag_setLightNew|diag_tickTime|diag_toggle|dialog|diarySubjectExists|didJIP|didJIPOwner|difficulty|difficultyEnabled|difficultyEnabledRTD|difficultyOption|direction|directSay|disableAI|disableCollisionWith|disableConversation|disableDebriefingStats|disableMapIndicators|disableNVGEquipment|disableRemoteSensors|disableSerialization|disableTIEquipment|disableUAVConnectability|disableUserInput|displayAddEventHandler|displayCtrl|displayNull|displayParent|displayRemoveAllEventHandlers|displayRemoveEventHandler|displaySetEventHandler|dissolveTeam|distance|distance2D|distanceSqr|distributionRegion|do3DENAction|doArtilleryFire|doFire|doFollow|doFSM|doGetOut|doMove|doorPhase|doStop|doSuppressiveFire|doTarget|doWatch|drawArrow|drawEllipse|drawIcon|drawIcon3D|drawLine|drawLine3D|drawLink|drawLocation|drawPolygon|drawRectangle|drawTriangle|driver|drop|dynamicSimulationDistance|dynamicSimulationDistanceCoef|dynamicSimulationEnabled|dynamicSimulationSystemEnabled|east|edit3DENMissionAttributes|editObject|editorSetEventHandler|effectiveCommander|emptyPositions|enableAI|enableAIFeature|enableAimPrecision|enableAttack|enableAudioFeature|enableAutoStartUpRTD|enableAutoTrimRTD|enableCamShake|enableCaustics|enableChannel|enableCollisionWith|enableCopilot|enableDebriefingStats|enableDiagLegend|enableDynamicSimulation|enableDynamicSimulationSystem|enableEndDialog|enableEngineArtillery|enableEnvironment|enableFatigue|enableGunLights|enableInfoPanelComponent|enableIRLasers|enableMimics|enablePersonTurret|enableRadio|enableReload|enableRopeAttach|enableSatNormalOnDetail|enableSaving|enableSentences|enableSimulation|enableSimulationGlobal|enableStamina|enableStressDamage|enableTeamSwitch|enableTraffic|enableUAVConnectability|enableUAVWaypoints|enableVehicleCargo|enableVehicleSensor|enableWeaponDisassembly|endl|endLoadingScreen|endMission|engineOn|enginesIsOnRTD|enginesPowerRTD|enginesRpmRTD|enginesTorqueRTD|entities|environmentEnabled|estimatedEndServerTime|estimatedTimeLeft|evalObjectArgument|everyBackpack|everyContainer|exec|execEditorScript|exp|expectedDestination|exportJIPMessages|eyeDirection|eyePos|face|faction|fadeMusic|fadeRadio|fadeSound|fadeSpeech|failMission|fillWeaponsFromPool|find|findCover|findDisplay|findEditorObject|findEmptyPosition|findEmptyPositionReady|findIf|findNearestEnemy|finishMissionInit|finite|fire|fireAtTarget|firstBackpack|flag|flagAnimationPhase|flagOwner|flagSide|flagTexture|fleeing|floor|flyInHeight|flyInHeightASL|fog|fogForecast|fogParams|forceAddUniform|forceAtPositionRTD|forcedMap|forceEnd|forceFlagTexture|forceFollowRoad|forceGeneratorRTD|forceMap|forceRespawn|forceSpeed|forceWalk|forceWeaponFire|forceWeatherChange|forgetTarget|format|formation|formationDirection|formationLeader|formationMembers|formationPosition|formationTask|formatText|formLeader|freeLook|fromEditor|fuel|fullCrew|gearIDCAmmoCount|gearSlotAmmoCount|gearSlotData|get3DENActionState|get3DENAttribute|get3DENCamera|get3DENConnections|get3DENEntity|get3DENEntityID|get3DENGrid|get3DENIconsVisible|get3DENLayerEntities|get3DENLinesVisible|get3DENMissionAttribute|get3DENMouseOver|get3DENSelected|getAimingCoef|getAllEnvSoundControllers|getAllHitPointsDamage|getAllOwnedMines|getAllSoundControllers|getAmmoCargo|getAnimAimPrecision|getAnimSpeedCoef|getArray|getArtilleryAmmo|getArtilleryComputerSettings|getArtilleryETA|getAssignedCuratorLogic|getAssignedCuratorUnit|getBackpackCargo|getBleedingRemaining|getBurningValue|getCameraViewDirection|getCargoIndex|getCenterOfMass|getClientState|getClientStateNumber|getCompatiblePylonMagazines|getConnectedUAV|getContainerMaxLoad|getCursorObjectParams|getCustomAimCoef|getDammage|getDescription|getDir|getDirVisual|getDLCAssetsUsage|getDLCAssetsUsageByName|getDLCs|getDLCUsageTime|getEditorCamera|getEditorMode|getEditorObjectScope|getElevationOffset|getEngineTargetRpmRTD|getEnvSoundController|getFatigue|getFieldManualStartPage|getForcedFlagTexture|getFriend|getFSMVariable|getFuelCargo|getGroupIcon|getGroupIconParams|getGroupIcons|getHideFrom|getHit|getHitIndex|getHitPointDamage|getItemCargo|getMagazineCargo|getMarkerColor|getMarkerPos|getMarkerSize|getMarkerType|getMass|getMissionConfig|getMissionConfigValue|getMissionDLCs|getMissionLayerEntities|getMissionLayers|getModelInfo|getMousePosition|getMusicPlayedTime|getNumber|getObjectArgument|getObjectChildren|getObjectDLC|getObjectMaterials|getObjectProxy|getObjectTextures|getObjectType|getObjectViewDistance|getOxygenRemaining|getPersonUsedDLCs|getPilotCameraDirection|getPilotCameraPosition|getPilotCameraRotation|getPilotCameraTarget|getPlateNumber|getPlayerChannel|getPlayerScores|getPlayerUID|getPlayerUIDOld|getPos|getPosASL|getPosASLVisual|getPosASLW|getPosATL|getPosATLVisual|getPosVisual|getPosWorld|getPylonMagazines|getRelDir|getRelPos|getRemoteSensorsDisabled|getRepairCargo|getResolution|getRotorBrakeRTD|getShadowDistance|getShotParents|getSlingLoad|getSoundController|getSoundControllerResult|getSpeed|getStamina|getStatValue|getSuppression|getTerrainGrid|getTerrainHeightASL|getText|getTotalDLCUsageTime|getTrimOffsetRTD|getUnitLoadout|getUnitTrait|getUserMFDText|getUserMFDValue|getVariable|getVehicleCargo|getWeaponCargo|getWeaponSway|getWingsOrientationRTD|getWingsPositionRTD|getWPPos|glanceAt|globalChat|globalRadio|goggles|group|groupChat|groupFromNetId|groupIconSelectable|groupIconsVisible|groupId|groupOwner|groupRadio|groupSelectedUnits|groupSelectUnit|grpNull|gunner|gusts|halt|handgunItems|handgunMagazine|handgunWeapon|handsHit|hasInterface|hasPilotCamera|hasWeapon|hcAllGroups|hcGroupParams|hcLeader|hcRemoveAllGroups|hcRemoveGroup|hcSelected|hcSelectGroup|hcSetGroup|hcShowBar|hcShownBar|headgear|hideBody|hideObject|hideObjectGlobal|hideSelection|hint|hintC|hintCadet|hintSilent|hmd|hostMission|htmlLoad|HUDMovementLevels|humidity|image|importAllGroups|importance|in|inArea|inAreaArray|incapacitatedState|independent|inflame|inflamed|infoPanel|infoPanelComponentEnabled|infoPanelComponents|infoPanels|inGameUISetEventHandler|inheritsFrom|initAmbientLife|inPolygon|inputAction|inRangeOfArtillery|insertEditorObject|intersect|is3DEN|is3DENMultiplayer|isAbleToBreathe|isAgent|isAimPrecisionEnabled|isArray|isAutoHoverOn|isAutonomous|isAutoStartUpEnabledRTD|isAutotest|isAutoTrimOnRTD|isBleeding|isBurning|isClass|isCollisionLightOn|isCopilotEnabled|isDamageAllowed|isDedicated|isDLCAvailable|isEngineOn|isEqualTo|isEqualType|isEqualTypeAll|isEqualTypeAny|isEqualTypeArray|isEqualTypeParams|isFilePatchingEnabled|isFlashlightOn|isFlatEmpty|isForcedWalk|isFormationLeader|isGroupDeletedWhenEmpty|isHidden|isInRemainsCollector|isInstructorFigureEnabled|isIRLaserOn|isKeyActive|isKindOf|isLaserOn|isLightOn|isLocalized|isManualFire|isMarkedForCollection|isMultiplayer|isMultiplayerSolo|isNil|isNull|isNumber|isObjectHidden|isObjectRTD|isOnRoad|isPipEnabled|isPlayer|isRealTime|isRemoteExecuted|isRemoteExecutedJIP|isServer|isShowing3DIcons|isSimpleObject|isSprintAllowed|isStaminaEnabled|isSteamMission|isStreamFriendlyUIEnabled|isStressDamageEnabled|isText|isTouchingGround|isTurnedOut|isTutHintsEnabled|isUAVConnectable|isUAVConnected|isUIContext|isUniformAllowed|isVehicleCargo|isVehicleRadarOn|isVehicleSensorEnabled|isWalking|isWeaponDeployed|isWeaponRested|itemCargo|items|itemsWithMagazines|join|joinAs|joinAsSilent|joinSilent|joinString|kbAddDatabase|kbAddDatabaseTargets|kbAddTopic|kbHasTopic|kbReact|kbRemoveTopic|kbTell|kbWasSaid|keyImage|keyName|knowsAbout|land|landAt|landResult|language|laserTarget|lbAdd|lbClear|lbColor|lbColorRight|lbCurSel|lbData|lbDelete|lbIsSelected|lbPicture|lbPictureRight|lbSelection|lbSetColor|lbSetColorRight|lbSetCurSel|lbSetData|lbSetPicture|lbSetPictureColor|lbSetPictureColorDisabled|lbSetPictureColorSelected|lbSetPictureRight|lbSetPictureRightColor|lbSetPictureRightColorDisabled|lbSetPictureRightColorSelected|lbSetSelectColor|lbSetSelectColorRight|lbSetSelected|lbSetText|lbSetTextRight|lbSetTooltip|lbSetValue|lbSize|lbSort|lbSortByValue|lbText|lbTextRight|lbValue|leader|leaderboardDeInit|leaderboardGetRows|leaderboardInit|leaderboardRequestRowsFriends|leaderboardRequestRowsGlobal|leaderboardRequestRowsGlobalAroundUser|leaderboardsRequestUploadScore|leaderboardsRequestUploadScoreKeepBest|leaderboardState|leaveVehicle|libraryCredits|libraryDisclaimers|lifeState|lightAttachObject|lightDetachObject|lightIsOn|lightnings|limitSpeed|linearConversion|lineBreak|lineIntersects|lineIntersectsObjs|lineIntersectsSurfaces|lineIntersectsWith|linkItem|list|listObjects|listRemoteTargets|listVehicleSensors|ln|lnbAddArray|lnbAddColumn|lnbAddRow|lnbClear|lnbColor|lnbColorRight|lnbCurSelRow|lnbData|lnbDeleteColumn|lnbDeleteRow|lnbGetColumnsPosition|lnbPicture|lnbPictureRight|lnbSetColor|lnbSetColorRight|lnbSetColumnsPos|lnbSetCurSelRow|lnbSetData|lnbSetPicture|lnbSetPictureColor|lnbSetPictureColorRight|lnbSetPictureColorSelected|lnbSetPictureColorSelectedRight|lnbSetPictureRight|lnbSetText|lnbSetTextRight|lnbSetValue|lnbSize|lnbSort|lnbSortByValue|lnbText|lnbTextRight|lnbValue|load|loadAbs|loadBackpack|loadFile|loadGame|loadIdentity|loadMagazine|loadOverlay|loadStatus|loadUniform|loadVest|local|localize|locationNull|locationPosition|lock|lockCameraTo|lockCargo|lockDriver|locked|lockedCargo|lockedDriver|lockedTurret|lockIdentity|lockTurret|lockWP|log|logEntities|logNetwork|logNetworkTerminate|lookAt|lookAtPos|magazineCargo|magazines|magazinesAllTurrets|magazinesAmmo|magazinesAmmoCargo|magazinesAmmoFull|magazinesDetail|magazinesDetailBackpack|magazinesDetailUniform|magazinesDetailVest|magazinesTurret|magazineTurretAmmo|mapAnimAdd|mapAnimClear|mapAnimCommit|mapAnimDone|mapCenterOnCamera|mapGridPosition|markAsFinishedOnSteam|markerAlpha|markerBrush|markerColor|markerDir|markerPos|markerShape|markerSize|markerText|markerType|max|members|menuAction|menuAdd|menuChecked|menuClear|menuCollapse|menuData|menuDelete|menuEnable|menuEnabled|menuExpand|menuHover|menuPicture|menuSetAction|menuSetCheck|menuSetData|menuSetPicture|menuSetValue|menuShortcut|menuShortcutText|menuSize|menuSort|menuText|menuURL|menuValue|min|mineActive|mineDetectedBy|missionConfigFile|missionDifficulty|missionName|missionNamespace|missionStart|missionVersion|modelToWorld|modelToWorldVisual|modelToWorldVisualWorld|modelToWorldWorld|modParams|moonIntensity|moonPhase|morale|move|move3DENCamera|moveInAny|moveInCargo|moveInCommander|moveInDriver|moveInGunner|moveInTurret|moveObjectToEnd|moveOut|moveTime|moveTo|moveToCompleted|moveToFailed|musicVolume|name|nameSound|nearEntities|nearestBuilding|nearestLocation|nearestLocations|nearestLocationWithDubbing|nearestObject|nearestObjects|nearestTerrainObjects|nearObjects|nearObjectsReady|nearRoads|nearSupplies|nearTargets|needReload|netId|netObjNull|newOverlay|nextMenuItemIndex|nextWeatherChange|nMenuItems|numberOfEnginesRTD|numberToDate|objectCurators|objectFromNetId|objectParent|objNull|objStatus|onBriefingGear|onBriefingGroup|onBriefingNotes|onBriefingPlan|onBriefingTeamSwitch|onCommandModeChanged|onDoubleClick|onEachFrame|onGroupIconClick|onGroupIconOverEnter|onGroupIconOverLeave|onHCGroupSelectionChanged|onMapSingleClick|onPlayerConnected|onPlayerDisconnected|onPreloadFinished|onPreloadStarted|onShowNewObject|onTeamSwitch|openCuratorInterface|openDLCPage|openDSInterface|openMap|openSteamApp|openYoutubeVideo|opfor|orderGetIn|overcast|overcastForecast|owner|param|params|parseNumber|parseSimpleArray|parseText|parsingNamespace|particlesQuality|pi|pickWeaponPool|pitch|pixelGrid|pixelGridBase|pixelGridNoUIScale|pixelH|pixelW|playableSlotsNumber|playableUnits|playAction|playActionNow|player|playerRespawnTime|playerSide|playersNumber|playGesture|playMission|playMove|playMoveNow|playMusic|playScriptedMission|playSound|playSound3D|position|positionCameraToWorld|posScreenToWorld|posWorldToScreen|ppEffectAdjust|ppEffectCommit|ppEffectCommitted|ppEffectCreate|ppEffectDestroy|ppEffectEnable|ppEffectEnabled|ppEffectForceInNVG|precision|preloadCamera|preloadObject|preloadSound|preloadTitleObj|preloadTitleRsc|primaryWeapon|primaryWeaponItems|primaryWeaponMagazine|priority|processDiaryLink|processInitCommands|productVersion|profileName|profileNamespace|profileNameSteam|progressLoadingScreen|progressPosition|progressSetPosition|publicVariable|publicVariableClient|publicVariableServer|pushBack|pushBackUnique|putWeaponPool|queryItemsPool|queryMagazinePool|queryWeaponPool|rad|radioChannelAdd|radioChannelCreate|radioChannelRemove|radioChannelSetCallSign|radioChannelSetLabel|radioVolume|rain|rainbow|random|rank|rankId|rating|rectangular|registeredTasks|registerTask|reload|reloadEnabled|remoteControl|remoteExec|remoteExecCall|remoteExecutedOwner|remove3DENConnection|remove3DENEventHandler|remove3DENLayer|removeAction|removeAll3DENEventHandlers|removeAllActions|removeAllAssignedItems|removeAllContainers|removeAllCuratorAddons|removeAllCuratorCameraAreas|removeAllCuratorEditingAreas|removeAllEventHandlers|removeAllHandgunItems|removeAllItems|removeAllItemsWithMagazines|removeAllMissionEventHandlers|removeAllMPEventHandlers|removeAllMusicEventHandlers|removeAllOwnedMines|removeAllPrimaryWeaponItems|removeAllWeapons|removeBackpack|removeBackpackGlobal|removeCuratorAddons|removeCuratorCameraArea|removeCuratorEditableObjects|removeCuratorEditingArea|removeDrawIcon|removeDrawLinks|removeEventHandler|removeFromRemainsCollector|removeGoggles|removeGroupIcon|removeHandgunItem|removeHeadgear|removeItem|removeItemFromBackpack|removeItemFromUniform|removeItemFromVest|removeItems|removeMagazine|removeMagazineGlobal|removeMagazines|removeMagazinesTurret|removeMagazineTurret|removeMenuItem|removeMissionEventHandler|removeMPEventHandler|removeMusicEventHandler|removeOwnedMine|removePrimaryWeaponItem|removeSecondaryWeaponItem|removeSimpleTask|removeSwitchableUnit|removeTeamMember|removeUniform|removeVest|removeWeapon|removeWeaponAttachmentCargo|removeWeaponCargo|removeWeaponGlobal|removeWeaponTurret|reportRemoteTarget|requiredVersion|resetCamShake|resetSubgroupDirection|resistance|resize|resources|respawnVehicle|restartEditorCamera|reveal|revealMine|reverse|reversedMouseY|roadAt|roadsConnectedTo|roleDescription|ropeAttachedObjects|ropeAttachedTo|ropeAttachEnabled|ropeAttachTo|ropeCreate|ropeCut|ropeDestroy|ropeDetach|ropeEndPosition|ropeLength|ropes|ropeUnwind|ropeUnwound|rotorsForcesRTD|rotorsRpmRTD|round|runInitScript|safeZoneH|safeZoneW|safeZoneWAbs|safeZoneX|safeZoneXAbs|safeZoneY|save3DENInventory|saveGame|saveIdentity|saveJoysticks|saveOverlay|saveProfileNamespace|saveStatus|saveVar|savingEnabled|say|say2D|say3D|score|scoreSide|screenshot|screenToWorld|scriptDone|scriptName|scriptNull|scudState|secondaryWeapon|secondaryWeaponItems|secondaryWeaponMagazine|select|selectBestPlaces|selectDiarySubject|selectedEditorObjects|selectEditorObject|selectionNames|selectionPosition|selectLeader|selectMax|selectMin|selectNoPlayer|selectPlayer|selectRandom|selectRandomWeighted|selectWeapon|selectWeaponTurret|sendAUMessage|sendSimpleCommand|sendTask|sendTaskResult|sendUDPMessage|serverCommand|serverCommandAvailable|serverCommandExecutable|serverName|serverTime|set|set3DENAttribute|set3DENAttributes|set3DENGrid|set3DENIconsVisible|set3DENLayer|set3DENLinesVisible|set3DENLogicType|set3DENMissionAttribute|set3DENMissionAttributes|set3DENModelsVisible|set3DENObjectType|set3DENSelected|setAccTime|setActualCollectiveRTD|setAirplaneThrottle|setAirportSide|setAmmo|setAmmoCargo|setAmmoOnPylon|setAnimSpeedCoef|setAperture|setApertureNew|setArmoryPoints|setAttributes|setAutonomous|setBehaviour|setBleedingRemaining|setBrakesRTD|setCameraInterest|setCamShakeDefParams|setCamShakeParams|setCamUseTI|setCaptive|setCenterOfMass|setCollisionLight|setCombatMode|setCompassOscillation|setConvoySeparation|setCuratorCameraAreaCeiling|setCuratorCoef|setCuratorEditingAreaType|setCuratorWaypointCost|setCurrentChannel|setCurrentTask|setCurrentWaypoint|setCustomAimCoef|setCustomWeightRTD|setDamage|setDammage|setDate|setDebriefingText|setDefaultCamera|setDestination|setDetailMapBlendPars|setDir|setDirection|setDrawIcon|setDriveOnPath|setDropInterval|setDynamicSimulationDistance|setDynamicSimulationDistanceCoef|setEditorMode|setEditorObjectScope|setEffectCondition|setEngineRpmRTD|setFace|setFaceAnimation|setFatigue|setFeatureType|setFlagAnimationPhase|setFlagOwner|setFlagSide|setFlagTexture|setFog|setForceGeneratorRTD|setFormation|setFormationTask|setFormDir|setFriend|setFromEditor|setFSMVariable|setFuel|setFuelCargo|setGroupIcon|setGroupIconParams|setGroupIconsSelectable|setGroupIconsVisible|setGroupId|setGroupIdGlobal|setGroupOwner|setGusts|setHideBehind|setHit|setHitIndex|setHitPointDamage|setHorizonParallaxCoef|setHUDMovementLevels|setIdentity|setImportance|setInfoPanel|setLeader|setLightAmbient|setLightAttenuation|setLightBrightness|setLightColor|setLightDayLight|setLightFlareMaxDistance|setLightFlareSize|setLightIntensity|setLightnings|setLightUseFlare|setLocalWindParams|setMagazineTurretAmmo|setMarkerAlpha|setMarkerAlphaLocal|setMarkerBrush|setMarkerBrushLocal|setMarkerColor|setMarkerColorLocal|setMarkerDir|setMarkerDirLocal|setMarkerPos|setMarkerPosLocal|setMarkerShape|setMarkerShapeLocal|setMarkerSize|setMarkerSizeLocal|setMarkerText|setMarkerTextLocal|setMarkerType|setMarkerTypeLocal|setMass|setMimic|setMousePosition|setMusicEffect|setMusicEventHandler|setName|setNameSound|setObjectArguments|setObjectMaterial|setObjectMaterialGlobal|setObjectProxy|setObjectTexture|setObjectTextureGlobal|setObjectViewDistance|setOvercast|setOwner|setOxygenRemaining|setParticleCircle|setParticleClass|setParticleFire|setParticleParams|setParticleRandom|setPilotCameraDirection|setPilotCameraRotation|setPilotCameraTarget|setPilotLight|setPiPEffect|setPitch|setPlateNumber|setPlayable|setPlayerRespawnTime|setPos|setPosASL|setPosASL2|setPosASLW|setPosATL|setPosition|setPosWorld|setPylonLoadOut|setPylonsPriority|setRadioMsg|setRain|setRainbow|setRandomLip|setRank|setRectangular|setRepairCargo|setRotorBrakeRTD|setShadowDistance|setShotParents|setSide|setSimpleTaskAlwaysVisible|setSimpleTaskCustomData|setSimpleTaskDescription|setSimpleTaskDestination|setSimpleTaskTarget|setSimpleTaskType|setSimulWeatherLayers|setSize|setSkill|setSlingLoad|setSoundEffect|setSpeaker|setSpeech|setSpeedMode|setStamina|setStaminaScheme|setStatValue|setSuppression|setSystemOfUnits|setTargetAge|setTaskMarkerOffset|setTaskResult|setTaskState|setTerrainGrid|setText|setTimeMultiplier|setTitleEffect|setToneMapping|setToneMappingParams|setTrafficDensity|setTrafficDistance|setTrafficGap|setTrafficSpeed|setTriggerActivation|setTriggerArea|setTriggerStatements|setTriggerText|setTriggerTimeout|setTriggerType|setType|setUnconscious|setUnitAbility|setUnitLoadout|setUnitPos|setUnitPosWeak|setUnitRank|setUnitRecoilCoefficient|setUnitTrait|setUnloadInCombat|setUserActionText|setUserMFDText|setUserMFDValue|setVariable|setVectorDir|setVectorDirAndUp|setVectorUp|setVehicleAmmo|setVehicleAmmoDef|setVehicleArmor|setVehicleCargo|setVehicleId|setVehicleInit|setVehicleLock|setVehiclePosition|setVehicleRadar|setVehicleReceiveRemoteTargets|setVehicleReportOwnPosition|setVehicleReportRemoteTargets|setVehicleTIPars|setVehicleVarName|setVelocity|setVelocityModelSpace|setVelocityTransformation|setViewDistance|setVisibleIfTreeCollapsed|setWantedRpmRTD|setWaves|setWaypointBehaviour|setWaypointCombatMode|setWaypointCompletionRadius|setWaypointDescription|setWaypointForceBehaviour|setWaypointFormation|setWaypointHousePosition|setWaypointLoiterRadius|setWaypointLoiterType|setWaypointName|setWaypointPosition|setWaypointScript|setWaypointSpeed|setWaypointStatements|setWaypointTimeout|setWaypointType|setWaypointVisible|setWeaponReloadingTime|setWind|setWindDir|setWindForce|setWindStr|setWingForceScaleRTD|setWPPos|show3DIcons|showChat|showCinemaBorder|showCommandingMenu|showCompass|showCuratorCompass|showGPS|showHUD|showLegend|showMap|shownArtilleryComputer|shownChat|shownCompass|shownCuratorCompass|showNewEditorObject|shownGPS|shownHUD|shownMap|shownPad|shownRadio|shownScoretable|shownUAVFeed|shownWarrant|shownWatch|showPad|showRadio|showScoretable|showSubtitles|showUAVFeed|showWarrant|showWatch|showWaypoint|showWaypoints|side|sideAmbientLife|sideChat|sideEmpty|sideEnemy|sideFriendly|sideLogic|sideRadio|sideUnknown|simpleTasks|simulationEnabled|simulCloudDensity|simulCloudOcclusion|simulInClouds|simulWeatherSync|sin|size|sizeOf|skill|skillFinal|skipTime|sleep|sliderPosition|sliderRange|sliderSetPosition|sliderSetRange|sliderSetSpeed|sliderSpeed|slingLoadAssistantShown|soldierMagazines|someAmmo|sort|soundVolume|speaker|speed|speedMode|splitString|sqrt|squadParams|stance|startLoadingScreen|stop|stopEngineRTD|stopped|str|sunOrMoon|supportInfo|suppressFor|surfaceIsWater|surfaceNormal|surfaceType|swimInDepth|switchableUnits|switchAction|switchCamera|switchGesture|switchLight|switchMove|synchronizedObjects|synchronizedTriggers|synchronizedWaypoints|synchronizeObjectsAdd|synchronizeObjectsRemove|synchronizeTrigger|synchronizeWaypoint|systemChat|systemOfUnits|tan|targetKnowledge|targets|targetsAggregate|targetsQuery|taskAlwaysVisible|taskChildren|taskCompleted|taskCustomData|taskDescription|taskDestination|taskHint|taskMarkerOffset|taskNull|taskParent|taskResult|taskState|taskType|teamMember|teamMemberNull|teamName|teams|teamSwitch|teamSwitchEnabled|teamType|terminate|terrainIntersect|terrainIntersectASL|terrainIntersectAtASL|text|textLog|textLogFormat|tg|time|timeMultiplier|titleCut|titleFadeOut|titleObj|titleRsc|titleText|toArray|toFixed|toLower|toString|toUpper|triggerActivated|triggerActivation|triggerArea|triggerAttachedVehicle|triggerAttachObject|triggerAttachVehicle|triggerDynamicSimulation|triggerStatements|triggerText|triggerTimeout|triggerTimeoutCurrent|triggerType|turretLocal|turretOwner|turretUnit|tvAdd|tvClear|tvCollapse|tvCollapseAll|tvCount|tvCurSel|tvData|tvDelete|tvExpand|tvExpandAll|tvPicture|tvPictureRight|tvSetColor|tvSetCurSel|tvSetData|tvSetPicture|tvSetPictureColor|tvSetPictureColorDisabled|tvSetPictureColorSelected|tvSetPictureRight|tvSetPictureRightColor|tvSetPictureRightColorDisabled|tvSetPictureRightColorSelected|tvSetSelectColor|tvSetText|tvSetTooltip|tvSetValue|tvSort|tvSortByValue|tvText|tvTooltip|tvValue|type|typeName|typeOf|UAVControl|uiNamespace|uiSleep|unassignCurator|unassignItem|unassignTeam|unassignVehicle|underwater|uniform|uniformContainer|uniformItems|uniformMagazines|unitAddons|unitAimPosition|unitAimPositionVisual|unitBackpack|unitIsUAV|unitPos|unitReady|unitRecoilCoefficient|units|unitsBelowHeight|unlinkItem|unlockAchievement|unregisterTask|updateDrawIcon|updateMenuItem|updateObjectTree|useAIOperMapObstructionTest|useAISteeringComponent|useAudioTimeForMoves|userInputDisabled|vectorAdd|vectorCos|vectorCrossProduct|vectorDiff|vectorDir|vectorDirVisual|vectorDistance|vectorDistanceSqr|vectorDotProduct|vectorFromTo|vectorMagnitude|vectorMagnitudeSqr|vectorModelToWorld|vectorModelToWorldVisual|vectorMultiply|vectorNormalized|vectorUp|vectorUpVisual|vectorWorldToModel|vectorWorldToModelVisual|vehicle|vehicleCargoEnabled|vehicleChat|vehicleRadio|vehicleReceiveRemoteTargets|vehicleReportOwnPosition|vehicleReportRemoteTargets|vehicles|vehicleVarName|velocity|velocityModelSpace|verifySignature|vest|vestContainer|vestItems|vestMagazines|viewDistance|visibleCompass|visibleGPS|visibleMap|visiblePosition|visiblePositionASL|visibleScoretable|visibleWatch|waitUntil|waves|waypointAttachedObject|waypointAttachedVehicle|waypointAttachObject|waypointAttachVehicle|waypointBehaviour|waypointCombatMode|waypointCompletionRadius|waypointDescription|waypointForceBehaviour|waypointFormation|waypointHousePosition|waypointLoiterRadius|waypointLoiterType|waypointName|waypointPosition|waypoints|waypointScript|waypointsEnabledUAV|waypointShow|waypointSpeed|waypointStatements|waypointTimeout|waypointTimeoutCurrent|waypointType|waypointVisible|weaponAccessories|weaponAccessoriesCargo|weaponCargo|weaponDirection|weaponInertia|weaponLowered|weapons|weaponsItems|weaponsItemsCargo|weaponState|weaponsTurret|weightRTD|west|WFSideText|wind|windDir|windRTD|windStr|wingsForcesRTD|worldName|worldSize|worldToModel|worldToModelVisual|worldToScreen)\b/i,number:/(?:\$|\b0x)[\da-f]+\b|(?:\B\.\d+|\b\d+(?:\.\d+)?)(?:e[+-]?\d+)?\b/i,operator:/##|>>|&&|\|\||[!=<>]=?|[-+*/%#^]|\b(?:and|mod|not|or)\b/i,"magic-variable":{pattern:/\b(?:this|thisList|thisTrigger|_exception|_fnc_scriptName|_fnc_scriptNameParent|_forEachIndex|_this|_thisEventHandler|_thisFSM|_thisScript|_x)\b/i,alias:"keyword"},constant:/\bDIK(?:_[a-z\d]+)+\b/i}),t.languages.insertBefore("sqf","string",{macro:{pattern:/(^[ \t]*)#[a-z](?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{directive:{pattern:/#[a-z]+\b/i,alias:"keyword"},comment:t.languages.sqf.comment}}}),delete t.languages.sqf["class-name"]}return DO}var jO,oG;function jLe(){if(oG)return jO;oG=1,jO=e,e.displayName="squirrel",e.aliases=[];function e(t){t.languages.squirrel=t.languages.extend("clike",{comment:[t.languages.clike.comment[0],{pattern:/(^|[^\\:])(?:\/\/|#).*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^\\"'@])(?:@"(?:[^"]|"")*"(?!")|"(?:[^\\\r\n"]|\\.)*")/,lookbehind:!0,greedy:!0},"class-name":{pattern:/(\b(?:class|enum|extends|instanceof)\s+)\w+(?:\.\w+)*/,lookbehind:!0,inside:{punctuation:/\./}},keyword:/\b(?:__FILE__|__LINE__|base|break|case|catch|class|clone|const|constructor|continue|default|delete|else|enum|extends|for|foreach|function|if|in|instanceof|local|null|resume|return|static|switch|this|throw|try|typeof|while|yield)\b/,number:/\b(?:0x[0-9a-fA-F]+|\d+(?:\.(?:\d+|[eE][+-]?\d+))?)\b/,operator:/\+\+|--|<=>|<[-<]|>>>?|&&?|\|\|?|[-+*/%!=<>]=?|[~^]|::?/,punctuation:/[(){}\[\],;.]/}),t.languages.insertBefore("squirrel","string",{char:{pattern:/(^|[^\\"'])'(?:[^\\']|\\(?:[xuU][0-9a-fA-F]{0,8}|[\s\S]))'/,lookbehind:!0,greedy:!0}}),t.languages.insertBefore("squirrel","operator",{"attribute-punctuation":{pattern:/<\/|\/>/,alias:"important"},lambda:{pattern:/@(?=\()/,alias:"operator"}})}return jO}var VO,sG;function VLe(){if(sG)return VO;sG=1,VO=e,e.displayName="stan",e.aliases=[];function e(t){(function(n){var r=/\b(?:algebra_solver|algebra_solver_newton|integrate_1d|integrate_ode|integrate_ode_bdf|integrate_ode_rk45|map_rect|ode_(?:adams|bdf|ckrk|rk45)(?:_tol)?|ode_adjoint_tol_ctl|reduce_sum|reduce_sum_static)\b/;n.languages.stan={comment:/\/\/.*|\/\*[\s\S]*?\*\/|#(?!include).*/,string:{pattern:/"[\x20\x21\x23-\x5B\x5D-\x7E]*"/,greedy:!0},directive:{pattern:/^([ \t]*)#include\b.*/m,lookbehind:!0,alias:"property"},"function-arg":{pattern:RegExp("("+r.source+/\s*\(\s*/.source+")"+/[a-zA-Z]\w*/.source),lookbehind:!0,alias:"function"},constraint:{pattern:/(\b(?:int|matrix|real|row_vector|vector)\s*)<[^<>]*>/,lookbehind:!0,inside:{expression:{pattern:/(=\s*)\S(?:\S|\s+(?!\s))*?(?=\s*(?:>$|,\s*\w+\s*=))/,lookbehind:!0,inside:null},property:/\b[a-z]\w*(?=\s*=)/i,operator:/=/,punctuation:/^<|>$|,/}},keyword:[{pattern:/\bdata(?=\s*\{)|\b(?:functions|generated|model|parameters|quantities|transformed)\b/,alias:"program-block"},/\b(?:array|break|cholesky_factor_corr|cholesky_factor_cov|complex|continue|corr_matrix|cov_matrix|data|else|for|if|in|increment_log_prob|int|matrix|ordered|positive_ordered|print|real|reject|return|row_vector|simplex|target|unit_vector|vector|void|while)\b/,r],function:/\b[a-z]\w*(?=\s*\()/i,number:/(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:E[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,boolean:/\b(?:false|true)\b/,operator:/<-|\.[*/]=?|\|\|?|&&|[!=<>+\-*/]=?|['^%~?:]/,punctuation:/[()\[\]{},;]/},n.languages.stan.constraint.inside.expression.inside=n.languages.stan})(t)}return VO}var $O,lG;function $Le(){if(lG)return $O;lG=1,$O=e,e.displayName="stylus",e.aliases=[];function e(t){(function(n){var r={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},i={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},d={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/\burl\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:else|for|if|return|unless)(?=\s|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:r,number:i,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:r,boolean:/\b(?:false|true)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:i,punctuation:/[{}()\[\];:,]/};d.interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^\{|\}$/,alias:"punctuation"},rest:d}},d.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:d}},n.languages.stylus={"atrule-declaration":{pattern:/(^[ \t]*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:d}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:d}},statement:{pattern:/(^[ \t]*)(?:else|for|if|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:d}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,]$(?!(?:\r?\n|\r)(?:\{|\2[ \t])))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:d.interpolation}},rest:d}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t])))/m,lookbehind:!0,inside:{interpolation:d.interpolation,comment:d.comment,punctuation:/[{},]/}},func:d.func,string:d.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:d.interpolation,punctuation:/[{}()\[\];:.]/}})(t)}return $O}var UO,cG;function ULe(){if(cG)return UO;cG=1,UO=e,e.displayName="swift",e.aliases=[];function e(t){t.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},t.languages.swift["string-literal"].forEach(function(n){n.inside.interpolation.inside=t.languages.swift})}return UO}var BO,uG;function BLe(){if(uG)return BO;uG=1,BO=e,e.displayName="systemd",e.aliases=[];function e(t){(function(n){var r={pattern:/^[;#].*/m,greedy:!0},i=/"(?:[^\r\n"\\]|\\(?:[^\r]|\r\n?))*"(?!\S)/.source;n.languages.systemd={comment:r,section:{pattern:/^\[[^\n\r\[\]]*\](?=[ \t]*$)/m,greedy:!0,inside:{punctuation:/^\[|\]$/,"section-name":{pattern:/[\s\S]+/,alias:"selector"}}},key:{pattern:/^[^\s=]+(?=[ \t]*=)/m,greedy:!0,alias:"attr-name"},value:{pattern:RegExp(/(=[ \t]*(?!\s))/.source+"(?:"+i+`|(?=[^"\r
]))(?:`+(/[^\s\\]/.source+'|[ 	]+(?:(?![ 	"])|'+i+")|"+/\\[\r\n]+(?:[#;].*[\r\n]+)*(?![#;])/.source)+")*"),lookbehind:!0,greedy:!0,alias:"attr-value",inside:{comment:r,quoted:{pattern:RegExp(/(^|\s)/.source+i),lookbehind:!0,greedy:!0},punctuation:/\\$/m,boolean:{pattern:/^(?:false|no|off|on|true|yes)$/,greedy:!0}}},punctuation:/=/}})(t)}return BO}var FO,dG;function $j(){if(dG)return FO;dG=1,FO=e,e.displayName="t4Templating",e.aliases=[];function e(t){(function(n){function r(d,g,v){return{pattern:RegExp("<#"+d+"[\\s\\S]*?#>"),alias:"block",inside:{delimiter:{pattern:RegExp("^<#"+d+"|#>$"),alias:"important"},content:{pattern:/[\s\S]+/,inside:g,alias:v}}}}function i(d){var g=n.languages[d],v="language-"+d;return{block:{pattern:/<#[\s\S]+?#>/,inside:{directive:r("@",{"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/,inside:{punctuation:/^=|^["']|["']$/}},keyword:/\b\w+(?=\s)/,"attr-name":/\b\w+/}),expression:r("=",g,v),"class-feature":r("\\+",g,v),standard:r("",g,v)}}}}n.languages["t4-templating"]=Object.defineProperty({},"createT4",{value:i})})(t)}return FO}var qO,pG;function FLe(){if(pG)return qO;pG=1;var e=$j(),t=q_();qO=n,n.displayName="t4Cs",n.aliases=[];function n(r){r.register(e),r.register(t),r.languages.t4=r.languages["t4-cs"]=r.languages["t4-templating"].createT4("csharp")}return qO}var zO,mG;function zJ(){if(mG)return zO;mG=1;var e=UJ();zO=t,t.displayName="vbnet",t.aliases=[];function t(n){n.register(e),n.languages.vbnet=n.languages.extend("basic",{comment:[{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},{pattern:/(^|[^\\:])'.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\$|\b)/i,punctuation:/[,;:(){}]/})}return zO}var HO,fG;function qLe(){if(fG)return HO;fG=1;var e=$j(),t=zJ();HO=n,n.displayName="t4Vb",n.aliases=[];function n(r){r.register(e),r.register(t),r.languages["t4-vb"]=r.languages["t4-templating"].createT4("vbnet")}return HO}var GO,gG;function HJ(){if(gG)return GO;gG=1,GO=e,e.displayName="yaml",e.aliases=["yml"];function e(t){(function(n){var r=/[*&][^\s[\]{},]+/,i=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,d="(?:"+i.source+"(?:[ 	]+"+r.source+")?|"+r.source+"(?:[ 	]+"+i.source+")?)",g=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),v=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function S(I,T){T=(T||"").replace(/m/g,"")+"m";var _=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return d}).replace(/<<value>>/g,function(){return I});return RegExp(_,T)}n.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return d})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return d}).replace(/<<key>>/g,function(){return"(?:"+g+"|"+v+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:S(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:S(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:S(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:S(v),lookbehind:!0,greedy:!0},number:{pattern:S(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:i,important:r,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},n.languages.yml=n.languages.yaml})(t)}return GO}var KO,hG;function zLe(){if(hG)return KO;hG=1;var e=HJ();KO=t,t.displayName="tap",t.aliases=[];function t(n){n.register(e),n.languages.tap={fail:/not ok[^#{\n\r]*/,pass:/ok[^#{\n\r]*/,pragma:/pragma [+-][a-z]+/,bailout:/bail out!.*/i,version:/TAP version \d+/i,plan:/\b\d+\.\.\d+(?: +#.*)?/,subtest:{pattern:/# Subtest(?:: .*)?/,greedy:!0},punctuation:/[{}]/,directive:/#.*/,yamlish:{pattern:/(^[ \t]*)---[\s\S]*?[\r\n][ \t]*\.\.\.$/m,lookbehind:!0,inside:n.languages.yaml,alias:"language-yaml"}}}return KO}var WO,vG;function HLe(){if(vG)return WO;vG=1,WO=e,e.displayName="tcl",e.aliases=[];function e(t){t.languages.tcl={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:{pattern:/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"/,greedy:!0},variable:[{pattern:/(\$)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/,lookbehind:!0},{pattern:/(\$)\{[^}]+\}/,lookbehind:!0},{pattern:/(^[\t ]*set[ \t]+)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/m,lookbehind:!0}],function:{pattern:/(^[\t ]*proc[ \t]+)\S+/m,lookbehind:!0},builtin:[{pattern:/(^[\t ]*)(?:break|class|continue|error|eval|exit|for|foreach|if|proc|return|switch|while)\b/m,lookbehind:!0},/\b(?:else|elseif)\b/],scope:{pattern:/(^[\t ]*)(?:global|upvar|variable)\b/m,lookbehind:!0,alias:"constant"},keyword:{pattern:/(^[\t ]*|\[)(?:Safe_Base|Tcl|after|append|apply|array|auto_(?:execok|import|load|mkindex|qualify|reset)|automkindex_old|bgerror|binary|catch|cd|chan|clock|close|concat|dde|dict|encoding|eof|exec|expr|fblocked|fconfigure|fcopy|file(?:event|name)?|flush|gets|glob|history|http|incr|info|interp|join|lappend|lassign|lindex|linsert|list|llength|load|lrange|lrepeat|lreplace|lreverse|lsearch|lset|lsort|math(?:func|op)|memory|msgcat|namespace|open|package|parray|pid|pkg_mkIndex|platform|puts|pwd|re_syntax|read|refchan|regexp|registry|regsub|rename|scan|seek|set|socket|source|split|string|subst|tcl(?:_endOfWord|_findLibrary|startOf(?:Next|Previous)Word|test|vars|wordBreak(?:After|Before))|tell|time|tm|trace|unknown|unload|unset|update|uplevel|vwait)\b/m,lookbehind:!0},operator:/!=?|\*\*?|==|&&?|\|\|?|<[=<]?|>[=>]?|[-+~\/%?^]|\b(?:eq|in|ne|ni)\b/,punctuation:/[{}()\[\]]/}}return WO}var YO,yG;function GLe(){if(yG)return YO;yG=1,YO=e,e.displayName="textile",e.aliases=[];function e(t){(function(n){var r=/\([^|()\n]+\)|\[[^\]\n]+\]|\{[^}\n]+\}/.source,i=/\)|\((?![^|()\n]+\))/.source;function d(N,A){return RegExp(N.replace(/<MOD>/g,function(){return"(?:"+r+")"}).replace(/<PAR>/g,function(){return"(?:"+i+")"}),A||"")}var g={css:{pattern:/\{[^{}]+\}/,inside:{rest:n.languages.css}},"class-id":{pattern:/(\()[^()]+(?=\))/,lookbehind:!0,alias:"attr-value"},lang:{pattern:/(\[)[^\[\]]+(?=\])/,lookbehind:!0,alias:"attr-value"},punctuation:/[\\\/]\d+|\S/},v=n.languages.textile=n.languages.extend("markup",{phrase:{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:!0,inside:{"block-tag":{pattern:d(/^[a-z]\w*(?:<MOD>|<PAR>|[<>=])*\./.source),inside:{modifier:{pattern:d(/(^[a-z]\w*)(?:<MOD>|<PAR>|[<>=])+(?=\.)/.source),lookbehind:!0,inside:g},tag:/^[a-z]\w*/,punctuation:/\.$/}},list:{pattern:d(/^[*#]+<MOD>*\s+\S.*/.source,"m"),inside:{modifier:{pattern:d(/(^[*#]+)<MOD>+/.source),lookbehind:!0,inside:g},punctuation:/^[*#]+/}},table:{pattern:d(/^(?:(?:<MOD>|<PAR>|[<>=^~])+\.\s*)?(?:\|(?:(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.|(?!(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.))[^|]*)+\|/.source,"m"),inside:{modifier:{pattern:d(/(^|\|(?:\r?\n|\r)?)(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+(?=\.)/.source),lookbehind:!0,inside:g},punctuation:/\||^\./}},inline:{pattern:d(/(^|[^a-zA-Z\d])(\*\*|__|\?\?|[*_%@+\-^~])<MOD>*.+?\2(?![a-zA-Z\d])/.source),lookbehind:!0,inside:{bold:{pattern:d(/(^(\*\*?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},italic:{pattern:d(/(^(__?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},cite:{pattern:d(/(^\?\?<MOD>*).+?(?=\?\?)/.source),lookbehind:!0,alias:"string"},code:{pattern:d(/(^@<MOD>*).+?(?=@)/.source),lookbehind:!0,alias:"keyword"},inserted:{pattern:d(/(^\+<MOD>*).+?(?=\+)/.source),lookbehind:!0},deleted:{pattern:d(/(^-<MOD>*).+?(?=-)/.source),lookbehind:!0},span:{pattern:d(/(^%<MOD>*).+?(?=%)/.source),lookbehind:!0},modifier:{pattern:d(/(^\*\*|__|\?\?|[*_%@+\-^~])<MOD>+/.source),lookbehind:!0,inside:g},punctuation:/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{string:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0},url:{pattern:/(^\])\S+$/,lookbehind:!0},punctuation:/[\[\]]/}},link:{pattern:d(/"<MOD>*[^"]+":.+?(?=[^\w/]?(?:\s|$))/.source),inside:{text:{pattern:d(/(^"<MOD>*)[^"]+(?=")/.source),lookbehind:!0},modifier:{pattern:d(/(^")<MOD>+/.source),lookbehind:!0,inside:g},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[":]/}},image:{pattern:d(/!(?:<MOD>|<PAR>|[<>=])*(?![<>=])[^!\s()]+(?:\([^)]+\))?!(?::.+?(?=[^\w/]?(?:\s|$)))?/.source),inside:{source:{pattern:d(/(^!(?:<MOD>|<PAR>|[<>=])*)(?![<>=])[^!\s()]+(?:\([^)]+\))?(?=!)/.source),lookbehind:!0,alias:"url"},modifier:{pattern:d(/(^!)(?:<MOD>|<PAR>|[<>=])+/.source),lookbehind:!0,inside:g},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[!:]/}},footnote:{pattern:/\b\[\d+\]/,alias:"comment",inside:{punctuation:/\[|\]/}},acronym:{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{comment:{pattern:/(\()[^()]+(?=\))/,lookbehind:!0},punctuation:/[()]/}},mark:{pattern:/\b\((?:C|R|TM)\)/,alias:"comment",inside:{punctuation:/[()]/}}}}}),S=v.phrase.inside,I={inline:S.inline,link:S.link,image:S.image,footnote:S.footnote,acronym:S.acronym,mark:S.mark};v.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i;var T=S.inline.inside;T.bold.inside=I,T.italic.inside=I,T.inserted.inside=I,T.deleted.inside=I,T.span.inside=I;var _=S.table.inside;_.inline=I.inline,_.link=I.link,_.image=I.image,_.footnote=I.footnote,_.acronym=I.acronym,_.mark=I.mark})(t)}return YO}var XO,bG;function KLe(){if(bG)return XO;bG=1,XO=e,e.displayName="toml",e.aliases=[];function e(t){(function(n){var r=/(?:[\w-]+|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*")/.source;function i(d){return d.replace(/__/g,function(){return r})}n.languages.toml={comment:{pattern:/#.*/,greedy:!0},table:{pattern:RegExp(i(/(^[\t ]*\[\s*(?:\[\s*)?)__(?:\s*\.\s*__)*(?=\s*\])/.source),"m"),lookbehind:!0,greedy:!0,alias:"class-name"},key:{pattern:RegExp(i(/(^[\t ]*|[{,]\s*)__(?:\s*\.\s*__)*(?=\s*=)/.source),"m"),lookbehind:!0,greedy:!0,alias:"property"},string:{pattern:/"""(?:\\[\s\S]|[^\\])*?"""|'''[\s\S]*?'''|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},date:[{pattern:/\b\d{4}-\d{2}-\d{2}(?:[T\s]\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})?)?\b/i,alias:"number"},{pattern:/\b\d{2}:\d{2}:\d{2}(?:\.\d+)?\b/,alias:"number"}],number:/(?:\b0(?:x[\da-zA-Z]+(?:_[\da-zA-Z]+)*|o[0-7]+(?:_[0-7]+)*|b[10]+(?:_[10]+)*))\b|[-+]?\b\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?\b|[-+]?\b(?:inf|nan)\b/,boolean:/\b(?:false|true)\b/,punctuation:/[.,=[\]{}]/}})(t)}return XO}var JO,SG;function WLe(){if(SG)return JO;SG=1,JO=e,e.displayName="tremor",e.aliases=[];function e(t){(function(n){n.languages.tremor={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},"interpolated-string":null,extractor:{pattern:/\b[a-z_]\w*\|(?:[^\r\n\\|]|\\(?:\r\n|[\s\S]))*\|/i,greedy:!0,inside:{regex:{pattern:/(^re)\|[\s\S]+/,lookbehind:!0},function:/^\w+/,value:/\|[\s\S]+/}},identifier:{pattern:/`[^`]*`/,greedy:!0},function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())\b/,keyword:/\b(?:args|as|by|case|config|connect|connector|const|copy|create|default|define|deploy|drop|each|emit|end|erase|event|flow|fn|for|from|group|having|insert|into|intrinsic|let|links|match|merge|mod|move|of|operator|patch|pipeline|recur|script|select|set|sliding|state|stream|to|tumbling|update|use|when|where|window|with)\b/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0b[01_]*|0x[0-9a-fA-F_]*|\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee][+-]?[\d_]+)?)\b/,"pattern-punctuation":{pattern:/%(?=[({[])/,alias:"punctuation"},operator:/[-+*\/%~!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?>?=?|(?:absent|and|not|or|present|xor)\b/,punctuation:/::|[;\[\]()\{\},.:]/};var r=/#\{(?:[^"{}]|\{[^{}]*\}|"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*")*\}/.source;n.languages.tremor["interpolated-string"]={pattern:RegExp(/(^|[^\\])/.source+'(?:"""(?:'+/[^"\\#]|\\[\s\S]|"(?!"")|#(?!\{)/.source+"|"+r+')*"""|"(?:'+/[^"\\\r\n#]|\\(?:\r\n|[\s\S])|#(?!\{)/.source+"|"+r+')*")'),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:RegExp(r),inside:{punctuation:/^#\{|\}$/,expression:{pattern:/[\s\S]+/,inside:n.languages.tremor}}},string:/[\s\S]+/}},n.languages.troy=n.languages.tremor,n.languages.trickle=n.languages.tremor})(t)}return JO}var QO,IG;function YLe(){if(IG)return QO;IG=1;var e=FJ(),t=Dj();QO=n,n.displayName="tsx",n.aliases=[];function n(r){r.register(e),r.register(t),function(i){var d=i.util.clone(i.languages.typescript);i.languages.tsx=i.languages.extend("jsx",d),delete i.languages.tsx.parameter,delete i.languages.tsx["literal-property"];var g=i.languages.tsx.tag;g.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+g.pattern.source+")",g.pattern.flags),g.lookbehind=!0}(r)}return QO}var ZO,EG;function XLe(){if(EG)return ZO;EG=1;var e=Js();ZO=t,t.displayName="tt2",t.aliases=[];function t(n){n.register(e),function(r){r.languages.tt2=r.languages.extend("clike",{comment:/#.*|\[%#[\s\S]*?%\]/,keyword:/\b(?:BLOCK|CALL|CASE|CATCH|CLEAR|DEBUG|DEFAULT|ELSE|ELSIF|END|FILTER|FINAL|FOREACH|GET|IF|IN|INCLUDE|INSERT|LAST|MACRO|META|NEXT|PERL|PROCESS|RAWPERL|RETURN|SET|STOP|SWITCH|TAGS|THROW|TRY|UNLESS|USE|WHILE|WRAPPER)\b/,punctuation:/[[\]{},()]/}),r.languages.insertBefore("tt2","number",{operator:/=[>=]?|!=?|<=?|>=?|&&|\|\|?|\b(?:and|not|or)\b/,variable:{pattern:/\b[a-z]\w*(?:\s*\.\s*(?:\d+|\$?[a-z]\w*))*\b/i}}),r.languages.insertBefore("tt2","keyword",{delimiter:{pattern:/^(?:\[%|%%)-?|-?%\]$/,alias:"punctuation"}}),r.languages.insertBefore("tt2","string",{"single-quoted-string":{pattern:/'[^\\']*(?:\\[\s\S][^\\']*)*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"[^\\"]*(?:\\[\s\S][^\\"]*)*"/,greedy:!0,alias:"string",inside:{variable:{pattern:/\$(?:[a-z]\w*(?:\.(?:\d+|\$?[a-z]\w*))*)/i}}}}),delete r.languages.tt2.string,r.hooks.add("before-tokenize",function(i){var d=/\[%[\s\S]+?%\]/g;r.languages["markup-templating"].buildPlaceholders(i,"tt2",d)}),r.hooks.add("after-tokenize",function(i){r.languages["markup-templating"].tokenizePlaceholders(i,"tt2")})}(n)}return ZO}var ek,CG;function JLe(){if(CG)return ek;CG=1;var e=Js();ek=t,t.displayName="twig",t.aliases=[];function t(n){n.register(e),n.languages.twig={comment:/^\{#[\s\S]*?#\}$/,"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/}},keyword:/\b(?:even|if|odd)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/},n.hooks.add("before-tokenize",function(r){if(r.language==="twig"){var i=/\{(?:#[\s\S]*?#|%[\s\S]*?%|\{[\s\S]*?\})\}/g;n.languages["markup-templating"].buildPlaceholders(r,"twig",i)}}),n.hooks.add("after-tokenize",function(r){n.languages["markup-templating"].tokenizePlaceholders(r,"twig")})}return ek}var tk,TG;function QLe(){if(TG)return tk;TG=1,tk=e,e.displayName="typoscript",e.aliases=["tsconfig"];function e(t){(function(n){var r=/\b(?:ACT|ACTIFSUB|CARRAY|CASE|CLEARGIF|COA|COA_INT|CONSTANTS|CONTENT|CUR|EDITPANEL|EFFECT|EXT|FILE|FLUIDTEMPLATE|FORM|FRAME|FRAMESET|GIFBUILDER|GMENU|GMENU_FOLDOUT|GMENU_LAYERS|GP|HMENU|HRULER|HTML|IENV|IFSUB|IMAGE|IMGMENU|IMGMENUITEM|IMGTEXT|IMG_RESOURCE|INCLUDE_TYPOSCRIPT|JSMENU|JSMENUITEM|LLL|LOAD_REGISTER|NO|PAGE|RECORDS|RESTORE_REGISTER|TEMPLATE|TEXT|TMENU|TMENUITEM|TMENU_LAYERS|USER|USER_INT|_GIFBUILDER|global|globalString|globalVar)\b/;n.languages.typoscript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:= \t]|(?:^|[^= \t])[ \t]+)\/\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|[^"'])#.*/,lookbehind:!0,greedy:!0}],function:[{pattern:/<INCLUDE_TYPOSCRIPT:\s*source\s*=\s*(?:"[^"\r\n]*"|'[^'\r\n]*')\s*>/,inside:{string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,inside:{keyword:r}},keyword:{pattern:/INCLUDE_TYPOSCRIPT/}}},{pattern:/@import\s*(?:"[^"\r\n]*"|'[^'\r\n]*')/,inside:{string:/"[^"\r\n]*"|'[^'\r\n]*'/}}],string:{pattern:/^([^=]*=[< ]?)(?:(?!\]\n).)*/,lookbehind:!0,inside:{function:/\{\$.*\}/,keyword:r,number:/^\d+$/,punctuation:/[,|:]/}},keyword:r,number:{pattern:/\b\d+\s*[.{=]/,inside:{operator:/[.{=]/}},tag:{pattern:/\.?[-\w\\]+\.?/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:|]/,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/},n.languages.tsconfig=n.languages.typoscript})(t)}return tk}var nk,MG;function ZLe(){if(MG)return nk;MG=1,nk=e,e.displayName="unrealscript",e.aliases=["uc","uscript"];function e(t){t.languages.unrealscript={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},category:{pattern:/(\b(?:(?:autoexpand|hide|show)categories|var)\s*\()[^()]+(?=\))/,lookbehind:!0,greedy:!0,alias:"property"},metadata:{pattern:/(\w\s*)<\s*\w+\s*=[^<>|=\r\n]+(?:\|\s*\w+\s*=[^<>|=\r\n]+)*>/,lookbehind:!0,greedy:!0,inside:{property:/\b\w+(?=\s*=)/,operator:/=/,punctuation:/[<>|]/}},macro:{pattern:/`\w+/,alias:"property"},"class-name":{pattern:/(\b(?:class|enum|extends|interface|state(?:\(\))?|struct|within)\s+)\w+/,lookbehind:!0},keyword:/\b(?:abstract|actor|array|auto|autoexpandcategories|bool|break|byte|case|class|classgroup|client|coerce|collapsecategories|config|const|continue|default|defaultproperties|delegate|dependson|deprecated|do|dontcollapsecategories|editconst|editinlinenew|else|enum|event|exec|export|extends|final|float|for|forcescriptorder|foreach|function|goto|guid|hidecategories|hidedropdown|if|ignores|implements|inherits|input|int|interface|iterator|latent|local|material|name|native|nativereplication|noexport|nontransient|noteditinlinenew|notplaceable|operator|optional|out|pawn|perobjectconfig|perobjectlocalized|placeable|postoperator|preoperator|private|protected|reliable|replication|return|server|showcategories|simulated|singular|state|static|string|struct|structdefault|structdefaultproperties|switch|texture|transient|travel|unreliable|until|var|vector|while|within)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/>>|<<|--|\+\+|\*\*|[-+*/~!=<>$@]=?|&&?|\|\|?|\^\^?|[?:%]|\b(?:ClockwiseFrom|Cross|Dot)\b/,punctuation:/[()[\]{};,.]/},t.languages.uc=t.languages.uscript=t.languages.unrealscript}return nk}var rk,_G;function ePe(){if(_G)return rk;_G=1,rk=e,e.displayName="uorazor",e.aliases=[];function e(t){t.languages.uorazor={"comment-hash":{pattern:/#.*/,alias:"comment",greedy:!0},"comment-slash":{pattern:/\/\/.*/,alias:"comment",greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/},greedy:!0},"source-layers":{pattern:/\b(?:arms|backpack|blue|bracelet|cancel|clear|cloak|criminal|earrings|enemy|facialhair|friend|friendly|gloves|gray|grey|ground|hair|head|innerlegs|innertorso|innocent|lefthand|middletorso|murderer|neck|nonfriendly|onehandedsecondary|outerlegs|outertorso|pants|red|righthand|ring|self|shirt|shoes|talisman|waist)\b/i,alias:"function"},"source-commands":{pattern:/\b(?:alliance|attack|cast|clearall|clearignore|clearjournal|clearlist|clearsysmsg|createlist|createtimer|dclick|dclicktype|dclickvar|dress|dressconfig|drop|droprelloc|emote|getlabel|guild|gumpclose|gumpresponse|hotkey|ignore|lasttarget|lift|lifttype|menu|menuresponse|msg|org|organize|organizer|overhead|pause|poplist|potion|promptresponse|pushlist|removelist|removetimer|rename|restock|say|scav|scavenger|script|setability|setlasttarget|setskill|settimer|setvar|sysmsg|target|targetloc|targetrelloc|targettype|undress|unignore|unsetvar|useobject|useonce|useskill|usetype|virtue|wait|waitforgump|waitformenu|waitforprompt|waitforstat|waitforsysmsg|waitfortarget|walk|wfsysmsg|wft|whisper|yell)\b/,alias:"function"},"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},function:/\b(?:atlist|close|closest|count|counter|counttype|dead|dex|diffhits|diffmana|diffstam|diffweight|find|findbuff|finddebuff|findlayer|findtype|findtypelist|followers|gumpexists|hidden|hits|hp|hue|human|humanoid|ingump|inlist|insysmessage|insysmsg|int|invul|lhandempty|list|listexists|mana|maxhits|maxhp|maxmana|maxstam|maxweight|monster|mounted|name|next|noto|paralyzed|poisoned|position|prev|previous|queued|rand|random|rhandempty|skill|stam|str|targetexists|timer|timerexists|varexist|warmode|weight)\b/,keyword:/\b(?:and|as|break|continue|else|elseif|endfor|endif|endwhile|for|if|loop|not|or|replay|stop|while)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/}}return rk}var ak,xG;function tPe(){if(xG)return ak;xG=1,ak=e,e.displayName="uri",e.aliases=["url"];function e(t){t.languages.uri={scheme:{pattern:/^[a-z][a-z0-9+.-]*:/im,greedy:!0,inside:{"scheme-delimiter":/:$/}},fragment:{pattern:/#[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"fragment-delimiter":/^#/}},query:{pattern:/\?[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"query-delimiter":{pattern:/^\?/,greedy:!0},"pair-delimiter":/[&;]/,pair:{pattern:/^[^=][\s\S]*/,inside:{key:/^[^=]+/,value:{pattern:/(^=)[\s\S]+/,lookbehind:!0}}}}},authority:{pattern:RegExp(/^\/\//.source+/(?:[\w\-.~!$&'()*+,;=%:]*@)?/.source+("(?:"+/\[(?:[0-9a-fA-F:.]{2,48}|v[0-9a-fA-F]+\.[\w\-.~!$&'()*+,;=]+)\]/.source+"|"+/[\w\-.~!$&'()*+,;=%]*/.source+")")+/(?::\d*)?/.source,"m"),inside:{"authority-delimiter":/^\/\//,"user-info-segment":{pattern:/^[\w\-.~!$&'()*+,;=%:]*@/,inside:{"user-info-delimiter":/@$/,"user-info":/^[\w\-.~!$&'()*+,;=%:]+/}},"port-segment":{pattern:/:\d*$/,inside:{"port-delimiter":/^:/,port:/^\d+/}},host:{pattern:/[\s\S]+/,inside:{"ip-literal":{pattern:/^\[[\s\S]+\]$/,inside:{"ip-literal-delimiter":/^\[|\]$/,"ipv-future":/^v[\s\S]+/,"ipv6-address":/^[\s\S]+/}},"ipv4-address":/^(?:(?:[03-9]\d?|[12]\d{0,2})\.){3}(?:[03-9]\d?|[12]\d{0,2})$/}}}},path:{pattern:/^[\w\-.~!$&'()*+,;=%:@/]+/m,inside:{"path-separator":/\//}}},t.languages.url=t.languages.uri}return ak}var ik,wG;function nPe(){if(wG)return ik;wG=1,ik=e,e.displayName="v",e.aliases=[];function e(t){(function(n){var r={pattern:/[\s\S]+/,inside:null};n.languages.v=n.languages.extend("clike",{string:{pattern:/r?(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,alias:"quoted-string",greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[^{}]*\}|\w+(?:\.\w+(?:\([^\(\)]*\))?|\[[^\[\]]+\])*)/,lookbehind:!0,inside:{"interpolation-variable":{pattern:/^\$\w[\s\S]*$/,alias:"variable"},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},"interpolation-expression":r}}}},"class-name":{pattern:/(\b(?:enum|interface|struct|type)\s+)(?:C\.)?\w+/,lookbehind:!0},keyword:/(?:\b(?:__global|as|asm|assert|atomic|break|chan|const|continue|defer|else|embed|enum|fn|for|go(?:to)?|if|import|in|interface|is|lock|match|module|mut|none|or|pub|return|rlock|select|shared|sizeof|static|struct|type(?:of)?|union|unsafe)|\$(?:else|for|if)|#(?:flag|include))\b/,number:/\b(?:0x[a-f\d]+(?:_[a-f\d]+)*|0b[01]+(?:_[01]+)*|0o[0-7]+(?:_[0-7]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?)\b/i,operator:/~|\?|[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\.?/,builtin:/\b(?:any(?:_float|_int)?|bool|byte(?:ptr)?|charptr|f(?:32|64)|i(?:8|16|64|128|nt)|rune|size_t|string|u(?:16|32|64|128)|voidptr)\b/}),r.inside=n.languages.v,n.languages.insertBefore("v","string",{char:{pattern:/`(?:\\`|\\?[^`]{1,2})`/,alias:"rune"}}),n.languages.insertBefore("v","operator",{attribute:{pattern:/(^[\t ]*)\[(?:deprecated|direct_array_access|flag|inline|live|ref_only|typedef|unsafe_fn|windows_stdcall)\]/m,lookbehind:!0,alias:"annotation",inside:{punctuation:/[\[\]]/,keyword:/\w+/}},generic:{pattern:/<\w+>(?=\s*[\)\{])/,inside:{punctuation:/[<>]/,"class-name":/\w+/}}}),n.languages.insertBefore("v","function",{"generic-function":{pattern:/\b\w+\s*<\w+>(?=\()/,inside:{function:/^\w+/,generic:{pattern:/<\w+>/,inside:n.languages.v.generic.inside}}}})})(t)}return ik}var ok,NG;function rPe(){if(NG)return ok;NG=1,ok=e,e.displayName="vala",e.aliases=[];function e(t){t.languages.vala=t.languages.extend("clike",{"class-name":[{pattern:/\b[A-Z]\w*(?:\.\w+)*\b(?=(?:\?\s+|\*?\s+\*?)\w)/,inside:{punctuation:/\./}},{pattern:/(\[)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(\b(?:class|interface)\s+[A-Z]\w*(?:\.\w+)*\s*:\s*)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/((?:\b(?:class|enum|interface|new|struct)\s+)|(?:catch\s+\())[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}}],keyword:/\b(?:abstract|as|assert|async|base|bool|break|case|catch|char|class|const|construct|continue|default|delegate|delete|do|double|dynamic|else|ensures|enum|errordomain|extern|finally|float|for|foreach|get|if|in|inline|int|int16|int32|int64|int8|interface|internal|is|lock|long|namespace|new|null|out|override|owned|params|private|protected|public|ref|requires|return|set|short|signal|sizeof|size_t|ssize_t|static|string|struct|switch|this|throw|throws|try|typeof|uchar|uint|uint16|uint32|uint64|uint8|ulong|unichar|unowned|ushort|using|value|var|virtual|void|volatile|weak|while|yield)\b/i,function:/\b\w+(?=\s*\()/,number:/(?:\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?:f|u?l?)?/i,operator:/\+\+|--|&&|\|\||<<=?|>>=?|=>|->|~|[+\-*\/%&^|=!<>]=?|\?\??|\.\.\./,punctuation:/[{}[\];(),.:]/,constant:/\b[A-Z0-9_]+\b/}),t.languages.insertBefore("vala","string",{"raw-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"template-string":{pattern:/@"[\s\S]*?"/,greedy:!0,inside:{interpolation:{pattern:/\$(?:\([^)]*\)|[a-zA-Z]\w*)/,inside:{delimiter:{pattern:/^\$\(?|\)$/,alias:"punctuation"},rest:t.languages.vala}},string:/[\s\S]+/}}}),t.languages.insertBefore("vala","keyword",{regex:{pattern:/\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[imsx]{0,4}(?=\s*(?:$|[\r\n,.;})\]]))/,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\//,"regex-flags":/^[a-z]+$/}}})}return ok}var sk,RG;function aPe(){if(RG)return sk;RG=1,sk=e,e.displayName="velocity",e.aliases=[];function e(t){(function(n){n.languages.velocity=n.languages.extend("markup",{});var r={variable:{pattern:/(^|[^\\](?:\\\\)*)\$!?(?:[a-z][\w-]*(?:\([^)]*\))?(?:\.[a-z][\w-]*(?:\([^)]*\))?|\[[^\]]+\])*|\{[^}]+\})/i,lookbehind:!0,inside:{}},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},number:/\b\d+\b/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|[+*/%-]|&&|\|\||\.\.|\b(?:eq|g[et]|l[et]|n(?:e|ot))\b/,punctuation:/[(){}[\]:,.]/};r.variable.inside={string:r.string,function:{pattern:/([^\w-])[a-z][\w-]*(?=\()/,lookbehind:!0},number:r.number,boolean:r.boolean,punctuation:r.punctuation},n.languages.insertBefore("velocity","comment",{unparsed:{pattern:/(^|[^\\])#\[\[[\s\S]*?\]\]#/,lookbehind:!0,greedy:!0,inside:{punctuation:/^#\[\[|\]\]#$/}},"velocity-comment":[{pattern:/(^|[^\\])#\*[\s\S]*?\*#/,lookbehind:!0,greedy:!0,alias:"comment"},{pattern:/(^|[^\\])##.*/,lookbehind:!0,greedy:!0,alias:"comment"}],directive:{pattern:/(^|[^\\](?:\\\\)*)#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})(?:\s*\((?:[^()]|\([^()]*\))*\))?/i,lookbehind:!0,inside:{keyword:{pattern:/^#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})|\bin\b/,inside:{punctuation:/[{}]/}},rest:r}},variable:r.variable}),n.languages.velocity.tag.inside["attr-value"].inside.rest=n.languages.velocity})(t)}return sk}var lk,AG;function iPe(){if(AG)return lk;AG=1,lk=e,e.displayName="verilog",e.aliases=[];function e(t){t.languages.verilog={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"kernel-function":{pattern:/\B\$\w+\b/,alias:"property"},constant:/\B`\w+\b/,function:/\b\w+(?=\()/,keyword:/\b(?:alias|and|assert|assign|assume|automatic|before|begin|bind|bins|binsof|bit|break|buf|bufif0|bufif1|byte|case|casex|casez|cell|chandle|class|clocking|cmos|config|const|constraint|context|continue|cover|covergroup|coverpoint|cross|deassign|default|defparam|design|disable|dist|do|edge|else|end|endcase|endclass|endclocking|endconfig|endfunction|endgenerate|endgroup|endinterface|endmodule|endpackage|endprimitive|endprogram|endproperty|endsequence|endspecify|endtable|endtask|enum|event|expect|export|extends|extern|final|first_match|for|force|foreach|forever|fork|forkjoin|function|generate|genvar|highz0|highz1|if|iff|ifnone|ignore_bins|illegal_bins|import|incdir|include|initial|inout|input|inside|instance|int|integer|interface|intersect|join|join_any|join_none|large|liblist|library|local|localparam|logic|longint|macromodule|matches|medium|modport|module|nand|negedge|new|nmos|nor|noshowcancelled|not|notif0|notif1|null|or|output|package|packed|parameter|pmos|posedge|primitive|priority|program|property|protected|pull0|pull1|pulldown|pullup|pulsestyle_ondetect|pulsestyle_onevent|pure|rand|randc|randcase|randsequence|rcmos|real|realtime|ref|reg|release|repeat|return|rnmos|rpmos|rtran|rtranif0|rtranif1|scalared|sequence|shortint|shortreal|showcancelled|signed|small|solve|specify|specparam|static|string|strong0|strong1|struct|super|supply0|supply1|table|tagged|task|this|throughout|time|timeprecision|timeunit|tran|tranif0|tranif1|tri|tri0|tri1|triand|trior|trireg|type|typedef|union|unique|unsigned|use|uwire|var|vectored|virtual|void|wait|wait_order|wand|weak0|weak1|while|wildcard|wire|with|within|wor|xnor|xor)\b/,important:/\b(?:always|always_comb|always_ff|always_latch)\b(?: *@)?/,number:/\B##?\d+|(?:\b\d+)?'[odbh] ?[\da-fzx_?]+|\b(?:\d*[._])?\d+(?:e[-+]?\d+)?/i,operator:/[-+{}^~%*\/?=!<>&|]+/,punctuation:/[[\];(),.:]/}}return lk}var ck,OG;function oPe(){if(OG)return ck;OG=1,ck=e,e.displayName="vhdl",e.aliases=[];function e(t){t.languages.vhdl={comment:/--.+/,"vhdl-vectors":{pattern:/\b[oxb]"[\da-f_]+"|"[01uxzwlh-]+"/i,alias:"number"},"quoted-function":{pattern:/"\S+?"(?=\()/,alias:"function"},string:/"(?:[^\\"\r\n]|\\(?:\r\n|[\s\S]))*"/,constant:/\b(?:library|use)\b/i,keyword:/\b(?:'active|'ascending|'base|'delayed|'driving|'driving_value|'event|'high|'image|'instance_name|'last_active|'last_event|'last_value|'left|'leftof|'length|'low|'path_name|'pos|'pred|'quiet|'range|'reverse_range|'right|'rightof|'simple_name|'stable|'succ|'transaction|'val|'value|access|after|alias|all|architecture|array|assert|attribute|begin|block|body|buffer|bus|case|component|configuration|constant|disconnect|downto|else|elsif|end|entity|exit|file|for|function|generate|generic|group|guarded|if|impure|in|inertial|inout|is|label|library|linkage|literal|loop|map|new|next|null|of|on|open|others|out|package|port|postponed|procedure|process|pure|range|record|register|reject|report|return|select|severity|shared|signal|subtype|then|to|transport|type|unaffected|units|until|use|variable|wait|when|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\w+(?=\()/,number:/'[01uxzwlh-]'|\b(?:\d+#[\da-f_.]+#|\d[\d_.]*)(?:e[-+]?\d+)?/i,operator:/[<>]=?|:=|[-+*/&=]|\b(?:abs|and|mod|nand|nor|not|or|rem|rol|ror|sla|sll|sra|srl|xnor|xor)\b/i,punctuation:/[{}[\];(),.:]/}}return ck}var uk,kG;function sPe(){if(kG)return uk;kG=1,uk=e,e.displayName="vim",e.aliases=[];function e(t){t.languages.vim={string:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\r\n]|'')*'/,comment:/".*/,function:/\b\w+(?=\()/,keyword:/\b(?:N|Next|P|Print|X|XMLent|XMLns|ab|abbreviate|abc|abclear|abo|aboveleft|al|all|ar|arga|argadd|argd|argdelete|argdo|arge|argedit|argg|argglobal|argl|arglocal|args|argu|argument|as|ascii|b|bN|bNext|ba|bad|badd|ball|bd|bdelete|be|bel|belowright|bf|bfirst|bl|blast|bm|bmodified|bn|bnext|bo|botright|bp|bprevious|br|brea|break|breaka|breakadd|breakd|breakdel|breakl|breaklist|brewind|bro|browse|bufdo|buffer|buffers|bun|bunload|bw|bwipeout|c|cN|cNext|cNfcNfile|ca|cabbrev|cabc|cabclear|cad|caddb|caddbuffer|caddexpr|caddf|caddfile|cal|call|cat|catch|cb|cbuffer|cc|ccl|cclose|cd|ce|center|cex|cexpr|cf|cfile|cfir|cfirst|cg|cgetb|cgetbuffer|cgete|cgetexpr|cgetfile|change|changes|chd|chdir|che|checkpath|checkt|checktime|cl|cla|clast|clist|clo|close|cmapc|cmapclear|cn|cnew|cnewer|cnext|cnf|cnfile|cnorea|cnoreabbrev|co|col|colder|colo|colorscheme|comc|comclear|comp|compiler|con|conf|confirm|continue|cope|copen|copy|cp|cpf|cpfile|cprevious|cq|cquit|cr|crewind|cu|cuna|cunabbrev|cunmap|cw|cwindow|d|debugg|debuggreedy|delc|delcommand|delete|delf|delfunction|delm|delmarks|di|diffg|diffget|diffoff|diffpatch|diffpu|diffput|diffsplit|diffthis|diffu|diffupdate|dig|digraphs|display|dj|djump|dl|dlist|dr|drop|ds|dsearch|dsp|dsplit|e|earlier|echoe|echoerr|echom|echomsg|echon|edit|el|else|elsei|elseif|em|emenu|en|endf|endfo|endfor|endfun|endfunction|endif|endt|endtry|endw|endwhile|ene|enew|ex|exi|exit|exu|exusage|f|file|files|filetype|fin|fina|finally|find|fini|finish|fir|first|fix|fixdel|fo|fold|foldc|foldclose|foldd|folddoc|folddoclosed|folddoopen|foldo|foldopen|for|fu|fun|function|go|goto|gr|grep|grepa|grepadd|h|ha|hardcopy|help|helpf|helpfind|helpg|helpgrep|helpt|helptags|hid|hide|his|history|ia|iabbrev|iabc|iabclear|if|ij|ijump|il|ilist|imapc|imapclear|in|inorea|inoreabbrev|isearch|isp|isplit|iu|iuna|iunabbrev|iunmap|j|join|ju|jumps|k|kee|keepalt|keepj|keepjumps|keepmarks|l|lN|lNext|lNf|lNfile|la|lad|laddb|laddbuffer|laddexpr|laddf|laddfile|lan|language|last|later|lb|lbuffer|lc|lcd|lch|lchdir|lcl|lclose|left|lefta|leftabove|let|lex|lexpr|lf|lfile|lfir|lfirst|lg|lgetb|lgetbuffer|lgete|lgetexpr|lgetfile|lgr|lgrep|lgrepa|lgrepadd|lh|lhelpgrep|list|ll|lla|llast|lli|llist|lm|lmak|lmake|lmap|lmapc|lmapclear|ln|lne|lnew|lnewer|lnext|lnf|lnfile|lnoremap|lo|loadview|loc|lockmarks|lockv|lockvar|lol|lolder|lop|lopen|lp|lpf|lpfile|lprevious|lr|lrewind|ls|lt|ltag|lu|lunmap|lv|lvimgrep|lvimgrepa|lvimgrepadd|lw|lwindow|m|ma|mak|make|mark|marks|mat|match|menut|menutranslate|mk|mkexrc|mks|mksession|mksp|mkspell|mkv|mkvie|mkview|mkvimrc|mod|mode|move|mz|mzf|mzfile|mzscheme|n|nbkey|new|next|nmapc|nmapclear|noh|nohlsearch|norea|noreabbrev|nu|number|nun|nunmap|o|omapc|omapclear|on|only|open|opt|options|ou|ounmap|p|pc|pclose|pe|ped|pedit|perl|perld|perldo|po|pop|popu|popup|pp|ppop|pre|preserve|prev|previous|print|prof|profd|profdel|profile|promptf|promptfind|promptr|promptrepl|ps|psearch|ptN|ptNext|pta|ptag|ptf|ptfirst|ptj|ptjump|ptl|ptlast|ptn|ptnext|ptp|ptprevious|ptr|ptrewind|pts|ptselect|pu|put|pw|pwd|py|pyf|pyfile|python|q|qa|qall|quit|quita|quitall|r|read|rec|recover|red|redi|redir|redo|redr|redraw|redraws|redrawstatus|reg|registers|res|resize|ret|retab|retu|return|rew|rewind|ri|right|rightb|rightbelow|ru|rub|ruby|rubyd|rubydo|rubyf|rubyfile|runtime|rv|rviminfo|sN|sNext|sa|sal|sall|san|sandbox|sargument|sav|saveas|sb|sbN|sbNext|sba|sball|sbf|sbfirst|sbl|sblast|sbm|sbmodified|sbn|sbnext|sbp|sbprevious|sbr|sbrewind|sbuffer|scrip|scripte|scriptencoding|scriptnames|se|set|setf|setfiletype|setg|setglobal|setl|setlocal|sf|sfind|sfir|sfirst|sh|shell|sign|sil|silent|sim|simalt|sl|sla|slast|sleep|sm|smagic|smap|smapc|smapclear|sme|smenu|sn|snext|sni|sniff|sno|snomagic|snor|snoremap|snoreme|snoremenu|so|sor|sort|source|sp|spe|spelld|spelldump|spellgood|spelli|spellinfo|spellr|spellrepall|spellu|spellundo|spellw|spellwrong|split|spr|sprevious|sre|srewind|st|sta|stag|star|startg|startgreplace|startinsert|startr|startreplace|stj|stjump|stop|stopi|stopinsert|sts|stselect|sun|sunhide|sunm|sunmap|sus|suspend|sv|sview|syncbind|t|tN|tNext|ta|tab|tabN|tabNext|tabc|tabclose|tabd|tabdo|tabe|tabedit|tabf|tabfind|tabfir|tabfirst|tabl|tablast|tabm|tabmove|tabn|tabnew|tabnext|tabo|tabonly|tabp|tabprevious|tabr|tabrewind|tabs|tag|tags|tc|tcl|tcld|tcldo|tclf|tclfile|te|tearoff|tf|tfirst|th|throw|tj|tjump|tl|tlast|tm|tmenu|tn|tnext|to|topleft|tp|tprevious|tr|trewind|try|ts|tselect|tu|tunmenu|u|una|unabbreviate|undo|undoj|undojoin|undol|undolist|unh|unhide|unlet|unlo|unlockvar|unm|unmap|up|update|ve|verb|verbose|version|vert|vertical|vi|vie|view|vim|vimgrep|vimgrepa|vimgrepadd|visual|viu|viusage|vmapc|vmapclear|vne|vnew|vs|vsplit|vu|vunmap|w|wN|wNext|wa|wall|wh|while|win|winc|wincmd|windo|winp|winpos|winsize|wn|wnext|wp|wprevious|wq|wqa|wqall|write|ws|wsverb|wv|wviminfo|x|xa|xall|xit|xm|xmap|xmapc|xmapclear|xme|xmenu|xn|xnoremap|xnoreme|xnoremenu|xu|xunmap|y|yank)\b/,builtin:/\b(?:acd|ai|akm|aleph|allowrevins|altkeymap|ambiwidth|ambw|anti|antialias|arab|arabic|arabicshape|ari|arshape|autochdir|autocmd|autoindent|autoread|autowrite|autowriteall|aw|awa|background|backspace|backup|backupcopy|backupdir|backupext|backupskip|balloondelay|ballooneval|balloonexpr|bdir|bdlay|beval|bex|bexpr|bg|bh|bin|binary|biosk|bioskey|bk|bkc|bomb|breakat|brk|browsedir|bs|bsdir|bsk|bt|bufhidden|buflisted|buftype|casemap|ccv|cdpath|cedit|cfu|ch|charconvert|ci|cin|cindent|cink|cinkeys|cino|cinoptions|cinw|cinwords|clipboard|cmdheight|cmdwinheight|cmp|cms|columns|com|comments|commentstring|compatible|complete|completefunc|completeopt|consk|conskey|copyindent|cot|cpo|cpoptions|cpt|cscopepathcomp|cscopeprg|cscopequickfix|cscopetag|cscopetagorder|cscopeverbose|cspc|csprg|csqf|cst|csto|csverb|cuc|cul|cursorcolumn|cursorline|cwh|debug|deco|def|define|delcombine|dex|dg|dict|dictionary|diff|diffexpr|diffopt|digraph|dip|dir|directory|dy|ea|ead|eadirection|eb|ed|edcompatible|ef|efm|ei|ek|enc|encoding|endofline|eol|ep|equalalways|equalprg|errorbells|errorfile|errorformat|esckeys|et|eventignore|expandtab|exrc|fcl|fcs|fdc|fde|fdi|fdl|fdls|fdm|fdn|fdo|fdt|fen|fenc|fencs|fex|ff|ffs|fileencoding|fileencodings|fileformat|fileformats|fillchars|fk|fkmap|flp|fml|fmr|foldcolumn|foldenable|foldexpr|foldignore|foldlevel|foldlevelstart|foldmarker|foldmethod|foldminlines|foldnestmax|foldtext|formatexpr|formatlistpat|formatoptions|formatprg|fp|fs|fsync|ft|gcr|gd|gdefault|gfm|gfn|gfs|gfw|ghr|gp|grepformat|grepprg|gtl|gtt|guicursor|guifont|guifontset|guifontwide|guiheadroom|guioptions|guipty|guitablabel|guitabtooltip|helpfile|helpheight|helplang|hf|hh|hi|hidden|highlight|hk|hkmap|hkmapp|hkp|hl|hlg|hls|hlsearch|ic|icon|iconstring|ignorecase|im|imactivatekey|imak|imc|imcmdline|imd|imdisable|imi|iminsert|ims|imsearch|inc|include|includeexpr|incsearch|inde|indentexpr|indentkeys|indk|inex|inf|infercase|insertmode|invacd|invai|invakm|invallowrevins|invaltkeymap|invanti|invantialias|invar|invarab|invarabic|invarabicshape|invari|invarshape|invautochdir|invautoindent|invautoread|invautowrite|invautowriteall|invaw|invawa|invbackup|invballooneval|invbeval|invbin|invbinary|invbiosk|invbioskey|invbk|invbl|invbomb|invbuflisted|invcf|invci|invcin|invcindent|invcompatible|invconfirm|invconsk|invconskey|invcopyindent|invcp|invcscopetag|invcscopeverbose|invcst|invcsverb|invcuc|invcul|invcursorcolumn|invcursorline|invdeco|invdelcombine|invdg|invdiff|invdigraph|invdisable|invea|inveb|inved|invedcompatible|invek|invendofline|inveol|invequalalways|inverrorbells|invesckeys|invet|invex|invexpandtab|invexrc|invfen|invfk|invfkmap|invfoldenable|invgd|invgdefault|invguipty|invhid|invhidden|invhk|invhkmap|invhkmapp|invhkp|invhls|invhlsearch|invic|invicon|invignorecase|invim|invimc|invimcmdline|invimd|invincsearch|invinf|invinfercase|invinsertmode|invis|invjoinspaces|invjs|invlazyredraw|invlbr|invlinebreak|invlisp|invlist|invloadplugins|invlpl|invlz|invma|invmacatsui|invmagic|invmh|invml|invmod|invmodeline|invmodifiable|invmodified|invmore|invmousef|invmousefocus|invmousehide|invnu|invnumber|invodev|invopendevice|invpaste|invpi|invpreserveindent|invpreviewwindow|invprompt|invpvw|invreadonly|invremap|invrestorescreen|invrevins|invri|invrightleft|invrightleftcmd|invrl|invrlc|invro|invrs|invru|invruler|invsb|invsc|invscb|invscrollbind|invscs|invsecure|invsft|invshellslash|invshelltemp|invshiftround|invshortname|invshowcmd|invshowfulltag|invshowmatch|invshowmode|invsi|invsm|invsmartcase|invsmartindent|invsmarttab|invsmd|invsn|invsol|invspell|invsplitbelow|invsplitright|invspr|invsr|invssl|invsta|invstartofline|invstmp|invswapfile|invswf|invta|invtagbsearch|invtagrelative|invtagstack|invtbi|invtbidi|invtbs|invtermbidi|invterse|invtextauto|invtextmode|invtf|invtgst|invtildeop|invtimeout|invtitle|invto|invtop|invtr|invttimeout|invttybuiltin|invttyfast|invtx|invvb|invvisualbell|invwa|invwarn|invwb|invweirdinvert|invwfh|invwfw|invwildmenu|invwinfixheight|invwinfixwidth|invwiv|invwmnu|invwrap|invwrapscan|invwrite|invwriteany|invwritebackup|invws|isf|isfname|isi|isident|isk|iskeyword|isprint|joinspaces|js|key|keymap|keymodel|keywordprg|km|kmp|kp|langmap|langmenu|laststatus|lazyredraw|lbr|lcs|linebreak|lines|linespace|lisp|lispwords|listchars|loadplugins|lpl|lsp|lz|macatsui|magic|makeef|makeprg|matchpairs|matchtime|maxcombine|maxfuncdepth|maxmapdepth|maxmem|maxmempattern|maxmemtot|mco|mef|menuitems|mfd|mh|mis|mkspellmem|ml|mls|mm|mmd|mmp|mmt|modeline|modelines|modifiable|modified|more|mouse|mousef|mousefocus|mousehide|mousem|mousemodel|mouses|mouseshape|mouset|mousetime|mp|mps|msm|mzq|mzquantum|nf|noacd|noai|noakm|noallowrevins|noaltkeymap|noanti|noantialias|noar|noarab|noarabic|noarabicshape|noari|noarshape|noautochdir|noautoindent|noautoread|noautowrite|noautowriteall|noaw|noawa|nobackup|noballooneval|nobeval|nobin|nobinary|nobiosk|nobioskey|nobk|nobl|nobomb|nobuflisted|nocf|noci|nocin|nocindent|nocompatible|noconfirm|noconsk|noconskey|nocopyindent|nocp|nocscopetag|nocscopeverbose|nocst|nocsverb|nocuc|nocul|nocursorcolumn|nocursorline|nodeco|nodelcombine|nodg|nodiff|nodigraph|nodisable|noea|noeb|noed|noedcompatible|noek|noendofline|noeol|noequalalways|noerrorbells|noesckeys|noet|noex|noexpandtab|noexrc|nofen|nofk|nofkmap|nofoldenable|nogd|nogdefault|noguipty|nohid|nohidden|nohk|nohkmap|nohkmapp|nohkp|nohls|noic|noicon|noignorecase|noim|noimc|noimcmdline|noimd|noincsearch|noinf|noinfercase|noinsertmode|nois|nojoinspaces|nojs|nolazyredraw|nolbr|nolinebreak|nolisp|nolist|noloadplugins|nolpl|nolz|noma|nomacatsui|nomagic|nomh|noml|nomod|nomodeline|nomodifiable|nomodified|nomore|nomousef|nomousefocus|nomousehide|nonu|nonumber|noodev|noopendevice|nopaste|nopi|nopreserveindent|nopreviewwindow|noprompt|nopvw|noreadonly|noremap|norestorescreen|norevins|nori|norightleft|norightleftcmd|norl|norlc|noro|nors|noru|noruler|nosb|nosc|noscb|noscrollbind|noscs|nosecure|nosft|noshellslash|noshelltemp|noshiftround|noshortname|noshowcmd|noshowfulltag|noshowmatch|noshowmode|nosi|nosm|nosmartcase|nosmartindent|nosmarttab|nosmd|nosn|nosol|nospell|nosplitbelow|nosplitright|nospr|nosr|nossl|nosta|nostartofline|nostmp|noswapfile|noswf|nota|notagbsearch|notagrelative|notagstack|notbi|notbidi|notbs|notermbidi|noterse|notextauto|notextmode|notf|notgst|notildeop|notimeout|notitle|noto|notop|notr|nottimeout|nottybuiltin|nottyfast|notx|novb|novisualbell|nowa|nowarn|nowb|noweirdinvert|nowfh|nowfw|nowildmenu|nowinfixheight|nowinfixwidth|nowiv|nowmnu|nowrap|nowrapscan|nowrite|nowriteany|nowritebackup|nows|nrformats|numberwidth|nuw|odev|oft|ofu|omnifunc|opendevice|operatorfunc|opfunc|osfiletype|pa|para|paragraphs|paste|pastetoggle|patchexpr|patchmode|path|pdev|penc|pex|pexpr|pfn|ph|pheader|pi|pm|pmbcs|pmbfn|popt|preserveindent|previewheight|previewwindow|printdevice|printencoding|printexpr|printfont|printheader|printmbcharset|printmbfont|printoptions|prompt|pt|pumheight|pvh|pvw|qe|quoteescape|readonly|remap|report|restorescreen|revins|rightleft|rightleftcmd|rl|rlc|ro|rs|rtp|ruf|ruler|rulerformat|runtimepath|sbo|sc|scb|scr|scroll|scrollbind|scrolljump|scrolloff|scrollopt|scs|sect|sections|secure|sel|selection|selectmode|sessionoptions|sft|shcf|shellcmdflag|shellpipe|shellquote|shellredir|shellslash|shelltemp|shelltype|shellxquote|shiftround|shiftwidth|shm|shortmess|shortname|showbreak|showcmd|showfulltag|showmatch|showmode|showtabline|shq|si|sidescroll|sidescrolloff|siso|sj|slm|smartcase|smartindent|smarttab|smc|smd|softtabstop|sol|spc|spell|spellcapcheck|spellfile|spelllang|spellsuggest|spf|spl|splitbelow|splitright|sps|sr|srr|ss|ssl|ssop|stal|startofline|statusline|stl|stmp|su|sua|suffixes|suffixesadd|sw|swapfile|swapsync|swb|swf|switchbuf|sws|sxq|syn|synmaxcol|syntax|t_AB|t_AF|t_AL|t_CS|t_CV|t_Ce|t_Co|t_Cs|t_DL|t_EI|t_F1|t_F2|t_F3|t_F4|t_F5|t_F6|t_F7|t_F8|t_F9|t_IE|t_IS|t_K1|t_K3|t_K4|t_K5|t_K6|t_K7|t_K8|t_K9|t_KA|t_KB|t_KC|t_KD|t_KE|t_KF|t_KG|t_KH|t_KI|t_KJ|t_KK|t_KL|t_RI|t_RV|t_SI|t_Sb|t_Sf|t_WP|t_WS|t_ZH|t_ZR|t_al|t_bc|t_cd|t_ce|t_cl|t_cm|t_cs|t_da|t_db|t_dl|t_fs|t_k1|t_k2|t_k3|t_k4|t_k5|t_k6|t_k7|t_k8|t_k9|t_kB|t_kD|t_kI|t_kN|t_kP|t_kb|t_kd|t_ke|t_kh|t_kl|t_kr|t_ks|t_ku|t_le|t_mb|t_md|t_me|t_mr|t_ms|t_nd|t_op|t_se|t_so|t_sr|t_te|t_ti|t_ts|t_ue|t_us|t_ut|t_vb|t_ve|t_vi|t_vs|t_xs|tabline|tabpagemax|tabstop|tagbsearch|taglength|tagrelative|tagstack|tal|tb|tbi|tbidi|tbis|tbs|tenc|term|termbidi|termencoding|terse|textauto|textmode|textwidth|tgst|thesaurus|tildeop|timeout|timeoutlen|title|titlelen|titleold|titlestring|toolbar|toolbariconsize|top|tpm|tsl|tsr|ttimeout|ttimeoutlen|ttm|tty|ttybuiltin|ttyfast|ttym|ttymouse|ttyscroll|ttytype|tw|tx|uc|ul|undolevels|updatecount|updatetime|ut|vb|vbs|vdir|verbosefile|vfile|viewdir|viewoptions|viminfo|virtualedit|visualbell|vop|wak|warn|wb|wc|wcm|wd|weirdinvert|wfh|wfw|whichwrap|wi|wig|wildchar|wildcharm|wildignore|wildmenu|wildmode|wildoptions|wim|winaltkeys|window|winfixheight|winfixwidth|winheight|winminheight|winminwidth|winwidth|wiv|wiw|wm|wmh|wmnu|wmw|wop|wrap|wrapmargin|wrapscan|writeany|writebackup|writedelay|ww)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?)\b/i,operator:/\|\||&&|[-+.]=?|[=!](?:[=~][#?]?)?|[<>]=?[#?]?|[*\/%?]|\b(?:is(?:not)?)\b/,punctuation:/[{}[\](),;:]/}}return uk}var dk,LG;function lPe(){if(LG)return dk;LG=1,dk=e,e.displayName="visualBasic",e.aliases=[];function e(t){t.languages["visual-basic"]={comment:{pattern:/(?:['‘’]|REM\b)(?:[^\r\n_]|_(?:\r\n?|\n)?)*/i,inside:{keyword:/^REM/i}},directive:{pattern:/#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:\b_[ \t]*(?:\r\n?|\n)|.)+/i,alias:"property",greedy:!0},string:{pattern:/\$?["“”](?:["“”]{2}|[^"“”])*["“”]C?/i,greedy:!0},date:{pattern:/#[ \t]*(?:\d+([/-])\d+\1\d+(?:[ \t]+(?:\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?))?|\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?)[ \t]*#/i,alias:"number"},number:/(?:(?:\b\d+(?:\.\d+)?|\.\d+)(?:E[+-]?\d+)?|&[HO][\dA-F]+)(?:[FRD]|U?[ILS])?/i,boolean:/\b(?:False|Nothing|True)\b/i,keyword:/\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Until|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Xor)\b/i,operator:/[+\-*/\\^<=>&#@$%!]|\b_(?=[ \t]*[\r\n])/,punctuation:/[{}().,:?]/},t.languages.vb=t.languages["visual-basic"],t.languages.vba=t.languages["visual-basic"]}return dk}var pk,PG;function cPe(){if(PG)return pk;PG=1,pk=e,e.displayName="warpscript",e.aliases=[];function e(t){t.languages.warpscript={comment:/#.*|\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'|<'(?:[^\\']|'(?!>)|\\.)*'>/,greedy:!0},variable:/\$\S+/,macro:{pattern:/@\S+/,alias:"property"},keyword:/\b(?:BREAK|CHECKMACRO|CONTINUE|CUDF|DEFINED|DEFINEDMACRO|EVAL|FAIL|FOR|FOREACH|FORSTEP|IFT|IFTE|MSGFAIL|NRETURN|RETHROW|RETURN|SWITCH|TRY|UDF|UNTIL|WHILE)\b/,number:/[+-]?\b(?:NaN|Infinity|\d+(?:\.\d*)?(?:[Ee][+-]?\d+)?|0x[\da-fA-F]+|0b[01]+)\b/,boolean:/\b(?:F|T|false|true)\b/,punctuation:/<%|%>|[{}[\]()]/,operator:/==|&&?|\|\|?|\*\*?|>>>?|<<|[<>!~]=?|[-/%^]|\+!?|\b(?:AND|NOT|OR)\b/}}return pk}var mk,DG;function uPe(){if(DG)return mk;DG=1,mk=e,e.displayName="wasm",e.aliases=[];function e(t){t.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^`|~]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/}}return mk}var fk,jG;function dPe(){if(jG)return fk;jG=1,fk=e,e.displayName="webIdl",e.aliases=[];function e(t){(function(n){var r=/(?:\B-|\b_|\b)[A-Za-z][\w-]*(?![\w-])/.source,i="(?:"+/\b(?:unsigned\s+)?long\s+long(?![\w-])/.source+"|"+/\b(?:unrestricted|unsigned)\s+[a-z]+(?![\w-])/.source+"|"+/(?!(?:unrestricted|unsigned)\b)/.source+r+/(?:\s*<(?:[^<>]|<[^<>]*>)*>)?/.source+")"+/(?:\s*\?)?/.source,d={};n.languages["web-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"[^"]*"/,greedy:!0},namespace:{pattern:RegExp(/(\bnamespace\s+)/.source+r),lookbehind:!0},"class-name":[{pattern:/(^|[^\w-])(?:iterable|maplike|setlike)\s*<(?:[^<>]|<[^<>]*>)*>/,lookbehind:!0,inside:d},{pattern:RegExp(/(\b(?:attribute|const|deleter|getter|optional|setter)\s+)/.source+i),lookbehind:!0,inside:d},{pattern:RegExp("("+/\bcallback\s+/.source+r+/\s*=\s*/.source+")"+i),lookbehind:!0,inside:d},{pattern:RegExp(/(\btypedef\b\s*)/.source+i),lookbehind:!0,inside:d},{pattern:RegExp(/(\b(?:callback|dictionary|enum|interface(?:\s+mixin)?)\s+)(?!(?:interface|mixin)\b)/.source+r),lookbehind:!0},{pattern:RegExp(/(:\s*)/.source+r),lookbehind:!0},RegExp(r+/(?=\s+(?:implements|includes)\b)/.source),{pattern:RegExp(/(\b(?:implements|includes)\s+)/.source+r),lookbehind:!0},{pattern:RegExp(i+"(?="+/\s*(?:\.{3}\s*)?/.source+r+/\s*[(),;=]/.source+")"),inside:d}],builtin:/\b(?:ArrayBuffer|BigInt64Array|BigUint64Array|ByteString|DOMString|DataView|Float32Array|Float64Array|FrozenArray|Int16Array|Int32Array|Int8Array|ObservableArray|Promise|USVString|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray)\b/,keyword:[/\b(?:async|attribute|callback|const|constructor|deleter|dictionary|enum|getter|implements|includes|inherit|interface|mixin|namespace|null|optional|or|partial|readonly|required|setter|static|stringifier|typedef|unrestricted)\b/,/\b(?:any|bigint|boolean|byte|double|float|iterable|long|maplike|object|octet|record|sequence|setlike|short|symbol|undefined|unsigned|void)\b/],boolean:/\b(?:false|true)\b/,number:{pattern:/(^|[^\w-])-?(?:0x[0-9a-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|NaN|Infinity)(?![\w-])/i,lookbehind:!0},operator:/\.{3}|[=:?<>-]/,punctuation:/[(){}[\].,;]/};for(var g in n.languages["web-idl"])g!=="class-name"&&(d[g]=n.languages["web-idl"][g]);n.languages.webidl=n.languages["web-idl"]})(t)}return fk}var gk,VG;function pPe(){if(VG)return gk;VG=1,gk=e,e.displayName="wiki",e.aliases=[];function e(t){t.languages.wiki=t.languages.extend("markup",{"block-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,alias:"comment"},heading:{pattern:/^(=+)[^=\r\n].*?\1/m,inside:{punctuation:/^=+|=+$/,important:/.+/}},emphasis:{pattern:/('{2,5}).+?\1/,inside:{"bold-italic":{pattern:/(''''').+?(?=\1)/,lookbehind:!0,alias:["bold","italic"]},bold:{pattern:/(''')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},italic:{pattern:/('')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},punctuation:/^''+|''+$/}},hr:{pattern:/^-{4,}/m,alias:"punctuation"},url:[/ISBN +(?:97[89][ -]?)?(?:\d[ -]?){9}[\dx]\b|(?:PMID|RFC) +\d+/i,/\[\[.+?\]\]|\[.+?\]/],variable:[/__[A-Z]+__/,/\{{3}.+?\}{3}/,/\{\{.+?\}\}/],symbol:[/^#redirect/im,/~{3,5}/],"table-tag":{pattern:/((?:^|[|!])[|!])[^|\r\n]+\|(?!\|)/m,lookbehind:!0,inside:{"table-bar":{pattern:/\|$/,alias:"punctuation"},rest:t.languages.markup.tag.inside}},punctuation:/^(?:\{\||\|\}|\|-|[*#:;!|])|\|\||!!/m}),t.languages.insertBefore("wiki","tag",{nowiki:{pattern:/<(nowiki|pre|source)\b[^>]*>[\s\S]*?<\/\1>/i,inside:{tag:{pattern:/<(?:nowiki|pre|source)\b[^>]*>|<\/(?:nowiki|pre|source)>/i,inside:t.languages.markup.tag.inside}}}})}return gk}var hk,$G;function mPe(){if($G)return hk;$G=1,hk=e,e.displayName="wolfram",e.aliases=["mathematica","wl","nb"];function e(t){t.languages.wolfram={comment:/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:Abs|AbsArg|Accuracy|Block|Do|For|Function|If|Manipulate|Module|Nest|NestList|None|Return|Switch|Table|Which|While)\b/,context:{pattern:/\b\w+`+\w*/,alias:"class-name"},blank:{pattern:/\b\w+_\b/,alias:"regex"},"global-variable":{pattern:/\$\w+/,alias:"variable"},boolean:/\b(?:False|True)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/\/\.|;|=\.|\^=|\^:=|:=|<<|>>|<\||\|>|:>|\|->|->|<-|@@@|@@|@|\/@|=!=|===|==|=|\+|-|\^|\[\/-+%=\]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},t.languages.mathematica=t.languages.wolfram,t.languages.wl=t.languages.wolfram,t.languages.nb=t.languages.wolfram}return hk}var vk,UG;function fPe(){if(UG)return vk;UG=1,vk=e,e.displayName="wren",e.aliases=[];function e(t){t.languages.wren={comment:[{pattern:/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*))*\*\/)*\*\/)*\*\//,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"string-literal":null,hashbang:{pattern:/^#!\/.+/,greedy:!0,alias:"comment"},attribute:{pattern:/#!?[ \t\u3000]*\w+/,alias:"keyword"},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},/\b[A-Z][a-z\d_]*\b/],constant:/\b[A-Z][A-Z\d_]*\b/,null:{pattern:/\bnull\b/,alias:"keyword"},keyword:/\b(?:as|break|class|construct|continue|else|for|foreign|if|import|in|is|return|static|super|this|var|while)\b/,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,function:/\b[a-z_]\w*(?=\s*[({])/i,operator:/<<|>>|[=!<>]=?|&&|\|\||[-+*/%~^&|?:]|\.{2,3}/,punctuation:/[\[\](){}.,;]/},t.languages.wren["string-literal"]={pattern:/(^|[^\\"])"(?:[^\\"%]|\\[\s\S]|%(?!\()|%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\))*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\)/,lookbehind:!0,inside:{expression:{pattern:/^(%\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:t.languages.wren},"interpolation-punctuation":{pattern:/^%\(|\)$/,alias:"punctuation"}}},string:/[\s\S]+/}}}return vk}var yk,BG;function gPe(){if(BG)return yk;BG=1,yk=e,e.displayName="xeora",e.aliases=["xeoracube"];function e(t){(function(n){n.languages.xeora=n.languages.extend("markup",{constant:{pattern:/\$(?:DomainContents|PageRenderDuration)\$/,inside:{punctuation:{pattern:/\$/}}},variable:{pattern:/\$@?(?:#+|[-+*~=^])?[\w.]+\$/,inside:{punctuation:{pattern:/[$.]/},operator:{pattern:/#+|[-+*~=^@]/}}},"function-inline":{pattern:/\$F:[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\$/,inside:{variable:{pattern:/(?:[,|])@?(?:#+|[-+*~=^])?[\w.]+/,inside:{punctuation:{pattern:/[,.|]/},operator:{pattern:/#+|[-+*~=^@]/}}},punctuation:{pattern:/\$\w:|[$:?.,|]/}},alias:"function"},"function-block":{pattern:/\$XF:\{[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\}:XF\$/,inside:{punctuation:{pattern:/[$:{}?.,|]/}},alias:"function"},"directive-inline":{pattern:/\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\/\w.]+\$/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}}},alias:"function"},"directive-block-open":{pattern:/\$\w+:\{|\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\w.]+:\{(?:![A-Z]+)?/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}},attribute:{pattern:/![A-Z]+$/,inside:{punctuation:{pattern:/!/}},alias:"keyword"}},alias:"function"},"directive-block-separator":{pattern:/\}:[-\w.]+:\{/,inside:{punctuation:{pattern:/[:{}]/}},alias:"function"},"directive-block-close":{pattern:/\}:[-\w.]+\$/,inside:{punctuation:{pattern:/[:{}$]/}},alias:"function"}}),n.languages.insertBefore("inside","punctuation",{variable:n.languages.xeora["function-inline"].inside.variable},n.languages.xeora["function-block"]),n.languages.xeoracube=n.languages.xeora})(t)}return yk}var bk,FG;function hPe(){if(FG)return bk;FG=1,bk=e,e.displayName="xmlDoc",e.aliases=[];function e(t){(function(n){function r(v,S){n.languages[v]&&n.languages.insertBefore(v,"comment",{"doc-comment":S})}var i=n.languages.markup.tag,d={pattern:/\/\/\/.*/,greedy:!0,alias:"comment",inside:{tag:i}},g={pattern:/'''.*/,greedy:!0,alias:"comment",inside:{tag:i}};r("csharp",d),r("fsharp",d),r("vbnet",g)})(t)}return bk}var Sk,qG;function vPe(){if(qG)return Sk;qG=1,Sk=e,e.displayName="xojo",e.aliases=[];function e(t){t.languages.xojo={comment:{pattern:/(?:'|\/\/|Rem\b).+/i,greedy:!0},string:{pattern:/"(?:""|[^"])*"/,greedy:!0},number:[/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,/&[bchou][a-z\d]+/i],directive:{pattern:/#(?:Else|ElseIf|Endif|If|Pragma)\b/i,alias:"property"},keyword:/\b(?:AddHandler|App|Array|As(?:signs)?|Auto|Boolean|Break|By(?:Ref|Val)|Byte|Call|Case|Catch|CFStringRef|CGFloat|Class|Color|Const|Continue|CString|Currency|CurrentMethodName|Declare|Delegate|Dim|Do(?:uble|wnTo)?|Each|Else(?:If)?|End|Enumeration|Event|Exception|Exit|Extends|False|Finally|For|Function|Get|GetTypeInfo|Global|GOTO|If|Implements|In|Inherits|Int(?:8|16|32|64|eger|erface)?|Lib|Loop|Me|Module|Next|Nil|Object|Optional|OSType|ParamArray|Private|Property|Protected|PString|Ptr|Raise(?:Event)?|ReDim|RemoveHandler|Return|Select(?:or)?|Self|Set|Shared|Short|Single|Soft|Static|Step|String|Sub|Super|Text|Then|To|True|Try|Ubound|UInt(?:8|16|32|64|eger)?|Until|Using|Var(?:iant)?|Wend|While|WindowPtr|WString)\b/i,operator:/<[=>]?|>=?|[+\-*\/\\^=]|\b(?:AddressOf|And|Ctype|IsA?|Mod|New|Not|Or|WeakAddressOf|Xor)\b/i,punctuation:/[.,;:()]/}}return Sk}var Ik,zG;function yPe(){if(zG)return Ik;zG=1,Ik=e,e.displayName="xquery",e.aliases=[];function e(t){(function(n){n.languages.xquery=n.languages.extend("markup",{"xquery-comment":{pattern:/\(:[\s\S]*?:\)/,greedy:!0,alias:"comment"},string:{pattern:/(["'])(?:\1\1|(?!\1)[\s\S])*\1/,greedy:!0},extension:{pattern:/\(#.+?#\)/,alias:"symbol"},variable:/\$[-\w:]+/,axis:{pattern:/(^|[^-])(?:ancestor(?:-or-self)?|attribute|child|descendant(?:-or-self)?|following(?:-sibling)?|parent|preceding(?:-sibling)?|self)(?=::)/,lookbehind:!0,alias:"operator"},"keyword-operator":{pattern:/(^|[^:-])\b(?:and|castable as|div|eq|except|ge|gt|idiv|instance of|intersect|is|le|lt|mod|ne|or|union)\b(?=$|[^:-])/,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^:-])\b(?:as|ascending|at|base-uri|boundary-space|case|cast as|collation|construction|copy-namespaces|declare|default|descending|else|empty (?:greatest|least)|encoding|every|external|for|function|if|import|in|inherit|lax|let|map|module|namespace|no-inherit|no-preserve|option|order(?: by|ed|ing)?|preserve|return|satisfies|schema|some|stable|strict|strip|then|to|treat as|typeswitch|unordered|validate|variable|version|where|xquery)\b(?=$|[^:-])/,lookbehind:!0},function:/[\w-]+(?::[\w-]+)*(?=\s*\()/,"xquery-element":{pattern:/(element\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"tag"},"xquery-attribute":{pattern:/(attribute\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"attr-name"},builtin:{pattern:/(^|[^:-])\b(?:attribute|comment|document|element|processing-instruction|text|xs:(?:ENTITIES|ENTITY|ID|IDREFS?|NCName|NMTOKENS?|NOTATION|Name|QName|anyAtomicType|anyType|anyURI|base64Binary|boolean|byte|date|dateTime|dayTimeDuration|decimal|double|duration|float|gDay|gMonth|gMonthDay|gYear|gYearMonth|hexBinary|int|integer|language|long|negativeInteger|nonNegativeInteger|nonPositiveInteger|normalizedString|positiveInteger|short|string|time|token|unsigned(?:Byte|Int|Long|Short)|untyped(?:Atomic)?|yearMonthDuration))\b(?=$|[^:-])/,lookbehind:!0},number:/\b\d+(?:\.\d+)?(?:E[+-]?\d+)?/,operator:[/[+*=?|@]|\.\.?|:=|!=|<[=<]?|>[=>]?/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}],punctuation:/[[\](){},;:/]/}),n.languages.xquery.tag.pattern=/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,n.languages.xquery.tag.inside["attr-value"].pattern=/=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+)/,n.languages.xquery.tag.inside["attr-value"].inside.punctuation=/^="|"$/,n.languages.xquery.tag.inside["attr-value"].inside.expression={pattern:/\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}/,inside:n.languages.xquery,alias:"language-xquery"};var r=function(d){return typeof d=="string"?d:typeof d.content=="string"?d.content:d.content.map(r).join("")},i=function(d){for(var g=[],v=0;v<d.length;v++){var S=d[v],I=!1;if(typeof S!="string"&&(S.type==="tag"&&S.content[0]&&S.content[0].type==="tag"?S.content[0].content[0].content==="</"?g.length>0&&g[g.length-1].tagName===r(S.content[0].content[1])&&g.pop():S.content[S.content.length-1].content==="/>"||g.push({tagName:r(S.content[0].content[1]),openedBraces:0}):g.length>0&&S.type==="punctuation"&&S.content==="{"&&(!d[v+1]||d[v+1].type!=="punctuation"||d[v+1].content!=="{")&&(!d[v-1]||d[v-1].type!=="plain-text"||d[v-1].content!=="{")?g[g.length-1].openedBraces++:g.length>0&&g[g.length-1].openedBraces>0&&S.type==="punctuation"&&S.content==="}"?g[g.length-1].openedBraces--:S.type!=="comment"&&(I=!0)),(I||typeof S=="string")&&g.length>0&&g[g.length-1].openedBraces===0){var T=r(S);v<d.length-1&&(typeof d[v+1]=="string"||d[v+1].type==="plain-text")&&(T+=r(d[v+1]),d.splice(v+1,1)),v>0&&(typeof d[v-1]=="string"||d[v-1].type==="plain-text")&&(T=r(d[v-1])+T,d.splice(v-1,1),v--),/^\s+$/.test(T)?d[v]=T:d[v]=new n.Token("plain-text",T,null,T)}S.content&&typeof S.content!="string"&&i(S.content)}};n.hooks.add("after-tokenize",function(d){d.language==="xquery"&&i(d.tokens)})})(t)}return Ik}var Ek,HG;function bPe(){if(HG)return Ek;HG=1,Ek=e,e.displayName="yang",e.aliases=[];function e(t){t.languages.yang={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"(?:[^\\"]|\\.)*"|'[^']*'/,greedy:!0},keyword:{pattern:/(^|[{};\r\n][ \t]*)[a-z_][\w.-]*/i,lookbehind:!0},namespace:{pattern:/(\s)[a-z_][\w.-]*(?=:)/i,lookbehind:!0},boolean:/\b(?:false|true)\b/,operator:/\+/,punctuation:/[{};:]/}}return Ek}var Ck,GG;function SPe(){if(GG)return Ck;GG=1,Ck=e,e.displayName="zig",e.aliases=[];function e(t){(function(n){function r(T){return function(){return T}}var i=/\b(?:align|allowzero|and|anyframe|anytype|asm|async|await|break|cancel|catch|comptime|const|continue|defer|else|enum|errdefer|error|export|extern|fn|for|if|inline|linksection|nakedcc|noalias|nosuspend|null|or|orelse|packed|promise|pub|resume|return|stdcallcc|struct|suspend|switch|test|threadlocal|try|undefined|union|unreachable|usingnamespace|var|volatile|while)\b/,d="\\b(?!"+i.source+")(?!\\d)\\w+\\b",g=/align\s*\((?:[^()]|\([^()]*\))*\)/.source,v=/(?:\?|\bpromise->|(?:\[[^[\]]*\]|\*(?!\*)|\*\*)(?:\s*<ALIGN>|\s*const\b|\s*volatile\b|\s*allowzero\b)*)/.source.replace(/<ALIGN>/g,r(g)),S=/(?:\bpromise\b|(?:\berror\.)?<ID>(?:\.<ID>)*(?!\s+<ID>))/.source.replace(/<ID>/g,r(d)),I="(?!\\s)(?:!?\\s*(?:"+v+"\\s*)*"+S+")+";n.languages.zig={comment:[{pattern:/\/\/[/!].*/,alias:"doc-comment"},/\/{2}.*/],string:[{pattern:/(^|[^\\@])c?"(?:[^"\\\r\n]|\\.)*"/,lookbehind:!0,greedy:!0},{pattern:/([\r\n])([ \t]+c?\\{2}).*(?:(?:\r\n?|\n)\2.*)*/,lookbehind:!0,greedy:!0}],char:{pattern:/(^|[^\\])'(?:[^'\\\r\n]|[\uD800-\uDFFF]{2}|\\(?:.|x[a-fA-F\d]{2}|u\{[a-fA-F\d]{1,6}\}))'/,lookbehind:!0,greedy:!0},builtin:/\B@(?!\d)\w+(?=\s*\()/,label:{pattern:/(\b(?:break|continue)\s*:\s*)\w+\b|\b(?!\d)\w+\b(?=\s*:\s*(?:\{|while\b))/,lookbehind:!0},"class-name":[/\b(?!\d)\w+(?=\s*=\s*(?:(?:extern|packed)\s+)?(?:enum|struct|union)\s*[({])/,{pattern:RegExp(/(:\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?[=;,)])|<TYPE>(?=\s*(?:<ALIGN>\s*)?\{)/.source.replace(/<TYPE>/g,r(I)).replace(/<ALIGN>/g,r(g))),lookbehind:!0,inside:null},{pattern:RegExp(/(\)\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?;)/.source.replace(/<TYPE>/g,r(I)).replace(/<ALIGN>/g,r(g))),lookbehind:!0,inside:null}],"builtin-type":{pattern:/\b(?:anyerror|bool|c_u?(?:int|long|longlong|short)|c_longdouble|c_void|comptime_(?:float|int)|f(?:16|32|64|128)|[iu](?:8|16|32|64|128|size)|noreturn|type|void)\b/,alias:"keyword"},keyword:i,function:/\b(?!\d)\w+(?=\s*\()/,number:/\b(?:0b[01]+|0o[0-7]+|0x[a-fA-F\d]+(?:\.[a-fA-F\d]*)?(?:[pP][+-]?[a-fA-F\d]+)?|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)\b/,boolean:/\b(?:false|true)\b/,operator:/\.[*?]|\.{2,3}|[-=]>|\*\*|\+\+|\|\||(?:<<|>>|[-+*]%|[-+*/%^&|<>!=])=?|[?~]/,punctuation:/[.:,;(){}[\]]/},n.languages.zig["class-name"].forEach(function(T){T.inside===null&&(T.inside=n.languages.zig)})})(t)}return Ck}var Tk,KG;function IPe(){if(KG)return Tk;KG=1;var e=V2e();return Tk=e,e.register($2e()),e.register(U2e()),e.register(B2e()),e.register(F2e()),e.register(q2e()),e.register(z2e()),e.register(H2e()),e.register(G2e()),e.register(K2e()),e.register(W2e()),e.register(Y2e()),e.register(X2e()),e.register(J2e()),e.register(Q2e()),e.register(Z2e()),e.register(eAe()),e.register(tAe()),e.register(nAe()),e.register(rAe()),e.register(aAe()),e.register(iAe()),e.register(oAe()),e.register($J()),e.register(UJ()),e.register(sAe()),e.register(lAe()),e.register(cAe()),e.register(uAe()),e.register(dAe()),e.register(pAe()),e.register(mAe()),e.register(fAe()),e.register(gAe()),e.register(hAe()),e.register(Eg()),e.register(vAe()),e.register(yAe()),e.register(bAe()),e.register(SAe()),e.register(IAe()),e.register(EAe()),e.register(CAe()),e.register(TAe()),e.register(MAe()),e.register(kj()),e.register(_Ae()),e.register(q_()),e.register(xAe()),e.register(wAe()),e.register(NAe()),e.register(RAe()),e.register(AAe()),e.register(OAe()),e.register(kAe()),e.register(LAe()),e.register(PAe()),e.register(DAe()),e.register(jAe()),e.register(VAe()),e.register($Ae()),e.register(UAe()),e.register(BAe()),e.register(FAe()),e.register(qAe()),e.register(zAe()),e.register(HAe()),e.register(GAe()),e.register(KAe()),e.register(WAe()),e.register(YAe()),e.register(XAe()),e.register(JAe()),e.register(QAe()),e.register(ZAe()),e.register(eOe()),e.register(tOe()),e.register(nOe()),e.register(rOe()),e.register(aOe()),e.register(iOe()),e.register(oOe()),e.register(sOe()),e.register(lOe()),e.register(cOe()),e.register(uOe()),e.register(dOe()),e.register(pOe()),e.register(mOe()),e.register(fOe()),e.register(gOe()),e.register(hOe()),e.register(vOe()),e.register(yOe()),e.register(bOe()),e.register(Lj()),e.register(SOe()),e.register(IOe()),e.register(EOe()),e.register(COe()),e.register(TOe()),e.register(MOe()),e.register(_Oe()),e.register(xOe()),e.register(wOe()),e.register(NOe()),e.register(ROe()),e.register(AOe()),e.register(OOe()),e.register(kOe()),e.register(LOe()),e.register(POe()),e.register(DOe()),e.register(Pj()),e.register(jOe()),e.register(H_()),e.register(VOe()),e.register($Oe()),e.register(UOe()),e.register(BOe()),e.register(FOe()),e.register(qOe()),e.register(zOe()),e.register(jj()),e.register(HOe()),e.register(GOe()),e.register(KOe()),e.register(FJ()),e.register(WOe()),e.register(YOe()),e.register(XOe()),e.register(JOe()),e.register(QOe()),e.register(ZOe()),e.register(eke()),e.register(tke()),e.register(nke()),e.register(rke()),e.register(ake()),e.register(ike()),e.register(oke()),e.register(ske()),e.register(lke()),e.register(cke()),e.register(BJ()),e.register(uke()),e.register(dke()),e.register(pke()),e.register(Js()),e.register(mke()),e.register(fke()),e.register(gke()),e.register(hke()),e.register(vke()),e.register(yke()),e.register(bke()),e.register(Ske()),e.register(Ike()),e.register(Eke()),e.register(Cke()),e.register(Tke()),e.register(Mke()),e.register(_ke()),e.register(xke()),e.register(wke()),e.register(Nke()),e.register(Rke()),e.register(Ake()),e.register(Oke()),e.register(kke()),e.register(Lke()),e.register(Pke()),e.register(Dke()),e.register(jke()),e.register(Vke()),e.register($ke()),e.register(Uke()),e.register(Bke()),e.register(Fke()),e.register(qke()),e.register(zke()),e.register(G_()),e.register(Hke()),e.register(Gke()),e.register(Kke()),e.register(Wke()),e.register(Yke()),e.register(Xke()),e.register(Jke()),e.register(Qke()),e.register(Zke()),e.register(eLe()),e.register(tLe()),e.register(nLe()),e.register(rLe()),e.register(aLe()),e.register(iLe()),e.register(oLe()),e.register(sLe()),e.register(lLe()),e.register(cLe()),e.register(uLe()),e.register(dLe()),e.register(pLe()),e.register(mLe()),e.register(fLe()),e.register(gLe()),e.register(hLe()),e.register(vLe()),e.register(yLe()),e.register(bLe()),e.register(SLe()),e.register(z_()),e.register(ILe()),e.register(ELe()),e.register(CLe()),e.register(TLe()),e.register(Vj()),e.register(MLe()),e.register(_Le()),e.register(xLe()),e.register(wLe()),e.register(NLe()),e.register(RLe()),e.register(ALe()),e.register(OLe()),e.register(kLe()),e.register(LLe()),e.register(PLe()),e.register(DLe()),e.register(Oj()),e.register(jLe()),e.register(VLe()),e.register($Le()),e.register(ULe()),e.register(BLe()),e.register(FLe()),e.register($j()),e.register(qLe()),e.register(zLe()),e.register(HLe()),e.register(GLe()),e.register(KLe()),e.register(WLe()),e.register(YLe()),e.register(XLe()),e.register(qJ()),e.register(JLe()),e.register(Dj()),e.register(QLe()),e.register(ZLe()),e.register(ePe()),e.register(tPe()),e.register(nPe()),e.register(rPe()),e.register(zJ()),e.register(aPe()),e.register(iPe()),e.register(oPe()),e.register(sPe()),e.register(lPe()),e.register(cPe()),e.register(uPe()),e.register(dPe()),e.register(pPe()),e.register(mPe()),e.register(fPe()),e.register(gPe()),e.register(hPe()),e.register(vPe()),e.register(yPe()),e.register(HJ()),e.register(bPe()),e.register(SPe()),Tk}var EPe=IPe();const CPe=by(EPe);var GJ=u1e(CPe,VJ);GJ.supportedLanguages=d1e;const TPe="_sceneModule_sbkss_1",MPe="_header_sbkss_10",_Pe="_description_sbkss_13",xPe="_demoArea_sbkss_19",wPe="_actionArea_sbkss_22",NPe="_codeArea_sbkss_30",RPe="_codeTabs_sbkss_33",APe="_codeBlock_sbkss_44",OPe="_copyButton_sbkss_47",kPe="_syntaxHighlighter_sbkss_69",LPe="_collapseButtonArea_sbkss_76",PPe="_collapseButton_sbkss_76",Fl={sceneModule:TPe,header:MPe,description:_Pe,demoArea:xPe,actionArea:wPe,codeArea:NPe,codeTabs:RPe,codeBlock:APe,copyButton:OPe,syntaxHighlighter:kPe,collapseButtonArea:LPe,collapseButton:PPe},GI=({title:e,description:t,children:n,tsCode:r,cssCode:i,defaultCodeVisible:d=!1})=>{const[g,v]=E.useState(d),[S,I]=E.useState("ts"),T=async(w,O)=>{try{await navigator.clipboard.writeText(w),ie.success(`${O}代码已复制到剪贴板`)}catch{ie.error("复制失败，请手动复制")}},_=()=>{v(!g)},N=(w,O,R)=>s.jsxs("div",{className:Fl.codeBlock,children:[s.jsx("div",{className:Fl.copyButton,children:s.jsx(Gl,{title:`复制${R}代码`,children:s.jsx(zNe,{onClick:()=>T(w,R)})})}),s.jsx(GJ,{language:O,style:{...VJ},customStyle:{backgroundColor:"transparent",background:"none",margin:0,padding:"16px 24px"},className:Fl.syntaxHighlighter,showLineNumbers:!1,children:w})]}),A=[{key:"ts",label:"TypeScript",children:N(r,"tsx","TypeScript")}];return i&&A.push({key:"css",label:"CSS",children:N(i,"less","CSS")}),s.jsxs(_t,{className:Fl.sceneModule,children:[s.jsx("div",{className:Fl.demoArea,children:n}),s.jsxs("div",{className:Fl.header,children:[s.jsx(aSe,{orientation:"start",size:"small",children:e}),t&&s.jsx("p",{className:Fl.description,children:t})]}),s.jsx("div",{className:Fl.actionArea,children:s.jsx(Gl,{title:g?"收起代码":"显示代码",children:g?s.jsx(GNe,{onClick:_}):s.jsx(FNe,{onClick:_})})}),g&&s.jsxs("div",{className:Fl.codeArea,children:[s.jsx(JD,{activeKey:S,onChange:I,items:A,size:"small",className:Fl.codeTabs,centered:!0}),s.jsx("div",{className:Fl.collapseButtonArea,children:s.jsx(Ze,{type:"text",size:"small",icon:s.jsx(WNe,{}),onClick:_,className:Fl.collapseButton,children:"收起代码"})})]})]})};var PI={exports:{}},DPe=PI.exports,WG;function jPe(){return WG||(WG=1,function(e,t){(function(n,r){r(t)})(DPe,function(n){var r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof wd<"u"?wd:typeof self<"u"?self:{};function i(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}function d(p){var y={exports:{}};return p(y,y.exports),y.exports}var g,v,S=function(p){return p&&p.Math==Math&&p},I=S(typeof globalThis=="object"&&globalThis)||S(typeof window=="object"&&window)||S(typeof self=="object"&&self)||S(typeof r=="object"&&r)||function(){return this}()||Function("return this")(),T=function(p){try{return!!p()}catch{return!0}},_=!T(function(){var p=(function(){}).bind();return typeof p!="function"||p.hasOwnProperty("prototype")}),N=Function.prototype,A=N.apply,w=N.call,O=typeof Reflect=="object"&&Reflect.apply||(_?w.bind(A):function(){return w.apply(A,arguments)}),R=Function.prototype,D=R.bind,j=R.call,L=_&&D.bind(j,j),U=_?function(p){return p&&L(p)}:function(p){return p&&function(){return j.apply(p,arguments)}},$=function(p){return typeof p=="function"},F=!T(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),z=Function.prototype.call,H=_?z.bind(z):function(){return z.apply(z,arguments)},V={}.propertyIsEnumerable,K=Object.getOwnPropertyDescriptor,J={f:K&&!V.call({1:2},1)?function(y){var f=K(this,y);return!!f&&f.enumerable}:V},te=function(p,y){return{enumerable:!(1&p),configurable:!(2&p),writable:!(4&p),value:y}},Z=U({}.toString),X=U("".slice),re=function(p){return X(Z(p),8,-1)},ee=Object,ae=U("".split),de=T(function(){return!ee("z").propertyIsEnumerable(0)})?function(p){return re(p)=="String"?ae(p,""):ee(p)}:ee,he=function(p){return p==null},ue=TypeError,ye=function(p){if(he(p))throw ue("Can't call method on "+p);return p},be=function(p){return de(ye(p))},oe=typeof document=="object"&&document.all,pe=oe===void 0&&oe!==void 0?function(p){return typeof p=="object"?p!==null:$(p)||p===oe}:function(p){return typeof p=="object"?p!==null:$(p)},fe={},_e=function(p){return $(p)?p:void 0},Te=function(p,y){return arguments.length<2?_e(fe[p])||_e(I[p]):fe[p]&&fe[p][y]||I[p]&&I[p][y]},Se=U({}.isPrototypeOf),De=Te("navigator","userAgent")||"",je=I.process,ke=I.Deno,Oe=je&&je.versions||ke&&ke.version,Ne=Oe&&Oe.v8;Ne&&(v=(g=Ne.split("."))[0]>0&&g[0]<4?1:+(g[0]+g[1])),!v&&De&&(!(g=De.match(/Edge\/(\d+)/))||g[1]>=74)&&(g=De.match(/Chrome\/(\d+)/))&&(v=+g[1]);var qe=v,Ke=!!Object.getOwnPropertySymbols&&!T(function(){var p=Symbol();return!String(p)||!(Object(p)instanceof Symbol)||!Symbol.sham&&qe&&qe<41}),He=Ke&&!Symbol.sham&&typeof Symbol.iterator=="symbol",nt=Object,Je=He?function(p){return typeof p=="symbol"}:function(p){var y=Te("Symbol");return $(y)&&Se(y.prototype,nt(p))},ut=String,lt=function(p){try{return ut(p)}catch{return"Object"}},et=TypeError,Ye=function(p){if($(p))return p;throw et(lt(p)+" is not a function")},pt=function(p,y){var f=p[y];return he(f)?void 0:Ye(f)},ct=TypeError,xt=Object.defineProperty,jt="__core-js_shared__",Ut=I[jt]||function(p,y){try{xt(I,p,{value:y,configurable:!0,writable:!0})}catch{I[p]=y}return y}(jt,{}),Vt=d(function(p){(p.exports=function(y,f){return Ut[y]||(Ut[y]=f!==void 0?f:{})})("versions",[]).push({version:"3.25.0",mode:"pure",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),wt=Object,Bt=function(p){return wt(ye(p))},Pt=U({}.hasOwnProperty),ot=Object.hasOwn||function(y,f){return Pt(Bt(y),f)},qt=0,vt=Math.random(),bt=U(1 .toString),yt=function(p){return"Symbol("+(p===void 0?"":p)+")_"+bt(++qt+vt,36)},gt=Vt("wks"),Jt=I.Symbol,bn=Jt&&Jt.for,Qn=He?Jt:Jt&&Jt.withoutSetter||yt,Dn=function(p){if(!ot(gt,p)||!Ke&&typeof gt[p]!="string"){var y="Symbol."+p;Ke&&ot(Jt,p)?gt[p]=Jt[p]:gt[p]=He&&bn?bn(y):Qn(y)}return gt[p]},tn=TypeError,_n=Dn("toPrimitive"),Fn=function(p,y){if(!pe(p)||Je(p))return p;var f,o=pt(p,_n);if(o){if(f=H(o,p,y),!pe(f)||Je(f))return f;throw tn("Can't convert object to primitive value")}return function(a,l){var c,u;if($(c=a.toString)&&!pe(u=H(c,a))||$(c=a.valueOf)&&!pe(u=H(c,a)))return u;throw ct("Can't convert object to primitive value")}(p)},Wt=function(p){var y=Fn(p,"string");return Je(y)?y:y+""},xn=I.document,En=pe(xn)&&pe(xn.createElement),Sn=function(p){return En?xn.createElement(p):{}},Qt=!F&&!T(function(){return Object.defineProperty(Sn("div"),"a",{get:function(){return 7}}).a!=7}),Rn=Object.getOwnPropertyDescriptor,fn={f:F?Rn:function(y,f){if(y=be(y),f=Wt(f),Qt)try{return Rn(y,f)}catch{}if(ot(y,f))return te(!H(J.f,y,f),y[f])}},Gt=/#|\.prototype\./,Xt=function(p,y){var f=Un[$n(p)];return f==Zn||f!=jn&&($(y)?T(y):!!y)},$n=Xt.normalize=function(p){return String(p).replace(Gt,".").toLowerCase()},Un=Xt.data={},jn=Xt.NATIVE="N",Zn=Xt.POLYFILL="P",An=Xt,On=U(U.bind),sn=function(p,y){return Ye(p),y===void 0?p:_?On(p,y):function(){return p.apply(y,arguments)}},tr=F&&T(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),wr=String,Ar=TypeError,nn=function(p){if(pe(p))return p;throw Ar(wr(p)+" is not an object")},jr=TypeError,Ur=Object.defineProperty,Pr=Object.getOwnPropertyDescriptor,gn="enumerable",Pn="configurable",Cn="writable",en={f:F?tr?function(y,f,o){if(nn(y),f=Wt(f),nn(o),typeof y=="function"&&f==="prototype"&&"value"in o&&Cn in o&&!o.writable){var a=Pr(y,f);a&&a.writable&&(y[f]=o.value,o={configurable:Pn in o?o.configurable:a.configurable,enumerable:gn in o?o.enumerable:a.enumerable,writable:!1})}return Ur(y,f,o)}:Ur:function(y,f,o){if(nn(y),f=Wt(f),nn(o),Qt)try{return Ur(y,f,o)}catch{}if("get"in o||"set"in o)throw jr("Accessors not supported");return"value"in o&&(y[f]=o.value),y}},kn=F?function(p,y,f){return en.f(p,y,te(1,f))}:function(p,y,f){return p[y]=f,p},Cr=fn.f,Xr=function(p){var y=function(f,o,a){if(this instanceof y){switch(arguments.length){case 0:return new p;case 1:return new p(f);case 2:return new p(f,o)}return new p(f,o,a)}return O(p,this,arguments)};return y.prototype=p.prototype,y},Lt=function(p,y){var f,o,a,l,c,u,h,C,x=p.target,k=p.global,B=p.stat,W=p.proto,Y=k?I:B?I[x]:(I[x]||{}).prototype,ne=k?fe:fe[x]||kn(fe,x,{})[x],se=ne.prototype;for(a in y)f=!An(k?a:x+(B?".":"#")+a,p.forced)&&Y&&ot(Y,a),c=ne[a],f&&(u=p.dontCallGetSet?(C=Cr(Y,a))&&C.value:Y[a]),l=f&&u?u:y[a],f&&typeof c==typeof l||(h=p.bind&&f?sn(l,I):p.wrap&&f?Xr(l):W&&$(l)?U(l):l,(p.sham||l&&l.sham||c&&c.sham)&&kn(h,"sham",!0),kn(ne,a,h),W&&(ot(fe,o=x+"Prototype")||kn(fe,o,{}),kn(fe[o],a,l),p.real&&se&&!se[a]&&kn(se,a,l)))},Yn=en.f;Lt({target:"Object",stat:!0,forced:Object.defineProperty!==Yn,sham:!F},{defineProperty:Yn});var Xn,vr=d(function(p){var y=fe.Object,f=p.exports=function(a,l,c){return y.defineProperty(a,l,c)};y.defineProperty.sham&&(f.sham=!0)}),Jr=vr,sa=i(d(function(p){function y(f,o){for(var a=0;a<o.length;a++){var l=o[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Jr(f,l.key,l)}}p.exports=function(o,a,l){return a&&y(o.prototype,a),l&&y(o,l),Jr(o,"prototype",{writable:!1}),o},p.exports.__esModule=!0,p.exports.default=p.exports})),er=i(d(function(p){p.exports=function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f},p.exports.__esModule=!0,p.exports.default=p.exports})),$i=Math.ceil,Ca=Math.floor,io=Math.trunc||function(y){var f=+y;return(f>0?Ca:$i)(f)},Ri=function(p){var y=+p;return y!=y||y===0?0:io(y)},Ii=Math.max,oo=Math.min,Vr=function(p,y){var f=Ri(p);return f<0?Ii(f+y,0):oo(f,y)},Jn=Math.min,Mn=function(p){return p>0?Jn(Ri(p),9007199254740991):0},Tr=function(p){return Mn(p.length)},Qr=function(p){return function(y,f,o){var a,l=be(y),c=Tr(l),u=Vr(o,c);if(p&&f!=f){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((p||u in l)&&l[u]===f)return p||u||0;return!p&&-1}},ua={includes:Qr(!0),indexOf:Qr(!1)},Gr={},Ei=ua.indexOf,oi=U([].push),Wa=function(p,y){var f,o=be(p),a=0,l=[];for(f in o)!ot(Gr,f)&&ot(o,f)&&oi(l,f);for(;y.length>a;)ot(o,f=y[a++])&&(~Ei(l,f)||oi(l,f));return l},si=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ua=Object.keys||function(y){return Wa(y,si)},br=F&&!tr?Object.defineProperties:function(y,f){nn(y);for(var o,a=be(f),l=Ua(f),c=l.length,u=0;c>u;)en.f(y,o=l[u++],a[o]);return y},ur={f:br},Ya=Te("document","documentElement"),Ui=Vt("keys"),Ba=function(p){return Ui[p]||(Ui[p]=yt(p))},yo=Ba("IE_PROTO"),Fa=function(){},gi=function(p){return"<script>"+p+"<\/script>"},Bi=function(p){p.write(gi("")),p.close();var y=p.parentWindow.Object;return p=null,y},so=function(){try{Xn=new ActiveXObject("htmlfile")}catch{}var p,y;so=typeof document<"u"?document.domain&&Xn?Bi(Xn):((y=Sn("iframe")).style.display="none",Ya.appendChild(y),y.src="javascript:",(p=y.contentWindow.document).open(),p.write(gi("document.F=Object")),p.close(),p.F):Bi(Xn);for(var f=si.length;f--;)delete so.prototype[si[f]];return so()};Gr[yo]=!0;var Ai=Object.create||function(y,f){var o;return y!==null?(Fa.prototype=nn(y),o=new Fa,Fa.prototype=null,o[yo]=y):o=so(),f===void 0?o:ur.f(o,f)};Lt({target:"Object",stat:!0,sham:!F},{create:Ai});var Nu=fe.Object,Li=function(y,f){return Nu.create(y,f)},Wn=String,Ir=TypeError,ga=Object.setPrototypeOf||("__proto__"in{}?function(){var p,y=!1,f={};try{(p=U(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(f,[]),y=f instanceof Array}catch{}return function(a,l){return nn(a),function(c){if(typeof c=="object"||$(c))return c;throw Ir("Can't set "+Wn(c)+" as a prototype")}(l),y?p(a,l):a.__proto__=l,a}}():void 0);Lt({target:"Object",stat:!0},{setPrototypeOf:ga});var na=fe.Object.setPrototypeOf,da=U([].slice),Rs=Function,$d=U([].concat),Ru=U([].join),Qs={},U0=function(p,y,f){if(!ot(Qs,y)){for(var o=[],a=0;a<y;a++)o[a]="a["+a+"]";Qs[y]=Rs("C,a","return new C("+Ru(o,",")+")")}return Qs[y](p,f)},bo=_?Rs.bind:function(y){var f=Ye(this),o=f.prototype,a=da(arguments,1),l=function(){var u=$d(a,da(arguments));return this instanceof l?U0(f,u.length,u):f.apply(y,u)};return pe(o)&&(l.prototype=o),l};Lt({target:"Function",proto:!0,forced:Function.bind!==bo},{bind:bo});var ka=function(p){return fe[p+"Prototype"]},Cg=ka("Function").bind,Au=Function.prototype,cn=function(p){var y=p.bind;return p===Au||Se(Au,p)&&y===Au.bind?Cg:y},xm=d(function(p){function y(f,o){var a;return p.exports=y=na?cn(a=na).call(a):function(c,u){return c.__proto__=u,c},p.exports.__esModule=!0,p.exports.default=p.exports,y(f,o)}p.exports=y,p.exports.__esModule=!0,p.exports.default=p.exports}),pr=i(d(function(p){p.exports=function(f,o){f.prototype=Li(o.prototype),f.prototype.constructor=f,xm(f,o)},p.exports.__esModule=!0,p.exports.default=p.exports}));Lt({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991});var Ud=9007199254740991,jc={f:Object.getOwnPropertySymbols},Ou=Object.assign,B0=Object.defineProperty,X_=U([].concat),F0=!Ou||T(function(){if(F&&Ou({b:1},Ou(B0({},"a",{enumerable:!0,get:function(){B0(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var p={},y={},f=Symbol(),o="abcdefghijklmnopqrst";return p[f]=7,o.split("").forEach(function(a){y[a]=a}),Ou({},p)[f]!=7||Ua(Ou({},y)).join("")!=o})?function(y,f){for(var o=Bt(y),a=arguments.length,l=1,c=jc.f,u=J.f;a>l;)for(var h,C=de(arguments[l++]),x=c?X_(Ua(C),c(C)):Ua(C),k=x.length,B=0;k>B;)h=x[B++],F&&!H(u,C,h)||(o[h]=C[h]);return o}:Ou;Lt({target:"Object",stat:!0,forced:Object.assign!==F0},{assign:F0});var ce=fe.Object.assign,J_=T(function(){Ua(1)});Lt({target:"Object",stat:!0,forced:J_},{keys:function(y){return Ua(Bt(y))}});var Tg,wm,Mg,Gn=fe.Object.keys,bl={},q0=I.WeakMap,Q_=$(q0)&&/native code/.test(String(q0)),z0="Object already initialized",Uy=I.TypeError,By=I.WeakMap;if(Q_||Ut.state){var ku=Ut.state||(Ut.state=new By),Z_=U(ku.get),H0=U(ku.has),G0=U(ku.set);Tg=function(p,y){if(H0(ku,p))throw Uy(z0);return y.facade=p,G0(ku,p,y),y},wm=function(p){return Z_(ku,p)||{}},Mg=function(p){return H0(ku,p)}}else{var Bd=Ba("state");Gr[Bd]=!0,Tg=function(p,y){if(ot(p,Bd))throw Uy(z0);return y.facade=p,kn(p,Bd,y),y},wm=function(p){return ot(p,Bd)?p[Bd]:{}},Mg=function(p){return ot(p,Bd)}}var Vc,K0,W0,As={set:Tg,get:wm,has:Mg,enforce:function(p){return Mg(p)?wm(p):Tg(p,{})},getterFor:function(p){return function(y){var f;if(!pe(y)||(f=wm(y)).type!==p)throw Uy("Incompatible receiver, "+p+" required");return f}}},Y0=Function.prototype,ex=F&&Object.getOwnPropertyDescriptor,X0=ot(Y0,"name"),J0={PROPER:X0&&(function(){}).name==="something",CONFIGURABLE:X0&&(!F||F&&ex(Y0,"name").configurable)},_g=!T(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype}),Fd=Ba("IE_PROTO"),Fy=Object,Q0=Fy.prototype,Lu=_g?Fy.getPrototypeOf:function(p){var y=Bt(p);if(ot(y,Fd))return y[Fd];var f=y.constructor;return $(f)&&y instanceof f?f.prototype:y instanceof Fy?Q0:null},Xl=function(p,y,f,o){return o&&o.enumerable?p[y]=f:kn(p,y,f),p},xg=Dn("iterator"),qy=!1;[].keys&&("next"in(W0=[].keys())?(K0=Lu(Lu(W0)))!==Object.prototype&&(Vc=K0):qy=!0);var qd=!pe(Vc)||T(function(){var p={};return Vc[xg].call(p)!==p});Vc=qd?{}:Ai(Vc),$(Vc[xg])||Xl(Vc,xg,function(){return this});var Z0={IteratorPrototype:Vc,BUGGY_SAFARI_ITERATORS:qy},eE={};eE[Dn("toStringTag")]="z";var zy=String(eE)==="[object z]",tE=Dn("toStringTag"),nE=Object,Nm=re(function(){return arguments}())=="Arguments",Os=zy?re:function(p){var y,f,o;return p===void 0?"Undefined":p===null?"Null":typeof(f=function(a,l){try{return a[l]}catch{}}(y=nE(p),tE))=="string"?f:Nm?re(y):(o=re(y))=="Object"&&$(y.callee)?"Arguments":o},tx=zy?{}.toString:function(){return"[object "+Os(this)+"]"},wg=en.f,Hy=Dn("toStringTag"),$c=function(p,y,f,o){if(p){var a=f?p:p.prototype;ot(a,Hy)||wg(a,Hy,{configurable:!0,value:y}),o&&!zy&&kn(a,"toString",tx)}},Gy=Z0.IteratorPrototype,Ky=function(){return this},rE=J0.PROPER,Rm=Z0.BUGGY_SAFARI_ITERATORS,Ng=Dn("iterator"),aE="keys",Rg="values",iE="entries",nx=function(){return this},Wy=function(p,y,f,o,a,l,c){(function(xe,we,$e,Me){var Fe=we+" Iterator";xe.prototype=Ai(Gy,{next:te(1,$e)}),$c(xe,Fe,!1,!0),bl[Fe]=Ky})(f,y,o);var u,h,C,x=function(xe){if(xe===a&&ne)return ne;if(!Rm&&xe in W)return W[xe];switch(xe){case aE:return function(){return new f(this,xe)};case Rg:return function(){return new f(this,xe)};case iE:return function(){return new f(this,xe)}}return function(){return new f(this)}},k=y+" Iterator",B=!1,W=p.prototype,Y=W[Ng]||W["@@iterator"]||a&&W[a],ne=!Rm&&Y||x(a),se=y=="Array"&&W.entries||Y;if(se&&(u=Lu(se.call(new p)))!==Object.prototype&&u.next&&($c(u,k,!0,!0),bl[k]=nx),rE&&a==Rg&&Y&&Y.name!==Rg&&(B=!0,ne=function(){return H(Y,this)}),a)if(h={values:x(Rg),keys:l?ne:x(aE),entries:x(iE)},c)for(C in h)(Rm||B||!(C in W))&&Xl(W,C,h[C]);else Lt({target:y,proto:!0,forced:Rm||B},h);return c&&W[Ng]!==ne&&Xl(W,Ng,ne,{}),bl[y]=ne,h};en.f;var zo="Array Iterator",Am=As.set,oE=As.getterFor(zo);Wy(Array,"Array",function(p,y){Am(this,{type:zo,target:be(p),index:0,kind:y})},function(){var p=oE(this),y=p.target,f=p.kind,o=p.index++;return!y||o>=y.length?(p.target=void 0,{value:void 0,done:!0}):f=="keys"?{value:o,done:!1}:f=="values"?{value:y[o],done:!1}:{value:[o,y[o]],done:!1}},"values"),bl.Arguments=bl.Array;var Yy=Dn("toStringTag");for(var Ag in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Xy=I[Ag],Om=Xy&&Xy.prototype;Om&&Os(Om)!==Yy&&kn(Om,Yy,Ag),bl[Ag]=bl.Array}var Jl=Array.isArray||function(y){return re(y)=="Array"},zd=U(Function.toString);$(Ut.inspectSource)||(Ut.inspectSource=function(p){return zd(p)});var Og=Ut.inspectSource,Hd=function(){},Jy=[],Qy=Te("Reflect","construct"),Ql=/^\s*(?:class|function)\b/,Gd=U(Ql.exec),Zy=!Ql.exec(Hd),Kd=function(y){if(!$(y))return!1;try{return Qy(Hd,Jy,y),!0}catch{return!1}},Uc=function(y){if(!$(y))return!1;switch(Os(y)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Zy||!!Gd(Ql,Og(y))}catch{return!0}};Uc.sham=!0;var km=!Qy||T(function(){var p;return Kd(Kd.call)||!Kd(Object)||!Kd(function(){p=!0})||p})?Uc:Kd,sE=Dn("species"),eb=Array,tb=function(p,y){return new(function(f){var o;return Jl(f)&&(o=f.constructor,(km(o)&&(o===eb||Jl(o.prototype))||pe(o)&&(o=o[sE])===null)&&(o=void 0)),o===void 0?eb:o}(p))(y===0?0:y)},lE=U([].push),Pu=function(p){var y=p==1,f=p==2,o=p==3,a=p==4,l=p==6,c=p==7,u=p==5||l;return function(h,C,x,k){for(var B,W,Y=Bt(h),ne=de(Y),se=sn(C,x),xe=Tr(ne),we=0,$e=k||tb,Me=y?$e(h,xe):f||c?$e(h,0):void 0;xe>we;we++)if((u||we in ne)&&(W=se(B=ne[we],we,Y),p))if(y)Me[we]=W;else if(W)switch(p){case 3:return!0;case 5:return B;case 6:return we;case 2:lE(Me,B)}else switch(p){case 4:return!1;case 7:lE(Me,B)}return l?-1:o||a?a:Me}},Sl={forEach:Pu(0),map:Pu(1),filter:Pu(2),some:Pu(3),every:Pu(4),find:Pu(5),findIndex:Pu(6)},Bc=function(p,y){var f=[][p];return!!f&&T(function(){f.call(null,y||function(){return 1},1)})},nb=Sl.forEach,ks=Bc("forEach")?[].forEach:function(y){return nb(this,y,arguments.length>1?arguments[1]:void 0)};Lt({target:"Array",proto:!0,forced:[].forEach!=ks},{forEach:ks});var cE=ka("Array").forEach,Ho=Array.prototype,Ls={DOMTokenList:!0,NodeList:!0},rt=function(p){var y=p.forEach;return p===Ho||Se(Ho,p)&&y===Ho.forEach||ot(Ls,Os(p))?cE:y},rb=Sl.findIndex,kg="findIndex",Lm=!0;kg in[]&&Array(1).findIndex(function(){Lm=!1}),Lt({target:"Array",proto:!0,forced:Lm},{findIndex:function(y){return rb(this,y,arguments.length>1?arguments[1]:void 0)}});var ab=ka("Array").findIndex,Fc=Array.prototype,Ps=function(p){var y=p.findIndex;return p===Fc||Se(Fc,p)&&y===Fc.findIndex?ab:y},Lg=TypeError,Wd=Object.getOwnPropertyDescriptor,rx=F&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(p){return p instanceof TypeError}}()?function(p,y){if(Jl(p)&&!Wd(p,"length").writable)throw Lg("Cannot set read only .length");return p.length=y}:function(p,y){return p.length=y},gs=TypeError,Pm=function(p){if(p>9007199254740991)throw gs("Maximum allowed index exceeded");return p},wo=function(p,y,f){var o=Wt(y);o in p?en.f(p,o,te(0,f)):p[o]=f},uE=TypeError,Du=function(p,y){if(!delete p[y])throw uE("Cannot delete property "+lt(y)+" of "+lt(p))},ju=Dn("species"),Vu=function(p){return qe>=51||!T(function(){var y=[];return(y.constructor={})[ju]=function(){return{foo:1}},y[p](Boolean).foo!==1})},ib=Vu("splice"),Yd=Math.max,Xd=Math.min;Lt({target:"Array",proto:!0,forced:!ib},{splice:function(y,f){var o,a,l,c,u,h,C=Bt(this),x=Tr(C),k=Vr(y,x),B=arguments.length;for(B===0?o=a=0:B===1?(o=0,a=x-k):(o=B-2,a=Xd(Yd(Ri(f),0),x-k)),Pm(x+o-a),l=tb(C,a),c=0;c<a;c++)(u=k+c)in C&&wo(l,c,C[u]);if(l.length=a,o<a){for(c=k;c<x-a;c++)h=c+o,(u=c+a)in C?C[h]=C[u]:Du(C,h);for(c=x;c>x-a+o;c--)Du(C,c-1)}else if(o>a)for(c=x-a;c>k;c--)h=c+o-1,(u=c+a-1)in C?C[h]=C[u]:Du(C,h);for(c=0;c<o;c++)C[c+k]=arguments[c+2];return rx(C,x-a+o),l}});var Pg=ka("Array").splice,Jd=Array.prototype,Qa=function(p){var y=p.splice;return p===Jd||Se(Jd,p)&&y===Jd.splice?Pg:y},Fi=Te("JSON","stringify"),Il=U(/./.exec),El=U("".charAt),Zl=U("".charCodeAt),$u=U("".replace),dE=U(1 .toString),ob=/[\uD800-\uDFFF]/g,Dg=/^[\uD800-\uDBFF]$/,So=/^[\uDC00-\uDFFF]$/,hi=!Ke||T(function(){var p=Te("Symbol")();return Fi([p])!="[null]"||Fi({a:p})!="{}"||Fi(Object(p))!="{}"}),Ta=T(function(){return Fi("\uDF06\uD834")!=='"\\udf06\\ud834"'||Fi("\uDEAD")!=='"\\udead"'}),Uu=function(p,y){var f=da(arguments),o=y;if((pe(y)||p!==void 0)&&!Je(p))return Jl(y)||(y=function(a,l){if($(o)&&(l=H(o,this,a,l)),!Je(l))return l}),f[1]=y,O(Fi,null,f)},Cl=function(p,y,f){var o=El(f,y-1),a=El(f,y+1);return Il(Dg,p)&&!Il(So,a)||Il(So,p)&&!Il(Dg,o)?"\\u"+dE(Zl(p,0),16):p};Fi&&Lt({target:"JSON",stat:!0,forced:hi||Ta},{stringify:function(y,f,o){var a=da(arguments),l=O(hi?Uu:Fi,null,a);return Ta&&typeof l=="string"?$u(l,ob,Cl):l}}),fe.JSON||(fe.JSON={stringify:JSON.stringify});var sb=function(y,f,o){return O(fe.JSON.stringify,null,arguments)},$t=sb;Lt({target:"Array",stat:!0},{isArray:Jl});var Nr=fe.Array.isArray,pE=si.concat("length","prototype"),ec={f:Object.getOwnPropertyNames||function(y){return Wa(y,pE)}},Dm=U([].concat),mE=Te("Reflect","ownKeys")||function(y){var f=ec.f(nn(y)),o=jc.f;return o?Dm(f,o(y)):f},Qd=Error,lb=U("".replace),Bu=String(Qd("zxcasd").stack),Tl=/\n\s*at [^:]*:[^\n]*/,qc=Tl.test(Bu),tc=function(p,y){if(qc&&typeof p=="string"&&!Qd.prepareStackTrace)for(;y--;)p=lb(p,Tl,"");return p},cb=function(p,y){pe(y)&&"cause"in y&&kn(p,"cause",y.cause)},ub=Dn("iterator"),jm=Array.prototype,Vm=function(p){return p!==void 0&&(bl.Array===p||jm[ub]===p)},Fu=Dn("iterator"),qi=function(p){if(!he(p))return pt(p,Fu)||pt(p,"@@iterator")||bl[Os(p)]},jg=TypeError,qu=function(p,y){var f=arguments.length<2?qi(p):y;if(Ye(f))return nn(H(f,p));throw jg(lt(p)+" is not iterable")},db=function(p,y,f){var o,a;nn(p);try{if(!(o=pt(p,"return"))){if(y==="throw")throw f;return f}o=H(o,p)}catch(l){a=!0,o=l}if(y==="throw")throw f;if(a)throw o;return nn(o),f},ax=TypeError,Vg=function(p,y){this.stopped=p,this.result=y},Pi=Vg.prototype,ra=function(p,y,f){var o,a,l,c,u,h,C,x=f&&f.that,k=!(!f||!f.AS_ENTRIES),B=!(!f||!f.IS_RECORD),W=!(!f||!f.IS_ITERATOR),Y=!(!f||!f.INTERRUPTED),ne=sn(y,x),se=function(we){return o&&db(o,"normal",we),new Vg(!0,we)},xe=function(we){return k?(nn(we),Y?ne(we[0],we[1],se):ne(we[0],we[1])):Y?ne(we,se):ne(we)};if(B)o=p.iterator;else if(W)o=p;else{if(!(a=qi(p)))throw ax(lt(p)+" is not iterable");if(Vm(a)){for(l=0,c=Tr(p);c>l;l++)if((u=xe(p[l]))&&Se(Pi,u))return u;return new Vg(!1)}o=qu(p,a)}for(h=B?p.next:o.next;!(C=H(h,o)).done;){try{u=xe(C.value)}catch(we){db(o,"throw",we)}if(typeof u=="object"&&u&&Se(Pi,u))return u}return new Vg(!1)},$m=String,zi=function(p){if(Os(p)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return $m(p)},pb=function(p,y){return p===void 0?arguments.length<2?"":y:zi(p)},Zd=!T(function(){var p=Error("a");return!("stack"in p)||(Object.defineProperty(p,"stack",te(1,7)),p.stack!==7)}),ep=Dn("toStringTag"),$g=Error,fE=[].push,Um=function(y,f){var o,a=arguments.length>2?arguments[2]:void 0,l=Se(Ug,this);ga?o=ga($g(),l?Lu(this):Ug):(o=l?this:Ai(Ug),kn(o,ep,"Error")),f!==void 0&&kn(o,"message",pb(f)),Zd&&kn(o,"stack",tc(o.stack,1)),cb(o,a);var c=[];return ra(y,fE,{that:c}),kn(o,"errors",c),o};ga?ga(Um,$g):function(p,y,f){for(var o=mE(y),a=en.f,l=fn.f,c=0;c<o.length;c++){var u=o[c];ot(p,u)||f&&ot(f,u)||a(p,u,l(y,u))}}(Um,$g,{name:!0});var Ug=Um.prototype=Ai($g.prototype,{constructor:te(1,Um),message:te(1,""),name:te(1,"AggregateError")});Lt({global:!0},{AggregateError:Um});var Zs,zc,Bm,Bg,Go=re(I.process)=="process",mb=Dn("species"),Fm=function(p){var y=Te(p),f=en.f;F&&y&&!y[mb]&&f(y,mb,{configurable:!0,get:function(){return this}})},fb=TypeError,Fg=function(p,y){if(Se(y,p))return p;throw fb("Incorrect invocation")},qg=TypeError,qm=function(p){if(km(p))return p;throw qg(lt(p)+" is not a constructor")},zm=Dn("species"),Ds=function(p,y){var f,o=nn(p).constructor;return o===void 0||he(f=nn(o)[zm])?y:qm(f)},gE=TypeError,nc=function(p,y){if(p<y)throw gE("Not enough arguments");return p},zg=/(?:ipad|iphone|ipod).*applewebkit/i.test(De),Hm=I.setImmediate,rc=I.clearImmediate,Hc=I.process,zu=I.Dispatch,gb=I.Function,Hg=I.MessageChannel,Gm=I.String,Hu=0,tp={},hE="onreadystatechange";try{Zs=I.location}catch{}var Gc=function(p){if(ot(tp,p)){var y=tp[p];delete tp[p],y()}},np=function(p){return function(){Gc(p)}},hb=function(p){Gc(p.data)},Gg=function(p){I.postMessage(Gm(p),Zs.protocol+"//"+Zs.host)};Hm&&rc||(Hm=function(y){nc(arguments.length,1);var f=$(y)?y:gb(y),o=da(arguments,1);return tp[++Hu]=function(){O(f,void 0,o)},zc(Hu),Hu},rc=function(y){delete tp[y]},Go?zc=function(p){Hc.nextTick(np(p))}:zu&&zu.now?zc=function(p){zu.now(np(p))}:Hg&&!zg?(Bg=(Bm=new Hg).port2,Bm.port1.onmessage=hb,zc=sn(Bg.postMessage,Bg)):I.addEventListener&&$(I.postMessage)&&!I.importScripts&&Zs&&Zs.protocol!=="file:"&&!T(Gg)?(zc=Gg,I.addEventListener("message",hb,!1)):zc=hE in Sn("script")?function(p){Ya.appendChild(Sn("script")).onreadystatechange=function(){Ya.removeChild(this),Gc(p)}}:function(p){setTimeout(np(p),0)});var Gu,Ko,$r,Ia,Ci,rp,Kc,Wc,Km={set:Hm},Wm=/ipad|iphone|ipod/i.test(De)&&I.Pebble!==void 0,ap=/web0s(?!.*chrome)/i.test(De),ix=fn.f,vi=Km.set,Kg=I.MutationObserver||I.WebKitMutationObserver,Wg=I.document,vb=I.process,Ym=I.Promise,vE=ix(I,"queueMicrotask"),Yg=vE&&vE.value;Yg||(Gu=function(){var p,y;for(Go&&(p=vb.domain)&&p.exit();Ko;){y=Ko.fn,Ko=Ko.next;try{y()}catch(f){throw Ko?Ia():$r=void 0,f}}$r=void 0,p&&p.enter()},zg||Go||ap||!Kg||!Wg?!Wm&&Ym&&Ym.resolve?((Kc=Ym.resolve(void 0)).constructor=Ym,Wc=sn(Kc.then,Kc),Ia=function(){Wc(Gu)}):Go?Ia=function(){vb.nextTick(Gu)}:(vi=sn(vi,I),Ia=function(){vi(Gu)}):(Ci=!0,rp=Wg.createTextNode(""),new Kg(Gu).observe(rp,{characterData:!0}),Ia=function(){rp.data=Ci=!Ci}));var Xm=Yg||function(p){var y={fn:p,next:void 0};$r&&($r.next=y),Ko||(Ko=y,Ia()),$r=y},Yc=function(p){try{return{error:!1,value:p()}}catch(y){return{error:!0,value:y}}},No=function(){this.head=null,this.tail=null};No.prototype={add:function(p){var y={item:p,next:null};this.head?this.tail.next=y:this.head=y,this.tail=y},get:function(){var p=this.head;if(p)return this.head=p.next,this.tail===p&&(this.tail=null),p.item}};var Ti,Xg,Jm=No,Yi=I.Promise,Jg=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",ac=!Jg&&!Go&&typeof window=="object"&&typeof document=="object",Qm=Yi&&Yi.prototype,yb=Dn("species"),Qg=$(I.PromiseRejectionEvent),yE=An("Promise",function(){var p=Og(Yi),y=p!==String(Yi);if(!y&&qe===66||!Qm.catch||!Qm.finally)return!0;if(!qe||qe<51||!/native code/.test(p)){var f=new Yi(function(a){a(1)}),o=function(a){a(function(){},function(){})};if((f.constructor={})[yb]=o,!(f.then(function(){})instanceof o))return!0}return!y&&(ac||Jg)&&!Qg}),Ku={CONSTRUCTOR:yE,REJECTION_EVENT:Qg},bE=TypeError,SE=function(p){var y,f;this.promise=new p(function(o,a){if(y!==void 0||f!==void 0)throw bE("Bad Promise constructor");y=o,f=a}),this.resolve=Ye(y),this.reject=Ye(f)},Ml={f:function(p){return new SE(p)}},bb=Km.set,ip="Promise",Sb=Ku.CONSTRUCTOR,ox=Ku.REJECTION_EVENT,Zg=As.getterFor(ip),IE=As.set,EE=Yi&&Yi.prototype,Wu=Yi,eh=EE,Ib=I.TypeError,th=I.document,nh=I.process,rh=Ml.f,sx=rh,CE=!!(th&&th.createEvent&&I.dispatchEvent),Yu="unhandledrejection",Zm=function(p){var y;return!(!pe(p)||!$(y=p.then))&&y},Eb=function(p,y){var f,o,a,l=y.value,c=y.state==1,u=c?p.ok:p.fail,h=p.resolve,C=p.reject,x=p.domain;try{u?(c||(y.rejection===2&&ME(y),y.rejection=1),u===!0?f=l:(x&&x.enter(),f=u(l),x&&(x.exit(),a=!0)),f===p.promise?C(Ib("Promise-chain cycle")):(o=Zm(f))?H(o,f,h,C):h(f)):C(l)}catch(k){x&&!a&&x.exit(),C(k)}},ef=function(p,y){p.notified||(p.notified=!0,Xm(function(){for(var f,o=p.reactions;f=o.get();)Eb(f,p);p.notified=!1,y&&!p.rejection&&TE(p)}))},op=function(p,y,f){var o,a;CE?((o=th.createEvent("Event")).promise=y,o.reason=f,o.initEvent(p,!1,!0),I.dispatchEvent(o)):o={promise:y,reason:f},!ox&&(a=I["on"+p])?a(o):p===Yu&&function(l,c){var u=I.console;u&&u.error&&(arguments.length==1?u.error(l):u.error(l,c))}("Unhandled promise rejection",f)},TE=function(p){H(bb,I,function(){var y,f=p.facade,o=p.value;if(Cb(p)&&(y=Yc(function(){Go?nh.emit("unhandledRejection",o,f):op(Yu,f,o)}),p.rejection=Go||Cb(p)?2:1,y.error))throw y.value})},Cb=function(p){return p.rejection!==1&&!p.parent},ME=function(p){H(bb,I,function(){var y=p.facade;Go?nh.emit("rejectionHandled",y):op("rejectionhandled",y,p.value)})},Xu=function(p,y,f){return function(o){p(y,o,f)}},Ju=function(p,y,f){p.done||(p.done=!0,f&&(p=f),p.value=y,p.state=2,ef(p,!0))},ah=function(p,y,f){if(!p.done){p.done=!0,f&&(p=f);try{if(p.facade===y)throw Ib("Promise can't be resolved itself");var o=Zm(y);o?Xm(function(){var a={done:!1};try{H(o,y,Xu(ah,a,p),Xu(Ju,a,p))}catch(l){Ju(a,l,p)}}):(p.value=y,p.state=1,ef(p,!1))}catch(a){Ju({done:!1},a,p)}}};Sb&&(eh=(Wu=function(y){Fg(this,eh),Ye(y),H(Ti,this);var f=Zg(this);try{y(Xu(ah,f),Xu(Ju,f))}catch(o){Ju(f,o)}}).prototype,(Ti=function(y){IE(this,{type:ip,done:!1,notified:!1,parent:!1,reactions:new Jm,rejection:!1,state:0,value:void 0})}).prototype=Xl(eh,"then",function(y,f){var o=Zg(this),a=rh(Ds(this,Wu));return o.parent=!0,a.ok=!$(y)||y,a.fail=$(f)&&f,a.domain=Go?nh.domain:void 0,o.state==0?o.reactions.add(a):Xm(function(){Eb(a,o)}),a.promise}),Xg=function(){var p=new Ti,y=Zg(p);this.promise=p,this.resolve=Xu(ah,y),this.reject=Xu(Ju,y)},Ml.f=rh=function(p){return p===Wu||p===void 0?new Xg(p):sx(p)}),Lt({global:!0,wrap:!0,forced:Sb},{Promise:Wu}),$c(Wu,ip,!1,!0),Fm(ip);var ih=Dn("iterator"),Tb=!1;try{var _E=0,oh={next:function(){return{done:!!_E++}},return:function(){Tb=!0}};oh[ih]=function(){return this},Array.from(oh,function(){throw 2})}catch{}var Mb=function(p,y){if(!Tb)return!1;var f=!1;try{var o={};o[ih]=function(){return{next:function(){return{done:f=!0}}}},p(o)}catch{}return f},_b=Ku.CONSTRUCTOR||!Mb(function(p){Yi.all(p).then(void 0,function(){})});Lt({target:"Promise",stat:!0,forced:_b},{all:function(y){var f=this,o=Ml.f(f),a=o.resolve,l=o.reject,c=Yc(function(){var u=Ye(f.resolve),h=[],C=0,x=1;ra(y,function(k){var B=C++,W=!1;x++,H(u,f,k).then(function(Y){W||(W=!0,h[B]=Y,--x||a(h))},l)}),--x||a(h)});return c.error&&l(c.value),o.promise}});var lx=Ku.CONSTRUCTOR;Yi&&Yi.prototype,Lt({target:"Promise",proto:!0,forced:lx,real:!0},{catch:function(p){return this.then(void 0,p)}}),Lt({target:"Promise",stat:!0,forced:_b},{race:function(y){var f=this,o=Ml.f(f),a=o.reject,l=Yc(function(){var c=Ye(f.resolve);ra(y,function(u){H(c,f,u).then(o.resolve,a)})});return l.error&&a(l.value),o.promise}}),Lt({target:"Promise",stat:!0,forced:Ku.CONSTRUCTOR},{reject:function(y){var f=Ml.f(this);return H(f.reject,void 0,y),f.promise}});var tf=function(p,y){if(nn(p),pe(y)&&y.constructor===p)return y;var f=Ml.f(p);return(0,f.resolve)(y),f.promise},xE=Ku.CONSTRUCTOR,wE=Te("Promise"),xb=!xE;Lt({target:"Promise",stat:!0,forced:!0},{resolve:function(y){return tf(xb&&this===wE?Yi:this,y)}}),Lt({target:"Promise",stat:!0},{allSettled:function(y){var f=this,o=Ml.f(f),a=o.resolve,l=o.reject,c=Yc(function(){var u=Ye(f.resolve),h=[],C=0,x=1;ra(y,function(k){var B=C++,W=!1;x++,H(u,f,k).then(function(Y){W||(W=!0,h[B]={status:"fulfilled",value:Y},--x||a(h))},function(Y){W||(W=!0,h[B]={status:"rejected",reason:Y},--x||a(h))})}),--x||a(h)});return c.error&&l(c.value),o.promise}});var wb="No one promise resolved";Lt({target:"Promise",stat:!0},{any:function(y){var f=this,o=Te("AggregateError"),a=Ml.f(f),l=a.resolve,c=a.reject,u=Yc(function(){var h=Ye(f.resolve),C=[],x=0,k=1,B=!1;ra(y,function(W){var Y=x++,ne=!1;k++,H(h,f,W).then(function(se){ne||B||(B=!0,l(se))},function(se){ne||B||(ne=!0,C[Y]=se,--k||c(new o(C,wb)))})}),--k||c(new o(C,wb))});return u.error&&c(u.value),a.promise}});var NE=Yi&&Yi.prototype,cx=!!Yi&&T(function(){NE.finally.call({then:function(){}},function(){})});Lt({target:"Promise",proto:!0,real:!0,forced:cx},{finally:function(p){var y=Ds(this,Te("Promise")),f=$(p);return this.then(f?function(o){return tf(y,p()).then(function(){return o})}:p,f?function(o){return tf(y,p()).then(function(){throw o})}:p)}});var ux=U("".charAt),Nb=U("".charCodeAt),nf=U("".slice),sh=function(p){return function(y,f){var o,a,l=zi(ye(y)),c=Ri(f),u=l.length;return c<0||c>=u?p?"":void 0:(o=Nb(l,c))<55296||o>56319||c+1===u||(a=Nb(l,c+1))<56320||a>57343?p?ux(l,c):o:p?nf(l,c,c+2):a-56320+(o-55296<<10)+65536}},rf={codeAt:sh(!1),charAt:sh(!0)},RE=rf.charAt,Rb="String Iterator",lh=As.set,AE=As.getterFor(Rb);Wy(String,"String",function(p){lh(this,{type:Rb,string:zi(p),index:0})},function(){var y,f=AE(this),o=f.string,a=f.index;return a>=o.length?{value:void 0,done:!0}:(y=RE(o,a),f.index+=y.length,{value:y,done:!1})});var OE=fe.Promise;Lt({target:"Promise",stat:!0,forced:!0},{try:function(p){var y=Ml.f(this),f=Yc(p);return(f.error?y.reject:y.resolve)(f.value),y.promise}});var Zt=OE,sp=J.f,af=U(sp),ch=U([].push),lp=function(p){return function(y){for(var f,o=be(y),a=Ua(o),l=a.length,c=0,u=[];l>c;)f=a[c++],F&&!af(o,f)||ch(u,p?[f,o[f]]:o[f]);return u}},of={entries:lp(!0),values:lp(!1)},kE=of.values;Lt({target:"Object",stat:!0},{values:function(y){return kE(y)}});var uh=fe.Object.values,Qu=Date,LE=U(Qu.prototype.getTime);Lt({target:"Date",stat:!0},{now:function(){return LE(new Qu)}});var lr=fe.Date.now,el=Dn("isConcatSpreadable"),Xc=qe>=51||!T(function(){var p=[];return p[el]=!1,p.concat()[0]!==p}),PE=Vu("concat"),Jc=function(p){if(!pe(p))return!1;var y=p[el];return y!==void 0?!!y:Jl(p)};Lt({target:"Array",proto:!0,forced:!Xc||!PE},{concat:function(y){var f,o,a,l,c,u=Bt(this),h=tb(u,0),C=0;for(f=-1,a=arguments.length;f<a;f++)if(Jc(c=f===-1?u:arguments[f]))for(l=Tr(c),Pm(C+l),o=0;o<l;o++,C++)o in c&&wo(h,C,c[o]);else Pm(C+1),wo(h,C++,c);return h.length=C,h}});var ic=ka("Array").concat,Oi=Array.prototype,Bn=function(p){var y=p.concat;return p===Oi||Se(Oi,p)&&y===Oi.concat?ic:y},Ab=/MSIE .\./.test(De),Ob=I.Function,kb=function(p){return Ab?function(y,f){var o=nc(arguments.length,1)>2,a=$(y)?y:Ob(y),l=o?da(arguments,2):void 0;return p(o?function(){O(a,this,l)}:a,f)}:p},Lb={setTimeout:kb(I.setTimeout),setInterval:kb(I.setInterval)},Qc=Lb.setInterval;Lt({global:!0,bind:!0,forced:I.setInterval!==Qc},{setInterval:Qc});var sf=Lb.setTimeout;Lt({global:!0,bind:!0,forced:I.setTimeout!==sf},{setTimeout:sf});var pa=fe.setTimeout,Zc=d(function(p){var y=Object.prototype.hasOwnProperty,f="~";function o(){}function a(h,C,x){this.fn=h,this.context=C,this.once=x||!1}function l(h,C,x,k,B){if(typeof x!="function")throw new TypeError("The listener must be a function");var W=new a(x,k||h,B),Y=f?f+C:C;return h._events[Y]?h._events[Y].fn?h._events[Y]=[h._events[Y],W]:h._events[Y].push(W):(h._events[Y]=W,h._eventsCount++),h}function c(h,C){--h._eventsCount==0?h._events=new o:delete h._events[C]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(f=!1)),u.prototype.eventNames=function(){var C,x,k=[];if(this._eventsCount===0)return k;for(x in C=this._events)y.call(C,x)&&k.push(f?x.slice(1):x);return Object.getOwnPropertySymbols?k.concat(Object.getOwnPropertySymbols(C)):k},u.prototype.listeners=function(C){var x=f?f+C:C,k=this._events[x];if(!k)return[];if(k.fn)return[k.fn];for(var B=0,W=k.length,Y=new Array(W);B<W;B++)Y[B]=k[B].fn;return Y},u.prototype.listenerCount=function(C){var x=f?f+C:C,k=this._events[x];return k?k.fn?1:k.length:0},u.prototype.emit=function(C,x,k,B,W,Y){var ne=f?f+C:C;if(!this._events[ne])return!1;var se,xe,we=this._events[ne],$e=arguments.length;if(we.fn){switch(we.once&&this.removeListener(C,we.fn,void 0,!0),$e){case 1:return we.fn.call(we.context),!0;case 2:return we.fn.call(we.context,x),!0;case 3:return we.fn.call(we.context,x,k),!0;case 4:return we.fn.call(we.context,x,k,B),!0;case 5:return we.fn.call(we.context,x,k,B,W),!0;case 6:return we.fn.call(we.context,x,k,B,W,Y),!0}for(xe=1,se=new Array($e-1);xe<$e;xe++)se[xe-1]=arguments[xe];we.fn.apply(we.context,se)}else{var Me,Fe=we.length;for(xe=0;xe<Fe;xe++)switch(we[xe].once&&this.removeListener(C,we[xe].fn,void 0,!0),$e){case 1:we[xe].fn.call(we[xe].context);break;case 2:we[xe].fn.call(we[xe].context,x);break;case 3:we[xe].fn.call(we[xe].context,x,k);break;case 4:we[xe].fn.call(we[xe].context,x,k,B);break;default:if(!se)for(Me=1,se=new Array($e-1);Me<$e;Me++)se[Me-1]=arguments[Me];we[xe].fn.apply(we[xe].context,se)}}return!0},u.prototype.on=function(C,x,k){return l(this,C,x,k,!1)},u.prototype.once=function(C,x,k){return l(this,C,x,k,!0)},u.prototype.removeListener=function(C,x,k,B){var W=f?f+C:C;if(!this._events[W])return this;if(!x)return c(this,W),this;var Y=this._events[W];if(Y.fn)Y.fn!==x||B&&!Y.once||k&&Y.context!==k||c(this,W);else{for(var ne=0,se=[],xe=Y.length;ne<xe;ne++)(Y[ne].fn!==x||B&&!Y[ne].once||k&&Y[ne].context!==k)&&se.push(Y[ne]);se.length?this._events[W]=se.length===1?se[0]:se:c(this,W)}return this},u.prototype.removeAllListeners=function(C){var x;return C?(x=f?f+C:C,this._events[x]&&c(this,x)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=f,u.EventEmitter=u,p.exports=u});Lt({global:!0},{globalThis:I});var dh=I,ph=Array,DE=Math.max,lf=function(p,y,f){for(var o=Tr(p),a=Vr(y,o),l=Vr(f===void 0?o:f,o),c=ph(DE(l-a,0)),u=0;a<l;a++,u++)wo(c,u,p[a]);return c.length=u,c},Pb=ec.f,Db=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],jb={f:function(y){return Db&&re(y)=="Window"?function(f){try{return Pb(f)}catch{return lf(Db)}}(y):Pb(be(y))}},mh={f:Dn},Xi=en.f,aa=function(p){var y=fe.Symbol||(fe.Symbol={});ot(y,p)||Xi(y,p,{value:mh.f(p)})},Vb=function(){var p=Te("Symbol"),y=p&&p.prototype,f=y&&y.valueOf,o=Dn("toPrimitive");y&&!y[o]&&Xl(y,o,function(a){return H(f,this)},{})},cf=Sl.forEach,Ro=Ba("hidden"),uf="Symbol",jE=As.set,df=As.getterFor(uf),hs=Object.prototype,eu=I.Symbol,cp=eu&&eu.prototype,VE=I.TypeError,pf=I.QObject,fh=fn.f,_l=en.f,$b=jb.f,Ub=J.f,mf=U([].push),tl=Vt("symbols"),up=Vt("op-symbols"),Bb=Vt("wks"),gh=!pf||!pf.prototype||!pf.prototype.findChild,nl=F&&T(function(){return Ai(_l({},"a",{get:function(){return _l(this,"a",{value:7}).a}})).a!=7})?function(p,y,f){var o=fh(hs,y);o&&delete hs[y],_l(p,y,f),o&&p!==hs&&_l(hs,y,o)}:_l,ff=function(p,y){var f=tl[p]=Ai(cp);return jE(f,{type:uf,tag:p,description:y}),F||(f.description=y),f},hh=function(y,f,o){y===hs&&hh(up,f,o),nn(y);var a=Wt(f);return nn(o),ot(tl,a)?(o.enumerable?(ot(y,Ro)&&y[Ro][a]&&(y[Ro][a]=!1),o=Ai(o,{enumerable:te(0,!1)})):(ot(y,Ro)||_l(y,Ro,te(1,{})),y[Ro][a]=!0),nl(y,a,o)):_l(y,a,o)},vh=function(y,f){nn(y);var o=be(f),a=Ua(o).concat(dp(o));return cf(a,function(l){F&&!H(xl,o,l)||hh(y,l,o[l])}),y},xl=function(y){var f=Wt(y),o=H(Ub,this,f);return!(this===hs&&ot(tl,f)&&!ot(up,f))&&(!(o||!ot(this,f)||!ot(tl,f)||ot(this,Ro)&&this[Ro][f])||o)},Fb=function(y,f){var o=be(y),a=Wt(f);if(o!==hs||!ot(tl,a)||ot(up,a)){var l=fh(o,a);return!l||!ot(tl,a)||ot(o,Ro)&&o[Ro][a]||(l.enumerable=!0),l}},gf=function(y){var f=$b(be(y)),o=[];return cf(f,function(a){ot(tl,a)||ot(Gr,a)||mf(o,a)}),o},dp=function(p){var y=p===hs,f=$b(y?up:be(p)),o=[];return cf(f,function(a){!ot(tl,a)||y&&!ot(hs,a)||mf(o,tl[a])}),o};Ke||(eu=function(){if(Se(cp,this))throw VE("Symbol is not a constructor");var y=arguments.length&&arguments[0]!==void 0?zi(arguments[0]):void 0,f=yt(y),o=function(a){this===hs&&H(o,up,a),ot(this,Ro)&&ot(this[Ro],f)&&(this[Ro][f]=!1),nl(this,f,te(1,a))};return F&&gh&&nl(hs,f,{configurable:!0,set:o}),ff(f,y)},cp=eu.prototype,Xl(cp,"toString",function(){return df(this).tag}),Xl(eu,"withoutSetter",function(p){return ff(yt(p),p)}),J.f=xl,en.f=hh,ur.f=vh,fn.f=Fb,ec.f=jb.f=gf,jc.f=dp,mh.f=function(p){return ff(Dn(p),p)},F&&_l(cp,"description",{configurable:!0,get:function(){return df(this).description}})),Lt({global:!0,wrap:!0,forced:!Ke,sham:!Ke},{Symbol:eu}),cf(Ua(Bb),function(p){aa(p)}),Lt({target:uf,stat:!0,forced:!Ke},{useSetter:function(){gh=!0},useSimple:function(){gh=!1}}),Lt({target:"Object",stat:!0,forced:!Ke,sham:!F},{create:function(y,f){return f===void 0?Ai(y):vh(Ai(y),f)},defineProperty:hh,defineProperties:vh,getOwnPropertyDescriptor:Fb}),Lt({target:"Object",stat:!0,forced:!Ke},{getOwnPropertyNames:gf}),Vb(),$c(eu,uf),Gr[Ro]=!0;var li=Ke&&!!Symbol.for&&!!Symbol.keyFor,qb=Vt("string-to-symbol-registry"),dx=Vt("symbol-to-string-registry");Lt({target:"Symbol",stat:!0,forced:!li},{for:function(p){var y=zi(p);if(ot(qb,y))return qb[y];var f=Te("Symbol")(y);return qb[y]=f,dx[f]=y,f}});var zb=Vt("symbol-to-string-registry");Lt({target:"Symbol",stat:!0,forced:!li},{keyFor:function(y){if(!Je(y))throw TypeError(lt(y)+" is not a symbol");if(ot(zb,y))return zb[y]}});var hf=!Ke||T(function(){jc.f(1)});Lt({target:"Object",stat:!0,forced:hf},{getOwnPropertySymbols:function(y){var f=jc.f;return f?f(Bt(y)):[]}}),aa("asyncIterator"),aa("hasInstance"),aa("isConcatSpreadable"),aa("iterator"),aa("match"),aa("matchAll"),aa("replace"),aa("search"),aa("species"),aa("split"),aa("toPrimitive"),Vb(),aa("toStringTag"),$c(Te("Symbol"),"Symbol"),aa("unscopables"),$c(I.JSON,"JSON",!0);var tu=fe.Symbol;aa("asyncDispose"),aa("dispose"),aa("matcher"),aa("metadataKey"),aa("observable"),aa("metadata"),aa("patternMatch"),aa("replaceAll");var Ma=tu,$E=T(function(){Lu(1)});Lt({target:"Object",stat:!0,forced:$E,sham:!_g},{getPrototypeOf:function(y){return Lu(Bt(y))}});var Ao=fe.Object.getPrototypeOf,wl=U([].reverse),Hb=[1,2];Lt({target:"Array",proto:!0,forced:String(Hb)===String(Hb.reverse())},{reverse:function(){return Jl(this)&&(this.length=this.length),wl(this)}});var Gb=ka("Array").reverse,yh=Array.prototype,js=function(p){var y=p.reverse;return p===yh||Se(yh,p)&&y===yh.reverse?Gb:y},Kb=Vu("slice"),bh=Dn("species"),Sh=Array,oc=Math.max;Lt({target:"Array",proto:!0,forced:!Kb},{slice:function(y,f){var o,a,l,c=be(this),u=Tr(c),h=Vr(y,u),C=Vr(f===void 0?u:f,u);if(Jl(c)&&(o=c.constructor,(km(o)&&(o===Sh||Jl(o.prototype))||pe(o)&&(o=o[bh])===null)&&(o=void 0),o===Sh||o===void 0))return da(c,h,C);for(a=new(o===void 0?Sh:o)(oc(C-h,0)),l=0;h<C;h++,l++)h in c&&wo(a,l,c[h]);return a.length=l,a}});var ki=ka("Array").slice,vf=Array.prototype,zn=function(p){var y=p.slice;return p===vf||Se(vf,p)&&y===vf.slice?ki:y},Di=mh.f("iterator"),px=Sl.find,UE="find",Wb=!0;UE in[]&&Array(1).find(function(){Wb=!1}),Lt({target:"Array",proto:!0,forced:Wb},{find:function(y){return px(this,y,arguments.length>1?arguments[1]:void 0)}});var ci=ka("Array").find,Io=Array.prototype,Wo=function(p){var y=p.find;return p===Io||Se(Io,p)&&y===Io.find?ci:y},BE=ua.includes,FE=T(function(){return!Array(1).includes()});Lt({target:"Array",proto:!0,forced:FE},{includes:function(y){return BE(this,y,arguments.length>1?arguments[1]:void 0)}});var mx=ka("Array").includes,Yb=Dn("match"),vs=TypeError,Vs=function(p){if(function(y){var f;return pe(y)&&((f=y[Yb])!==void 0?!!f:re(y)=="RegExp")}(p))throw vs("The method doesn't accept regular expressions");return p},qE=Dn("match"),Yo=function(p){var y=/./;try{"/./"[p](y)}catch{try{return y[qE]=!1,"/./"[p](y)}catch{}}return!1},zE=U("".indexOf);Lt({target:"String",proto:!0,forced:!Yo("includes")},{includes:function(y){return!!~zE(zi(ye(this)),zi(Vs(y)),arguments.length>1?arguments[1]:void 0)}});var nu=ka("String").includes,sc=Array.prototype,Nl=String.prototype,or=function(p){var y=p.includes;return p===sc||Se(sc,p)&&y===sc.includes?mx:typeof p=="string"||p===Nl||Se(Nl,p)&&y===Nl.includes?nu:y},Xb=Sl.map,Rl=Vu("map");Lt({target:"Array",proto:!0,forced:!Rl},{map:function(y){return Xb(this,y,arguments.length>1?arguments[1]:void 0)}});var HE=ka("Array").map,ru=Array.prototype,Qe=function(p){var y=p.map;return p===ru||Se(ru,p)&&y===ru.map?HE:y},yf=Sl.filter,pp=Vu("filter");Lt({target:"Array",proto:!0,forced:!pp},{filter:function(y){return yf(this,y,arguments.length>1?arguments[1]:void 0)}});var GE=ka("Array").filter,Ih=Array.prototype,Tn=function(p){var y=p.filter;return p===Ih||Se(Ih,p)&&y===Ih.filter?GE:y},KE=d(function(p,y){p.exports=function(){function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */f=function(){return W};var W={},Y=Object.prototype,ne=Y.hasOwnProperty,se=typeof Ma=="function"?Ma:{},xe=se.iterator||"@@iterator",we=se.asyncIterator||"@@asyncIterator",$e=se.toStringTag||"@@toStringTag";function Me(Ot,Ft,ar){return Jr(Ot,Ft,{value:ar,enumerable:!0,configurable:!0,writable:!0}),Ot[Ft]}try{Me({},"")}catch{Me=function(ar,hn,Lr){return ar[hn]=Lr}}function Fe(Ot,Ft,ar,hn){var Lr=Ft&&Ft.prototype instanceof Ee?Ft:Ee,gr=Li(Lr.prototype),Hn=new cr(hn||[]);return gr._invoke=function(zr,In,sr){var Ea="suspendedStart";return function(Ln,oI){if(Ea==="executing")throw new Error("Generator is already running");if(Ea==="completed"){if(Ln==="throw")throw oI;return Sr()}for(sr.method=Ln,sr.arg=oI;;){var sI=sr.delegate;if(sI){var ho=dn(sI,sr);if(ho){if(ho===Ae)continue;return ho}}if(sr.method==="next")sr.sent=sr._sent=sr.arg;else if(sr.method==="throw"){if(Ea==="suspendedStart")throw Ea="completed",sr.arg;sr.dispatchException(sr.arg)}else sr.method==="return"&&sr.abrupt("return",sr.arg);Ea="executing";var to=We(zr,In,sr);if(to.type==="normal"){if(Ea=sr.done?"completed":"suspendedYield",to.arg===Ae)continue;return{value:to.arg,done:sr.done}}to.type==="throw"&&(Ea="completed",sr.method="throw",sr.arg=to.arg)}}}(Ot,ar,Hn),gr}function We(Ot,Ft,ar){try{return{type:"normal",arg:Ot.call(Ft,ar)}}catch(hn){return{type:"throw",arg:hn}}}W.wrap=Fe;var Ae={};function Ee(){}function me(){}function Ve(){}var Ge={};Me(Ge,xe,function(){return this});var ze=Ao&&Ao(Ao(_a([])));ze&&ze!==Y&&ne.call(ze,xe)&&(Ge=ze);var mt=Ve.prototype=Ee.prototype=Li(Ge);function Tt(Ot){var Ft;rt(Ft=["next","throw","return"]).call(Ft,function(ar){Me(Ot,ar,function(hn){return this._invoke(ar,hn)})})}function Be(Ot,Ft){function ar(Lr,gr,Hn,zr){var In=We(Ot[Lr],Ot,gr);if(In.type!=="throw"){var sr=In.arg,Ea=sr.value;return Ea&&typeof Ea=="object"&&ne.call(Ea,"__await")?Ft.resolve(Ea.__await).then(function(Ln){ar("next",Ln,Hn,zr)},function(Ln){ar("throw",Ln,Hn,zr)}):Ft.resolve(Ea).then(function(Ln){sr.value=Ln,Hn(sr)},function(Ln){return ar("throw",Ln,Hn,zr)})}zr(In.arg)}var hn;this._invoke=function(Lr,gr){function Hn(){return new Ft(function(zr,In){ar(Lr,gr,zr,In)})}return hn=hn?hn.then(Hn,Hn):Hn()}}function dn(Ot,Ft){var ar=Ot.iterator[Ft.method];if(ar===void 0){if(Ft.delegate=null,Ft.method==="throw"){if(Ot.iterator.return&&(Ft.method="return",Ft.arg=void 0,dn(Ot,Ft),Ft.method==="throw"))return Ae;Ft.method="throw",Ft.arg=new TypeError("The iterator does not provide a 'throw' method")}return Ae}var hn=We(ar,Ot.iterator,Ft.arg);if(hn.type==="throw")return Ft.method="throw",Ft.arg=hn.arg,Ft.delegate=null,Ae;var Lr=hn.arg;return Lr?Lr.done?(Ft[Ot.resultName]=Lr.value,Ft.next=Ot.nextLoc,Ft.method!=="return"&&(Ft.method="next",Ft.arg=void 0),Ft.delegate=null,Ae):Lr:(Ft.method="throw",Ft.arg=new TypeError("iterator result is not an object"),Ft.delegate=null,Ae)}function Nn(Ot){var Ft={tryLoc:Ot[0]};1 in Ot&&(Ft.catchLoc=Ot[1]),2 in Ot&&(Ft.finallyLoc=Ot[2],Ft.afterLoc=Ot[3]),this.tryEntries.push(Ft)}function Dt(Ot){var Ft=Ot.completion||{};Ft.type="normal",delete Ft.arg,Ot.completion=Ft}function cr(Ot){this.tryEntries=[{tryLoc:"root"}],rt(Ot).call(Ot,Nn,this),this.reset(!0)}function _a(Ot){if(Ot){var Ft=Ot[xe];if(Ft)return Ft.call(Ot);if(typeof Ot.next=="function")return Ot;if(!isNaN(Ot.length)){var ar=-1,hn=function Lr(){for(;++ar<Ot.length;)if(ne.call(Ot,ar))return Lr.value=Ot[ar],Lr.done=!1,Lr;return Lr.value=void 0,Lr.done=!0,Lr};return hn.next=hn}}return{next:Sr}}function Sr(){return{value:void 0,done:!0}}return me.prototype=Ve,Me(mt,"constructor",Ve),Me(Ve,"constructor",me),me.displayName=Me(Ve,$e,"GeneratorFunction"),W.isGeneratorFunction=function(Ot){var Ft=typeof Ot=="function"&&Ot.constructor;return!!Ft&&(Ft===me||(Ft.displayName||Ft.name)==="GeneratorFunction")},W.mark=function(Ot){return na?na(Ot,Ve):(Ot.__proto__=Ve,Me(Ot,$e,"GeneratorFunction")),Ot.prototype=Li(mt),Ot},W.awrap=function(Ot){return{__await:Ot}},Tt(Be.prototype),Me(Be.prototype,we,function(){return this}),W.AsyncIterator=Be,W.async=function(Ot,Ft,ar,hn,Lr){Lr===void 0&&(Lr=Zt);var gr=new Be(Fe(Ot,Ft,ar,hn),Lr);return W.isGeneratorFunction(Ft)?gr:gr.next().then(function(Hn){return Hn.done?Hn.value:gr.next()})},Tt(mt),Me(mt,$e,"Generator"),Me(mt,xe,function(){return this}),Me(mt,"toString",function(){return"[object Generator]"}),W.keys=function(Ot){var Ft=[];for(var ar in Ot)Ft.push(ar);return js(Ft).call(Ft),function hn(){for(;Ft.length;){var Lr=Ft.pop();if(Lr in Ot)return hn.value=Lr,hn.done=!1,hn}return hn.done=!0,hn}},W.values=_a,cr.prototype={constructor:cr,reset:function(Ft){var ar;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,rt(ar=this.tryEntries).call(ar,Dt),!Ft)for(var hn in this)hn.charAt(0)==="t"&&ne.call(this,hn)&&!isNaN(+zn(hn).call(hn,1))&&(this[hn]=void 0)},stop:function(){this.done=!0;var Ft=this.tryEntries[0].completion;if(Ft.type==="throw")throw Ft.arg;return this.rval},dispatchException:function(Ft){if(this.done)throw Ft;var ar=this;function hn(sr,Ea){return Hn.type="throw",Hn.arg=Ft,ar.next=sr,Ea&&(ar.method="next",ar.arg=void 0),!!Ea}for(var Lr=this.tryEntries.length-1;Lr>=0;--Lr){var gr=this.tryEntries[Lr],Hn=gr.completion;if(gr.tryLoc==="root")return hn("end");if(gr.tryLoc<=this.prev){var zr=ne.call(gr,"catchLoc"),In=ne.call(gr,"finallyLoc");if(zr&&In){if(this.prev<gr.catchLoc)return hn(gr.catchLoc,!0);if(this.prev<gr.finallyLoc)return hn(gr.finallyLoc)}else if(zr){if(this.prev<gr.catchLoc)return hn(gr.catchLoc,!0)}else{if(!In)throw new Error("try statement without catch or finally");if(this.prev<gr.finallyLoc)return hn(gr.finallyLoc)}}}},abrupt:function(Ft,ar){for(var hn=this.tryEntries.length-1;hn>=0;--hn){var Lr=this.tryEntries[hn];if(Lr.tryLoc<=this.prev&&ne.call(Lr,"finallyLoc")&&this.prev<Lr.finallyLoc){var gr=Lr;break}}gr&&(Ft==="break"||Ft==="continue")&&gr.tryLoc<=ar&&ar<=gr.finallyLoc&&(gr=null);var Hn=gr?gr.completion:{};return Hn.type=Ft,Hn.arg=ar,gr?(this.method="next",this.next=gr.finallyLoc,Ae):this.complete(Hn)},complete:function(Ft,ar){if(Ft.type==="throw")throw Ft.arg;return Ft.type==="break"||Ft.type==="continue"?this.next=Ft.arg:Ft.type==="return"?(this.rval=this.arg=Ft.arg,this.method="return",this.next="end"):Ft.type==="normal"&&ar&&(this.next=ar),Ae},finish:function(Ft){for(var ar=this.tryEntries.length-1;ar>=0;--ar){var hn=this.tryEntries[ar];if(hn.finallyLoc===Ft)return this.complete(hn.completion,hn.afterLoc),Dt(hn),Ae}},catch:function(Ft){for(var ar=this.tryEntries.length-1;ar>=0;--ar){var hn=this.tryEntries[ar];if(hn.tryLoc===Ft){var Lr=hn.completion;if(Lr.type==="throw"){var gr=Lr.arg;Dt(hn)}return gr}}throw new Error("illegal catch attempt")},delegateYield:function(Ft,ar,hn){return this.delegate={iterator:_a(Ft),resultName:ar,nextLoc:hn},this.method==="next"&&(this.arg=void 0),Ae}},W}function o(W){return o=typeof Ma=="function"&&typeof Di=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Ma=="function"&&Y.constructor===Ma&&Y!==Ma.prototype?"symbol":typeof Y},o(W)}function a(W,Y){if(!(W instanceof Y))throw new TypeError("Cannot call a class as a function")}function l(W,Y){for(var ne=0;ne<Y.length;ne++){var se=Y[ne];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Jr(W,se.key,se)}}function c(W,Y,ne){return Y&&l(W.prototype,Y),Jr(W,"prototype",{writable:!1}),W}function u(W,Y,ne,se){function xe(we){return we instanceof ne?we:new ne(function($e){$e(we)})}return new(ne||(ne=Zt))(function(we,$e){function Me(Ae){try{We(se.next(Ae))}catch(Ee){$e(Ee)}}function Fe(Ae){try{We(se.throw(Ae))}catch(Ee){$e(Ee)}}function We(Ae){Ae.done?we(Ae.value):xe(Ae.value).then(Me,Fe)}We((se=se.apply(W,[])).next())})}var h={isDataReportEnable:!0,maxSize:100,msgListMaxSize:1e3,cacheMaxSize:1e3,maxDelay:3e5,maxInterval:3e4,minInterval:1e4,timeout:5e3,autoStart:!0,loginFailIgnoreInterval:72e5},C=12,x=8e3,k=function(){},B=function(){function W(Y){a(this,W),this.isUploadEnable=!0,this.serverAllowUpload=!1,this.initConfigLoaded=!1,this.loading=!1,this.isDestroyed=!1,this.reportConfig=h,this.configPath="dispatcher/req",this.dataReportPath="statics/report/common/form",this.traceMsgCache={},this.reqRetryCount=0,this.highPriorityMsgList=[],this.msgList=[],this.lowPriorityMsgList=[],this.cacheMsgList=[],this.lastReportTime=lr(),this.timer=null,this.endedAsyncMsgByModule={},this.lastFailLogin={},this.setConfig(Y),this.reportConfig.isDataReportEnable&&this.reportConfig.autoStart&&this.initUploadConfig()}return c(W,[{key:"setConfig",value:function(ne){var se=ce({},this.reportConfig.common,ne.common);this.reportConfig=ce({},this.reportConfig,ne),this.reportConfig.common=se,this.reportConfig.common.sdk_type||(this.reportConfig.common.sdk_type="im")}},{key:"reportImmediately",value:function(ne,se){var xe=this;this.reportConfig.isDataReportEnable&&this.reportConfig.request(ne,ce({dataType:"json",method:"POST",timeout:this.reportConfig.timeout},se)).catch(function(we){var $e,Me;(Me=($e=xe.reportConfig)===null||$e===void 0?void 0:$e.logger)===null||Me===void 0||Me.warn("Reporter immediately upload failed",we)})}},{key:"report",value:function(ne,se){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(xe.priority||(xe.priority=this.getEventPriority(ne,se)),this.reportConfig.isDataReportEnable&&ne){if(ne==="login"&&se.succeed===!1&&se.process_id){var we,$e=se.extension&&Wo(we=se.extension).call(we,function(Ee){return Ee.operation_type==="TCP"}),Me=$e&&$e.target||"",Fe=se.process_id+Me,We=this.lastFailLogin[Fe]||0;if(se.start_time-We<h.loginFailIgnoreInterval)return;this.lastFailLogin[Fe]=se.start_time}var Ae=lr();xe.priority==="HIGH"?this.highPriorityMsgList.push({module:ne,msg:se,createTime:Ae}):xe.priority==="NORMAL"?this.msgList.push({module:ne,msg:se,createTime:Ae}):xe.priority==="LOW"&&this.lowPriorityMsgList.push({module:ne,msg:se,createTime:Ae}),this.highPriorityMsgList.length>this.reportConfig.msgListMaxSize&&this.highPriorityMsgList.shift(),this.msgList.length>this.reportConfig.msgListMaxSize&&this.msgList.shift(),this.lowPriorityMsgList.length>this.reportConfig.msgListMaxSize&&this.lowPriorityMsgList.shift(),this.doReport()}}},{key:"reportTraceStart",value:function(ne,se){if(this.reportConfig.isDataReportEnable&&ne&&!this.traceMsgCache[ne]){var xe=ce(ce({start_time:lr()},se),{extension:[]});this.traceMsgCache[ne]=xe}}},{key:"reportTraceUpdate",value:function(ne){}},{key:"reportTraceUpdateV2",value:function(ne,se,xe){var we,$e=this;if(this.reportConfig.isDataReportEnable&&this.traceMsgCache[ne]){var Me=this.traceMsgCache[ne].extension,Fe=Me.length,We=new Date().getTime();Fe===0?se.duration=We-this.traceMsgCache[ne].start_time:Me[Fe-1].end_time?se.duration=We-Me[Fe-1].end_time:se.duration=We-this.traceMsgCache[ne].start_time,Me.push(ce({end_time:We},se));var Ae=Me.length-1;xe!=null&&xe.asyncParams&&((we=this.traceMsgCache[ne]).asyncPromiseArray||(we.asyncPromiseArray=[]),this.traceMsgCache[ne].asyncPromiseArray.push(xe.asyncParams.then(function(Ee){$e.traceMsgCache[ne]&&$e.traceMsgCache[ne].extension[Ae]&&ce($e.traceMsgCache[ne].extension[Ae],Ee)})))}}},{key:"reportTraceEnd",value:function(ne){var se,xe,we=this,$e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.reportConfig.isDataReportEnable&&this.traceMsgCache[ne])if(ne!=="nos"||$e===!1){typeof $e=="boolean"?this.traceMsgCache[ne].succeed=!!$e:this.traceMsgCache[ne].state=$e,this.traceMsgCache[ne].duration=lr()-this.traceMsgCache[ne].start_time,rt(se=this.traceMsgCache[ne].extension).call(se,function(We){delete We.end_time});var Me=this.traceMsgCache[ne];if(this.traceMsgCache[ne]=null,Me.asyncPromiseArray){(xe=this.endedAsyncMsgByModule)[ne]||(xe[ne]=[]),this.endedAsyncMsgByModule[ne].push(Me);var Fe=function(){var Ae;we.endedAsyncMsgByModule[ne]&&or(Ae=we.endedAsyncMsgByModule[ne]).call(Ae,Me)&&(delete Me.asyncPromiseArray,we.report(ne,Me,{priority:we.getEventPriority(ne,Me)}))};Zt.all(Me.asyncPromiseArray).then(Fe).catch(Fe)}else this.report(ne,Me,{priority:this.getEventPriority(ne,Me)})}else this.traceMsgCache[ne]=null}},{key:"getEventPriority",value:function(ne,se){if(ne==="exceptions"){if(se.action===0||se.action===2||se.action===1&&se.exception_service!==0)return"HIGH"}else if(ne==="msgReceive"||ne==="nim_api_trace")return"LOW";return"NORMAL"}},{key:"reportTraceCancel",value:function(ne){this.reportConfig.isDataReportEnable&&(this.endedAsyncMsgByModule[ne]=[],this.traceMsgCache[ne]=null)}},{key:"pause",value:function(){this.reportConfig.isDataReportEnable&&(this.isUploadEnable=!1)}},{key:"restore",value:function(){this.reportConfig.isDataReportEnable&&(this.isUploadEnable=!0,this.initConfigLoaded||this.initUploadConfig())}},{key:"destroy",value:function(){var ne,se=this;this.reportConfig.isDataReportEnable&&(rt(ne=Gn(this.traceMsgCache)).call(ne,function(xe){se.reportTraceEnd(xe,1)}),this.timer!==null&&clearTimeout(this.timer),this.setConfig=k,this.report=k,this.reportTraceStart=k,this.reportTraceUpdate=k,this.reportTraceEnd=k,this.pause=k,this.restore=k,this.destroy=k,this.reqRetryCount=0,this.cacheMsgList=[],this.traceMsgCache={},this.lowPriorityMsgList=[],this.msgList=[],this.highPriorityMsgList=[],this.reportConfig={},this.isDestroyed=!0)}},{key:"initUploadConfig",value:function(){var ne,se;return u(this,void 0,void 0,f().mark(function xe(){var we,$e,Me,Fe,We,Ae=this;return f().wrap(function(me){for(var Ve;;)switch(me.prev=me.next){case 0:if(!this.loading){me.next=2;break}return me.abrupt("return");case 2:this.loading=!0,we=this.reportConfig.common||{},$e=Qe(Ve=this.reportConfig.compassDataEndpoint.split(",")).call(Ve,function(Ge){var ze;return Bn(ze="".concat(Ge,"/")).call(ze,Ae.configPath)}),Me=f().mark(function Ge(ze){return f().wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:if(!Ae.initConfigLoaded&&!Ae.isDestroyed){Tt.next=2;break}return Tt.abrupt("return","break");case 2:return Tt.prev=2,Tt.next=5,Ae.reportConfig.request($e[ze],{method:"GET",dataType:"json",params:{deviceId:we.dev_id,sdkVer:we.sdk_ver,platform:we.platform,hostEnv:we.host_env,appkey:we.app_key},timeout:Ae.reportConfig.timeout}).then(function(Be){var dn,Nn;if(!Ae.isDestroyed){if(Be.status===200&&Be.data&&Be.data.code===200){Ae.initConfigLoaded=!0;var Dt=Be.data.data||{};Ae.reportConfig.maxSize=Dt.maxSize>1e3?1e3:Dt.maxSize,Ae.reportConfig.maxInterval=Dt.maxInterval>1e4?1e4:Dt.maxInterval,Ae.reportConfig.maxInterval=Dt.maxInterval<10?10:Dt.maxInterval,Ae.reportConfig.minInterval=Dt.minInterval<2?2:Dt.minInterval,Ae.reportConfig.maxDelay=Dt.maxDelay||300,Ae.reportConfig.maxInterval=1e3*Ae.reportConfig.maxInterval,Ae.reportConfig.minInterval=1e3*Ae.reportConfig.minInterval,Ae.reportConfig.maxDelay=1e3*Ae.reportConfig.maxDelay,Dt.endpoint?Ae.dataReportEndpoint=Dt.endpoint:Ae.dataReportEndpoint=$e[ze],Ae.serverAllowUpload=!0,Ae.loading=!1,Ae.reportHeartBeat()}else Be.status===200&&(Ae.initConfigLoaded=!0);(Nn=(dn=Ae.reportConfig)===null||dn===void 0?void 0:dn.logger)===null||Nn===void 0||Nn.log("Get reporter upload config success")}}).catch(function(Be){var dn,Nn;Ae.isDestroyed||(Ae.loading=!1,(Nn=(dn=Ae.reportConfig)===null||dn===void 0?void 0:dn.logger)===null||Nn===void 0||Nn.error("Get reporter upload config failed",Be),Ae.reqRetryCount<C&&(Ae.reqRetryCount++,pa(function(){Ae.isDestroyed||Ae.initUploadConfig()},x)))});case 5:Tt.next=14;break;case 7:if(Tt.prev=7,Tt.t0=Tt.catch(2),!Ae.isDestroyed){Tt.next=11;break}return Tt.abrupt("return",{v:void 0});case 11:Ae.loading=!1,(se=(ne=Ae.reportConfig)===null||ne===void 0?void 0:ne.logger)===null||se===void 0||se.error("Exec reporter request failed",Tt.t0),Ae.reqRetryCount<C&&(Ae.reqRetryCount++,pa(function(){Ae.isDestroyed||Ae.initUploadConfig()},x));case 14:case"end":return Tt.stop()}},Ge,null,[[2,7]])}),Fe=0;case 7:if(!(Fe<$e.length)){me.next=17;break}return me.delegateYield(Me(Fe),"t0",9);case 9:if((We=me.t0)!=="break"){me.next=12;break}return me.abrupt("break",17);case 12:if(o(We)!=="object"){me.next=14;break}return me.abrupt("return",We.v);case 14:Fe++,me.next=7;break;case 17:case"end":return me.stop()}},xe,this)}))}},{key:"reportHeartBeat",value:function(){var ne=this;this.isDestroyed||(this.timer=pa(function(){ne.reportHeartBeat()},this.reportConfig.minInterval),this.doReport())}},{key:"doReport",value:function(){if(!this.isDestroyed){var ne=this.highPriorityMsgList.length+this.msgList.length+this.lowPriorityMsgList.length+this.cacheMsgList.length>2*this.reportConfig.maxSize?this.reportConfig.minInterval:this.reportConfig.maxInterval;lr()-this.lastReportTime>=ne&&this.upload()}}},{key:"getUploadMsg",value:function(){var ne,se,xe,we,$e,Me,Fe=this,We={},Ae=lr();this.highPriorityMsgList=Tn(ne=this.highPriorityMsgList).call(ne,function(Dt){return Ae-Dt.createTime<Fe.reportConfig.maxDelay}),this.msgList=Tn(se=this.msgList).call(se,function(Dt){return Ae-Dt.createTime<Fe.reportConfig.maxDelay}),this.lowPriorityMsgList=Tn(xe=this.lowPriorityMsgList).call(xe,function(Dt){return Ae-Dt.createTime<Fe.reportConfig.maxDelay}),this.cacheMsgList=Tn(we=this.cacheMsgList).call(we,function(Dt){return Ae-Dt.createTime<Fe.reportConfig.maxDelay});var Ee=zn($e=this.highPriorityMsgList).call($e,0,this.reportConfig.maxSize);if(this.highPriorityMsgList=zn(Me=this.highPriorityMsgList).call(Me,Ee.length),Ee.length<this.reportConfig.maxSize){var me,Ve,Ge=this.reportConfig.maxSize-Ee.length;Ee=Bn(Ee).call(Ee,zn(me=this.msgList).call(me,0,Ge)),this.msgList=zn(Ve=this.msgList).call(Ve,Ge)}if(Ee.length<this.reportConfig.maxSize){var ze,mt,Tt=this.reportConfig.maxSize-Ee.length;Ee=Bn(Ee).call(Ee,zn(ze=this.lowPriorityMsgList).call(ze,0,Tt)),this.lowPriorityMsgList=zn(mt=this.lowPriorityMsgList).call(mt,Tt)}if(Ee.length<this.reportConfig.maxSize){var Be,dn,Nn=this.reportConfig.maxSize-Ee.length;Ee=Bn(Ee).call(Ee,zn(Be=this.cacheMsgList).call(Be,0,Nn)),this.cacheMsgList=zn(dn=this.cacheMsgList).call(dn,Nn)}return rt(Ee).call(Ee,function(Dt){We[Dt.module]?We[Dt.module].push(Dt.msg):We[Dt.module]=[Dt.msg]}),{uploadMsgArr:Ee,uploadMsg:We}}},{key:"upload",value:function(){var ne,se,xe=this;if(this.isUploadEnable&&this.serverAllowUpload&&!(this.lastReportTime&&lr()-this.lastReportTime<this.reportConfig.minInterval)){var we=this.getUploadMsg(),$e=we.uploadMsgArr,Me=we.uploadMsg;if($e.length){this.lastReportTime=lr();try{var Fe,We=Bn(Fe="".concat(this.dataReportEndpoint,"/")).call(Fe,this.dataReportPath);this.reportConfig.request(We,{dataType:"json",method:"POST",data:{common:this.reportConfig.common,event:Me},headers:{sdktype:"im"},timeout:this.reportConfig.timeout}).catch(function(Ae){var Ee,me,Ve,Ge;xe.cacheMsgList=zn(Ee=Bn(me=xe.cacheMsgList).call(me,$e)).call(Ee,0,xe.reportConfig.cacheMaxSize),(Ge=(Ve=xe.reportConfig)===null||Ve===void 0?void 0:Ve.logger)===null||Ge===void 0||Ge.warn("Reporter upload failed",Ae)})}catch(Ae){(se=(ne=this.reportConfig)===null||ne===void 0?void 0:ne.logger)===null||se===void 0||se.warn("Exec reporter request failed",Ae)}clearTimeout(this.timer),this.reportHeartBeat()}}}}]),W}();return B}()}),Eh=ka("Array").values,Ch=Array.prototype,fx={DOMTokenList:!0,NodeList:!0},Xo=function(p){var y=p.values;return p===Ch||Se(Ch,p)&&y===Ch.values||ot(fx,Os(p))?Eh:y},La=ua.indexOf,qa=U([].indexOf),ia=!!qa&&1/qa([1],1,-0)<0,ha=Bc("indexOf");Lt({target:"Array",proto:!0,forced:ia||!ha},{indexOf:function(y){var f=arguments.length>1?arguments[1]:void 0;return ia?qa(this,y,f)||0:La(this,y,f)}});var Pa=ka("Array").indexOf,Oo=Array.prototype,dr=function(p){var y=p.indexOf;return p===Oo||Se(Oo,p)&&y===Oo.indexOf?Pa:y},mp=Sl.every,Jb=Bc("every");Lt({target:"Array",proto:!0,forced:!Jb},{every:function(y){return mp(this,y,arguments.length>1?arguments[1]:void 0)}});var lc=ka("Array").every,ui=Array.prototype,rl=function(p){var y=p.every;return p===ui||Se(ui,p)&&y===ui.every?lc:y},au=T(function(){if(typeof ArrayBuffer=="function"){var p=new ArrayBuffer(8);Object.isExtensible(p)&&Object.defineProperty(p,"a",{value:8})}}),fp=Object.isExtensible,Jo=T(function(){fp(1)})||au?function(y){return!!pe(y)&&(!au||re(y)!="ArrayBuffer")&&(!fp||fp(y))}:fp,gp=!T(function(){return Object.isExtensible(Object.preventExtensions({}))}),hp=d(function(p){var y=en.f,f=!1,o=yt("meta"),a=0,l=function(u){y(u,o,{value:{objectID:"O"+a++,weakData:{}}})},c=p.exports={enable:function(){c.enable=function(){},f=!0;var u=ec.f,h=U([].splice),C={};C[o]=1,u(C).length&&(ec.f=function(x){for(var k=u(x),B=0,W=k.length;B<W;B++)if(k[B]===o){h(k,B,1);break}return k},Lt({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:jb.f}))},fastKey:function(u,h){if(!pe(u))return typeof u=="symbol"?u:(typeof u=="string"?"S":"P")+u;if(!ot(u,o)){if(!Jo(u))return"F";if(!h)return"E";l(u)}return u[o].objectID},getWeakData:function(u,h){if(!ot(u,o)){if(!Jo(u))return!0;if(!h)return!1;l(u)}return u[o].weakData},onFreeze:function(u){return gp&&f&&Jo(u)&&!ot(u,o)&&l(u),u}};Gr[o]=!0}),Qo=en.f,Qb=Sl.forEach,Zb=As.set,Th=As.getterFor,bf=function(p,y,f){var o,a=p.indexOf("Map")!==-1,l=p.indexOf("Weak")!==-1,c=a?"set":"add",u=I[p],h=u&&u.prototype,C={};if(F&&$(u)&&(l||h.forEach&&!T(function(){new u().entries().next()}))){var x=(o=y(function(B,W){Zb(Fg(B,x),{type:p,collection:new u}),W!=null&&ra(W,B[c],{that:B,AS_ENTRIES:a})})).prototype,k=Th(p);Qb(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(B){var W=B=="add"||B=="set";!(B in h)||l&&B=="clear"||kn(x,B,function(Y,ne){var se=k(this).collection;if(!W&&l&&!pe(Y))return B=="get"&&void 0;var xe=se[B](Y===0?0:Y,ne);return W?this:xe})}),l||Qo(x,"size",{configurable:!0,get:function(){return k(this).collection.size}})}else o=f.getConstructor(y,p,a,c),hp.enable();return $c(o,p,!1,!0),C[p]=o,Lt({global:!0,forced:!0},C),l||f.setStrong(o,p,a),o},cc=function(p,y,f){for(var o in y)Xl(p,o,y[o],f);return p},lo=en.f,uc=hp.fastKey,Zu=As.set,iu=As.getterFor,Mh={getConstructor:function(p,y,f,o){var a=p(function(C,x){Fg(C,l),Zu(C,{type:y,index:Ai(null),first:void 0,last:void 0,size:0}),F||(C.size=0),he(x)||ra(x,C[o],{that:C,AS_ENTRIES:f})}),l=a.prototype,c=iu(y),u=function(C,x,k){var B,W,Y=c(C),ne=h(C,x);return ne?ne.value=k:(Y.last=ne={index:W=uc(x,!0),key:x,value:k,previous:B=Y.last,next:void 0,removed:!1},Y.first||(Y.first=ne),B&&(B.next=ne),F?Y.size++:C.size++,W!=="F"&&(Y.index[W]=ne)),C},h=function(C,x){var k,B=c(C),W=uc(x);if(W!=="F")return B.index[W];for(k=B.first;k;k=k.next)if(k.key==x)return k};return cc(l,{clear:function(){for(var x=c(this),k=x.index,B=x.first;B;)B.removed=!0,B.previous&&(B.previous=B.previous.next=void 0),delete k[B.index],B=B.next;x.first=x.last=void 0,F?x.size=0:this.size=0},delete:function(C){var x=this,k=c(x),B=h(x,C);if(B){var W=B.next,Y=B.previous;delete k.index[B.index],B.removed=!0,Y&&(Y.next=W),W&&(W.previous=Y),k.first==B&&(k.first=W),k.last==B&&(k.last=Y),F?k.size--:x.size--}return!!B},forEach:function(x){for(var k,B=c(this),W=sn(x,arguments.length>1?arguments[1]:void 0);k=k?k.next:B.first;)for(W(k.value,k.key,this);k&&k.removed;)k=k.previous},has:function(x){return!!h(this,x)}}),cc(l,f?{get:function(x){var k=h(this,x);return k&&k.value},set:function(x,k){return u(this,x===0?0:x,k)}}:{add:function(x){return u(this,x=x===0?0:x,x)}}),F&&lo(l,"size",{get:function(){return c(this).size}}),a},setStrong:function(p,y,f){var o=y+" Iterator",a=iu(y),l=iu(o);Wy(p,y,function(c,u){Zu(this,{type:o,target:c,state:a(c),kind:u,last:void 0})},function(){for(var c=l(this),u=c.kind,h=c.last;h&&h.removed;)h=h.previous;return c.target&&(c.last=h=h?h.next:c.state.first)?u=="keys"?{value:h.key,done:!1}:u=="values"?{value:h.value,done:!1}:{value:[h.key,h.value],done:!1}:(c.target=void 0,{value:void 0,done:!0})},f?"entries":"values",!f,!0),Fm(y)}};bf("Map",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},Mh);var eS=fe.Map,tS=[].push,vp=function(y){var f,o,a,l,c=arguments.length,u=c>1?arguments[1]:void 0;return qm(this),(f=u!==void 0)&&Ye(u),he(y)?new this:(o=[],f?(a=0,l=sn(u,c>2?arguments[2]:void 0),ra(y,function(h){H(tS,o,l(h,a++))})):ra(y,tS,{that:o}),new this(o))};Lt({target:"Map",stat:!0,forced:!0},{from:vp});var _h=function(){return new this(da(arguments))};Lt({target:"Map",stat:!0,forced:!0},{of:_h});var Zo=function(){for(var y,f=nn(this),o=Ye(f.delete),a=!0,l=0,c=arguments.length;l<c;l++)y=H(o,f,arguments[l]),a=a&&y;return!!a};Lt({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:Zo}),Lt({target:"Map",proto:!0,real:!0,forced:!0},{emplace:function(y,f){var o,a,l=nn(this),c=Ye(l.get),u=Ye(l.has),h=Ye(l.set);return H(u,l,y)?(o=H(c,l,y),"update"in f&&(o=f.update(o,y,l),H(h,l,y,o)),o):(a=f.insert(y,l),H(h,l,y,a),a)}});var al=qu;Lt({target:"Map",proto:!0,real:!0,forced:!0},{every:function(y){var f=nn(this),o=al(f),a=sn(y,arguments.length>1?arguments[1]:void 0);return!ra(o,function(l,c,u){if(!a(c,l,f))return u()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Lt({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(y){var f=nn(this),o=al(f),a=sn(y,arguments.length>1?arguments[1]:void 0),l=new(Ds(f,Te("Map"))),c=Ye(l.set);return ra(o,function(u,h){a(h,u,f)&&H(c,l,u,h)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),l}}),Lt({target:"Map",proto:!0,real:!0,forced:!0},{find:function(y){var f=nn(this),o=al(f),a=sn(y,arguments.length>1?arguments[1]:void 0);return ra(o,function(l,c,u){if(a(c,l,f))return u(c)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Lt({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(y){var f=nn(this),o=al(f),a=sn(y,arguments.length>1?arguments[1]:void 0);return ra(o,function(l,c,u){if(a(c,l,f))return u(l)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var ys=U([].push);Lt({target:"Map",stat:!0,forced:!0},{groupBy:function(y,f){Ye(f);var o=qu(y),a=new this,l=Ye(a.has),c=Ye(a.get),u=Ye(a.set);return ra(o,function(h){var C=f(h);H(l,a,C)?ys(H(c,a,C),h):H(u,a,C,[h])},{IS_ITERATOR:!0}),a}}),Lt({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(y){return ra(al(nn(this)),function(f,o,a){if((l=o)===(c=y)||l!=l&&c!=c)return a();var l,c},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Lt({target:"Map",stat:!0,forced:!0},{keyBy:function(y,f){var o=new this;Ye(f);var a=Ye(o.set);return ra(y,function(l){H(a,o,f(l),l)}),o}}),Lt({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(y){return ra(al(nn(this)),function(f,o,a){if(o===y)return a(f)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Lt({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(y){var f=nn(this),o=al(f),a=sn(y,arguments.length>1?arguments[1]:void 0),l=new(Ds(f,Te("Map"))),c=Ye(l.set);return ra(o,function(u,h){H(c,l,a(h,u,f),h)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),l}}),Lt({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(y){var f=nn(this),o=al(f),a=sn(y,arguments.length>1?arguments[1]:void 0),l=new(Ds(f,Te("Map"))),c=Ye(l.set);return ra(o,function(u,h){H(c,l,u,a(h,u,f))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),l}}),Lt({target:"Map",proto:!0,real:!0,forced:!0},{merge:function(y){for(var f=nn(this),o=Ye(f.set),a=arguments.length,l=0;l<a;)ra(arguments[l++],o,{that:f,AS_ENTRIES:!0});return f}});var WE=TypeError;Lt({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(y){var f=nn(this),o=al(f),a=arguments.length<2,l=a?void 0:arguments[1];if(Ye(y),ra(o,function(c,u){a?(a=!1,l=u):l=y(l,u,c,f)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a)throw WE("Reduce of empty map with no initial value");return l}}),Lt({target:"Map",proto:!0,real:!0,forced:!0},{some:function(y){var f=nn(this),o=al(f),a=sn(y,arguments.length>1?arguments[1]:void 0);return ra(o,function(l,c,u){if(a(c,l,f))return u()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var YE=TypeError;Lt({target:"Map",proto:!0,real:!0,forced:!0},{update:function(y,f){var o=nn(this),a=Ye(o.get),l=Ye(o.has),c=Ye(o.set),u=arguments.length;Ye(f);var h=H(l,o,y);if(!h&&u<3)throw YE("Updating absent value");var C=h?H(a,o,y):Ye(u>2?arguments[2]:void 0)(y,o);return H(c,o,y,f(C,y,o)),o}});var gx=TypeError,dc=function(y,f){var o,a=nn(this),l=Ye(a.get),c=Ye(a.has),u=Ye(a.set),h=arguments.length>2?arguments[2]:void 0;if(!$(f)&&!$(h))throw gx("At least one callback required");return H(c,a,y)?(o=H(l,a,y),$(f)&&(o=f(o),H(u,a,y,o))):$(h)&&(o=h(),H(u,a,y,o)),o};Lt({target:"Map",proto:!0,real:!0,forced:!0},{upsert:dc}),Lt({target:"Map",proto:!0,real:!0,forced:!0},{updateOrInsert:dc});var Xa=eS,nS=d(function(p){function y(f){var o;return p.exports=y=na?cn(o=Ao).call(o):function(l){return l.__proto__||Ao(l)},p.exports.__esModule=!0,p.exports.default=p.exports,y(f)}p.exports=y,p.exports.__esModule=!0,p.exports.default=p.exports}),yp=d(function(p){p.exports=function(f){var o;return dr(o=Function.toString.call(f)).call(o,"[native code]")!==-1},p.exports.__esModule=!0,p.exports.default=p.exports}),xh=Te("Reflect","construct"),XE=Object.prototype,JE=[].push,wh=T(function(){function p(){}return!(xh(function(){},[],p)instanceof p)}),Nh=!T(function(){xh(function(){})}),QE=wh||Nh;Lt({target:"Reflect",stat:!0,forced:QE,sham:QE},{construct:function(y,f){qm(y),nn(f);var o=arguments.length<3?y:qm(arguments[2]);if(Nh&&!wh)return xh(y,f,o);if(y==o){switch(f.length){case 0:return new y;case 1:return new y(f[0]);case 2:return new y(f[0],f[1]);case 3:return new y(f[0],f[1],f[2]);case 4:return new y(f[0],f[1],f[2],f[3])}var a=[null];return O(JE,a,f),new(O(bo,y,a))}var l=o.prototype,c=Ai(pe(l)?l:XE),u=O(y,c,f);return pe(u)?u:c}});var pc=fe.Reflect.construct,hx=d(function(p){p.exports=function(){if(typeof Reflect>"u"||!pc||pc.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(pc(Boolean,[],function(){})),!0}catch{return!1}},p.exports.__esModule=!0,p.exports.default=p.exports}),ZE=d(function(p){function y(f,o,a){var l;return hx()?(p.exports=y=cn(l=pc).call(l),p.exports.__esModule=!0,p.exports.default=p.exports):(p.exports=y=function(u,h,C){var x=[null];x.push.apply(x,h);var k=new(cn(Function).apply(u,x));return C&&xm(k,C.prototype),k},p.exports.__esModule=!0,p.exports.default=p.exports),y.apply(null,arguments)}p.exports=y,p.exports.__esModule=!0,p.exports.default=p.exports}),eC=d(function(p){function y(f){var o=typeof Xa=="function"?new Xa:void 0;return p.exports=y=function(l){if(l===null||!yp(l))return l;if(typeof l!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(l))return o.get(l);o.set(l,c)}function c(){return ZE(l,arguments,nS(this).constructor)}return c.prototype=Li(l.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),xm(c,l)},p.exports.__esModule=!0,p.exports.default=p.exports,y(f)}p.exports=y,p.exports.__esModule=!0,p.exports.default=p.exports}),ed=i(eC),Rh=TypeError,tC=function(p){return function(y,f,o,a){Ye(f);var l=Bt(y),c=de(l),u=Tr(l),h=p?u-1:0,C=p?-1:1;if(o<2)for(;;){if(h in c){a=c[h],h+=C;break}if(h+=C,p?h<0:u<=h)throw Rh("Reduce of empty array with no initial value")}for(;p?h>=0:u>h;h+=C)h in c&&(a=f(a,c[h],h,l));return a}},nC={left:tC(!1)}.left,rC=Bc("reduce");Lt({target:"Array",proto:!0,forced:!rC||!Go&&qe>79&&qe<83},{reduce:function(y){var f=arguments.length;return nC(this,y,f,f>1?arguments[1]:void 0)}});var Ah,Oh,kh,bp,Lh,Ph,Da,Sf,rS,Dh,aS,iS,oS,Sp,ou,If,Ip,Ef,mc,$s,td,sS,lS,jh,Vh,$h,cS,Cf,Uh,Bh,uS,Tf,Mf,dS,pS,nd,mS,Fh,Zr,_f,Ep,xf,qh,wf,rd,Cp,su,zh,fS,gS,Hh,Gh,Tp,Na,Nf,co=ka("Array").reduce,hS=Array.prototype,ja=function(p){var y=p.reduce;return p===hS||Se(hS,p)&&y===hS.reduce?co:y};(function(p){p[p.V2NIM_DATA_SYNC_TYPE_LEVEL_FULL=0]="V2NIM_DATA_SYNC_TYPE_LEVEL_FULL",p[p.V2NIM_DATA_SYNC_TYPE_LEVEL_BASIC=1]="V2NIM_DATA_SYNC_TYPE_LEVEL_BASIC"})(Ah||(Ah={})),function(p){p[p.V2NIM_DATA_SYNC_TYPE_MAIN=1]="V2NIM_DATA_SYNC_TYPE_MAIN",p[p.V2NIM_DATA_SYNC_TYPE_TEAM_MEMBER=2]="V2NIM_DATA_SYNC_TYPE_TEAM_MEMBER",p[p.V2NIM_DATA_SYNC_TYPE_SUPER_TEAM_MEMBER=3]="V2NIM_DATA_SYNC_TYPE_SUPER_TEAM_MEMBER"}(Oh||(Oh={})),function(p){p[p.V2NIM_DATA_SYNC_STATE_WAITING=1]="V2NIM_DATA_SYNC_STATE_WAITING",p[p.V2NIM_DATA_SYNC_STATE_SYNCING=2]="V2NIM_DATA_SYNC_STATE_SYNCING",p[p.V2NIM_DATA_SYNC_STATE_COMPLETED=3]="V2NIM_DATA_SYNC_STATE_COMPLETED"}(kh||(kh={})),function(p){p[p.V2NIM_CONVERSATION_TYPE_UNKNOWN=0]="V2NIM_CONVERSATION_TYPE_UNKNOWN",p[p.V2NIM_CONVERSATION_TYPE_P2P=1]="V2NIM_CONVERSATION_TYPE_P2P",p[p.V2NIM_CONVERSATION_TYPE_TEAM=2]="V2NIM_CONVERSATION_TYPE_TEAM",p[p.V2NIM_CONVERSATION_TYPE_SUPER_TEAM=3]="V2NIM_CONVERSATION_TYPE_SUPER_TEAM"}(bp||(bp={})),function(p){p[p.V2NIM_MESSAGE_STATUS_DEFAULT=0]="V2NIM_MESSAGE_STATUS_DEFAULT",p[p.V2NIM_MESSAGE_STATUS_REVOKE=1]="V2NIM_MESSAGE_STATUS_REVOKE",p[p.V2NIM_MESSAGE_STATUS_BACKFILL=2]="V2NIM_MESSAGE_STATUS_BACKFILL"}(Lh||(Lh={})),function(p){p[p.V2NIM_FRIEND_MODE_TYPE_ADD=1]="V2NIM_FRIEND_MODE_TYPE_ADD",p[p.V2NIM_FRIEND_MODE_TYPE_APPLY=2]="V2NIM_FRIEND_MODE_TYPE_APPLY"}(Ph||(Ph={})),function(p){p[p.V2NIM_FRIEND_ADD_APPLICATION_TYPE_RECEIVED=1]="V2NIM_FRIEND_ADD_APPLICATION_TYPE_RECEIVED",p[p.V2NIM_FRIEND_ADD_APPLICATION_TYPE_REJECTED=2]="V2NIM_FRIEND_ADD_APPLICATION_TYPE_REJECTED"}(Da||(Da={})),function(p){p[p.V2NIM_FRIEND_ADD_APPLICATION_STATUS_INIT=0]="V2NIM_FRIEND_ADD_APPLICATION_STATUS_INIT",p[p.V2NIM_FRIEND_ADD_APPLICATION_STATUS_AGREED=1]="V2NIM_FRIEND_ADD_APPLICATION_STATUS_AGREED",p[p.V2NIM_FRIEND_ADD_APPLICATION_STATUS_REJECTED=2]="V2NIM_FRIEND_ADD_APPLICATION_STATUS_REJECTED",p[p.V2NIM_FRIEND_ADD_APPLICATION_STATUS_EXPIRED=3]="V2NIM_FRIEND_ADD_APPLICATION_STATUS_EXPIRED",p[p.V2NIM_FRIEND_ADD_APPLICATION_STATUS_DIRECT_ADD=4]="V2NIM_FRIEND_ADD_APPLICATION_STATUS_DIRECT_ADD"}(Sf||(Sf={})),function(p){p[p.V2NIM_FRIEND_DELETION_TYPE_BY_SELF=1]="V2NIM_FRIEND_DELETION_TYPE_BY_SELF",p[p.V2NIM_FRIEND_DELETION_TYPE_BY_PEER=2]="V2NIM_FRIEND_DELETION_TYPE_BY_PEER"}(rS||(rS={})),function(p){p[p.V2NIM_FRIEND_VERIFY_TYPE_ADD=1]="V2NIM_FRIEND_VERIFY_TYPE_ADD",p[p.V2NIM_FRIEND_VERIFY_TYPE_APPLY=2]="V2NIM_FRIEND_VERIFY_TYPE_APPLY",p[p.V2NIM_FRIEND_VERIFY_TYPE_ACCEPT=3]="V2NIM_FRIEND_VERIFY_TYPE_ACCEPT",p[p.V2NIM_FRIEND_VERIFY_TYPE_REJECT=4]="V2NIM_FRIEND_VERIFY_TYPE_REJECT"}(Dh||(Dh={})),function(p){p[p.V2NIM_LOGIN_AUTH_TYPE_DEFAULT=0]="V2NIM_LOGIN_AUTH_TYPE_DEFAULT",p[p.V2NIM_LOGIN_AUTH_TYPE_DYNAMIC_TOKEN=1]="V2NIM_LOGIN_AUTH_TYPE_DYNAMIC_TOKEN",p[p.V2NIM_LOGIN_AUTH_TYPE_THIRD_PARTY=2]="V2NIM_LOGIN_AUTH_TYPE_THIRD_PARTY"}(aS||(aS={})),function(p){p[p.V2NIM_LOGIN_STATUS_LOGOUT=0]="V2NIM_LOGIN_STATUS_LOGOUT",p[p.V2NIM_LOGIN_STATUS_LOGINED=1]="V2NIM_LOGIN_STATUS_LOGINED",p[p.V2NIM_LOGIN_STATUS_LOGINING=2]="V2NIM_LOGIN_STATUS_LOGINING",p[p.V2NIM_LOGIN_STATUS_UNLOGIN=3]="V2NIM_LOGIN_STATUS_UNLOGIN"}(iS||(iS={})),function(p){p[p.V2NIM_LOGIN_CLIENT_TYPE_UNKNOWN=0]="V2NIM_LOGIN_CLIENT_TYPE_UNKNOWN",p[p.V2NIM_LOGIN_CLIENT_TYPE_ANDROID=1]="V2NIM_LOGIN_CLIENT_TYPE_ANDROID",p[p.V2NIM_LOGIN_CLIENT_TYPE_IOS=2]="V2NIM_LOGIN_CLIENT_TYPE_IOS",p[p.V2NIM_LOGIN_CLIENT_TYPE_PC=4]="V2NIM_LOGIN_CLIENT_TYPE_PC",p[p.V2NIM_LOGIN_CLIENT_TYPE_WP=8]="V2NIM_LOGIN_CLIENT_TYPE_WP",p[p.V2NIM_LOGIN_CLIENT_TYPE_WEB=16]="V2NIM_LOGIN_CLIENT_TYPE_WEB",p[p.V2NIM_LOGIN_CLIENT_TYPE_RESTFUL=32]="V2NIM_LOGIN_CLIENT_TYPE_RESTFUL",p[p.V2NIM_LOGIN_CLIENT_TYPE_MAC_OS=64]="V2NIM_LOGIN_CLIENT_TYPE_MAC_OS",p[p.V2NIM_LOGIN_CLIENT_TYPE_HARMONY_OS=65]="V2NIM_LOGIN_CLIENT_TYPE_HARMONY_OS"}(oS||(oS={})),function(p){p[p.V2NIM_KICKED_OFFLINE_REASON_CLIENT_EXCLUSIVE=1]="V2NIM_KICKED_OFFLINE_REASON_CLIENT_EXCLUSIVE",p[p.V2NIM_KICKED_OFFLINE_REASON_SERVER=2]="V2NIM_KICKED_OFFLINE_REASON_SERVER",p[p.V2NIM_KICKED_OFFLINE_REASON_CLIENT=3]="V2NIM_KICKED_OFFLINE_REASON_CLIENT",p[p.V2NIM_KICKED_OFFLINE_REASON_CLIENT_QUIETLY=4]="V2NIM_KICKED_OFFLINE_REASON_CLIENT_QUIETLY"}(Sp||(Sp={})),function(p){p[p.V2NIM_LOGIN_CLIENT_CHANGE_LIST=1]="V2NIM_LOGIN_CLIENT_CHANGE_LIST",p[p.V2NIM_LOGIN_CLIENT_CHANGE_LOGIN=2]="V2NIM_LOGIN_CLIENT_CHANGE_LOGIN",p[p.V2NIM_LOGIN_CLIENT_CHANGE_LOGOUT=3]="V2NIM_LOGIN_CLIENT_CHANGE_LOGOUT"}(ou||(ou={})),function(p){p[p.V2NIM_CONNECT_STATUS_DISCONNECTED=0]="V2NIM_CONNECT_STATUS_DISCONNECTED",p[p.V2NIM_CONNECT_STATUS_CONNECTED=1]="V2NIM_CONNECT_STATUS_CONNECTED",p[p.V2NIM_CONNECT_STATUS_CONNECTING=2]="V2NIM_CONNECT_STATUS_CONNECTING",p[p.V2NIM_CONNECT_STATUS_WAITING=3]="V2NIM_CONNECT_STATUS_WAITING"}(If||(If={})),function(p){p[p.NIM_MESSAGE_AI_STREAM_STATUS_STREAMING=-1]="NIM_MESSAGE_AI_STREAM_STATUS_STREAMING",p[p.NIM_MESSAGE_AI_STREAM_STATUS_NONE=0]="NIM_MESSAGE_AI_STREAM_STATUS_NONE",p[p.NIM_MESSAGE_AI_STREAM_STATUS_PLACEHOLDER=1]="NIM_MESSAGE_AI_STREAM_STATUS_PLACEHOLDER",p[p.NIM_MESSAGE_AI_STREAM_STATUS_CANCEL=2]="NIM_MESSAGE_AI_STREAM_STATUS_CANCEL",p[p.NIM_MESSAGE_AI_STREAM_STATUS_UPDATE=3]="NIM_MESSAGE_AI_STREAM_STATUS_UPDATE",p[p.NIM_MESSAGE_AI_STREAM_STATUS_COMPLETE=4]="NIM_MESSAGE_AI_STREAM_STATUS_COMPLETE",p[p.NIM_MESSAGE_AI_STREAM_STATUS_EXCEPTION=5]="NIM_MESSAGE_AI_STREAM_STATUS_EXCEPTION"}(Ip||(Ip={})),function(p){p[p.V2NIM_MESSAGE_AI_STREAM_STOP_OP_DEFAULT=0]="V2NIM_MESSAGE_AI_STREAM_STOP_OP_DEFAULT",p[p.V2NIM_MESSAGE_AI_STREAM_STOP_OP_REVOKE=1]="V2NIM_MESSAGE_AI_STREAM_STOP_OP_REVOKE",p[p.V2NIM_MESSAGE_AI_STREAM_STOP_OP_UPDATE=2]="V2NIM_MESSAGE_AI_STREAM_STOP_OP_UPDATE"}(Ef||(Ef={})),function(p){p[p.V2NIM_MESSAGE_AI_REGEN_OP_UPDATE=1]="V2NIM_MESSAGE_AI_REGEN_OP_UPDATE",p[p.V2NIM_MESSAGE_AI_REGEN_OP_NEW=2]="V2NIM_MESSAGE_AI_REGEN_OP_NEW"}(mc||(mc={})),function(p){p[p.V2NIM_MESSAGE_AI_STATUS_UNKNOW=0]="V2NIM_MESSAGE_AI_STATUS_UNKNOW",p[p.V2NIM_MESSAGE_AI_STATUS_AT=1]="V2NIM_MESSAGE_AI_STATUS_AT",p[p.V2NIM_MESSAGE_AI_STATUS_RESPONSE=2]="V2NIM_MESSAGE_AI_STATUS_RESPONSE"}($s||($s={})),function(p){p[p.V2NIM_MESSAGE_TYPE_INVALID=-1]="V2NIM_MESSAGE_TYPE_INVALID",p[p.V2NIM_MESSAGE_TYPE_TEXT=0]="V2NIM_MESSAGE_TYPE_TEXT",p[p.V2NIM_MESSAGE_TYPE_IMAGE=1]="V2NIM_MESSAGE_TYPE_IMAGE",p[p.V2NIM_MESSAGE_TYPE_AUDIO=2]="V2NIM_MESSAGE_TYPE_AUDIO",p[p.V2NIM_MESSAGE_TYPE_VIDEO=3]="V2NIM_MESSAGE_TYPE_VIDEO",p[p.V2NIM_MESSAGE_TYPE_LOCATION=4]="V2NIM_MESSAGE_TYPE_LOCATION",p[p.V2NIM_MESSAGE_TYPE_NOTIFICATION=5]="V2NIM_MESSAGE_TYPE_NOTIFICATION",p[p.V2NIM_MESSAGE_TYPE_FILE=6]="V2NIM_MESSAGE_TYPE_FILE",p[p.V2NIM_MESSAGE_TYPE_AVCHAT=7]="V2NIM_MESSAGE_TYPE_AVCHAT",p[p.V2NIM_MESSAGE_TYPE_TIPS=10]="V2NIM_MESSAGE_TYPE_TIPS",p[p.V2NIM_MESSAGE_TYPE_ROBOT=11]="V2NIM_MESSAGE_TYPE_ROBOT",p[p.V2NIM_MESSAGE_TYPE_CALL=12]="V2NIM_MESSAGE_TYPE_CALL",p[p.V2NIM_MESSAGE_TYPE_CUSTOM=100]="V2NIM_MESSAGE_TYPE_CUSTOM"}(td||(td={})),function(p){p[p.V2NIM_SEARCH_KEYWORD_MATCH_TYPE_OR=0]="V2NIM_SEARCH_KEYWORD_MATCH_TYPE_OR",p[p.V2NIM_SEARCH_KEYWORD_MATCH_TYPE_AND=1]="V2NIM_SEARCH_KEYWORD_MATCH_TYPE_AND"}(sS||(sS={})),function(p){p[p.V2NIM_SEARCH_DIRECTION_BACKWARD=0]="V2NIM_SEARCH_DIRECTION_BACKWARD",p[p.V2NIM_SEARCH_DIRECTION_FORWARD=1]="V2NIM_SEARCH_DIRECTION_FORWARD"}(lS||(lS={})),function(p){p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_UNDEFINED=-1]="V2NIM_MESSAGE_NOTIFICATION_TYPE_UNDEFINED",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_INVITE=0]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_INVITE",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_KICK=1]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_KICK",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_LEAVE=2]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_LEAVE",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_UPDATE_TINFO=3]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_UPDATE_TINFO",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_DISMISS=4]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_DISMISS",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_APPLY_PASS=5]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_APPLY_PASS",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_OWNER_TRANSFER=6]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_OWNER_TRANSFER",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_ADD_MANAGER=7]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_ADD_MANAGER",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_REMOVE_MANAGER=8]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_REMOVE_MANAGER",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_INVITE_ACCEPT=9]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_INVITE_ACCEPT",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_BANNED_TEAM_MEMBER=10]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_BANNED_TEAM_MEMBER",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_INVITE=401]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_INVITE",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_KICK=402]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_KICK",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_LEAVE=403]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_LEAVE",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_UPDATE_TINFO=404]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_UPDATE_TINFO",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_DISMISS=405]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_DISMISS",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_APPLY_PASS=410]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_APPLY_PASS",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_OWNER_TRANSFER=406]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_OWNER_TRANSFER",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_ADD_MANAGER=407]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_ADD_MANAGER",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_REMOVE_MANAGER=408]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_REMOVE_MANAGER",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_INVITE_ACCEPT=411]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_INVITE_ACCEPT",p[p.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_BANNED_TEAM_MEMBER=409]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_BANNED_TEAM_MEMBER"}(jh||(jh={})),function(p){p[p.V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_UNKNOWN=0]="V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_UNKNOWN",p[p.V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_SUCCESS=1]="V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_SUCCESS",p[p.V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_FAILED=2]="V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_FAILED",p[p.V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_UPLOADING=3]="V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_UPLOADING"}(Vh||(Vh={})),function(p){p[p.V2NIM_MESSAGE_SENDING_STATE_UNKNOWN=0]="V2NIM_MESSAGE_SENDING_STATE_UNKNOWN",p[p.V2NIM_MESSAGE_SENDING_STATE_SUCCEEDED=1]="V2NIM_MESSAGE_SENDING_STATE_SUCCEEDED",p[p.V2NIM_MESSAGE_SENDING_STATE_FAILED=2]="V2NIM_MESSAGE_SENDING_STATE_FAILED",p[p.V2NIM_MESSAGE_SENDING_STATE_SENDING=3]="V2NIM_MESSAGE_SENDING_STATE_SENDING"}($h||($h={})),function(p){p[p.V2NIM_QUERY_DIRECTION_DESC=0]="V2NIM_QUERY_DIRECTION_DESC",p[p.V2NIM_QUERY_DIRECTION_ASC=1]="V2NIM_QUERY_DIRECTION_ASC"}(cS||(cS={})),function(p){p[p.V2NIM_CLEAR_HISTORY_MODE_ALL=0]="V2NIM_CLEAR_HISTORY_MODE_ALL",p[p.V2NIM_CLEAR_HISTORY_MODE_LOCAL=1]="V2NIM_CLEAR_HISTORY_MODE_LOCAL",p[p.V2NIM_CLEAR_HISTORY_MODE_LOCAL_IRREPARABLY=2]="V2NIM_CLEAR_HISTORY_MODE_LOCAL_IRREPARABLY"}(Cf||(Cf={})),function(p){p[p.V2NIM_MESSAGE_REVOKE_TYPE_UNDEFINED=0]="V2NIM_MESSAGE_REVOKE_TYPE_UNDEFINED",p[p.V2NIM_MESSAGE_REVOKE_TYPE_P2P_BOTHWAY=1]="V2NIM_MESSAGE_REVOKE_TYPE_P2P_BOTHWAY",p[p.V2NIM_MESSAGE_REVOKE_TYPE_TEAM_BOTHWAY=2]="V2NIM_MESSAGE_REVOKE_TYPE_TEAM_BOTHWAY",p[p.V2NIM_MESSAGE_REVOKE_TYPE_SUPERTEAM_BOTHWAY=3]="V2NIM_MESSAGE_REVOKE_TYPE_SUPERTEAM_BOTHWAY",p[p.V2NIM_MESSAGE_REVOKE_TYPE_P2P_ONEWAY=4]="V2NIM_MESSAGE_REVOKE_TYPE_P2P_ONEWAY",p[p.V2NIM_MESSAGE_REVOKE_TYPE_TEAM_ONEWAY=5]="V2NIM_MESSAGE_REVOKE_TYPE_TEAM_ONEWAY"}(Uh||(Uh={})),function(p){p[p.V2NIM_MESSAGE_PIN_STATE_NOT_PINNED=0]="V2NIM_MESSAGE_PIN_STATE_NOT_PINNED",p[p.V2NIM_MESSAGE_PIN_STATE_PINNED=1]="V2NIM_MESSAGE_PIN_STATE_PINNED",p[p.V2NIM_MESSAGE_PIN_STATE_UPDATED=2]="V2NIM_MESSAGE_PIN_STATE_UPDATED"}(Bh||(Bh={})),function(p){p[p.V2NIM_QUICK_COMMENT_STATE_ADD=1]="V2NIM_QUICK_COMMENT_STATE_ADD",p[p.V2NIM_QUICK_COMMENT_STATE_REMOVE=2]="V2NIM_QUICK_COMMENT_STATE_REMOVE"}(uS||(uS={})),function(p){p[p.V2NIM_CLIENT_ANTISPAM_OPERATE_NONE=0]="V2NIM_CLIENT_ANTISPAM_OPERATE_NONE",p[p.V2NIM_CLIENT_ANTISPAM_OPERATE_REPLACE=1]="V2NIM_CLIENT_ANTISPAM_OPERATE_REPLACE",p[p.V2NIM_CLIENT_ANTISPAM_OPERATE_CLIENT_SHIELD=2]="V2NIM_CLIENT_ANTISPAM_OPERATE_CLIENT_SHIELD",p[p.V2NIM_CLIENT_ANTISPAM_OPERATE_SERVER_SHIELD=3]="V2NIM_CLIENT_ANTISPAM_OPERATE_SERVER_SHIELD"}(Tf||(Tf={})),function(p){p[p.V2NIM_SORT_ORDER_DESC=0]="V2NIM_SORT_ORDER_DESC",p[p.V2NIM_SORT_ORDER_ASC=1]="V2NIM_SORT_ORDER_ASC"}(Mf||(Mf={})),function(p){p[p.P2P_DELETE_MSG=7]="P2P_DELETE_MSG",p[p.TEAM_DELETE_MSG=8]="TEAM_DELETE_MSG",p[p.SUPERTEAM_DELETE_MSG=12]="SUPERTEAM_DELETE_MSG",p[p.P2P_ONE_WAY_DELETE_MSG=13]="P2P_ONE_WAY_DELETE_MSG",p[p.TEAM_ONE_WAY_DELETE_MSG=14]="TEAM_ONE_WAY_DELETE_MSG",p[p.CUSTOM_P2P_MSG=100]="CUSTOM_P2P_MSG",p[p.CUSTOM_TEAM_MSG=101]="CUSTOM_TEAM_MSG",p[p.CUSTOM_SUPERTEAM_MSG=103]="CUSTOM_SUPERTEAM_MSG"}(dS||(dS={})),function(p){p[p.NIM_MESSAGE_STREAM_STATUS_STREAMING=-1]="NIM_MESSAGE_STREAM_STATUS_STREAMING",p[p.NIM_MESSAGE_STREAM_STATUS_NONE=0]="NIM_MESSAGE_STREAM_STATUS_NONE",p[p.NIM_MESSAGE_STREAM_STATUS_PLACEHOLDER=1]="NIM_MESSAGE_STREAM_STATUS_PLACEHOLDER",p[p.NIM_MESSAGE_STREAM_STATUS_CANCEL=2]="NIM_MESSAGE_STREAM_STATUS_CANCEL",p[p.NIM_MESSAGE_AI_STREAM_STATUS_UPDATE=3]="NIM_MESSAGE_AI_STREAM_STATUS_UPDATE",p[p.NIM_MESSAGE_STREAM_STATUS_COMPLETE=4]="NIM_MESSAGE_STREAM_STATUS_COMPLETE",p[p.NIM_MESSAGE_STREAM_STATUS_EXCEPTION=5]="NIM_MESSAGE_STREAM_STATUS_EXCEPTION"}(pS||(pS={})),function(p){p[p.V2NIM_TEAM_MESSAGE_MUTE_MODE_OFF=0]="V2NIM_TEAM_MESSAGE_MUTE_MODE_OFF",p[p.V2NIM_TEAM_MESSAGE_MUTE_MODE_ON=1]="V2NIM_TEAM_MESSAGE_MUTE_MODE_ON",p[p.V2NIM_TEAM_MESSAGE_MUTE_MODE_NORMAL_ON=2]="V2NIM_TEAM_MESSAGE_MUTE_MODE_NORMAL_ON"}(nd||(nd={})),function(p){p[p.V2NIM_P2P_MESSAGE_MUTE_MODE_OFF=0]="V2NIM_P2P_MESSAGE_MUTE_MODE_OFF",p[p.V2NIM_P2P_MESSAGE_MUTE_MODE_ON=1]="V2NIM_P2P_MESSAGE_MUTE_MODE_ON"}(mS||(mS={})),function(p){p[p.V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_ALL=0]="V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_ALL",p[p.V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_NORMAL=1]="V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_NORMAL",p[p.V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_MANAGER=2]="V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_MANAGER"}(Fh||(Fh={})),function(p){p[p.V2NIM_TEAM_TYPE_INVALID=0]="V2NIM_TEAM_TYPE_INVALID",p[p.V2NIM_TEAM_TYPE_ADVANCED=1]="V2NIM_TEAM_TYPE_ADVANCED",p[p.V2NIM_TEAM_TYPE_SUPER=2]="V2NIM_TEAM_TYPE_SUPER"}(Zr||(Zr={})),function(p){p[p.V2NIM_TEAM_JOIN_MODE_FREE=0]="V2NIM_TEAM_JOIN_MODE_FREE",p[p.V2NIM_TEAM_JOIN_MODE_APPLY=1]="V2NIM_TEAM_JOIN_MODE_APPLY",p[p.V2NIM_TEAM_JOIN_MODE_INVITE=2]="V2NIM_TEAM_JOIN_MODE_INVITE"}(_f||(_f={})),function(p){p[p.V2NIM_TEAM_AGREE_MODE_AUTH=0]="V2NIM_TEAM_AGREE_MODE_AUTH",p[p.V2NIM_TEAM_AGREE_MODE_NO_AUTH=1]="V2NIM_TEAM_AGREE_MODE_NO_AUTH"}(Ep||(Ep={})),function(p){p[p.V2NIM_TEAM_INVITE_MODE_MANAGER=0]="V2NIM_TEAM_INVITE_MODE_MANAGER",p[p.V2NIM_TEAM_INVITE_MODE_ALL=1]="V2NIM_TEAM_INVITE_MODE_ALL"}(xf||(xf={})),function(p){p[p.V2NIM_TEAM_UPDATE_INFO_MODE_MANAGER=0]="V2NIM_TEAM_UPDATE_INFO_MODE_MANAGER",p[p.V2NIM_TEAM_UPDATE_INFO_MODE_ALL=1]="V2NIM_TEAM_UPDATE_INFO_MODE_ALL"}(qh||(qh={})),function(p){p[p.V2NIM_TEAM_CHAT_BANNED_MODE_UNBAN=0]="V2NIM_TEAM_CHAT_BANNED_MODE_UNBAN",p[p.V2NIM_TEAM_CHAT_BANNED_MODE_BANNED_NORMAL=1]="V2NIM_TEAM_CHAT_BANNED_MODE_BANNED_NORMAL",p[p.V2NIM_TEAM_CHAT_BANNED_MODE_BANNED_ALL=3]="V2NIM_TEAM_CHAT_BANNED_MODE_BANNED_ALL"}(wf||(wf={})),function(p){p[p.V2NIM_TEAM_UPDATE_EXTENSION_MODE_MANAGER=0]="V2NIM_TEAM_UPDATE_EXTENSION_MODE_MANAGER",p[p.V2NIM_TEAM_UPDATE_EXTENSION_MODE_ALL=1]="V2NIM_TEAM_UPDATE_EXTENSION_MODE_ALL"}(rd||(rd={})),function(p){p[p.V2NIM_TEAM_MEMBER_ROLE_NORMAL=0]="V2NIM_TEAM_MEMBER_ROLE_NORMAL",p[p.V2NIM_TEAM_MEMBER_ROLE_OWNER=1]="V2NIM_TEAM_MEMBER_ROLE_OWNER",p[p.V2NIM_TEAM_MEMBER_ROLE_MANAGER=2]="V2NIM_TEAM_MEMBER_ROLE_MANAGER"}(Cp||(Cp={})),function(p){p[p.V2NIM_TEAM_JOIN_ACTION_TYPE_APPLICATION=0]="V2NIM_TEAM_JOIN_ACTION_TYPE_APPLICATION",p[p.V2NIM_TEAM_JOIN_ACTION_TYPE_REJECT_APPLICATION=1]="V2NIM_TEAM_JOIN_ACTION_TYPE_REJECT_APPLICATION",p[p.V2NIM_TEAM_JOIN_ACTION_TYPE_INVITATION=2]="V2NIM_TEAM_JOIN_ACTION_TYPE_INVITATION",p[p.V2NIM_TEAM_JOIN_ACTION_TYPE_REJECT_INVITATION=3]="V2NIM_TEAM_JOIN_ACTION_TYPE_REJECT_INVITATION"}(su||(su={})),function(p){p[p.V2NIM_TEAM_JOIN_ACTION_STATUS_INIT=0]="V2NIM_TEAM_JOIN_ACTION_STATUS_INIT",p[p.V2NIM_TEAM_JOIN_ACTION_STATUS_AGREED=1]="V2NIM_TEAM_JOIN_ACTION_STATUS_AGREED",p[p.V2NIM_TEAM_JOIN_ACTION_STATUS_REJECTED=2]="V2NIM_TEAM_JOIN_ACTION_STATUS_REJECTED",p[p.V2NIM_TEAM_JOIN_ACTION_STATUS_EXPIRED=3]="V2NIM_TEAM_JOIN_ACTION_STATUS_EXPIRED"}(zh||(zh={})),function(p){p[p.teamApply=0]="teamApply",p[p.teamApplyReject=1]="teamApplyReject",p[p.teamInvite=2]="teamInvite",p[p.teamInviteReject=3]="teamInviteReject",p[p.tlistUpdate=4]="tlistUpdate",p[p.superTeamApply=15]="superTeamApply",p[p.superTeamApplyReject=16]="superTeamApplyReject",p[p.superTeamInvite=17]="superTeamInvite",p[p.superTeamInviteReject=18]="superTeamInviteReject"}(fS||(fS={})),function(p){p[p.V2NIM_AI_MODEL_TYPE_UNKNOW=0]="V2NIM_AI_MODEL_TYPE_UNKNOW",p[p.V2NIM_AI_MODEL_TYPE_QWEN=1]="V2NIM_AI_MODEL_TYPE_QWEN",p[p.V2NIM_AI_MODEL_TYPE_AZURE=2]="V2NIM_AI_MODEL_TYPE_AZURE",p[p.V2NIM_AI_MODEL_TYPE_PRIVATE=3]="V2NIM_AI_MODEL_TYPE_PRIVATE"}(gS||(gS={})),function(p){p[p.V2NIM_AI_MODEL_STREAM_CALL_STATUS_NONE=0]="V2NIM_AI_MODEL_STREAM_CALL_STATUS_NONE",p[p.V2NIM_AI_MODEL_STREAM_CALL_STATUS_CANCEL=2]="V2NIM_AI_MODEL_STREAM_CALL_STATUS_CANCEL",p[p.V2NIM_AI_MODEL_STREAM_CALL_STATUS_COMPLETE=4]="V2NIM_AI_MODEL_STREAM_CALL_STATUS_COMPLETE",p[p.V2NIM_AI_MODEL_STREAM_CALL_STATUS_EXCEPTION=5]="V2NIM_AI_MODEL_STREAM_CALL_STATUS_EXCEPTION"}(Hh||(Hh={})),function(p){p.V2NIM_AI_MODEL_ROLE_TYPE_SYSTEM="system",p.V2NIM_AI_MODEL_ROLE_TYPE_USER="user",p.V2NIM_AI_MODEL_ROLE_TYPE_ASSISTANT="assistant"}(Gh||(Gh={})),function(p){p[p.V2NIM_SIGNALLING_EVENT_TYPE_UNKNOWN=0]="V2NIM_SIGNALLING_EVENT_TYPE_UNKNOWN",p[p.V2NIM_SIGNALLING_EVENT_TYPE_CLOSE=1]="V2NIM_SIGNALLING_EVENT_TYPE_CLOSE",p[p.V2NIM_SIGNALLING_EVENT_TYPE_JOIN=2]="V2NIM_SIGNALLING_EVENT_TYPE_JOIN",p[p.V2NIM_SIGNALLING_EVENT_TYPE_INVITE=3]="V2NIM_SIGNALLING_EVENT_TYPE_INVITE",p[p.V2NIM_SIGNALLING_EVENT_TYPE_CANCEL_INVITE=4]="V2NIM_SIGNALLING_EVENT_TYPE_CANCEL_INVITE",p[p.V2NIM_SIGNALLING_EVENT_TYPE_REJECT=5]="V2NIM_SIGNALLING_EVENT_TYPE_REJECT",p[p.V2NIM_SIGNALLING_EVENT_TYPE_ACCEPT=6]="V2NIM_SIGNALLING_EVENT_TYPE_ACCEPT",p[p.V2NIM_SIGNALLING_EVENT_TYPE_LEAVE=7]="V2NIM_SIGNALLING_EVENT_TYPE_LEAVE",p[p.V2NIM_SIGNALLING_EVENT_TYPE_CONTROL=8]="V2NIM_SIGNALLING_EVENT_TYPE_CONTROL",p[p.V2NIM_SIGNALLING_EVENT_TYPE_KICK=9]="V2NIM_SIGNALLING_EVENT_TYPE_KICK"}(Tp||(Tp={})),function(p){p[p.V2NIM_SIGNALLING_CHANNEL_TYPE_AUDIO=1]="V2NIM_SIGNALLING_CHANNEL_TYPE_AUDIO",p[p.V2NIM_SIGNALLING_CHANNEL_TYPE_VIDEO=2]="V2NIM_SIGNALLING_CHANNEL_TYPE_VIDEO",p[p.V2NIM_SIGNALLING_CHANNEL_TYPE_CUSTOM=3]="V2NIM_SIGNALLING_CHANNEL_TYPE_CUSTOM"}(Na||(Na={})),function(p){p[p.V2NIM_USER_STATUS_TYPE_UNKNOWN=0]="V2NIM_USER_STATUS_TYPE_UNKNOWN",p[p.V2NIM_USER_STATUS_TYPE_LOGIN=1]="V2NIM_USER_STATUS_TYPE_LOGIN",p[p.V2NIM_USER_STATUS_TYPE_LOGOUT=2]="V2NIM_USER_STATUS_TYPE_LOGOUT",p[p.V2NIM_USER_STATUS_TYPE_DISCONNECT=3]="V2NIM_USER_STATUS_TYPE_DISCONNECT"}(Nf||(Nf={}));var Rf={V2NIM_ERROR_CODE_UNKNOWN:{code:0,message:"unknown error"},V2NIM_ERROR_CODE_SUCCESS:{code:200,message:"success"},V2NIM_ERROR_CODE_HANDSHAKE:{code:201,message:"handshake error"},V2NIM_ERROR_CODE_REQUEST_TEMPERARY_FORBIDDEN:{code:398,message:"request temprary forbidden"},V2NIM_ERROR_CODE_SERVER_UNIT_ERROR:{code:399,message:"server unit error"},V2NIM_ERROR_CODE_FORBIDDEN:{code:403,message:"forbidden"},V2NIM_ERROR_CODE_NOT_FOUND:{code:404,message:"not found"},V2NIM_ERROR_CODE_PARAMETER_ERROR:{code:414,message:"parameter error"},V2NIM_ERROR_CODE_RATE_LIMIT_REACHED:{code:416,message:"rate limit reached"},V2NIM_ERROR_CODE_MULTI_LOGIN_FORBIDDEN:{code:417,message:"multi login forbidden"},V2NIM_ERROR_CODE_SERVER_INTERNAL_ERROR:{code:500,message:"server internal error"},V2NIM_ERROR_CODE_SERVER_BUSY:{code:503,message:"server busy"},V2NIM_ERROR_CODE_APP_UNREACHABLE:{code:511,message:"app server unreachable"},V2NIM_ERROR_CODE_SERVICE_UNAVAILABLE:{code:514,message:"service unavailable"},V2NIM_ERROR_CODE_PROTOCOL_BLACKHOLE_FILTERED:{code:599,message:"protocol filtered by blackhole rule"},V2NIM_ERROR_CODE_NO_PERMISSION:{code:997,message:"appid has no permission to call the protocol"},V2NIM_ERROR_CODE_UNPACK_ERROR:{code:998,message:"unpack error"},V2NIM_ERROR_CODE_PACK_ERROR:{code:999,message:"pack error"},V2NIM_ERROR_CODE_IM_DISABLED:{code:101301,message:"IM disabled"},V2NIM_ERROR_CODE_SERVICE_ADDRESS_INVALID:{code:101302,message:"service address invalid"},V2NIM_ERROR_CODE_APPKEY_NOT_EXIST:{code:101303,message:"appkey not exist"},V2NIM_ERROR_CODE_BUNDLEID_CHECK_FAILED:{code:101304,message:"bundleid check failed"},V2NIM_ERROR_CODE_APPKEY_BLOCKED:{code:101403,message:"appkey blocked"},V2NIM_ERROR_CODE_INVALID_TOKEN:{code:102302,message:"invalid token"},V2NIM_ERROR_CODE_ROBOT_NOT_ALLOWED:{code:102303,message:"robot not allowed"},V2NIM_ERROR_CODE_ACCOUNT_NOT_EXIST:{code:102404,message:"account not exist"},V2NIM_ERROR_CODE_ACCOUNT_CHAT_BANNED:{code:102421,message:"account chat banned"},V2NIM_ERROR_CODE_ACCOUNT_BANNED:{code:102422,message:"account banned"},V2NIM_ERROR_CODE_ACCOUNT_IN_BLOCK_LIST:{code:102426,message:"account in block list"},V2NIM_ERROR_CODE_USER_PROFILE_NOT_EXIST:{code:103404,message:"user profile not exist"},V2NIM_ERROR_CODE_USER_PROFILE_HIT_ANTISPAM:{code:103451,message:"user profile hit antispam"},V2NIM_ERROR_CODE_PEER_FRIEND_LIMIT:{code:104301,message:"peer friend limit"},V2NIM_ERROR_CODE_FRIEND_APPLICATION_NOT_EXIST:{code:104302,message:"friend application not exist"},V2NIM_ERROR_CODE_FRIEND_NOT_EXIST:{code:104404,message:"friend not exist"},V2NIM_ERROR_CODE_FRIEND_ALREADY_EXIST:{code:104405,message:"friend already exist"},V2NIM_ERROR_CODE_SELF_FRIEND_OPERATION_NOT_ALLOWED:{code:104429,message:"self friend operation not allowed"},V2NIM_ERROR_CODE_FRIEND_LIMIT:{code:104435,message:"friend limit"},V2NIM_ERROR_CODE_FRIEND_OPERATION_RATE_LIMIT:{code:104449,message:"friend operation rate limit"},V2NIM_ERROR_CODE_FRIEND_HIT_ANTISPAM:{code:104451,message:"friend hit antispam"},V2NIM_ERROR_CODE_SELF_MUTE_OPERATION_NOT_ALLOWED:{code:105429,message:"self mute operation not allowed"},V2NIM_ERROR_CODE_MUTE_LIST_LIMIT:{code:105435,message:"mute list limit"},V2NIM_ERROR_CODE_SELF_BLOCK_LIST_OPERATION_NOT_ALLOWED:{code:106429,message:"self block list operation not allowed"},V2NIM_ERROR_CODE_BLOCK_LIST_LIMIT:{code:106435,message:"block list limit"},V2NIM_ERROR_CODE_REVOKE_THIRD_PARTY_MESSAGE_NOT_ALLOWED:{code:107301,message:"revoke third party message not allowed"},V2NIM_ERROR_CODE_SHORT_TO_LONG_URL_FAILED:{code:107307,message:"short to long URL failed"},V2NIM_ERROR_CODE_URL_INVALID:{code:107308,message:"URL invalid"},V2NIM_ERROR_CODE_DURATION_OUT_OF_RANGE:{code:107309,message:"duration out of range"},V2NIM_ERROR_CODE_GET_FILE_META_INFO_FAILED:{code:107310,message:"get file meta info failed"},V2NIM_ERROR_CODE_AUDIO_FILE_SIZE_LIMIT:{code:107311,message:"audio file size limit"},V2NIM_ERROR_CODE_VOICE_TO_TEXT_TIMEOUT:{code:107312,message:"voice to text timeout"},V2NIM_ERROR_CODE_VOICE_TO_TEXT_FAILED:{code:107313,message:"voice to text failed"},V2NIM_ERROR_CODE_REVOKE_EXCEED_TIME_LIMIT:{code:107314,message:"revoke message exceed time limit"},V2NIM_ERROR_CODE_REVOKE_MESSAGE_NOT_ALLOWED:{code:107315,message:"revoke specific message not allowed"},V2NIM_ERROR_CODE_FORCE_PUSH_LIST_LIMIT:{code:107316,message:"force push list limit"},V2NIM_ERROR_CODE_TEAM_MESSAGE_RECEIPT_RATE_LIMIT:{code:107317,message:"team message receipt rate limit"},V2NIM_ERROR_CODE_SNAPSHOT_NOT_EXIST:{code:107318,message:"snapshot not exist"},V2NIM_ERROR_CODE_PIN_LIMIT:{code:107319,message:"pin limit"},V2NIM_ERROR_CODE_PIN_NOT_EXIST:{code:107320,message:"pin not exist"},V2NIM_ERROR_CODE_QUICK_COMMENT_LIMIT:{code:107321,message:"quick comment limit"},V2NIM_ERROR_CODE_PIN_ALREADY_EXIST:{code:107322,message:"pin already exist"},V2NIM_ERROR_CODE_VOICE_TO_TEXT_FUNCTION_DISABLED:{code:107333,message:"voice to text function disabled"},V2NIM_ERROR_CODE_CLOUD_SEARCH_FUNCTION_DISABLED:{code:107334,message:"cloud search function disabled"},V2NIM_ERROR_CODE_ONE_WAY_DELETE_FUNCTION_DISABLED:{code:107335,message:"one-way delete function disabled"},V2NIM_ERRPR_CODE_ONEWAY_DELETION_NOT_ALLOW_FOR_TARGET_MESSAGES:{code:107338,message:"one-way deletion is not allowed for target messages"},V2NIM_ERRPR_CODE_SENDER_CANNOT_INCLUDED_IN_TARGET_LIST:{code:107339,message:"The message sender cannot be included in the target list"},V2NIM_ERROR_CODE_ROBOT_CANNOT_SEND_TARGET_MESSAGE:{code:107340,message:"Robot can not send target message"},V2NIM_ERROR_CODE_PIN_TARGET_MESSAGE_NOT_ALLOWED:{code:107345,message:"Pin target message is not allowed"},V2NIM_ERROR_CODE_TARGET_MESSAGE_NOT_ALLOWED_REPLY:{code:107346,message:"Target message not allowed reply"},V2NIM_ERROR_CODE_TARGET_MESSAGE_NOT_ALLOWED_QUICK_COMMENT:{code:107347,message:"Target message not allowed quick comment"},V2NIM_ERROR_CODE_REVOKE_MESSAGE_TO_SELF_NOT_ALLOWED:{code:107429,message:"revoke message to self not allowed"},V2NIM_ERROR_CODE_APP_CHAT_BANNED:{code:107410,message:"app chat banned"},V2NIM_ERROR_CODE_QUICK_COMMENT_FUNCTION_DISABLED:{code:107326,message:"quick comment function disabled"},V2NIM_ERROR_CODE_PIN_FUNCTION_DISABLED:{code:107327,message:"PIN function disabled"},V2NIM_ERROR_CODE_TEAM_READ_RECEIPT_FUNCTION_DISABLED:{code:107324,message:"read receipt for team messages function disabled"},V2NIM_ERROR_CODE_P2P_READ_RECEIPT_FUNCTION_DISABLED:{code:107325,message:"read receipt for p2p messages function disabled"},V2NIM_ERROR_CODE_RATE_LIMIT_FOR_MESSAGING_REACHED:{code:107323,message:"rate limit for messaging reached"},V2NIM_ERROR_CODE_MESSAGE_HIT_ANTISPAM:{code:107451,message:"message hit antispam"},V2NIM_ERROR_CODE_MESSAGE_NOT_EXIST:{code:107404,message:"message not exist"},V2NIM_ERROR_CODE_UNSENDING_MESSAGE_EXPIRED:{code:107406,message:"unsending message expired"},V2NIM_ERROR_CODE_TEAM_MARK_READ_FAILED:{code:107302,message:"sending message failed for marking message read failed for too many team members"},V2NIM_ERROR_CODE_SENDER_OR_MANAGER_PERMISSION_ONLY_REVOKE:{code:107303,message:"only sender or manager can revoke message"},V2NIM_ERROR_CODE_DELETE_SELF_MESSAGE_NOT_ALLOWED:{code:107328,message:"delete self message not allowed"},V2NIM_ERROR_CODE_NOT_CHATBOT_ACCOUNT:{code:107329,message:"is not chatbot account"},V2NIM_ERROR_CODE_MESSAGE_SENSE_REQUIRED:{code:107330,message:"sender or receiver must sense message"},V2NIM_ERROR_CODE_HIGH_PRIORITY_MESSAGE_RATE_LIMIT:{code:107304,message:"rate limit of high-priority messages exceeded"},ACK_MESSAGE_BE_HIGH_PRIORITY:{code:107305,message:"ack message should be high-priority"},V2NIM_ERROR_CODE_DUPLICATE_CLIENT_MESSAGE_ID:{code:107306,message:"duplicate client message ID"},V2NIM_ERROR_CODE_INVALID_TIME_RANGE:{code:107439,message:"invalid time range"},V2NIM_ERROR_CODE_NOT_ADVANCED_TEAM:{code:108302,message:"not advanced team"},V2NIM_ERROR_CODE_TEAM_MANAGER_LIMIT:{code:108303,message:"team manager limit"},V2NIM_ERROR_CODE_JOINED_TEAM_LIMIT:{code:108305,message:"joined team limit"},V2NIM_ERROR_CODE_TEAM_NORMAL_MEMBER_CHAT_BANNED:{code:108306,message:"team normal member chat banned"},V2NIM_ERROR_CODE_INVITED_ACCOUNT_NOT_FRIEND:{code:108307,message:"invited account not friend"},V2NIM_ERROR_CODE_REJECT_ALL_TEAM_APPLICATIONS:{code:108308,message:"reject all team applications"},V2NIM_ERROR_CODE_TARGETING_MESSAGE_FOR_TEAM_DISABLED:{code:108318,message:"Targeting messages for group chat is disabled"},V2NIM_ERROR_CODE_INCLUSIVE_AS_FALSE_NOT_ALLOWED_FOR_SUPER_TEAM:{code:108319,message:'Setting "inclusive" to false for super teams is not allowed'},V2NIM_ERROR_CODE_CANNOT_MAKE_SUPER_TEAM_MESSAGE_VISIBLE_TO_NEW_MEMBERS:{code:108320,message:"Cannot make super team targeted messages visible to new members"},V2NIM_ERROR_CODE_CANNOT_ALLOW_TARGETED_MESSAGES_INCLUSIVE_TO_NEW_MEMBERS:{code:108321,message:"Cannot allow targeted messages inclusive to new members"},V2NIM_ERROR_CODE_TEAM_NOT_EXIST:{code:108404,message:"team not exist"},V2NIM_ERROR_CODE_TEAM_ALREADY_CHAT_BANNED:{code:108420,message:"team already chat banned"},V2NIM_ERROR_CODE_ALL_TEAM_MEMBER_CHAT_BANNED:{code:108423,message:"all team member chat banned"},V2NIM_ERROR_CODE_EXTENDED_SUPER_TEAM_LIMIT:{code:108434,message:"extended super team limit"},V2NIM_ERROR_CODE_CREATED_TEAM_LIMIT:{code:108435,message:"created team limit"},V2NIM_ERROR_CODE_TEAM_INVITATION_LIMIT:{code:108437,message:"team invitation limit"},V2NIM_ERROR_CODE_TEAM_HIT_ANTISPAM:{code:108451,message:"team hit antispam"},V2NIM_ERROR_CODE_EXTENDED_SUPER_TEAM_LIMIT_NOT_CONFIGURED:{code:108304,message:"extended super team limit not configured"},V2NIM_ERROR_CODE_SUPER_TEAM_SERVICE_DISABLED:{code:108311,message:"super team service disabled"},V2NIM_ERROR_CODE_TEAM_READ_RECEIPT_RECORD_NOT_FOUND:{code:108301,message:"read receipt record for the team message not found"},V2NIM_ERROR_CODE_NOT_MANAGER:{code:108430,message:"unable to assign owner manager"},V2NIM_ERROR_CODE_ONLINE_MEMBER_COUNT_DISABLED:{code:108406,message:"number of online users service disabled"},V2NIM_ERROR_CODE_TRANSFER_DISABLED:{code:108310,message:"unable to transfer the ownership to owner"},V2NIM_ERROR_CODE_CREATE_TEAM_DISABLED:{code:108309,message:"unable to create team with more than %s people"},V2NIM_ERROR_CODE_EXTENDED_SUPER_TEAM_CREATE_FAILED:{code:108313,message:"/ extended super team creation failed，use open api to create the team"},V2NIM_ERROR_CODE_TEAM_MESSAGE_READ_RECEIPT_DISABLED:{code:108312,message:"read receipt for team messages function disabled"},V2NIM_ERROR_CODE_RETRY:{code:108449,message:"an error occurred, try again"},V2NIM_ERROR_CODE_CHAT_BAN_LIST_CONTAIN_NOT_TEAM_MEMBER:{code:109301,message:"list of chat banned users contains non team members"},V2NIM_ERROR_CODE_CHAT_BAN_LIST_CONTAIN_OPERATOR:{code:109303,message:"list of chat banned users contains the operator"},V2NIM_ERROR_CODE_CHAT_BAN_LIST_CONTAIN_TEAM_OWNER:{code:109304,message:"list of chat banned users contains the team owner"},V2NIM_ERROR_CODE_OPERATION_ON_TEAM_MANAGER_NOT_ALLOWED:{code:109305,message:"operation on team manager not allowed"},V2NIM_ERROR_CODE_NO_TEAM_INVITE_PERMISSION:{code:109306,message:"no team invite permission"},V2NIM_ERROR_CODE_TEAM_OWNER_QUIT_NOT_ALLOWED:{code:109307,message:"team owner quit not allowed"},V2NIM_ERROR_CODE_TEAM_OWNER_IN_KICK_LIST:{code:109308,message:"list of kicked user contains the team owner"},V2NIM_ERROR_CODE_INVITE_ROBOT_ACCOUNT_NOT_ALLOWED:{code:109309,message:"invite robot account not allowed"},V2NIM_ERROR_CODE_KICK_OPERATOR_NOT_ALLOWED:{code:109310,message:"kick operator not allowed"},V2NIM_ERROR_CODE_TEAM_MEMBER_ALREADY_EXIST:{code:109311,message:"team member already exist"},V2NIM_ERROR_CODE_TEAM_INVITATION_OR_APPLICATION_NOT_EXIST:{code:109313,message:"team invitation or application not exist"},V2NIM_ERROR_CODE_OPERATION_ON_TEAM_OWNER_NOT_ALLOWED:{code:109314,message:"operation on team owner not allowed"},V2NIM_ERROR_CODE_FORCED_PUSH_LIST_INCLUDES_NON_TARGETED_ACCOUNTS:{code:109318,message:"The forced push list includes non-targeted accounts"},V2NIM_ERROR_CODE_TEAM_MEMBER_NOT_EXIST:{code:109404,message:"team member not exist"},V2NIM_ERROR_CODE_TEAM_MEMBER_CHAT_BANNED:{code:109424,message:"team member chat banned"},V2NIM_ERROR_CODE_TEAM_OWNER_OPERATION_PERMISSION_REQUIRED:{code:109427,message:"team owner operation permission required"},V2NIM_ERROR_CODE_TEAM_OWNER_OR_MANAGER_OPERATION_PERMISSION_REQUIRED:{code:109432,message:"team owner or manager operation permission required"},V2NIM_ERROR_CODE_TEAM_MEMBER_CONCURRENT_OPERATION_FAILED:{code:109449,message:"team member concurrent operation failed"},V2NIM_ERROR_CODE_TEAM_MEMBER_HIT_ANTISPAM:{code:109451,message:"team member hit antispam"},V2NIM_ERROR_CODE_CONVERSATION_AND_ACCOUNT_MISMATCH:{code:110302,message:"conversation and account mismatch"},V2NIM_ERROR_CODE_CONVERSATION_STICK_TOP_LIMIT:{code:110303,message:"conversation stick top limit"},V2NIM_ERROR_CODE_CONVERSATION_BELONGED_GROUP_LIMIT:{code:110304,message:"conversation belonged group limit"},V2NIM_ERROR_CODE_CONVERSATION_IS_NOT_STICK_TOP:{code:110305,message:"conversation is not stick top"},V2NIM_ERROR_CODE_STICK_TOP_DISABLED:{code:110306,message:"conversation stick top disabled"},V2NIM_ERROR_CODE_CONVERSATION_NOT_EXIST:{code:110404,message:"conversation not exist"},V2NIM_ERROR_CODE_CHATROOM_LINK_UNAVAILABLE:{code:113304,message:"chatroom link unavailable"},V2NIM_ERROR_CODE_IM_CONNECTION_ABNORMAL:{code:113305,message:"IM connection abnormal"},V2NIM_ERROR_CODE_CHATROOM_NOT_EXIST:{code:113404,message:"chatroom not exist"},V2NIM_ERROR_CODE_CHATROOM_CLOSED:{code:113406,message:"chatroom closed"},V2NIM_ERROR_CODE_CHATROOM_REPEATED_OPERATION:{code:113409,message:"chatroom repeated operation"},V2NIM_ERROR_CODE_CHATROOM_DISABLED:{code:113410,message:"chatroom disabled"},V2NIM_ERROR_CODE_ALL_CHATROOM_MEMBER_CHAT_BANNED:{code:113423,message:"all chatroom member chat banned"},V2NIM_ERROR_CODE_CHATROOM_HIT_ANTISPAM:{code:113451,message:"chatroom hit antispam"},V2NIM_ERROR_CODE_ANONYMOUS_MEMBER_FORBIDDEN:{code:114303,message:"anonymous member forbidden"},V2NIM_ERROR_CODE_CHATROOM_MEMBER_NOT_EXIST:{code:114404,message:"chatroom member not exist"},V2NIM_ERROR_CODE_CHATROOM_MEMBER_REPEATED_OPERATION:{code:114405,message:"chatroom member repeated operation"},V2NIM_ERROR_CODE_CHATROOM_MEMBER_CHAT_BANNED:{code:114421,message:"chatroom member chat banned"},V2NIM_ERROR_CODE_ACCOUNT_IN_CHATROOM_BLOCK_LIST:{code:114426,message:"account in chatroom block list"},V2NIM_ERROR_CODE_CHATROOM_OWNER_OPERATION_PERMISSION_REQUIRED:{code:114427,message:"chatroom owner operation permission required"},V2NIM_ERROR_CODE_SELF_IN_CHATROOM_MEMBER_OPERATION_LIST:{code:114429,message:"self in chatroom member operation list"},V2NIM_ERROR_CODE_CHATROOM_OWNER_OR_MANAGER_OPERATION_PERMISSION_REQUIRED:{code:114432,message:"chatroom owner or manager operation permission required"},V2NIM_ERROR_CODE_CHATROOM_MEMBER_LIMIT:{code:114437,message:"chatroom member limit"},V2NIM_ERROR_CODE_CHATROOM_MEMBER_CONCURRENT_OPERATION_FAILED:{code:114449,message:"chatroom member concurrent operation failed"},V2NIM_ERROR_CODE_CHATROOM_MEMBER_HIT_ANTISPAM:{code:114451,message:"chatroom member hit antispam"},V2NIM_ERROR_CODE_CONVERSATION_GROUP_NOT_EXIST:{code:116404,message:"conversation group not exist"},V2NIM_ERROR_CODE_CONVERSATION_GROUP_LIMIT:{code:116435,message:"conversation group limit"},V2NIM_ERROR_CODE_CONVERSATIONS_IN_GROUP_LIMIT:{code:116437,message:"conversations in group limit"},V2NIM_ERROR_CODE_COLLECTION_LIMIT:{code:189301,message:"collection limit"},V2NIM_ERROR_CODE_COLLECTION_NOT_EXIST:{code:189302,message:"collection not exist"},V2NIM_ERROR_CODE_COLLECTION_CONCURRENT_OPERATION_FAILED:{code:189449,message:"collection concurrent operation failed"},V2NIM_ERROR_CODE_INTERNAL:{code:190001,message:"internal error"},V2NIM_ERROR_CODE_ILLEGAL_STATE:{code:190002,message:"illegal state"},V2NIM_ERROR_CODE_MISUSE:{code:191001,message:"misuse"},V2NIM_ERROR_CODE_CANCELLED:{code:191002,message:"operation cancelled"},V2NIM_ERROR_CODE_CALLBACK_FAILED:{code:191003,message:"callback failed"},V2NIM_ERROR_CODE_INVALID_PARAMETER:{code:191004,message:"invalid parameter"},V2NIM_ERROR_CODE_TIMEOUT:{code:191005,message:"timeout"},V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST:{code:191006,message:"resource not exist"},V2NIM_ERROR_CODE_RESOURCE_ALREADY_EXIST:{code:191007,message:"resource already exist"},V2NIM_ERROR_CODE_CONNECT_FAILED:{code:192001,message:"connect failed"},V2NIM_ERROR_CODE_CONNECT_TIMEOUT:{code:192002,message:"connect timeout"},V2NIM_ERROR_CODE_DISCONNECT:{code:192003,message:"disconnect"},V2NIM_ERROR_CODE_PROTOCOL_TIMEOUT:{code:192004,message:"protocol timeout"},V2NIM_ERROR_CODE_PROTOCOL_SEND_FAILED:{code:192005,message:"protocol send failed"},V2NIM_ERROR_CODE_REQUEST_FAILED:{code:192006,message:"request failed"},V2NIM_ERROR_CODE_FILE_NOT_FOUND:{code:194001,message:"file not found"},V2NIM_ERROR_CODE_FILE_CREATE_FAILED:{code:194002,message:"file create failed"},V2NIM_ERROR_CODE_FILE_OPEN_FAILED:{code:194003,message:"file open failed"},V2NIM_ERROR_CODE_FILE_WRITE_FAILED:{code:194004,message:"file write failed"},V2NIM_ERROR_CODE_FILE_READ_FAILED:{code:194005,message:"file read failed"},V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:{code:194006,message:"file upload failed"},V2NIM_ERROR_CODE_FILE_DOWNLOAD_FAILED:{code:194007,message:"file download failed"},V2NIM_ERROR_CODE_CLIENT_ANTISPAM:{code:195001,message:"client anti-spam"},V2NIM_ERROR_CODE_SERVER_ANTISPAM:{code:195002,message:"server anti-spam"},V2NIM_ERROR_CODE_STREAM_OUTPUT_STOPPED:{code:189318,message:"Streaming text response stopped"},V2NIM_ERROR_CODE_STREAM_OUTPUT_GENERATED:{code:189319,message:"Streaming text response generated"},V2NIM_ERROR_CODE_STREAM_OUTPUT_ABORTED:{code:189320,message:"Streaming text response aborted due to exception"},V2NIM_ERROR_CODE_INTERRUPTION_REJECTED:{code:189321,message:"Non-streaming messages cannot be interrupted"}},ad=Gn(Rf),it=ja(ad).call(ad,function(p,y){var f=Rf[y];return p[y]=f.code,p},{}),Kh=ja(ad).call(ad,function(p,y){var f=Rf[y];return p[f.code]=f.message,p},{}),vS=Object.freeze({__proto__:null,V2NIMErrorCode:it,V2NIMErrorDesc:Kh,get V2NIMDataSyncLevel(){return Ah},get V2NIMDataSyncType(){return Oh},get V2NIMDataSyncState(){return kh},get V2NIMConversationType(){return bp},get V2NIMLastMessageState(){return Lh},get V2NIMFriendAddMode(){return Ph},get V2NIMFriendAddApplicationType(){return Da},get V2NIMFriendAddApplicationStatus(){return Sf},get V2NIMFriendDeletionType(){return rS},get V2NIMFriendVerifyType(){return Dh},get V2NIMLoginAuthType(){return aS},get V2NIMLoginStatus(){return iS},get V2NIMLoginClientType(){return oS},get V2NIMKickedOfflineReason(){return Sp},get V2NIMLoginClientChange(){return ou},get V2NIMConnectStatus(){return If},get V2NIMMessageType(){return td},get V2NIMMessageNotificationType(){return jh},get V2NIMMessageAttachmentUploadState(){return Vh},get V2NIMMessageSendingState(){return $h},get V2NIMQueryDirection(){return cS},get V2NIMMessageRevokeType(){return Uh},get V2NIMMessagePinState(){return Bh},get V2NIMMessageQuickCommentType(){return uS},get V2NIMClientAntispamOperateType(){return Tf},get V2NIMSortOrder(){return Mf},get V2NIMSystemMessageType(){return dS},get V2NIMMessageAIStreamStatus(){return Ip},get V2NIMMessageAIStreamStopOpType(){return Ef},get V2NIMMessageAIRegenOpType(){return mc},get V2NIMMessageAIStatus(){return $s},get V2NIMSearchKeywordMatchType(){return sS},get V2NIMClearHistoryMode(){return Cf},get V2NIMMessageStreamStatus(){return pS},get V2NIMTeamMessageMuteMode(){return nd},get V2NIMP2PMessageMuteMode(){return mS},get V2NIMTeamMemberRoleQueryType(){return Fh},get V2NIMTeamType(){return Zr},get V2NIMTeamJoinMode(){return _f},get V2NIMTeamAgreeMode(){return Ep},get V2NIMTeamInviteMode(){return xf},get V2NIMTeamUpdateInfoMode(){return qh},get V2NIMTeamChatBannedMode(){return wf},get V2NIMTeamUpdateExtensionMode(){return rd},get V2NIMTeamJoinActionType(){return su},get V2NIMTeamJoinActionStatus(){return zh},get V2NIMTeamNotificationType(){return fS},get V2NIMTeamMemberRole(){return Cp},get V2NIMAIModelRoleType(){return Gh},get V2NIMAIModelType(){return gS},get V2NIMAIModelStreamCallStatus(){return Hh},get V2NIMSignallingChannelType(){return Na},get V2NIMSignallingEventType(){return Tp},get V2NIMUserStatusType(){return Nf}}),Ct=function(p){function y(f){var o;return(o=p.call(this,f.desc)||this).name="V2NIMError",o.code=f.code||0,o.desc=f.desc||Kh[o.code]||aC[o.code]||"",o.message=o.desc,o.detail=f.detail||{},o}return pr(y,p),y.prototype.toString=function(){var o,a=this.name+`
 code: `+this.code+`
 message: "`+this.message+`"
 detail: `+(this.detail?$t(this.detail):"");return!((o=this==null?void 0:this.detail)===null||o===void 0)&&o.rawError&&(a+=`
 rawError: `+this.detail.rawError.message),a},y}(ed(Error)),fc=function(p){function y(f,o,a){var l;return o===void 0&&(o={}),(l=p.call(this,{code:it.V2NIM_ERROR_CODE_PARAMETER_ERROR,detail:{reason:f,rules:a,data:o}})||this).name="validateError",l.message=l.message+`
`+$t(l.detail,null,2),l.data=o,l.rules=a,l}return pr(y,p),y}(Ct),il=function(p){function y(f){var o,a,l,c;return(o=p.call(this,{code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:(a=f.detail)===null||a===void 0?void 0:a.reason,rules:(l=f.detail)===null||l===void 0?void 0:l.rules,data:(c=f.detail)===null||c===void 0?void 0:c.data}})||this).name="ValidateErrorV2",o}return pr(y,p),y}(Ct),yS=function(p){function y(f,o,a){var l;return(l=p.call(this,{code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:f,key:o,rules:a}})||this).name="formatError",l}return pr(y,p),y}(Ct),Al=function(p){function y(f){var o;return(o=p.call(this,ce({code:400},f))||this).desc=o.desc||"upload file error",o.message=o.desc,o.name="uploadError",o}return pr(y,p),y}(Ct),Or=function(p){function y(f,o,a){var l;return o===void 0&&(o={}),a===void 0&&(a=400),(l=p.call(this,{code:a,desc:f,detail:o})||this).name="customError",l.data=o,l}return pr(y,p),y}(Ct),aC={200:null,406:null,808:null,810:null,302:"The user name or password is incorrect.",405:"Parameter length too long",408:"Client request timed out",415:"Client network unavailable",422:"Account disabled",508:"Expiration date",509:"Invalid",7101:"Be pulled black",700:"Partial failure of batch operation",801:"The number of people in the team has reached the upper limit",802:"No permission",803:"The team does not exist or has not changed",804:"The user is not in the team",805:"Team type mismatch",806:"The number of teams created has reached the limit",807:"Team member not valid",809:"Already in the team",811:"The number of accounts in the forced push list exceeds the limit",812:"The team is muted",813:"Due to the limited number of team, some pull people successfully",814:"Disable team message read service",815:"Maximum number of team administrators",816:"Batch operation partial failure",9102:"Channel failure",9103:"This call has been answered / rejected at another end",10201:"Signaling: target NIM client is offline",10202:"Signaling: push is unreachable",10404:"Signaling: channel not exists",10405:"Signaling: channel already exists",10406:"Signaling: member of channel not exists",10407:"Signaling: member of channel already exists",10408:"Signaling: the invitation request does not exist or has expired",10409:"Signaling: the invitation request has been rejected",10410:"Signaling: the invitation request has been accepted",10414:"Signaling: request parameter error",10417:"Signaling: uid conflict",10419:"Signaling: the number of members of channel exceed the limit",10420:"Signaling: member is already in the channel on other client",10700:"Signaling: phased success",13002:"Abnormal chatroom status",13003:"In the blacklist",13004:"In the mute list",13006:"All members are muted, and only the administrator can speak"};function Ol(p,y){return y=y||[],Tn(p=p||[]).call(p,function(f){return dr(y).call(y,f)===-1})}function bS(p,y){return y instanceof RegExp?"__REGEXP "+y.toString():y}function ge(p,y,f,o){var a;y===void 0&&(y={}),o===void 0&&(o=!1);var l={};return rt(a=Gn(p)).call(a,function(c){var u=p[c].type,h=f?"In "+f+", ":"";if(y==null){var C=h+"param is null or undefined";throw o?new il({detail:{reason:C,data:{key:c},rules:"required"}}):new fc(C,{key:c},"required")}if(y[c]===void 0){if(p[c].required===!1)return void(l[c]=y[c]);var x=h+"param '"+c+"' is required";throw o?new il({detail:{reason:x,data:{key:c},rules:"required"}}):new fc(x,{key:c},"required")}var k=vx[u];if(k&&!k(y,c,p[c],o)){var B=h+"param '"+c+"' unexpected",W={key:c,value:y[c]};throw o?new il({detail:{reason:B,data:W,rules:$t(p[c],bS)}}):new fc(B,W,$t(p[c],bS))}l[c]=y[c]}),l}var vx={string:function(y,f,o){var a=o.allowEmpty,l=o.max,c=o.min,u=o.regExp,h=y[f];return typeof h=="string"&&(a!==!1||h!=="")&&!(typeof l=="number"&&h.length>l)&&!(typeof c=="number"&&h.length<c)&&!(function(x){return Object.prototype.toString.call(x)==="[object RegExp]"}(u)&&!u.test(h))},number:function(y,f,o){var a=o.min,l=o.max,c=y[f];return typeof c=="number"&&!(typeof a=="number"&&c<a)&&!(typeof l=="number"&&c>l)},boolean:function(y,f){return typeof y[f]=="boolean"},file:function(y,f){return!0},enum:function(y,f,o){var a=Xo(o),l=y[f];return!a||dr(a).call(a,l)>-1},jsonstr:function(y,f){try{var o=JSON.parse(y[f]);return typeof o=="object"&&o!==null}catch{return!1}},func:function(y,f){return typeof y[f]=="function"},array:function(y,f,o,a){a===void 0&&(a=!1);var l=o.itemType,c=o.itemRules,u=o.rules,h=o.min,C=o.max,x=Xo(o),k=y[f];if(!Nr(k)||typeof C=="number"&&k.length>C||typeof h=="number"&&k.length<h)return!1;if(c)rt(k).call(k,function(B,W){var Y,ne;ge(((Y={})[W]=c,Y),((ne={})[W]=B,ne),f+"["+W+"]",a)});else if(u)rt(k).call(k,function(B,W){return ge(u,B,f+"["+W+"]",a)});else if(l==="enum"){if(x&&Ol(k,x).length)return!1}else if(l&&!rl(k).call(k,function(B){return typeof B===l}))return!1;return!0},object:function(y,f,o,a){a===void 0&&(a=!1);var l=o.rules,c=o.allowEmpty,u=y[f];if(typeof u!="object"||u===null)return!1;if(l){var h=Gn(l),C=Gn(u),x=Tn(C).call(C,function(k){return dr(h).call(h,k)>-1});if(c===!1&&x.length===0)return!1;ge(l,u,f,a)}return!0}};function Za(p,y){if(!p)throw new Ct({code:it.V2NIM_ERROR_CODE_ILLEGAL_STATE});ge({conversationId:{type:"string",allowEmpty:!1,regExp:new RegExp("^"+p+"\\|[1-3]\\|")}},{conversationId:y},"",!0)}var SS=function(p,y,f,o){try{return o?y(nn(f)[0],f[1]):y(f)}catch(a){db(p,"throw",a)}},iC=Array,ol=!Mb(function(p){Array.from(p)});Lt({target:"Array",stat:!0,forced:ol},{from:function(y){var f=Bt(y),o=km(this),a=arguments.length,l=a>1?arguments[1]:void 0,c=l!==void 0;c&&(l=sn(l,a>2?arguments[2]:void 0));var u,h,C,x,k,B,W=qi(f),Y=0;if(!W||this===iC&&Vm(W))for(u=Tr(f),h=o?new this(u):iC(u);u>Y;Y++)B=c?l(f[Y],Y):f[Y],wo(h,Y,B);else for(k=(x=qu(f,W)).next,h=o?new this:[];!(C=H(k,x)).done;Y++)B=c?SS(x,l,[C.value,Y],!0):C.value,wo(h,Y,B);return h.length=Y,h}});var ma=fe.Array.from,Eo=qi;function IS(p,y){var f,o=Ma!==void 0&&Eo(p)||p["@@iterator"];if(o)return cn(f=(o=o.call(p)).next).call(f,o);if(Nr(p)||(o=function(c,u){if(c){var h;if(typeof c=="string")return Mp(c,u);var C=zn(h={}.toString.call(c)).call(h,8,-1);return C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set"?ma(c):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?Mp(c,u):void 0}}(p))||y){o&&(p=o);var a=0;return function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mp(p,y){(y==null||y>p.length)&&(y=p.length);for(var f=0,o=Array(y);f<y;f++)o[f]=p[f];return o}var bs=function(){function p(){this.timerList=[],this.id=1,this.timer=null,this.timeout=0}var y=p.prototype;return y.addTimer=function(o,a,l){a===void 0&&(a=0),l===void 0&&(l=1);var c=new Date().getTime(),u=this.id;return this.timerList.push({id:u,loop:l,count:0,timeout:c+a,interval:a,callback:o}),this.id++,this.checkTimer(c),u},y.checkTimer=function(o){if(o===void 0&&(o=new Date().getTime()),this.removeFinished(),this.timerList.length!==0||this.timer==null){for(var a,l,c=0,u=IS(this.timerList);!(a=u()).done;){var h=a.value;(c===0||c>h.timeout)&&(c=h.timeout)}this.timerList.length!==0&&(this.timer===null||c<this.timeout||this.timeout<o)&&(this.timer=pa(cn(l=this.nowTime).call(l,this),c-o),this.timeout=c)}},y.nowTime=function(){for(var o,a=new Date().getTime(),l=IS(this.timerList);!(o=l()).done;){var c=o.value;a>=c.timeout&&(c.callback(),c.count++,c.timeout=a+c.interval)}this.clerTime(),this.checkTimer(a)},y.clerTime=function(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)},y.deleteTimer=function(o){for(var a=this.timerList.length-1;a>=0;a--){var l;this.timerList[a].id===o&&Qa(l=this.timerList).call(l,a,1)}},y.removeFinished=function(){for(var o=this.timerList.length-1;o>=0;o--){var a,l=this.timerList[o];l.loop>=0&&l.count>=l.loop&&Qa(a=this.timerList).call(a,o,1)}},y.destroy=function(){this.clerTime(),this.timerList=[],this.id=1,this.timer=null},p}(),oC=d(function(p){function y(f){return p.exports=y=typeof Ma=="function"&&typeof Di=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Ma=="function"&&o.constructor===Ma&&o!==Ma.prototype?"symbol":typeof o},p.exports.__esModule=!0,p.exports.default=p.exports,y(f)}p.exports=y,p.exports.__esModule=!0,p.exports.default=p.exports}),Wh=d(function(p){var y=oC.default;function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */p.exports=f=function(){return o},p.exports.__esModule=!0,p.exports.default=p.exports;var o={},a=Object.prototype,l=a.hasOwnProperty,c=typeof Ma=="function"?Ma:{},u=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",C=c.toStringTag||"@@toStringTag";function x(ze,mt,Tt){return Jr(ze,mt,{value:Tt,enumerable:!0,configurable:!0,writable:!0}),ze[mt]}try{x({},"")}catch{x=function(Tt,Be,dn){return Tt[Be]=dn}}function k(ze,mt,Tt,Be){var dn=mt&&mt.prototype instanceof Y?mt:Y,Nn=Li(dn.prototype),Dt=new me(Be||[]);return Nn._invoke=function(cr,_a,Sr){var Ot="suspendedStart";return function(Ft,ar){if(Ot==="executing")throw new Error("Generator is already running");if(Ot==="completed"){if(Ft==="throw")throw ar;return Ge()}for(Sr.method=Ft,Sr.arg=ar;;){var hn=Sr.delegate;if(hn){var Lr=We(hn,Sr);if(Lr){if(Lr===W)continue;return Lr}}if(Sr.method==="next")Sr.sent=Sr._sent=Sr.arg;else if(Sr.method==="throw"){if(Ot==="suspendedStart")throw Ot="completed",Sr.arg;Sr.dispatchException(Sr.arg)}else Sr.method==="return"&&Sr.abrupt("return",Sr.arg);Ot="executing";var gr=B(cr,_a,Sr);if(gr.type==="normal"){if(Ot=Sr.done?"completed":"suspendedYield",gr.arg===W)continue;return{value:gr.arg,done:Sr.done}}gr.type==="throw"&&(Ot="completed",Sr.method="throw",Sr.arg=gr.arg)}}}(ze,Tt,Dt),Nn}function B(ze,mt,Tt){try{return{type:"normal",arg:ze.call(mt,Tt)}}catch(Be){return{type:"throw",arg:Be}}}o.wrap=k;var W={};function Y(){}function ne(){}function se(){}var xe={};x(xe,u,function(){return this});var we=Ao&&Ao(Ao(Ve([])));we&&we!==a&&l.call(we,u)&&(xe=we);var $e=se.prototype=Y.prototype=Li(xe);function Me(ze){var mt;rt(mt=["next","throw","return"]).call(mt,function(Tt){x(ze,Tt,function(Be){return this._invoke(Tt,Be)})})}function Fe(ze,mt){function Tt(dn,Nn,Dt,cr){var _a=B(ze[dn],ze,Nn);if(_a.type!=="throw"){var Sr=_a.arg,Ot=Sr.value;return Ot&&y(Ot)=="object"&&l.call(Ot,"__await")?mt.resolve(Ot.__await).then(function(Ft){Tt("next",Ft,Dt,cr)},function(Ft){Tt("throw",Ft,Dt,cr)}):mt.resolve(Ot).then(function(Ft){Sr.value=Ft,Dt(Sr)},function(Ft){return Tt("throw",Ft,Dt,cr)})}cr(_a.arg)}var Be;this._invoke=function(dn,Nn){function Dt(){return new mt(function(cr,_a){Tt(dn,Nn,cr,_a)})}return Be=Be?Be.then(Dt,Dt):Dt()}}function We(ze,mt){var Tt=ze.iterator[mt.method];if(Tt===void 0){if(mt.delegate=null,mt.method==="throw"){if(ze.iterator.return&&(mt.method="return",mt.arg=void 0,We(ze,mt),mt.method==="throw"))return W;mt.method="throw",mt.arg=new TypeError("The iterator does not provide a 'throw' method")}return W}var Be=B(Tt,ze.iterator,mt.arg);if(Be.type==="throw")return mt.method="throw",mt.arg=Be.arg,mt.delegate=null,W;var dn=Be.arg;return dn?dn.done?(mt[ze.resultName]=dn.value,mt.next=ze.nextLoc,mt.method!=="return"&&(mt.method="next",mt.arg=void 0),mt.delegate=null,W):dn:(mt.method="throw",mt.arg=new TypeError("iterator result is not an object"),mt.delegate=null,W)}function Ae(ze){var mt={tryLoc:ze[0]};1 in ze&&(mt.catchLoc=ze[1]),2 in ze&&(mt.finallyLoc=ze[2],mt.afterLoc=ze[3]),this.tryEntries.push(mt)}function Ee(ze){var mt=ze.completion||{};mt.type="normal",delete mt.arg,ze.completion=mt}function me(ze){this.tryEntries=[{tryLoc:"root"}],rt(ze).call(ze,Ae,this),this.reset(!0)}function Ve(ze){if(ze){var mt=ze[u];if(mt)return mt.call(ze);if(typeof ze.next=="function")return ze;if(!isNaN(ze.length)){var Tt=-1,Be=function dn(){for(;++Tt<ze.length;)if(l.call(ze,Tt))return dn.value=ze[Tt],dn.done=!1,dn;return dn.value=void 0,dn.done=!0,dn};return Be.next=Be}}return{next:Ge}}function Ge(){return{value:void 0,done:!0}}return ne.prototype=se,x($e,"constructor",se),x(se,"constructor",ne),ne.displayName=x(se,C,"GeneratorFunction"),o.isGeneratorFunction=function(ze){var mt=typeof ze=="function"&&ze.constructor;return!!mt&&(mt===ne||(mt.displayName||mt.name)==="GeneratorFunction")},o.mark=function(ze){return na?na(ze,se):(ze.__proto__=se,x(ze,C,"GeneratorFunction")),ze.prototype=Li($e),ze},o.awrap=function(ze){return{__await:ze}},Me(Fe.prototype),x(Fe.prototype,h,function(){return this}),o.AsyncIterator=Fe,o.async=function(ze,mt,Tt,Be,dn){dn===void 0&&(dn=Zt);var Nn=new Fe(k(ze,mt,Tt,Be),dn);return o.isGeneratorFunction(mt)?Nn:Nn.next().then(function(Dt){return Dt.done?Dt.value:Nn.next()})},Me($e),x($e,C,"Generator"),x($e,u,function(){return this}),x($e,"toString",function(){return"[object Generator]"}),o.keys=function(ze){var mt=[];for(var Tt in ze)mt.push(Tt);return js(mt).call(mt),function Be(){for(;mt.length;){var dn=mt.pop();if(dn in ze)return Be.value=dn,Be.done=!1,Be}return Be.done=!0,Be}},o.values=Ve,me.prototype={constructor:me,reset:function(mt){var Tt;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,rt(Tt=this.tryEntries).call(Tt,Ee),!mt)for(var Be in this)Be.charAt(0)==="t"&&l.call(this,Be)&&!isNaN(+zn(Be).call(Be,1))&&(this[Be]=void 0)},stop:function(){this.done=!0;var mt=this.tryEntries[0].completion;if(mt.type==="throw")throw mt.arg;return this.rval},dispatchException:function(mt){if(this.done)throw mt;var Tt=this;function Be(Sr,Ot){return Dt.type="throw",Dt.arg=mt,Tt.next=Sr,Ot&&(Tt.method="next",Tt.arg=void 0),!!Ot}for(var dn=this.tryEntries.length-1;dn>=0;--dn){var Nn=this.tryEntries[dn],Dt=Nn.completion;if(Nn.tryLoc==="root")return Be("end");if(Nn.tryLoc<=this.prev){var cr=l.call(Nn,"catchLoc"),_a=l.call(Nn,"finallyLoc");if(cr&&_a){if(this.prev<Nn.catchLoc)return Be(Nn.catchLoc,!0);if(this.prev<Nn.finallyLoc)return Be(Nn.finallyLoc)}else if(cr){if(this.prev<Nn.catchLoc)return Be(Nn.catchLoc,!0)}else{if(!_a)throw new Error("try statement without catch or finally");if(this.prev<Nn.finallyLoc)return Be(Nn.finallyLoc)}}}},abrupt:function(mt,Tt){for(var Be=this.tryEntries.length-1;Be>=0;--Be){var dn=this.tryEntries[Be];if(dn.tryLoc<=this.prev&&l.call(dn,"finallyLoc")&&this.prev<dn.finallyLoc){var Nn=dn;break}}Nn&&(mt==="break"||mt==="continue")&&Nn.tryLoc<=Tt&&Tt<=Nn.finallyLoc&&(Nn=null);var Dt=Nn?Nn.completion:{};return Dt.type=mt,Dt.arg=Tt,Nn?(this.method="next",this.next=Nn.finallyLoc,W):this.complete(Dt)},complete:function(mt,Tt){if(mt.type==="throw")throw mt.arg;return mt.type==="break"||mt.type==="continue"?this.next=mt.arg:mt.type==="return"?(this.rval=this.arg=mt.arg,this.method="return",this.next="end"):mt.type==="normal"&&Tt&&(this.next=Tt),W},finish:function(mt){for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var Be=this.tryEntries[Tt];if(Be.finallyLoc===mt)return this.complete(Be.completion,Be.afterLoc),Ee(Be),W}},catch:function(mt){for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var Be=this.tryEntries[Tt];if(Be.tryLoc===mt){var dn=Be.completion;if(dn.type==="throw"){var Nn=dn.arg;Ee(Be)}return Nn}}throw new Error("illegal catch attempt")},delegateYield:function(mt,Tt,Be){return this.delegate={iterator:Ve(mt),resultName:Tt,nextLoc:Be},this.method==="next"&&(this.arg=void 0),W}},o}p.exports=f,p.exports.__esModule=!0,p.exports.default=p.exports}),Us=Wh(),q=Us;try{regeneratorRuntime=Us}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Us:Function("r","regeneratorRuntime = r")(Us)}function Ja(p,y){var f={};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&y.indexOf(o)<0&&(f[o]=p[o]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(o=Object.getOwnPropertySymbols(p);a<o.length;a++)y.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(p,o[a])&&(f[o[a]]=p[o[a]])}return f}function le(p,y,f,o){return new(f||(f=Promise))(function(a,l){function c(C){try{h(o.next(C))}catch(x){l(x)}}function u(C){try{h(o.throw(C))}catch(x){l(x)}}function h(C){C.done?a(C.value):function(k){return k instanceof f?k:new f(function(B){B(k)})}(C.value).then(c,u)}h((o=o.apply(p,[])).next())})}function lu(p){return p!=null&&typeof p=="object"&&Ao(p)==Object.prototype}function sC(p,y){var f=lu(p)||Nr(p),o=lu(y)||Nr(y);if(f&&o){for(var a in y){var l=sC(p[a],y[a]);l!==void 0&&(p[a]=l)}return p}return y}var rn={setLogger:function(y){throw new Error("setLogger not implemented.")},platform:"",WebSocket:function(){function p(f,o){throw this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3,this.binaryType="",new Error("Method not implemented.")}var y=p.prototype;return y.close=function(o,a){throw new Error("Method not implemented.")},y.send=function(o){throw new Error("Method not implemented.")},y.onclose=function(o){throw new Error("Method not implemented.")},y.onerror=function(o){throw new Error("Method not implemented.")},y.onmessage=function(o){throw new Error("Method not implemented.")},y.onopen=function(o){throw new Error("Method not implemented.")},p}(),localStorage:{},request:function(y,f){throw new Error("request not implemented.")},uploadFile:function(y){throw new Error("uploadFile not implemented.")},getSystemInfo:function(){throw new Error("getSystemInfo not implemented.")},getFileUploadInformation:function(y){throw new Error("getFileUploadInformation not implemented.")},envPayload:{},net:{getNetworkStatus:function(){return Zt.resolve({net_type:0,net_connect:!0})},onNetworkStatusChange:function(y){},offNetworkStatusChange:function(){}},logStorage:function(){function p(f){}var y=p.prototype;return y.open=function(){return Zt.resolve()},y.close=function(){},y.addLogs=function(o){return Zt.resolve()},y.extractLogs=function(){return Zt.resolve()},y.afterUpload=function(){return Zt.resolve()},p}()},_p=["error","warn","log","debug"],cu=function(){},Yh=["off","error","warn","log","debug"],yx=function(){function p(f,o){o===void 0&&(o={}),this.storageArr=[],this.debugLevel="off",this.timer=0,this.strategies={debug:{name:"debg",func:console.log},log:{name:"info",func:console.log},warn:{name:"warn",func:console.warn},error:{name:"erro",func:console.error}},this.debug=cu,this.log=cu,this.warn=cu,this.error=cu,this.iid=Math.round(1e3*Math.random()),this.debugLevel=or(Yh).call(Yh,f)?f:"off",o.debugLevel&&(this.debugLevel=or(Yh).call(Yh,o.debugLevel)?o.debugLevel:this.debugLevel),this.logStorage=o.storageEnable===!1?null:new rn.logStorage(o==null?void 0:o.storageName),this.setOptions(o),this.setLogFunc(this.debugLevel),this.setTimer(),rn.setLogger(this),this.open()}var y=p.prototype;return y.getDebugMode=function(){return this.debugLevel==="debug"},y.open=function(){var o=this;this.logStorage&&this.logStorage.open().then(function(){o.log("Logger::open success")}).catch(function(a){o.warn("Logger::open failed",a)})},y.setOptions=function(o){if(o&&o.logFunc){var a=o.logFunc;for(var l in a){var c=l,u=a[c];u&&(this.strategies[c].func=u)}}},y.setLogFunc=function(o,a){var l=this;a===void 0&&(a="log");var c=Ps(_p).call(_p,function(h){return h===o}),u=Ps(_p).call(_p,function(h){return h===a});rt(_p).call(_p,function(h,C){l[h]=function(){if(!(C>c&&C>u)){var x=zn(Array.prototype).call(arguments),k=this.strategies[h],B=this.formatArgs(x,k.name);C<=u&&this.logStorage&&this.prepareSaveLog(B,h),C<=c&&k.func(B)}}})},y.extractLogs=function(){var o;return this.logStorage?(o=this.logStorage)===null||o===void 0?void 0:o.extractLogs():Zt.resolve("")},y.afterUpload=function(){var o;return this.logStorage?(o=this.logStorage)===null||o===void 0?void 0:o.afterUpload():Zt.resolve("")},y.prepareSaveLog=function(o,a){this.storageArr.push({text:o,level:a,time:lr(),iid:this.iid}),this.timer||this.setTimer(),this.storageArr.length>=100&&(this.triggerTimer(),this.storageArr=[])},y.saveLogs=function(){return le(this,void 0,void 0,q.mark(function o(){var a;return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.logStorage){c.next=2;break}return c.abrupt("return");case 2:return a=this.storageArr,this.storageArr=[],c.prev=4,c.next=7,this.logStorage.addLogs(a);case 7:c.next=11;break;case 9:c.prev=9,c.t0=c.catch(4);case 11:case"end":return c.stop()}},o,this,[[4,9]])}))},y.clearTimer=function(){this.timer&&clearTimeout(this.timer),this.timer=0},y.setTimer=function(){var o;this.clearTimer(),this.timer=pa(cn(o=this.triggerTimer).call(o,this),5e3)},y.triggerTimer=function(){this.clearTimer(),this.saveLogs()},y.formatArgs=function(o,a){var l=new Date;return"[NIM "+this.iid+" "+a+" "+(l.getMonth()+1+"-"+l.getDate()+" "+l.getHours()+":"+l.getMinutes()+":"+l.getSeconds()+":"+l.getMilliseconds())+"] "+Qe(o).call(o,function(c){return c instanceof Ct?c.toString():c instanceof Error?c&&c.message?c.message:c:typeof c=="object"?$t(c):c}).join(" ")},y.destroy=function(){this.debug=cu,this.log=cu,this.warn=cu,this.error=cu,this.saveLogs(),this.clearTimer(),this.storageArr=[],this.logStorage&&this.logStorage.close()},p}(),bx=Math.min,Xh=[].lastIndexOf,id=!!Xh&&1/[1].lastIndexOf(1,-0)<0,Af=Bc("lastIndexOf"),ES=id||!Af?function(y){if(id)return O(Xh,this,arguments)||0;var f=be(this),o=Tr(f),a=o-1;for(arguments.length>1&&(a=bx(a,Ri(arguments[1]))),a<0&&(a=o+a);a>=0;a--)if(a in f&&f[a]===y)return a||0;return-1}:Xh;Lt({target:"Array",proto:!0,forced:ES!==[].lastIndexOf},{lastIndexOf:ES});var Of,xp=ka("Array").lastIndexOf,od=Array.prototype,sd=function(p){var y=p.lastIndexOf;return p===od||Se(od,p)&&y===od.lastIndexOf?xp:y},gc=`	
\v\f\r                　\u2028\u2029\uFEFF`,Jh=U("".replace),wp="["+gc+"]",Qh=RegExp("^"+wp+wp+"*"),lC=RegExp(wp+wp+"*$"),cC=function(p){return function(y){var f=zi(ye(y));return 1&p&&(f=Jh(f,Qh,"")),2&p&&(f=Jh(f,lC,"")),f}},CS={trim:cC(3)},uC=J0.PROPER,kf=CS.trim;Lt({target:"String",proto:!0,forced:(Of="trim",T(function(){return!!gc[Of]()||"​᠎"[Of]()!=="​᠎"||uC&&gc[Of].name!==Of}))},{trim:function(){return kf(this)}});var Sx=ka("String").trim,TS=String.prototype,dC=function(p){var y=p.trim;return typeof p=="string"||p===TS||Se(TS,p)&&y===TS.trim?Sx:y},Zh=CS.trim,uu=I.parseInt,ev=I.Symbol,pC=ev&&ev.iterator,Np=/^[+-]?0x/i,Ix=U(Np.exec),MS=uu(gc+"08")!==8||uu(gc+"0x16")!==22||pC&&!T(function(){uu(Object(pC))})?function(y,f){var o=Zh(zi(y));return uu(o,f>>>0||(Ix(Np,o)?16:10))}:uu;Lt({global:!0,forced:parseInt!=MS},{parseInt:MS});var un=fe.parseInt;function Ht(p,y){if(typeof p!="object"||p===null)return p;for(var f=(y=y||"").split("."),o=0;o<f.length;o++){var a=f[o],l=p[a],c=dr(a).call(a,"["),u=dr(a).call(a,"]");if(c!==-1&&u!==-1&&c<u){var h=zn(a).call(a,0,c),C=un(zn(a).call(a,c+1,u));l=p[h],l=Nr(l)?l[C]:void 0}if(l==null)return l;p=l}return p}var kl,ai=(kl=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},function(){return kl()+kl()+kl()+kl()+kl()+kl()+kl()+kl()});function Kr(p){var y;return Tn(y=Gn(p)).call(y,function(f){return!(+f>=0)})}function hc(p,y){var f,o=Tn(f=Gn(p)).call(f,function(a){return p[a]==y});return o.length>0?o[0]:void 0}function es(p,y){if(y===void 0&&(y="-"),!p)throw new Or("No sessionId",{},400);var f=dr(p).call(p,y);if(f===-1)throw new Or("Can not find conjunctions",{},400);var o=zn(p).call(p,0,f);return{accid:zn(p).call(p,f+1),scene:o==="super_team"?"superTeam":o}}function tv(){var p=rn.getSystemInfo().hostEnvEnum;return p===6||p===102||p===103||p===104}function sl(p,y){return function(o,a,l,c){for(var u in o=o||{},l=l||{},c=c||function(){},a=a||{}){var h=c(o[u],a[u]);o[u]=h===void 0?a[u]:h}for(var C in l){var x=c(o[C],l[C]);o[C]=x===void 0?l[C]:x}return o}({},p,y,function(f,o){return o===void 0?f:o})}function Rp(){return Zt.resolve()}function du(){}function Ap(p){var y=sd(p).call(p,"."),f=y>-1?zn(p).call(p,y+1):"";return/^\d+$/.test(dC(f).call(f))&&(f=""),f}function nv(p,y,f){return p.length===0||p[0][y]<=f?0:p[p.length-1][y]>f?p.length:Ps(p).call(p,function(o,a){if(p[a-1]&&p[a-1][y]>f&&f>=o[y])return!0})}function Bs(p,y,f,o){var a=typeof Ht(p,"raw.r[0]")=="number"?""+p.raw.r[0]:void 0;return y[f]=y[f]||a||o,y}var pu=function(){function p(f){this.lastSuccUploadHost="",this.core=f}var y=p.prototype;return y.getFileUploadInformation=function(o){return rn.getFileUploadInformation(o)},y.request=function(o,a,l){var c=this,u=new Date().getTime(),h=(l==null?void 0:l.exception_service)||0;return rn.request(o,a).catch(function(C){var x,k,B,W,Y=C;throw c.core.reporter.reportTraceStart("exceptions",{user_id:c.core.options.account||((k=(x=c.core)===null||x===void 0?void 0:x.auth)===null||k===void 0?void 0:k.account),trace_id:(W=(B=c.core.clientSocket)===null||B===void 0?void 0:B.socket)===null||W===void 0?void 0:W.sessionId,start_time:u,action:1,exception_service:h}),c.core.reporter.reportTraceUpdateV2("exceptions",{code:typeof Y.code=="number"?Y.code:0,description:Y.message||""+Y.code,operation_type:0,target:o,context:a?$t(a):""},{asyncParams:rn.net.getNetworkStatus()}),c.core.reporter.reportTraceEnd("exceptions",1),C})},y.uploadFile=function(o){var a,l,c,u;return le(this,void 0,void 0,q.mark(function h(){var C,x,k,B,W,Y,ne,se,xe,we,$e,Me,Fe,We;return q.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:k=rn.platform==="BROWSER",B=k?o.chunkUploadHostBackupList:o.commonUploadHostBackupList,W=k?o.chunkUploadHost:o.commonUploadHost,Y=dr(B).call(B,W),ne=Y===-1?Bn(C=[W]).call(C,B):Bn(x=[W]).call(x,zn(B).call(B,0,Y),zn(B).call(B,Y+1)),se=Math.max(dr(ne).call(ne,this.lastSuccUploadHost),0),xe=null,we=0;case 8:if(!(we<ne.length)){Ee.next=36;break}return $e=new Date().getTime(),Me=ne[(we+se)%ne.length],Ee.prev=11,Ee.next=14,rn.uploadFile(ce(ce({},o),k?{chunkUploadHost:Me}:{commonUploadHost:Me}));case 14:return Fe=Ee.sent,this.lastSuccUploadHost=Me,typeof Fe.size=="string"&&(Fe.size=un(Fe.size)),typeof Fe.dur=="string"&&(Fe.dur=un(Fe.dur)),typeof Fe.w=="string"&&(Fe.w=un(Fe.w)),typeof Fe.h=="string"&&(Fe.h=un(Fe.h)),Ee.abrupt("return",Fe);case 23:if(Ee.prev=23,Ee.t0=Ee.catch(11),this.core.cloudStorage.nos.nosErrorCount--,xe=Ee.t0,We=Ee.t0,this.core.reporter.reportTraceStart("exceptions",{user_id:this.core.options.account||((l=(a=this.core)===null||a===void 0?void 0:a.auth)===null||l===void 0?void 0:l.account),trace_id:(u=(c=this.core.clientSocket)===null||c===void 0?void 0:c.socket)===null||u===void 0?void 0:u.sessionId,start_time:$e,action:1,exception_service:3}),this.core.reporter.reportTraceUpdateV2("exceptions",{code:typeof We.code=="number"?We.code:0,description:We.message||""+We.code,operation_type:1,target:Me},{asyncParams:rn.net.getNetworkStatus()}),this.core.reporter.reportTraceEnd("exceptions",1),!Ee.t0||Ee.t0.code!==it.V2NIM_ERROR_CODE_CANCELLED&&Ee.t0.errCode!==10499){Ee.next=33;break}throw Ee.t0;case 33:we++,Ee.next=8;break;case 36:throw xe;case 37:case"end":return Ee.stop()}},h,this,[[11,23]])}))},p}(),Ll="weblink.netease.im:443",vc=["https://lbs.netease.im/lbs/webconf.jsp"],Op="https://abt-online.netease.im/v1/api/abt/client/getExperimentInfo",kp="imElite_sdk_abtest_web",mu=function(){function p(f,o){this.abtInfo={},this.core=f,this.config=sl({isAbtestEnable:!0,abtestUrl:Op,abtestProjectKey:kp},o)}var y=p.prototype;return y.setOptions=function(o){this.config=sl(this.config,o)},y.abtRequest=function(){var o,a;return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.config.isAbtestEnable){h.next=2;break}return h.abrupt("return");case 2:if(!this.abtInfo.experiments){h.next=4;break}return h.abrupt("return");case 4:if(this.config.abtestUrl){h.next=6;break}return h.abrupt("return");case 6:return h.prev=6,h.next=9,this.core.adapters.request(this.config.abtestUrl,{method:"POST",dataType:"json",headers:{sdktype:"ABTest"},data:{clientInfo:{projectKey:this.config.abtestProjectKey,appKey:this.core.options.appkey,osType:"Web",sdkVersion:"10.9.20",deviceId:this.core.config.deviceId},useLocalCache:!0}},{exception_service:7});case 9:c=h.sent,h.next=15;break;case 12:h.prev=12,h.t0=h.catch(6),this.core.logger.warn("ABTest request failed");case 15:this.abtInfo=((a=(o=c==null?void 0:c.data)===null||o===void 0?void 0:o.data)===null||a===void 0?void 0:a.abtInfo)||{};case 16:case"end":return h.stop()}},l,this,[[6,12]])}))},p}();function Ex(p){var y={},f=new Zt(function(o,a){y.abort=a});return y.promise=Zt.race([p,f]),y}Zt.reject;var Lf=function(){function p(){this.abortFns=[]}var y=p.prototype;return y.add=function(o){var a=Ex(o);return this.abortFns.push(a.abort),a.promise},y.clear=function(o){var a;rt(a=this.abortFns).call(a,function(l){return l(o||new Ct({code:it.V2NIM_ERROR_CODE_CANCELLED,detail:{reason:"Aborted"}}))}),this.abortFns=[]},y.destroy=function(){this.clear()},p}(),Lp={tolerantRTT:3e3,bestRTT:100,maxChances:5,enable:!0},mC={timestamp:0,rtt:0,baseClock:0,baseTime:0},_S=function(){function p(f,o,a){a===void 0&&(a="getServerTime"),this.serverOrigin=mC,this.config=Lp,this.isSettingNTP=!1,this.currentChance=0,this.failedDelay=2e3,this.successDelay=3e5,this.timer=0,this.cmdName="getServerTime",this.core=f,this.logger=f.logger,this.promiseManager=new Lf,this.cmdName=a,o&&this.setOptions(o)}var y=p.prototype;return y.setOptions=function(o){this.config=ce({},Lp,this.config,o)},y.reset=function(){this.timer&&clearTimeout(this.timer),this.promiseManager.clear(),this.serverOrigin=mC,this.currentChance=0},y.setOriginTimetick=function(){return le(this,void 0,void 0,q.mark(function o(){var a,l,c,u,h,C,x,k,B,W;return q.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(this.config.enable){ne.next=2;break}return ne.abrupt("return");case 2:if(!this.isSettingNTP){ne.next=4;break}return ne.abrupt("return");case 4:if(!(this.currentChance>=this.config.maxChances)){ne.next=6;break}return ne.abrupt("return");case 6:if(a=Ht(this.core,"auth.status"),l=Ht(this.core,"status"),c=Ht(this.core,"V2NIMLoginService.lifeCycle.loginStatus"),a==="logined"||l==="logined"||c===1){ne.next=11;break}return ne.abrupt("return");case 11:return this.isSettingNTP=!0,this.currentChance++,this.timer&&clearTimeout(this.timer),this.timer=0,u="TimeOrigin::setOriginTimetick:",h=lr(),this.core.logger.debug(u+" getServerTime start, times "+this.currentChance),ne.prev=18,ne.next=21,this.promiseManager.add(this.core.sendCmd(this.cmdName));case 21:x=ne.sent,C=Ht(x,"content.time"),this.isSettingNTP=!1,ne.next=33;break;case 26:return ne.prev=26,ne.t0=ne.catch(18),k=ne.t0,this.isSettingNTP=!1,this.logger.warn(u+" Calculate Delay time, getServerTime error",k),k.code!==it.V2NIM_ERROR_CODE_CANCELLED&&(clearTimeout(this.timer),this.timer=pa(cn(B=this.setOriginTimetick).call(B,this),this.failedDelay)),ne.abrupt("return");case 33:if(C){ne.next=37;break}return this.core.logger.warn(u+" Calculate Delay time incorrect format"),this.config.enable=!1,ne.abrupt("return");case 37:W=lr()-h,this.doSet(C,W);case 39:case"end":return ne.stop()}},o,this,[[18,26]])}))},y.doSet=function(o,a){var l,c="TimeOrigin::setOriginTimetick:";if(a>this.config.tolerantRTT)this.logger.warn(c+" denied RTT:"+a),clearTimeout(this.timer),this.timer=pa(cn(l=this.setOriginTimetick).call(l,this),this.failedDelay);else if(a>this.config.bestRTT){var u;this.serverOrigin.rtt&&a>=this.serverOrigin.rtt?this.logger.warn(c+" ignore RTT:"+a):(this.setServerOrigin(a,o),this.logger.log(c+" accept reluctantly RTT:"+a)),clearTimeout(this.timer),this.timer=pa(cn(u=this.setOriginTimetick).call(u,this),this.failedDelay)}else{var h;this.setServerOrigin(a,o),this.logger.debug(c+" accept best RTT:"+a),this.currentChance=0,clearTimeout(this.timer),this.timer=pa(cn(h=this.setOriginTimetick).call(h,this),this.successDelay)}},y.getNTPTime=function(o){if(o===void 0&&(o=this.getTimeNode()),this.checkNodeReliable(o)){var a=Math.floor(o.time-this.serverOrigin.baseTime);return this.serverOrigin.timestamp+a}return lr()},y.checkNodeReliable=function(o){if(o===void 0&&(o=this.getTimeNode()),this.serverOrigin.timestamp){if(this.serverOrigin.baseClock===0)return!0;var a=o.clock-this.serverOrigin.baseClock,l=o.time-this.serverOrigin.baseTime;return Math.abs(l-a)<500}return!1},y.checkPerformance=function(){return rn.platform==="BROWSER"&&!(typeof performance>"u"||!performance.now)},p.checkPerformance=function(){return rn.platform==="BROWSER"&&!(typeof performance>"u"||!performance.now)},y.getTimeNode=function(){return{clock:this.checkPerformance()?performance.now():0,time:lr()}},p.getTimeNode=function(){return{clock:p.checkPerformance()?performance.now():0,time:lr()}},y.setServerOrigin=function(o,a){this.serverOrigin={timestamp:a+Math.floor(o/2),rtt:o,baseClock:this.checkPerformance()?performance.now():0,baseTime:lr()}},p}(),Pp={user_id:"",trace_id:"",action:7,exception_service:6,duration:0,start_time:0,state:1,extension:[]},fC=function(){function p(f,o){this.traceData=Pp,this.core=f,this.traceData=ce({},Pp,o),this.traceData.extension=[]}var y=p.prototype;return y.reset=function(){this.traceData=ce({},Pp),this.traceData.extension=[]},y.start=function(){var o,a;this.reset(),this.traceData.user_id=this.core.account,this.traceData.trace_id=((a=(o=this.core.clientSocket)===null||o===void 0?void 0:o.socket)===null||a===void 0?void 0:a.sessionId)||"",this.traceData.start_time=new Date().getTime()},y.update=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,rn.net.getNetworkStatus();case 2:l=C.sent,c=l.net_type,u=l.net_connect,this.traceData.extension.push(ce({code:0,foreground:!0,foreg_backg_switch:!1,net_type:c,net_connect:u},o));case 6:case"end":return C.stop()}},a,this)}))},y.end=function(o){var a=this.traceData.extension[0],l=this.traceData.extension[1];if(a&&a.operation_type===0&&l&&l.operation_type===1){var c=a.net_type!==l.net_type||a.net_connect!==l.net_connect;if(o||!c)return this.traceData.duration=new Date().getTime()-this.traceData.start_time,this.core.reporter.report("exceptions",this.traceData),void this.reset();this.reset()}else this.reset()},p}(),gC={user_id:"",trace_id:"",net_connect:!0,net_type:0,duration:0,start_time:0,history:[],succeed:!1},rv=function(){function p(f){this.traceData=gC,this.core=f,this.reset()}var y=p.prototype;return y.reset=function(){this.traceData=ce({},gC),this.traceData.history=[]},y.start=function(o){this.reset(),this.traceData.user_id=o,this.traceData.start_time=lr()},y.updateBegin=function(o){this.traceData.history.push(ce({head:"",body:"",start_time:lr(),httpdns:!1,index:0},o))},y.updateComplete=function(o){var a;rt(a=this.traceData.history).call(a,function(l){l.target===o.target&&(ce(l,o),l.duration=lr()-l.start_time)})},y.end=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(this.traceData.succeed=o,this.traceData.history=Tn(l=this.traceData.history).call(l,function(k){return k.code!==void 0}),this.traceData.history.length!==0){x.next=5;break}return this.reset(),x.abrupt("return");case 5:return this.traceData.duration=lr()-this.traceData.start_time,x.next=8,rn.net.getNetworkStatus();case 8:c=x.sent,u=c.net_type,h=c.net_connect,this.traceData.net_type=u,this.traceData.net_connect=h,this.core.reporter.report("nim_sdk_lbs_records",this.traceData),this.reset();case 15:case"end":return x.stop()}},a,this)}))},p}();function av(p){var y,f,o=!0;return typeof((y=p==null?void 0:p.reporterConfig)===null||y===void 0?void 0:y.enableCompass)=="boolean"?o=p.reporterConfig.enableCompass:typeof((f=p==null?void 0:p.reporterConfig)===null||f===void 0?void 0:f.isDataReportEnable)=="boolean"&&(o=p.reporterConfig.isDataReportEnable),o}var Pf={user_id:"",trace_id:"",action:0,state:0,duration:0,start_time:0,offset:0,full_size:0,transferred_size:0,operation_type:0,remote_addr:""},Dp="ReporterHook::setMonitorForResources:",xS=function(){function p(f,o){this.traceData=Pf,this.core=f,this.traceData=ce({},Pf,o)}var y=p.prototype;return y.reset=function(){this.traceData=ce({},Pf)},y.start=function(){var o,a;this.reset(),this.traceData.user_id=this.core.account,this.traceData.trace_id=((a=(o=this.core.clientSocket)===null||o===void 0?void 0:o.socket)===null||a===void 0?void 0:a.sessionId)||"",this.traceData.start_time="timeOrigin"in this.core?this.core.timeOrigin.getNTPTime():lr()},y.update=function(o){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.traceData.user_id){c.next=2;break}return c.abrupt("return");case 2:this.core.logger.log(Dp+" upload update",o),ce(this.traceData,o);case 4:case"end":return c.stop()}},a,this)}))},y.end=function(o){this.traceData.user_id&&(this.core.logger.log(Dp+" upload end cause of "+o),this.traceData.state=o,this.traceData.duration=("timeOrigin"in this.core?this.core.timeOrigin.getNTPTime():lr())-this.traceData.start_time,this.core.reporter.report("nim_sdk_resources",this.traceData),this.traceData=Pf)},p}(),ld={},iv={},hC={},ov={apiVersion:"v1",debugLevel:"off",needReconnect:!0,reconnectionAttempts:Ud,lbsUrls:vc,linkUrl:Ll,abtestUrl:Op,isAbtestEnable:!0},m=function(p){function y(o,a){var l,c,u;if(a===void 0&&(a={}),(u=p.call(this)||this).instanceName="NIM",u.pluginMap={},u.eventBus=new Zc,u.options={},u.V2NIMConversationIdUtil={},u.V2NIMMessageCreator={},u.V2NIMMessageAttachmentCreator={},u.V2NIMClientAntispamUtil={},u.DataStructureConverter={},u.V2NIMMessageConverter={},u.V2NIMMessageLogUtil={},u.V2NIMMessageExtendUtil={},u.V2NIMStorageUtil={},u.V2NIMNotificationService={},u.V2NIMStorageService={},u.auth={},u.V1NIMLoginService={},u.V2NIMLoginService={},u.clientSocket={},u.V2NIMSyncService={},u.V2NIMLocalConversationService={},u.V2NIMConversationService={},u.V2NIMConversationGroupService={},u.V2NIMMessageService={},u.V2NIMTeamService={},u.V2NIMUserService={},u.V2NIMFriendService={},u.V2NIMSettingService={},u.V2NIMAIService={},u.V2NIMSignallingService={},u.V2NIMSubscriptionService={},u.V2NIMPassthroughService={},u.YSFService={},u.offlinePush={},u.sync={},u.msg={},u.msgLog={},u.session={},u.cloudSession={},u.misc={},u.user={},u.friend={},u.systemMessage={},u.team={},u.event={},u.msgExtend={},u.cloudStorage={},u.passThrough={},u.superTeam={},u.plugin={},u.signaling={},u.qchatChannel={},u.qchatMedia={},u.qchatMsg={},u.qchatRole={},u.qchatServer={},u.pluginMap=hC,u.logger=new yx(o.debugLevel,a.loggerConfig),a.privateConf){var h=u.getConfigFromPrivate(a.privateConf),C=h.authConfig,x=h.cloudStorageConfig,k=h.reporterConfig;ce(o,C),u.setInitOptions(o),u.otherOptions=ce(ce({},a),{cloudStorageConfig:ce(ce({storageKeyPrefix:"NIM"},a.cloudStorageConfig),x),reporterConfig:ce(ce({},a.reporterConfig),k),V1NIMLoginServiceConfig:ce(ce(ce({},o),a.V1NIMLoginServiceConfig),C),V2NIMLoginServiceConfig:ce(ce({},a.V2NIMLoginServiceConfig),C)})}else u.setInitOptions(o),u.otherOptions=ce(ce({},a),{V1NIMLoginServiceConfig:ce(ce({},o),a.V1NIMLoginServiceConfig),cloudStorageConfig:ce({storageKeyPrefix:"NIM"},a.cloudStorageConfig)});u.timerManager=new bs,u.timeOrigin=new _S(er(u)),u.adapters=new pu(er(u)),u.abtest=new mu(er(u),ce(ce({isAbtestEnable:u.options.isAbtestEnable,abtestUrl:u.options.abtestUrl},u.otherOptions.abtestConfig),{abtestProjectKey:kp}));var B=rn.getSystemInfo(),W=function(se,xe){var we,$e,Me=(we=xe==null?void 0:xe.reporterConfig)===null||we===void 0?void 0:we.compassDataEndpoint,Fe=($e=xe==null?void 0:xe.reporterConfig)===null||$e===void 0?void 0:$e.reportConfigUrl;if(Me)return Me;if(Fe){var We=Fe.match(/^https:\/\/([^/]+)\/*/);if(Nr(We)&&We.length>=1)return"https://"+We[1];se.error("Invalid reportConfigUrl: "+Fe)}return tv()?"https://statistic.live.126.net":"https://statistic.live.126.net,https://statistic-overseas.yunxinfw.com"}(u.logger,u.otherOptions);u.reporter=new KE(ce(ce({},W?{compassDataEndpoint:W}:{}),{isDataReportEnable:av(u.otherOptions),common:{app_key:o.appkey,dev_id:"",platform:"Web",sdk_ver:"10.9.20",env:"online",os_name:B.os,os_ver:B.osVer,lib_env:B.libEnv,host_env:B.hostEnv,host_env_ver:B.hostEnvVer,manufactor:B.manufactor,model:B.model,v2:u.options.apiVersion!=="v1"},request:rn.request,logger:u.logger,autoStart:!0})),u.reporterHookLinkKeep=new fC(er(u)),u.reporterHookCloudStorage=new xS(er(u)),u.reporterHookLBS=new rv(er(u));var Y=u.getServiceKeys(Gn(ld));return rt(Y).call(Y,function(ne){if(!u[ne]||!u[ne].name){var se=ld[ne];u[ne]=new se(er(u))}}),rt(l=Gn(ld)).call(l,function(ne){u.callSetOptions(ne)}),rt(c=Gn(iv)).call(c,function(ne){var se=iv[ne];se!==void 0&&(u[ne]=new se(er(u)))}),y.instance=er(u),u.logger.log("NIM init, version:10.9.20, sdk version:100920, appkey:"+o.appkey),u}pr(y,p);var f=y.prototype;return f.getServiceKeys=function(a){var l=Ps(a).call(a,function(W){return W==="V1NIMLoginService"});if(l>-1){var c=a[l];Qa(a).call(a,l,1),this.options.apiVersion==="v1"&&a.unshift(c)}var u=Ps(a).call(a,function(W){return W==="V2NIMLoginService"});if(u>-1){var h=a[u];Qa(a).call(a,u,1),this.options.apiVersion==="v2"&&a.unshift(h)}var C=Ps(a).call(a,function(W){return W==="sync"});if(C>-1){var x=a[C];Qa(a).call(a,C,1),this.options.apiVersion==="v1"&&a.push(x)}var k=Ps(a).call(a,function(W){return W==="V2NIMSyncService"});if(k>-1){var B=a[k];Qa(a).call(a,k,1),this.options.apiVersion==="v2"&&a.push(B)}return a},y.getInstance=function(a,l){if(!y.instance){if(a)return new y(a,l);throw new Error("Instance not exist, please input options")}if(a){if(y.instance.options.account===a.account&&y.instance.options.appkey===a.appkey)return y.instance.setOptions(a),y.instance;throw new Error("Unexpected login")}return y.instance},f.setInitOptions=function(a){ge({appkey:{type:"string"},apiVersion:{type:"enum",values:["v1","v2"],required:!1},binaryWebsocket:{type:"boolean",required:!1},needReconnect:{type:"boolean",required:!1},reconnectionAttempts:{type:"number",required:!1},customClientType:{type:"number",min:1,required:!1},authType:{type:"number",min:0,max:2,required:!1},lbsUrls:{type:"array",itemType:"string",min:1,required:!1},linkUrl:{type:"string",allowEmpty:!1,required:!1}},a),this.options=ce(ce({},ov),a)},f.getConfigFromPrivate=function(a){var l;return a?{authConfig:JSON.parse($t({appkey:a.appkey||void 0,lbsUrls:a.weblbsUrl?[a.weblbsUrl]:void 0,linkUrl:a.link_web||void 0,linkSSL:(l=a.websdkSsl)!==null&&l!==void 0?l:void 0})),cloudStorageConfig:JSON.parse($t({chunkUploadHost:a.nos_uploader||void 0,commonUploadHost:a.nos_uploader||void 0,commonUploadHostBackupList:a.nos_uploader?[a.nos_uploader]:void 0,chunkUploadHostBackupList:a.nos_uploader?[a.nos_uploader]:void 0,uploadReplaceFormat:a.nos_downloader_v2?(a.nosSsl?"https://":"http://")+a.nos_downloader_v2:void 0,downloadUrl:a.nos_accelerate!==void 0?a.nos_accelerate:void 0,downloadHostList:a.nos_accelerate_host===""?[]:typeof a.nos_accelerate_host=="string"?[a.nos_accelerate_host]:Nr(a.nos_accelerate_host)?a.nos_accelerate_host:void 0})),reporterConfig:JSON.parse($t({enableCompass:typeof a.enableCompass=="boolean"?a.enableCompass:void 0,compassDataEndpoint:a.compassDataEndpoint||void 0}))}:{authConfig:{},cloudStorageConfig:{},reporterConfig:{}}},f.connect=function(a){return a===void 0&&(a={}),this.V1NIMLoginService.login(a)},f.setOptions=function(a){if(typeof a=="object"&&a!==null){if(Object.prototype.hasOwnProperty.call(a,"account")&&a.account!==this.options.account||Object.prototype.hasOwnProperty.call(a,"appkey")&&a.appkey!==this.options.appkey)throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"NIM::setOptions account and appkey is not allowed to reset"}});if(Object.prototype.hasOwnProperty.call(a,"apiVersion")&&a.apiVersion!==this.options.apiVersion)throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"NIM::setOptions apiVersion is not allowed to reset"}});if(Object.prototype.hasOwnProperty.call(a,"binaryWebsocket")&&a.binaryWebsocket!==this.options.binaryWebsocket)throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"NIM::setOptions binaryWebsocket is not allowed to reset"}});ge({token:{type:"string",required:!1},needReconnect:{type:"boolean",required:!1},reconnectionAttempts:{type:"number",required:!1},customClientType:{type:"number",min:1,required:!1},authType:{type:"number",min:0,max:2,required:!1},lbsUrls:{type:"array",itemType:"string",min:1,required:!1},linkUrl:{type:"string",allowEmpty:!1,required:!1}},a),this.logger.log("NIM::setOptions options is",a),this.options=ce(ce({},this.options),a),this.V1NIMLoginService.setOptions&&this.V1NIMLoginService.setOptions(this.options)}},f.getOptions=function(){return this.options},f.disconnect=function(){return this.V1NIMLoginService.logout()},f._disconnect=function(){return this.options.apiVersion==="v1"?this.V1NIMLoginService.logout():this.options.apiVersion==="v2"?Ht(this.V2NIMLoginService,"lifeCycle.connectStatus")===0&&Ht(this.V2NIMLoginService,"lifeCycle.loginStatus")===0?Zt.resolve():this.V2NIMLoginService.logout():Zt.resolve()},f.destroy=function(){var a=this;return y.instance=void 0,this._disconnect().then(function(){a.status="destroyed",a.removeAllListeners(),a.eventBus.removeAllListeners(),a.logger.destroy(),a.reporter.destroy(),a.timerManager.destroy(),a._clearModuleData("destroy"),a._removeAllModuleListeners(),a.connect=Rp,a.disconnect=Rp,a._disconnect=Rp,a.destroy=Rp})},f._clearModuleData=function(a){a===void 0&&(a="logout");var l=uh(this);rt(l).call(l,function(c){c&&typeof c.reset=="function"&&c.reset(a)})},f._removeAllModuleListeners=function(){var a=uh(this);rt(a).call(a,function(l){l&&typeof l.removeAllListeners=="function"&&l.removeAllListeners()})},f.kick=function(a){return this.V1NIMLoginService.kick(a)},f.sendCmd=function(a,l,c){return this.clientSocket.sendCmd(a,l,c)},f.emit=function(a){var l=this;try{for(var c,u,h=lr(),C=arguments.length,x=new Array(C>1?C-1:0),k=1;k<C;k++)x[k-1]=arguments[k];var B=(c=p.prototype.emit).call.apply(c,Bn(u=[this,a]).call(u,x)),W=lr()-h;return W>=10&&this.logger.warn("Core::emit event: "+a+" process takes: "+W+"ms"),B}catch(Y){return this.logger.error("Core::emit event: "+a+". Error: "+Y),pa(function(){throw l.logger.error("Core::emit throw error in setTimeout. event: "+a+". Error: "+Y),Y},0),!1}},f._registerDep=function(a,l){this[l]&&this[l].name||(this[l]=new a(this),this.callSetOptions(l))},f.callSetOptions=function(a){var l=a+"Config",c=a+"Options",u=this.otherOptions[l]||this.otherOptions[c]||{},h=Ht(this,a+".setOptions");typeof h=="function"&&(a==="cloudStorage"&&(u=this.otherOptions[l]||this.otherOptions.serverConfig||{}),h.call(this[a],u))},y.registerService=function(a,l){ld[l]=a},y.registerPrivateService=function(a,l){iv[l]=a},y.registerPlugin=function(a,l){hC[l]=a},sa(y,[{key:"account",get:function(){return this.auth.account}},{key:"status",get:function(){return this.V1NIMLoginService.status},set:function(a){this.V1NIMLoginService.status=a}},{key:"config",get:function(){return{timeout:8e3,deviceId:this.auth.deviceId}}}]),y}(Zc);m.sdkVersion=100920,m.sdkVersionFormat="10.9.20";var b=d(function(p,y){p.exports=function(){function f(l){if(l){var c,u="";return rt(c=Gn(l)).call(c,function(h,C){u+=C===0?"?":"&",u+=h+"="+l[h]}),u}return""}var o=function(l){function c(u,h,C,x){var k;return(k=l.call(this,C)||this).source=u,k.code=h,k.desc=C,k.detail=x||{},k}return pr(c,l),c}(ed(Error));function a(l,c){c===void 0&&(c={dataType:"json",method:"GET",timeout:5e3});var u=c.dataType==="text"?"text/plain; charset=UTF-8":"application/json; charset=UTF-8",h=c.method==="GET"?f(c.params):"";return new Zt(function(C,x){if(window.XMLHttpRequest){var k,B=new XMLHttpRequest;if(B.onreadystatechange=function(){if(B.readyState===4)if(B.status===200){try{k=JSON.parse(B.response||"{}")}catch{k=B.response}C({status:B.status,data:k})}else pa(function(){x(new o(1,B.status,"readyState: "+B.readyState+"; statusText: "+B.statusText))},0)},B.open(c.method,""+l+h),B.timeout=c.timeout||5e3,B.setRequestHeader("Content-Type",u),c.headers)for(var W in c.headers)B.setRequestHeader(W,c.headers[W]);B.ontimeout=function(Y){x(new o(1,408,Y&&Y.message?Y.message:"request timeout"))},B.send($t(c.data))}else x(new o(2,10400,"request no suppout"))})}return a}()}),M=Math.floor,P=function(p,y){var f=p.length,o=M(f/2);return f<8?G(p,y):Q(p,P(lf(p,0,o),y),P(lf(p,o),y),y)},G=function(p,y){for(var f,o,a=p.length,l=1;l<a;){for(o=l,f=p[l];o&&y(p[o-1],f)>0;)p[o]=p[--o];o!==l++&&(p[o]=f)}return p},Q=function(p,y,f,o){for(var a=y.length,l=f.length,c=0,u=0;c<a||u<l;)p[c+u]=c<a&&u<l?o(y[c],f[u])<=0?y[c++]:f[u++]:c<a?y[c++]:f[u++];return p},ve=P,Re=De.match(/firefox\/(\d+)/i),tt=!!Re&&+Re[1],It=/MSIE|Trident/.test(De),zt=De.match(/AppleWebKit\/(\d+)\./),Yt=!!zt&&+zt[1],Et=[],Nt=U(Et.sort),kr=U(Et.push),Mr=T(function(){Et.sort(void 0)}),za=T(function(){Et.sort(null)}),ft=Bc("sort"),st=!T(function(){if(qe)return qe<70;if(!(tt&&tt>3)){if(It)return!0;if(Yt)return Yt<603;var p,y,f,o,a="";for(p=65;p<76;p++){switch(y=String.fromCharCode(p),p){case 66:case 69:case 70:case 72:f=3;break;case 68:case 71:f=4;break;default:f=2}for(o=0;o<47;o++)Et.push({k:y+o,v:f})}for(Et.sort(function(l,c){return c.v-l.v}),o=0;o<Et.length;o++)y=Et[o].k.charAt(0),a.charAt(a.length-1)!==y&&(a+=y);return a!=="DGBEFHACIJK"}});Lt({target:"Array",proto:!0,forced:Mr||!za||!ft||!st},{sort:function(y){y!==void 0&&Ye(y);var f=Bt(this);if(st)return y===void 0?Nt(f):Nt(f,y);var o,a,l=[],c=Tr(f);for(a=0;a<c;a++)a in f&&kr(l,f[a]);for(ve(l,function(u){return function(h,C){return C===void 0?-1:h===void 0?1:u!==void 0?+u(h,C)||0:zi(h)>zi(C)?1:-1}}(y)),o=Tr(l),a=0;a<o;)f[a]=l[a++];for(;a<c;)Du(f,a++);return f}});var St=ka("Array").sort,Kt=Array.prototype,mn=function(p){var y=p.sort;return p===Kt||Se(Kt,p)&&y===Kt.sort?St:y},Br=d(function(p,y){p.exports=function(){var f={d:function(me,Ve){for(var Ge in Ve)f.o(Ve,Ge)&&!f.o(me,Ge)&&Jr(me,Ge,{enumerable:!0,get:Ve[Ge]})},o:function(me,Ve){return Object.prototype.hasOwnProperty.call(me,Ve)}},o={};f.d(o,{default:function(){return Ae}});var a=function Ee(me){for(var Ve in function(Ge,ze){if(!(Ge instanceof ze))throw new TypeError("Cannot call a class as a function")}(this,Ee),this.directUploadAddr="https://wanproxy-web.127.net",this.retryCount=4,this.trunkSize=4194304,this.trunkUploadTimeout=5e4,this.getOffsetTimeout=1e4,this.version="1.0",this.enableCache=!0,this.logger=console,this.onError=function(Ge){},this.onProgress=function(Ge){},this.onUploadProgress=function(Ge){},this.onComplete=function(Ge){},me)this[Ve]=me[Ve]};function l(Ee,me){var Ve=Ma!==void 0&&Eo(Ee)||Ee["@@iterator"];if(!Ve){if(Nr(Ee)||(Ve=function(dn,Nn){if(dn){var Dt;if(typeof dn=="string")return c(dn,Nn);var cr=zn(Dt=Object.prototype.toString.call(dn)).call(Dt,8,-1);return cr==="Object"&&dn.constructor&&(cr=dn.constructor.name),cr==="Map"||cr==="Set"?ma(dn):cr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(cr)?c(dn,Nn):void 0}}(Ee))||me){Ve&&(Ee=Ve);var Ge=0,ze=function(){};return{s:ze,n:function(){return Ge>=Ee.length?{done:!0}:{done:!1,value:Ee[Ge++]}},e:function(Nn){throw Nn},f:ze}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mt,Tt=!0,Be=!1;return{s:function(){Ve=Ve.call(Ee)},n:function(){var Nn=Ve.next();return Tt=Nn.done,Nn},e:function(Nn){Be=!0,mt=Nn},f:function(){try{Tt||Ve.return==null||Ve.return()}finally{if(Be)throw mt}}}}function c(Ee,me){(me==null||me>Ee.length)&&(me=Ee.length);for(var Ve=0,Ge=new Array(me);Ve<me;Ve++)Ge[Ve]=Ee[Ve];return Ge}var u={privateObj:{},setItem:function(me,Ve){u.privateObj[me]=Ve},getItem:function(me){return u.privateObj[me]},removeItem:function(me){delete u.privateObj[me]},getKeys:function(){return Gn(u.privateObj)}},h={getFileKey:function(me){var Ve=me.size.toString(),Ge=me.lastModified.toString();return"_NosUploader_"+me.name+zn(Ve).call(Ve,Ve.length-5)+zn(Ge).call(Ge,Ge.length-5)},getFileInfo:function(me){var Ve=u.getItem(me);if(!Ve)return null;try{return JSON.parse(Ve)}catch{return null}},initFile:function(me,Ve,Ge){h.clearExpiredInfo();var ze=this.getFileKey(Ve),mt={ctx:me.ctx!==void 0?me.ctx:"",bucket:me.bucketName,obj:me.objectName,token:me.token,modifyAt:lr(),end:!1};return me.payload&&(mt.payload=me.payload),Ge&&u.setItem(ze,$t(mt)),ze},setUploadContext:function(me,Ve,Ge){var ze=this.getFileInfo(me);ze&&(ze.ctx=Ve,Ge&&u.setItem(me,$t(ze)))},setComplete:function(me,Ve){var Ge=this.getFileInfo(me);Ge&&(Ge.modifyAt=lr(),Ge.end=!0,Ve&&u.setItem(me,$t(Ge)))},getUploadContext:function(me){var Ve=this.getFileInfo(me);return Ve?Ve.ctx:""},removeFileInfo:function(me){dr(me).call(me,"_NosUploader_")===0&&u.removeItem(me)},clearExpiredInfo:function(){var me,Ve=typeof u.getKeys=="function"?u.getKeys():Gn(u),Ge=lr(),ze=[],mt=l(Ve);try{for(mt.s();!(me=mt.n()).done;){var Tt=me.value;if(dr(Tt).call(Tt,"_NosUploader_")===0){var Be=h.getFileInfo(Tt);Be===null||Ge-Be.modifyAt>Ae.expireTime?u.removeItem(Tt):ze.push({fileInfo:Be,key:Tt})}}}catch(Sr){mt.e(Sr)}finally{mt.f()}if(ze.length>Ae.maxFileCache){var dn,Nn,Dt=l(zn(dn=mn(ze).call(ze,function(Sr,Ot){return Ot.fileInfo.modifyAt-Sr.fileInfo.modifyAt})).call(dn,Ae.maxFileCache));try{for(Dt.s();!(Nn=Dt.n()).done;){var cr,_a=Nn.value;dr(cr=_a.key).call(cr,"_NosUploader_")===0&&u.removeItem(_a.key)}}catch(Sr){Dt.e(Sr)}finally{Dt.f()}}}},C=h;function x(Ee){return(x=typeof Ma=="function"&&typeof Di=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Ma=="function"&&me.constructor===Ma&&me!==Ma.prototype?"symbol":typeof me})(Ee)}function k(Ee,me){return!me||x(me)!=="object"&&typeof me!="function"?function(Ve){if(Ve===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ve}(Ee):me}function B(Ee){var me=typeof Xa=="function"?new Xa:void 0;return(B=function(Ge){var ze,mt;if(Ge===null||(mt=Ge,dr(ze=Function.toString.call(mt)).call(ze,"[native code]")===-1))return Ge;if(typeof Ge!="function")throw new TypeError("Super expression must either be null or a function");if(me!==void 0){if(me.has(Ge))return me.get(Ge);me.set(Ge,Tt)}function Tt(){return W(Ge,arguments,se(this).constructor)}return Tt.prototype=Li(Ge.prototype,{constructor:{value:Tt,enumerable:!1,writable:!0,configurable:!0}}),ne(Tt,Ge)})(Ee)}function W(Ee,me,Ve){return(W=Y()?pc:function(Ge,ze,mt){var Tt=[null];Tt.push.apply(Tt,ze);var Be=new(cn(Function).apply(Ge,Tt));return mt&&ne(Be,mt.prototype),Be}).apply(null,arguments)}function Y(){if(typeof Reflect>"u"||!pc||pc.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(pc(Boolean,[],function(){})),!0}catch{return!1}}function ne(Ee,me){return(ne=na||function(Ve,Ge){return Ve.__proto__=Ge,Ve})(Ee,me)}function se(Ee){return(se=na?Ao:function(me){return me.__proto__||Ao(me)})(Ee)}var xe=function(Ee){(function(mt,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Super expression must either be null or a function");mt.prototype=Li(Tt&&Tt.prototype,{constructor:{value:mt,writable:!0,configurable:!0}}),Tt&&ne(mt,Tt)})(ze,Ee);var me,Ve,Ge=(me=ze,Ve=Y(),function(){var mt,Tt=se(me);if(Ve){var Be=se(this).constructor;mt=pc(Tt,arguments,Be)}else mt=Tt.apply(this,arguments);return k(this,mt)});function ze(mt,Tt){var Be;return function(dn,Nn){if(!(dn instanceof Nn))throw new TypeError("Cannot call a class as a function")}(this,ze),(Be=Ge.call(this,"NosUploadError:"+mt)).errCode=Tt,Be.errMsg=mt,Be}return ze}(B(Error)),we=function Ee(me,Ve,Ge){if(me.uploadState==="uploading"){var ze=me.config,mt=me.param,Tt=C.getUploadContext(me.fileKey);if(!Tt)return Ge(0);var Be=new XMLHttpRequest,dn=ze.directUploadAddr+"/".concat(mt.bucketName)+"/".concat(encodeURIComponent(mt.objectName))+"?uploadContext"+"&context=".concat(Tt)+"&version=".concat(ze.version);Be.onreadystatechange=function(){var Nn;if(me.uploadState!=="abort"&&Be.readyState===4){var Dt,cr,_a,Sr;try{Sr=JSON.parse(Be.responseText)}catch{Sr={errMsg:"JsonParseError in getOffset. xhr.status = "+Be.status+". xhr.responseText: "+Be.responseText,errCode:500}}Be.status===200?Sr.errCode?me.config.onError(new xe(Sr.errMsg,Sr.errCode)):Ge(Sr.offset):Be.status.toString().match(/^5/)?Ee(me,Ve-1,Ge):Ve>0?(typeof((Nn=ze.logger)===null||Nn===void 0?void 0:Nn.error)=="function"&&ze.logger.error(Bn(Dt="getOffset(".concat(dn,") error. retry after 3 seconds. ")).call(Dt,new Date().toTimeString())),pa(function(){Ee(me,Ve-1,Ge)},3500)):Be.status?(C.removeFileInfo(me.fileKey),ze.onError(new xe(Bn(cr=Bn(_a="getOffset(".concat(dn,") error: ")).call(_a,Be.status," ")).call(cr,Be.statusText)))):ze.onError(new xe("getOffset(".concat(dn,") error. no Error Code")))}},Be.open("get",dn),Be.setRequestHeader("x-nos-token",mt.token),Be.timeout=ze.getOffsetTimeout,Be.send()}},$e=function Ee(me,Ve,Ge,ze){if(me.uploadState==="uploading"){var mt=me.param,Tt=me.config,Be=zn(File.prototype),dn=mt.ctx!==void 0?mt.ctx:"",Nn=Ve+Tt.trunkSize>=me.file.size,Dt=Nn?me.file.size:Ve+Tt.trunkSize,cr=new XMLHttpRequest,_a=Tt.directUploadAddr+"/".concat(mt.bucketName)+"/".concat(encodeURIComponent(mt.objectName));if(cr.upload.onprogress=function(Ot){if(me.uploadState!=="abort"){var Ft=0;Ot.lengthComputable?(Ft=(Ve+Ot.loaded)/me.file.size,Tt.onProgress(Ft),Tt.onUploadProgress({loaded:Ot.loaded,total:me.file.size,percentage:Ft,percentageText:(100*Ft).toFixed(2)+"%"})):Tt.onError(new xe("browser does not support query upload progress"))}},cr.onreadystatechange=function(){var Ot,Ft;if(me.uploadState!=="abort"&&cr.readyState===4){var ar,hn,Lr,gr;try{gr=JSON.parse(cr.responseText)}catch(Hn){typeof((Ot=Tt.logger)===null||Ot===void 0?void 0:Ot.error)=="function"&&Tt.logger.error("JsonParseError in uploadTrunk. xhr.status = "+cr.status+". xhr.responseText: "+cr.responseText,Hn),gr={errMsg:"JsonParseError in uploadTrunk. xhr.status = "+cr.status+". xhr.responseText: "+cr.responseText}}cr.status===200?(me.setContext(gr.context),Nn?(ze(),me.setComplete()):Ee(me,gr.offset,Tt.retryCount,ze)):cr.status.toString().match(/^5/)?Ge>0?Ee(me,Ve,Ge-1,ze):(C.removeFileInfo(me.fileKey),Tt.onError(new xe(gr.errMsg,gr.errCode))):Ge>0?(typeof((Ft=Tt.logger)===null||Ft===void 0?void 0:Ft.error)=="function"&&Tt.logger.error(Bn(ar="uploadTrunk(".concat(_a,") error. retry after 3 seconds. ")).call(ar,new Date().toTimeString())),pa(function(){Ee(me,Ve,Ge-1,ze)},3500)):cr.status?(C.removeFileInfo(me.fileKey),Tt.onError(new xe(Bn(hn=Bn(Lr="uploadTrunk(".concat(_a,") error: ")).call(Lr,cr.status," ")).call(hn,cr.statusText)))):Tt.onError(new xe("uploadTrunk(".concat(_a,") error. no Error Code. Please check your network")))}},cr.open("post",_a+"?offset=".concat(Ve)+"&complete=".concat(Nn)+"&context=".concat(dn)+"&version=".concat(Tt.version)),cr.setRequestHeader("x-nos-token",mt.token),mt.md5&&cr.setRequestHeader("content-md5",mt.md5),me.file.type&&cr.setRequestHeader("content-type",me.file.type),cr.timeout=Tt.trunkUploadTimeout,typeof FileReader<"u"){var Sr=new FileReader;Sr.addEventListener("load",function(Ot){var Ft;((Ft=Ot==null?void 0:Ot.target)===null||Ft===void 0?void 0:Ft.result)instanceof ArrayBuffer&&Ot.target.result.byteLength>0?cr.send(Ot.target.result):Tt.onError(new xe("Read ArrayBuffer failed",194003))}),Sr.addEventListener("error",function(Ot){var Ft=Ot.target.error;Tt.onError(new xe("Read ArrayBuffer error. ".concat(Ft.toString()),194003))}),Sr.readAsArrayBuffer(Be.call(me.file,Ve,Dt))}else cr.send(Be.call(me.file,Ve,Dt))}};function Me(Ee,me){for(var Ve=0;Ve<me.length;Ve++){var Ge=me[Ve];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Jr(Ee,Ge.key,Ge)}}var Fe=function(){function Ee(Ve,Ge,ze){(function(mt,Tt){if(!(mt instanceof Tt))throw new TypeError("Cannot call a class as a function")})(this,Ee),this.uploadState="paused",this.config=ze,this.file=Ve,this.param=Ge,this.fileKey=C.initFile(Ge,Ve,this.config.enableCache),this.resume()}var me;return(me=[{key:"resume",value:function(){var Ge=this;if(this.uploadState!=="uploading"){this.setUploadState("uploading");var ze=this.config;we(this,ze.retryCount,function(mt){$e(Ge,mt,ze.retryCount,function(){Ge.setUploadState("ended"),typeof ze.onComplete=="function"&&ze.onComplete(Ge.param)})})}}},{key:"pause",value:function(){this.setUploadState("paused")}},{key:"abort",value:function(){this.uploadState!=="ended"&&this.uploadState!=="abort"&&(this.setUploadState("abort"),this.config.onError(new xe("Upload Aborted",10499)))}},{key:"setUploadState",value:function(Ge){Ge!==this.uploadState&&(this.uploadState=Ge)}},{key:"setContext",value:function(Ge){C.setUploadContext(this.fileKey,Ge,this.config.enableCache),this.param.ctx=Ge}},{key:"setComplete",value:function(){C.setComplete(this.fileKey,this.config.enableCache),this.setUploadState("ended")}}])&&Me(Ee.prototype,me),Ee}(),We={maxFileCache:1/0,expireTime:864e5,getFileUploadInformation:function(me){var Ve=C.getFileKey(me),Ge=C.getFileInfo(Ve);return Ge===null?null:lr()-Ge.modifyAt>We.expireTime?(C.removeFileInfo(Ve),null):{uploadInfo:ce({bucketName:Ge.bucket,objectName:Ge.obj,token:Ge.token,ctx:Ge.ctx},Ge.payload?{payload:Ge.payload}:{}),complete:Ge.end}},setMaxFileCache:function(me){We.maxFileCache=me},setExpireTime:function(me){We.expireTime=me},printCaches:function(){if(typeof localStorage<"u")for(var me=0,Ve=Gn(localStorage);me<Ve.length;me++){var Ge=Ve[me],ze=C.getFileInfo(Ge);ze&&console.log(ze,"modifiedAt",new Date(ze.modifyAt).toTimeString())}},createConfig:function(me){return new a(me)},createTask:function(me,Ve,Ge){return new Fe(me,Ve,Ge)}},Ae=We;return o.default}()}),mr=Sl.some,xr=Bc("some");Lt({target:"Array",proto:!0,forced:!xr},{some:function(y){return mr(this,y,arguments.length>1?arguments[1]:void 0)}});var Ji=ka("Array").some,va=Array.prototype,Mi=function(p){var y=p.some;return p===va||Se(va,p)&&y===va.some?Ji:y},vC={debug:function(){},log:function(){},warn:function(){},error:function(){}};function $Q(p){vC=p}function Jj(){if(!navigator||!navigator.userAgent)return!1;var p=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];return Mi(p).call(p,function(y){return navigator.userAgent.match(y)})}function Cx(){var p;return!(!navigator||!navigator.userAgent)&&typeof navigator=="object"&&typeof navigator.userAgent=="string"&&dr(p=navigator.userAgent).call(p,"Electron")>=0}function Qj(){return navigator&&navigator.userAgent}function UQ(p){return le(this,void 0,void 0,q.mark(function y(){var f,o,a,l,c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(l=vC,p.fileInput||p.file){x.next=3;break}throw new Error("File not exist");case 3:if(!p.file){x.next=7;break}c=p.file,x.next=21;break;case 7:if(typeof p.fileInput!="string"){x.next=16;break}if(!((u=document.getElementById(p.fileInput))&&u.files&&u.files[0])){x.next=13;break}c=u.files[0],x.next=14;break;case 13:throw new Error("Can not get file from fileInput");case 14:x.next=21;break;case 16:if(!(p.fileInput&&p.fileInput.files&&p.fileInput.files[0])){x.next=20;break}c=p.fileInput.files[0],x.next=21;break;case 20:throw new Error("Can not get file from fileInput "+p.fileInput);case 21:if(!(p.maxSize&&c.size>p.maxSize)){x.next=23;break}throw new Error("The file exceeds maxSize limit. maxSize: "+p.maxSize+", get "+c.size);case 23:return x.next=25,new Zt(function(k,B){var W,Y=Br.getFileUploadInformation(c),ne=Br.createConfig({enableCache:!0,retryCount:0,directUploadAddr:p.chunkUploadHost,onError:function(xe){B(xe)},onUploadProgress:p.onUploadProgress||function(){},onComplete:function(xe){k(xe)}});if(Y)if(Y.complete)p.onUploadProgress&&p.onUploadProgress({total:c.size,loaded:c.size,percentage:1,percentageText:"100%"}),k(Y.uploadInfo);else{W=Br.createTask(c,Y.uploadInfo,ne);try{p.onUploadStart&&p.onUploadStart(W)}catch(se){l.error("Adapter uploadFile: options.onUploadStart error",se&&se.message),W.abort(),B(se)}}else{W=Br.createTask(c,ce(ce({bucketName:p.nosToken.bucket,objectName:decodeURIComponent(p.nosToken.objectName),token:p.nosToken.token},p.md5?{md5:p.md5}:{}),p.payload?{payload:p.payload}:{}),ne);try{p.onUploadStart&&p.onUploadStart(W)}catch(se){l.error("Adapter uploadFile: options.onUploadStart error",se&&se.message),W.abort(),B(se)}}});case 25:return(h=x.sent).name=c.name,h.size=c.size,h.type=c.type,h.ext=sd(f=h.name).call(f,".")>-1?zn(o=h.name).call(o,sd(a=h.name).call(a,".")+1).toLowerCase():"",x.abrupt("return",h);case 31:case"end":return x.stop()}},y)}))}function BQ(p){var y;if(p.file)y=p.file;else if(typeof p.fileInput=="string"){var f=document.getElementById(p.fileInput);if(!(f&&f.files&&f.files[0]))throw new Error("Can not get file from fileInput");y=f.files[0]}else{if(!(p.fileInput&&p.fileInput.files&&p.fileInput.files[0]))throw new Error("Can not get file from fileInput "+p.fileInput);y=p.fileInput.files[0]}return Br.getFileUploadInformation(y)}/*!
	 * Platform.js v1.3.6
	 * Copyright 2014-2020 Benjamin Tan
	 * Copyright 2011-2013 John-David Dalton
	 * Available under MIT license
	 */var sv=d(function(p,y){(function(){var f={function:!0,object:!0}[typeof window]&&window||this,o=y,a=p&&!p.nodeType&&p,l=o&&a&&typeof r=="object"&&r;!l||l.global!==l&&l.window!==l&&l.self!==l||(f=l);var c=Math.pow(2,53)-1,u=/\bOpera/,h=Object.prototype,C=h.hasOwnProperty,x=h.toString;function k($e){return($e=String($e)).charAt(0).toUpperCase()+$e.slice(1)}function B($e){return $e=xe($e),/^(?:webOS|i(?:OS|P))/.test($e)?$e:k($e)}function W($e,Me){for(var Fe in $e)C.call($e,Fe)&&Me($e[Fe],Fe,$e)}function Y($e){return $e==null?k($e):x.call($e).slice(8,-1)}function ne($e){return String($e).replace(/([ -])(?!$)/g,"$1?")}function se($e,Me){var Fe=null;return function(Ae,Ee){var me=-1,Ve=Ae?Ae.length:0;if(typeof Ve=="number"&&Ve>-1&&Ve<=c)for(;++me<Ve;)Ee(Ae[me],me,Ae);else W(Ae,Ee)}($e,function(We,Ae){Fe=Me(Fe,We,Ae,$e)}),Fe}function xe($e){return String($e).replace(/^ +| +$/g,"")}var we=function $e(Me){var Fe=f,We=Me&&typeof Me=="object"&&Y(Me)!="String";We&&(Fe=Me,Me=null);var Ae=Fe.navigator||{},Ee=Ae.userAgent||"";Me||(Me=Ee);var me,Ve,Ge=We?!!Ae.likeChrome:/\bChrome\b/.test(Me)&&!/internal|\n/i.test(x.toString()),ze="Object",mt=We?ze:"ScriptBridgingProxyObject",Tt=We?ze:"Environment",Be=We&&Fe.java?"JavaPackage":Y(Fe.java),dn=We?ze:"RuntimeObject",Nn=/\bJava/.test(Be)&&Fe.java,Dt=Nn&&Y(Fe.environment)==Tt,cr=Nn?"a":"α",_a=Nn?"b":"β",Sr=Fe.document||{},Ot=Fe.operamini||Fe.opera,Ft=u.test(Ft=We&&Ot?Ot["[[Class]]"]:Y(Ot))?Ft:Ot=null,ar=Me,hn=[],Lr=null,gr=Me==Ee,Hn=gr&&Ot&&typeof Ot.version=="function"&&Ot.version(),zr=function(wi){return se(wi,function(ti,di){return ti||RegExp("\\b"+(di.pattern||ne(di))+"\\b","i").exec(Me)&&(di.label||di)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),In=function(wi){return se(wi,function(ti,di){return ti||RegExp("\\b"+(di.pattern||ne(di))+"\\b","i").exec(Me)&&(di.label||di)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),sr=oI([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),Ea=function(wi){return se(wi,function(ti,di,lI){return ti||(di[sr]||di[/^[a-z]+(?: +[a-z]+\b)*/i.exec(sr)]||RegExp("\\b"+ne(lI)+"(?:\\b|\\w*\\d)","i").exec(Me))&&lI})}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),Ln=function(wi){return se(wi,function(ti,di){var lI=di.pattern||ne(di);return!ti&&(ti=RegExp("\\b"+lI+"(?:/[\\d.]+|[ \\w.]*)","i").exec(Me))&&(ti=function(Cd,Mw,_w){var xw={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return Mw&&_w&&/^Win/i.test(Cd)&&!/^Windows Phone /i.test(Cd)&&(xw=xw[/[\d.]+$/.exec(Cd)])&&(Cd="Windows "+xw),Cd=String(Cd),Mw&&_w&&(Cd=Cd.replace(RegExp(Mw,"i"),_w)),B(Cd.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(ti,lI,di.label||di)),ti})}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function oI(to){return se(to,function(wi,ti){var di=ti.pattern||ne(ti);return!wi&&(wi=RegExp("\\b"+di+" *\\d+[.\\w_]*","i").exec(Me)||RegExp("\\b"+di+" *\\w+-[\\w]*","i").exec(Me)||RegExp("\\b"+di+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(Me))&&((wi=String(ti.label&&!RegExp(di,"i").test(ti.label)?ti.label:wi).split("/"))[1]&&!/[\d.]+/.test(wi[0])&&(wi[0]+=" "+wi[1]),ti=ti.label||ti,wi=B(wi[0].replace(RegExp(di,"i"),ti).replace(RegExp("; *(?:"+ti+"[_-])?","i")," ").replace(RegExp("("+ti+")[-_.]?(\\w)","i"),"$1 $2"))),wi})}function sI(to){return se(to,function(wi,ti){return wi||(RegExp(ti+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(Me)||0)[1]||null})}if(zr&&(zr=[zr]),/\bAndroid\b/.test(Ln)&&!sr&&(me=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(Me))&&(sr=xe(me[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),Ea&&!sr?sr=oI([Ea]):Ea&&sr&&(sr=sr.replace(RegExp("^("+ne(Ea)+")[-_.\\s]","i"),Ea+" ").replace(RegExp("^("+ne(Ea)+")[-_.]?(\\w)","i"),Ea+" $2")),(me=/\bGoogle TV\b/.exec(sr))&&(sr=me[0]),/\bSimulator\b/i.test(Me)&&(sr=(sr?sr+" ":"")+"Simulator"),In=="Opera Mini"&&/\bOPiOS\b/.test(Me)&&hn.push("running in Turbo/Uncompressed mode"),In=="IE"&&/\blike iPhone OS\b/.test(Me)?(Ea=(me=$e(Me.replace(/like iPhone OS/,""))).manufacturer,sr=me.product):/^iP/.test(sr)?(In||(In="Safari"),Ln="iOS"+((me=/ OS ([\d_]+)/i.exec(Me))?" "+me[1].replace(/_/g,"."):"")):In=="Konqueror"&&/^Linux\b/i.test(Ln)?Ln="Kubuntu":Ea&&Ea!="Google"&&(/Chrome/.test(In)&&!/\bMobile Safari\b/i.test(Me)||/\bVita\b/.test(sr))||/\bAndroid\b/.test(Ln)&&/^Chrome/.test(In)&&/\bVersion\//i.test(Me)?(In="Android Browser",Ln=/\bAndroid\b/.test(Ln)?Ln:"Android"):In=="Silk"?(/\bMobi/i.test(Me)||(Ln="Android",hn.unshift("desktop mode")),/Accelerated *= *true/i.test(Me)&&hn.unshift("accelerated")):In=="UC Browser"&&/\bUCWEB\b/.test(Me)?hn.push("speed mode"):In=="PaleMoon"&&(me=/\bFirefox\/([\d.]+)\b/.exec(Me))?hn.push("identifying as Firefox "+me[1]):In=="Firefox"&&(me=/\b(Mobile|Tablet|TV)\b/i.exec(Me))?(Ln||(Ln="Firefox OS"),sr||(sr=me[1])):!In||(me=!/\bMinefield\b/i.test(Me)&&/\b(?:Firefox|Safari)\b/.exec(In))?(In&&!sr&&/[\/,]|^[^(]+?\)/.test(Me.slice(Me.indexOf(me+"/")+8))&&(In=null),(me=sr||Ea||Ln)&&(sr||Ea||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(Ln))&&(In=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(Ln)?Ln:me)+" Browser")):In=="Electron"&&(me=(/\bChrome\/([\d.]+)\b/.exec(Me)||0)[1])&&hn.push("Chromium "+me),Hn||(Hn=sI(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",ne(In),"(?:Firefox|Minefield|NetFront)"])),(me=(zr=="iCab"&&parseFloat(Hn)>3?"WebKit":/\bOpera\b/.test(In)&&(/\bOPR\b/.test(Me)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(Me)&&!/^(?:Trident|EdgeHTML)$/.test(zr)&&"WebKit"||!zr&&/\bMSIE\b/i.test(Me)&&(Ln=="Mac OS"?"Tasman":"Trident")||zr=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(In)&&"NetFront")&&(zr=[me]),In=="IE"&&(me=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(Me)||0)[1])?(In+=" Mobile",Ln="Windows Phone "+(/\+$/.test(me)?me:me+".x"),hn.unshift("desktop mode")):/\bWPDesktop\b/i.test(Me)?(In="IE Mobile",Ln="Windows Phone 8.x",hn.unshift("desktop mode"),Hn||(Hn=(/\brv:([\d.]+)/.exec(Me)||0)[1])):In!="IE"&&zr=="Trident"&&(me=/\brv:([\d.]+)/.exec(Me))&&(In&&hn.push("identifying as "+In+(Hn?" "+Hn:"")),In="IE",Hn=me[1]),gr){if(function(wi,ti){var di=wi!=null?typeof wi[ti]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(di)||di=="object"&&!wi[ti])}(Fe,"global"))if(Nn&&(ar=(me=Nn.lang.System).getProperty("os.arch"),Ln=Ln||me.getProperty("os.name")+" "+me.getProperty("os.version")),Dt){try{Hn=Fe.require("ringo/engine").version.join("."),In="RingoJS"}catch{(me=Fe.system)&&me.global.system==Fe.system&&(In="Narwhal",Ln||(Ln=me[0].os||null))}In||(In="Rhino")}else typeof Fe.process=="object"&&!Fe.process.browser&&(me=Fe.process)&&(typeof me.versions=="object"&&(typeof me.versions.electron=="string"?(hn.push("Node "+me.versions.node),In="Electron",Hn=me.versions.electron):typeof me.versions.nw=="string"&&(hn.push("Chromium "+Hn,"Node "+me.versions.node),In="NW.js",Hn=me.versions.nw)),In||(In="Node.js",ar=me.arch,Ln=me.platform,Hn=(Hn=/[\d.]+/.exec(me.version))?Hn[0]:null));else Y(me=Fe.runtime)==mt?(In="Adobe AIR",Ln=me.flash.system.Capabilities.os):Y(me=Fe.phantom)==dn?(In="PhantomJS",Hn=(me=me.version||null)&&me.major+"."+me.minor+"."+me.patch):typeof Sr.documentMode=="number"&&(me=/\bTrident\/(\d+)/i.exec(Me))?(Hn=[Hn,Sr.documentMode],(me=+me[1]+4)!=Hn[1]&&(hn.push("IE "+Hn[1]+" mode"),zr&&(zr[1]=""),Hn[1]=me),Hn=In=="IE"?String(Hn[1].toFixed(1)):Hn[0]):typeof Sr.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(In)&&(hn.push("masking as "+In+" "+Hn),In="IE",Hn="11.0",zr=["Trident"],Ln="Windows");Ln=Ln&&B(Ln)}if(Hn&&(me=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(Hn)||/(?:alpha|beta)(?: ?\d)?/i.exec(Me+";"+(gr&&Ae.appMinorVersion))||/\bMinefield\b/i.test(Me)&&"a")&&(Lr=/b/i.test(me)?"beta":"alpha",Hn=Hn.replace(RegExp(me+"\\+?$"),"")+(Lr=="beta"?_a:cr)+(/\d+\+?/.exec(me)||"")),In=="Fennec"||In=="Firefox"&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(Ln))In="Firefox Mobile";else if(In=="Maxthon"&&Hn)Hn=Hn.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(sr))sr=="Xbox 360"&&(Ln=null),sr=="Xbox 360"&&/\bIEMobile\b/.test(Me)&&hn.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(In)&&(!In||sr||/Browser|Mobi/.test(In))||Ln!="Windows CE"&&!/Mobi/i.test(Me))if(In=="IE"&&gr)try{Fe.external===null&&hn.unshift("platform preview")}catch{hn.unshift("embedded")}else(/\bBlackBerry\b/.test(sr)||/\bBB10\b/.test(Me))&&(me=(RegExp(sr.replace(/ +/g," *")+"/([.\\d]+)","i").exec(Me)||0)[1]||Hn)?(Ln=((me=[me,/BB10/.test(Me)])[1]?(sr=null,Ea="BlackBerry"):"Device Software")+" "+me[0],Hn=null):this!=W&&sr!="Wii"&&(gr&&Ot||/Opera/.test(In)&&/\b(?:MSIE|Firefox)\b/i.test(Me)||In=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(Ln)||In=="IE"&&(Ln&&!/^Win/.test(Ln)&&Hn>5.5||/\bWindows XP\b/.test(Ln)&&Hn>8||Hn==8&&!/\bTrident\b/.test(Me)))&&!u.test(me=$e.call(W,Me.replace(u,"")+";"))&&me.name&&(me="ing as "+me.name+((me=me.version)?" "+me:""),u.test(In)?(/\bIE\b/.test(me)&&Ln=="Mac OS"&&(Ln=null),me="identify"+me):(me="mask"+me,In=Ft?B(Ft.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(me)&&(Ln=null),gr||(Hn=null)),zr=["Presto"],hn.push(me));else In+=" Mobile";(me=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(Me)||0)[1])&&(me=[parseFloat(me.replace(/\.(\d)$/,".0$1")),me],In=="Safari"&&me[1].slice(-1)=="+"?(In="WebKit Nightly",Lr="alpha",Hn=me[1].slice(0,-1)):Hn!=me[1]&&Hn!=(me[2]=(/\bSafari\/([\d.]+\+?)/i.exec(Me)||0)[1])||(Hn=null),me[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(Me)||0)[1],me[0]==537.36&&me[2]==537.36&&parseFloat(me[1])>=28&&zr=="WebKit"&&(zr=["Blink"]),gr&&(Ge||me[1])?(zr&&(zr[1]="like Chrome"),me=me[1]||((me=me[0])<530?1:me<532?2:me<532.05?3:me<533?4:me<534.03?5:me<534.07?6:me<534.1?7:me<534.13?8:me<534.16?9:me<534.24?10:me<534.3?11:me<535.01?12:me<535.02?"13+":me<535.07?15:me<535.11?16:me<535.19?17:me<536.05?18:me<536.1?19:me<537.01?20:me<537.11?"21+":me<537.13?23:me<537.18?24:me<537.24?25:me<537.36?26:zr!="Blink"?"27":"28")):(zr&&(zr[1]="like Safari"),me=(me=me[0])<400?1:me<500?2:me<526?3:me<533?4:me<534?"4+":me<535?5:me<537?6:me<538?7:me<601?8:me<602?9:me<604?10:me<606?11:me<608?12:"12"),zr&&(zr[1]+=" "+(me+=typeof me=="number"?".x":/[.+]/.test(me)?"":"+")),In=="Safari"&&(!Hn||parseInt(Hn)>45)?Hn=me:In=="Chrome"&&/\bHeadlessChrome/i.test(Me)&&hn.unshift("headless")),In=="Opera"&&(me=/\bzbov|zvav$/.exec(Ln))?(In+=" ",hn.unshift("desktop mode"),me=="zvav"?(In+="Mini",Hn=null):In+="Mobile",Ln=Ln.replace(RegExp(" *"+me+"$"),"")):In=="Safari"&&/\bChrome\b/.exec(zr&&zr[1])?(hn.unshift("desktop mode"),In="Chrome Mobile",Hn=null,/\bOS X\b/.test(Ln)?(Ea="Apple",Ln="iOS 4.3+"):Ln=null):/\bSRWare Iron\b/.test(In)&&!Hn&&(Hn=sI("Chrome")),Hn&&Hn.indexOf(me=/[\d.]+$/.exec(Ln))==0&&Me.indexOf("/"+me+"-")>-1&&(Ln=xe(Ln.replace(me,""))),Ln&&Ln.indexOf(In)!=-1&&!RegExp(In+" OS").test(Ln)&&(Ln=Ln.replace(RegExp(" *"+ne(In)+" *"),"")),zr&&!/\b(?:Avant|Nook)\b/.test(In)&&(/Browser|Lunascape|Maxthon/.test(In)||In!="Safari"&&/^iOS/.test(Ln)&&/\bSafari\b/.test(zr[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(In)&&zr[1])&&(me=zr[zr.length-1])&&hn.push(me),hn.length&&(hn=["("+hn.join("; ")+")"]),Ea&&sr&&sr.indexOf(Ea)<0&&hn.push("on "+Ea),sr&&hn.push((/^on /.test(hn[hn.length-1])?"":"on ")+sr),Ln&&(me=/ ([\d.+]+)$/.exec(Ln),Ve=me&&Ln.charAt(Ln.length-me[0].length-1)=="/",Ln={architecture:32,family:me&&!Ve?Ln.replace(me[0],""):Ln,version:me?me[1]:null,toString:function(){var to=this.version;return this.family+(to&&!Ve?" "+to:"")+(this.architecture==64?" 64-bit":"")}}),(me=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(ar))&&!/\bi686\b/i.test(ar)?(Ln&&(Ln.architecture=64,Ln.family=Ln.family.replace(RegExp(" *"+me),"")),In&&(/\bWOW64\b/i.test(Me)||gr&&/\w(?:86|32)$/.test(Ae.cpuClass||Ae.platform)&&!/\bWin64; x64\b/i.test(Me))&&hn.unshift("32-bit")):Ln&&/^OS X/.test(Ln.family)&&In=="Chrome"&&parseFloat(Hn)>=39&&(Ln.architecture=64),Me||(Me=null);var ho={};return ho.description=Me,ho.layout=zr&&zr[0],ho.manufacturer=Ea,ho.name=In,ho.prerelease=Lr,ho.product=sr,ho.ua=Me,ho.version=In&&Hn,ho.os=Ln||{architecture:null,family:null,version:null,toString:function(){return"null"}},ho.parse=$e,ho.toString=function(){return this.description||""},ho.version&&hn.unshift(Hn),ho.name&&hn.unshift(In),Ln&&In&&(Ln!=String(Ln).split(" ")[0]||Ln!=In.split(" ")[0]&&!sr)&&hn.push(sr?"("+Ln+")":"on "+Ln),hn.length&&(ho.description=hn.join(" ")),ho}();o&&a?W(we,function($e,Me){o[Me]=$e}):f.platform=we}).call(r)});function FQ(){var p,y,f=sv.version||"";if(Cx())try{var o=navigator.userAgent.match(/Electron\/([\d.]+\d+)/);o&&o[1]&&typeof o[1]=="string"&&(f=o[1])}catch{}return{os:((p=sv.os)===null||p===void 0?void 0:p.family)||"",osVer:((y=sv.os)===null||y===void 0?void 0:y.version)||"",browser:sv.name||"",browserVer:sv.version||"",libEnv:"BROWSER",hostEnv:Cx()?"Electron":Jj()?"H5":Qj()?"BROWSER":"Unset",hostEnvEnum:Cx()?5:Jj()?101:Qj()?100:0,hostEnvVer:f,userAgent:navigator&&navigator.userAgent,model:f,manufactor:sv.name||""}}var wS=null,NS=null,qQ={getNetworkStatus:function(){return Zt.resolve({net_type:0,net_connect:typeof navigator>"u"||typeof navigator.onLine!="boolean"||navigator.onLine})},onNetworkStatusChange:function(y){wS=function(){y({isConnected:!0,networkType:0})},NS=function(){y({isConnected:!1,networkType:0})},window.addEventListener("online",wS),window.addEventListener("offline",NS)},offNetworkStatusChange:function(){wS&&window.removeEventListener("online",wS),NS&&window.removeEventListener("offline",NS),wS=null,NS=null}},Df="log",zQ=function(){function p(f,o){this.db=null,this.stores=[],this.name=f,this.version=o}var y=p.prototype;return y.getDB=function(){if(!this.db)throw new Error("DB not ready");return this.db},y.getStore=function(o){var a,l=Wo(a=this.stores).call(a,function(c){return c.storeName===o});if(!l)throw new Error("LogStorage: store not found. "+o);return l},y.open=function(){var o=this,a=window.indexedDB.open(this.name,this.version);return new Zt(function(l,c){a.onerror=function(u){var h=u.target;c(h.error)},a.onsuccess=function(u){var h,C,x=u.target;o.db=x.result,o.db.removeEventListener("close",cn(h=o.triggerDBCloseEvt).call(h,o)),o.db.addEventListener("close",cn(C=o.triggerDBCloseEvt).call(C,o)),o.stores.push(new HQ(Df,o)),l()},a.onupgradeneeded=function(u){var h=u.target;o.upgradeDBBySchema(h)}})},y.triggerDBCloseEvt=function(){try{this.db&&this.db.close(),this.db=null}catch{}this.open()},y.upgradeDBBySchema=function(o){var a=o.result,l=o.transaction&&a.objectStoreNames.contains(Df)?o.transaction.objectStore(Df):a.createObjectStore(Df,{keyPath:"id",autoIncrement:!0});try{l.index("time")}catch{l.createIndex("time","time",{unique:!1})}},y.close=function(){var o;this.db&&(this.db.removeEventListener("close",cn(o=this.triggerDBCloseEvt).call(o,this)),this.db.close(),this.stores=[],this.db=null)},p}(),HQ=function(){function p(f,o){this.idb=null,this.storeName=f,this.idb=o}var y=p.prototype;return y.getDB=function(){if(!this.idb)throw new Error("DB not ready");return this.idb.getDB()},y.getStoreName=function(){return this.storeName},y.bulkCreate=function(o){var a=this.getDB(),l=this.getStoreName(),c=a.transaction(l,"readwrite"),u=c.objectStore(l);return rt(o).call(o,function(h){u.add(h)}),new Zt(function(h,C){c.oncomplete=function(){h()},c.onerror=function(x){var k=x.target;C(k.error)},c.onabort=function(x){var k=x.target;k.error instanceof Error?C(k.error):C(new Error("TransactionAborted"))}})},y.bulkDelete=function(o){var a=o.keyName,l=o.lower,c=o.upper,u=o.lowerOpen,h=u!==void 0&&u,C=o.upperOpen,x=C!==void 0&&C,k=IDBKeyRange.bound(l,c,h,x),B=this.getDB(),W=this.getStoreName(),Y=B.transaction(W,"readwrite"),ne=Y.objectStore(W).index(a).openCursor(k),se=0;return ne.onsuccess=function(xe){var we=xe.target.result;we&&(we.delete(),se++,we.continue())},new Zt(function(xe,we){Y.oncomplete=function(){xe(se)},Y.onerror=function($e){var Me=$e.target;we(Me.error)},Y.onabort=function($e){var Me=$e.target;Me.error instanceof Error?we(Me.error):we(new Error("TransactionAborted"))}})},y.readAll=function(){var o=this.getDB(),a=this.getStoreName(),l=o.transaction(a,"readonly").objectStore(a);if(!l.getAll)throw new Error("IDBExtract not support");var c=l.getAll();return new Zt(function(u,h){c.onsuccess=function(C){var x=C.target;u(x.result)},c.onerror=function(C){var x=C.target;h(x.error)}})},p}(),GQ=function(){function p(f){f===void 0&&(f="nim_logs"),this.idb=new zQ(f,1)}var y=p.prototype;return y.open=function(){return le(this,void 0,void 0,q.mark(function o(){var a;return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.idb.open();case 2:return a=this.idb.getStore(Df),c.prev=3,c.next=6,a.bulkDelete({keyName:"time",lower:0,upper:lr()-2592e5});case 6:c.next=10;break;case 8:c.prev=8,c.t0=c.catch(3);case 10:case"end":return c.stop()}},o,this,[[3,8]])}))},y.close=function(){this.idb.close()},y.addLogs=function(o){return this.idb.getStore(Df).bulkCreate(o)},y.extractLogs=function(){return le(this,void 0,void 0,q.mark(function o(){var a,l,c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return l=this.idb.getStore(Df),x.next=3,l.readAll();case 3:if((c=x.sent).length!==0){x.next=6;break}return x.abrupt("return",void 0);case 6:return u=ja(c).call(c,function(k,B){var W=B.iid;return k[W]||(k[W]=[]),k[W].push(B),k},{}),h=Qe(a=Gn(u)).call(a,function(k){var B=u[k];return"==========iid:"+k+`==========
 `+Qe(B).call(B,function(W){return W.text}).join(`
`)}).join(`
`),x.abrupt("return",new File([h],"nim-logs.txt",{type:"text/plain"}));case 9:case"end":return x.stop()}},o,this)}))},y.afterUpload=function(){return Zt.resolve()},p}();function Tx(p,y){var f,o=Ma!==void 0&&Eo(p)||p["@@iterator"];if(o)return cn(f=(o=o.call(p)).next).call(f,o);if(Nr(p)||(o=function(c,u){if(c){var h;if(typeof c=="string")return Zj(c,u);var C=zn(h={}.toString.call(c)).call(h,8,-1);return C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set"?ma(c):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?Zj(c,u):void 0}}(p))||y){o&&(p=o);var a=0;return function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zj(p,y){(y==null||y>p.length)&&(y=p.length);for(var f=0,o=Array(y);f<y;f++)o[f]=p[f];return o}var Mx={},lv={};function _x(p,y,f,o){var a=Mx[p];if(!a)return f.error("createCmd:: can not find cmd config: ",p),null;var l,c={SER:y,SID:a.sid,CID:a.cid,Q:[]};return a.params&&o&&rt(l=a.params).call(l,function(u){var h=o[u.name];if(h!=null){var C=u.type,x=u.reflectMapper,k=u.select;switch(u.type){case"PropertyArray":C="ArrayMable",h=Qe(h).call(h,function(B){return{t:"Property",v:x?uo(B,x,k):B}});break;case"Property":h=x?uo(h,x,k):h;break;case"Bool":h=h?"true":"false"}c.Q.push({t:C,v:h})}}),{packet:c,hasPacketResponse:typeof a.hasPacketResponse!="boolean"||a.hasPacketResponse,hasPacketTimer:typeof a.hasPacketTimer!="boolean"||a.hasPacketTimer}}function xx(p,y){var f,o;try{o=JSON.parse(p)}catch{return void y.error('Parse command error:"'+p+'"')}var a=o.sid+"_"+o.cid,l=o.r;if(or(f=["4_1","4_2","4_10","4_11"]).call(f,a)){var c=o.r[1].headerPacket;a=c.sid+"_"+c.cid,o.sid=c.sid,o.cid=c.cid,l=o.r[1].body}var u=lv[a],h=[];if(u&&u.length>0){for(var C,x=Tx(u);!(C=x()).done;){var k=C.value;h.push(KQ(o,k.config,k.cmd,l,y))}return h}y.error("parseCmd:: mapper not exist",a,o.code)}function KQ(p,y,f,o,a){var l,c={cmd:f,raw:p,error:null,service:y==null?void 0:y.service,content:{},__receiveTimeNode:_S.getTimeNode()};(y.sid===18||y.sid>=26&&y.sid<100)&&(p.code=function(x){if(typeof x!="number"||x!=x)throw new Ct({code:it.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:"Read code failed",rawData:""+x}});if(x<0||x>=0&&x<1e3||x>=2e4&&x<=20099)return x;var k=(65535&x)>>9;return k-=k<=38?1:2,1e5+1e3*k+(511&x)}(p.code));var u,h=function(x,k){var B=Kh[x],W=aC[x];return W===null?null:new Ct({code:x,desc:B||W||x,detail:{cmd:k,timetag:lr()}})}(p.code,f);if(c.error=h,c.error){if(c.error.detail.cmd=f,!(!((l=y==null?void 0:y.ignoreErrCodes)===null||l===void 0)&&or(l).call(l,p.code)))return c;a.warn("parseCmd:: ignore error ",c.error),c.error.detail.ignore=!0}return y.response&&rt(u=y.response).call(u,function(C,x){var k=o[x],B=C.type,W=C.name,Y=C.reflectMapper;if(k!==void 0)switch(B){case"Property":c.content[W]=Y?Rr(k,Y):k;break;case"PropertyArray":c.content[W]=Qe(k).call(k,function(ne){return Y?Rr(ne,Y):ne});break;case"Int":case"Long":case"Byte":c.content[W]=+k;break;case"Bool":c.content[W]=k==="true"||k===!0||k===1;break;default:c.content[W]=k}}),c}function uo(p,y,f){var o={};for(var a in p=function(C,x){var k={};for(var B in x){for(var W,Y=x[B],ne=typeof Y=="number"?B:Y.access?Y.access:B,se=C,xe=Tx(ne.split("."));!(W=xe()).done;){var we=W.value;if(se[we]===void 0||se[we]===null){se=void 0;break}se=se[we]}se!==void 0&&(k[ne]=se)}return k}(p,y),y){var l=y[a],c=typeof l=="number"?a:l.access?l.access:a;if(!f||or(f).call(f,a))if(c in p){if(typeof l=="number")o[l]=p[c];else if(typeof l=="object")if(l.converter){var u=l.converter(p[c],p);u!==void 0&&(o[l.id]=u)}else o[l.id]=p[c]}else typeof l=="object"&&l.def&&(typeof l.def=="function"?o[l.id]=l.def(p):o[l.id]=l.def)}return o}function Rr(p,y){var f={};for(var o in p){var a=y[o];if(typeof a=="string")f[a]=p[o];else if(typeof a=="object"&&"prop"in a){var l=a.access?a.access:a.prop;if(a.converter){var c=a.converter(p[o],p);c!==void 0&&(f[l]=c)}else a.type&&a.type==="number"?f[l]=+p[o]:a.type&&a.type==="boolean"?f[l]=!(p[o]==="0"||!p[o]):f[l]=p[o]}}for(var u in y){var h=y[u];if(h&&h.def!==void 0){var C=h.access?h.access:h.prop;C in f||(typeof h.def=="function"?f[C]=h.def(p):f[C]=h.def)}}return f=function(k){var B={},W=function(se){var xe=se.split(".");ja(xe).call(xe,function(we,$e,Me){return we[$e]||(we[$e]=isNaN(Number(xe[Me+1]))?xe.length-1==Me?k[se]:{}:[])},B)};for(var Y in k)W(Y);return B}(f),f}function Wr(p){for(var y in ce(Mx,p.cmdConfig),p.cmdMap){var f=p.cmdMap[y],o=p.cmdConfig[f];if(o)if(Nr(lv[y])){for(var a,l=!1,c=Tx(lv[y]);!(a=c()).done;){var u=a.value;if(u.cmd===f&&u.config.service===o.service){l=!0;break}}l||lv[y].push({config:o,cmd:f})}else lv[y]=[{config:o,cmd:f}]}}function po(p){var y,f={};return rt(y=Gn(p)).call(y,function(o){f[o]=dt(p[o])}),f}function dt(p){var y={};for(var f in p){var o=p[f];typeof o=="number"?y[o]=f:typeof o=="object"&&(y[o.id]={prop:f,type:o.retType,access:o.retAccess?o.retAccess:o.access?o.access:f,def:o.retDef,converter:o.retConverter})}return y}function la(p){return p?1:0}function eV(p){return un(p)===1}function yc(p){if(p&&typeof p=="object")try{return $t(p)}catch{return}}function cd(p){if(p&&typeof p=="string")try{return JSON.parse(p)}catch{return}}var jp,Qi,cv,yi,Pl,WQ={"1_2":"heartbeat","2_3":"login","2_5":"kicked","2_6":"logout","2_7":"nimLoginClientChange","2_8":"kick"},tV={login:{clientType:3,os:4,sdkVersion:6,appLogin:8,protocolVersion:9,pushTokenName:10,pushToken:11,deviceId:13,appkey:18,account:19,browser:24,clientSession:26,deviceInfo:32,isReactNative:112,token:1e3,customTag:38,customClientType:39,sdkHumanVersion:40,hostEnv:41,userAgent:42,libEnv:44,authType:115,loginExt:116},loginRes:{lastLoginDeviceId:17,customTag:38,connectionId:102,ip:103,port:104,country:106,loginTime:109,hasXMPush:111},loginPort:{type:3,os:4,mac:5,deviceId:13,account:19,deviceInfo:32,customTag:38,customClientType:39,connectionId:102,ip:103,port:104,time:109,pushType:110,hasTokenPreviously:111},aosPushInfo:{pushType:110,hasTokenPreviously:111}},yC=po(tV),YQ={login:{sid:2,cid:3,service:"auth",params:[{type:"Property",name:"login",reflectMapper:tV.login}],response:[{type:"Property",name:"loginRes",reflectMapper:yC.loginRes},{type:"PropertyArray",name:"loginPorts",reflectMapper:yC.loginPort},{type:"Property",name:"aosPushInfo",reflectMapper:yC.aosPushInfo}]},logout:{sid:2,cid:6,service:"auth"},heartbeat:{sid:1,cid:2,service:"auth"},kicked:{sid:2,cid:5,service:"auth",response:[{type:"Int",name:"clientType"},{type:"Int",name:"reason"},{type:"String",name:"ext"},{type:"Int",name:"customClientType"}]},nimLoginClientChange:{sid:2,cid:7,service:"auth",response:[{type:"Byte",name:"state"},{type:"PropertyArray",name:"datas",reflectMapper:yC.loginPort}]},kick:{sid:2,cid:8,service:"auth",params:[{type:"StrArray",name:"deviceIds"}],response:[{type:"StrArray",name:"deviceIds"}]}};function oa(p,y){if(!lu(y))return{};var f=JSON.parse($t(y)),o=nV(p,f);return JSON.parse($t(ce(ce({},f),o)))}function nV(p,y){if(!lu(y))return{};var f={},o=Gn(p);return rt(o).call(o,function(a){var l=p[a].type;if(typeof l!="string"){var c=nV(p[a],y);Gn(c).length>0&&(f[a]=c)}else{var u=p[a],h=u.rawKey||a,C=XQ[l](y,h,u);C!==void 0&&(y[h]=void 0,f[a]=C)}}),f}(function(p){p[p.text=0]="text",p[p.image=1]="image",p[p.audio=2]="audio",p[p.video=3]="video",p[p.geo=4]="geo",p[p.notification=5]="notification",p[p.file=6]="file",p[p.tip=10]="tip",p[p.robot=11]="robot",p[p.g2=12]="g2",p[p.custom=100]="custom"})(jp||(jp={})),function(p){p[p.p2p=0]="p2p",p[p.team=1]="team",p[p.superTeam=5]="superTeam"}(Qi||(Qi={})),function(p){p[p.Android=1]="Android",p[p.iOS=2]="iOS",p[p.PC=4]="PC",p[p.WindowsPhone=8]="WindowsPhone",p[p.Web=16]="Web",p[p.Server=32]="Server",p[p.Mac=64]="Mac",p[p.HarmonyOS=65]="HarmonyOS"}(cv||(cv={})),function(p){p[p.unread=1]="unread",p[p.read=2]="read",p[p.deleted=3]="deleted",p[p.sending=4]="sending",p[p.sendFailed=5]="sendFailed",p[p.sent=6]="sent",p[p.receipt=7]="receipt",p[p.refused=10]="refused"}(yi||(yi={})),function(p){p[p.default=0]="default",p[p.leave=1]="leave",p[p.roam=2]="roam"}(Pl||(Pl={}));var XQ={number:function(y,f){if(y[f]!==void 0)return+y[f]},string:function(y,f){if(y[f]!==void 0)return y[f]},boolean:function(y,f){return+y[f]>0||+y[f]!=0&&void 0},enum:function(y,f,o){return Xo(o)[y[f]]},object:function(y,f){if(y[f]!==void 0)try{return JSON.parse(y[f])}catch{return{}}}};function ud(p,y){if(!lu(y))return{};var f=JSON.parse($t(y)),o=rV(p,f);return JSON.parse($t(ce(ce({},f),o)))}function rV(p,y){var f;if(!lu(y))return ja(f=Gn(p)).call(f,function(l,c){return l[p[c].rawKey||c]=void 0,l},{});var o={},a=Gn(p);return rt(a).call(a,function(l){var c=p[l].type;if(typeof c!="string"){var u=rV(p[l],y[l]);return ce(o,u),void(y[l]=void 0)}var h=p[l],C=h.rawKey||l,x=aV[c](y,l,h);y[C]=void 0,o[C]=x}),o}var aV={number:function(y,f){return y[f]},string:function(y,f){return y[f]},boolean:function(y,f){return y[f]===!0?1:y[f]===!1?0:void 0},enum:function(y,f,o){return Xo(o)[y[f]]},object:function(y,f){if(y[f]!==void 0)try{return $t(y[f])}catch{return""}}},bC=aV;function iV(p,y){return p&&p.length>0?Qe(p).call(p,function(f){return ce(ce({},f),{account:f.account,connectionId:f.connectionId,deviceId:f.deviceId,ip:f.ip,mac:f.mac,os:f.os,type:hc(cv,f.type)||f.type,time:un(f.time),online:y!==3})}):[]}var JQ={1:{reason:"samePlatformKick",message:"The same account is not allowed to multiple login at the same time"},2:{reason:"serverKick",message:"Kicked out by IM server"},3:{reason:"otherPlatformKick",message:"Kicked out by other client of your account"},4:{reason:"silentlyKick",message:"Quietly kicked"}},SC=uv;function uv(p){p=p||{},this.ms=p.min||100,this.max=p.max||1e4,this.factor=p.factor||2,this.jitter=p.jitter>0&&p.jitter<=1?p.jitter:0,this.attempts=0}uv.prototype.duration=function(){var p=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var y=Math.random(),f=Math.floor(y*this.jitter*p);p=(1&Math.floor(10*y))==0?p-f:p+f}return 0|Math.min(p,this.max)},uv.prototype.reset=function(){this.attempts=0},uv.prototype.setMin=function(p){this.ms=p},uv.prototype.setMax=function(p){this.max=p},uv.prototype.setJitter=function(p){this.jitter=p};var mo,wx=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],Nx=["transport not supported","client not handshaken","unauthorized"],oV=["reconnect"],sV=function(p){function y(o,a,l){var c;return(c=p.call(this)||this).websocket=null,c.socketConnectTimer=0,c.url="",c.linkSSL=!0,c.core=o,c.url=a,c.linkSSL=l,c.status="disconnected",c.logger=o.logger,c.connect(),c}pr(y,p);var f=y.prototype;return f.connect=function(){var a=this;this.status!=="connecting"&&this.status!=="connected"?(this.status="connecting",this.core.adapters.request((this.linkSSL?"https":"http")+"://"+this.url+"/socket.io/1/?t="+lr(),{method:"GET",dataType:"text",timeout:this.core.options.xhrConnectTimeout||8e3},{exception_service:6}).then(function(l){if(a.status==="connecting"){var c=l.data.split(":"),u=c[0];return c[1],a.sessionId=u,a.logger.log("imsocket::XHR success. status "+a.status+", "+(a.status==="connecting"?"continue websocket connection":"stop websocket connection")),a._createWebsocket((a.linkSSL?"wss":"ws")+"://"+a.url+"/socket.io/1/websocket/"+u)}}).catch(function(l){if(a.status==="connecting"){var c='imsocket::XHR fail. raw message: "'+(l=l||{}).message+'", code: "'+l.code+'"',u=l.code;u=Ht(a.core,"options.apiVersion")==="v2"?l.code===it.V2NIM_ERROR_CODE_CONNECT_TIMEOUT?it.V2NIM_ERROR_CODE_CONNECT_TIMEOUT:it.V2NIM_ERROR_CODE_CONNECT_FAILED:l.code===408?408:415;var h=new Ct({code:u,detail:{reason:c,rawError:l}});a.logger.error(c),a.status="disconnected",a.emit("handshakeFailed",h)}})):this.logger.warn("imsocket::socket is connecting or connected",this.status)},f.close=function(){if(this.status="disconnected",this.websocket){this.logger.log("imsocket:: close websocket");try{this.websocket.send(this.encodePacket({type:"disconnect"}))}catch(a){this.logger.warn("imsocket::attempt to send encodePacket error",a)}try{this.websocket.close()}catch(a){this.logger.warn("imsocket::attempt to close websocket error",a)}this.clean(),this.emit("disconnect",{code:0,reason:"Active close websocket"})}},f.clean=function(){this.status="disconnected",clearTimeout(this.socketConnectTimer),this.websocket&&(this.socketUrl=void 0,this.websocket.onmessage=null,this.websocket.onopen=null,this.websocket.onerror=null,this.websocket.onclose=null,this.websocket=null)},f.onConnect=function(){this.status="connected",this.emit("connect"),clearTimeout(this.socketConnectTimer)},f._createWebsocket=function(a){var l,c=this;this.socketConnectTimer=pa(function(){c.logger.error("imsocket::Websocket connect timeout. url: ",c.socketUrl),c.emit("handshakeFailed",new Ct({code:Ht(c.core,"options.apiVersion")==="v2"?it.V2NIM_ERROR_CODE_CONNECT_TIMEOUT:415,detail:{reason:"imsocket::Websocket connect timeout. url: "+c.socketUrl}}))},this.core.options.socketConnectTimeout||8e3),this.socketUrl=a,this.websocket=new rn.WebSocket(a),this.websocket.onmessage=cn(l=this.onMessage).call(l,this),this.websocket.onclose=function(u){u=u||{},c.logger.log("imsocket::Websocket onclose done "+u.wasClean+"/"+u.code+"/"+u.reason),c.clean(),c.emit("disconnect",{code:u.code||0,reason:u.reason})},this.websocket.onerror=function(u){c.logger.error("imsocket::Websocket onerror",u),c.core.status==="logined"&&c.core.clientSocket.ping()}},f.onMessage=function(a){var l,c=this.decodePacket(a.data);if(c)switch(c.type){case"connect":this.onConnect();break;case"disconnect":this.close(),this.emit("disconnect",{code:0,reason:"MessageEvent type disconnect"});break;case"message":case"json":this.emit("message",c.data);break;case"event":c.name&&this.emit(c.name,c.args);break;case"error":c.reason==="unauthorized"?this.emit("connect_failed",c.reason):this.emit("error",c.reason),this.logger.error("imsocket::Websocket connect failed, onmessage type error. url: ",this.socketUrl),clearTimeout(this.socketConnectTimer),this.emit("handshakeFailed",new Ct({code:Ht(this.core,"options.apiVersion")==="v2"?it.V2NIM_ERROR_CODE_CONNECT_FAILED:408,detail:{reason:"imsocket::Websocket connect failed, onMessage socket error. url: "+this.socketUrl}}));break;case"heartbeat":(l=this.websocket)===null||l===void 0||l.send(this.encodePacket({type:"heartbeat"}));break;default:this.logger.warn("imsocket::Websocket no handler type",c.type)}},f.encodePacket=function(a){var l,c,u=a.type,h=a.id,C=h===void 0?"":h,x=a.endpoint,k=x===void 0?"":x,B=a.ack,W=null;if(!u)return"";switch(u){case"error":l=a.reason?dr(Nx).call(Nx,a.reason):"",c=a.advice?dr(oV).call(oV,a.advice):"",l===""&&c===""||(W=l+(c!==""?"+"+c:""));break;case"message":a.data!==""&&(W=a.data);break;case"event":l={name:a.name},l=a.args&&a.args.length?{name:a.name,args:a.args}:{name:a.name},W=$t(l);break;case"json":W=$t(a.data);break;case"connect":a.qs&&(W=a.qs);break;case"ack":W=a.ackId+(a.args&&a.args.length?"+"+$t(a.args):"")}var Y=[dr(wx).call(wx,u),C+(B==="data"?"+":""),k];return W!=null&&Y.push(W),Y.join(":")},f.decodePacket=function(a){if(a)if(a.charAt(0)!="�"){var l=a.match(/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/);if(l){var c,u=l[1],h=l[2],C=l[3],x=l[4],k=l[5],B={type:wx[+u],endpoint:x};switch(h&&(B.id=h,B.ack=!C||"data"),B.type){case"error":c=k.split("+"),B.reason=Nx[+c[0]]||"";break;case"message":B.data=k||"";break;case"connect":B.qs=k||"";break;case"event":try{var W=JSON.parse(k);B.name=W.name,B.args=W.args}catch(Y){this.logger.error("imsocket::parseData::type::event error",Y)}B.args=B.args||[];break;case"json":try{B.data=JSON.parse(k)}catch(Y){this.logger.error("imsocket::parseData::type::json error",Y)}break;case"ack":if((c=k.match(/^([0-9]+)(\+)?(.*)/))&&(B.ackId=c[1],B.args=[],c[3]))try{B.args=c[3]?JSON.parse(c[3]):[]}catch(Y){this.logger.error("imsocket::parseData::type::ack error",Y)}}return B}}else this.logger.error("imsocket::unrecognize dataStr",zn(a).call(a,0,20))},f.send=function(a){var l,c={data:a,type:"message",endpoint:""};(l=this.websocket)===null||l===void 0||l.send(this.encodePacket(c))},y}(Zc);function Vp(p){p=p||[];for(var y=[],f=0;f<p.length;f++)dr(y).call(y,p[f])===-1&&y.push(p[f]);return y}function QQ(p,y){var f,o=Ma!==void 0&&Eo(p)||p["@@iterator"];if(o)return cn(f=(o=o.call(p)).next).call(f,o);if(Nr(p)||(o=function(c,u){if(c){var h;if(typeof c=="string")return lV(c,u);var C=zn(h={}.toString.call(c)).call(h,8,-1);return C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set"?ma(c):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?lV(c,u):void 0}}(p))||y){o&&(p=o);var a=0;return function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lV(p,y){(y==null||y>p.length)&&(y=p.length);for(var f=0,o=Array(y);f<y;f++)o[f]=p[f];return o}(function(p){p[p.ACTIVE=1]="ACTIVE",p[p.KICKED=2]="KICKED",p[p.OFFLINE=3]="OFFLINE"})(mo||(mo={}));var ZQ=function(){function p(f,o){this.linkUrls=[],this.isAutoReconnect=!1,this.packetTimeout=3e4,this.linkSSL=!0,this.packetSer=1,this.retryCount=0,this.reconnectTimer=0,this.backoff=new SC({max:8e3,min:1600,jitter:.01}),this.sendingCmdMap=new Xa,this.pingTimer=0,this.hasNetworkListener=!1,this.core=f,o&&(this.auth=o),this.logger=f.logger,this.reporter=f.reporter,this.timerManager=f.timerManager}var y=p.prototype;return y.setSessionId=function(o){},y.setLinkSSL=function(o){this.linkSSL=o},y.connect=function(o,a){return o===void 0&&(o={}),le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(ge({linkUrls:{type:"array",itemType:"string",required:!1}},o),/^(unconnected|waitReconnect)$/.test(this.core.status)){W.next=5;break}return c="Core socket status is "+this.core.status+", and would not connect",this.logger.warn(c),W.abrupt("return",Zt.reject(c));case 5:this.core.status="connecting",o.linkUrls&&o.linkUrls.length>0&&(this.linkUrls=Bn(u=o.linkUrls).call(u,this.linkUrls),this.linkUrls=Vp(this.linkUrls)),this.linkUrls.length===0&&this.linkUrls.push(Ll),h=0;case 9:if(!(h<this.linkUrls.length)){W.next=31;break}return C=this.linkUrls[h],x=new Date().getTime(),W.prev=12,W.next=15,this.doConnect(C);case 15:return this.core.status="connected",this.logger.log("clientsocketV1::connect success with url: "+C),W.abrupt("return",C);case 20:W.prev=20,W.t0=W.catch(12),k=W.t0,a&&a(k,C),this.reporter.reportTraceStart("exceptions",{user_id:this.core.options.account,start_time:x,action:0,exception_service:6}),this.reporter.reportTraceUpdateV2("exceptions",{code:typeof k.code=="number"?k.code:0,description:k.message||""+k.code,operation_type:0,target:C},{asyncParams:rn.net.getNetworkStatus()}),this.reporter.reportTraceEnd("exceptions",1),this.logger.warn("clientsocketV1::connect failed with url: "+C,W.t0);case 28:h++,W.next=9;break;case 31:throw this.retryCount===0?this.doDisconnect(mo.ACTIVE,"SocketHandshakeFailed"):this.doDisconnect(mo.OFFLINE,"ReconnectHadRetryAllLinks"),new Error("clientSocketV1::socket xhr or socket connect failed");case 33:case"end":return W.stop()}},l,this,[[12,20]])}))},y.doConnect=function(o){var a=this,l=!1;return new Zt(function(c,u){var h;a.socket=new sV(a.core,o,a.linkSSL),a.socket.on("connect",function(){a.logger.log("clientSocketV1::on connect",o),a.core.reporterHookLinkKeep&&(a.core.reporterHookLinkKeep.start(),a.core.reporterHookLinkKeep.update({code:0,description:"connection begin",operation_type:0,target:o})),l=!0,c()}),a.socket.on("message",cn(h=a.onMessage).call(h,a)),a.socket.on("disconnect",function(C){return le(a,void 0,void 0,q.mark(function x(){return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(this.logger.log("clientSocketV1::socket on disconnect",C),!this.core.reporterHookLinkKeep){B.next=5;break}return B.next=4,this.core.reporterHookLinkKeep.update({code:(C==null?void 0:C.code)||0,description:(C==null?void 0:C.reason)||"socket on disconnect",operation_type:1,target:o});case 4:this.core.reporterHookLinkKeep.end(!1);case 5:l=!0,this.doDisconnect(mo.OFFLINE,"SocketOnDisconnect");case 7:case"end":return B.stop()}},x,this)}))}),a.socket.on("handshakeFailed",function(C){l?a.ping():(a.logger.error('clientsocketV1::handshake failed: "'+(C&&C.message)+'"'),a.cleanSocket()),l=!0,u(C)})})},y.cleanSocket=function(){this.socket&&(typeof this.socket.removeAllListeners=="function"&&this.socket.removeAllListeners(),typeof this.socket.close=="function"&&this.socket.close(),this.socket=void 0)},y.beforeConnect=function(){this.reconnectTimer&&clearTimeout(this.reconnectTimer)},y.resetConnectStatus=function(){clearTimeout(this.reconnectTimer),this.backoff.reset(),this.retryCount=0,this.initOnlineListener()},y.doDisconnect=function(o,a,l){var c,u,h,C,x;if(this.logger.log("doDisconnect:type:"+o+",description:"+a),this.core.status!=="unconnected"){var k={1:"close",2:"kicked",3:"broken"}[o]||"";this.markAllCmdInvaild(new Ct({code:415,desc:"Packet timeout due to instance disconnect",detail:{reason:"Packet timeout due to instance disconnect",disconnect_reason:k}})),this.timerManager.destroy(),clearTimeout(this.pingTimer),this.cleanSocket();var B=!this.core.options.needReconnect||this.retryCount>=this.core.options.reconnectionAttempts;if(o===mo.ACTIVE||B)this.logger.log("doDisconnect: emit disconnect, type "+o,B),this.core.status="unconnected",this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.core.eventBus.emit("disconnect"),this.core.emit("disconnect"),(c=this.auth)===null||c===void 0||c.emit("disconnect"),this.destroyOnlineListener();else if(o===mo.KICKED){this.logger.log("doDisconnect: kicked"),this.core.status="unconnected",this.reconnectTimer&&clearTimeout(this.reconnectTimer);var W=typeof a=="string"?{reason:"unknow",message:a}:a;this.core.eventBus.emit("kicked",W),this.core.emit("kicked",W),(u=this.auth)===null||u===void 0||u.emit("kicked",W),this.destroyOnlineListener()}else o===mo.OFFLINE&&this.core.V1NIMLoginService.isManualLoginAttempt?(this.logger.log("doDisconnect: offline in manual login phase. no reconnect"),this.core.status="unconnected",this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.destroyOnlineListener()):o===mo.OFFLINE&&(!((C=(h=this.auth)===null||h===void 0?void 0:h.authenticator)===null||C===void 0)&&C.checkLoginTerminalCode(l==null?void 0:l.code))?(this.logger.log("doDisconnect: login terminal code "+(l==null?void 0:l.code)+", no reconnect"),this.core.status="unconnected",this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.destroyOnlineListener(),this.core.eventBus.emit("disconnect"),this.core.emit("disconnect"),(x=this.auth)===null||x===void 0||x.emit("disconnect")):o===mo.OFFLINE?(this.logger.log("doDisconnect: start to reconnect"),this.attempToReconnect()):this.logger.log("doDisconnect: nothing to do")}else this.logger.warn("doDisconnect:already unconnected")},y.attempToReconnect=function(){var o,a,l=this;if(this.core.status!=="waitReconnect"){this.retryCount===0&&(this.core.eventBus.emit("disconnect"),this.core.emit("disconnect"),(o=this.auth)===null||o===void 0||o.emit("disconnect"));var c=this.backoff.duration();this.retryCount++,this.logger.log("willReconnect "+this.retryCount+" "+c),this.core.eventBus.emit("willReconnect",{retryCount:this.retryCount,duration:c}),this.core.emit("willReconnect",{retryCount:this.retryCount,duration:c}),(a=this.auth)===null||a===void 0||a.emit("willReconnect",{retryCount:this.retryCount,duration:c}),this.core.status="waitReconnect",this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectTimer=pa(function(){return le(l,void 0,void 0,q.mark(function u(){var h=this;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(this.core.status==="waitReconnect"){x.next=3;break}return this.logger.warn("doDisconnect: reconnectTimer status is "+this.core.status+", would not go on reconnecting"),x.abrupt("return");case 3:return x.next=5,rn.net.getNetworkStatus();case 5:x.sent.net_connect===!1?(this.logger.log("doDisconnect: skip this reconnection attempt because network is offline"),this.core.status="connecting",this.retryCount>=this.core.options.reconnectionAttempts?this.doDisconnect(mo.OFFLINE,"MaxReconnectionAttemptExceed"):this.attempToReconnect()):this.core.V1NIMLoginService.login({isAutoReconnect:!0}).catch(function(){h.logger.error("clientsocketV1::attempToReconnect failed "+h.retryCount)});case 7:case"end":return x.stop()}},u,this)}))},c)}else this.logger.warn("doDisconnect: already is waiting reconnect")},y.sendCmd=function(o,a,l){var c=this;if(this.core.status!=="logined"&&o!=="login"&&o!=="chatroomLogin"&&o!=="qchatLogin")return this.logger.warn("instance status is "+this.core.status+", so can not sendCmd "+o),Zt.reject({cmd:o,error:{code:"No_connected",message:"Connection not established",timetag:new Date().getTime()}});if(!this.socket||!this.socket.send)return Zt.reject("No_socket");var u=o!=="heartbeat",h=u?this.packetSer++:0,C=_x(o,h,this.logger,a);if(!C){var x="SendCmd "+h+" "+o+" error";return this.logger.error(x),Zt.reject(new Error(x))}var k=C.packet,B=C.hasPacketResponse,W=C.hasPacketTimer,Y=$t(k);u&&(this.logger.getDebugMode()?this.logger.debug("clientsocketV1::sendCmd",o,"ser:"+h,Y):this.logger.log("clientsocketV1::sendCmd",o,"ser:"+h));var ne=new Date().getTime();return new Zt(function(se,xe){B&&c.sendingCmdMap.set(h,{cmd:o,params:a,callback:[se,xe],timer:W?pa(function(){var $e=new Ct({code:408,desc:"Packet Timeout",detail:{reason:"Packet Timeout",cmd:o,ser:h,timetag:lr()}});c.markCmdInvalid(h,$e,o)},l&&l.timeout?l.timeout:c.core.config.timeout):null});try{c.socket.send(Y),B||se(k)}catch($e){var we=new Ct({code:415,detail:{reason:$e&&$e.message||"Unable to send packet",cmd:o,ser:h,timetag:lr(),rawError:$e}});c.markCmdInvalid(h,we,o),xe($e)}}).catch(function(se){var xe,we=[408,415];if(!or(we).call(we,se.code))return Zt.reject(se);c.reporter.reportTraceStart("exceptions",{user_id:c.core.options.account,trace_id:(xe=c.socket)===null||xe===void 0?void 0:xe.sessionId,start_time:ne,action:2,exception_service:6});var $e=Ht(se,"data.disconnect_reason")||"",Me=se.code===408?"Send failed due to timeout":"Send failed. Reason unknown";return Me=se.code===415?$t({disconnect_reason:$e}):Me,c.reporter.reportTraceUpdateV2("exceptions",{code:se.code||415,description:Me,operation_type:1,target:k.SID+"-"+k.CID,context:""+k.SER},{asyncParams:rn.net.getNetworkStatus()}),c.reporter.reportTraceEnd("exceptions",1),Zt.reject(se)})},y.onMessage=function(o){var a=xx(o,this.logger);if(a&&a.length>0){var l=a[0],c=l.raw.ser;l.error&&this.logger.error("core:onMessage packet error",l.raw.sid+"_"+l.raw.cid+", ser:"+c+",",l.error),l.cmd!=="heartbeat"&&(this.logger.getDebugMode()?this.logger.debug("imsocket::recvCmd ser:"+c,l.cmd,l.content):this.logger.log("imsocket::recvCmd ser:"+c,l.cmd));for(var u,h=QQ(a);!(u=h()).done;){var C=u.value;this.packetHandler(C)}}},y.packetHandler=function(o){var a,l,c,u,h=this;if(o){var C=o.raw.ser,x=this.sendingCmdMap.get(C);if(x&&x.cmd===o.cmd){var k=x.callback,B=x.timer,W=x.params;if(clearTimeout(B),o.params=W,this.sendingCmdMap.delete(C),o.cmd==="heartbeat")return void k[0]();var Y=(l=(a=this.core[o.service])===null||a===void 0?void 0:a.process)===null||l===void 0?void 0:l.call(a,o);Y&&typeof Y.then=="function"?Y.then(function(se){k[0](se)}).catch(function(se){k[1](se)}):(this.logger.log("imsocket:: handlerFn without promise",o.service,o.cmd),k[0]())}else{var ne=(u=(c=this.core[o.service])===null||c===void 0?void 0:c.process)===null||u===void 0?void 0:u.call(c,o);ne&&typeof ne.then=="function"&&ne.catch(function(se){h.logger.error("imsocket::no obj cache, no process handler",se)})}}},y.markCmdInvalid=function(o,a,l){var c=this.sendingCmdMap.get(o);if(c){var u=c.callback,h=c.timer;h&&clearTimeout(h),this.sendingCmdMap.delete(o),this.logger.warn("packet "+o+", "+l+" is invalid:",a),u[1](a)}},y.markAllCmdInvaild=function(o){var a,l=this;this.logger.log("markAllCmdInvaild",o),rt(a=this.sendingCmdMap).call(a,function(c){var u=c.callback,h=c.timer,C=c.cmd;l.logger.log('markAllCmdInvaild:: cmd "'+C+'"'),h&&clearTimeout(h),u[1](o)}),this.sendingCmdMap.clear()},y.ping=function(){var o;return le(this,void 0,void 0,q.mark(function a(){var l=this;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return clearTimeout(this.pingTimer),u.prev=1,u.next=4,this.sendCmd("heartbeat");case 4:u.next=18;break;case 6:return u.prev=6,u.t0=u.catch(1),u.next=10,this.testHeartBeat5Timeout();case 10:if(!u.sent){u.next=18;break}if(!this.core.reporterHookLinkKeep){u.next=16;break}return u.next=15,this.core.reporterHookLinkKeep.update({code:0,description:"Heartbeat-discovered link failure",operation_type:1,target:(o=this.socket)===null||o===void 0?void 0:o.url});case 15:this.core.reporterHookLinkKeep.end(!0);case 16:return this.doDisconnect(mo.OFFLINE,"PingError"),u.abrupt("return");case 18:this.pingTimer=pa(function(){l.ping()},3e4);case 19:case"end":return u.stop()}},a,this,[[1,6]])}))},y.testHeartBeat5Timeout=function(){return le(this,void 0,void 0,q.mark(function o(){var a;return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:clearTimeout(this.pingTimer),a=0;case 2:if(!(a<5)){c.next=15;break}return c.prev=3,c.next=6,this.sendCmd("heartbeat",{},{timeout:3e3});case 6:return c.abrupt("return",!1);case 9:c.prev=9,c.t0=c.catch(3),this.logger.log("clientsocketV1:: test heartbeat "+a+" Timeout");case 12:a++,c.next=2;break;case 15:return c.abrupt("return",!0);case 16:case"end":return c.stop()}},o,this,[[3,9]])}))},y.initOnlineListener=function(){var o=this;this.hasNetworkListener||(this.logger.log("clientsocketV1::onlineListener:init"),this.hasNetworkListener=!0,rn.net.onNetworkStatusChange(function(a){o.logger.log("clientsocketV1::onlineListener:network change",a),a.isConnected&&o.core.status==="logined"?o.ping():a.isConnected&&o.core.status==="waitReconnect"?(o.reconnectTimer&&clearTimeout(o.reconnectTimer),o.core.V1NIMLoginService.login({isAutoReconnect:!0}).catch(function(){o.logger.error("clientsocketV1::attempToReconnect failed "+o.retryCount)})):a.isConnected||o.doDisconnect(mo.OFFLINE,"OfflineListener")}))},y.destroyOnlineListener=function(){this.logger.log("clientsocketV1::onlineListener:destroy"),rn.net.offNetworkStatusChange(),this.hasNetworkListener=!1},y.disconnect=function(){switch(this.core.status){case"connected":case"logined":case"connecting":case"waitReconnect":return this.doDisconnect(mo.ACTIVE,"UserActiveDisconnect"),Zt.resolve();default:return Zt.resolve()}},p}(),eZ=function(){function p(f){this.socketLinkUrls=[],this.timer=0,this.failedCount=0,this.core=f,this.auth=f.V1NIMLoginService,this.logger=this.core.logger}var y=p.prototype;return y.getLbsInfos=function(){return le(this,void 0,void 0,q.mark(function o(){var a,l,c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!(this.socketLinkUrls.length>0)){C.next=5;break}return a=this.socketLinkUrls,this.socketLinkUrls=[],this.core.logger.log("V1NIMLoginService::getLbsInfos:use cache link",a),C.abrupt("return",Zt.resolve(a));case 5:return this.core.reporterHookLBS.start(this.core.account),l=Vp(this.auth.config.lbsUrls),C.prev=7,C.next=10,this.ladderLoad(l);case 10:if((c=C.sent).status===200&&c.data){C.next=14;break}throw this.core.logger.error("V1NIMLoginService::getLbsInfos:error status",c.status,c),new Ct({code:it.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:"V1NIMLoginService::getLbsInfos failed, status "+c.status}});case 14:this.success(c),C.next=25;break;case 17:if(C.prev=17,C.t0=C.catch(7),u=C.t0,this.core.logger.error("V1NIMLoginService::lbs getLbsInfos error, use default link: "+this.auth.config.linkUrl+". error:",C.t0),this.reportForFail(l[0],u.code,u.message),!this.checkTerminator(u.code)){C.next=24;break}throw C.t0;case 24:this.socketLinkUrls=[this.auth.config.linkUrl];case 25:return C.abrupt("return",this.socketLinkUrls);case 26:case"end":return C.stop()}},o,this,[[7,17]])}))},y.checkTerminator=function(o){return o===it.V2NIM_ERROR_CODE_CANCELLED||o===it.V2NIM_ERROR_CODE_TIMEOUT},y.generateUrl=function(o){return(o=this.processLbsUrl(o))+(dr(o).call(o,"?")>-1?"&":"?")+"k="+this.core.options.appkey+"&id="+this.core.auth.getLoginUser()+"&sv=180&pv=1&networkType=0&lv=1"},y.processLbsUrl=function(o){return tv()?o.replace("/webconf","/wxwebconf"):o},y.requstLbs=function(o){return this.auth.doLoginStepsManager.add(this.core.adapters.request(this.generateUrl(o),{method:"GET",dataType:"json",timeout:8e3}))},y.setLadderTimer=function(o,a,l,c){var u=this;this.timer&&clearTimeout(this.timer);var h=o[a];this.timer=pa(function(){h&&(u.setLadderTimer(o,a+1,l,c),u.core.logger.log("V1NIMLoginService::getLbsInfos "+a+":",u.processLbsUrl(h)),u.reportForLbsStart(h,a),u.requstLbs(h).then(function(C){u.reset(),l(ce(ce({},C),{url:h}))}).catch(function(C){var x;if(u.core.logger.warn("V1NIMLoginService::getLbsInfos "+a+" failed:",C),u.failedCount+=1,u.reportForFailOnce(h,C.code,((x=C.detail)===null||x===void 0?void 0:x.reason)||C.message),u.failedCount>=o.length||u.checkTerminator(C.code))return u.reset(),void c(C)}))},2e3)},y.ladderLoad=function(o){var a=this;return new Zt(function(l,c){o.length>1&&a.setLadderTimer(o,1,l,c);var u=o[0];a.core.logger.log("V1NIMLoginService::getLbsInfos 0:",u),a.reportForLbsStart(u,0),a.requstLbs(u).then(function(h){a.reset(),l(ce(ce({},h),{url:u}))}).catch(function(h){var C;a.failedCount+=1,a.core.logger.warn("V1NIMLoginService::getLbsInfos 0 failed:",h),a.reportForFailOnce(u,h.code,((C=h.detail)===null||C===void 0?void 0:C.reason)||h.message),(a.failedCount>=o.length||a.checkTerminator(h.code))&&(a.reset(),c(h))})})},y.success=function(o){var a,l,c,u,h=o.data,C=[this.auth.config.linkUrl];Ht(h,"common.link")&&(C=Bn(u=Ht(h,"common.link")).call(u,C)),Ht(h,'common["link.default"]')&&(C=Bn(C).call(C,Ht(h,'common["link.default"]'))),this.socketLinkUrls=C,h["nos-chunk"]&&(this.logger.log("getLbsInfos success. lbs.nos-chunk",h["nos-chunk"]),(l=this.core.cloudStorage)===null||l===void 0||l.setOptions({chunkUploadHost:h["nos-chunk"]})),Nr(h.nosup)&&h.nosup.length>0&&(this.logger.log("getLbsInfos success. lbs.nosup",h.nosup),(c=this.core.cloudStorage)===null||c===void 0||c.setOptions({commonUploadHostBackupList:h.nosup,commonUploadHost:h.nosup[0]})),this.core.logger.log("V1NIMLoginService::getLbsInfos success, socket link:",zn(a=this.socketLinkUrls).call(a,0),"chunkUploadHost: ",o.data["nos-chunk"]),this.reportForLbsSuccess(o.url,o.data)},y.reportForLbsStart=function(o,a){this.core.reporterHookLBS.updateBegin({target:o,index:a})},y.reportForLbsSuccess=function(o,a){this.core.reporterHookLBS.updateComplete({target:o,code:200,body:$t(a)}),this.core.reporterHookLBS.end(!0),this.core.reporter.reportTraceUpdateV2("login",{operation_type:"HTTP",target:o,code:200,succeed:!0},{asyncParams:rn.net.getNetworkStatus()})},y.reportForFailOnce=function(o,a,l){this.core.reporterHookLBS.updateComplete({target:o,code:a,body:l})},y.reportForFail=function(o,a,l){this.core.reporterHookLBS.end(!1),this.core.reporter.reportTraceUpdateV2("login",{operation_type:"HTTP",target:o,description:l,code:a,succeed:!1},{asyncParams:rn.net.getNetworkStatus()})},y.reset=function(){this.socketLinkUrls=[],this.failedCount=0,clearTimeout(this.timer)},p}(),tZ=function(){function p(f){this.core=f}var y=p.prototype;return y.verifyAuthentication=function(o){var a,l,c;return o===void 0&&(o=!1),le(this,void 0,void 0,q.mark(function u(){var h,C,x,k,B,W,Y,ne,se,xe,we,$e;return q.wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return C=this.core.options,x=rn.getSystemInfo(),k=ce(ce({},C),{appLogin:o?0:1,appkey:C.appkey,account:C.account,token:C.token,deviceId:this.core.auth.deviceId,clientSession:this.core.auth.clientSession,clientType:16,protocolVersion:1,sdkVersion:100920,sdkHumanVersion:"10.9.20",os:x.os,browser:x.browser,userAgent:this.core.options.loginSDKTypeParamCompat?"Native/10.9.20":zn(h=x.userAgent.replace("{{appkey}}",C.appkey)).call(h,0,299),libEnv:this.core.options.loginSDKTypeParamCompat?void 0:x.libEnv,hostEnv:this.core.options.loginSDKTypeParamCompat?0:x.hostEnvEnum}),B=x.os.toLowerCase(),rn.platform!=="UNIAPP"||B!=="ios"&&B!=="android"||(k.isReactNative=1,k.clientType=B==="ios"?2:1,W=!!(!((a=this.core.offlinePush.authConfig)===null||a===void 0)&&a.honorCertificateName),x.pushDeviceInfo&&x.pushDeviceInfo.MANUFACTURER&&(k.deviceInfo=$t(ce({IS_SUPPORT_HONOR:W},x.pushDeviceInfo)))),this.core.logger.log("clientSocketV1::do login,accid:"+C.account+";clientSession:"+((c=(l=this.core.clientSocket)===null||l===void 0?void 0:l.socket)===null||c===void 0?void 0:c.sessionId)),Fe.next=8,this.core.clientSocket.sendCmd("login",{login:k});case 8:if(!(Y=Fe.sent).error){Fe.next=11;break}throw Y.error;case 11:return ne=Y.content,se=ne.loginRes,xe=ne.loginPorts,we=ne.aosPushInfo,$e=iV(xe,2),($e=Tn($e).call($e,function(We){return We.connectionId!==se.connectionId})).length>0&&this.core.emit("multiPortLogin",$e),Fe.abrupt("return",ce(ce({},se),{aosPushInfo:we}));case 16:case"end":return Fe.stop()}},u,this)}))},y.checkLoginTerminalCode=function(o){if(o===void 0)return!1;var a=[201,302,317,403,404,417,422];return or(a).call(a,o)},p}(),ji=function(p){function y(o,a){var l;return(l=p.call(this)||this).name=o,l.logger=a.logger,l.core=a,l}pr(y,p);var f=y.prototype;return f.checkV2=function(){var a=this.core.options.apiVersion;if(a==="v2")return!0;throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:'The version "'+a+'" of client is not supported.'}})},f.checkLogin=function(){if(this.core.V2NIMLoginService.getLoginStatus()===0)throw new Ct({code:it.V2NIM_ERROR_CODE_ILLEGAL_STATE,detail:{reason:"Client logout."}})},f.emit=function(a){for(var l=this,c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];this.logger.debug(this.name+"::emit event: '"+a.toString()+"',",u[0]!==void 0?u[0]:"",u[1]!==void 0?u[1]:"",u[2]!==void 0?u[2]:"");try{var C,x,k=(C=p.prototype.emit).call.apply(C,Bn(x=[this,a]).call(x,u));return k}catch(B){return pa(function(){throw l.logger.error(l.name+"::emit throw error in setTimeout. event: "+a.toString()+". Error",B),B},0),!1}},f.process=function(a){var l=this[a.cmd+"Handler"],c=this.handler&&this.handler[a.cmd+"Handler"];if(typeof l=="function"||typeof c=="function"){if(a.error)return this.logger.error(a.cmd+"::recvError",a.error),Zt.reject(a.error);try{var u=l?l.call(this,a):c.call(this.handler,a);return Zt.resolve(u)}catch(C){return Zt.reject(C)}}var h=Ht(a,"error.detail.ignore");return a.error&&!h?Zt.reject(a.error):Zt.resolve(a)},y}(Zc),Ss=function(){function p(y,f){this.name=y,this.core=f,this.name=y,this.logger=f.logger,this.core=f}return p.prototype.process=function(f){var o=this[f.cmd+"Handler"];if(typeof o=="function")return o.call(this,f);var a=Ht(f,"error.detail.ignore");return f.error&&!a?Zt.reject(f.error):Zt.resolve(f)},p}(),nZ={"6_3":"notifylog","6_4":"uploadLog","6_23":"getServerTime","6_31":"notifyDetect","6_32":"uploadDetect","6_37":"wsDetect"},cV={type:1,params:2,result:3,t1:100,t2:101,t3:102,t4:103,t5:104,t6:105},uV={k1:1,k2:2,k3:3,k4:4,k5:5,k6:6,k7:7,k8:8,k9:9,k10:10},rZ={notifylog:{sid:6,cid:3,service:"misc"},uploadLog:{sid:6,cid:4,service:"misc",hasPacketResponse:!1,params:[{type:"String",name:"url"},{type:"Property",name:"data",reflectMapper:{type:1,content:2}}]},getServerTime:{sid:6,cid:23,service:"misc",response:[{type:"Long",name:"time"}]},notifyDetect:{sid:6,cid:31,service:"misc",response:[{type:"Property",name:"data",reflectMapper:dt(cV)}]},uploadDetect:{sid:6,cid:32,service:"misc",hasPacketResponse:!1,params:[{type:"Property",name:"data",reflectMapper:cV}]},wsDetect:{sid:6,cid:37,service:"misc",params:[{type:"Property",name:"tag",reflectMapper:uV}],response:[{type:"Property",name:"data",reflectMapper:dt(uV)}]}},aZ={type:{type:"number"},t1:{type:"number"},t2:{type:"number"},t3:{type:"number"},t4:{type:"number"},t5:{type:"number"},t6:{type:"number"}},dV=function(p){function y(o){var a;return(a=p.call(this,"misc",o)||this).logLock=!1,a.core=o,Wr({cmdMap:nZ,cmdConfig:rZ}),a.setListener(),a}pr(y,p);var f=y.prototype;return f.setListener=function(){var a,l=this;this.core.eventBus.on("BinaryClientSocket/unpackError",cn(a=this.wsDetect).call(a,this)),this.core.eventBus.on("V2NIMLoginService/loginLifeCycleLoginSucc",function(){l.core.timeOrigin.setOriginTimetick()}),this.core.eventBus.on("logined",function(){l.core.timeOrigin.setOriginTimetick()})},f.getServerTime=function(){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.core.clientSocket.sendCmd("getServerTime");case 2:return l=u.sent,u.abrupt("return",un(l.content.time));case 4:case"end":return u.stop()}},a,this)}))},f.wsDetect=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return c=ce({k1:"val1",k2:"val2"},a),u=null,k.prev=2,k.next=5,this.core.clientSocket.sendCmd("wsDetect",{tag:c});case 5:h=k.sent,u=h.content.data,k.next=14;break;case 9:return k.prev=9,k.t0=k.catch(2),(C=k.t0).code===it.V2NIM_ERROR_CODE_UNPACK_ERROR?(this.logger.warn("misc::wsDetect:998"),this.wsDetectUnreliable(),this.reportBinarySocketDetectResult("packet 998")):this.logger.warn("misc::wsDetect:failed "+C.code),k.abrupt("return");case 14:u&&$t(u)!==$t(c)?(this.logger.warn("misc::wsDetect:content unreliable"),this.wsDetectUnreliable(),this.reportBinarySocketDetectResult("content unreliable")):this.logger.log("misc::wsDetect:success");case 15:case"end":return k.stop()}},l,this,[[2,9]])}))},f.wsDetectUnreliable=function(){this.core.clientSocket.doDisconnect(3,"WSDetectUnreliable")},f.reportBinarySocketDetectResult=function(a){var l;this.core.reporter.reportTraceStart("exceptions",{user_id:this.core.account,trace_id:(l=this.core.clientSocket.socket)===null||l===void 0?void 0:l.sessionId,start_time:lr(),action:2,exception_service:9}),this.core.reporter.reportTraceUpdateV2("exceptions",{code:998,description:"wsDetect::reconnect cause: "+a,operation_type:"5",target:"6-37"}),this.core.reporter.reportTraceEnd("exceptions",1)},f.notifyDetectHandler=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return C=a.content.data,(c=oa(aZ,C)).t3=a.__receiveTimeNode.time,c.t4=lr(),h.prev=3,h.next=6,this.core.clientSocket.sendCmd("uploadDetect",{data:c});case 6:h.next=11;break;case 8:h.prev=8,h.t0=h.catch(3),this.core.logger.warn("misc::notifyDetectHandler:upload failed",h.t0);case 11:case"end":return h.stop()}var C},l,this,[[3,8]])}))},f.notifylogHandler=function(){return le(this,void 0,void 0,q.mark(function a(){var l,c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(l=void 0,!this.logLock){C.next=4;break}return this.core.logger.warn("misc::notifylogHandler:locked"),C.abrupt("return");case 4:return this.logLock=!0,C.prev=5,C.next=8,this.core.logger.extractLogs();case 8:l=C.sent,C.next=15;break;case 11:return C.prev=11,C.t0=C.catch(5),this.logLock=!1,C.abrupt("return");case 15:if(l){C.next=18;break}return this.logLock=!1,C.abrupt("return");case 18:return c="",C.prev=19,C.next=22,this.core.cloudStorage.uploadFile(typeof l=="string"?{type:"file",filePath:l}:{type:"file",file:l});case 22:u=C.sent,c=u.url,C.next=30;break;case 26:return C.prev=26,C.t1=C.catch(19),this.logLock=!1,C.abrupt("return");case 30:if(c){C.next=33;break}return this.logLock=!1,C.abrupt("return");case 33:return c+=(dr(c).call(c,"?")>0?"&":"?")+"download="+new Date().getTime()+"_web.log",C.prev=34,C.next=37,this.core.clientSocket.sendCmd("uploadLog",{url:c});case 37:C.next=43;break;case 39:return C.prev=39,C.t2=C.catch(34),this.logLock=!1,C.abrupt("return");case 43:return C.prev=43,C.next=46,this.logger.afterUpload();case 46:C.next=50;break;case 48:C.prev=48,C.t3=C.catch(43);case 50:this.logLock=!1;case 51:case"end":return C.stop()}},a,this,[[5,11],[19,26],[34,39],[43,48]])}))},y}(Ss),iZ={needReconnect:!0,reconnectionAttempts:Ud,lbsUrls:vc,linkUrl:Ll,xhrConnectTimeout:8e3,socketConnectTimeout:8e3,linkSSL:!0},oZ=function(p){function y(o,a){var l;(l=p.call(this,"V1NIMLoginService",o)||this).account="",l.token="",l.deviceId="",l.processId="",l.clientSession="",l.status="unconnected",l.config=iZ,l.isManualLoginAttempt=!1,l.core._registerDep(dV,"misc"),Wr({cmdMap:WQ,cmdConfig:YQ}),o.V1NIMLoginService=er(l),a&&l.setOptions(a);var c=new ZQ(l.core,er(l));return l.clientSocket=c,l.core.options.apiVersion==="v1"&&(l.core.clientSocket=c,l.core.auth=er(l)),l.lbs=new eZ(o),l.authenticator=new tZ(o),l.doLoginStepsManager=new Lf,l}pr(y,p);var f=y.prototype;return f.reset=function(){this.lbs.reset()},f.setOptions=function(a){var l,c,u;a&&Gn(a).length>0?(this.config=sl(this.config,a),this.account=a.account||this.core.options.account,this.token=a.token||this.core.options.token,this.core.options=ce(ce({},this.core.options),this.config)):(this.config=sl(this.core.options,this.config),this.account=this.core.options.account,this.token=this.core.options.token),(c=(l=this.core.clientSocket)===null||l===void 0?void 0:l.setLinkSSL)===null||c===void 0||c.call(l,(u=this.config.linkSSL)===null||u===void 0||u);var h="",C="";this.config.isFixedDeviceId?(h=rn.localStorage.getItem("__NIM_DEVC_ID__")||ai(),C=rn.localStorage.getItem("__NIM_CLIENT_SESSION_ID__")||ai(),rn.localStorage.setItem("__NIM_DEVC_ID__",h),rn.localStorage.setItem("__NIM_CLIENT_SESSION_ID__",C)):(h=ai(),C=ai()),this.deviceId=h,this.clientSession=C,this.core.reporter.setConfig({common:{dev_id:h}})},f.connect=function(a){return a===void 0&&(a={}),this.login(a)},f.login=function(a){return a===void 0&&(a={}),le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this._checkApiVersion(),a.isAutoReconnect||(this.isManualLoginAttempt=!0,this.processId=ai()),u.next=4,this._connect(a);case 4:return this.core.abtest.abtRequest(),u.prev=5,u.next=8,this.doLogin(a.isAutoReconnect);case 8:this.processId=ai(),this.isManualLoginAttempt=!1,u.next=16;break;case 12:throw u.prev=12,u.t0=u.catch(5),this.isManualLoginAttempt=!1,u.t0;case 16:case"end":return u.stop()}},l,this,[[5,12]])}))},f._connect=function(a){return a===void 0&&(a={}),le(this,void 0,void 0,q.mark(function l(){var c,u,h,C=this;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(/^(unconnected|waitReconnect)$/.test(this.core.status)){k.next=4;break}return c="NIM status is "+this.core.status+", and would not connect",this.logger.warn(c),k.abrupt("return",Zt.reject(c));case 4:return this.clientSocket.beforeConnect(),this.core.reporter.reportTraceCancel("login"),this.core.reporter.reportTraceStart("login",{user_id:this.core.options.account,action:a.isAutoReconnect?"auto_login":"manual_login",binary_websocket:!1,process_id:this.processId}),this.core.reporter.reportTraceUpdateV2("login",{code:0,description:$t(ce(ce({},this.core.options),{account:"***",token:"***"})),operation_type:"conf_init",succeed:!0,duration:0,target:""},{asyncParams:rn.net.getNetworkStatus()}),k.next=10,this.lbs.getLbsInfos();case 10:return u=k.sent,k.prev=11,k.next=14,this.clientSocket.connect({linkUrls:u,isAutoReconnect:a.isAutoReconnect},function(B,W){C.core.reporter.reportTraceUpdateV2("login",{operation_type:"TCP",target:W,code:B.code||408,description:"ws_handshake_failed:"+B.message,succeed:!1},{asyncParams:rn.net.getNetworkStatus()})});case 14:(h=k.sent)&&this.core.reporter.reportTraceUpdateV2("login",{operation_type:"TCP",target:h,code:200,succeed:!0},{asyncParams:rn.net.getNetworkStatus()}),k.next=22;break;case 18:throw k.prev=18,k.t0=k.catch(11),this.core.reporter.reportTraceEnd("login",!1),k.t0;case 22:case"end":return k.stop()}},l,this,[[11,18]])}))},f.doLogin=function(a){return a===void 0&&(a=!1),le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.prev=0,B.next=3,this.authenticator.verifyAuthentication(a);case 3:c=B.sent,this.core.reporter.reportTraceUpdateV2("login",{operation_type:"protocol",target:"2-3",code:200,succeed:!0},{asyncParams:rn.net.getNetworkStatus()}),this.core.reporter.reportTraceEnd("login",!0),this.core.status="logined",B.next=21;break;case 9:if(B.prev=9,B.t0=B.catch(0),u=B.t0,h=Ht(u,"data.disconnect_reason")||"",C=u.code===415?$t({disconnect_reason:h}):u.message,this.core.logger.warn("nim login:: login failed",B.t0),this.core.reporter.reportTraceUpdateV2("login",{operation_type:"protocol",target:"2-3",code:u.code||0,succeed:!1,description:C},{asyncParams:rn.net.getNetworkStatus()}),this.core.reporter.reportTraceEnd("login",!1),this.clientSocket.doDisconnect(mo.OFFLINE,this.isManualLoginAttempt?"FailedToInitializeLogin":"ReconnectLoginFailed",B.t0),!this.isManualLoginAttempt){B.next=20;break}throw B.t0;case 20:return B.abrupt("return");case 21:return B.prev=21,x=c.loginTime?un(c.loginTime):lr(),B.next=25,this.core.cloudStorage.init(x);case 25:B.next=30;break;case 27:B.prev=27,B.t1=B.catch(21),this.core.logger.error("NIM:login cloudStorage init failed ",B.t1);case 30:this.core.eventBus.emit("logined",c),this.core.emit("logined",c),this.emit("logined",c),this.core.logger.log("login done"),this.clientSocket.resetConnectStatus(),this.clientSocket.ping();case 36:case"end":return B.stop()}},l,this,[[0,9],[21,27]])}))},f.disconnect=function(){return this.logout()},f.logout=function(){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:this._checkApiVersion(),this.doLoginStepsManager.clear(),c.t0=this.status,c.next=c.t0==="logined"?5:c.t0==="connected"||c.t0==="connecting"||c.t0==="waitReconnect"?18:c.t0==="unconnected"||c.t0==="destroyed"?21:22;break;case 5:return c.prev=5,c.next=8,this.clientSocket.sendCmd("logout",void 0,{timeout:1e3});case 8:this.clientSocket.doDisconnect(mo.ACTIVE,"UserActiveDisconnect"),this.core._clearModuleData(),c.next=17;break;case 12:c.prev=12,c.t1=c.catch(5),this.logger.error("Instance::disconnect sendCmd:logout error",c.t1),this.clientSocket.doDisconnect(mo.ACTIVE,"UserActiveDisconnect"),this.core._clearModuleData();case 17:return c.abrupt("break",22);case 18:return this.clientSocket.doDisconnect(mo.ACTIVE,"UserActiveDisconnect"),this.core._clearModuleData(),c.abrupt("return",Zt.resolve());case 21:return c.abrupt("return",Zt.resolve());case 22:case"end":return c.stop()}},a,this,[[5,12]])}))},f.kick=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this._checkApiVersion(),C.next=3,this.clientSocket.sendCmd("kick",a);case 3:return u=C.sent,C.abrupt("return",(l=u.content)===null||l===void 0?void 0:l.deviceIds);case 5:case"end":return C.stop()}},c,this)}))},f._checkApiVersion=function(){if(this.core.options.apiVersion!=="v1")throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:'apiVersion is not "v1"'}})},f.nimLoginClientChangeHandler=function(a){if(a.error)this.logger.error("nimLoginClientChangeHandler:: error, ",a.error);else{var l=a.content,c=iV(l.datas,l.state);c.length>0&&(this.core.emit("multiPortLogin",c),this.emit("multiPortLogin",c))}},f.kickedHandler=function(a){if(a.error)this.logger.error("kickedHandler:: error, ",a.error);else{var l=function(u){var h=oa({clientType:{type:"enum",values:cv},customClientType:{type:"number"}},u),C=JQ[h.reason];return ce(h,C=C||{reason:"unknow",message:"Unknown reason"})}(a.content);this.logger.warn("kicked::",l),this.clientSocket.doDisconnect(mo.KICKED,l),this.core._clearModuleData()}},f.getConnectStatus=function(){switch(this.core.status){case"unconnected":case"destroyed":default:return 0;case"connecting":return 2;case"connected":case"logined":return 1;case"waitReconnect":return 3}},f.getLoginStatus=function(){switch(this.core.status){case"unconnected":case"destroyed":case"waitReconnect":default:return 0;case"connecting":case"connected":return 2;case"logined":return 1}},f.getLoginUser=function(){return this.core.options.account},f.emit=function(a){for(var l,c,u,h,C=this.name+"::emit "+a.toString(),x=arguments.length,k=new Array(x>1?x-1:0),B=1;B<x;B++)k[B-1]=arguments[B];return(l=this.logger).log.apply(l,Bn(c=[""+C]).call(c,k)),(u=p.prototype.emit).call.apply(u,Bn(h=[this,a]).call(h,k))},y}(ji);function pV(p){return oa({type:{type:"number"},port:{type:"number"},customClientType:{type:"number"},timestamp:{type:"number"},loginType:{type:"number"}},p)}var sZ={"26_3":"v2Login","26_5":"v2Logout","26_8":"v2KickOffline","26_9":"v2BeKicked","26_10":"v2LoginClientChange","36_1":"v2GetChatroomLinkAddress"},lZ={"1_2":"heartbeat","2_7":"nimLoginClientChange","24_8":"qchatLoginClientChange"},dv={webLoginReqTag:{clientType:3,os:4,sdkVersion:6,appLogin:8,protocolVersion:9,pushTokenName:10,pushToken:11,clientId:13,appkey:18,account:19,browser:24,clientSession:26,deviceInfo:32,isReactNative:112,customTag:38,customClientType:39,sdkHumanVersion:40,hostEnv:41,userAgent:42,libEnv:44,authType:115,thirdPartyExtension:116,token:1e3},mixAuthRepTag:{clientId:1,consid:2,clientIP:3,port:4,type:5,customClientType:6,timestamp:7,customTag:8,os:9,pushType:10,hasTokenPreviously:11,loginType:12},nimAuthRepTag:{type:3,os:4,mac:5,clientId:13,account:19,deviceInfo:32,customTag:38,customClientType:39,consid:102,clientIP:103,port:104,timestamp:109,pushType:110,hasTokenPreviously:111},qchatAuthRepTag:{clientId:8,consid:102,clientIP:103,port:104,type:6,customClientType:13,timestamp:105,os:30,pushType:100,hasTokenPreviously:101}},cZ={v2Login:{sid:26,cid:3,service:"auth",params:[{type:"Property",name:"tag",reflectMapper:dv.webLoginReqTag}],response:[{type:"Property",name:"data",reflectMapper:dt(dv.mixAuthRepTag)},{type:"PropertyArray",name:"loginClients",reflectMapper:dt(dv.mixAuthRepTag)}]},v2Logout:{sid:26,cid:5,service:"auth"},v2KickOffline:{sid:26,cid:8,service:"auth",params:[{type:"StrArray",name:"clientIds"}],response:[{type:"StrArray",name:"clientIds"}]},v2BeKicked:{sid:26,cid:9,service:"auth",response:[{type:"Int",name:"clientType"},{type:"Int",name:"reason"},{type:"String",name:"reasonDesc"},{type:"Int",name:"customClientType"}]},v2LoginClientChange:{sid:26,cid:10,service:"auth",response:[{type:"Byte",name:"state"},{type:"PropertyArray",name:"datas",reflectMapper:dt(dv.mixAuthRepTag)}]},v2GetChatroomLinkAddress:{sid:36,cid:1,service:"auth",params:[{type:"Long",name:"roomId"},{type:"Bool",name:"miniProgram"}],response:[{type:"StrArray",name:"linkAddress"}]}},uZ={heartbeat:{sid:1,cid:2,service:"auth"},nimLoginClientChange:{sid:2,cid:7,service:"auth",response:[{type:"Byte",name:"state"},{type:"PropertyArray",name:"datas",reflectMapper:dt(dv.nimAuthRepTag)}]},qchatLoginClientChange:{sid:24,cid:8,service:"auth",response:[{type:"Byte",name:"state"},{type:"Property",name:"data",reflectMapper:dt(dv.qchatAuthRepTag)}]}},dZ=rf.codeAt;Lt({target:"String",proto:!0},{codePointAt:function(y){return dZ(this,y)}});var pZ=ka("String").codePointAt,Rx=String.prototype,mZ=function(p){var y=p.codePointAt;return typeof p=="string"||p===Rx||Se(Rx,p)&&y===Rx.codePointAt?pZ:y},fZ=RangeError,mV=String.fromCharCode,fV=String.fromCodePoint,gZ=U([].join),hZ=!!fV&&fV.length!=1;Lt({target:"String",stat:!0,forced:hZ},{fromCodePoint:function(y){for(var f,o=[],a=arguments.length,l=0;a>l;){if(f=+arguments[l++],Vr(f,1114111)!==f)throw fZ(f+" is not a valid code point");o[l]=f<65536?mV(f):mV(55296+((f-=65536)>>10),f%1024+56320)}return gZ(o,"")}});var vZ=fe.String.fromCodePoint,gV=function(y){var f;if(y!==void 0)return(f=Ra(y)).sign=1,f},hV=function(y){return Object.prototype.toString.call(y)==="[object Array]"},vV=function(y){var f;return Mi(f=[typeof y=="number",typeof y=="string"&&y.length>0,hV(y)&&y.length>0,y instanceof Ra]).call(f,function(o){return o===!0})},yV="Invalid Number",yZ="Invalid Number - Division By Zero";function Ra(p){var y;if(!(this instanceof Ra))return new Ra(p);if(this.number=[],this.sign=1,this.rest=0,vV(p)){if(hV(p)){for((p.length&&p[0]==="-"||p[0]==="+")&&(this.sign=p[0]==="+"?1:-1,p.shift(0)),y=p.length-1;y>=0;y--)if(!this.addDigit(p[y]))return}else for((p=p.toString()).charAt(0)!=="-"&&p.charAt(0)!=="+"||(this.sign=p.charAt(0)==="+"?1:-1,p=p.substring(1)),y=p.length-1;y>=0;y--)if(!this.addDigit(un(p.charAt(y),10)))return}else this.number=yV}Ra.prototype.addDigit=function(p){return function(f){return/^\d$/.test(f)}(p)?(this.number.push(p),this):(this.number=yV,!1)},Ra.prototype._compare=function(p){var y,f;if(!vV(p))return null;if(y=Ra(p),this.sign!==y.sign)return this.sign;if(this.number.length>y.number.length)return this.sign;if(this.number.length<y.number.length)return-1*this.sign;for(f=this.number.length-1;f>=0;f--){if(this.number[f]>y.number[f])return this.sign;if(this.number[f]<y.number[f])return-1*this.sign}return 0},Ra.prototype.gt=function(p){return this._compare(p)>0},Ra.prototype.gte=function(p){return this._compare(p)>=0},Ra.prototype.equals=function(p){return this._compare(p)===0},Ra.prototype.lte=function(p){return this._compare(p)<=0},Ra.prototype.lt=function(p){return this._compare(p)<0},Ra.prototype.subtract=function(p){var y;return p===void 0?this:(y=Ra(p),this.sign!==y.sign?(this.number=Ra._add(this,y),this):(this.sign=this.lt(y)?-1:1,this.number=gV(this).lt(gV(y))?Ra._subtract(y,this):Ra._subtract(this,y),this))},Ra._add=function(p,y){var f,o=0,a=Math.max(p.number.length,y.number.length);for(f=0;f<a||o>0;f++)p.number[f]=(o+=(p.number[f]||0)+(y.number[f]||0))%10,o=Math.floor(o/10);return p.number},Ra._subtract=function(p,y){var f,o,a=0,l=p.number.length;for(f=0;f<l;f++)p.number[f]-=(y.number[f]||0)+a,p.number[f]+=10*(a=p.number[f]<0?1:0);for(f=0,l=p.number.length-1;p.number[l-f]===0&&l-f>0;)f++;return f>0&&Qa(o=p.number).call(o,-f),p.number},Ra.prototype.multiply=function(p){if(p===void 0)return this;var y,f,o=Ra(p),a=0,l=[];if(this.isZero()||o.isZero())return Ra(0);for(this.sign*=o.sign,y=0;y<this.number.length;y++)for(a=0,f=0;f<o.number.length||a>0;f++)l[y+f]=(a+=(l[y+f]||0)+this.number[y]*(o.number[f]||0))%10,a=Math.floor(a/10);return this.number=l,this},Ra.prototype.divide=function(p){if(p===void 0)return this;var y,f,o=Ra(p),a=[],l=Ra(0);if(o.isZero())return this.number=yZ,this;if(this.isZero())return this.rest=Ra(0),this;if(this.sign*=o.sign,o.sign=1,o.number.length===1&&o.number[0]===1)return this.rest=Ra(0),this;for(y=this.number.length-1;y>=0;y--)for(l.multiply(10),l.number[0]=this.number[y],a[y]=0;o.lte(l);)a[y]++,l.subtract(o);for(y=0,f=a.length-1;a[f-y]===0&&f-y>0;)y++;return y>0&&Qa(a).call(a,-y),this.rest=l,this.number=a,this},Ra.prototype.mod=function(p){return this.divide(p).rest},Ra.prototype.isZero=function(){var p;for(p=0;p<this.number.length;p++)if(this.number[p]!==0)return!1;return!0},Ra.prototype.toString=function(){var p,y="";if(typeof this.number=="string")return this.number;for(p=this.number.length-1;p>=0;p--)y+=this.number[p];return this.sign>0?y:"-"+y};var RS=Math.pow(2,32);function bV(p){for(var y=new Uint8Array(5),f=new DataView(y.buffer),o=0;(4294967168&p)!=0;)f.setUint8(o++,127&p|128),p>>>=7;return f.setUint8(o++,127&p),zn(y).call(y,0,o)}function bZ(p){if(typeof TextEncoder=="function")return new TextEncoder().encode(p);var y=function(o){for(var a=[],l=o.length,c=0;c<l;){var u=mZ(o).call(o,c),h=0,C=0;for(u<=127?(h=0,C=0):u<=2047?(h=6,C=192):u<=65535?(h=12,C=224):u<=2097151&&(h=18,C=240),a.push(C|u>>h),h-=6;h>=0;)a.push(128|u>>h&63),h-=6;c+=u>=65536?2:1}return a}(p);return new Uint8Array(y)}function SZ(p){return typeof TextDecoder=="function"?new TextDecoder("utf-8").decode(p):function(f){for(var o="",a=0;a<f.length;){var l=f[a],c=0,u=0;if(l<=127?(c=0,u=255&l):l<=223?(c=1,u=31&l):l<=239?(c=2,u=15&l):l<=244&&(c=3,u=7&l),f.length-a-c>0)for(var h=0;h<c;)u=u<<6|63&(l=f[a+h+1]),h+=1;else u=65533,c=f.length-a;o+=vZ(u),a+=c+1}return o}(p)}var IZ=function(){function p(f){this.offset=0,this.buffer=new Uint8Array(f),this.view=new DataView(f)}var y=p.prototype;return y.checkBufferBoundaryAccess=function(){return this.offset>=this.buffer.byteLength},y.length=function(){var o;return((o=this.view)===null||o===void 0?void 0:o.byteLength)||0},y.getBuffer=function(){return this.view.buffer},y.getOffset=function(){return this.offset},y.popRaw=function(o){try{var a,l=zn(a=this.buffer).call(a,this.offset,this.offset+o);return this.offset+=o,l}catch(c){throw new Error("UnpackException raw "+(c&&c.message))}},y.popByte=function(){try{var o=this.view.getUint8(this.offset);return this.offset+=1,o}catch(a){throw new Error("UnpackException byte "+(a&&a.message))}},y.popVarbin=function(){return this.popRaw(this.popVarInt())},y.popString=function(){try{return SZ(this.popVarbin())}catch(o){throw new Error("UnpackException string "+(o&&o.message))}},y.popInt=function(){try{var o=this.view.getUint32(this.offset,!0);return this.offset+=4,o}catch(a){throw new Error("UnpackException int "+(a&&a.message))}},y.popVarInt=function(){var o=1,a=0,l=0,c=0;do if(a+=(127&(l=this.popByte()))*o,o*=128,(c+=1)>5)throw new Error("Variable length quantity is too long");while((128&l)!=0);return a},y.popLong=function(){try{var o,a=function(c,u){u===void 0&&(u=!1);var h=new DataView(c.buffer),C=u?[4,0]:[0,4],x=C[0],k=C[1],B=h.getUint32(x,u),W=h.getUint32(k,u);return B>0?B*RS+W:W}(zn(o=this.buffer).call(o,this.offset,this.offset+8),!0);return this.offset+=8,Number(a)}catch(l){throw new Error("UnpackException long "+(l&&l.message))}},y.popShort=function(){try{var o=this.view.getUint16(this.offset,!0);return this.offset+=2,o}catch(a){throw new Error("UnpackException short "+(a&&a.message))}},y.popBoolean=function(){return this.popByte()>0},y.toString=function(){return ma(new Uint8Array(this.buffer)).toString()},y.reset=function(){this.offset=0,this.buffer=null,this.view=null},p}(),SV=function(){function p(f){this.packetLength=0,this.serviceId=0,this.commandId=0,this.serialId=0,this.tag=0,this.resCode=200,this.innerHeader=null,this.msgId=0,this.bodyArr=[],this.unpack=new IZ(f)}var y=p.prototype;return y.reset=function(){this.innerHeader=null,this.bodyArr=[],this.unpack.reset()},y.getBodyDetail=function(){return this.bodyArr.join("")},y.unmarshalHeader=function(){var o,a=this._unmarshalHeader();this.packetLength=a.packetLength,this.serviceId=a.serviceId,this.commandId=a.commandId,this.serialId=a.serialId,this.tag=a.tag,this.resCode=a.resCode,a.serviceId===4&&or(o=[1,2,10,11]).call(o,a.commandId)&&(this.msgId=this.unmarshalLong(),this.innerHeader=this._unmarshalHeader())},y._unmarshalHeader=function(){var o=this.unpack.popVarInt(),a=this.unpack.popByte(),l=this.unpack.popByte(),c=this.unpack.popShort(),u=this.unpack.popByte(),h=200;return this.hasRescode(u)&&(h=this.unpack.popShort()),{packetLength:o,serviceId:a,commandId:l,serialId:c,tag:u,resCode:h}},y.hasRescode=function(o){return((o=o||this.tag)&p.RES_CODE)!=0},y.getHeader=function(){return{packetLength:this.packetLength,sid:this.serviceId,cid:this.commandId,ser:this.serialId,code:this.resCode}},y.getInnerHeader=function(){return this.innerHeader?{sid:this.innerHeader.serviceId,cid:this.innerHeader.commandId}:null},y.unmarshalProperty=function(){var o=this.unpack.popVarInt(),a={};this.bodyArr.push(`
Property(`+o+") {");for(var l=0;l<o;l++){var c=this.unpack.popVarInt();this.bodyArr.push(c+":");var u=this.unpack.popString();this.bodyArr.push('"'+u.length+" "+this.unpack.getOffset()+'",'),a[c]=u}return this.bodyArr.push("},"),a},y.unmarshalPropertyArray=function(){var o=this.unpack.popVarInt(),a=[];this.bodyArr.push(`
PropertyArray(`+o+") [");for(var l=0;l<o;l++)a.push(this.unmarshalProperty());return this.bodyArr.push("],"),a},y.unmarshalLong=function(){var o=this.unpack.popLong();return this.bodyArr.push(`
Long:`+o),o},y.unmarshalLongArray=function(){var o=this.unpack.popVarInt(),a=[];this.bodyArr.push(`
LongArray `+o+":");for(var l=0;l<o;l++){var c=this.unpack.popLong();this.bodyArr.push(c+","),a.push(c)}return a},y.unmarshalStrArray=function(){var o=this.unpack.popVarInt(),a=[];this.bodyArr.push(`
StrArray `+o+":");for(var l=0;l<o;l++){var c=this.unpack.popString();this.bodyArr.push(c+","),a.push(c)}return a},y.unmarshalStrLongMap=function(){var o=this.unpack.popVarInt(),a={};this.bodyArr.push(`
StrLongMap `+o+":");for(var l=0;l<o;l++){var c=this.unpack.popString();this.bodyArr.push(c+",");var u=this.unpack.popLong();this.bodyArr.push(u+";"),a[c]=u}return a},y.unmarshalStrStrMap=function(){var o=this.unpack.popVarInt(),a={};this.bodyArr.push(`
StrStrMap `+o+":");for(var l=0;l<o;l++){var c=this.unpack.popString();this.bodyArr.push(c+",");var u=this.unpack.popString();this.bodyArr.push(u+";"),a[c]=u}return a},y.unmarshalLongLongMap=function(){var o=this.unpack.popVarInt(),a={};this.bodyArr.push(`
StrLongLongMap `+o+":");for(var l=0;l<o;l++){var c=this.unpack.popLong();this.bodyArr.push(c+",");var u=this.unpack.popLong();this.bodyArr.push(u+";"),a[c]=u}return{m_map:a}},y.unmarshalKVArray=function(){var o=this.unpack.popVarInt(),a=[];this.bodyArr.push(`
KVArray `+o+":");for(var l=0;l<o;l++)a.push(this.unmarshalStrStrMap());return a},y.unmarshal=function(o){var a,l=this,c=ce(ce({},this.getHeader()),{r:[]});if(this.innerHeader&&(c.r[0]=this.msgId,c.r[1]={body:[],headerPacket:this.getInnerHeader()}),!or(a=[200,406,808,810,7101]).call(a,c.code))return $t(c);if(this.packetLength>0&&this.packetLength>this.unpack.length())throw new Error("UnpackException packetLength("+this.packetLength+") greater than bufferLength("+this.unpack.length()+")");var u=[];return o&&rt(o).call(o,function(h){if(!l.unpack.checkBufferBoundaryAccess())switch(h.type){case"PropertyArray":u.push(l.unmarshalPropertyArray());break;case"Property":u.push(l.unmarshalProperty());break;case"Byte":u.push(l.unpack.popByte());break;case"Int":u.push(l.unpack.popInt());break;case"Bool":u.push(l.unpack.popBoolean());break;case"Long":u.push(l.unmarshalLong());break;case"LongArray":u.push(l.unmarshalLongArray());break;case"String":u.push(l.unpack.popString());break;case"StrArray":u.push(l.unmarshalStrArray());break;case"StrStrMap":u.push(l.unmarshalStrStrMap());break;case"StrLongMap":u.push(l.unmarshalStrLongMap());break;case"LongLongMap":u.push(l.unmarshalLongLongMap());break;case"KVArray":u.push(l.unmarshalKVArray())}}),this.innerHeader?c.r[1].body=u:c.r=u,$t(c)},p}();SV.RES_CODE=2;var EZ=function(){function p(){this.offset=0,this.pageSize=1024,this.capacity=1048576,this.buffer=new Uint8Array(this.pageSize),this.view=new DataView(this.buffer.buffer)}var y=p.prototype;return y.reset=function(){this.offset=0,this.buffer=null,this.view=null},y.size=function(){return this.offset},y.getBuffer=function(){var o;return zn(o=this.buffer).call(o,0,this.offset).buffer},y.ensureCapacity=function(o){var a=this.offset+o;if(a>this.capacity)throw new Error("PackException over limit");if(a>this.buffer.byteLength){var l=Math.ceil(a/this.pageSize)*this.pageSize,c=new Uint8Array(l);c.set(this.buffer),this.buffer=c,this.view=new DataView(this.buffer.buffer)}},y.putRaw=function(o){this.ensureCapacity(o.length);try{this.buffer.set(o,this.offset),this.offset+=o.length}catch{throw new Error("PackException raw")}},y.putByte=function(o){this.ensureCapacity(1);try{this.view.setUint8(this.offset++,o)}catch{throw new Error("PackException byte")}},y.putString=function(o){try{var a=bZ(o);this.putVarbin(a)}catch{throw new Error("PackException string")}},y.putInt=function(o){this.ensureCapacity(4);try{this.view.setInt32(this.offset,o,!0),this.offset+=4}catch{throw new Error("PackException int")}},y.putVarInt=function(o){var a=bV(o);this.putRaw(a)},y.putBoolean=function(o){this.ensureCapacity(1);try{this.view.setUint8(this.offset++,o?1:0)}catch{throw new Error("PackException boolean")}},y.putLong=function(o){this.ensureCapacity(8);try{var a=function(c,u){u===void 0&&(u=!1);var h=new Uint8Array(8),C=new DataView(h.buffer),x=Number(c>RS-1?c/RS:0),k=Number(4294967295&c),B=u?[4,0]:[0,4],W=B[0],Y=B[1];return C.setUint32(W,x,u),C.setUint32(Y,k,u),h}(o,!0);this.buffer.set(a,this.offset),this.offset+=8}catch{throw new Error("PackException long")}},y.putStringAsLong=function(o){this.ensureCapacity(8);try{var a=function(c,u){var h,C;u===void 0&&(u=!1);var x=new Uint8Array(8),k=new DataView(x.buffer),B=js(h=Ra(c).divide(RS).number).call(h).join(""),W=js(C=Ra(c).mod(RS).number).call(C).join(""),Y=Number(B),ne=Number(W),se=u?[4,0]:[0,4],xe=se[0],we=se[1];return k.setUint32(xe,Y,u),k.setUint32(we,ne,u),x}(o,!0);this.buffer.set(a,this.offset),this.offset+=8}catch{throw new Error("PackException stringAsLong")}},y.putShort=function(o){this.ensureCapacity(2);try{this.view.setInt16(this.offset,o,!0),this.offset+=2}catch{throw new Error("PackException short")}},y.putVarbin=function(o){if(!o)return this.ensureCapacity(1),this.putVarInt(0);if(o.byteLength>Math.pow(2,31)-2)throw new Error("PackException varbin. too long");var a=bV(o.length);this.ensureCapacity(a.length+o.length);try{this.buffer.set(a,this.offset),this.offset+=a.length,this.buffer.set(o,this.offset),this.offset+=o.length}catch{throw new Error("PackException varbin")}},p}();function jf(p){if(typeof p!="number"){if(p==null)return!1;p=Number(p)}if(isNaN(p))throw new Error("Number type conversion error");return!0}function pv(p){return p==null}var ts,CZ=function(){function p(f,o,a){this.pack=new EZ,this.packetLength=0,this.serviceId=0,this.commandId=0,this.serialId=0,this.tag=0,this.serviceId=f,this.commandId=o,this.serialId=a}var y=p.prototype;return y.marshalHeader=function(){this.pack.putVarInt(this.packetLength),this.pack.putByte(this.serviceId),this.pack.putByte(this.commandId),this.pack.putShort(this.serialId),this.pack.putByte(this.tag)},y.marshalProperty=function(o){var a=this,l=Gn(o),c=Tn(l).call(l,function(u){return!pv(u)});this.pack.putVarInt(c.length),rt(c).call(c,function(u){a.pack.putVarInt(Number(u)),Nr(o[u])||Object.prototype.toString.call(o[u])==="[object Object]"?a.pack.putString($t(o[u])):a.pack.putString(String(o[u]))})},y.marshalPropertyArray=function(o){var a=this,l=o.length;this.pack.putVarInt(l),rt(o).call(o,function(c){a.marshalProperty(c==null?void 0:c.v)})},y.marshalStrArray=function(o){var a=this,l=Tn(o).call(o,function(u){return!pv(u)}),c=l.length;this.pack.putVarInt(c),rt(l).call(l,function(u){a.pack.putString(String(u))})},y.marshalLongArray=function(o){var a=this,l=Tn(o).call(o,function(u){return jf(u)}),c=l.length;this.pack.putVarInt(c),rt(l).call(l,function(u){a.putLong(u)})},y.marshalStrStrMap=function(o){var a=this,l=Gn(o),c=Tn(l).call(l,function(u){return!pv(o[u])&&!pv(u)});this.pack.putVarInt(c.length),rt(c).call(c,function(u){a.pack.putString(String(u)),a.pack.putString(String(o[u]))})},y.marshalStrLongMap=function(o){var a=this,l=Gn(o),c=Tn(l).call(l,function(u){return jf(o[u])&&!pv(u)});this.pack.putVarInt(c.length),rt(c).call(c,function(u){a.pack.putString(String(u)),a.putLong(o[u])})},y.marshalLongLongMap=function(o){var a=this,l=Gn(o),c=Tn(l).call(l,function(u){var h=Number(u);return jf(h)&&jf(o[h])});this.pack.putVarInt(c.length),rt(c).call(c,function(u){var h=Number(u);a.putLong(h),a.putLong(o[h])})},y.marshalKVArray=function(o){var a=this,l=o.length;this.pack.putVarInt(l),rt(o).call(o,function(c){a.marshalStrStrMap(c)})},y.putLong=function(o){typeof o=="string"&&o.length>15?this.pack.putStringAsLong(o):this.pack.putLong(Number(o))},y.marshal=function(o,a){var l=this;return this.marshalHeader(),a&&rt(a).call(a,function(c,u){var h,C=c.type,x=(h=o[u])===null||h===void 0?void 0:h.v;if(!pv(x))switch(C){case"PropertyArray":l.marshalPropertyArray(x);break;case"Property":l.marshalProperty(x);break;case"Byte":if(!jf(x))return;l.pack.putByte(Number(x));break;case"Int":if(!jf(x))return;l.pack.putInt(Number(x));break;case"Bool":x==="false"?x=!1:x==="true"&&(x=!0),l.pack.putBoolean(x);break;case"Long":if(!jf(x))return;l.putLong(x);break;case"LongArray":l.marshalLongArray(x);break;case"String":l.pack.putString(String(x));break;case"StrArray":l.marshalStrArray(x);break;case"StrStrMap":l.marshalStrStrMap(x);break;case"StrLongMap":l.marshalStrLongMap(x);break;case"LongLongMap":l.marshalLongLongMap(x);break;case"KVArray":l.marshalKVArray(x)}}),this.pack.getBuffer()},y.reset=function(){this.pack.reset()},p}(),TZ=function(p){function y(o,a,l){var c;return(c=p.call(this)||this).websocket=null,c.socketConnectTimer=0,c.linkSSL=!0,c.url="",c.core=o,c.url=a,c.linkSSL=l,c.status="disconnected",c.logger=o.logger,c.connect(),c}pr(y,p);var f=y.prototype;return f.connect=function(){this.status!=="connecting"&&this.status!=="connected"?(this.status="connecting",this._createWebsocket((this.linkSSL?"wss":"ws")+"://"+this.url+"/websocket")):this.logger.warn("imsocket::socket is connecting or connected",this.status)},f.close=function(){if(this.status="disconnected",this.websocket){this.logger.log("imsocket:: close websocket");try{this.websocket.close()}catch(a){this.logger.warn("imsocket::attempt to close websocket error",a)}this.clean(),this.emit("disconnect")}},f.clean=function(){this.status="disconnected",clearTimeout(this.socketConnectTimer),this.websocket&&(this.socketUrl=void 0,this.websocket.onmessage=null,this.websocket.onopen=null,this.websocket.onerror=null,this.websocket.onclose=null,this.websocket=null)},f.onConnect=function(){this.status="connected",this.emit("connect"),clearTimeout(this.socketConnectTimer)},f._createWebsocket=function(a){var l,c=this;this.socketConnectTimer=pa(function(){c.logger.error("imsocket::Websocket connect timeout. url: ",a),c.emit("connectFailed",new Ct({code:Ht(c.core,"options.apiVersion")==="v2"?it.V2NIM_ERROR_CODE_CONNECT_TIMEOUT:415,detail:{reason:"imsocket::Websocket connect timeout. url: "+a}}))},this.core.options.socketConnectTimeout||8e3),this.socketUrl=a,this.websocket=new rn.WebSocket(a),this.websocket.binaryType="arraybuffer",this.websocket.onmessage=cn(l=this.onMessage).call(l,this),this.websocket.onclose=function(u){u=u||{},c.logger.log("imsocket::Websocket onclose done "+u.wasClean+"/"+u.code+"/"+u.reason),c.status==="connected"?(c.clean(),c.emit("disconnect")):(c.clean(),c.emit("connectFailed",new Ct({code:Ht(c.core,"options.apiVersion")==="v2"?it.V2NIM_ERROR_CODE_CONNECT_FAILED:414,detail:{reason:"imsocket::Websocket onclose done"}})))},this.websocket.onerror=function(u){c.logger.error("imsocket::Websocket onerror",u),c.status==="connected"?(c.clean(),c.emit("disconnect")):(c.clean(),c.emit("connectFailed",new Ct({code:Ht(c.core,"options.apiVersion")==="v2"?it.V2NIM_ERROR_CODE_CONNECT_FAILED:414,detail:{reason:"imsocket::Websocket onerror."}})))},this.websocket.onopen=function(){c.onConnect()}},f.onMessage=function(a){if(a.data){var l=new SV(a.data),c={sid:-1,cid:-1,ser:-1,packetLength:-1},u=null;try{l.unmarshalHeader(),c=l.getHeader(),u=l.getInnerHeader()}catch(se){this.reportBinaryError({err:se,sid:u?u.sid:c==null?void 0:c.sid,cid:u?u.cid:c==null?void 0:c.cid,rawBuf:a.data,type:"decode"})}var h=u?u.sid:c.sid,C=u?u.cid:c.cid,x=h+"_"+C,k=lv[x];if(k&&k.length>0){var B,W=k[0].config;try{B=l.unmarshal(W.response)}catch(se){var Y=l.getBodyDetail();this.reportBinaryError({err:se,rawBuf:a.data,sid:h,cid:C,parseDetail:Y,type:"decode"}),l.reset();var ne=ce(ce({},c),{sid:h,cid:C,code:it.V2NIM_ERROR_CODE_UNPACK_ERROR});return this.logger.error('imsocket::onMessage "'+ne.sid+"_"+ne.cid+'", ser '+ne.ser+", packetLength "+ne.packetLength+" unmarshal error. "+Y+` 
`,se),void this.emit("message",$t(ne))}this.emit("message",B)}else this.core.logger.warn("imsocket::onMessage cmd not found",x);l.reset()}},f.send=function(a,l,c,u,h){var C,x,k=new CZ(a,l,c),B=Mx[u],W="";try{W=$t(h),x=k.marshal(JSON.parse(W),B.params)}catch(Y){throw this.reportBinaryError({err:Y,sid:a,cid:l,rawStr:W,type:"encode"}),k.reset(),new Ct({code:it.V2NIM_ERROR_CODE_PACK_ERROR,detail:{reason:a+"-"+l+", ser "+c+" marshal error",rawError:Y}})}(C=this.websocket)===null||C===void 0||C.send(x),k.reset()},f.reportBinaryError=function(a){var l,c,u,h=a.err,C=a.rawStr,x=a.sid,k=a.cid,B=a.type,W=a.parseDetail,Y=a.rawBuf;if(Y){try{u=function(xe){if(typeof btoa!="function")return"";for(var we="",$e=new Uint8Array(xe),Me=$e.byteLength,Fe=0;Fe<Me;Fe++)we+=String.fromCharCode($e[Fe]);return $e=null,btoa(we)}(Y)}catch(se){u="reportBinaryError::arrayBufferToBase64 parsing failed, error: "+(se==null?void 0:se.message)+", sid: "+x+", cid: "+k,this.core.logger.error(u)}Y=null}this.core.reporter.reportTraceStart("exceptions",{user_id:(l=this.core.auth)===null||l===void 0?void 0:l.account,trace_id:(c=this.core.clientSocket.socket)===null||c===void 0?void 0:c.sessionId,start_time:lr(),action:2,exception_service:9});var ne=h?(h.message+";;;"||h.code+";;;")+(W?"parseDetail: "+W+";;;":"")+(C?" rawStr: "+C:"")+(u?" rawBuf: "+u:""):"";this.core.reporter.reportTraceUpdateV2("exceptions",{code:B==="encode"?it.V2NIM_ERROR_CODE_PACK_ERROR:it.V2NIM_ERROR_CODE_UNPACK_ERROR,description:ne,operation_type:B==="encode"?3:4,target:x+"-"+k},{asyncParams:rn.net.getNetworkStatus()}),this.core.reporter.reportTraceEnd("exceptions",1)},y}(Zc);function MZ(p,y){var f,o=Ma!==void 0&&Eo(p)||p["@@iterator"];if(o)return cn(f=(o=o.call(p)).next).call(f,o);if(Nr(p)||(o=function(c,u){if(c){var h;if(typeof c=="string")return IV(c,u);var C=zn(h={}.toString.call(c)).call(h,8,-1);return C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set"?ma(c):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?IV(c,u):void 0}}(p))||y){o&&(p=o);var a=0;return function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IV(p,y){(y==null||y>p.length)&&(y=p.length);for(var f=0,o=Array(y);f<y;f++)o[f]=p[f];return o}(function(p){p[p.ACTIVE=1]="ACTIVE",p[p.KICKED=2]="KICKED",p[p.OFFLINE=3]="OFFLINE"})(ts||(ts={}));var $p,_Z=function(){function p(f){this.isReconnect=!1,this.packetTimeout=8e3,this.linkSSL=!0,this.packetSer=1,this.backoff=new SC({max:8e3,min:1600,jitter:.01}),this.sendingCmdMap=new Xa,this.pingTimer=0,this.hasNetworkListener=!1,this.core=f,this.auth=f.auth,this.logger=f.logger,this.reporter=f.reporter,this.timerManager=f.timerManager,this.eventBus=f.eventBus,this.setListener()}var y=p.prototype;return y.setListener=function(){var o=this;this.core.eventBus.on("V2NIMLoginService/loginLifeCycleLoginSucc",function(){o.isReconnect=!0})},y.setSessionId=function(o){this.socket&&(this.socket.sessionId=o)},y.setLinkSSL=function(o){this.linkSSL=o},y.connect=function(o,a){var l,c;return a===void 0&&(a=!1),le(this,void 0,void 0,q.mark(function u(){var h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this.isReconnect=a,(h=this.core.auth.getConnectStatus())!==1){W.next=7;break}return C="clientSocket::connect status is "+h+", and would not repeat connect",x=new Ct({code:it.V2NIM_ERROR_CODE_ILLEGAL_STATE,detail:{reason:C}}),this.logger.warn(C),W.abrupt("return",Zt.reject(x));case 7:return this.auth.lifeCycle.processEvent("connect"),W.prev=8,W.next=11,this.auth.doLoginStepsManager.add(this.doConnect(o));case 11:this.logger.log("clientSocketV2:: connect success with link url: "+o+", isReconnect: "+a),this.core.reporter.reportTraceUpdateV2("login",{operation_type:"TCP",target:o,code:200,mixlink:!0,succeed:!0},{asyncParams:rn.net.getNetworkStatus()}),this.auth.lifeCycle.processEvent("connectSucc"),W.next=28;break;case 16:if(W.prev=16,W.t0=W.catch(8),k=W.t0,this.core.reporter.reportTraceUpdateV2("login",{operation_type:"TCP",target:o,code:k.code||0,description:"connectFailed:"+k.message,mixlink:!0,succeed:!1},{asyncParams:rn.net.getNetworkStatus()}),k.code!==it.V2NIM_ERROR_CODE_CANCELLED&&k.code!==it.V2NIM_ERROR_CODE_TIMEOUT){W.next=25;break}throw(l=this.socket)===null||l===void 0||l.close(),(c=this.socket)===null||c===void 0||c.removeAllListeners(),this.socket=void 0,W.t0;case 25:throw this.logger.warn("clientSocketV2::connect failed with link url: "+o,k),this.auth.lifeCycle.processEvent("connectFail",k),W.t0;case 28:case"end":return W.stop()}},u,this,[[8,16]])}))},y.doConnect=function(o){var a=this,l=!1;return new Zt(function(c,u){var h;a.socket=new TZ(a.core,o,a.linkSSL),a.socket.on("connect",function(){a.logger.log("clientSocketV2::socket on connect",o),a.core.reporterHookLinkKeep.start(),a.core.reporterHookLinkKeep.update({code:0,description:"connection begin",operation_type:0,target:o}),l=!0,c()}),a.socket.on("message",cn(h=a.onMessage).call(h,a)),a.socket.on("disconnect",function(C){return le(a,void 0,void 0,q.mark(function x(){return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return l=!0,this.logger.log("clientSocketV2::socket on disconnect "+o,C),B.next=4,this.core.reporterHookLinkKeep.update({code:(C==null?void 0:C.code)||0,description:(C==null?void 0:C.reason)||"socket on disconnect",operation_type:1,target:o});case 4:this.core.reporterHookLinkKeep.end(!1),this.doDisconnect(ts.OFFLINE,"SocketOnDisconnect");case 6:case"end":return B.stop()}},x,this)}))}),a.socket.on("connectFailed",function(C){l?a.ping():(a.logger.error("clientSocketV2::connectFailed:"+o+", reason:"+(C&&C.message)),a.cleanSocket()),l=!0,u(C)})})},y.cleanSocket=function(){this.socket&&(typeof this.socket.removeAllListeners=="function"&&this.socket.removeAllListeners(),typeof this.socket.close=="function"&&this.socket.close(),this.socket=void 0)},y.resetSocketConfig=function(){this.backoff.reset(),this.initOnlineListener()},y.doDisconnect=function(o,a){if(this.logger.log("clientSocketV2::doDisconnect:type:"+o+",reason:",a),this.core.auth.getConnectStatus()!==0){var l={1:"close",2:"kicked",3:"broken"}[o]||"";this.markAllCmdInvaild(new Ct({code:it.V2NIM_ERROR_CODE_DISCONNECT,detail:{reason:"Packet timeout due to instance disconnect",disconnect_reason:l}})),this.timerManager.destroy(),clearTimeout(this.pingTimer),this.cleanSocket(),o===ts.ACTIVE||o===ts.KICKED?this.destroyOnlineListener():o===ts.OFFLINE&&(this.auth.lifeCycle.processEvent("connectionBroken",new Ct({code:it.V2NIM_ERROR_CODE_DISCONNECT,detail:{reason:"connection broken due to internal reasons"}})),this.logger.log("clientSocketV2::doDisconnect: pending reconnect "+this.isReconnect),this.isReconnect&&this.auth.lifeCycle.processEvent("waiting"))}else this.logger.warn("clientSocketV2::doDisconnect:already disconnected")},y.sendCmd=function(o,a,l){var c=this,u=this.core.auth.getLoginStatus(),h=["v2Login","login","chatroomLogin","v2ChatroomLogin"],C={cmd:o};if(u!==1&&!or(h).call(h,o))return this.logger.warn("clientSocketV2::NIM login status is "+u+", so can not sendCmd "+o),Zt.reject(new Ct({code:it.V2NIM_ERROR_CODE_ILLEGAL_STATE,detail:ce({reason:"Can not sendCmd due to no logined"},C)}));var x=o!=="heartbeat",k=x?this.packetSer++:0,B=_x(o,k,this.logger,a);if(!B){var W=new Ct({code:it.V2NIM_ERROR_CODE_INTERNAL,detail:ce(ce({},C),{reason:"SendCmd::createCmd error: "+k+" "+o})});return this.logger.error(W),Zt.reject(W)}var Y=B.packet,ne=B.hasPacketResponse,se=B.hasPacketTimer,xe=$t(Y);x&&(this.logger.getDebugMode()?this.logger.debug("clientSocketV2::sendCmd: "+Y.SID+"_"+Y.CID+","+o+",ser:"+k,xe):this.logger.log("clientSocketV2::sendCmd: "+Y.SID+"_"+Y.CID+","+o+",ser:"+k));var we=new Date().getTime();return new Zt(function($e,Me){ne&&c.sendingCmdMap.set(k,{cmd:o,params:a,callback:[$e,Me],timer:se?pa(function(){var We=new Ct({code:it.V2NIM_ERROR_CODE_PROTOCOL_TIMEOUT,detail:ce({ser:k,reason:"Packet Timeout: ser "+k+" cmd "+o,timetag:new Date().getTime()},C)});c.markCmdInvalid(k,We,o)},l&&l.timeout?l.timeout:c.packetTimeout):null});try{c.socket.send(Y.SID,Y.CID,k,o,Y.Q),ne||$e(Y)}catch(We){var Fe=new Ct({code:it.V2NIM_ERROR_CODE_PROTOCOL_SEND_FAILED,detail:ce({ser:k,reason:"Unable to send packet"+(We&&We.message?": "+We.message:""),timetag:new Date().getTime(),rawError:We},C)});c.markCmdInvalid(k,Fe,o),Me(Fe)}}).catch(function($e){return le(c,void 0,void 0,q.mark(function Me(){var Fe,We;return q.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(Fe=$e,We=[it.V2NIM_ERROR_CODE_DISCONNECT,it.V2NIM_ERROR_CODE_PROTOCOL_TIMEOUT,it.V2NIM_ERROR_CODE_PROTOCOL_SEND_FAILED],or(We).call(We,Fe.code)){Ee.next=4;break}return Ee.abrupt("return",Zt.reject(Fe));case 4:return this.reportSendCmdFailed(Fe,{sid:Y.SID,cid:Y.CID,ser:k},we),Ee.abrupt("return",Zt.reject(Fe));case 6:case"end":return Ee.stop()}},Me,this)}))})},y.reportSendCmdFailed=function(o,a,l){var c;this.reporter.reportTraceStart("exceptions",{user_id:this.core.auth.getLoginUser(),trace_id:(c=this.socket)===null||c===void 0?void 0:c.sessionId,start_time:l,action:2,exception_service:6});var u=Ht(o,"detail.disconnect_reason")||"",h=o.code===it.V2NIM_ERROR_CODE_DISCONNECT?$t({disconnect_reason:u}):o.detail.reason;this.reporter.reportTraceUpdateV2("exceptions",{code:o.code,description:h,operation_type:1,target:a.sid+"-"+a.cid,context:""+a.ser},{asyncParams:rn.net.getNetworkStatus()}),this.reporter.reportTraceEnd("exceptions",1)},y.onMessage=function(o){var a=xx(o,this.logger);if(a&&a.length>0){var l=a[0],c=l.raw.ser;l.error&&(this.logger.error("clientSocketV2::onMessage packet error",l.raw.sid+"_"+l.raw.cid+", ser:"+c+",",l.error),l.error.code===it.V2NIM_ERROR_CODE_UNPACK_ERROR&&this.core.eventBus.emit("BinaryClientSocket/unpackError")),l.cmd!=="heartbeat"&&(this.logger.getDebugMode()?this.logger.debug("clientSocketV2::recvCmd "+l.raw.sid+"_"+l.raw.cid+","+l.cmd+",ser:"+c,o):this.logger.log("clientSocketV2::recvCmd "+l.raw.sid+"_"+l.raw.cid+","+l.cmd+",ser:"+c+",code:"+l.raw.code));for(var u,h=MZ(a);!(u=h()).done;){var C=u.value;this.packetHandler(C)}}},y.packetHandler=function(o){var a,l,c,u,h=this;if(o){var C=o.raw.ser,x=this.sendingCmdMap.get(C);if(x&&x.cmd===o.cmd){var k=x.callback,B=x.timer,W=x.params;if(clearTimeout(B),o.params=W,this.sendingCmdMap.delete(C),o.cmd==="heartbeat")return void k[0]();var Y=(l=(a=this.core[o.service])===null||a===void 0?void 0:a.process)===null||l===void 0?void 0:l.call(a,o);Y&&typeof Y.then=="function"?Y.then(function(se){k[0](se)}).catch(function(se){k[1](se)}):(this.logger.log("clientSocketV2::handlerFn without promise",o.service,o.cmd),k[0](o))}else{var ne=(u=(c=this.core[o.service])===null||c===void 0?void 0:c.process)===null||u===void 0?void 0:u.call(c,o);ne&&typeof ne.then=="function"&&ne.catch(function(se){h.logger.error("clientSocketV2::no obj cache, no process handler",se)})}}},y.markCmdInvalid=function(o,a,l){var c=this.sendingCmdMap.get(o);if(c){var u=c.callback,h=c.timer;h&&clearTimeout(h),this.sendingCmdMap.delete(o),this.logger.warn("clientSocketV2::packet "+o+", "+l+" is invalid:",a),u[1](a)}},y.markAllCmdInvaild=function(o){var a,l=this;this.logger.log("markAllCmdInvaild",o),rt(a=this.sendingCmdMap).call(a,function(c){var u=c.callback,h=c.timer,C=c.cmd;l.logger.log("clientSocketV2::markAllCmdInvaild:cmd "+C),h&&clearTimeout(h),u[1](o)}),this.sendingCmdMap.clear()},y.ping=function(){var o;return le(this,void 0,void 0,q.mark(function a(){var l=this;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return clearTimeout(this.pingTimer),u.prev=1,u.next=4,this.sendCmd("heartbeat");case 4:u.next=20;break;case 6:if(u.prev=6,u.t0=u.catch(1),u.t0.code!==it.V2NIM_ERROR_CODE_DISCONNECT){u.next=11;break}return u.abrupt("return");case 11:return u.next=13,this.testHeartBeat5Timeout();case 13:if(!u.sent){u.next=20;break}return u.next=17,this.core.reporterHookLinkKeep.update({code:0,description:"Heartbeat-discovered link failure",operation_type:1,target:(o=this.socket)===null||o===void 0?void 0:o.url});case 17:return this.core.reporterHookLinkKeep.end(!0),this.doDisconnect(ts.OFFLINE,"PingError"),u.abrupt("return");case 20:this.pingTimer=pa(function(){l.ping()},3e4);case 21:case"end":return u.stop()}},a,this,[[1,6]])}))},y.testHeartBeat5Timeout=function(){return le(this,void 0,void 0,q.mark(function o(){var a;return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:clearTimeout(this.pingTimer),a=0;case 2:if(!(a<5)){c.next=15;break}return c.prev=3,c.next=6,this.sendCmd("heartbeat",{},{timeout:3e3});case 6:return c.abrupt("return",!1);case 9:c.prev=9,c.t0=c.catch(3),this.logger.log("clientSocketV2::test heartbeat "+a+" Timeout");case 12:a++,c.next=2;break;case 15:return c.abrupt("return",!0);case 16:case"end":return c.stop()}},o,this,[[3,9]])}))},y.initOnlineListener=function(){var o=this;this.hasNetworkListener||(this.logger.log("clientSocketV2::onlineListener:init"),this.hasNetworkListener=!0,rn.net.onNetworkStatusChange(function(a){o.logger.log("clientSocketV2::onlineListener:network change",a);var l=o.auth.getLoginStatus();a.isConnected&&l===1?o.ping():a.isConnected&&l===3?(o.logger.log("clientSocketV2::onlineListener:online and connectStatus is waiting, do reLogin"),o.auth.reconnect.clearReconnectTimer(),o.auth.reconnect.doReLogin()):a.isConnected||o.doDisconnect(ts.OFFLINE,"OfflineListener")}))},y.destroyOnlineListener=function(){this.logger.log("clientSocketV2::onlineListener:destroy"),rn.net.offNetworkStatusChange(),this.hasNetworkListener=!1},p}();function xZ(p,y){var f,o=Ma!==void 0&&Eo(p)||p["@@iterator"];if(o)return cn(f=(o=o.call(p)).next).call(f,o);if(Nr(p)||(o=function(c,u){if(c){var h;if(typeof c=="string")return EV(c,u);var C=zn(h={}.toString.call(c)).call(h,8,-1);return C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set"?ma(c):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?EV(c,u):void 0}}(p))||y){o&&(p=o);var a=0;return function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EV(p,y){(y==null||y>p.length)&&(y=p.length);for(var f=0,o=Array(y);f<y;f++)o[f]=p[f];return o}(function(p){p[p.ACTIVE=1]="ACTIVE",p[p.KICKED=2]="KICKED",p[p.OFFLINE=3]="OFFLINE"})($p||($p={}));var wZ=function(){function p(f){this.isReconnect=!1,this.packetTimeout=8e3,this.linkSSL=!0,this.packetSer=1,this.backoff=new SC({max:8e3,min:1600,jitter:.01}),this.sendingCmdMap=new Xa,this.pingTimer=0,this.hasNetworkListener=!1,this.core=f,this.auth=f.auth,this.logger=f.logger,this.reporter=f.reporter,this.timerManager=f.timerManager,this.eventBus=f.eventBus,this.setListener()}var y=p.prototype;return y.setListener=function(){var o=this;this.core.eventBus.on("V2NIMLoginService/loginLifeCycleLoginSucc",function(){o.isReconnect=!0})},y.setSessionId=function(o){this.socket&&(this.socket.sessionId=o)},y.setLinkSSL=function(o){this.linkSSL=o},y.connect=function(o,a){var l,c;return a===void 0&&(a=!1),le(this,void 0,void 0,q.mark(function u(){var h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this.isReconnect=a,(h=this.core.auth.getConnectStatus())!==1){W.next=7;break}return C="clientSocket::connect status is "+h+", and would not repeat connect",x=new Ct({code:it.V2NIM_ERROR_CODE_ILLEGAL_STATE,detail:{reason:C}}),this.logger.warn(C),W.abrupt("return",Zt.reject(x));case 7:return this.auth.lifeCycle.processEvent("connect"),W.prev=8,W.next=11,this.auth.doLoginStepsManager.add(this.doConnect(o));case 11:this.logger.log("clientSocketV2:: connect success with link url: "+o+", isReconnect: "+a),this.core.reporter.reportTraceUpdateV2("login",{operation_type:"TCP",target:o,code:200,mixlink:!0,succeed:!0},{asyncParams:rn.net.getNetworkStatus()}),this.auth.lifeCycle.processEvent("connectSucc"),W.next=28;break;case 16:if(W.prev=16,W.t0=W.catch(8),k=W.t0,this.core.reporter.reportTraceUpdateV2("login",{operation_type:"TCP",target:o,code:k.code||0,description:"connectFailed:"+k.message,mixlink:!0,succeed:!1},{asyncParams:rn.net.getNetworkStatus()}),k.code!==it.V2NIM_ERROR_CODE_CANCELLED&&k.code!==it.V2NIM_ERROR_CODE_TIMEOUT){W.next=25;break}throw(l=this.socket)===null||l===void 0||l.close(),(c=this.socket)===null||c===void 0||c.removeAllListeners(),this.socket=void 0,W.t0;case 25:throw this.logger.warn("clientSocketV2::connect failed with link url: "+o,k),this.auth.lifeCycle.processEvent("connectFail",k),W.t0;case 28:case"end":return W.stop()}},u,this,[[8,16]])}))},y.doConnect=function(o){var a=this,l=!1;return new Zt(function(c,u){var h;a.socket=new sV(a.core,o,a.linkSSL),a.socket.on("connect",function(){a.logger.log("clientSocketV2::socket on connect",o),a.core.reporterHookLinkKeep.start(),a.core.reporterHookLinkKeep.update({code:0,description:"connection begin",operation_type:0,target:o}),l=!0,c()}),a.socket.on("message",cn(h=a.onMessage).call(h,a)),a.socket.on("disconnect",function(C){return le(a,void 0,void 0,q.mark(function x(){return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return l=!0,this.logger.log("clientSocketV2::socket on disconnect",C),B.next=4,this.core.reporterHookLinkKeep.update({code:(C==null?void 0:C.code)||0,description:(C==null?void 0:C.reason)||"socket on disconnect",operation_type:1,target:o});case 4:this.core.reporterHookLinkKeep.end(!1),this.doDisconnect($p.OFFLINE,"SocketOnDisconnect");case 6:case"end":return B.stop()}},x,this)}))}),a.socket.on("handshakeFailed",function(C){l?a.ping():(a.logger.error('clientSocketV2::handshake failed: "'+(C&&C.message)+'"'),a.cleanSocket()),l=!0,u(C)})})},y.cleanSocket=function(){this.socket&&(typeof this.socket.removeAllListeners=="function"&&this.socket.removeAllListeners(),typeof this.socket.close=="function"&&this.socket.close(),this.socket=void 0)},y.resetSocketConfig=function(){this.backoff.reset(),this.initOnlineListener()},y.doDisconnect=function(o,a){if(this.logger.log("clientSocketV2::doDisconnect:type:"+o+",reason:",a),this.core.auth.getConnectStatus()!==0){var l={1:"close",2:"kicked",3:"broken"}[o]||"";this.markAllCmdInvaild(new Ct({code:it.V2NIM_ERROR_CODE_DISCONNECT,detail:{reason:"Packet timeout due to instance disconnect",disconnect_reason:l}})),this.timerManager.destroy(),clearTimeout(this.pingTimer),this.cleanSocket(),o===$p.ACTIVE||o===$p.KICKED?this.destroyOnlineListener():o===$p.OFFLINE&&(this.auth.lifeCycle.processEvent("connectionBroken",new Ct({code:it.V2NIM_ERROR_CODE_DISCONNECT,detail:{reason:"connection broken due to internal reasons"}})),this.logger.log("clientSocketV2::doDisconnect: pending reconnect "+this.isReconnect),this.isReconnect&&this.auth.lifeCycle.processEvent("waiting"))}else this.logger.warn("clientSocketV2::doDisconnect:already disconnected")},y.sendCmd=function(o,a,l){var c=this,u=this.core.auth.getLoginStatus(),h=["v2Login","login","chatroomLogin","v2ChatroomLogin"],C={cmd:o};if(u!==1&&!or(h).call(h,o))return this.logger.warn("clientSocketV2::NIM login status is "+u+", so can not sendCmd "+o),Zt.reject(new Ct({code:it.V2NIM_ERROR_CODE_ILLEGAL_STATE,detail:ce({reason:"Can not sendCmd due to no logined"},C)}));var x=o!=="heartbeat",k=x?this.packetSer++:0,B=_x(o,k,this.logger,a);if(!B){var W=new Ct({code:it.V2NIM_ERROR_CODE_INTERNAL,detail:ce(ce({},C),{reason:"SendCmd::createCmd error: "+k+" "+o})});return this.logger.error(W),Zt.reject(W)}var Y=B.packet,ne=B.hasPacketResponse,se=B.hasPacketTimer,xe=$t(Y);x&&(this.logger.getDebugMode()?this.logger.debug("clientSocketV2::sendCmd: "+Y.SID+"_"+Y.CID+","+o+",ser:"+k,xe):this.logger.log("clientSocketV2::sendCmd: "+Y.SID+"_"+Y.CID+","+o+",ser:"+k));var we=new Date().getTime();return new Zt(function($e,Me){ne&&c.sendingCmdMap.set(k,{cmd:o,params:a,callback:[$e,Me],timer:se?pa(function(){var We=new Ct({code:it.V2NIM_ERROR_CODE_PROTOCOL_TIMEOUT,detail:ce({ser:k,reason:"Packet Timeout: ser "+k+" cmd "+o,timetag:new Date().getTime()},C)});c.markCmdInvalid(k,We,o)},l&&l.timeout?l.timeout:c.packetTimeout):null});try{c.socket.send(xe),ne||$e(Y)}catch(We){var Fe=new Ct({code:it.V2NIM_ERROR_CODE_PROTOCOL_SEND_FAILED,detail:ce({ser:k,reason:"Unable to send packet"+(We&&We.message?": "+We.message:""),timetag:new Date().getTime(),rawError:We},C)});c.markCmdInvalid(k,Fe,o),Me(Fe)}}).catch(function($e){return le(c,void 0,void 0,q.mark(function Me(){var Fe,We,Ae,Ee,me;return q.wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:if(We=$e,Ae=[it.V2NIM_ERROR_CODE_DISCONNECT,it.V2NIM_ERROR_CODE_PROTOCOL_TIMEOUT,it.V2NIM_ERROR_CODE_PROTOCOL_SEND_FAILED],or(Ae).call(Ae,We.code)){Ge.next=4;break}return Ge.abrupt("return",Zt.reject(We));case 4:return this.reporter.reportTraceStart("exceptions",{user_id:this.core.auth.getLoginUser(),trace_id:(Fe=this.socket)===null||Fe===void 0?void 0:Fe.sessionId,start_time:we,action:2,exception_service:6}),Ee=Ht(We,"detail.disconnect_reason")||"",me=We.code===it.V2NIM_ERROR_CODE_DISCONNECT?$t({disconnect_reason:Ee}):We.detail.reason,this.reporter.reportTraceUpdateV2("exceptions",{code:We.code,description:me,operation_type:1,target:Y.SID+"-"+Y.CID,context:""+Y.SER},{asyncParams:rn.net.getNetworkStatus()}),this.reporter.reportTraceEnd("exceptions",1),Ge.abrupt("return",Zt.reject(We));case 10:case"end":return Ge.stop()}},Me,this)}))})},y.onMessage=function(o){var a=xx(o,this.logger);if(a&&a.length>0){var l=a[0],c=l.raw.ser;l.error&&this.logger.error("clientSocketV2::onMessage packet error",l.raw.sid+"_"+l.raw.cid+", ser:"+c+",",l.error),l.cmd!=="heartbeat"&&(this.logger.getDebugMode()?this.logger.debug("clientSocketV2::recvCmd "+l.raw.sid+"_"+l.raw.cid+","+l.cmd+",ser:"+c,l.content):this.logger.log("clientSocketV2::recvCmd "+l.raw.sid+"_"+l.raw.cid+","+l.cmd+",ser:"+c+";code:"+l.raw.code));for(var u,h=xZ(a);!(u=h()).done;){var C=u.value;this.packetHandler(C)}}},y.packetHandler=function(o){var a,l,c,u,h=this;if(o){var C=o.raw.ser,x=this.sendingCmdMap.get(C);if(x&&x.cmd===o.cmd){var k=x.callback,B=x.timer,W=x.params;if(clearTimeout(B),o.params=W,this.sendingCmdMap.delete(C),o.cmd==="heartbeat")return void k[0]();var Y=(l=(a=this.core[o.service])===null||a===void 0?void 0:a.process)===null||l===void 0?void 0:l.call(a,o);Y&&typeof Y.then=="function"?Y.then(function(se){k[0](se)}).catch(function(se){k[1](se)}):(this.logger.log("clientSocketV2::handlerFn without promise",o.service,o.cmd),k[0](o))}else{var ne=(u=(c=this.core[o.service])===null||c===void 0?void 0:c.process)===null||u===void 0?void 0:u.call(c,o);ne&&typeof ne.then=="function"&&ne.catch(function(se){h.logger.error("clientSocketV2::no obj cache, no process handler",se)})}}},y.markCmdInvalid=function(o,a,l){var c=this.sendingCmdMap.get(o);if(c){var u=c.callback,h=c.timer;h&&clearTimeout(h),this.sendingCmdMap.delete(o),this.logger.warn("clientSocketV2::packet "+o+", "+l+" is invalid:",a),u[1](a)}},y.markAllCmdInvaild=function(o){var a,l=this;this.logger.log("markAllCmdInvaild",o),rt(a=this.sendingCmdMap).call(a,function(c){var u=c.callback,h=c.timer,C=c.cmd;l.logger.log("clientSocketV2::markAllCmdInvaild:cmd "+C),h&&clearTimeout(h),u[1](o)}),this.sendingCmdMap.clear()},y.ping=function(){var o;return le(this,void 0,void 0,q.mark(function a(){var l=this;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return clearTimeout(this.pingTimer),u.prev=1,u.next=4,this.sendCmd("heartbeat");case 4:u.next=20;break;case 6:if(u.prev=6,u.t0=u.catch(1),u.t0.code!==it.V2NIM_ERROR_CODE_DISCONNECT){u.next=11;break}return u.abrupt("return");case 11:return u.next=13,this.testHeartBeat5Timeout();case 13:if(!u.sent){u.next=20;break}return u.next=17,this.core.reporterHookLinkKeep.update({code:0,description:"Heartbeat-discovered link failure",operation_type:1,target:(o=this.socket)===null||o===void 0?void 0:o.url});case 17:return this.core.reporterHookLinkKeep.end(!0),this.doDisconnect($p.OFFLINE,"PingError"),u.abrupt("return");case 20:this.pingTimer=pa(function(){l.ping()},3e4);case 21:case"end":return u.stop()}},a,this,[[1,6]])}))},y.testHeartBeat5Timeout=function(){return le(this,void 0,void 0,q.mark(function o(){var a;return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:clearTimeout(this.pingTimer),a=0;case 2:if(!(a<5)){c.next=15;break}return c.prev=3,c.next=6,this.sendCmd("heartbeat",{},{timeout:3e3});case 6:return c.abrupt("return",!1);case 9:c.prev=9,c.t0=c.catch(3),this.logger.log("clientSocketV2::test heartbeat "+a+" Timeout");case 12:a++,c.next=2;break;case 15:return c.abrupt("return",!0);case 16:case"end":return c.stop()}},o,this,[[3,9]])}))},y.initOnlineListener=function(){var o=this;this.hasNetworkListener||(this.logger.log("clientSocketV2::onlineListener:init"),this.hasNetworkListener=!0,rn.net.onNetworkStatusChange(function(a){o.logger.log("clientSocketV2::onlineListener:network change",a);var l=o.auth.getConnectStatus(),c=o.auth.getLoginStatus();a.isConnected&&c===1?o.ping():a.isConnected&&l===3?(o.logger.log("clientSocketV2::onlineListener:online and connectStatus is waiting, do reLogin"),o.auth.reconnect.clearReconnectTimer(),o.auth.reconnect.doReLogin()):a.isConnected||o.doDisconnect($p.OFFLINE,"OfflineListener")}))},y.destroyOnlineListener=function(){this.logger.log("clientSocketV2::onlineListener:destroy"),rn.net.offNetworkStatusChange(),this.hasNetworkListener=!1},p}(),NZ=function(){function p(f){this.currenRetryCount=0,this.backoff=new SC({max:8e3,min:1600,jitter:.01}),this.reconnectTimer=0,this.appVisibility=!0,this.core=f,this.auth=f.V2NIMLoginService}var y=p.prototype;return y.reset=function(){this.currenRetryCount=0,this.backoff.reset(),this.reconnectTimer&&clearTimeout(this.reconnectTimer)},y.clearReconnectTimer=function(){this.reconnectTimer&&clearTimeout(this.reconnectTimer)},y.setAppVisibility=function(o){var a=this.getAppVisibility();this.appVisibility=o,!a&&o&&this.auth.getLoginStatus()===3&&(this.core.logger.log("reconnect::appVisibility change to visible, try to reconnect"),this.auth.reconnect.clearReconnectTimer(),this.auth.reconnect.doReLogin())},y.getAppVisibility=function(){return this.appVisibility},y.attempToReLogin=function(){var o=this,a=this.backoff.duration();if(typeof this.reconnectDelayProvider=="function")try{var l=this.reconnectDelayProvider(a);typeof l=="number"&&l>=0&&(a=l>=1e3?l:l+200+Math.ceil(300*Math.random()))}catch(c){this.core.logger.error("reconnect::connectDelayProvider excute failed,",c)}return this.currenRetryCount++,this.core.logger.log("reconnect::reconnect timer is about to be set, delay "+a+" ms, current retry count is "+this.currenRetryCount),this.core.reporter.reportTraceStart("login",{user_id:this.auth.getLoginUser(),action:"auto_login",binary_websocket:this.auth.binaryWebsocket}),this.clearReconnectTimer(),this.reconnectTimer=pa(function(){o.core.logger.log("reconnect::reconnect timer is now triggered");var c=o.auth.getConnectStatus();c===3?o.doReLogin():o.core.logger.warn("reconnect::reconnect timer is over because connect status now is "+c)},a),!0},y.doReLogin=function(){var o=this;if(!this.getAppVisibility())return this.core.logger.log("reconnect::reLogin skip, cause app is not visible"),void this.auth.lifeCycle.processEvent("waiting");this.auth.loginOption.forceMode=!1,this.auth.originLoginPromise=this.auth.doLogin(!0);var a=this.auth.previousLoginManager.add(this.auth.originLoginPromise);return a.then(function(){o.core.reporter.reportTraceEnd("login",!0)}).catch(function(l){var c=l;if(o.core.logger.warn("reconnect::try login but failed due to",c),o.core.reporter.reportTraceEnd("login",!1),o.auth.checkLoginTerminalCode(c&&c.code))return o.auth.clientSocket.doDisconnect(ts.ACTIVE,"ReloginTerminated"),void o.auth.lifeCycle.processEvent("exited",c);c&&c.code===399&&o.auth.lbs.reset(),o.auth.lifeCycle.processEvent("waiting")}),a},y._setReconnectDelayProvider=function(o){this.reconnectDelayProvider=o},p}(),RZ=function(){function p(f){this.socketLinkUrls=[],this.timer=0,this.failedCount=0,this.core=f,this.auth=f.V2NIMLoginService}var y=p.prototype;return y.getLbsInfos=function(){return le(this,void 0,void 0,q.mark(function o(){var a,l,c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!(this.socketLinkUrls.length>0)){C.next=4;break}return a=this.socketLinkUrls.shift(),this.core.logger.log("V2NIMLoginService::getLbsInfos:use cache link",a),C.abrupt("return",Zt.resolve(a));case 4:return this.auth.lifeCycle.processEvent("addressing"),this.core.reporterHookLBS.start(this.core.account),l=Vp(this.auth.config.lbsUrls),C.prev=7,C.next=10,this.ladderLoad(l);case 10:if((c=C.sent).status===200&&c.data){C.next=14;break}throw this.core.logger.error("V1NIMLoginService::getLbsInfos:error status",c.status,c),new Ct({code:it.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:"V2NIMLoginService::getLbsInfos failed, status "+c.status}});case 14:this.success(c),C.next=25;break;case 17:if(C.prev=17,C.t0=C.catch(7),u=C.t0,this.core.logger.error("V2NIMLoginService::lbs getLbsInfos error, use default link: "+this.auth.config.linkUrl+". error:",C.t0),this.reportForFail(l[0],u.code,u.message),!this.checkTerminator(u.code)){C.next=24;break}throw C.t0;case 24:this.socketLinkUrls=[this.auth.config.linkUrl];case 25:return C.abrupt("return",this.socketLinkUrls.shift());case 26:case"end":return C.stop()}},o,this,[[7,17]])}))},y.checkTerminator=function(o){return o===it.V2NIM_ERROR_CODE_CANCELLED||o===it.V2NIM_ERROR_CODE_TIMEOUT},y.generateUrl=function(o){return(o=this.processLbsUrl(o))+(dr(o).call(o,"?")>-1?"&":"?")+"k="+this.core.options.appkey+"&id="+this.core.auth.getLoginUser()+"&sv=180&pv=1&networkType=0&lv=1"},y.processLbsUrl=function(o){return tv()?o.replace("/webconf","/wxwebconf"):o},y.requstLbs=function(o){return this.auth.doLoginStepsManager.add(this.core.adapters.request(this.generateUrl(o),{method:"GET",dataType:"json",timeout:8e3}))},y.setLadderTimer=function(o,a,l,c){var u=this;this.timer&&clearTimeout(this.timer);var h=o[a];this.timer=pa(function(){h&&(u.setLadderTimer(o,a+1,l,c),u.core.logger.log("V2NIMLoginService::getLbsInfos "+a+":",u.processLbsUrl(h)),u.reportForLbsStart(h,a),u.requstLbs(h).then(function(C){u.reset(),l(ce(ce({},C),{url:h}))}).catch(function(C){var x;if(u.core.logger.warn("V2NIMLoginService::getLbsInfos "+a+" failed:",C),u.failedCount+=1,u.reportForFailOnce(h,C.code,((x=C.detail)===null||x===void 0?void 0:x.reason)||C.message),u.failedCount>=o.length||u.checkTerminator(C.code))return u.reset(),void c(C)}))},2e3)},y.ladderLoad=function(o){var a=this;return new Zt(function(l,c){o.length>1&&a.setLadderTimer(o,1,l,c);var u=o[0];a.core.logger.log("V2NIMLoginService::getLbsInfos 0:",u),a.reportForLbsStart(u,0),a.requstLbs(u).then(function(h){a.reset(),l(ce(ce({},h),{url:u}))}).catch(function(h){var C;a.failedCount+=1,a.core.logger.warn("V2NIMLoginService::getLbsInfos 0 failed:",h),a.reportForFailOnce(u,h.code,((C=h.detail)===null||C===void 0?void 0:C.reason)||h.message),(a.failedCount>=o.length||a.checkTerminator(h.code))&&(a.reset(),c(h))})})},y.success=function(o){var a,l,c,u,h=o.data.common,C=h["mix.link"]||[],x=h["link.default"]||[];this.socketLinkUrls=Bn(a=Bn(C).call(C,x)).call(a,this.auth.config.linkUrl),o.data["nos-chunk"]&&(!((c=this.core.cloudStorage)===null||c===void 0)&&c.setOptions)&&(this.core.logger.log("getLbsInfos success. lbs.nos-chunk",o.data["nos-chunk"]),this.core.cloudStorage.setOptions({chunkUploadHost:o.data["nos-chunk"]})),Nr(o.data.nosup)&&o.data.nosup.length>0&&(!((u=this.core.cloudStorage)===null||u===void 0)&&u.setOptions)&&(this.core.logger.log("getLbsInfos success. lbs.nosup",o.data.nosup),this.core.cloudStorage.setOptions({commonUploadHostBackupList:o.data.nosup,commonUploadHost:o.data.nosup[0]})),this.core.logger.log("V2NIMLoginService::getLbsInfos success, socket link:",zn(l=this.socketLinkUrls).call(l,0),"chunkUploadHost: ",o.data["nos-chunk"]),this.reportForLbsSuccess(o.url,o.data)},y.reportForLbsStart=function(o,a){this.core.reporterHookLBS.updateBegin({target:o,index:a})},y.reportForLbsSuccess=function(o,a){this.core.reporterHookLBS.updateComplete({target:o,code:200,body:$t(a)}),this.core.reporterHookLBS.end(!0),this.core.reporter.reportTraceUpdateV2("login",{operation_type:"HTTP",target:o,code:200,succeed:!0},{asyncParams:rn.net.getNetworkStatus()})},y.reportForFailOnce=function(o,a,l){this.core.reporterHookLBS.updateComplete({target:o,code:a,body:l})},y.reportForFail=function(o,a,l){this.core.reporterHookLBS.end(!1),this.core.reporter.reportTraceUpdateV2("login",{operation_type:"HTTP",target:o,description:l,code:a,succeed:!1},{asyncParams:rn.net.getNetworkStatus()})},y.reset=function(){this.socketLinkUrls=[],this.failedCount=0,clearTimeout(this.timer)},p}(),AZ=function(){function p(f){this.lastLoginClientKey="__NIM_LAST_LOGIN_CLIENT__",this.loginClients=[],this.loginClientOfThisConnection={},this.core=f,this.auth=f.V2NIMLoginService}var y=p.prototype;return y.verifyAuthentication=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x,k,B,W,Y,ne;return q.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.next=2,this.auth.doLoginStepsManager.add(this.refreshLoginToken(this.auth.account));case 2:return c=xe.sent,xe.next=5,this.auth.doLoginStepsManager.add(this.refreshThirdPartyExt(this.auth.account));case 5:return u=xe.sent,this.auth.token=c,h=rn.getSystemInfo(),C={appkey:this.core.options.appkey,account:this.auth.account,token:c,authType:this.auth.loginOption.authType,appLogin:o?0:1,clientType:16,clientSession:this.auth.clientSession,clientId:this.auth.deviceId,sdkVersion:100920,userAgent:this.core.options.loginSDKTypeParamCompat?"Native/10.9.20":zn(l=h.userAgent.replace("{{appkey}}",this.core.options.appkey)).call(l,0,299),libEnv:this.core.options.flutterSdkVersion?"FLUTTER":this.core.options.loginSDKTypeParamCompat?void 0:h.libEnv,hostEnv:this.core.options.flutterSdkVersion?4:this.core.options.loginSDKTypeParamCompat?0:h.hostEnvEnum,sdkHumanVersion:this.core.options.flutterSdkVersion||"10.9.20",os:h.os,browser:h.browser,protocolVersion:1,customClientType:this.auth.config.customClientType,customTag:this.auth.config.customTag,thirdPartyExtension:u},x=h.os.toLowerCase(),rn.platform!=="UNIAPP"||x!=="ios"&&x!=="android"&&x!=="harmonyos"?rn.platform==="React Native"&&(this.core.logger.log("V2NIMLoginService deviceInfo",this.core.V2NIMLoginService.deviceInfo,"os",x),C.isReactNative=1,C.clientType=x==="ios"?2:1,C.deviceInfo=$t(ce({IS_SUPPORT_HONOR:!0},this.core.V2NIMLoginService.deviceInfo))):(C.isReactNative=1,C.clientType=x==="ios"?2:x==="android"?1:65,h.pushDeviceInfo&&h.pushDeviceInfo.MANUFACTURER&&(C.deviceInfo=$t(ce({IS_SUPPORT_HONOR:!0},h.pushDeviceInfo)))),this.core.logger.log("V2NIMLoginService::do login,accid:"+C.account+";clientSession:"+C.clientSession+";appLogin:"+C.appLogin),xe.prev=12,xe.next=15,this.auth.doLoginStepsManager.add(this.auth.clientSocket.sendCmd("v2Login",{tag:C}));case 15:k=xe.sent,xe.next=26;break;case 18:if(xe.prev=18,xe.t0=xe.catch(12),B=xe.t0,this.core.reporter.reportTraceUpdateV2("login",{operation_type:"protocol",target:"26-3",code:B.code||0,succeed:!1,description:B.message},{asyncParams:rn.net.getNetworkStatus()}),B.code!==it.V2NIM_ERROR_CODE_CANCELLED&&B.code!==it.V2NIM_ERROR_CODE_TIMEOUT){xe.next=24;break}throw B;case 24:throw this.processLoginFailed(B),B;case 26:return W=k.content,Y=W.data,ne=W.loginClients,this.changeLoginClient(1,ne),this.core.reporter.reportTraceUpdateV2("login",{operation_type:"protocol",target:"26-3",code:200,succeed:!0},{asyncParams:rn.net.getNetworkStatus()}),this.loginClientOfThisConnection=pV(Y),this.core.clientSocket.setSessionId(Y.consid),rn.localStorage.setItem(this.lastLoginClientKey,$t(ce({account:this.auth.account},this.loginClientOfThisConnection))),xe.abrupt("return",this.loginClientOfThisConnection);case 33:case"end":return xe.stop()}},a,this,[[12,18]])}))},y.refreshLoginToken=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(this.auth.loginOption.authType!==0){C.next=2;break}return C.abrupt("return",this.auth.token);case 2:if(typeof this.auth.loginOption.tokenProvider=="function"){C.next=4;break}return C.abrupt("return",this.auth.token);case 4:return C.prev=4,C.next=7,this.auth.loginOption.tokenProvider(o);case 7:if(typeof(l=C.sent)!="string"){C.next=12;break}return C.abrupt("return",l);case 12:throw this.core.logger.error("V2NIMLoginService::excute tokenProvider complete but got Unexpected value:",l),new Ct({code:it.V2NIM_ERROR_CODE_CALLBACK_FAILED,detail:{reason:"Excute tokenProvider complete but got Unexpected value",rawData:l}});case 14:C.next=23;break;case 16:throw C.prev=16,C.t0=C.catch(4),c=C.t0,u=c,c.code!==it.V2NIM_ERROR_CODE_CALLBACK_FAILED&&(this.core.logger.error("V2NIMLoginService::excute tokenProvider error:",c),u=new Ct({code:it.V2NIM_ERROR_CODE_CALLBACK_FAILED,desc:"Excute tokenProvider error",detail:{rawError:C.t0}})),this.processLoginFailed(c),u;case 23:case"end":return C.stop()}},a,this,[[4,16]])}))},y.refreshThirdPartyExt=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(typeof this.auth.loginOption.loginExtensionProvider=="function"){C.next=2;break}return C.abrupt("return","");case 2:return C.prev=2,C.next=5,this.auth.loginOption.loginExtensionProvider(o);case 5:if(typeof(l=C.sent)!="string"){C.next=10;break}return C.abrupt("return",l);case 10:throw this.core.logger.error("V2NIMLoginService::excute loginExtensionProvider complete but got Unexpected value:",l),new Ct({code:it.V2NIM_ERROR_CODE_CALLBACK_FAILED,detail:{reason:"Excute loginExtensionProvider complete but got Unexpected value",rawData:l}});case 12:C.next=25;break;case 14:if(C.prev=14,C.t0=C.catch(2),c=C.t0,u=c,c.code!==it.V2NIM_ERROR_CODE_CALLBACK_FAILED&&(this.core.logger.error("V2NIMLoginService::excute loginExtensionProvider error:",c),u=new Ct({code:it.V2NIM_ERROR_CODE_CALLBACK_FAILED,detail:{reason:"Excute loginExtensionProvider error",rawError:C.t0}})),this.auth.loginOption.authType!==2){C.next=24;break}throw this.processLoginFailed(c),u;case 24:return C.abrupt("return","");case 25:case"end":return C.stop()}},a,this,[[2,14]])}))},y.processLoginFailed=function(o){this.auth.clientSocket.doDisconnect(ts.ACTIVE,o),this.checkLoginTerminalCode(o.code)&&(this.auth.authenticator.reset(),this.auth.authenticator.clearLastLoginClient()),this.auth.lifeCycle.processEvent("loginFail",o)},y.changeLoginClient=function(o,a){var l=this,c=Qe(a).call(a,function(C){return pV(C)});if(o===1)this.loginClients=c,this.auth.emit("onLoginClientChanged",o,this.loginClients);else if(o===2){var u=Tn(c).call(c,function(C){var x,k=Tn(x=l.loginClients).call(x,function(B){return B.clientId===C.clientId});return l.loginClients.push(C),k.length===0});u.length>0&&this.auth.emit("onLoginClientChanged",o,u)}else if(o===3){var h=Tn(c).call(c,function(C){var x;return function(B,W){W=W||function(){return!0};for(var Y=[],ne=(B=B||[]).length,se=0,xe=0;xe<ne;xe++)W(B[xe-se])&&(Y.push(Qa(B).call(B,xe-se,1)[0]),se+=1);return Y}(l.loginClients,function(k){return k.clientId===C.clientId&&k.consid===C.consid}),Tn(x=l.loginClients).call(x,function(k){return k.clientId===C.clientId}).length===0});h.length>0&&this.auth.emit("onLoginClientChanged",o,h)}},y.checkAutoLogin=function(o){if(o)return!1;var a=rn.localStorage.getItem(this.lastLoginClientKey);if(!a)return!1;var l="",c="";try{var u=JSON.parse(a);l=Ht(u,"clientId"),c=Ht(u,"account")}catch{return!1}return l===this.auth.deviceId&&c===this.auth.account},y.checkLoginTerminalCode=function(o){var a=[it.V2NIM_ERROR_CODE_CANCELLED,it.V2NIM_ERROR_CODE_TIMEOUT,it.V2NIM_ERROR_CODE_HANDSHAKE,302,317,it.V2NIM_ERROR_CODE_FORBIDDEN,it.V2NIM_ERROR_CODE_NOT_FOUND,it.V2NIM_ERROR_CODE_PARAMETER_ERROR,it.V2NIM_ERROR_CODE_MULTI_LOGIN_FORBIDDEN,422,it.V2NIM_ERROR_CODE_IM_DISABLED,it.V2NIM_ERROR_CODE_APPKEY_NOT_EXIST,it.V2NIM_ERROR_CODE_BUNDLEID_CHECK_FAILED,it.V2NIM_ERROR_CODE_APPKEY_BLOCKED,it.V2NIM_ERROR_CODE_INVALID_TOKEN,it.V2NIM_ERROR_CODE_ROBOT_NOT_ALLOWED,it.V2NIM_ERROR_CODE_ACCOUNT_NOT_EXIST,it.V2NIM_ERROR_CODE_ACCOUNT_BANNED,it.V2NIM_ERROR_CODE_USER_PROFILE_NOT_EXIST];return or(a).call(a,o)},y.reset=function(){this.loginClients=[],this.loginClientOfThisConnection={}},y.clearLastLoginClient=function(){rn.localStorage.removeItem(this.lastLoginClientKey)},p}(),OZ=function(){function p(f){this.name="V2NIMLoginLifeCycle",this.loginStatus=0,this.connectStatus=0,this.core=f,this.auth=f.V2NIMLoginService,this.logger=f.logger}var y=p.prototype;return y.processEvent=function(o,a,l){var c=this.getConnectStatus();switch(o){case"addressing":this.logger.log(this.name+"::addressing"),this.setLoginStatus(2),this.setConnectStatus(2);break;case"connect":this.logger.log(this.name+"::connecting"),this.setLoginStatus(2),this.setConnectStatus(2);break;case"connectSucc":this.logger.log(this.name+"::connect success"),this.setLoginStatus(2),this.setConnectStatus(1);break;case"connectFail":this.logger.log(this.name+"::connect fail",a),this.setLoginStatus(3),this.setConnectStatus(0,a);break;case"connectionBroken":this.logger.log(this.name+"::connectionBroken:",a),this.setLoginStatus(3),this.setConnectStatus(0,a),this.core.eventBus.emit("V2NIMLoginService/loginLifeCycleDisconnected",a);break;case"loginSucc":this.logger.log(this.name+"::login success, verify authentication success"),this.setLoginStatus(1),this.core.eventBus.emit("V2NIMLoginService/loginLifeCycleLoginSucc",l);break;case"loginFail":if(this.logger.log(this.name+"::login fail due to verify authentication failed:",a),!a)return;this.setLoginStatus(this.auth.authenticator.checkLoginTerminalCode(a.code)?0:3),this.setConnectStatus(0,a),this.auth.emit("onLoginFailed",a);break;case"logout":this.logger.log(this.name+"::logout"),this.setLoginStatus(0),this.setConnectStatus(0),this.core.eventBus.emit("V2NIMLoginService/loginLifeCycleLogout");break;case"kicked":this.logger.log(this.name+"::kicked",l),this.setLoginStatus(0),this.setConnectStatus(0,a),this.core.eventBus.emit("V2NIMLoginService/loginLifeCycleKicked");break;case"exited":this.logger.log(this.name+"::exited",a),this.setLoginStatus(0),this.setConnectStatus(0,a);break;case"waiting":this.logger.log(this.name+"::waiting to reconnect"),this.setLoginStatus(3),this.setConnectStatus(3),c!==2&&this.auth.reconnect.attempToReLogin()}},y.getConnectStatus=function(){return this.connectStatus},y.getLoginStatus=function(){return this.loginStatus},y.setLoginStatus=function(o){o!==this.loginStatus&&(this.loginStatus=o,this.auth.emit("onLoginStatus",o))},y.setConnectStatus=function(o,a){if(o!==this.connectStatus){var l=this.connectStatus;this.connectStatus=o,this.auth.emit("onConnectStatus",o),this.delegateConnectEvent(l,o,a)}},y.delegateConnectEvent=function(o,a,l){o===1&&a===0&&l&&this.auth.emit("onDisconnected",l),o===2&&a===0&&l&&this.auth.emit("onConnectFailed",l)},p}(),kZ=function(){function p(f){this.core=f,this.auth=f.V2NIMLoginService,this.datas=[]}var y=p.prototype;return y.switchDataSync=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x,k,B;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:u=o.type,h=o.state,C=o.error,x=o.subType,k=Tn(l=this.datas).call(l,function(ne){return ne.type===u&&ne.subType===x}),k.length>0?(k[0].state=h,k[0].error=C):this.datas.push({type:u,state:h,subType:x}),B=rl(c=this.datas).call(c,function(ne){return ne.state===3}),u===1&&(h===2&&x==="mainSync"?(this.core.eventBus.emit("V2NIMLoginService/syncing"),this.auth.emit("onDataSync",u,h)):h===3&&B&&(this.core.eventBus.emit("V2NIMLoginService/syncDone",C),this.auth.emit("onDataSync",u,h,C)));case 5:case"end":return Y.stop()}},a,this)}))},y.checkSyncing=function(){var o;return Mi(o=this.datas).call(o,function(a){return a.subType==="mainSync"&&a.state===2})},y.reset=function(){this.datas=[]},p}();function dd(p,y){p=p||{};var f={};return rt(y=y||[]).call(y,function(o){p[o]!==void 0&&(f[o]=p[o])}),f}var LZ=["https://lbs.netease.im/lbs/webconf.jsp"],Ax={retryCount:3,timeout:6e4,forceMode:!1,authType:0,syncLevel:0},PZ=function(p){function y(o,a){var l,c;return a===void 0&&(a={}),(l=p.call(this,"V2NIMLoginService",o)||this).account="",l.previousLoginAccount="",l.token="",l.deviceId="",l.clientSession="",l.processId="",l.kickedDetail=null,l.binaryWebsocket=!0,l.core._registerDep(dV,"misc"),Wr({cmdMap:sZ,cmdConfig:cZ}),o.options.apiVersion==="v2"&&(Wr({cmdMap:lZ,cmdConfig:uZ}),l.core.auth=er(l)),l.previousLoginManager=new Lf,l.doLoginStepsManager=new Lf,l.loginTimerManager=new bs,l.loginOption=ce({},Ax),l.config={lbsUrls:LZ,linkUrl:"weblink.netease.im:443",linkSSL:!0},l.setOptions(a),o.V2NIMLoginService=er(l),l.core.options.binaryWebsocket!==!1&&typeof Uint8Array=="function"?(l.binaryWebsocket=!0,c=new _Z(l.core)):(l.binaryWebsocket=!1,c=new wZ(l.core)),l.clientSocket=c,l.core.options.apiVersion==="v2"&&(l.core.clientSocket=c),l.lifeCycle=new OZ(o),l.reconnect=new NZ(o),l.lbs=new RZ(o),l.authenticator=new AZ(o),l.dataSync=new kZ(o),l}pr(y,p);var f=y.prototype;return f.setOptions=function(a){var l,c,u;ge({lbsUrls:{type:"array",itemType:"string",min:1,required:!1},linkUrl:{type:"string",allowEmpty:!1,required:!1}},a,"",!0),this.config=sl(this.config,a),(c=(l=this.core.clientSocket)===null||l===void 0?void 0:l.setLinkSSL)===null||c===void 0||c.call(l,(u=this.config.linkSSL)===null||u===void 0||u);var h="",C="";this.config.isFixedDeviceId?(h=rn.localStorage.getItem("__NIM_DEVC_ID__")||ai(),C=rn.localStorage.getItem("__NIM_CLIENT_SESSION_ID__")||ai(),rn.localStorage.setItem("__NIM_DEVC_ID__",h),rn.localStorage.setItem("__NIM_CLIENT_SESSION_ID__",C)):(h=ai(),C=ai()),this.deviceId=h,this.clientSession=C,this.core.reporter.setConfig({common:{dev_id:h}})},f.reset=function(){this.account="",this.token="",this.processId="",this.lbs.reset(),this.reconnect.reset(),this.authenticator.reset(),this.authenticator.clearLastLoginClient(),this.dataSync.reset()},f.login=function(a,l,c){return c===void 0&&(c={}),le(this,void 0,void 0,q.mark(function u(){var h,C,x=this;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(this._checkApiVersion(),h=rn.getSystemInfo()||{},C=h.os?h.os.toLowerCase():"",rn.platform!=="React Native"||C!=="android"||!this.hasSettingService||!Ht(this.core.V2NIMSettingService,"push.offlinePushPlugin")){B.next=13;break}return B.prev=4,B.next=7,this.core.V2NIMSettingService.push.getRNDeviceInfo();case 7:this.deviceInfo=B.sent,B.next=13;break;case 10:B.prev=10,B.t0=B.catch(4),this.logger.error(B.t0);case 13:if(typeof a=="string"&&dC(a).call(a)!==""){B.next=15;break}throw new il({detail:{reason:"Account must be string"}});case 15:if(ge({retryCount:{type:"number",min:0,required:!1},forceMode:{type:"boolean",required:!1},authType:{type:"enum",values:[0,1,2],required:!1},syncLevel:{type:"enum",values:[1,0],required:!1}},c,"",!0),(c=sl(Ax,c)).authType!==0||l){B.next=19;break}throw new il({detail:{reason:"When authType is 0, token cannot be empty"}});case 19:if(this.previousLoginAccount!==""&&this.previousLoginAccount!==a&&this.core._clearModuleData(),this.getLoginStatus()!==0){B.next=24;break}this.logger.log("V2NIMLoginService::login:allowLogin:"+a,c),B.next=30;break;case 24:if(this.getLoginStatus()!==1){B.next=28;break}return B.abrupt("return",this.smoothForLogined(a,l,c));case 28:if(this.getLoginStatus()!==2){B.next=30;break}return B.abrupt("return",this.smoothForLogining(a,l,c));case 30:return this.account=a,this.previousLoginAccount=a,this.token=l,this.processId=ai(),this.loginOption=sl(Ax,c),this.kickedDetail=null,this.loginTimerManager.destroy(),this.loginTimerManager.addTimer(function(){var W=new Ct({code:it.V2NIM_ERROR_CODE_TIMEOUT,detail:{reason:"Login API timeout"}});x.doLoginStepsManager.clear(W),x.previousLoginManager.clear(W),x.originLoginPromise=void 0,x.lifeCycle.processEvent("exited",W)},this.loginOption.timeout>0?this.loginOption.timeout:6e4,1),B.prev=38,B.next=41,this.multiTryDoLogin();case 41:this.loginTimerManager.destroy(),B.next=48;break;case 44:throw B.prev=44,B.t1=B.catch(38),this.loginTimerManager.destroy(),B.t1;case 48:case"end":return B.stop()}},u,this,[[4,10],[38,44]])}))},f.setAppVisibility=function(a){this.reconnect.setAppVisibility(a)},f.getChatroomLinkAddress=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({roomId:{type:"string",regExp:/^\d+$/,required:!0,allowEmpty:!1},miniProgram:{type:"boolean",required:!1}},{roomId:a,miniProgram:l},"",!0),l=l===void 0?tv():l,C.next=4,this.clientSocket.sendCmd("v2GetChatroomLinkAddress",{roomId:a,miniProgram:l});case 4:return u=C.sent,C.abrupt("return",u.content.linkAddress);case 6:case"end":return C.stop()}},c,this)}))},f.multiTryDoLogin=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:c=new Ct({code:it.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:"loginFailed"}}),u=0;case 2:if(!(u<=this.loginOption.retryCount)){k.next=32;break}return h="V2NIMLoginService::times of login try: "+u,u>0?this.logger.warn(h):this.logger.log(h),k.prev=5,this.originLoginPromise=a||this.doLogin(!1),a=void 0,k.next=10,this.previousLoginManager.add(this.originLoginPromise);case 10:return C=k.sent,this.core.reporter.reportTraceEnd("login",!0),this.doLoginStepsManager.clear(),this.previousLoginManager.clear(),this.originLoginPromise=void 0,k.abrupt("return",C);case 18:if(k.prev=18,k.t0=k.catch(5),c=k.t0||c,this.logger.error("V2NIMLoginService::login failed, times of login try: "+u+", err.code: "+(c==null?void 0:c.code)+', err.message: "'+(c==null?void 0:c.message)+'"'),c.code!==it.V2NIM_ERROR_CODE_CANCELLED&&this.core.reporter.reportTraceEnd("login",!1),this.reconnect.clearReconnectTimer(),!this.checkLoginTerminalCode(c&&c.code)){k.next=28;break}throw this.lifeCycle.processEvent("exited",c),c;case 28:c&&c.code===399&&this.lbs.reset();case 29:u++,k.next=2;break;case 32:throw this.lifeCycle.processEvent("exited",c),c;case 34:case"end":return k.stop()}},l,this,[[5,18]])}))},f.doLogin=function(a){var l,c;return le(this,void 0,void 0,q.mark(function u(){var h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return h=!!a||this.authenticator.checkAutoLogin(this.loginOption.forceMode),this.core.reporter.reportTraceCancel("login"),this.core.reporter.reportTraceStart("login",h?{user_id:this.account,action:"auto_login",process_id:this.processId,binary_websocket:this.binaryWebsocket}:{user_id:this.account,action:"manual_login",process_id:this.processId,binary_websocket:this.binaryWebsocket}),this.core.reporter.reportTraceUpdateV2("login",{code:0,description:$t(this.loginOption),operation_type:"conf_init",succeed:!0,duration:0,target:""},{asyncParams:rn.net.getNetworkStatus()}),B.next=6,this.doLoginStepsManager.add(this.lbs.getLbsInfos());case 6:return C=B.sent,B.next=9,this.doLoginStepsManager.add(this.clientSocket.connect(C,a));case 9:return B.next=11,this.doLoginStepsManager.add(this.authenticator.verifyAuthentication(h));case 11:if(x=B.sent,this.processId=ai(),this.clientSocket.resetSocketConfig(),this.reconnect.reset(),this.dataSync.reset(),this.lifeCycle.processEvent("loginSucc",void 0,ce(ce({},x),{isReconnect:a})),this.clientSocket.ping(),this.core.abtest.abtRequest(),typeof((l=this.core.V2NIMClientAntispamUtil)===null||l===void 0?void 0:l.downloadLocalAntiSpamVocabs)=="function"&&this.core.V2NIMClientAntispamUtil.downloadLocalAntiSpamVocabs(),typeof((c=this.core.cloudStorage)===null||c===void 0?void 0:c.init)!="function"){B.next=29;break}return B.prev=21,B.next=24,this.core.cloudStorage.init(x.timestamp);case 24:B.next=29;break;case 26:B.prev=26,B.t0=B.catch(21),this.logger.warn("doLogin::cloudStorage init error",B.t0);case 29:return B.abrupt("return",x);case 30:case"end":return B.stop()}},u,this,[[21,26]])}))},f.smoothForLogined=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(h=this.checkIsSameLogin(a,l,c),this.logger.warn("V2NIMLoginService::smoothForLogined:Logined, isSameLogin "+h),!h){x.next=6;break}return x.abrupt("return");case 6:return x.next=8,this.logout();case 8:return x.abrupt("return",this.login(a,l,c));case 9:case"end":return x.stop()}},u,this)}))},f.smoothForLogining=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(h=this.checkIsSameLogin(a,l,c),this.logger.warn("V2NIMLoginService::smoothForLogining:Logining progress exists, abort the previous login attempt and start next attempt, isSameLogin "+h),this.previousLoginManager.clear(),this.reconnect.reset(),this.account=a,this.previousLoginAccount=a,this.token=l,this.loginOption=sl(this.loginOption,c),!h){x.next=18;break}if(this.originLoginPromise){x.next=11;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:"NoPreviousLoginExists"}});case 11:return this.reconnect.reset(),x.next=14,Zt.resolve();case 14:return x.next=16,this.multiTryDoLogin(this.originLoginPromise);case 16:x.next=25;break;case 18:return this.doLoginStepsManager.clear(),this.clientSocket.doDisconnect(ts.ACTIVE,"Aborted"),this.reset(),this.lifeCycle.processEvent("logout"),x.next=24,Zt.resolve();case 24:return x.abrupt("return",this.login(a,l,c));case 25:case"end":return x.stop()}},u,this)}))},f.checkIsSameLogin=function(a,l,c){return this.account===a&&this.loginOption.authType===c.authType&&(c.authType!==0||this.token===l)},f.logout=function(){return le(this,void 0,void 0,q.mark(function a(){var l,c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:this._checkApiVersion(),this.doLoginStepsManager.clear(),this.previousLoginManager.clear(),this.loginTimerManager.destroy(),this.originLoginPromise=void 0,l=this.getConnectStatus(),c=this.getLoginStatus(),h.t0=c,h.next=h.t0===1?10:h.t0===2?25:h.t0===3?29:h.t0===0?33:35;break;case 10:return h.prev=10,h.next=13,this.clientSocket.sendCmd("v2Logout",void 0,{timeout:1e3});case 13:this.clientSocket.doDisconnect(ts.ACTIVE,"UserActiveDisconnect"),this.core._clearModuleData(),this.lifeCycle.processEvent("logout"),h.next=24;break;case 18:h.prev=18,h.t1=h.catch(10),this.logger.error("Instance::disconnect sendCmd:logout error",h.t1),this.clientSocket.doDisconnect(ts.ACTIVE,"UserActiveDisconnect"),this.core._clearModuleData(),this.lifeCycle.processEvent("logout");case 24:return h.abrupt("break",37);case 25:case 29:return this.clientSocket.doDisconnect(ts.ACTIVE,"UserActiveDisconnect"),this.core._clearModuleData(),this.lifeCycle.processEvent("logout"),h.abrupt("break",37);case 33:throw this.core._clearModuleData(),new Ct({code:it.V2NIM_ERROR_CODE_ILLEGAL_STATE,detail:{reason:"Illegal logout. loginStatus "+c+". connectStatus "+l}});case 35:throw this.core._clearModuleData(),new Ct({code:it.V2NIM_ERROR_CODE_ILLEGAL_STATE,detail:{reason:"Illegal logout. illegal status: loginStatus "+c+". connectStatus "+l}});case 37:case"end":return h.stop()}},a,this,[[10,18]])}))},f.getConnectStatus=function(){return this.lifeCycle.getConnectStatus()},f.getLoginStatus=function(){return this.lifeCycle.getLoginStatus()},f.getLoginUser=function(){return this.account},f.getLoginClients=function(){var a;return Qe(a=function(c,u){c=c||[],u=u||"";for(var h=[],C=[],x=0;x<c.length;x++){var k=c[x][u];dr(C).call(C,k)===-1&&(C.push(k),h.push(c[x]))}return h}(this.authenticator.loginClients,"clientId")).call(a,function(l){return dd(l,["type","os","timestamp","customTag","customClientType","clientId","clientIP"])})},f.getCurrentLoginClient=function(){var a;if(!((a=this.authenticator.loginClientOfThisConnection)===null||a===void 0)&&a.clientId)return dd(this.authenticator.loginClientOfThisConnection,["type","os","timestamp","customTag","customClientType","clientId","clientIP"])},f.getDataSync=function(){var a=this.dataSync.datas;return a&&a.length>0?Qe(a).call(a,function(l){return{type:l.type,state:l.state}}):null},f.setReconnectDelayProvider=function(a){this.reconnect._setReconnectDelayProvider(a)},f.kickOffline=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this._checkApiVersion(),ge({clientId:{type:"string",allowEmpty:!1}},a,"",!0),h.next=4,this.clientSocket.sendCmd("v2KickOffline",{clientIds:[a.clientId]});case 4:if(c=h.sent,Ht(c,"content.clientIds.length")!==0){h.next=8;break}throw new Ct({code:it.V2NIM_ERROR_CODE_REQUEST_FAILED});case 8:case"end":return h.stop()}},l,this)}))},f.getKickedOfflineDetail=function(){return this.kickedDetail},f.checkLoginTerminalCode=function(a){return this.authenticator.checkLoginTerminalCode(a)},f.checkIllegalState=function(){if(!this.getLoginUser())throw new Ct({code:it.V2NIM_ERROR_CODE_ILLEGAL_STATE})},f._checkApiVersion=function(){if(this.core.options.apiVersion!=="v2")throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:'apiVersion is not "v2"'}})},f.v2LoginHandler=function(a){if(a.error)throw this.clientSocket.doDisconnect(ts.ACTIVE,a.error),a.error;return a},f.v2LoginClientChangeHandler=function(a){this.authenticator.changeLoginClient(un(a.content.state),a.content.datas)},f.nimLoginClientChangeHandler=function(a){this.authenticator.changeLoginClient(un(a.content.state),a.content.datas)},f.qchatLoginClientChangeHandler=function(a){var l=un(a.content.state);l=l===1?2:3,this.authenticator.changeLoginClient(l,[a.content.data])},f.v2BeKickedHandler=function(a){if(a.error)this.core.logger.error("v2BeKickedHandler error, ",a.error);else{var l=function(u){return oa({reason:{type:"number"},clientType:{type:"number"},customClientType:{type:"number"}},u)}(a.content);this.core.logger.warn("v2Bekicked::",l),this.kickedDetail=l,this.clientSocket.doDisconnect(ts.KICKED,l),this.core._clearModuleData(),this.lifeCycle.processEvent("kicked",new Ct({code:it.V2NIM_ERROR_CODE_DISCONNECT,detail:{reason:"disconnect due to kicked"}}),l),this.emit("onKickedOffline",l)}},f.emit=function(a){for(var l,c,u=this.name+"::emit "+a.toString(),h=arguments.length,C=new Array(h>1?h-1:0),x=1;x<h;x++)C[x-1]=arguments[x];if(a==="onLoginFailed"||a==="onDisconnected"||a==="onConnectFailed"){var k=C[0];this.logger.log(""+u,k.toString())}else if(a==="onDataSync"){var B=C[2];this.logger.log(""+u,C[0],C[1],B&&B.toString())}else{var W,Y;(W=this.logger).log.apply(W,Bn(Y=[""+u]).call(Y,C))}return(l=p.prototype.emit).call.apply(l,Bn(c=[this,a]).call(c,C))},sa(y,[{key:"hasSettingService",get:function(){var a;return!!(!((a=this.core.V2NIMSettingService)===null||a===void 0)&&a.name)}}]),y}(ji),CV=U("".startsWith),DZ=U("".slice),jZ=Math.min,VZ=Yo("startsWith");Lt({target:"String",proto:!0,forced:!VZ},{startsWith:function(y){var f=zi(ye(this));Vs(y);var o=Mn(jZ(arguments.length>1?arguments[1]:void 0,f.length)),a=zi(y);return CV?CV(f,a,o):DZ(f,o,o+a.length)===a}});var $Z=ka("String").startsWith,Ox=String.prototype,TV=function(p){var y=p.startsWith;return typeof p=="string"||p===Ox||Se(Ox,p)&&y===Ox.startsWith?$Z:y},Vf=function(){function p(f){this.name="V2NIMConversationIdUtil",this.core=f}var y=p.prototype;return y.conversationId=function(o,a){return this.core.account+"|"+o+"|"+a},y.p2pConversationId=function(o){return this.core.account+"|1|"+o},y.teamConversationId=function(o){return this.core.account+"|2|"+o},y.superTeamConversationId=function(o){return this.core.account+"|3|"+o},y.messageConversationId=function(o){return o.conversationType===1?o.senderId===this.core.account?this.p2pConversationId(o.receiverId):this.p2pConversationId(o.senderId):o.conversationType===2?this.teamConversationId(o.receiverId):this.superTeamConversationId(o.receiverId)},y.parseConversationType=function(o){try{if(o&&TV(o).call(o,this.core.account+"|")){var a=o.replace(this.core.account+"|","");return Number(a[0])}return this.core.logger.warn("conversationId is not start with "+this.core.account),0}catch{return 0}},y.parseConversationTargetId=function(o){try{if(o&&TV(o).call(o,this.core.account+"|")){var a=o.replace(this.core.account+"|","");return zn(a).call(a,2)}return this.core.logger.warn("conversationId is not start with "+this.core.account),""}catch{return""}},y.convertToV1ConversationId=function(o){var a=this.parseConversationType(o);return(a===1?"p2p":a===2?"team":"superTeam")+"|"+this.parseConversationTargetId(o)},p}(),UZ=ka("Array").keys,kx=Array.prototype,BZ={DOMTokenList:!0,NodeList:!0},IC=function(p){var y=p.keys;return p===kx||Se(kx,p)&&y===kx.keys||ot(BZ,Os(p))?UZ:y},MV=function(){function p(){this.messages=new Xa,this.capacity=1e4}var y=p.prototype;return y.reset=function(){this.messages.clear()},y.getMessageById=function(o){if(o)return this.messages.get(o)},y.getMessagesByConversationId=function(o){var a,l=[];return rt(a=this.messages).call(a,function(c){c.conversationId===o&&l.push(c)}),l},y.getLastMessageOfConversation=function(o){var a=this.getMessagesByConversationId(o);if(a.length!==0)return ja(a).call(a,function(l,c){return c.createTime>l.createTime?c:l},a[0])},y.upsertMessages=function(o){var a=this;rt(o).call(o,function(l){a.setLRU(l.messageClientId,l)})},y.setLRU=function(o,a){if(this.messages.has(o))this.messages.delete(o);else if(this.messages.size>=this.capacity){var l,c=IC(l=this.messages).call(l).next().value;c&&this.messages.delete(c)}this.messages.set(o,a)},y.deleteMessage=function(o){this.messages.delete(o)},y.deleteMessages=function(o,a){var l,c=this;rt(l=this.messages).call(l,function(u){o===u.conversationId&&(!a||a&&u.createTime<a)&&c.messages.delete(u.messageClientId)})},p}(),Lx={accountId:{type:"string",allowEmpty:!1},content:{type:"object",required:!1,rules:{msg:{type:"string",allowEmpty:!1},type:{type:"number",allowEmpty:!1}}},messages:{type:"array",required:!1,rules:{msg:{type:"string",allowEmpty:!1},type:{type:"number"},role:{type:"enum",values:["assistant","user","system"]}}},promptVariables:{type:"jsonstr",required:!1},modelConfigParams:{type:"object",required:!1,rules:{prompt:{type:"string",required:!1},maxTokens:{type:"number",required:!1},topP:{type:"number",required:!1},temperature:{type:"number",required:!1}}},aiStream:{type:"boolean",required:!1}},FZ=ce({requestId:{type:"string",allowEmpty:!1}},Lx),qZ={requestId:{type:"string",allowEmpty:!1},accountId:{type:"string",allowEmpty:!1}},EC=[1,3,2,0],AS=[2,7,12,100,6,1,-1,4,5,11,0,10,3],_V={routeEnabled:{type:"boolean",required:!1},routeEnvironment:{type:"string",required:!1}},xV={pushEnabled:{type:"boolean",required:!1},pushNickEnabled:{type:"boolean",required:!1},pushContent:{type:"string",required:!1},pushPayload:{type:"string",required:!1},forcePush:{type:"boolean",required:!1},forceContent:{type:"string",required:!1},forcePushAccountIds:{type:"array",required:!1,itemType:"string"}},wV={antispamEnabled:{type:"boolean",required:!1},antispamBusinessId:{type:"string",required:!1},antispamCustomMessage:{type:"string",required:!1},antispamCheating:{type:"string",required:!1},antispamExtension:{type:"string",required:!1}},NV={messageConfig:{type:"object",required:!1,rules:{readReceiptEnabled:{type:"boolean",required:!1},lastMessageUpdateEnabled:{type:"boolean",required:!1},historyEnabled:{type:"boolean",required:!1},roamingEnabled:{type:"boolean",required:!1},onlineSyncEnabled:{type:"boolean",required:!1},offlineEnabled:{type:"boolean",required:!1},unreadEnabled:{type:"boolean",required:!1}}},routeConfig:{type:"object",required:!1,rules:_V},pushConfig:{type:"object",required:!1,rules:xV},antiSpamConfig:{type:"object",required:!1,rules:wV},robotConfig:{type:"object",required:!1,rules:{accountId:{type:"string",required:!1},topic:{type:"string",required:!1},function:{type:"string",required:!1},customContent:{type:"string",required:!1}}},aiConfig:{type:"object",required:!1,rules:Lx},targetConfig:{type:"object",required:!1,rules:{receiverIds:{type:"array",itemType:"string"},inclusive:{type:"boolean"},newMemberVisible:{type:"boolean",required:!1}}},clientAntispamEnabled:{type:"boolean",required:!1},clientAntispamReplace:{type:"string",required:!1}},zZ={message:{type:"object",rules:{text:{type:"string",required:!1},messageType:{type:"enum",values:AS},messageClientId:{type:"string",allowEmpty:!1}}},params:{type:"object",rules:NV,required:!1},replyMessage:{type:"object",rules:{conversationType:{type:"enum",values:[1,3,2,0]},receiverId:{type:"string",allowEmpty:!1},senderId:{type:"string",allowEmpty:!1},messageClientId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1},createTime:{type:"number"}}}},RV={conversationId:{type:"string",allowEmpty:!1},message:{type:"object",rules:{text:{type:"string",required:!1},messageType:{type:"enum",values:AS},messageClientId:{type:"string",allowEmpty:!1},attachment:{type:"object",required:!1,rules:{file:{type:"file",required:!1}}}}},params:{type:"object",required:!1,rules:NV}},HZ={message:{type:"object",rules:{messageClientId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1},conversationType:{type:"enum",values:EC},createTime:{type:"number"}}},params:{type:"object",rules:{postscript:{type:"string",required:!1},serverExtension:{type:"string",required:!1},pushContent:{type:"string",required:!1},pushPayload:{type:"string",required:!1},env:{type:"string",required:!1}},required:!1}},GZ={conversationId:{type:"string",allowEmpty:!1},messageTypes:{type:"array",required:!1,itemType:"enum",values:AS},beginTime:{type:"number",required:!1},endTime:{type:"number",required:!1},limit:{type:"number",min:1,required:!1},direction:{type:"enum",values:[1,0],required:!1},anchorMessage:{type:"object",required:!1,rules:{messageServerId:{type:"string",allowEmpty:!1},createTime:{type:"number"}}}},mv={conversationType:{type:"enum",values:EC},receiverId:{type:"string",allowEmpty:!1},senderId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1},messageClientId:{type:"string",allowEmpty:!1}},KZ={messageRefers:{type:"array",required:!0,rules:mv}},AV={conversationId:{type:"string",allowEmpty:!1},conversationType:{type:"enum",values:EC},receiverId:{type:"string",allowEmpty:!1},senderId:{type:"string",allowEmpty:!1},messageClientId:{type:"string",allowEmpty:!1},createTime:{type:"number"}},WZ={messages:{type:"array",rules:AV}},YZ={conversationId:{type:"string",allowEmpty:!1},serverExtension:{type:"string",required:!1},onlineSync:{type:"boolean",required:!1},deleteRoam:{type:"boolean",required:!1},clearMode:{type:"enum",values:[0,1,2],required:!1}},Px={serverExtension:{type:"string",required:!1}},XZ={messageClientId:{type:"string",allowEmpty:!1},conversationType:{type:"enum",values:[1]},receiverId:{type:"string",allowEmpty:!1},createTime:{type:"number"}},JZ={messages:{type:"array",rules:{messageClientId:{type:"string",allowEmpty:!1},conversationType:{type:"enum",values:[2]},receiverId:{type:"string",allowEmpty:!1},createTime:{type:"number"}},min:1}},QZ={voiceUrl:{type:"string",required:!1,allowEmpty:!1},file:{type:"file",required:!1},voicePath:{type:"string",required:!1,allowEmpty:!1},mimeType:{type:"string",required:!1,allowEmpty:!1},sampleRate:{type:"string",required:!1,allowEmpty:!1},duration:{type:"number",required:!0,min:0},sceneName:{type:"string",required:!1}},ZZ={message:{type:"object",rules:{conversationType:{type:"enum",values:EC},receiverId:{type:"string",allowEmpty:!1},senderId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1},messageClientId:{type:"string",allowEmpty:!1},createTime:{type:"number"}}},index:{type:"number",min:1},serverExtension:{type:"string",required:!1},pushConfig:{type:"object",required:!1,rules:{pushEnabled:{type:"boolean",required:!1},needBadge:{type:"boolean",required:!1},title:{type:"string",required:!1,allowEmpty:!1},content:{type:"string",required:!1,allowEmpty:!1},pushPayload:{type:"string",required:!1,allowEmpty:!1}}}},eee={messages:{type:"array",rules:{conversationType:{type:"enum",values:[1,3,2,0]},receiverId:{type:"string",allowEmpty:!1},senderId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1},messageClientId:{type:"string",allowEmpty:!1},createTime:{type:"number"}}}},tee={params:{type:"object",rules:{collectionType:{type:"number",min:1},collectionData:{type:"string",allowEmpty:!1},serverExtension:{type:"string",required:!1},uniqueId:{type:"string",required:!1}}}},nee={collections:{type:"array",min:1,rules:{collectionId:{type:"string",allowEmpty:!1},createTime:{type:"number"}}}},ree={serverExtension:{type:"string",required:!1},collection:{type:"object",rules:{collectionId:{type:"string",allowEmpty:!1},collectionType:{type:"number"},createTime:{type:"number"}}}},OV={beginTime:{type:"number",required:!1},endTime:{type:"number",required:!1},limit:{type:"number",min:1,required:!1},direction:{type:"enum",required:!1,values:[1,0]},collectionType:{type:"number",required:!1},anchorCollection:{type:"object",required:!1,rules:{collectionId:{type:"string",allowEmpty:!1,required:!1},createTime:{type:"number",required:!1}}}},aee={keyword:{type:"string",allowEmpty:!1},beginTime:{type:"number",required:!1},endTime:{type:"number",required:!1},sortOrder:{type:"enum",values:[1,0],required:!1},conversationLimit:{type:"number",min:0,required:!1},messageLimit:{type:"number",min:1,required:!1},p2pAccountIds:{type:"array",required:!1,itemType:"string"},teamIds:{type:"array",required:!1,itemType:"string"},senderAccountIds:{type:"array",required:!1,itemType:"string"},messageTypes:{type:"array",required:!1,itemType:"enum",values:AS},messageSubtypes:{type:"array",required:!1,itemType:"number"}},iee={conversationId:{type:"string",required:!1,allowEmpty:!1},keywordList:{type:"array",required:!1,itemType:"string"},keywordMatchType:{type:"enum",values:[1,0],required:!1},senderAccountIds:{type:"array",required:!1,itemType:"string"},messageTypes:{type:"array",required:!1,itemType:"enum",values:AS},messageSubtypes:{type:"array",required:!1,itemType:"number"},searchStartTime:{type:"number",required:!1},searchTimePeriod:{type:"number",required:!1},limit:{type:"number",min:1,required:!1},direction:{type:"enum",values:[0,1],required:!1},pageToken:{type:"string",required:!1}},oee={message:{type:"object",rules:{receiverId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1},conversationType:{type:"enum",values:[2]}}}},see={messages:{type:"array",rules:{receiverId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1},conversationType:{type:"enum",values:[2]}},min:1}},Dx={sceneName:{type:"string",required:!1},name:{type:"string",required:!1}},kV=ce(ce({},Dx),{duration:{type:"number",required:!1}}),lee=ce(ce({},kV),{width:{type:"number",required:!1},height:{type:"number",required:!1}}),cee=ce(ce({},Dx),{width:{type:"number",required:!1},height:{type:"number",required:!1}}),uee={messageRefer:{type:"object",required:!0,rules:mv},beginTime:{type:"number",required:!1},endTime:{type:"number",required:!1},limit:{type:"number",min:1,required:!1},direction:{type:"enum",values:[1,0],required:!1},excludeMessageServerId:{type:"string",required:!1,allowEmpty:!1}},dee={senderId:{type:"string",allowEmpty:!1},receiverId:{type:"string",allowEmpty:!1},createTime:{type:"number"},messageClientId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1}},pee={subType:{type:"number",min:0,required:!1},text:{type:"string",required:!1},attachment:{type:"object",required:!1},serverExtension:{type:"string",required:!1},routeConfig:{type:"object",required:!1,rules:_V},pushConfig:{type:"object",required:!1,rules:xV},antiSpamConfig:{type:"object",required:!1,rules:wV},clientAntispamEnabled:{type:"boolean",required:!1},clientAntispamReplace:{type:"string",required:!1}},LV={messageClientId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1},createTime:{type:"number"},aiConfig:{type:"object",rules:Lx}},mee={operationType:{type:"enum",values:[0,1,2]},updateContent:{type:"string",allowEmpty:!0,required:!1}},fee={operationType:{type:"enum",values:[2,1],required:!0}},gee=function(){function p(f,o){this.p2pMessageReceipts={},this.core=f,this.service=o}var y=p.prototype;return y.reset=function(){this.p2pMessageReceipts={}},y.sendP2PMessageReceipt=function(o){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(ge(XZ,o,"",!0),o.senderId!==this.core.account){c.next=3;break}throw new il({detail:{reason:"sendP2PMessageReceipt. sender: "+o.senderId+" is not allowed to send msg receipt"}});case 3:return c.next=5,this.core.sendCmd("v2SendP2PMessageReceipt",{tag:{receiverId:o.senderId,messageClientId:o.messageClientId,createTime:o.createTime}});case 5:case"end":return c.stop()}},a,this)}))},y.isPeerRead=function(o){if(o.conversationType!==1||o.senderId!==this.core.account)return!1;if(o.senderId===this.core.account&&o.receiverId===this.core.account)return!0;var a=this.core.V2NIMConversationIdUtil.messageConversationId(o),l=this.p2pMessageReceipts[a]||0;return o.createTime<=l},y.getP2PMessageReceipt=function(o){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(Za(this.core.account,o),this.core.V2NIMConversationIdUtil.parseConversationType(o)===1){c.next=4;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getP2PMessageReceipt: conversationId is not p2p conversationId"}});case 4:return c.abrupt("return",{conversationId:o,timestamp:this.p2pMessageReceipts[o]||0});case 5:case"end":return c.stop()}},a,this)}))},y.getTeamMessageReceipts=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u=this;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(ge(see,{messages:o},"",!0),!Mi(o).call(o,function(x){return x.senderId!==u.core.account})){C.next=3;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getTeamMessageReceipts: exist messages senderId is not current user"}});case 3:if(!Mi(o).call(o,function(x){return x.receiverId!==o[0].receiverId})){C.next=5;break}throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"getTeamMessageReceipts: exist messages receiverId is not same"}});case 5:return C.next=7,this.core.sendCmd("v2GetTeamMessageReceipts",{tag:o});case 7:return c=C.sent,C.abrupt("return",Qe(l=c.content.data).call(l,function(x){return ce(ce({},x),{conversationId:u.core.V2NIMConversationIdUtil.teamConversationId(x.receiverId)})}));case 9:case"end":return C.stop()}},a,this)}))},y.getTeamMessageReceiptDetail=function(o){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(ge(oee,{message:o},"",!0),o.senderId===this.core.account){u.next=3;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getTeamMessageReceiptDetail::senderId "+o.senderId+" incorrect"}});case 3:return u.next=5,this.core.sendCmd("v2GetTeamMessageReceiptDetail",{tag:o});case 5:return l=u.sent,u.abrupt("return",{readReceipt:{conversationId:this.core.V2NIMConversationIdUtil.teamConversationId(o.receiverId),messageClientId:o.messageClientId,messageServerId:o.messageServerId,readCount:l.content.readAccountList.length,unreadCount:l.content.unreadAccountList.length},readAccountList:l.content.readAccountList,unreadAccountList:l.content.unreadAccountList});case 7:case"end":return u.stop()}},a,this)}))},y.sendTeamMessageReceipts=function(o){return le(this,void 0,void 0,q.mark(function a(){var l=this;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!Mi(o).call(o,function(h){return h.conversationId!==o[0].conversationId})){u.next=2;break}throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"getTeamMessageReceipts: conversationId not same"}});case 2:if(ge(JZ,{messages:o},"",!0),!Mi(o).call(o,function(h){return h.senderId===l.core.account})){u.next=5;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getTeamMessageReceipts: exist messages senderId is not current user"}});case 5:return u.next=7,this.core.sendCmd("v2SendTeamMessageReceipts",{tag:o});case 7:return u.abrupt("return");case 8:case"end":return u.stop()}},a,this)}))},y.syncP2PMessagReceiptsHandler=function(o){var a,l=this,c=Qe(a=o.content.data).call(a,function(u){var h=l.core.V2NIMConversationIdUtil.p2pConversationId(u.senderId),C=u.createTime;return l.p2pMessageReceipts[h]=C,{conversationId:h,timestamp:C}});this.service.emit("onReceiveP2PMessageReadReceipts",c)},y.onP2PMessageReceiptsHandler=function(o){var a=this.core.V2NIMConversationIdUtil.p2pConversationId(o.content.data.senderId),l=o.content.data.createTime;this.p2pMessageReceipts[a]=l,this.service.emit("onReceiveP2PMessageReadReceipts",[{conversationId:a,timestamp:l}])},y.onTeamMessageReceiptsHandler=function(o){var a,l=this,c=Qe(a=o.content.data).call(a,function(u){return{conversationId:l.core.V2NIMConversationIdUtil.teamConversationId(u.receiverId),messageServerId:u.messageServerId,messageClientId:u.messageClientId,readCount:u.readCount,unreadCount:u.unreadCount,latestReadAccount:u.latestReadAccount}});this.service.emit("onReceiveTeamMessageReadReceipts",c)},p}(),hee={"31_1":"v2TeamCreate","32_1":"v2SuperTeamCreate","31_5":"v2TeamInviteMembers","32_5":"v2SuperTeamInviteMembers","31_6":"v2TeamKickMembers","32_6":"v2SuperTeamKickMembers","31_8":"v2TeamLeave","32_7":"v2SuperTeamLeave","31_7":"v2TeamUpdateInfo","32_8":"v2SuperTeamUpdateInfo","31_9":"v2TeamGetInfo","32_9":"v2SuperTeamGetInfo","31_12":"v2TeamDismiss","32_4":"v2SuperTeamDismiss","31_13":"v2TeamApplyToJoin","32_20":"v2SuperTeamApplyToJoin","31_14":"v2TeamAcceptJoinApplication","32_21":"v2SuperTeamAcceptJoinApplication","31_15":"v2TeamRejectJoinApplication","32_22":"v2SuperTeamRejectJoinApplication","31_16":"v2TeamAddManagers","32_26":"v2SuperTeamAddManagers","31_17":"v2TeamRemoveManagers","32_27":"v2SuperTeamRemoveManagers","31_18":"v2TeamTransferOwner","32_31":"v2SuperTeamTransferOwner","31_19":"v2TeamUpdateSelfMemberInfo","32_10":"v2SuperTeamUpdateSelfMemberInfo","31_20":"v2TeamUpdateMember","32_30":"v2SuperTeamUpdateMember","31_21":"v2TeamAcceptInvitation","32_23":"v2SuperTeamAcceptInvitation","31_22":"v2TeamRejectInvite","32_24":"v2SuperTeamRejectInvite","31_33":"v2TeamGetMemberInvitor","32_35":"v2SuperTeamGetMemberInvitor","31_25":"v2TeamMemberSetChatBannedStatus","32_29":"v2SuperTeamMemberSetChatBannedStatus","31_32":"v2TeamSetChatBannedMode","32_28":"v2SuperTeamSetChatBannedMode","31_34":"v2TeamGetByIds","32_36":"v2SuperTeamGetByIds","31_35":"v2TeamMemberGetListByIds","32_37":"v2SuperTeamMemberGetListByIds","31_36":"v2TeamMemberGetList","8_101":"v2TeamCreateMultiSync","8_109":"v2TeamSync","8_119":"v2TeamMemberUpdateMultiSync","8_126":"v2TeamMembersOfSelfInSync","21_101":"v2SuperTeamCreateMultiSync","21_109":"v2SuperTeamSync","21_110":"v2SuperTeamMemberUpdateMultiSync","21_111":"v2SuperTeamMembersOfSelfInSync"},CC={antispamBusinessId:1},_r="V2NIMTeamService",Zi={teamId:1,name:3,teamType:{id:4,retConverter:function(y){return+y==0?1:+y}},ownerAccountId:5,memberLimit:{id:6,retType:"number"},isValidTeam:{id:8,retConverter:function(y,f){return+y==1&&(f[13]===void 0||+f[13]==1)}},memberCount:{id:9,retType:"number"},memberUpdateTime:{id:10,retType:"number"},createTime:{id:11,retType:"number"},updateTime:{id:12,retType:"number"},intro:14,announcement:15,joinMode:{id:16,retType:"number"},serverExtension:18,customerExtension:19,avatar:20,agreeMode:{id:21,retType:"number"},inviteMode:{id:22,retType:"number"},updateInfoMode:{id:23,retType:"number"},updateExtensionMode:{id:24,retType:"number"},chatBannedMode:{id:101,retType:"number"}},pd={teamId:1,accountId:3,memberRole:{id:4,retType:"number"},teamNick:5,bits:{id:7,retType:"number"},inTeam:{id:9,retType:"boolean"},joinTime:{id:10,retType:"number"},updateTime:{id:11,retType:"number"},serverExtension:12,chatBanned:{id:13,retType:"boolean"},invitorAccountId:14,followAccountIds:{id:16,retConverter:function(y){try{return JSON.parse(y)}catch{return[]}}}},Up={teamId:1,accountId:3,memberRole:{id:4,retType:"number"},teamNick:5,bits:{id:7,retType:"number"},inTeam:{id:9,retType:"boolean"},updateTime:{id:11,retType:"number"},serverExtension:12,chatBanned:{id:13,retType:"boolean"},invitorAccountId:14,joinTime:{id:15,retType:"number"},followAccountIds:{id:17,retConverter:function(y){try{return JSON.parse(y)}catch{return[]}}}},PV={accountIds:{id:1,converter:function(y){return $t(y)}},operation:2},vee={v2TeamCreate:{sid:31,cid:1,service:_r,params:[{type:"Property",name:"team",reflectMapper:Zi},{type:"StrArray",name:"inviteeAccountIds"},{type:"String",name:"postscript"},{type:"Property",name:"antispamConfig",reflectMapper:CC}],response:[{type:"Property",name:"team",reflectMapper:dt(Zi)},{type:"StrArray",name:"failedList"}]},v2SuperTeamCreate:{sid:32,cid:1,service:_r,params:[{type:"Property",name:"team",reflectMapper:Zi},{type:"StrArray",name:"inviteeAccountIds"},{type:"String",name:"postscript"},{type:"Property",name:"antispamConfig",reflectMapper:CC}],response:[{type:"Property",name:"team",reflectMapper:dt(Zi)},{type:"StrArray",name:"failedList"}]},v2TeamInviteMembers:{sid:31,cid:5,service:_r,params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"},{type:"String",name:"ps"},{type:"String",name:"attach"}],response:[{type:"Long",name:"time"},{type:"StrArray",name:"abortedAccidList"}]},v2SuperTeamInviteMembers:{sid:32,cid:5,service:_r,params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"},{type:"String",name:"ps"},{type:"String",name:"attach"}],response:[{type:"StrArray",name:"abortedAccidList"},{type:"Long",name:"time"}]},v2TeamUpdateInfo:{sid:31,cid:7,service:_r,params:[{type:"Property",name:"team",reflectMapper:Zi},{type:"Property",name:"antispamConfig",reflectMapper:CC}],response:[{type:"Long",name:"teamId"},{type:"Long",name:"timestamp"}]},v2SuperTeamUpdateInfo:{sid:32,cid:8,service:_r,params:[{type:"Property",name:"team",reflectMapper:Zi},{type:"Property",name:"antispamConfig",reflectMapper:CC}],response:[{type:"Long",name:"timestamp"}]},v2TeamLeave:{sid:31,cid:8,service:_r,params:[{type:"Long",name:"teamId"}]},v2SuperTeamLeave:{sid:32,cid:7,service:_r,params:[{type:"Long",name:"teamId"}]},v2TeamGetInfo:{sid:31,cid:9,service:_r,params:[{type:"Long",name:"teamId"}],response:[{type:"Property",name:"team",reflectMapper:dt(Zi)}]},v2SuperTeamGetInfo:{sid:32,cid:9,service:_r,params:[{type:"Long",name:"teamId"}],response:[{type:"Property",name:"team",reflectMapper:dt(Zi)}]},v2TeamGetByIds:{sid:31,cid:34,service:_r,params:[{type:"LongArray",name:"teamIds"}],response:[{type:"PropertyArray",name:"teams",reflectMapper:dt(Zi)},{type:"LongArray",name:"tids"}]},v2SuperTeamGetByIds:{sid:32,cid:36,service:_r,params:[{type:"LongArray",name:"teamIds"}],response:[{type:"PropertyArray",name:"teams",reflectMapper:dt(Zi)},{type:"LongArray",name:"tids"}]},v2TeamDismiss:{sid:31,cid:12,service:_r,params:[{type:"Long",name:"teamId"}]},v2SuperTeamDismiss:{sid:32,cid:4,service:_r,params:[{type:"Long",name:"teamId"}]},v2TeamAcceptInvitation:{sid:31,cid:21,service:_r,params:[{type:"Long",name:"teamId"},{type:"String",name:"from"}],response:[{type:"Property",name:"team",reflectMapper:dt(Zi)}]},v2SuperTeamAcceptInvitation:{sid:32,cid:23,service:_r,params:[{type:"Long",name:"teamId"},{type:"String",name:"from"}],response:[{type:"Property",name:"team",reflectMapper:dt(Zi)}]},v2TeamRejectInvite:{sid:31,cid:22,service:_r,params:[{type:"Long",name:"teamId"},{type:"String",name:"from"},{type:"String",name:"ps"}]},v2SuperTeamRejectInvite:{sid:32,cid:24,service:_r,params:[{type:"Long",name:"teamId"},{type:"String",name:"from"},{type:"String",name:"ps"}]},v2TeamKickMembers:{sid:31,cid:6,service:_r,params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}]},v2SuperTeamKickMembers:{sid:32,cid:6,service:_r,params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}]},v2TeamApplyToJoin:{sid:31,cid:13,service:_r,params:[{type:"Long",name:"teamId"},{type:"String",name:"ps"}],response:[{type:"Property",name:"team",reflectMapper:dt(Zi)},{type:"Int",name:"isInTeam"}]},v2SuperTeamApplyToJoin:{sid:32,cid:20,service:_r,params:[{type:"Long",name:"teamId"},{type:"String",name:"ps"}],response:[{type:"Property",name:"team",reflectMapper:dt(Zi)},{type:"Int",name:"isInTeam"}]},v2TeamAcceptJoinApplication:{sid:31,cid:14,service:_r,params:[{type:"Long",name:"teamId"},{type:"String",name:"from"}]},v2SuperTeamAcceptJoinApplication:{sid:32,cid:21,service:_r,params:[{type:"Long",name:"teamId"},{type:"String",name:"from"}]},v2TeamRejectJoinApplication:{sid:31,cid:15,service:_r,params:[{type:"Long",name:"teamId"},{type:"String",name:"from"},{type:"String",name:"ps"}]},v2SuperTeamRejectJoinApplication:{sid:32,cid:22,service:_r,params:[{type:"Long",name:"teamId"},{type:"String",name:"from"},{type:"String",name:"ps"}]},v2TeamAddManagers:{sid:31,cid:16,service:_r,params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}]},v2SuperTeamAddManagers:{sid:32,cid:26,service:_r,params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}]},v2TeamRemoveManagers:{sid:31,cid:17,service:_r,params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}]},v2SuperTeamRemoveManagers:{sid:32,cid:27,service:_r,params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}]},v2TeamTransferOwner:{sid:31,cid:18,service:_r,params:[{type:"Long",name:"teamId"},{type:"String",name:"account"},{type:"Bool",name:"leave"}]},v2SuperTeamTransferOwner:{sid:32,cid:31,service:_r,params:[{type:"Long",name:"teamId"},{type:"String",name:"account"},{type:"Bool",name:"leave"}]},v2TeamUpdateSelfMemberInfo:{sid:31,cid:19,service:_r,params:[{type:"Property",name:"teamMember",reflectMapper:pd},{type:"Property",name:"specialFollowUpdate",reflectMapper:PV}],response:[{type:"Property",name:"data",reflectMapper:dt(pd)}]},v2SuperTeamUpdateSelfMemberInfo:{sid:32,cid:10,service:_r,params:[{type:"Property",name:"teamMember",reflectMapper:Up},{type:"Property",name:"specialFollowUpdate",reflectMapper:PV}],response:[{type:"Property",name:"data",reflectMapper:dt(Up)}]},v2TeamUpdateMember:{sid:31,cid:20,service:_r,params:[{type:"Property",name:"teamMember",reflectMapper:pd}]},v2SuperTeamUpdateMember:{sid:32,cid:30,service:_r,params:[{type:"Property",name:"teamMember",reflectMapper:Up}]},v2TeamGetMemberInvitor:{sid:31,cid:33,service:_r,params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}],response:[{type:"StrStrMap",name:"accountsMap"}]},v2SuperTeamGetMemberInvitor:{sid:32,cid:35,service:_r,params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}],response:[{type:"StrStrMap",name:"accountsMap"}]},v2TeamMemberSetChatBannedStatus:{sid:31,cid:25,service:_r,params:[{type:"Long",name:"teamId"},{type:"String",name:"accountId"},{type:"Int",name:"chatBanned"}]},v2SuperTeamMemberSetChatBannedStatus:{sid:32,cid:29,service:_r,params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accountId"},{type:"Int",name:"chatBanned"}]},v2TeamSetChatBannedMode:{sid:31,cid:32,service:_r,params:[{type:"Long",name:"teamId"},{type:"Int",name:"chatBannedMode"}]},v2SuperTeamSetChatBannedMode:{sid:32,cid:28,service:_r,params:[{type:"Long",name:"teamId"},{type:"Int",name:"chatBannedMode"}]},v2TeamMemberGetListByIds:{sid:31,cid:35,service:_r,params:[{type:"StrArray",name:"tag"}],response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(pd)}]},v2SuperTeamMemberGetListByIds:{sid:32,cid:37,service:_r,params:[{type:"StrArray",name:"tag"}],response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(Up)}]},v2TeamMemberGetList:{sid:31,cid:36,service:_r,params:[{type:"Property",name:"tag",reflectMapper:{teamId:1,teamType:2,roleQueryType:3,onlyChatBanned:{id:4,converter:function(y){return+y}},nextToken:5,limit:6,direction:7}}],response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(pd)},{type:"Property",name:"pageInfo",reflectMapper:{1:"hasMore",2:"nextToken"}}]},v2TeamSync:{sid:8,cid:109,service:_r,response:[{type:"Long",name:"timetag"},{type:"PropertyArray",name:"datas",reflectMapper:dt(Zi)}]},v2TeamCreateMultiSync:{sid:8,cid:101,service:_r,response:[{type:"Property",name:"data",reflectMapper:dt(Zi)}]},v2TeamMemberUpdateMultiSync:{sid:8,cid:119,service:_r,response:[{type:"Property",name:"data",reflectMapper:dt(pd)}]},v2TeamMembersOfSelfInSync:{sid:8,cid:126,service:_r,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(pd)},{type:"Long",name:"timetag"}]},v2SuperTeamSync:{sid:21,cid:109,service:_r,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(Zi)},{type:"Bool",name:"isAll"},{type:"Long",name:"timetag"}]},v2SuperTeamCreateMultiSync:{sid:21,cid:101,service:_r,response:[{type:"Property",name:"data",reflectMapper:dt(Zi)}]},v2SuperTeamMemberUpdateMultiSync:{sid:21,cid:110,service:_r,response:[{type:"Property",name:"data",reflectMapper:dt(Up)}]},v2SuperTeamMembersOfSelfInSync:{sid:21,cid:111,service:_r,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(Up)},{type:"Long",name:"timetag"}]}};function DV(p,y){if(!p)return{};var f=p;return f.tinfo&&(f.tinfo=function(a){return Rr(a,dt(Zi))}(f.tinfo),f.tinfo.teamType=y),f.uinfos,f.mute!==void 0&&(f.mute=un(f.mute)),f}function jV(p,y,f){return f===void 0&&(f={}),ce({teamId:p,teamType:y,name:"",ownerAccountId:"",memberLimit:0,memberCount:0,createTime:0,updateTime:0,intro:"",announcement:"",avatar:"",joinMode:0,agreeMode:0,inviteMode:0,updateInfoMode:0,updateExtensionMode:0,chatBannedMode:0,isValidTeam:!0},f)}function Bp(p,y,f,o){return o===void 0&&(o={}),ce({teamId:p,teamType:y,accountId:f,joinTime:0,inTeam:!0,memberRole:0,chatBanned:!1},o)}function VV(p,y){return y===void 0&&(y=1),Qe(p).call(p,function(f){return function(a,l){return l===void 0&&(l=1),a.teamType=l,a.chatBanned=a.chatBanned!==void 0&&a.chatBanned,a}(f,y)})}function ko(p,y){var f,o=ce(ce({},y),{conversationId:p.V2NIMConversationIdUtil.messageConversationId(y),isSelf:y.senderId===p.account,sendingState:1,messageStatus:{errorCode:((f=y==null?void 0:y.messageStatus)===null||f===void 0?void 0:f.errorCode)||200}});if(o.threadReply&&(o.threadReply=ce(ce({},o.threadReply),{conversationType:o.conversationType,conversationId:o.conversationId})),o.threadRoot&&(o.threadRoot=ce(ce({},o.threadRoot),{conversationType:o.conversationType,conversationId:o.conversationId})),o.isInBlackList&&(o.sendingState=2,o.messageStatus.errorCode=it.V2NIM_ERROR_CODE_ACCOUNT_IN_BLOCK_LIST,delete o.isInBlackList),o.streamConfig){var a=Ht(o.streamConfig,"isStream");if(a===!1)delete o.streamConfig;else if(a===!0&&o.streamConfig.status===void 0)delete o.streamConfig,y.aiConfig&&(y.aiConfig.aiStream=!0,y.aiConfig.aiStreamStatus=0);else if(typeof o.streamConfig.status=="number")return o.streamConfig={status:o.streamConfig.status},function(c){if(c.streamConfig&&c.aiConfig&&(c.aiConfig.aiStream=!0,c.aiConfig.aiStreamStatus=c.streamConfig.status),c.attachment&&c.streamConfig){var u=c.attachment;c.streamConfig.lastChunk={content:u.msg,messageTime:c.createTime,chunkTime:u.timestamp,type:u.type,index:u.index},c.aiConfig&&(c.aiConfig.aiStreamLastChunk=c.streamConfig.lastChunk),delete c.attachment}return c}(o)}return jx(o,p)}function jx(p,y){return p.messageType===5?function(o,a){var l,c,u,h,C,x=a.attachment||{};if(a.attachment&&"type"in a.attachment)return a;var k=void 0;if(!((l=x.data)===null||l===void 0)&&l.tinfo){var B=x.id,W=x.data,Y=B>400?2:1,ne=DV(ce({},W),Y).tinfo;k={},ne.teamId,k=Ja(ne,["teamId"])}var se=ce(ce(ce(ce({raw:x.raw,type:yee(o,x.id)},k?{updatedTeamInfo:k}:{}),{targetIds:((c=x.data)===null||c===void 0?void 0:c.ids)||(!((u=x.data)===null||u===void 0)&&u.id?[x.data.id]:[])}),typeof((h=x.data)===null||h===void 0?void 0:h.attach)=="string"?{serverExtension:x.data.attach}:{}),typeof((C=x.data)===null||C===void 0?void 0:C.mute)=="number"?{chatBanned:x.data.mute!==0}:{});return ce(ce({},a),{attachment:se})}(y,p):p.messageType===100?function(o,a){var l,c,u;if(typeof((l=a.attachment)===null||l===void 0?void 0:l.raw)=="string"&&((u=(c=o.V2NIMMessageService)===null||c===void 0?void 0:c.customAttachmentParsers)===null||u===void 0?void 0:u.length)>0){var h=a.subType||0,C=o.V2NIMMessageService.customAttachmentParsers,x=a.attachment.raw;Mi(C).call(C,function(k){try{var B=k(h,x);if(lu(B))return B.raw=x,a.attachment=B,!0}catch(W){return o.logger.warn("customAttachmentParser: subType "+h+", raw: "+x+". parse error with "+W),!1}return!1})}return a}(y,p):p}function OS(p,y){return ce(ce({},y),{conversationId:p.V2NIMConversationIdUtil.messageConversationId(y)})}function md(p,y){var f=y.createTime,o=y.senderId,a=y.receiverId,l=y.conversationType;return{conversationType:l,conversationId:p.V2NIMConversationIdUtil.messageConversationId({conversationType:l,senderId:o,receiverId:a}),senderId:y.senderId,receiverId:y.receiverId,messageServerId:y.messageServerId,createTime:f,messageClientId:y.messageClientId}}function $V(p,y){var f={7:1,8:2,12:3,13:1,14:2}[y.sysMsgType];return{postscript:y.postscript,revokeType:{7:1,8:2,12:3,13:4,14:5}[y.sysMsgType]||0,revokeAccountId:y.opeAccount||y.senderId,callbackExtension:y.callbackExtension,serverExtension:y.attach||"",messageRefer:{conversationType:f,conversationId:p.V2NIMConversationIdUtil.messageConversationId(ce(ce({},y),{conversationType:f,senderId:y.senderId,receiverId:y.receiverId})),senderId:y.senderId,receiverId:y.receiverId,messageServerId:y.messageServerId,createTime:y.deleteMsgCreatetime,messageClientId:y.messageClientId}}}function Vx(p,y){return{conversationId:y.conversationType===1?p.V2NIMConversationIdUtil.p2pConversationId(y.receiverId):y.conversationType===2?p.V2NIMConversationIdUtil.teamConversationId(y.teamId):p.V2NIMConversationIdUtil.superTeamConversationId(y.teamId),deleteTime:y.deleteTime,serverExtension:y.serverExtension}}function yee(p,y){var f={0:0,401:401,1:1,402:402,2:2,403:403,3:3,404:404,4:4,405:405,5:5,410:410,6:6,406:406,7:7,407:407,8:8,408:408,9:9,411:411,10:10,409:409};return f[y]===void 0&&p.logger.warn("[V2NIMMessageService] undefined notification type: "+y),typeof f[y]=="number"?f[y]:-1}function bee(p,y){var f=[],o={};for(var a in rt(y).call(y,function(c){var u=c.conversationId;o[u]||(o[u]={conversationId:u,messages:[],count:0}),o[u].messages.push(c),o[u].count++}),o){var l=o[a];f.push(l)}return f}function kS(p,y){if(!y)return"";switch(p){case 100:return y.raw||"";case 1:case 3:case 2:case 6:return function(o){var a=o,l=a.width,c=a.height,u=a.duration;a.path,a.file,a.raw,a.ctx,a.payload,a.bucketName,a.objectName,a.token;var h=a.ext,C=Ja(a,["width","height","duration","path","file","raw","ctx","payload","bucketName","objectName","token","ext"]),x=typeof h=="string"&&h[0]==="."?zn(h).call(h,1):h;return $t(ce(ce(ce(ce(ce({},C),h===void 0?{}:{ext:x}),l===void 0?{}:{w:l}),c===void 0?{}:{h:c}),u===void 0?{}:{dur:u}))}(y);case 4:return function(o){return $t({lat:o.latitude,lng:o.longitude,title:o.address})}(y);case 12:return function(o){o.raw;var a=Ja(o,["raw"]);try{var l;return $t(ce(ce({},a),{durations:Qe(l=o.durations).call(l,function(c){return{accid:c.accountId,duration:c.duration}})}))}catch{return $t(o)}}(y);default:return y.raw||$t(y)}}function See(p,y){var f;try{switch(f=JSON.parse(p),y){case 100:return{raw:p};case 4:return function(a,l){return{latitude:l.lat,longitude:l.lng,address:l.title,raw:a}}(p,f);case 2:case 3:case 1:case 6:return function(a,l){var c=l.w,u=l.h,h=l.dur,C=l.ext,x=Ja(l,["w","h","dur","ext"]),k=typeof C=="string"&&C[0]!=="."?"."+C:C;return ce(ce(ce(ce(ce(ce({},x),C===void 0?{}:{ext:k}),c===void 0?{}:{width:c}),u===void 0?{}:{height:u}),h===void 0?{}:{duration:h}),{raw:a})}(p,f);case 12:return function(a,l){var c;return ce(ce({},l),{durations:Qe(c=l.durations).call(c,function(u){return{accountId:u.accid,duration:u.duration}}),raw:a})}(p,f);default:return typeof f=="object"&&f?ce(ce({},f),{raw:p}):{raw:p}}}catch{return typeof f=="object"&&f?ce(ce({},f),{raw:p}):{raw:p}}}var UV=function(){function p(f){this.core=f}var y=p.prototype;return y.doSendFile=function(o,a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k,B,W;return q.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return c=o.attachment,ne.prev=1,ne.next=4,this.core.V2NIMStorageService._uploadFile({taskId:o.messageClientId,uploadParams:{fileObj:(c==null?void 0:c.file)||(c==null?void 0:c.path),sceneName:c==null?void 0:c.sceneName}},a,{fileType:o.messageType});case 4:for(B in(h=ne.sent)[0],C=h[1],x=ce(ce({},c),{uploadState:1}),C.w!==void 0&&(x.width=x.width||C.w),C.h!==void 0&&(x.height=x.height||C.h),C.dur!==void 0&&(x.duration=x.duration||C.dur),x.ext=x.ext&&dr(u=x.ext).call(u,".")===-1?"."+x.ext:x.ext,k=["w","h","dur","ext","name"],C)or(k).call(k,B)||(x[B]=C[B]);x.raw,x.file,x.path,W=Ja(x,["raw","file","path"]),o.attachment=JSON.parse($t(W)),o.attachment&&(o.attachment.raw=kS(o.messageType,o.attachment)),ne.next=23;break;case 19:throw ne.prev=19,ne.t0=ne.catch(1),o.attachment&&(o.attachment.uploadState=2),ne.t0;case 23:case"end":return ne.stop()}},l,this,[[1,19]])}))},y.cancelMessageAttachmentUpload=function(o){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(ge({messageClientId:{type:"string",allowEmpty:!1}},o,"",!0),or(l=[2,6,1,3]).call(l,o.messageType)){u.next=3;break}throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"cancelMessageAttachmentUpload: messageType "+o.messageType+" incorrect"}});case 3:if(o.sendingState!==2&&o.sendingState!==1){u.next=5;break}throw new Ct({code:it.V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST,detail:{reason:"cancelMessageAttachmentUpload: message is already failed or succeeded"}});case 5:return u.next=7,this.core.V2NIMStorageService._cancelUploadFile(o.messageClientId);case 7:case"end":return u.stop()}},a,this)}))},p}(),Ha="V2NIMMessageService",Iee={"30_1":"v2SendP2pMessage","31_2":"v2SendTeamMessage","30_31":"v2MessageP2pModify","31_37":"v2MessageTeamModify","32_38":"v2MessageSuperTeamModify","7_33":"v2MessageOnModified","4_27":"v2MessageSyncModified","4_28":"v2MessageSuperTeamSyncModified","4_5":"v2BatchMarkRead","4_12":"syncP2PMessagReceipts","30_11":"v2SendP2PMessageReceipt","31_28":"v2SendTeamMessageReceipts","32_2":"v2SendSuperTeamMessage","7_12":"onP2PMessageReceipts","8_31":"onTeamMessageReceipts","31_29":"v2GetTeamMessageReceipts","31_30":"v2GetTeamMessageReceiptDetail","7_2":"onMsg","8_3":"onMsg","7_101":"onMsg","8_102":"onMsg","21_3":"onMsg","21_102":"onMsg","4_4":"syncOfflineMsgs","4_9":"syncRoamingMsgs","4_17":"syncRoamingMsgs","30_13":"v2RevokeMessage","32_17":"v2RevokeSuperTeamMessage","7_14":"onRevokeMessage","7_15":"syncRevokeMessage","21_18":"onRevokeMessage","21_117":"onRevokeMessage","30_23":"v2DeleteMessage","30_24":"v2DeleteMessages","4_21":"syncOnDeleteMessages","7_123":"onDeleteMessage","7_124":"onDeleteMessages","29_17":"v2DownloadLocalAntiSpamVocabs"},Er={conversationType:{id:0,converter:TC,retConverter:Ux},receiverId:1,senderId:2,fromClientType:4,fromDeviceId:5,fromNick:6,createTime:{id:7,retType:"number"},messageType:{id:8,retType:"number"},text:9,attachment:{id:10,converter:function(y,f){return kS(f.messageType,y)},retConverter:function(y,f){return See(y,Number(f[8]))}},messageClientId:11,messageServerId:12,resend:{id:13,converter:la,retType:"boolean"},userUpdateTime:{id:14,retType:"number"},serverExtension:15,pushPayload:{id:16,access:"pushConfig.pushPayload"},pushContent:{id:17,access:"pushConfig.pushContent"},forcePushAccountIds:{id:18,access:"pushConfig.forcePushAccountIds",def:function(y){if(y["pushConfig.forcePush"])return"#%@all@%#"},converter:function(y,f){if(f["pushConfig.forcePush"])return y?$t(y):"#%@all@%#"},retConverter:function(y){if(y!=="#%@all@%#"&&y)try{return JSON.parse(y)}catch{return[]}}},forcePushContent:{id:19,access:"pushConfig.forcePushContent"},forcePush:{id:20,access:"pushConfig.forcePush",converter:la,retType:"boolean"},antispamCustomMessageEnabled:{id:21,def:function(y){return Ht(y,"antispamConfig.antispamCustomMessage")?1:void 0},retConverter:function(){}},antispamCustomMessage:{id:22,access:"antispamConfig.antispamCustomMessage"},antispamBusinessId:{id:23,access:"antispamConfig.antispamBusinessId"},clientAntispamHit:{id:24,access:"clientAntispamHit",converter:la,retType:"boolean"},antispamEnabled:{id:25,access:"antispamConfig.antispamEnabled",converter:la,retType:"boolean"},needAck:{id:26,access:"messageConfig.readReceiptEnabled",converter:la,retType:"boolean"},lastMessageUpdateEnabled:{id:28,access:"messageConfig.lastMessageUpdateEnabled",converter:la,retType:"boolean"},threadReplySenderId:{id:29,access:"threadReply.senderId"},threadReplyReceiverId:{id:30,access:"threadReply.receiverId"},threadReplyTime:{id:31,access:"threadReply.createTime",retType:"number"},threadReplyServerId:{id:32,access:"threadReply.messageServerId"},threadReplyClientId:{id:33,access:"threadReply.messageClientId"},threadRootSenderId:{id:34,access:"threadRoot.senderId"},threadRootReceiverId:{id:35,access:"threadRoot.receiverId"},threadRootTime:{id:36,access:"threadRoot.createTime",retType:"number"},threadRootServerId:{id:37,access:"threadRoot.messageServerId"},threadRootClientId:{id:38,access:"threadRoot.messageClientId"},isDeleted:{id:39,converter:la,retType:"boolean"},callbackExtension:40,subType:{id:41,retType:"number"},antispamCheating:{id:42,access:"antispamConfig.antispamCheating"},routeEnvironment:{id:43,access:"routeConfig.routeEnvironment"},antispamExtension:{id:44,access:"antispamConfig.antispamExtension"},antispamResult:45,__clientExt:{id:46,converter:yc,retConverter:cd},robotFunction:{id:47,access:"robotConfig.function"},robotTopic:{id:48,access:"robotConfig.topic"},robotCustomContent:{id:49,access:"robotConfig.customContent"},robotAccount:{id:50,access:"robotConfig.accountId"},_conversationOnlineSyncNotify:{id:51},_conversationOnlineSyncData:{id:52},aiAgentMsgDirection:{id:55,access:"aiConfig.aiStatus",retAccess:"aiConfig.aiStatus",retType:"number"},aiAgentAccount:{id:56,access:"aiConfig.accountId",retAccess:"aiConfig.accountId"},aiAgentContent:{id:57,access:"aiConfig.content",converter:yc,retConverter:du},aiAgentMessages:{id:58,access:"aiConfig.messages",converter:yc,retConverter:du},aiAgentPromptVariables:{id:59,access:"aiConfig.promptVariables",retConverter:du},aiAgentModelConfigParams:{id:60,access:"aiConfig.modelConfigParams",converter:yc,retConverter:du},errorCode:{id:61,access:"messageStatus.errorCode",converter:du,retType:"number"},modifyTime:{id:62,retType:"number"},modifyAccountId:63,aiStream:{id:65,access:"aiConfig.aiStream",retAccess:"streamConfig.isStream",converter:la,retConverter:eV},aiRAGs:{id:66,access:"aiConfig.aiRAGs",retConverter:function(y){try{var f=JSON.parse(y);return f&&f.length>0?Qe(f).call(f,function(o){return o.description=o.desc,delete o.desc,o}):[]}catch{return[]}}},aiStreamStatus:{id:67,access:"streamConfig.status",retType:"number"},historyEnabled:{id:100,access:"messageConfig.historyEnabled",converter:la,retType:"boolean"},roamingEnabled:{id:101,access:"messageConfig.roamingEnabled",converter:la,retType:"boolean"},onlineSyncEnabled:{id:102,access:"messageConfig.onlineSyncEnabled",converter:la,retType:"boolean"},routeEnabled:{id:105,access:"routeConfig.routeEnabled",converter:la,retType:"boolean"},isInBlackList:{id:106,access:"isInBlackList",converter:la,retType:"boolean"},pushEnable:{id:107,access:"pushConfig.pushEnabled",converter:la,retType:"boolean"},offlineEnabled:{id:108,access:"messageConfig.offlineEnabled",converter:la,retType:"boolean"},unreadEnabled:{id:109,access:"messageConfig.unreadEnabled",converter:la,retType:"boolean"},pushNickEnabled:{id:110,access:"pushConfig.pushNickEnabled",converter:la,retType:"boolean"},msgAckSnapshot:{id:112,retType:"number"},receiverIds:{id:154,access:"targetConfig.receiverIds",converter:yc,retConverter:function(){}},inclusive:{id:155,access:"targetConfig.inclusive",converter:function(y){return y?1:2},retConverter:function(){}},newMemberVisible:{id:156,access:"targetConfig.newMemberVisible",converter:function(y){return y?1:2},retConverter:function(){}}},$x=dt(Er),Fp={conversationType:{id:1,access:"messageRefer.conversationType",retType:"number"},senderId:{id:2,access:"messageRefer.senderId"},receiverId:{id:3,access:"messageRefer.receiverId"},messageServerId:{id:4,access:"messageRefer.messageServerId"},messageClientId:{id:5,access:"messageRefer.messageClientId"},createTime:{id:6,access:"messageRefer.createTime",retType:"number"},deleteTime:{id:7,retType:"number"},serverExtension:8};dt(Fp);var BV={version:1,md5:2,nosurl:3,thesaurus:4},$f={createTime:{id:0,retType:"number"},sysMsgType:1,receiverId:2,senderId:3,postscript:4,attach:5,pushContent:8,pushPayload:9,messageClientId:10,messageServerId:11,deleteMsgCreatetime:{id:14,retType:"number"},opeAccount:16,env:21,callbackExtension:22},Uf={receiverId:0,messageServerId:1,readCount:{id:100,retType:"number"},unreadCount:{id:101,retType:"number"},messageClientId:102,latestReadAccount:103},Eee={v2BatchMarkRead:{sid:4,cid:5,service:Ha,hasPacketResponse:!1,params:[{type:"Byte",name:"sid"},{type:"Byte",name:"cid"},{type:"LongArray",name:"ids"}]},v2SendP2pMessage:{sid:30,cid:1,service:Ha,params:[{type:"Property",name:"tag",reflectMapper:Er}],response:[{type:"Property",name:"data",reflectMapper:dt(Er)}]},onMsg:{sid:7,cid:2,service:Ha,response:[{type:"Property",name:"msg",reflectMapper:dt(Er)}]},syncOfflineMsgs:{sid:4,cid:4,service:Ha,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(Er)}]},syncRoamingMsgs:{sid:4,cid:9,service:Ha,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(Er)}]},v2SendP2PMessageReceipt:{sid:30,cid:11,service:Ha,params:[{type:"Property",name:"tag",reflectMapper:Er}],response:[{type:"Property",name:"data",reflectMapper:dt(Er)}]},v2RevokeMessage:{sid:30,cid:13,service:Ha,params:[{type:"Property",name:"tag",reflectMapper:$f}]},v2DeleteMessage:{sid:30,cid:23,service:Ha,params:[{type:"Property",name:"tag",reflectMapper:Fp}],response:[{type:"Long",name:"timetag"}]},v2DeleteMessages:{sid:30,cid:24,service:Ha,params:[{type:"PropertyArray",name:"tag",reflectMapper:Fp}],response:[{type:"Long",name:"timetag"}]},v2SendTeamMessage:{sid:31,cid:2,service:Ha,params:[{type:"Property",name:"tag",reflectMapper:Er}],response:[{type:"Property",name:"data",reflectMapper:dt(Er)}]},v2SendTeamMessageReceipts:{sid:31,cid:28,service:Ha,params:[{type:"PropertyArray",name:"tag",reflectMapper:Uf}],response:[{type:"PropertyArray",name:"tag",reflectMapper:dt(Uf)}]},v2SendSuperTeamMessage:{sid:32,cid:2,service:Ha,params:[{type:"Property",name:"tag",reflectMapper:Er}],response:[{type:"Property",name:"data",reflectMapper:dt(Er)}]},v2RevokeSuperTeamMessage:{sid:32,cid:17,service:Ha,params:[{type:"Property",name:"tag",reflectMapper:$f}]},syncP2PMessagReceipts:{sid:4,cid:12,service:Ha,response:[{type:"PropertyArray",name:"data",reflectMapper:dt(Er)}]},onP2PMessageReceipts:{sid:7,cid:12,service:Ha,response:[{type:"Property",name:"data",reflectMapper:dt(Er)}]},v2GetTeamMessageReceipts:{sid:31,cid:29,service:Ha,params:[{type:"PropertyArray",name:"tag",reflectMapper:Uf}],response:[{type:"PropertyArray",name:"data",reflectMapper:dt(Uf)}]},v2GetTeamMessageReceiptDetail:{sid:31,cid:30,service:Ha,params:[{type:"Property",name:"tag",reflectMapper:Uf,select:["receiverId","messageServerId"]}],response:[{type:"Property",name:"data",reflectMapper:dt(Uf)},{type:"StrArray",name:"readAccountList"},{type:"StrArray",name:"unreadAccountList"}]},onTeamMessageReceipts:{sid:8,cid:31,service:Ha,response:[{type:"PropertyArray",name:"data",reflectMapper:dt(Uf)}]},onRevokeMessage:{sid:7,cid:14,service:Ha,response:[{type:"Property",name:"data",reflectMapper:dt($f)}]},syncRevokeMessage:{sid:7,cid:15,service:Ha,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt($f)}]},syncOnDeleteMessages:{sid:4,cid:21,service:Ha,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(Fp)}]},onDeleteMessage:{sid:7,cid:123,service:Ha,response:[{type:"Property",name:"data",reflectMapper:dt(Fp)}]},onDeleteMessages:{sid:7,cid:124,service:Ha,response:[{type:"PropertyArray",name:"data",reflectMapper:dt(Fp)}]},v2DownloadLocalAntiSpamVocabs:{sid:29,cid:17,service:Ha,params:[{type:"Property",name:"tag",reflectMapper:BV}],response:[{type:"Property",name:"data",reflectMapper:dt(BV)}]},v2MessageP2pModify:{sid:30,cid:31,service:Ha,params:[{type:"Property",name:"tag",reflectMapper:Er}],response:[{type:"Property",name:"data",reflectMapper:dt(Er)}]},v2MessageTeamModify:{sid:31,cid:37,service:Ha,params:[{type:"Property",name:"tag",reflectMapper:Er}],response:[{type:"Property",name:"data",reflectMapper:dt(Er)}]},v2MessageSuperTeamModify:{sid:32,cid:38,service:Ha,params:[{type:"Property",name:"tag",reflectMapper:Er}],response:[{type:"Property",name:"data",reflectMapper:dt(Er)}]},v2MessageOnModified:{sid:7,cid:33,service:Ha,response:[{type:"Property",name:"data",reflectMapper:dt(Er)}]},v2MessageSyncModified:{sid:4,cid:27,service:Ha,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(Er)},{type:"Long",name:"time"}]},v2MessageSuperTeamSyncModified:{sid:4,cid:28,service:Ha,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(Er)},{type:"Long",name:"time"}]}};function TC(p){return p===1?0:p===2?1:p===3?5:void 0}function Ux(p){var y=un(p);return y===0?1:y===1?2:y===5?3:0}var qp="V2NIMNotificationService",Cee={"30_7":"v2SendCustomNotification","32_16":"v2SendCustomNotificationWithSuperTeam","7_3":"onSysNotification","21_19":"onSysNotification","4_6":"v2SyncOfflineSysNotifications","4_18":"v2SyncOfflineSysNotifications","7_14":"v2NotificationRevoke","21_18":"v2NotificationRevoke","21_117":"v2NotificationRevoke","4_19":"v2NotificationSyncRevoke","7_15":"v2NotificationSyncRevoke","4_16":"syncBroadcastMsg","7_17":"onBroadcastMsg"},fd={timestamp:{id:0,retType:"number"},type:{id:1,retType:"number"},receiverId:2,senderId:3,postscript:4,content:5,idServer:6,offlineEnabled:{id:7,converter:la,retConverter:function(y,f){return f[6]!=="0"&&!!un(y)},access:"notificationConfig.offlineEnabled"},pushContent:{id:8,access:"pushConfig.pushContent"},pushPayload:{id:9,access:"pushConfig.pushPayload"},deletedIdClient:10,deletedIdServer:11,antispamEnabled:{id:12,converter:la,retType:"boolean",access:"antispamConfig.antispamEnabled"},antispamCustomNotification:{id:13,access:"antispamConfig.antispamCustomNotification"},deletedMsgCreateTime:14,deletedMsgFromNick:15,opeAccount:16,forcePushAccountIds:{id:18,access:"pushConfig.forcePushAccountIds",def:function(y){if(y.type===101&&y["pushConfig.forcePush"])return"#%@all@%#"},converter:function(y,f){if(f["pushConfig.forcePush"])return y?$t(y):"#%@all@%#"},retConverter:function(y){if(y!=="#%@all@%#"&&y)try{return JSON.parse(y)}catch{return[]}}},forcePushContent:{id:19,access:"pushConfig.forcePushContent"},forcePush:{id:20,converter:la,retType:"boolean",access:"pushConfig.forcePush"},routeEnvironment:{id:21,access:"routeConfig.routeEnvironment"},callbackExt:22,clientNotificationId:{id:23,access:"notificationConfig.clientNotificationId"},conversationOnlineSyncNotify:24,conversationOnlineSyncData:25,routeEnabled:{id:105,converter:la,retType:"boolean",access:"routeConfig.routeEnabled"},pushEnabled:{id:107,converter:la,retType:"boolean",access:"pushConfig.pushEnabled"},unreadEnabled:{id:109,converter:la,retType:"boolean",access:"notificationConfig.unreadEnabled"},pushNickEnabled:{id:110,converter:la,retType:"boolean",access:"pushConfig.pushNickEnabled"}},FV={id:1,senderId:2,timestamp:{id:4,retType:"number"},content:5},Tee={v2SendCustomNotification:{sid:30,cid:7,service:qp,params:[{type:"Property",name:"tag",reflectMapper:fd}]},v2SendCustomNotificationWithSuperTeam:{sid:32,cid:16,service:qp,params:[{type:"Property",name:"tag",reflectMapper:fd}]},onSysNotification:{sid:7,cid:3,service:qp,response:[{type:"Property",name:"data",reflectMapper:dt(fd)}]},syncBroadcastMsg:{sid:4,cid:16,service:qp,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(FV)}]},onBroadcastMsg:{sid:7,cid:17,service:qp,response:[{type:"Property",name:"data",reflectMapper:dt(FV)}]},v2SyncOfflineSysNotifications:{sid:4,cid:9,service:qp,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(fd)}]},v2NotificationRevoke:{sid:7,cid:14,service:qp,response:[{type:"Property",name:"data",reflectMapper:dt(fd)}]},v2NotificationSyncRevoke:{sid:7,cid:15,service:qp,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(fd)},{type:"Long",name:"timetag"},{type:"Byte",name:"type"}]}},Bf="YSFService",Mee={"4_5":"ysfBatchMarkRead","101_1":"ysfSendMessage","101_2":"ysfOnMsg","4_100":"ysfSyncOfflineMsgs","101_3":"ysfOnSysNotification","101_7":"ysfSendCustomNotification","4_101":"ysfSyncSysNotification"},_ee={ysfBatchMarkRead:{sid:4,cid:5,service:Bf,hasPacketResponse:!1,params:[{type:"Byte",name:"sid"},{type:"Byte",name:"cid"},{type:"LongArray",name:"ids"}]},ysfSendMessage:{sid:101,cid:1,service:Bf,params:[{type:"Property",name:"tag",reflectMapper:Er}],response:[{type:"Property",name:"data",reflectMapper:dt(Er)}]},ysfOnMsg:{sid:101,cid:2,service:Bf,response:[{type:"Property",name:"data",reflectMapper:dt(Er)}]},ysfSyncOfflineMsgs:{sid:4,cid:100,service:Bf,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(Er)}]},ysfOnSysNotification:{sid:101,cid:3,service:Bf,response:[{type:"Property",name:"data",reflectMapper:dt(fd)}]},ysfSendCustomNotification:{sid:101,cid:7,service:Bf,params:[{type:"Property",name:"tag",reflectMapper:fd}]},ysfSyncSysNotification:{sid:4,cid:101,service:Bf,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(fd)}]}},qV={content:{type:"string",allowEmpty:!1},params:{type:"object",required:!1,rules:{notificationConfig:{type:"object",required:!1,rules:{offlineEnabled:{type:"boolean",required:!1},unreadEnabled:{type:"boolean",required:!1}}},pushConfig:{type:"object",required:!1,rules:{pushEnabled:{type:"boolean",required:!1},pushNickEnabled:{type:"boolean",required:!1},pushContent:{type:"string",required:!1},pushPayload:{type:"string",required:!1},forcePush:{type:"boolean",required:!1},forcePushContent:{type:"string",required:!1},forcePushAccountIds:{type:"array",required:!1,itemType:"string"}}},antispamConfig:{type:"object",required:!1,rules:{antispamEnabled:{type:"boolean",required:!1},antispamCustomNotification:{type:"string",required:!1}}},routeConfig:{type:"object",required:!1,rules:{routeEnabled:{type:"boolean",required:!1},routeEnvironment:{type:"string",required:!1}}}}}},zV=function(){function p(y){this.core=y}return p.prototype.generateNotificationTag=function(f,o,a){var l;a===void 0&&(a={});var c=this.core.V2NIMConversationIdUtil.parseConversationType(f),u=this.core.V2NIMConversationIdUtil.parseConversationTargetId(f),h=lr(),C=((l={})[1]=100,l[2]=101,l[3]=103,l);return ce(ce({},a),{notificationConfig:ce({unreadEnabled:!0,offlineEnabled:!0},a==null?void 0:a.notificationConfig),pushConfig:ce({pushEnabled:!0,pushNickEnabled:!0},a==null?void 0:a.pushConfig),antispamConfig:ce({antispamEnabled:!0},a==null?void 0:a.antispamConfig),routeConfig:ce({routeEnabled:!0},a==null?void 0:a.routeConfig),timestamp:h,type:C[c],receiverId:u,content:o})},p}();function HV(p){var y=typeof p=="object"?p:void 0,f=typeof p=="string"?p:void 0;if(!y&&!f)throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"getFileOrPath::incorrect file and path"}});if(typeof f=="string"){if(dr(f).call(f,"nim-external")===0){var o=document.getElementById(f);if(!(o&&o.files&&o.files[0]))throw new Ct({code:it.V2NIM_ERROR_CODE_FILE_NOT_FOUND,detail:{reason:"getFileOrPath::file not exist: "+f}});y=o.files[0]}else if(rn.platform==="BROWSER")throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"getFileOrPath::incorrect path: "+f}})}if(typeof y=="object"&&y.size===void 0)throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"getFileOrPath::file no size"}});return{file:y,path:f}}var GV,KV,WV={attachment:{type:"object",rules:{url:{type:"string",allowEmpty:!1}}},thumbSize:{type:"object",rules:{width:{type:"number",required:!1,min:0},height:{type:"number",required:!1,min:0}}}},YV=function(p){function y(o){var a;return(a=p.call(this,"V2NIMStorageUtil",o)||this).core=o,a}pr(y,p);var f=y.prototype;return f.imageThumbUrl=function(a,l){return a+"?imageView&thumbnail="+l+"z"+l},f.videoCoverUrl=function(a,l){return a+"?vframe&offset="+l},f.getImageThumbUrl=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return this.checkV2(),ge(WV,{attachment:u=a,thumbSize:l},"",!0),l.width=l.width||0,l.height=l.height||0,l.width===0&&l.height===0&&(l.width=150),h=u.url,x.prev=7,x.next=10,this.core.V2NIMStorageService.shortUrlToLong(u.url);case 10:h=x.sent,x.next=16;break;case 13:x.prev=13,x.t0=x.catch(7),this.core.logger.warn("shortUrlToLong error:",x.t0);case 16:return x.abrupt("return",{url:this.core.cloudStorage.getThumbUrl(h,l)});case 17:case"end":return x.stop()}},c,this,[[7,13]])}))},f.getVideoCoverUrl=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return this.checkV2(),ge(WV,{attachment:u=a,thumbSize:l},"",!0),l.width=l.width||0,l.height=l.height||0,l.width===0&&l.height===0&&(l.width=150),h=u.url,x.prev=7,x.next=10,this.core.V2NIMStorageService.shortUrlToLong(u.url);case 10:h=x.sent,x.next=16;break;case 13:x.prev=13,x.t0=x.catch(7),this.core.logger.warn("shortUrlToLong error:",x.t0);case 16:return x.abrupt("return",{url:this.core.cloudStorage.getVideoCoverUrl(h,l)});case 17:case"end":return x.stop()}},c,this,[[7,13]])}))},y}(ji),xee={file:{md5:"$(Etag)",size:"$(ObjectSize)"},image:{md5:"$(Etag)",size:"$(ObjectSize)",w:"$(ImageInfo.Width)",h:"$(ImageInfo.Height)",orientation:"$(ImageInfo.Orientation)"},audio:{md5:"$(Etag)",size:"$(ObjectSize)",dur:"$(AVinfo.Audio.Duration)"},video:{md5:"$(Etag)",size:"$(ObjectSize)",dur:"$(AVinfo.Video.Duration)",w:"$(AVinfo.Video.Width)",h:"$(AVinfo.Video.Height)"}},wee={accessKeyId:"",secretAccessKey:"",sessionToken:"",region:"",maxRetries:0,bucket:"",objectName:"",token:"",shortUrl:""};function XV(p){return p===void 0&&(p="file"),$t(xee[p]||{}).replace(/"/gi,'\\"')}(function(p){p[p.nos=1]="nos",p[p.s3=2]="s3"})(GV||(GV={})),function(p){p[p.dontNeed=-1]="dontNeed",p[p.time=2]="time",p[p.urls=3]="urls"}(KV||(KV={}));var Nee={chunkUploadHost:"https://wannos-web.127.net",chunkUploadHostBackupList:["https://fileup.chatnos.com","https://oss.chatnos.com"],commonUploadHost:"https://fileup.chatnos.com",commonUploadHostBackupList:["https://oss.chatnos.com"],chunkMaxSize:4194304e4,commonMaxSize:104857600,uploadReplaceFormat:"https://{host}/{object}",cdn:{defaultCdnDomain:"nim-nosdn.netease.im",cdnDomain:"",bucket:"",objectNamePrefix:""},downloadUrl:"https://{bucket}-nosdn.netease.im/{object}",downloadHostList:["nos.netease.com"],nosCdnEnable:!0,isNeedToGetUploadPolicyFromServer:!0};function JV(p,y){p=p||{},y=y||function(){return!0};var f={};for(var o in p)y(p[o])&&(f[o]=p[o]);return f}var Ree=function(){function p(f,o){this.nosCdnHostTimer=0,this.nosErrorCount=0,this.core=f,this.cloudStorage=o}var y=p.prototype;return y.reset=function(){this.nosErrorCount=0},y.getNosAccessToken=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.core.sendCmd("getNosAccessToken",{tag:o});case 2:return l=C.sent,c=Ht(l,"content.nosAccessTokenTag.token"),u=o.url,C.abrupt("return",{token:c,url:dr(u).call(u,"?")!==-1?u+"&token="+c:u+"?token="+c});case 6:case"end":return C.stop()}},a,this)}))},y.deleteNosAccessToken=function(o){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.core.sendCmd("deleteNosAccessToken",{tag:o});case 2:case"end":return c.stop()}},a,this)}))},y.nosUpload=function(o,a){var l,c,u,h,C,x,k,B;return le(this,void 0,void 0,q.mark(function W(){var Y,ne,se,xe,we,$e,Me,Fe,We,Ae,Ee,me,Ve,Ge,ze,mt,Tt,Be,dn;return q.wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:if(Y=Ht(this.core,"config.cdn.bucket"),ne={tag:o.nosScenes||Y||"nim"},o.nosSurvivalTime&&(ne.expireSec=o.nosSurvivalTime),se=this.core.adapters.getFileUploadInformation(o),!(!a&&!se)){Dt.next=18;break}return Dt.prev=6,Dt.next=9,this.core.sendCmd("getNosToken",{responseBody:XV(o.type),nosToken:ne});case 9:xe=Dt.sent,Dt.next=18;break;case 12:if(Dt.prev=12,Dt.t0=Dt.catch(6),this.core.logger.error("uploadFile:: getNosToken error",Dt.t0),!(Dt.t0 instanceof Ct)){Dt.next=17;break}throw Dt.t0;case 17:throw new Al({code:Ht(this.core,"options.apiVersion")==="v2"?it.V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:400,detail:{reason:"getNosToken error",rawError:Dt.t0,curProvider:1}});case 18:return we=this.config.uploadReplaceFormat.replace("{host}",this.config.cdn.cdnDomain||this.config.cdn.defaultCdnDomain).replace("{object}",se?(l=se.uploadInfo)===null||l===void 0?void 0:l.objectName:a?a==null?void 0:a.objectName:xe.content.nosToken.objectName),$e="",a&&a.shortUrl&&($e=a.shortUrl),!((h=(u=(c=se==null?void 0:se.uploadInfo)===null||c===void 0?void 0:c.payload)===null||u===void 0?void 0:u.mixStoreToken)===null||h===void 0)&&h.shortUrl&&($e=se.uploadInfo.payload.mixStoreToken.shortUrl),Me=$e||we,Dt.prev=23,We=se?{token:(C=se==null?void 0:se.uploadInfo)===null||C===void 0?void 0:C.token,bucket:(x=se==null?void 0:se.uploadInfo)===null||x===void 0?void 0:x.bucketName,objectName:(k=se==null?void 0:se.uploadInfo)===null||k===void 0?void 0:k.objectName}:a||xe.content.nosToken,this.core.logger.log("uploadFile:: uploadFile params",{nosToken:We,chunkUploadHost:this.config.chunkUploadHost,chunkUploadHostBackupList:this.config.chunkUploadHostBackupList,commonUploadHost:this.config.commonUploadHost,commonUploadHostBackupList:this.config.commonUploadHostBackupList,platform:rn.platform}),Ae=rn.platform==="BROWSER"?this.config.chunkUploadHost:this.config.commonUploadHost+"/"+(We&&We.bucket),this.core.reporterHookCloudStorage.update({remote_addr:Ae,operation_type:a?2:0}),Dt.next=30,this.core.adapters.uploadFile(ce(ce(ce({},o),{nosToken:We,chunkUploadHost:this.config.chunkUploadHost,chunkUploadHostBackupList:this.config.chunkUploadHostBackupList,commonUploadHost:this.config.commonUploadHost,commonUploadHostBackupList:this.config.commonUploadHostBackupList,maxSize:o.maxSize||this.config.chunkMaxSize}),a?{payload:{mixStoreToken:a}}:{}));case 30:Fe=Dt.sent,Dt.next=65;break;case 33:if(Dt.prev=33,Dt.t1=Dt.catch(23),this.core.logger.error("uploadFile::nos uploadFile error:",Dt.t1),Ee=Ht(this.core,"options.apiVersion")==="v2",Dt.t1.code!==it.V2NIM_ERROR_CODE_CANCELLED&&Dt.t1.errCode!==10499){Dt.next=39;break}throw new Al({code:Ee?it.V2NIM_ERROR_CODE_CANCELLED:400,detail:{reason:Ht(Dt.t1,"message")||"Request abort",rawError:Dt.t1,curProvider:1}});case 39:if(!Ee||Dt.t1.errCode!==it.V2NIM_ERROR_CODE_FILE_OPEN_FAILED){Dt.next=41;break}throw new Ct({code:it.V2NIM_ERROR_CODE_FILE_OPEN_FAILED,detail:{reason:Ht(Dt.t1,"message")||"Read file failed",rawError:Dt.t1,curProvider:1}});case 41:return Dt.next=43,rn.net.getNetworkStatus();case 43:if(me=Dt.sent,me.net_connect!==!1){Dt.next=47;break}throw new Al({code:Ht(this.core,"options.apiVersion")==="v2"?it.V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:400,detail:{reason:"No network",rawError:Dt.t1,curProvider:1}});case 47:if(!a){Dt.next=64;break}if(!(this.nosErrorCount<=0)){Dt.next=60;break}Dt.prev=49,this.cloudStorage.mixStorage._addCircuitTimer(),Dt.next=56;break;case 53:throw Dt.prev=53,Dt.t2=Dt.catch(49),new Al({code:Ht(this.core,"options.apiVersion")==="v2"?it.V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:400,detail:{reason:"All upload attempts failed",rawError:Dt.t2,curProvider:this.cloudStorage.mixStorage.curProvider,mixStorePolicy:this.cloudStorage.mixStorage.mixStorePolicy,file:o.file||o.filePath}});case 56:return this.nosErrorCount=Ht(this.cloudStorage,"mixStorePolicy.nosPolicy.uploadConfig.retryPolicy.retry"),Dt.abrupt("return",this.cloudStorage._uploadFile(o));case 60:return this.nosErrorCount--,Dt.abrupt("return",this.nosUpload(o,a));case 62:Dt.next=65;break;case 64:throw new Al({code:Ht(this.core,"options.apiVersion")==="v2"?it.V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:400,detail:{reason:"NOS attempts failed",rawError:Dt.t1,curProvider:1}});case 65:if(Ve=Fe==null?void 0:Fe.type,(Ge=Ve&&dr(Ve).call(Ve,"/")>-1?zn(Ve).call(Ve,0,dr(Ve).call(Ve,"/")):"")||(Ge=o.type||""),(ze={image:"imageInfo",video:"vinfo",audio:"vinfo"})[Ge]){Dt.next=71;break}return Dt.abrupt("return",ce({url:Me},Fe));case 71:return Dt.prev=71,Dt.next=74,this.core.adapters.request(we+"?"+ze[Ge],{method:"GET",dataType:"json",timeout:5e3},{exception_service:3});case 74:mt=Dt.sent,Dt.next=81;break;case 77:return Dt.prev=77,Dt.t3=Dt.catch(71),this.core.logger.error("uploadFile:: fetch file info error",Dt.t3),Dt.abrupt("return",ce({url:Me},Fe));case 81:if(!mt){Dt.next=88;break}return Tt=mt.data,Be=ze[Ge]==="imageInfo"?Tt:(B=Tt==null?void 0:Tt.GetVideoInfo)===null||B===void 0?void 0:B.VideoInfo,dn={url:Me,name:Fe.name,size:Fe.size,ext:Fe.ext,w:Be==null?void 0:Be.Width,h:Be==null?void 0:Be.Height,orientation:Be==null?void 0:Be.Orientation,dur:Be==null?void 0:Be.Duration,audioCodec:Be==null?void 0:Be.AudioCodec,videoCodec:Be==null?void 0:Be.VideoCodec,container:Be==null?void 0:Be.Container},Dt.abrupt("return",JV(dn,function(cr){return cr!==void 0}));case 88:return Dt.abrupt("return",ce({url:Me},Fe));case 89:case"end":return Dt.stop()}},W,this,[[6,12],[23,33],[49,53],[71,77]])}))},y._getNosCdnHost=function(){var o;return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h=this;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.prev=0,x.next=3,this.core.sendCmd("getNosCdnHost");case 3:l=x.sent,x.next=10;break;case 6:return x.prev=6,x.t0=x.catch(0),this.core.logger.error("getNosCdnHost::error",x.t0),x.abrupt("return");case 10:if(l){x.next=12;break}return x.abrupt("return");case 12:c=(o=l==null?void 0:l.content)===null||o===void 0?void 0:o.nosConfigTag,(u=un(c==null?void 0:c.expire))!==0&&c.cdnDomain?u===-1?(this.config.cdn.bucket=c.bucket,this.config.cdn.cdnDomain=c.cdnDomain,this.config.cdn.objectNamePrefix=c.objectNamePrefix):(this.config.cdn.bucket=c.bucket,this.config.cdn.cdnDomain=c.cdnDomain,this.config.cdn.objectNamePrefix=c.objectNamePrefix,this.nosCdnHostTimer=this.core.timerManager.addTimer(function(){h._getNosCdnHost()},1e3*u)):(this.config.cdn.bucket="",this.config.cdn.cdnDomain="",this.config.cdn.objectNamePrefix="");case 15:case"end":return x.stop()}},a,this,[[0,6]])}))},sa(p,[{key:"config",get:function(){return this.cloudStorage.config}}]),p}(),Aee={"6_2":"getNosToken","6_22":"getOriginUrl","6_24":"getNosAccessToken","6_25":"deleteNosAccessToken","6_26":"getNosCdnHost","6_27":"getGrayscaleConfig","6_28":"getMixStorePolicy","6_29":"getMixStoreToken","6_30":"getFileAuthToken"},Fs={nosToken:{objectName:1,token:2,bucket:3,expireTime:4,expireSec:7,tag:8,shortUrl:9},mixStoreTokenReqTag:{provider:0,tokenCount:1,nosSurvivalTime:2,tag:3,returnBody:4,policyVersion:5},nosConfigTag:{bucket:1,cdnDomain:2,expire:3,objectNamePrefix:4},grayConfigTag:{config:0,ttl:1},mixStorePolicyTag:{providers:0,ttl:1,mixEnable:2,nosPolicy:3,s3Policy:4,policyVersion:5},mixStoreTokenResTag:{provider:0,accessKeyId:1,secretAccessKey:2,sessionToken:3,token:4,expireTime:5,bucket:6,objectName:7,fileExpireSec:8,tag:9,shortUrl:10,region:11},nosSafeUrlTag:{safeUrl:0,originUrl:1},mixStoreAuthTokenReqTag:{type:1,urls:2},mixStoreAuthTokenResTag:{type:1,tokens:2,token:3,ttl:4},nosAccessTokenTag:{token:0,url:1,userAgent:2,ext:3}},Oee={getNosToken:{sid:6,cid:2,service:"cloudStorage",params:[{type:"String",name:"responseBody"},{type:"Property",name:"nosToken",entity:"nosToken",reflectMapper:Fs.nosToken}],response:[{type:"Property",name:"nosToken",reflectMapper:dt(Fs.nosToken)}]},getOriginUrl:{sid:6,cid:22,service:"cloudStorage",params:[{type:"Property",name:"nosSafeUrlTag",reflectMapper:Fs.nosSafeUrlTag}],response:[{type:"Property",name:"nosSafeUrlTag",reflectMapper:dt(Fs.nosSafeUrlTag)}]},getNosCdnHost:{sid:6,cid:26,service:"cloudStorage",response:[{type:"Property",name:"nosConfigTag",reflectMapper:dt(Fs.nosConfigTag)}]},getGrayscaleConfig:{sid:6,cid:27,service:"cloudStorage",params:[{type:"Property",name:"config"}],response:[{type:"Property",name:"grayConfigTag",reflectMapper:dt(Fs.grayConfigTag)}]},getMixStorePolicy:{sid:6,cid:28,service:"cloudStorage",params:[{type:"LongArray",name:"supportType"}],response:[{type:"Property",name:"mixStorePolicyTag",reflectMapper:dt(Fs.mixStorePolicyTag)}]},getMixStoreToken:{sid:6,cid:29,service:"cloudStorage",params:[{type:"Property",name:"mixStoreTokenReqTag",reflectMapper:Fs.mixStoreTokenReqTag}],response:[{type:"Property",name:"mixStoreTokenResTag",reflectMapper:dt(Fs.mixStoreTokenResTag)}]},getFileAuthToken:{sid:6,cid:30,service:"cloudStorage",params:[{type:"Property",name:"mixStoreAuthTokenReqTag",reflectMapper:Fs.mixStoreAuthTokenReqTag}],response:[{type:"Property",name:"mixStoreAuthTokenResTag",reflectMapper:dt(Fs.mixStoreAuthTokenResTag)}]},getNosAccessToken:{sid:6,cid:24,service:"cloudStorage",params:[{type:"Property",name:"tag",reflectMapper:Fs.nosAccessTokenTag}],response:[{type:"Property",name:"tag",reflectMapper:dt(Fs.nosAccessTokenTag)}]},deleteNosAccessToken:{sid:6,cid:25,service:"cloudStorage",params:[{type:"Property",name:"tag",reflectMapper:Fs.nosAccessTokenTag}]}},kee=function(){function p(f,o){this.GRAYKEY="AllGrayscaleConfig",this.MIXSTOREKEY="AllMixStorePolicy",this.grayConfig={mixStoreEnable:!1,timeStamp:0,ttl:0},this.mixStorePolicy={providers:[],timeStamp:0,ttl:0,s3Policy:null,nosPolicy:null,policyVersion:void 0},this.curProvider=1,this.mixStoreErrorCount=10,this.circuitTimer=0,this.core=f,this.cloudStorage=o,this.logger=f.logger}var y=p.prototype;return y.reset=function(){this.grayConfig=null,this.mixStorePolicy={providers:[],timeStamp:0,ttl:0,s3Policy:null,nosPolicy:null,policyVersion:void 0},this.curProvider=1,this.mixStoreErrorCount=10},y.getGrayscaleConfig=function(o,a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(rn.localStorage)try{rn.localStorage.getItem&&rn.localStorage.getItem(this.GRAYKEY)&&(this.grayConfig=JSON.parse(rn.localStorage.getItem(this.GRAYKEY))[o])}catch(k){rn.localStorage.getItem(this.GRAYKEY)&&this.core.logger.error("uploadFile:: JSON.parse grayscaleConfig error ",k)}if(this.grayConfig&&!(this.grayConfig.timeStamp+1e3*this.grayConfig.ttl<a)){x.next=17;break}return x.next=4,this.core.sendCmd("getGrayscaleConfig",{config:{}});case 4:if(!(u=x.sent).content||!u.content.grayConfigTag){x.next=16;break}this.logger.log("uploadFile::getAppGrayConfigRequest success ");try{this.grayConfig=JSON.parse(u.content.grayConfigTag.config),this.grayConfig.ttl=JSON.parse(u.content.grayConfigTag.ttl)}catch(k){this.logger.error("getGrayscaleConfig error",k)}if(this.grayConfig){x.next=10;break}return x.abrupt("return");case 10:h=rn.localStorage.getItem(this.GRAYKEY)?JSON.parse(rn.localStorage.getItem(this.GRAYKEY)):{},this.grayConfig.timeStamp=new Date().getTime(),h[o]=this.grayConfig,rn.localStorage.setItem(this.GRAYKEY,$t(h)),x.next=17;break;case 16:this.logger.log("uploadFile:: result grayConfig:",u.content);case 17:if(!(!((l=this.grayConfig)===null||l===void 0)&&l.mixStoreEnable)){x.next=20;break}return x.next=20,this._getMixStorePolicy(o);case 20:case"end":return x.stop()}},c,this)}))},y._getMixStorePolicy=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(l=new Date().getTime(),rn.localStorage)try{this.mixStorePolicy=JSON.parse(rn.localStorage.getItem(this.MIXSTOREKEY))[o],this.curProvider=un(this.mixStorePolicy.providers[0]),this.mixStorePolicy.timeStamp&&this.mixStorePolicy.timeStamp+1e3*this.mixStorePolicy.ttl>l&&(u=this.mixStorePolicy.timeStamp+1e3*this.mixStorePolicy.ttl-l,this.core.timerManager.addTimer(cn(c=this._getMixStorePolicy).call(c,this,o),u))}catch(Y){rn.localStorage.getItem(this.MIXSTOREKEY)&&JSON.parse(rn.localStorage.getItem(this.MIXSTOREKEY))[o]&&this.core.logger.error("uploadFile:: JSON.parse mixStorePolicy error ",Y)}if(this.mixStorePolicy&&!(this.mixStorePolicy.timeStamp+1e3*this.mixStorePolicy.ttl<=l)){W.next=31;break}return W.prev=3,W.next=6,this.core.sendCmd("getMixStorePolicy",{supportType:this.cloudStorage.aws.s3?[1,2]:[1]});case 6:C=W.sent,x=C.content.mixStorePolicyTag,this.mixStorePolicy={providers:[],timeStamp:0,ttl:0,s3Policy:null,nosPolicy:null,policyVersion:void 0},this.mixStorePolicy.policyVersion=x.policyVersion,this.mixStorePolicy.ttl=Number(x.ttl),this.mixStorePolicy.providers=x.providers.split(","),this.circuitTimer&&this.core.timerManager.deleteTimer(this.circuitTimer),this.curProvider=un(this.mixStorePolicy.providers[0]),this.mixStorePolicy.nosPolicy=x.nosPolicy?JSON.parse(x.nosPolicy):null,this.mixStorePolicy.s3Policy=x.s3Policy?JSON.parse(x.s3Policy):null,this.mixStorePolicy.s3Policy===null?this.mixStorePolicy.providers=["1"]:this.mixStorePolicy.nosPolicy===null?this.mixStorePolicy.providers=["2"]:this.mixStorePolicy.providers=this.mixStorePolicy.s3Policy.priority<this.mixStorePolicy.nosPolicy.priority?["2","1"]:["1","2"],this.core.timerManager.addTimer(cn(h=this._getMixStorePolicy).call(h,this,o),1e3*this.mixStorePolicy.ttl),k=rn.localStorage.getItem(this.MIXSTOREKEY)?JSON.parse(rn.localStorage.getItem(this.MIXSTOREKEY)):{},this.mixStorePolicy.timeStamp=new Date().getTime(),k[o]=this.mixStorePolicy,rn.localStorage.setItem(this.MIXSTOREKEY,$t(k)),W.next=31;break;case 24:if(W.prev=24,W.t0=W.catch(3),this.logger.error("getMixStorePolicy error",W.t0),this.mixStoreErrorCount!==0){W.next=29;break}throw new Error("getMixStorePolicy all count error");case 29:this._getMixStorePolicy(o),this.mixStoreErrorCount--;case 31:this.mixStorePolicy.nosPolicy&&(this.cloudStorage.nos.nosErrorCount=this.mixStorePolicy.nosPolicy.uploadConfig.retryPolicy.retry);case 32:case"end":return W.stop()}},a,this,[[3,24]])}))},y._addCircuitTimer=function(){var o=this,a=this.mixStorePolicy.providers,l=a[(dr(a).call(a,String(this.curProvider))+1)%a.length];if(!l)throw new Error("uploadFile nextProvider error");if(l===a[0])throw new Error("uploadFile all policy fail");if(this.logger.log("uploadFile:: upload policy will change,now policy:"+this.curProvider+" nextProvider:"+l),this.curProvider=un(l),this.mixStorePolicy.nosPolicy&&this.mixStorePolicy.s3Policy){var c=this.mixStorePolicy[this.curProvider===1?"nosPolicy":"s3Policy"].uploadConfig.retryPolicy.circuit;if(!c||c===0)throw new Error("uploadFile circuit error");this.circuitTimer=this.core.timerManager.addTimer(function(){o.logger.log("uploadFile:: upload policy will change,now policy:"+o.curProvider+" nextProvider:"+un(o.mixStorePolicy.providers[0])),o.curProvider=un(o.mixStorePolicy.providers[0]),o.core.timerManager.deleteTimer(o.circuitTimer)},1e3*c)}throw new Error("uploadFile will not retry again")},y.getFileAuthToken=function(o){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.core.sendCmd("getFileAuthToken",{mixStoreAuthTokenReqTag:o});case 2:return l=u.sent,u.abrupt("return",l.content.mixStoreAuthTokenResTag);case 4:case"end":return u.stop()}},a,this)}))},p}(),Lee=CS.trim,Pee=U("".charAt),MC=I.parseFloat,QV=I.Symbol,ZV=QV&&QV.iterator,e$=1/MC(gc+"-0")!=-1/0||ZV&&!T(function(){MC(Object(ZV))})?function(y){var f=Lee(zi(y)),o=MC(f);return o===0&&Pee(f,0)=="-"?-0:o}:MC;Lt({global:!0,forced:parseFloat!=e$},{parseFloat:e$});var Dee=fe.parseFloat,Bx=-1,jee=function(){function p(f,o){this.s3=null,this.core=f,this.cloudStorage=o,this.logger=f.logger}var y=p.prototype;return y.s3Upload=function(o,a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k,B,W,Y,ne,se,xe,we,$e,Me=this;return q.wrap(function(We){for(;;)switch(We.prev=We.next){case 0:if(Bx+=1,!o.file){We.next=5;break}c=o.file,We.next=20;break;case 5:if(typeof o.fileInput!="string"){We.next=15;break}if(this.logger.warn("fileInput will abandon,Please use file or filepath"),!((u=document.getElementById(o.fileInput))&&u.files&&u.files[0])){We.next=12;break}c=u.files[0],We.next=13;break;case 12:throw new Error("Can not get file from fileInput");case 13:We.next=20;break;case 15:if(!(o.fileInput&&o.fileInput.files&&o.fileInput.files[0])){We.next=19;break}c=o.fileInput.files[0],We.next=20;break;case 19:throw new Error("Can not get file from fileInput "+o.fileInput);case 20:if(this.mixStorePolicy.s3Policy){We.next=22;break}throw new Error("dont get s3 policy");case 22:return h={accessKeyId:a.accessKeyId,secretAccessKey:a.secretAccessKey,sessionToken:a.sessionToken,region:a.region,maxRetries:this.mixStorePolicy.s3Policy.uploadConfig.retryPolicy.retry},C=this.s3,x=decodeURIComponent(a.bucket),k=decodeURIComponent(a.objectName),B=c,W="https://"+x+".s3.amazonaws.com/"+k,Y={},(ne=this.mixStorePolicy.s3Policy)&&ne.uploadConfig&&Nr(ne.uploadConfig.uploadUrl)&&ne.uploadConfig.uploadUrl.length>0&&(se=ne.uploadConfig.uploadUrl.length,Bx%=se,Y.endpoint=ne.uploadConfig.uploadUrl[Bx],Y.s3ForcePathStyle=!0,W=Y.endpoint+"/"+x+"/"+k),this.core.reporterHookCloudStorage.update({remote_addr:W,operation_type:1}),(xe=new C(Y)).config.update(h),we={Bucket:x,Key:k,Body:B,Metadata:{token:a.token},ContentType:B.type||"application/octet-stream"},this.core.logger.log("uploadFile:: s3 upload params:",we),($e=xe.upload(we)).on("httpUploadProgress",function(Ae){var Ee=Dee((Ae.loaded/Ae.total).toFixed(2));o.onUploadProgress&&o.onUploadProgress({total:Ae.total,loaded:Ae.loaded,percentage:Ee,percentageText:Math.round(100*Ee)+"%"})}),We.abrupt("return",new Zt(function(Ae,Ee){var me=new Date().getTime();$e.send(function(Ve,Ge){return le(Me,void 0,void 0,q.mark(function ze(){var mt,Tt,Be,dn,Nn,Dt,cr,_a;return q.wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:if(!Ve||Ve.code!=="RequestAbortedError"){Ot.next=5;break}this.logger.error("uploadFile:","api::s3:upload file abort.",Ve),Ee(new Al({code:Ht(this.core,"options.apiVersion")==="v2"?it.V2NIM_ERROR_CODE_CANCELLED:400,detail:{reason:"S3RequestAbortedError",rawError:Ve,curProvider:2}})),Ot.next=41;break;case 5:if(!Ve){Ot.next=26;break}return this.logger.error("uploadFile:","api::s3:upload file failed.",Ve),this.core.reporter.reportTraceStart("exceptions",{user_id:this.core.options.account||((Tt=(mt=this.core)===null||mt===void 0?void 0:mt.auth)===null||Tt===void 0?void 0:Tt.account),trace_id:(Be=this.core.clientSocket.socket)===null||Be===void 0?void 0:Be.sessionId,start_time:me,action:1,exception_service:4}),this.core.reporter.reportTraceUpdateV2("exceptions",{code:typeof Ve.status=="number"?Ve.status:typeof Ve.code=="number"?Ve.code:0,description:Ve.message||""+Ve.code,operation_type:1,target:$t({bucket:x,object:k})},{asyncParams:rn.net.getNetworkStatus()}),this.core.reporter.reportTraceEnd("exceptions",1),Ot.next=12,rn.net.getNetworkStatus();case 12:if(dn=Ot.sent,dn.net_connect!==!1){Ot.next=16;break}return Ot.abrupt("return",Ee(new Al({code:Ht(this.core,"options.apiVersion")==="v2"?it.V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:400,detail:{reason:"No network",rawError:Ve,curProvider:this.cloudStorage.mixStorage.curProvider}})));case 16:Ot.prev=16,this.cloudStorage.mixStorage._addCircuitTimer(),Ot.next=23;break;case 20:return Ot.prev=20,Ot.t0=Ot.catch(16),Ot.abrupt("return",Ee(new Al({code:Ht(this.core,"options.apiVersion")==="v2"?it.V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:400,detail:{reason:"All upload attempts failed",rawError:Ot.t0,curProvider:this.cloudStorage.mixStorage.curProvider,mixStorePolicy:this.mixStorePolicy,file:o.file||o.filePath}})));case 23:Ae(this.cloudStorage._uploadFile(o)),Ot.next=41;break;case 26:if(Nn=(Nn=(Nn=this.mixStorePolicy.s3Policy.cdnSchema).replace("{cdnDomain}",this.mixStorePolicy.s3Policy.dlcdn)).replace("{objectName}",Ge.Key),Dt={size:B.size,name:B.name,url:a.shortUrl?a.shortUrl:Nn,ext:B.name.split(".")[1]||"unknown"},cr=o.type||"",(_a={image:"imageInfo"})[cr]){Ot.next=36;break}return Ot.abrupt("return",Ae(Dt));case 36:return Ot.t1=Ae,Ot.next=39,this.getS3FileInfo({url:Nn,infoSuffix:_a[cr],s3Result:Dt});case 39:return Ot.t2=Ot.sent,Ot.abrupt("return",(0,Ot.t1)(Ot.t2));case 41:case"end":return Ot.stop()}},ze,this,[[16,20]])}))}),o.onUploadStart&&o.onUploadStart($e)}));case 39:case"end":return We.stop()}},l,this)}))},y.getS3FileInfo=function(o){var a;return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k,B;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return c=o.url,u=o.infoSuffix,h=o.s3Result,Y.prev=1,Y.next=4,this.core.adapters.request(c+"?"+u,{method:"GET",dataType:"text",timeout:5e3},{exception_service:3});case 4:C=Y.sent,Y.next=11;break;case 7:return Y.prev=7,Y.t0=Y.catch(1),this.core.logger.error("uploadFile:: fetch file info error",Y.t0),Y.abrupt("return",h);case 11:if(!C){Y.next=18;break}return x=C.data,k=u==="imageInfo"?x:(a=x==null?void 0:x.GetVideoInfo)===null||a===void 0?void 0:a.VideoInfo,B=ce(ce({},h),{w:k==null?void 0:k.Width,h:k==null?void 0:k.Height,orientation:k==null?void 0:k.Orientation,dur:k==null?void 0:k.Duration,audioCodec:k==null?void 0:k.AudioCodec,videoCodec:k==null?void 0:k.VideoCodec,container:k==null?void 0:k.Container}),Y.abrupt("return",JV(B,function(ne){return ne!==void 0}));case 18:return this.core.logger.error("uploadFile:: fetch s3 file info no result",c+"?"+u),Y.abrupt("return",h);case 20:case"end":return Y.stop()}},l,this,[[1,7]])}))},sa(p,[{key:"mixStorePolicy",get:function(){return this.cloudStorage.mixStorage.mixStorePolicy}}]),p}(),t$=function(){function p(f,o){o===void 0&&(o={}),this.config={},this.uploadTaskMap={},this.name="cloudStorage",this.logger=f.logger,this.core=f,this.nos=new Ree(f,this),this.mixStorage=new kee(f,this),this.aws=new jee(f,this),Wr({cmdMap:Aee,cmdConfig:Oee}),this.setOptions(o),this.setListeners()}var y=p.prototype;return y.setOptions=function(o){o===void 0&&(o={});var a=o.storageKeyPrefix||"NIMClient";this.mixStorage.GRAYKEY=a+"-AllGrayscaleConfig",this.mixStorage.MIXSTOREKEY=a+"-AllMixStorePolicy";var l=o.s3,c=Ja(o,["s3"]),u=ce({},Nee,this.config);if(c&&Object.prototype.hasOwnProperty.call(c,"cdn")){var h=ce(ce({},u.cdn),c.cdn);this.config=ce({},u,c),this.config.cdn=h}else this.config=ce({},u,c);l&&(this.aws.s3=l)},y.setListeners=function(){var o,a,l,c;this.core.eventBus.on("kicked",cn(o=this._clearUnCompleteTask).call(o,this)),this.core.eventBus.on("disconnect",cn(a=this._clearUnCompleteTask).call(a,this)),this.core.eventBus.on("V2NIMLoginService/loginLifeCycleLogout",cn(l=this._clearUnCompleteTask).call(l,this)),this.core.eventBus.on("V2NIMLoginService/loginLifeCycleKicked",cn(c=this._clearUnCompleteTask).call(c,this))},y._clearUnCompleteTask=function(){var o,a=this;rt(o=Gn(this.uploadTaskMap)).call(o,function(l){var c=a.uploadTaskMap[l];c&&c.abort&&c.abort()}),this.uploadTaskMap={}},y.init=function(o){return o===void 0&&(o=lr()),le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.mixStorage.reset(),this.nos.reset(),!this.config.isNeedToGetUploadPolicyFromServer){c.next=5;break}return c.next=5,this.mixStorage.getGrayscaleConfig(this.core.options.appkey,o);case 5:return c.next=7,this.nos._getNosCdnHost();case 7:case"end":return c.stop()}},a,this)}))},y.processCallback=function(o,a){var l=this,c=o.onUploadProgress,u=o.onUploadDone,h=o.onUploadStart;return{onUploadStart:typeof h=="function"?function(C){l.uploadTaskMap[a]=C;try{h(C)}catch(x){l.logger.error("CloudStorage::uploadFile:options.onUploadStart execute error",x)}}:function(C){l.uploadTaskMap[a]=C},onUploadProgress:typeof c=="function"?function(C){l.core.reporterHookCloudStorage.update({transferred_size:C.loaded,full_size:C.total});try{c(C)}catch(x){l.logger.error("CloudStorage::uploadFile:options.onUploadProgress execute error",x)}}:function(C){l.core.reporterHookCloudStorage.update({transferred_size:C.loaded,full_size:C.total})},onUploadDone:typeof u=="function"?function(C){l.core.reporterHookCloudStorage.end(0);try{u(C)}catch(x){l.logger.error("CloudStorage::uploadFile:options.onUploadDone execute error",x)}}:function(){l.core.reporterHookCloudStorage.end(0)},taskKey:a}},y.uploadFile=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x,k,B;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(ge({maxSize:{type:"number",required:!1},type:{type:"enum",values:["file","image","audio","video"]}},o),o.fileInput||o.file||o.filePath){Y.next=3;break}throw new Error("uploadFile needs target file object or a filePath");case 3:if(!o.type||o.type==="file"){Y.next=7;break}if(!(l=Ht(o,"file.type"))||typeof l!="string"||dr(l).call(l,o.type)!==-1){Y.next=7;break}throw new Error('The meta type "'+l+'" does not match "'+o.type+'"');case 7:return this.core.reporterHookCloudStorage.start(),o.file?this.core.reporterHookCloudStorage.update({full_size:o.file.size}):typeof o.fileInput=="string"?(c=document.getElementById(o.fileInput))&&c.files&&c.files[0]&&this.core.reporterHookCloudStorage.update({full_size:c.files[0].size}):o.fileInput&&o.fileInput.files&&o.fileInput.files[0]&&this.core.reporterHookCloudStorage.update({full_size:o.fileInput.files[0].size}),u=ai(),h=this.processCallback(o,u),C=h.onUploadStart,x=h.onUploadProgress,k=h.onUploadDone,o.onUploadStart=C,o.onUploadProgress=x,o.onUploadDone=k,B=null,Y.prev=15,Y.next=18,this._uploadFile(o);case 18:B=Y.sent,o.md5&&(B.md5=o.md5),delete this.uploadTaskMap[u],Y.next=28;break;case 23:throw Y.prev=23,Y.t0=Y.catch(15),delete this.uploadTaskMap[u],this.core.reporterHookCloudStorage.end((Y.t0&&Y.t0.code)===it.V2NIM_ERROR_CODE_CANCELLED?3:1),Y.t0;case 28:return B&&(B.size=B.size===void 0?void 0:Number(B.size),B.w=B.w===void 0?void 0:Number(B.w),B.h=B.h===void 0?void 0:Number(B.h),B.dur=B.dur===void 0?void 0:Number(B.dur)),B.url=decodeURIComponent(B.url),o.onUploadDone({size:B.size,name:B.name,url:B.url,ext:B.name.split(".")[1]||"unknown"}),Y.abrupt("return",B);case 32:case"end":return Y.stop()}},a,this,[[15,23]])}))},y._uploadFile=function(o){var a,l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(Ht(this.mixStorage,"grayConfig.mixStoreEnable")&&Ht(this.mixStorage,"mixStorePolicy.providers.length")){B.next=3;break}return this.logger.log("uploadFile:: uploadFile begin, use old nos"),B.abrupt("return",this.nos.nosUpload(o));case 3:if(this.logger.log("uploadFile::_uploadFile, grayConfig enable:"+Ht(this.mixStorage,"grayConfig.mixStoreEnable")+" curProvider:"+Ht(this.mixStorage,"curProvider")),u=this.core.adapters.getFileUploadInformation(o),h=!0,u?u.complete===!1&&this.mixStorage.curProvider===2&&(h=!1):h=!1,this.aws.s3||(this.mixStorage.curProvider=1),C=wee,h){B.next=23;break}return B.prev=10,B.next=13,this.core.sendCmd("getMixStoreToken",{mixStoreTokenReqTag:{provider:this.mixStorage.curProvider,tokenCount:1,tag:"qchat",nosSurvivalTime:o.nosSurvivalTime,returnBody:XV(o.type),policyVersion:this.mixStorage.mixStorePolicy.policyVersion}});case 13:x=B.sent,C=x.content.mixStoreTokenResTag,B.next=23;break;case 17:if(B.prev=17,B.t0=B.catch(10),this.core.logger.error("uploadFile:: getMixStoreToken error",B.t0),!(B.t0 instanceof Ct)){B.next=22;break}throw B.t0;case 22:throw new Al({code:Ht(this.core,"options.apiVersion")==="v2"?it.V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:400,detail:{reason:"getMixStoreToken error",rawError:B.t0,curProvider:this.mixStorage.curProvider,mixStorePolicy:this.mixStorage.mixStorePolicy}});case 23:if(h){B.next=27;break}return B.abrupt("return",this.mixStorage.curProvider===2?this.aws.s3Upload(o,C):this.nos.nosUpload(o,C));case 27:return B.abrupt("return",this.nos.nosUpload(o,(l=(a=u==null?void 0:u.uploadInfo)===null||a===void 0?void 0:a.payload)===null||l===void 0?void 0:l.mixStoreToken));case 28:case"end":return B.stop()}},c,this,[[10,17]])}))},y.getThumbUrl=function(o,a){var l,c,u,h,C;if(!new RegExp(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- ./?%&=]*)?/).test(o))return this.logger.error("illegal file url:"+o),o;var x=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(o);x[0],x[1],x[2],x[3],x[4];var k=x[5];if(x[6],x[7],(l=this.grayConfig)===null||l===void 0?void 0:l.mixStoreEnable){var B=this._getUrlType(o);if(B===2&&this.mixStorePolicy.s3Policy&&Ht(this.mixStorePolicy,"s3Policy.thumbPolicy.imagethumb"))return((u=(c=this.mixStorePolicy.s3Policy)===null||c===void 0?void 0:c.thumbPolicy)===null||u===void 0?void 0:u.imagethumb).replace("{cdnDomain}",this.mixStorePolicy.s3Policy.dlcdn).replace("{objectName}",k).replace("{x}",a.width.toString()).replace("{y}",a.height.toString());if(B===1&&this.mixStorePolicy.nosPolicy&&Ht(this.mixStorePolicy,"nosPolicy.thumbPolicy.imagethumb"))return((C=(h=this.mixStorePolicy.nosPolicy)===null||h===void 0?void 0:h.thumbPolicy)===null||C===void 0?void 0:C.imagethumb).replace("{cdnDomain}",this.mixStorePolicy.nosPolicy.dlcdn).replace("{objectName}",k).replace("{x}",a.width.toString()).replace("{y}",a.height.toString())}return or(o).call(o,"?")?o+"&imageView&thumbnail="+a.width+"x"+a.height:o+"?imageView&thumbnail="+a.width+"x"+a.height},y.getVideoCoverUrl=function(o,a){var l,c,u,h,C;if(!new RegExp(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- ./?%&=]*)?/).test(o))return this.logger.error("illegal file url:"+o),o;var x=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(o);x[0],x[1],x[2],x[3],x[4];var k=x[5];if(x[6],x[7],(l=this.grayConfig)===null||l===void 0?void 0:l.mixStoreEnable){var B=this._getUrlType(o);if(B===2&&this.mixStorePolicy.s3Policy&&Ht(this.mixStorePolicy,"s3Policy.thumbPolicy.vframe"))return((u=(c=this.mixStorePolicy.s3Policy)===null||c===void 0?void 0:c.thumbPolicy)===null||u===void 0?void 0:u.vframe).replace("{cdnDomain}",this.mixStorePolicy.s3Policy.dlcdn).replace("{objectName}",k).replace("{x}",a.width.toString()).replace("{y}",a.height.toString()).replace("{offset}","0").replace("{type}","png");if(B===1&&this.mixStorePolicy.nosPolicy&&Ht(this.mixStorePolicy,"nosPolicy.thumbPolicy.vframe"))return((C=(h=this.mixStorePolicy.nosPolicy)===null||h===void 0?void 0:h.thumbPolicy)===null||C===void 0?void 0:C.vframe).replace("{cdnDomain}",this.mixStorePolicy.nosPolicy.dlcdn).replace("{objectName}",k).replace("{x}",a.width.toString()).replace("{y}",a.height.toString()).replace("{offset}","0").replace("{type}","png")}return or(o).call(o,"?")?o+"&vframe&offset=0&resize="+a.width+"x"+a.height+"&type=png":o+"?vframe&offset=0&resize="+a.width+"x"+a.height+"&type=png"},y.getPrivateUrl=function(o){var a;if(!new RegExp(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- ./?%&=]*)?/).test(o))return this.logger.error("illegal file url:"+o),"";var l=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(o);l[0];var c=l[1];l[2];var u=l[3];l[4];var h=l[5];if(l[6],l[7],(a=this.grayConfig)===null||a===void 0?void 0:a.mixStoreEnable){var C=this._getUrlType(o);return C===2&&this.mixStorePolicy.s3Policy&&(o=this.mixStorePolicy.s3Policy.cdnSchema.replace("{cdnDomain}",this.mixStorePolicy.s3Policy.dlcdn).replace("{objectName}",h)),C===1&&this.mixStorePolicy.nosPolicy&&(o=this.mixStorePolicy.nosPolicy.cdnSchema.replace("{cdnDomain}",this.mixStorePolicy.nosPolicy.dlcdn).replace("{objectName}",h)),o}var x=this.config,k=x.downloadUrl,B=x.downloadHostList,W=x.nosCdnEnable,Y=this.config.cdn.cdnDomain,ne=this.config.cdn.objectNamePrefix?decodeURIComponent(this.config.cdn.objectNamePrefix):"",se=decodeURIComponent(h),xe=dr(se).call(se,ne);if(Y&&xe>-1&&W)return""+c+Y+"/"+zn(se).call(se,xe);if(or(B).call(B,u)&&or(h).call(h,"/")){var we=dr(h).call(h,"/"),$e=h.substring(0,we),Me=h.substring(we+1);return k.replace("{bucket}",$e).replace("{object}",Me)}var Fe=Tn(B).call(B,function(Ae){return typeof u=="string"&&or(u).call(u,Ae)})[0],We=Fe?u.replace(Fe,"").replace(/\W/g,""):null;return We?k.replace("{bucket}",We).replace("{object}",h):o},y.getOriginUrl=function(o){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(typeof o=="string"&&or(o).call(o,"_im_url=1")){u.next=2;break}return u.abrupt("return",o);case 2:return u.next=4,this.core.sendCmd("getOriginUrl",{nosSafeUrlTag:{safeUrl:o}});case 4:return l=u.sent,u.abrupt("return",l.content.nosSafeUrlTag.originUrl);case 6:case"end":return u.stop()}},a,this)}))},y.getFileToken=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x=this;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(ge({type:{type:"number",min:2,max:3},urls:{type:"array",required:!1,itemType:"string"}},o),l=this.mixStorePolicy.nosPolicy?this.mixStorePolicy.nosPolicy.authPolicy.policyType:null,c=this.mixStorePolicy.s3Policy?this.mixStorePolicy.s3Policy.authPolicy.policyType:null,l!==String(-1)||c!==String(-1)){B.next=8;break}throw this.logger.error("don't need token"),new Error("don't need token");case 8:if(o.type!==2){B.next=17;break}if(!(l&&dr(l).call(l,String(2))>=0||c&&dr(c).call(c,String(2))>0)){B.next=13;break}return B.abrupt("return",this.mixStorage.getFileAuthToken(o));case 13:throw this.logger.error("don't support time token "),new Error("don't support type time token ");case 15:B.next=33;break;case 17:if(o.urls&&o.urls.length){B.next=20;break}throw this.logger.error("urls is required when urls token"),new Error("urls is required when urls token");case 20:if(h=[],C=[],rt(u=o.urls).call(u,function(W){var Y=x._getUrlType(W);Y===1&&C.push(W),Y===2&&h.push(W)}),(!c||h.length!==0&&dr(c).call(c,String(3))<0)&&(this.logger.warn("s3 url don't support url token"),h=[]),(!l||C.length!==0&&dr(l).call(l,String(3))<0)&&(this.logger.warn("nos url don't support url token"),C=[]),h.length!==0||C.length!==0){B.next=30;break}throw this.logger.error("not support urls"),new Error("not support urls");case 30:if(h.length!==0&&C.length!==0){B.next=33;break}return o.urls=$t(o.urls),B.abrupt("return",this.mixStorage.getFileAuthToken(o));case 33:case"end":return B.stop()}},a,this)}))},y._getUrlType=function(o){var a,l;return this.mixStorePolicy.nosPolicy&&Mi(a=this.mixStorePolicy.nosPolicy.dlcdns).call(a,function(c){return dr(o).call(o,c)>=0})?1:this.mixStorePolicy.s3Policy&&Mi(l=this.mixStorePolicy.s3Policy.dlcdns).call(l,function(c){return dr(o).call(o,c)>=0})?2:null},y.getNosAccessToken=function(o){return ge({url:{type:"string",allowEmpty:!1}},o),this.nos.getNosAccessToken(o)},y.deleteNosAccessToken=function(o){return ge({token:{type:"string",allowEmpty:!1}},o),this.nos.deleteNosAccessToken(o)},y.process=function(o){var a=Ht(o,"error.detail.ignore");return o.error&&!a?Zt.reject(o.error):Zt.resolve(o)},sa(p,[{key:"grayConfig",get:function(){return this.mixStorage.grayConfig}},{key:"mixStorePolicy",get:function(){return this.mixStorage.mixStorePolicy}}]),p}(),LS,n$=function(p){function y(o){var a;return(a=p.call(this,"V2NIMStorageService",o)||this).sceneMap={nim_default_profile_icon:{sceneName:"nim_default_profile_icon",expireTime:0},nim_default_im:{sceneName:"nim_default_im",expireTime:0},nim_system_nos_scene:{sceneName:"nim_system_nos_scene",expireTime:0},nim_security:{sceneName:"nim_security",expireTime:0}},a.uploadingMessageInfo={},a.core=o,a.core._registerDep(t$,"cloudStorage"),a.core._registerDep(YV,"V2NIMStorageUtil"),a}pr(y,p);var f=y.prototype;return f.addCustomStorageScene=function(a,l){return this.checkV2(),ge({sceneName:{type:"string",allowEmpty:!1},expireTime:{type:"number",min:0}},{sceneName:a,expireTime:l},"",!0),this.sceneMap[a]={sceneName:a,expireTime:l},{sceneName:a,expireTime:l}},f.getStorageSceneList=function(){return this.checkV2(),uh(this.sceneMap)},f.getStorageScene=function(a){return a&&this.sceneMap[a]||this.sceneMap.nim_default_im},f.hasStorageScene=function(a){return this.sceneMap[a]!==void 0},f.createUploadFileTask=function(a){var l;if(this.checkV2(),typeof a.fileObj=="string"&&dr(l=a.fileObj).call(l,"nim-external")===0){var c=document.getElementById(a.fileObj);c&&c.files&&c.files[0]&&(a.fileObj=c.files[0])}return{taskId:ai(),uploadParams:a}},f.uploadFile=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkV2(),ge({taskId:{type:"string",allowEmpty:!1}},a,"fileTask",!0),C.next=4,this._uploadFile(a,l);case 4:return u=C.sent,C.abrupt("return",u[0]);case 6:case"end":return C.stop()}},c,this)}))},f.uploadFileWithMetaInfo=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkV2(),ge({taskId:{type:"string",allowEmpty:!1}},a,"fileTask",!0),C.next=4,this._uploadFile(a,l);case 4:return u=C.sent,C.abrupt("return",(x=u[1],k=void 0,B=void 0,W=void 0,Y=void 0,ne=void 0,se=void 0,xe=void 0,we=void 0,$e=void 0,Me=void 0,Fe=void 0,We=void 0,k=x.url,B=x.name,W=x.size,Y=x.ext,ne=x.md5,se=x.h,xe=x.w,we=x.orientation,$e=x.dur,Me=x.audioCodec,Fe=x.videoCodec,We=x.container,JSON.parse($t({url:k,name:B,size:W,ext:Y,md5:ne,height:se,width:xe,orientation:we,duration:$e,audioCodec:Me,videoCodec:Fe,container:We}))));case 6:case"end":return C.stop()}var x,k,B,W,Y,ne,se,xe,we,$e,Me,Fe,We},c,this)}))},f._uploadFile=function(a,l,c){var u;return le(this,void 0,void 0,q.mark(function h(){var C,x,k,B,W,Y,ne,se,xe,we,$e=this;return q.wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(this.core.cloudStorage&&this.core.cloudStorage.uploadFile){Fe.next=2;break}throw new Error('Service "cloudStorage" does not exist');case 2:if(C=a.uploadParams,x=a.taskId,k=HV(C.fileObj),B=k.file,W=k.path,Y=(c||{}).fileType,!this.uploadingMessageInfo[x]){Fe.next=7;break}throw new Ct({code:it.V2NIM_ERROR_CODE_RESOURCE_ALREADY_EXIST,detail:{reason:"V2NIMStorageService.uploadFile: repeat upload"}});case 7:if(Fe.prev=7,ne={},B?ne.file=B:W&&((W==null?void 0:dr(W).call(W,"nim-external"))===0?ne.fileInput=W:ne.filePath=W),se=this.getStorageScene(C.sceneName),ne.nosScenes=se.sceneName,ne.nosSurvivalTime=se.expireTime,ne.type=Y===1?"image":Y===2?"audio":Y===3?"video":"file",!ne.file||!this.core.pluginMap["browser-md5-file"]){Fe.next=19;break}return Fe.next=17,this.getFileMd5(this.core.pluginMap["browser-md5-file"],x,ne.file);case 17:xe=Fe.sent,ne.md5=xe;case 19:return ne.onUploadProgress=function(We){typeof l=="function"&&l(Math.round(100*We.percentage))},ne.onUploadStart=function(We){var Ae;if(!((Ae=$e.uploadingMessageInfo[x])===null||Ae===void 0)&&Ae.abort)return We.abort(),void delete $e.uploadingMessageInfo[x];$e.uploadingMessageInfo[x]={abort:!1,task:We}},this.uploadingMessageInfo[x]={abort:!1},Fe.next=24,this.core.cloudStorage.uploadFile(ne);case 24:if(we=Fe.sent,!(!((u=this.uploadingMessageInfo[x])===null||u===void 0)&&u.abort)){Fe.next=27;break}throw new Ct({code:it.V2NIM_ERROR_CODE_CANCELLED,detail:{reason:"upload file aborted"}});case 27:return delete this.uploadingMessageInfo[x],Fe.abrupt("return",[we.url,we]);case 31:throw Fe.prev=31,Fe.t0=Fe.catch(7),delete this.uploadingMessageInfo[x],this.core.logger.error("sendFile:: upload File error or abort.",Fe.t0),Fe.t0;case 36:case"end":return Fe.stop()}},h,this,[[7,31]])}))},f.cancelUploadFile=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkV2(),u.next=3,this._cancelUploadFile(a.taskId);case 3:case"end":return u.stop()}},l,this)}))},f._cancelUploadFile=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.checkV2(),!((c=this.uploadingMessageInfo[a])!=null&&c.task)){h.next=16;break}return h.prev=3,this.logger.log("V2NIMStorageService.cancelUploadFile: uploadInfo task exist"),h.next=7,c.task.abort();case 7:delete this.uploadingMessageInfo[a],h.next=14;break;case 10:h.prev=10,h.t0=h.catch(3),delete this.uploadingMessageInfo[a],this.core.logger.error("cancelMessageAttachmentUpload::abort error.",h.t0);case 14:h.next=22;break;case 16:if(!c){h.next=21;break}this.logger.log("V2NIMStorageService.cancelUploadFile: uploadInfo task not exist"),c.abort=!0,h.next=22;break;case 21:throw new Ct({code:it.V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST,detail:{reason:"V2NIMStorageService.cancelUploadFile: uploadInfo not exist"}});case 22:case"end":return h.stop()}},l,this,[[3,10]])}))},f.getFileMd5=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h=this;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",new Zt(function(k,B){var W,Y=new a;!((W=h.uploadingMessageInfo[l])===null||W===void 0)&&W.abort?B(new Ct({code:it.V2NIM_ERROR_CODE_CANCELLED,detail:{reason:"upload file aborted"}})):h.uploadingMessageInfo[l]={abort:!1,task:Y};try{Y.md5(c,function(ne,se){ne==="aborted"?B(new Ct({code:it.V2NIM_ERROR_CODE_CANCELLED,detail:{reason:ne}})):ne?B(new Ct({code:it.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:"md5 calculate error in callback",rawError:ne}})):k(se)})}catch(ne){B(new Ct({code:it.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:"md5 calculate error",rawError:ne}}))}}));case 1:case"end":return x.stop()}},u)}))},f.shortUrlToLong=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkV2(),u.abrupt("return",this.core.cloudStorage.getOriginUrl(a));case 2:case"end":return u.stop()}},l,this)}))},f.getImageThumbUrl=function(a,l){return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",this.core.V2NIMStorageUtil.getImageThumbUrl(a,l));case 1:case"end":return h.stop()}},c,this)}))},f.getVideoCoverUrl=function(a,l){return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",this.core.V2NIMStorageUtil.getVideoCoverUrl(a,l));case 1:case"end":return h.stop()}},c,this)}))},y}(ji),r$=function(p){function y(o){var a;return(a=p.call(this,"V2NIMMessageCreator",o)||this).name="V2NIMMessageCreator",a.defaultNosSceneName="nim_default_im",a.core=o,a}pr(y,p);var f=y.prototype;return f.createMessage=function(a,l){return ce(ce(ce({messageClientId:ai(),messageType:a,createTime:this.core.timeOrigin.getNTPTime(),sendingState:0,messageStatus:{errorCode:200},isSelf:!0},l),l.attachment?{attachment:ce(ce({},l.attachment),{raw:kS(a,l.attachment)})}:{}),{senderId:"",receiverId:"",conversationType:0,conversationId:"",messageServerId:"",messageConfig:ce({unreadEnabled:!0,roamingEnabled:!0,readReceiptEnabled:!1,lastMessageUpdateEnabled:!0,historyEnabled:!0,onlineSyncEnabled:!0,offlineEnabled:!0},l.messageConfig),pushConfig:ce({pushEnabled:!0,pushNickEnabled:!0,forcePush:!1},l.pushConfig),routeConfig:ce({routeEnabled:!0},l.routeConfig),antispamConfig:ce({antispamEnabled:!0},l.antispamConfig)})},f.createTextMessage=function(a){return this.checkV2(),ge({text:{type:"string",allowEmpty:!1}},{text:a},"",!0),this.createMessage(0,{text:a})},f.createImageMessage=function(a,l,c,u,h){this.checkV2(),ge(cee,{name:l,sceneName:c,width:u,height:h},"",!0);var C=this.createGenericFileMessageAttachment(a,l,c,void 0,u,h,"jpeg");return this.createMessage(1,{attachment:C,attachmentUploadState:0})},f.createAudioMessage=function(a,l,c,u){this.checkV2(),ge(kV,{name:l,sceneName:c,duration:u},"",!0);var h=this.createGenericFileMessageAttachment(a,l,c,u,void 0,void 0,"aac");return this.createMessage(2,{attachment:h,attachmentUploadState:0})},f.createVideoMessage=function(a,l,c,u,h,C){this.checkV2(),ge(lee,{name:l,sceneName:c,duration:u,width:h,height:C},"",!0);var x=this.createGenericFileMessageAttachment(a,l,c,u,h,C,"mp4");return this.createMessage(3,{attachment:x,attachmentUploadState:0})},f.createFileMessage=function(a,l,c){this.checkV2(),ge(Dx,{name:l,sceneName:c},"",!0);var u=this.createGenericFileMessageAttachment(a,l,c,void 0,void 0,void 0,"txt");return this.createMessage(6,{attachment:u,attachmentUploadState:0})},f.createGenericFileMessageAttachment=function(a,l,c,u,h,C,x){if(c=c||this.defaultNosSceneName,!this.core.V2NIMStorageService.hasStorageScene)throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"V2NIMStorageService not exist"}});if(!this.core.V2NIMStorageService.hasStorageScene(c))throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"sceneName: "+c+" has not been added"}});var k=HV(a),B=k.file,W=k.path,Y=ce(ce(ce({name:l,uploadState:0,sceneName:c||this.defaultNosSceneName},u?{duration:u}:{}),h?{width:h}:{}),C?{height:C}:{});if(B){var ne,se=sd(ne=B.name).call(ne,"."),xe=se===-1?B.name:B.name.substring(0,se);Y.name=Y.name||xe,Y.size=B.size,Y.ext="."+(Ap(B.name)||Ap(l||"")||x)}else if(W){var we=sd(W).call(W,"/"),$e=sd(W).call(W,"."),Me=$e===-1?W.substring(we+1):W.substring(we+1,$e);Y.name=Y.name||Me,Y.ext="."+(Ap(W)||Ap(l||"")||x)}return Y=JSON.parse($t(Y)),W?Y.path=W:B&&(Y.file=B),Y},f.createLocationMessage=function(a,l,c){return this.checkV2(),ge({latitude:{type:"number",allowEmpty:!1},longitude:{type:"number",allowEmpty:!1},address:{type:"string",allowEmpty:!1}},{latitude:a,longitude:l,address:c},"",!0),this.createMessage(4,{attachment:{latitude:a,longitude:l,address:c}})},f.createCustomMessage=function(a,l){return this.checkV2(),ge({text:{type:"string"}},{text:a},"",!0),ge({rawAttachment:{type:"string"}},{rawAttachment:l},"",!0),this.createMessage(100,{text:a,attachment:{raw:l}})},f.createCustomMessageWithAttachment=function(a,l){return this.checkV2(),ge({raw:{type:"string"}},a,"attachment",!0),ge({subType:{type:"number",min:0,required:!1}},{subType:l},"",!0),this.createMessage(100,l?{attachment:a,subType:l}:{attachment:a})},f.createCallMessage=function(a,l,c,u,h){return this.checkV2(),ge({type:{type:"number",allowEmpty:!1}},{type:a},"",!0),ge({channelId:{type:"string",allowEmpty:!1}},{channelId:l},"",!0),ge({status:{type:"number",allowEmpty:!1}},{status:c},"",!0),ge({durations:{type:"array",allowEmpty:!1}},{durations:u},"",!0),this.createMessage(12,{text:h||"",attachment:{type:a,channelId:l,durations:u,status:c}})},f.createForwardMessage=function(a){this.checkV2();var l=[11,5,7,10];if(!a||or(l).call(l,a.messageType))return null;var c={messageClientId:ai(),messageType:a.messageType};return a.text&&(c.text=a.text),a.attachment&&(c.attachment=a.attachment),a.attachment&&"uploadState"in a.attachment&&(c.attachmentUploadState=a.attachment.uploadState),this.createMessage(a.messageType,c)},f.createTipsMessage=function(a){return this.checkV2(),ge({text:{type:"string",allowEmpty:!1}},{text:a},"",!0),this.createMessage(10,{text:a})},y}(ji),a$=function(){function p(){this.name="V2NIMMessageAttachmentCreator"}var y=p.prototype;return y.createLocationMessageAttachment=function(o,a,l){return{latitude:typeof o=="number"?o:0,longitude:typeof a=="number"?a:0,address:typeof l=="string"?l:""}},y.createCustomMessageAttachment=function(o){return{raw:typeof o=="string"?o:""}},p}(),i$=function(){function p(f){this.config={enable:!1},this.name="V2NIMClientAntispamUtil",this.core=f}var y=p.prototype;return y.setOptions=function(o){this.config=ce(this.config,o)},y.reset=function(o){o==="destroy"&&(this.vocabInfo=void 0)},y.downloadLocalAntiSpamVocabs=function(){return le(this,void 0,void 0,q.mark(function o(){var a;return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.config.enable){c.next=2;break}return c.abrupt("return");case 2:if(!this.vocabInfo){c.next=4;break}return c.abrupt("return");case 4:return c.prev=4,c.next=7,this.core.sendCmd("v2DownloadLocalAntiSpamVocabs",{tag:{version:0,md5:""}});case 7:a=c.sent,this.vocabInfo=ce(ce({},a.content.data),{thesaurus:JSON.parse(a.content.data.thesaurus).thesaurus}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(4),this.core.logger.warn("V2NIMLocalAntispamUtil::downloadLocalAntiSpamVocabs error",c.t0);case 14:case"end":return c.stop()}},o,this,[[4,11]])}))},y.checkTextAntispam=function(o,a){if(a===void 0&&(a="**"),!this.config.enable)return{operateType:0,replacedText:o};if(ge({text:{type:"string",required:!0,allowEmpty:!1},replace:{type:"string"}},{text:o,replace:a},"",!0),!this.vocabInfo)return{operateType:0,replacedText:o};for(var l=o,c=0;c<this.vocabInfo.thesaurus.length;c++){var u=this.filterContent(l,this.vocabInfo.thesaurus[c],a);if(l=u.replacedText,u.operateType===2||u.operateType===3)return u}return{operateType:l===o?0:1,replacedText:l}},y.filterContent=function(o,a,l){for(var c=0;c<IC(a).length;c++){var u=IC(a)[c],h=u.match||a.match,C=u.operate||a.operate,x=void 0;try{x=this.matchContent(o,u.key,h,C,l)}catch{}if(x&&(o=x.replacedText,x.operateType===2||x.operateType===3))return x}return{operateType:1,replacedText:o}},y.matchContent=function(o,a,l,c,u){var h=!1,C=null;if(l===1){if(dr(o).call(o,a)>=0){h=!0;var x=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");C=new RegExp(x,"g")}}else l===2&&(C=new RegExp(a,"g")).test(o)&&(h=!0);if(h&&C)switch(c){case 1:return{operateType:1,replacedText:o.replace(C,u)};case 2:return{operateType:2,replacedText:o};case 3:return{operateType:3,replacedText:o}}return{operateType:0,replacedText:o}},p}(),o$=function(p){function y(o){var a;return(a=p.call(this,"YSFService",o)||this).core._registerDep(Vf,"V2NIMConversationIdUtil"),a.core._registerDep(r$,"V2NIMMessageCreator"),a.core._registerDep(a$,"V2NIMMessageAttachmentCreator"),a.core._registerDep(i$,"V2NIMClientAntispamUtil"),a.core._registerDep(n$,"V2NIMStorageService"),a.sendUtil=new s$(a.core,er(a)),a.fileUtil=new UV(a.core),a.model=new MV,a.notificationUtil=new zV(a.core),Wr({cmdMap:Mee,cmdConfig:_ee}),a}pr(y,p);var f=y.prototype;return f.emit=function(a){for(var l,c,u,h=this.name+"::emit "+a.toString(),C=arguments.length,x=new Array(C>1?C-1:0),k=1;k<C;k++)x[k-1]=arguments[k];if(a==="onSendMessage"){var B=x[0];this.logger.log(""+h,B.messageClientId+"/"+B.messageServerId+";createTime:"+B.createTime+";","sendingState:"+B.sendingState+";attachmentUploadState:"+(B.attachmentUploadState||0)+";messageStatus:"+((u=B.messageStatus)===null||u===void 0?void 0:u.errorCode))}else if(a==="onReceiveMessages"){var W=x[0];this.logger.log(""+h,Qe(W).call(W,function(xe){return xe.messageClientId+"/"+xe.messageServerId+";createTime:"+xe.createTime}))}else if(a==="onReceiveCustomNotifications"){var Y=x[0];this.logger.log(""+h,Qe(Y).call(Y,function(xe){return"sender:"+xe.senderId+";receiver:"+xe.receiverId+";ctype:"+xe.conversationType+";time:"+xe.timestamp}))}else{var ne,se;(ne=this.logger).log.apply(ne,Bn(se=[""+h]).call(se,x))}return(l=p.prototype.emit).call.apply(l,Bn(c=[this,a]).call(c,x))},f.sendMessage=function(a,l,c,u){return c===void 0&&(c={}),le(this,void 0,void 0,q.mark(function h(){var C,x,k,B,W,Y;return q.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return ge({message:{type:"object"}},{message:a},"",!0),a.messageClientId=a.messageClientId||ai(),ge(RV,{conversationId:l,message:a,params:c},"",!0),Za(this.core.account,l),C=this.core.timeOrigin.getTimeNode(),x=this.sendUtil.prepareMessage(a,l,c),k=x.messageBeforeSend,B=x.clientAntispamResult,W=x.hiddenParams,se.next=8,this.sendUtil.doSendMessage({apiCallingTimeNode:C,messageBeforeSend:k,clientAntispamResult:B,hiddenParams:W,progress:u});case 8:return(Y=se.sent).message.senderId===Y.message.receiverId&&this.markMsgsAck([Y.message]),se.abrupt("return",Y);case 11:case"end":return se.stop()}},h,this)}))},f.sendCustomNotification=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return this.checkV2(),Za(this.core.account,a),ge(qV,{content:l,params:c},"",!0),(h=this.notificationUtil.generateNotificationTag(a,l,c)).type=100,x.next=7,this.core.sendCmd("ysfSendCustomNotification",{tag:h});case 7:case"end":return x.stop()}},u,this)}))},f.sendMessageFn=function(a){},f.cancelMessageAttachmentUpload=function(a){return this.fileUtil.cancelMessageAttachmentUpload(a)},f.markMsgsAck=function(a){var l;if(a&&a.length>0){var c=Tn(l=Qe(a).call(a,function(u){return u.messageServerId})).call(l,function(u){return u&&u!=="0"});c.length!==0&&this.core.sendCmd("ysfBatchMarkRead",{sid:101,cid:2,ids:c})}},f.markNotificationAck=function(a){var l;if(a&&a.length>0){var c=Tn(l=Qe(a).call(a,function(u){return u.idServer})).call(l,function(u){return u&&u!=="0"});c.length!==0&&this.core.sendCmd("ysfBatchMarkRead",{sid:101,cid:3,ids:c})}},f.ysfOnMsgHandler=function(a){var l=Bs(a,a.content.data,"messageServerId"),c=ko(this.core,l);delete c.__clientExt,this.emit("onReceiveMessages",[c]),this.model.upsertMessages([c]),this.markMsgsAck([c])},f.ysfSyncOfflineMsgsHandler=function(a){var l=this,c=a.content.datas;c=Qe(c).call(c,function(u){return ko(l.core,u)}),this.markMsgsAck(c),this.emit("onReceiveMessages",c),this.model.upsertMessages(c)},f.ysfOnSysNotificationHandler=function(a){var l=Bs(a,a.content.data,"idServer");this.markNotificationAck([l]);var c=this.processSystemNotification(l);c&&this.emit("onReceiveCustomNotifications",[c])},f.processSystemNotification=function(a){var l=ce(ce({},a),{conversationType:1});return delete l.type,l},f.ysfSyncSysNotificationHandler=function(a){var l,c,u,h=this;this.markNotificationAck(a.content.datas);var C=Tn(l=Qe(c=mn(u=a.content.datas).call(u,function(x,k){return x.timestamp-k.timestamp})).call(c,function(x){return h.processSystemNotification(x)})).call(l,function(x){return x});C&&this.emit("onReceiveCustomNotifications",C)},y}(ji),s$=function(){function p(f,o){this.uploadingMessageInfo={},this.core=f,this.service=o}var y=p.prototype;return y.prepareMessage=function(o,a,l,c){var u=this.checkIfResend(o),h=this.generateSendMessage({message:o,params:l,resend:u,conversationId:a,replyMessage:c}),C=ce({},l.targetConfig?{targetConfig:l.targetConfig}:{}),x=this.checkIfAntispam(l,h),k=x.clientAntispamResult,B=x.text;return h.text=B,h.clientAntispamHit=!!k&&k.operateType===3,{messageBeforeSend:h,clientAntispamResult:k,hiddenParams:C}},y.checkIfAntispam=function(o,a){var l,c=a.text;if(o.clientAntispamEnabled&&(a.messageType===0||a.messageType===10)){if((l=this.core.V2NIMClientAntispamUtil.checkTextAntispam?this.core.V2NIMClientAntispamUtil.checkTextAntispam(a.text||"",o.clientAntispamReplace):{operateType:0,replacedText:""}).operateType===1)c=l.replacedText;else if(l.operateType===2)throw this.service.emit("onSendMessage",ce(ce({},a),{sendingState:2,messageStatus:{errorCode:it.V2NIM_ERROR_CODE_CLIENT_ANTISPAM}})),new Ct({code:it.V2NIM_ERROR_CODE_CLIENT_ANTISPAM,detail:{reason:"sendMessage: text intercepted by client antispam"}})}return{clientAntispamResult:l,text:c}},y.doMsgReceiveReport=function(o,a){if(o.senderId!==this.core.account){var l=Ht(o,"__clientExt.statistics.apiCallingTime")||0,c=Ht(o,"__clientExt.statistics.sendTime")||0,u=Ht(o,"__clientExt.statistics.attachUploadDuration")||0,h=this.core.timeOrigin.getNTPTime(),C=o.createTime,x=this.core.timeOrigin.checkNodeReliable(a.__receiveTimeNode)?this.core.timeOrigin.getNTPTime(a.__receiveTimeNode):h;this.core.reporter.report("msgReceive",{msgId:o.messageServerId,clientId:o.messageClientId,serverTime:o.createTime,receiveTime:x,fromAccid:o.conversationType===1?o.senderId:"",toAccid:o.receiverId,type:TC(o.conversationType),tid:o.conversationType===1?"":o.receiverId,apiCallingTime:l,sendTime:c,attachUploadDuration:u,callbackTime:h,preHandleTime:h,result:200,failReason:"",rt:h-C})}},y.checkIfResend=function(o){var a=this.service.model.getMessageById(o.messageClientId),l=!1;if(o.messageServerId||o.sendingState===1)throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"sendMessage: message has already been sent"}});if((a==null?void 0:a.sendingState)===1)throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"sendMessage: message has already been sent"}});return a&&(l=!0),l},y.doSendMessage=function(o){var a;return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k,B,W,Y,ne,se,xe,we;return q.wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(c=o.apiCallingTimeNode,u=o.messageBeforeSend,h=o.clientAntispamResult,C=o.hiddenParams,x=o.progress,k={},!(B=this.service instanceof o$)){Me.next=7;break}W="ysfSendMessage",Me.next=20;break;case 7:if(u.conversationType!==1){Me.next=11;break}W="v2SendP2pMessage",Me.next=20;break;case 11:if(u.conversationType!==2){Me.next=15;break}W="v2SendTeamMessage",Me.next=20;break;case 15:if(u.conversationType!==3){Me.next=19;break}W="v2SendSuperTeamMessage",Me.next=20;break;case 19:throw new il({detail:{reason:"conversationType: "+u.conversationType+" is not supported"}});case 20:if(this.service.sendMessageFn(u),!B&&this.core.eventBus.emit("forwardSend/V2NIMMessageService/sendMsg",u),!u.attachment||!("uploadState"in u.attachment)||u.attachment.url||u.attachment.uploadState!==0&&u.attachment.uploadState!==2){Me.next=48;break}return Y=lr(),Me.prev=24,u.attachmentUploadState=3,u.attachment.uploadState=3,this.service.emit("onSendMessage",u),Me.next=30,this.service.fileUtil.doSendFile(u,x);case 30:u.attachmentUploadState=1,u.attachment.uploadState=1,this.service.emit("onSendMessage",u),Me.next=45;break;case 35:throw Me.prev=35,Me.t0=Me.catch(24),u.attachmentUploadState=2,u.attachment.uploadState=2,u.sendingState=2,u.messageStatus={errorCode:Me.t0.code||it.V2NIM_ERROR_CODE_UNKNOWN},this.service.emit("onSendMessage",u),k.attachUploadDuration=lr()-Y,this.doSendMessageFailed(c,k,u,Me.t0),Me.t0;case 45:k.attachUploadDuration=lr()-Y,Me.next=49;break;case 48:this.service.emit("onSendMessage",u);case 49:return this.core.timeOrigin.checkNodeReliable(c)&&(k.apiCallingTime=this.core.timeOrigin.getNTPTime(c),k.sendTime=this.core.timeOrigin.getNTPTime(),u.__clientExt={statistics:k}),Me.prev=50,Me.next=53,this.core.sendCmd(W,{tag:ce({},u,C)});case 53:ne=Me.sent,Me.next=63;break;case 56:throw Me.prev=56,Me.t1=Me.catch(50),this.doSendMessageFailed(c,k,u,Me.t1),u.sendingState=2,u.messageStatus={errorCode:Me.t1.code||it.V2NIM_ERROR_CODE_UNKNOWN},this.service.emit("onSendMessage",u),Me.t1;case 63:return se=Ht(ne,"content.data.errorCode"),xe=ce(ce(ce(ce({},u),ne.content.data),u.aiConfig?{aiConfig:ce(ce({},u.aiConfig),((a=ne.content.data)===null||a===void 0?void 0:a.aiConfig)||{})}:{}),{sendingState:1,messageStatus:{errorCode:se&&se!==200?se:200}}),this.service.sendMessageFn(xe),!B&&this.core.eventBus.emit("forwardSend/V2NIMMessageService/sendMsg",xe),this.doMsgSendReport(c,k,u),(we=xe.antispamResult)&&(xe.messageStatus.errorCode=it.V2NIM_ERROR_CODE_SERVER_ANTISPAM),delete xe.antispamResult,this.service.emit("onSendMessage",xe),Me.abrupt("return",ce(ce({message:xe},we?{antispamResult:we}:{}),h?{clientAntispamResult:h}:{}));case 73:case"end":return Me.stop()}},l,this,[[24,35],[50,56]])}))},y.doSendMessageFailed=function(o,a,l,c){var u=ce(ce({},l),{sendingState:2});this.core.eventBus.emit("forwardSend/V2NIMMessageService/sendMsg",u),this.service.sendMessageFn(u),this.doMsgSendReport(o,a,l,c)},y.doMsgSendReport=function(o,a,l,c){a.apiCallingTime=this.core.timeOrigin.getNTPTime(o),a.sendTime=this.core.timeOrigin.getNTPTime();var u=this.core.timeOrigin.getNTPTime(),h=Ht(c,"detail.reason");this.core.reporter.report("msgSend",{msgId:l.messageServerId,clientId:l.messageClientId,msgTime:l.createTime,fromAccid:l.conversationType===1?l.senderId:"",toAccid:l.receiverId,type:TC(l.conversationType),tid:l.conversationType===1?"":l.receiverId,result:c?c.code:200,failReason:h||(c==null?void 0:c.message)||"",rt:u-a.apiCallingTime,apiCallingTime:a.apiCallingTime,sendTime:a.sendTime,attachUploadDuration:a.attachUploadDuration,apiCallbackTime:u})},y.generateSendMessage=function(o){var a,l,c=o.conversationId,u=o.replyMessage,h=o.resend,C=o.message,x=o.params,k={};if(u){var B=u.threadRoot;k={threadReply:{senderId:u.senderId,receiverId:u.receiverId,messageServerId:u.messageServerId,createTime:u.createTime,messageClientId:u.messageClientId,conversationType:u.conversationType,conversationId:u.conversationId},threadRoot:{senderId:B?B.senderId:u.senderId,receiverId:B?B.receiverId:u.receiverId,messageServerId:B?B.messageServerId:u.messageServerId,createTime:B?B.createTime:u.createTime,messageClientId:B?B.messageClientId:u.messageClientId,conversationType:B?B.conversationType:u.conversationType,conversationId:B?B.conversationId:u.conversationId}}}var W=this.core.V2NIMConversationIdUtil.parseConversationType(c),Y=this.core.V2NIMConversationIdUtil.parseConversationTargetId(c);x.pushConfig&&x.pushConfig.forcePush!==!0&&(delete x.pushConfig.forcePushContent,delete x.pushConfig.forcePushAccountIds);var ne={},se={};if(x.aiConfig){var xe=Ht(x,"aiConfig.content.msg"),we=Ht(x,"aiConfig.content.type")||0;xe?se={msg:xe,type:we}:xe===void 0&&C.messageType===0&&(se={msg:C.text||"",type:we}),(ne=ce({aiStreamStatus:0,aiStream:!1},x.aiConfig)).aiStatus=1,se.msg!==void 0&&(ne.content=se)}var $e=(l=(a=this.core.V2NIMUserService)===null||a===void 0?void 0:a.model)===null||l===void 0?void 0:l.getUser(this.core.account),Me=($e==null?void 0:$e.updateTime)||0;return ce(ce(ce(ce(ce(ce(ce(ce({},C),k),{messageConfig:ce(ce({},C.messageConfig),x.messageConfig),routeConfig:ce(ce({},C.routeConfig),x.routeConfig),pushConfig:ce(ce({},C.pushConfig),x.pushConfig),antispamConfig:ce(ce({},C.antispamConfig),x.antispamConfig),robotConfig:ce(ce({},C.robotConfig),x.robotConfig)}),ne&&ne.accountId?{aiConfig:ne}:{}),C.attachment?{attachment:ce({},C.attachment)}:{}),{resend:h,senderId:this.core.account,conversationType:W,receiverId:Y,conversationId:this.core.V2NIMConversationIdUtil.messageConversationId({conversationType:W,senderId:this.core.account,receiverId:Y})}),Me?{userUpdateTime:Me}:{}),{sendingState:3})},p}(),Vee=function(){function p(f,o){this.core=f,this.service=o}var y=p.prototype;return y.checkIfModify=function(o,a){var l,c;if(o.messageServerId==="0")throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"modifyMessage: messageServerId cannot be empty"}});if(!or(l=[0,1,2,3,4,6,10,12,100]).call(l,o.messageType))throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"modifyMessage: messageType "+o.messageType+" not correct"}});if(or(c=[0,1,2,3,6,10,12]).call(c,o.messageType)&&a.attachment)throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"modifyMessage: messageType "+o.messageType+" can not modify attachment"}});var u=["subType","text","serverExtension","attachment"];if(!Mi(u).call(u,function(h){return Ht(a,h)!==void 0}))throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"modifyMessage: missing modified params"}});if(rl(u).call(u,function(h){return h==="attachment"?o.attachment&&a.attachment?kS(o.messageType,o.attachment)===kS(o.messageType,a.attachment):!a.attachment:Ht(o,h)===Ht(a,h)}))throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"modifyMessage: no change"}})},y.prepareMessage=function(o,a){var l=this.generateSendMessage(o,a),c=this.checkIfAntispam(a,l),u=c.clientAntispamResult,h=c.text;return l.text=h,l.clientAntispamHit=!!u&&u.operateType===3,{messageBeforeSend:l,clientAntispamResult:u}},y.modifyMessage=function(o,a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(o.conversationType!==1){B.next=4;break}c="v2MessageP2pModify",B.next=13;break;case 4:if(o.conversationType!==2){B.next=8;break}c="v2MessageTeamModify",B.next=13;break;case 8:if(o.conversationType!==3){B.next=12;break}c="v2MessageSuperTeamModify",B.next=13;break;case 12:throw new il({detail:{reason:"conversationType: "+o.conversationType+" is not supported"}});case 13:return B.next=15,this.core.sendCmd(c,{tag:o});case 15:if(u=B.sent,!a||a.operateType!==3){B.next=18;break}return B.abrupt("return",{errorCode:it.V2NIM_ERROR_CODE_CLIENT_ANTISPAM,clientAntispamResult:a});case 18:if(h=ce(ce({},o),u.content.data),!(C=h.antispamResult)){B.next=22;break}return B.abrupt("return",ce({errorCode:it.V2NIM_ERROR_CODE_SERVER_ANTISPAM,antispamResult:C},a?{clientAntispamResult:a}:{}));case 22:return delete h.antispamResult,x=ko(this.core,h),this.service.model.upsertMessages([x]),this.core.eventBus.emit("V2NIMMessageService/modifyMsg",x),this.core.eventBus.emit("forwardSend/V2NIMMessageService/modifyMsg",x),B.abrupt("return",ce(ce({errorCode:200,message:x},C?{antispamResult:C}:{}),a?{clientAntispamResult:a}:{}));case 28:case"end":return B.stop()}},l,this)}))},y.checkIfAntispam=function(o,a){var l,c=a.text;if(o.clientAntispamEnabled&&(a.messageType===0||a.messageType===10)){if((l=this.core.V2NIMClientAntispamUtil.checkTextAntispam?this.core.V2NIMClientAntispamUtil.checkTextAntispam(a.text||"",o.clientAntispamReplace):{operateType:0,replacedText:""}).operateType===1)c=l.replacedText;else if(l.operateType===2)throw new Ct({code:it.V2NIM_ERROR_CODE_CLIENT_ANTISPAM,detail:{reason:"sendMessage: text intercepted by client antispam"}})}return{clientAntispamResult:l,text:c}},y.generateSendMessage=function(o,a){var l;return ce(ce({messageConfig:{lastMessageUpdateEnabled:(l=o.messageConfig)===null||l===void 0?void 0:l.lastMessageUpdateEnabled},routeConfig:ce({routeEnabled:!0},a.routeConfig),pushConfig:ce({pushEnabled:!0,pushNickEnabled:!0,forcePush:!1},a.pushConfig),antispamConfig:ce({antispamEnabled:!0},a.antispamConfig)},a.attachment?{attachment:a.attachment}:{}),{conversationType:o.conversationType,senderId:o.senderId,receiverId:o.receiverId,createTime:o.createTime,messageClientId:o.messageClientId,messageServerId:o.messageServerId,messageType:o.messageType,subType:a.subType,text:a.text,serverExtension:a.serverExtension})},p}(),$ee=function(){function p(f,o){var a=this;this.emitRevokeMessage=function(l){var c=Qe(l).call(l,function(u){var h=$V(a.core,u);return h.messageRefer.conversationType===3?a.core.eventBus.emit("V2NIMSync/updateTimetag",{deleteSuperTeamMsg:u.createTime}):a.core.eventBus.emit("V2NIMSync/updateTimetag",{recallMsg:u.createTime}),h});rt(c).call(c,function(u){a.service.model.deleteMessage(u.messageRefer.messageClientId)}),a.service.emit("onMessageRevokeNotifications",c),a.core.eventBus.emit("V2NIMMessageService/revokeMessages",c)},this.core=f,this.service=o,this.logger=f.logger}var y=p.prototype;return y.revokeMessage=function(o,a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k,B;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(ge(HZ,{message:o,params:a},"",!0),Za(this.core.account,o.conversationId),o.conversationType!==1||o.senderId===this.core.account){Y.next=6;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"revokeMessage: p2p message senderId is not current user"}});case 6:if(o.messageServerId&&o.messageServerId!=="0"){Y.next=8;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"revokeMessage: cannot revoke message with invalid messageServerId: "+o.messageServerId}});case 8:return h=o.conversationType===3?"v2RevokeSuperTeamMessage":"v2RevokeMessage",(c={})[1]=7,c[2]=8,c[3]=12,C=c,x=ce(ce(ce({},o),a),{attach:a&&a.serverExtension,sysMsgType:C[o.conversationType],opeAccount:this.core.account}),Y.next=13,this.core.sendCmd(h,{tag:x});case 13:(u={})[1]=1,u[2]=2,u[3]=3,k=u,B=[JSON.parse($t({postscript:a&&a.postscript,revokeType:k[o.conversationType],revokeAccountId:this.core.account,serverExtension:a&&a.serverExtension,messageRefer:md(this.core,o)}))],this.revokeMessagesFn(B),this.core.eventBus.emit("forwardSend/V2NIMMessageService/revokeMessage",x);case 17:case"end":return Y.stop()}},l,this)}))},y.deleteMessage=function(o,a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(ge(AV,o,"",!0),o.sendingState!==3){k.next=5;break}this.service.fileUtil.cancelMessageAttachmentUpload(o),k.next=7;break;case 5:if(!o.sendingState||o.sendingState===1){k.next=7;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"deleteMessage: cannot delete unsent message"}});case 7:if(c={messageRefer:md(this.core,o),serverExtension:a},u=lr(),!o.messageServerId||o.messageServerId==="0"){k.next=14;break}return k.next=12,this.core.sendCmd("v2DeleteMessage",{tag:c});case 12:h=k.sent,u=h.content.timetag;case 14:C=[{serverExtension:a,messageRefer:md(this.core,o),deleteTime:u}],this.core.eventBus.emit("forwardSend/V2NIMMessageService/deleteSelfMsgs",[ce(ce({},c),{deleteTime:u})]),this.deleteMessagesFn(C);case 17:case"end":return k.stop()}},l,this)}))},y.deleteMessages=function(o,a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k,B,W,Y,ne,se=this;return q.wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(ge(WZ,{messages:o},"",!0),u=[],h=[],o.length!==0){we.next=7;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"deleteMessages: message array length is 0"}});case 7:C=o[0].conversationId,x=0;case 9:if(!(x<o.length)){we.next=22;break}if(o[x].sendingState!==3){we.next=14;break}this.service.fileUtil.cancelMessageAttachmentUpload(o[x]),we.next=16;break;case 14:if(!o[x].sendingState||o[x].sendingState===1){we.next=16;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"deleteMessage: sendingState should be succeeded, please check message at index: "+x}});case 16:if(!(x>=1&&o[x].conversationId!==C)){we.next=18;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"deleteMessages: only allow to delete messages from same conversation"}});case 18:o[x].messageServerId&&o[x].messageServerId!=="0"?u.push(o[x]):h.push(o[x]);case 19:x++,we.next=9;break;case 22:if(k=lr(),B=Bn(c=[]).call(c,h),we.prev=24,!(u.length>0)){we.next=31;break}return we.next=28,this.core.sendCmd("v2DeleteMessages",{tag:Qe(u).call(u,function($e){return{messageRefer:$e,serverExtension:a}})});case 28:Y=we.sent,k=Y.content.timetag,B=Bn(W=[]).call(W,B,u);case 31:we.next=40;break;case 33:if(we.prev=33,we.t0=we.catch(24),h.length!==0){we.next=39;break}throw we.t0;case 39:this.logger.warn("V2NIMMessageService:deleteMessages: delete messages with serverId failed");case 40:ne=Qe(B).call(B,function($e){return{serverExtension:a,messageRefer:md(se.core,$e),deleteTime:k}}),this.core.eventBus.emit("forwardSend/V2NIMMessageService/deleteSelfMsgs",Qe(B).call(B,function($e){return{messageRefer:$e,serverExtension:a,deleteTime:k}})),this.deleteMessagesFn(ne);case 43:case"end":return we.stop()}},l,this,[[24,33]])}))},y.revokeMessagesFn=function(o){var a=this;rt(o).call(o,function(l){a.service.model.deleteMessage(l.messageRefer.messageClientId)}),this.service.emit("onMessageRevokeNotifications",o),this.core.eventBus.emit("V2NIMMessageService/revokeMessages",o)},y.deleteMessagesFn=function(o){var a=this;rt(o).call(o,function(l){a.service.model.deleteMessage(l.messageRefer.messageClientId),a.core.eventBus.emit("V2NIMSync/updateTimetag",{deleteSelfMsgs:l.deleteTime})}),this.service.emit("onMessageDeletedNotifications",o),this.core.eventBus.emit("V2NIMMessageService/deleteMessages",o)},p}(),Uee=function(){function p(f,o){this.core=f,this.service=o,this.logger=f.logger}var y=p.prototype;return y.stopAIStreamMessage=function(o,a){var l;return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkAI(),h.next=3,this.core.sendCmd("v2AIStopModelStreamCall",{tag:{serverId:o.messageServerId,clientId:o.messageClientId,type:o.conversationType,from:o.senderId,to:o.receiverId,aiAccount:(l=o.aiConfig)===null||l===void 0?void 0:l.accountId,opeType:a.operationType,updateContent:a.updateContent,messageTime:o.createTime}});case 3:this.logger.log("V2AIUtil::streamMessageStop,clientId:"+o.messageClientId),this.core.V2NIMAIService.model.completeAiStream(o.messageClientId);case 5:case"end":return h.stop()}},c,this)}))},y.regenAIMessage=function(o,a){var l,c,u,h,C,x,k,B;return le(this,void 0,void 0,q.mark(function W(){var Y;return q.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(this.checkAI(),!(Y=this.core.V2NIMAIService.model.getAiStream(o.messageClientId))){se.next=7;break}if(Y!=null&&Y.isComplete){se.next=5;break}throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"msg::regenAIMessage streamCache is not complete, msgId:"+o.messageClientId}});case 5:se.next=9;break;case 7:if(((l=o.streamConfig)===null||l===void 0?void 0:l.status)!==-1&&((c=o.streamConfig)===null||c===void 0?void 0:c.status)!==1){se.next=9;break}throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"msg::regenAIMessage message streamConfig.status forbidden "+o.streamConfig.status}});case 9:return se.next=11,this.core.sendCmd("v2AIRegenMessage",{tag:{fromAccount:o.senderId,to:o.receiverId,aiAccount:(u=o.aiConfig)===null||u===void 0?void 0:u.accountId,serverId:o.messageServerId,clientId:o.messageClientId,time:o.createTime,type:o.conversationType,opeType:a.operationType,replyMsgFromAccount:(h=o.threadReply)===null||h===void 0?void 0:h.senderId,replyMsgToAccount:(C=o.threadReply)===null||C===void 0?void 0:C.receiverId,replyMsgTime:(x=o.threadReply)===null||x===void 0?void 0:x.createTime,replyMsgIdServer:(k=o.threadReply)===null||k===void 0?void 0:k.messageServerId,replyMsgIdClient:(B=o.threadReply)===null||B===void 0?void 0:B.messageClientId}});case 11:a.operationType===1&&this.core.V2NIMAIService.model.setAiStream(o.messageClientId,{isComplete:!1,queryStatus:0,chunks:[]});case 12:case"end":return se.stop()}},W,this)}))},y.checkAI=function(){if(!this.hasAI())throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"V2NIMAIService is not registered"}})},y.hasAI=function(){var o;return!!(!((o=this.core.V2NIMAIService)===null||o===void 0)&&o.name)},p}(),Bee=function(){function p(f,o){this.core=f,this.service=o,this.model=o.model,this.receiptUtil=o.receiptUtil,this.logger=this.core.logger}var y=p.prototype;return y.setAIStreamPlaceholder=function(o){var a=this;this.service.aiUtil.hasAI()&&rt(o).call(o,function(l){var c;((c=l.streamConfig)===null||c===void 0?void 0:c.status)===1&&a.core.V2NIMAIService.model.setAiStream(l.messageClientId,{isComplete:!1,queryStatus:0,chunks:[],msg:l},!0)})},y.onMsgHandler=function(o){var a=Bs(o,o.content.msg,"messageServerId"),l=a._conversationOnlineSyncNotify,c=a._conversationOnlineSyncData,u=Ja(a,["_conversationOnlineSyncNotify","_conversationOnlineSyncData"]),h=ko(this.core,u),C=this.service._filterMessage(h);this.logger.log("v2OnMsgHandler::recvMsg "+h.messageClientId+"/"+h.messageServerId+"/"+h.createTime+";isHitFilter:"+C),h.conversationType===3?this.core.eventBus.emit("V2NIMSync/updateTimetag",{superTeamRoamingMsgs:h.createTime,offlineMsgs:h.createTime}):this.core.eventBus.emit("V2NIMSync/updateTimetag",{roamingMsgs:h.createTime,offlineMsgs:h.createTime}),this.service.config.compatibleWithV1||(this.service.markMsgsAck([h]),this.service.sendUtil.doMsgReceiveReport(h,o)),delete h.__clientExt,this.setAIStreamPlaceholder([h]),h.messageType!==5&&this.core.V2NIMUserService.checkUserUpdate&&this.core.V2NIMUserService.checkUserUpdate(h,h.userUpdateTime),h.messageType===5&&this.core.eventBus.emit("V2NIMTeamService/notification",a),C||(this.service.emit("onReceiveMessages",[h]),this.model.upsertMessages([h]),l&&this.core.eventBus.emit("V2NIMConversationService/conversationOnlineSyncNotify",{content:{info:JSON.parse(l),data:JSON.parse(c)}},h),this.core.eventBus.emit("V2NIMMessageService/onMsg",h))},y.syncOfflineMsgsHandler=function(o){var a=this,l=o.content.datas;l=Qe(l).call(l,function(c){return ko(a.core,c)}),(l=this.service._filterMessagesByFn(l)).length!==0&&(!this.service.config.compatibleWithV1&&this.service.markMsgsAck(l),this.service.emit("onReceiveMessages",l),this.model.upsertMessages(l),this.core.eventBus.emit("V2NIMMessageService/offlineMsgs",l))},y.syncRoamingMsgsHandler=function(o){var a=this,l=o.content.datas;l=Qe(l).call(l,function(c){return ko(a.core,c)}),this.setAIStreamPlaceholder(l),(l=this.service._filterMessagesByFn(l)).length!==0&&(this.service.emit("onReceiveMessages",l),this.model.upsertMessages(l),this.core.eventBus.emit("V2NIMMessageService/roamingMsgs",l))},y.onP2PMessageReceiptsHandler=function(o){this.receiptUtil.onP2PMessageReceiptsHandler(o)},y.onTeamMessageReceiptsHandler=function(o){this.receiptUtil.onTeamMessageReceiptsHandler(o)},y.syncP2PMessagReceiptsHandler=function(o){this.receiptUtil.syncP2PMessagReceiptsHandler(o)},y.syncRevokeMessageHandler=function(o){this.service.deleteUtil.emitRevokeMessage(o.content.datas)},y.onRevokeMessageHandler=function(o){var a=o.content.data;this.service.deleteUtil.emitRevokeMessage([a])},y.onDeleteMessageHandler=function(o){var a=o.content.data,l={serverExtension:a.serverExtension,deleteTime:a.deleteTime,messageRefer:OS(this.core,a.messageRefer)};this.service.deleteUtil.deleteMessagesFn([l])},y.onDeleteMessagesHandler=function(o){var a,l=this,c=Qe(a=o.content.data).call(a,function(u){return{serverExtension:u.serverExtension,deleteTime:u.deleteTime,messageRefer:OS(l.core,u.messageRefer)}});this.service.deleteUtil.deleteMessagesFn(c)},y.syncOnDeleteMessagesHandler=function(o){var a=this,l=o.content.datas,c=Qe(l).call(l,function(u){return{serverExtension:u.serverExtension,deleteTime:u.deleteTime,messageRefer:OS(a.core,u.messageRefer)}});this.service.emit("onMessageDeletedNotifications",c)},y.v2MessageOnModifiedHandler=function(o){var a=ko(this.core,o.content.data);this.model.upsertMessages([a]),this.service.aiUtil.hasAI()&&this.core.V2NIMAIService.model.completeAiStream(a.messageClientId),this.core.eventBus.emit("forwardSend/V2NIMMessageService/modifyMsg",a),this.core.eventBus.emit("V2NIMMessageService/modifyMsg",a),this.core.eventBus.emit("V2NIMSync/updateTimetag",a.conversationType===3?{superTeamModifyMessage:a.modifyTime}:{p2pTeamModifyMessage:a.modifyTime}),this.service.emit("onReceiveMessagesModified",[a])},y.v2MessageSyncModifiedHandler=function(o){var a,l,c=this,u=Tn(a=Qe(l=o.content.datas).call(l,function(h){return ko(c.core,h)})).call(a,function(h){var C,x=((C=c.model.getMessageById(h.messageClientId))===null||C===void 0?void 0:C.modifyTime)||0;return(h.modifyTime||0)>x});u.length>0&&(this.model.upsertMessages(u),rt(u).call(u,function(h){c.service.aiUtil.hasAI()&&c.core.V2NIMAIService.model.completeAiStream(h.messageClientId),c.core.eventBus.emit("forwardSend/V2NIMMessageService/modifyMsg",h)}),this.service.emit("onReceiveMessagesModified",u))},y.v2MessageSyncSuperTeamModifiedHandler=function(o){this.v2MessageSyncModifiedHandler(o)},p}(),Fee=function(){function p(f,o){this.core=f,this.service=o,this.logger=this.core.logger}var y=p.prototype;return y.setListener=function(){var o,a,l,c=this;this.core.eventBus.on("forwardReceive/V2NIMMessageService/sendMsg",cn(o=this.service.sendMessageFn).call(o,this.service)),this.core.eventBus.on("forwardReceive/V2NIMMessageService/revokeMessages",cn(a=this.service.deleteUtil.emitRevokeMessage).call(a,this.service.deleteUtil)),this.core.eventBus.on("forwardReceive/V2NIMMessageService/deleteMessages",cn(l=this.service.deleteUtil.deleteMessagesFn).call(l,this.service.deleteUtil)),this.core.eventBus.on("V2NIMConversationService/deleteConversation",function(u){rt(u).call(u,function(h){return c.service.model.deleteMessages(h)})}),this.core.eventBus.on("V2NIMAIService/receiveMessagesModified",function(u){return c.service.emit("onReceiveMessagesModified",u)})},y.beforeEmit=function(o){for(var a,l,c,u=this.service.name+"::emit "+o.toString(),h=arguments.length,C=new Array(h>1?h-1:0),x=1;x<h;x++)C[x-1]=arguments[x];if(o==="onSendMessage"){var k=C[0];this.logger.log(""+u,k.messageClientId+"/"+k.messageServerId+"/"+k.createTime+";","sendingState:"+k.sendingState+";attachmentUploadState:"+(k.attachmentUploadState||0)+";messageStatus:"+((a=k.messageStatus)===null||a===void 0?void 0:a.errorCode)+";config.lastMsg:"+((l=k.messageConfig)===null||l===void 0?void 0:l.lastMessageUpdateEnabled)+";config.unread:"+((c=k.messageConfig)===null||c===void 0?void 0:c.unreadEnabled))}else if(o==="onReceiveMessages"||o==="onReceiveMessagesModified"){var B=C[0];this.logger.log(""+u,Qe(B).call(B,function(xe){var we,$e;return xe.messageClientId+"/"+xe.messageServerId+"/"+xe.createTime+";config.lastMsg:"+((we=xe.messageConfig)===null||we===void 0?void 0:we.lastMessageUpdateEnabled)+";config.unread:"+(($e=xe.messageConfig)===null||$e===void 0?void 0:$e.unreadEnabled)}))}else if(o==="onMessageRevokeNotifications"){var W=C[0];this.logger.log(""+u,Qe(W).call(W,function(xe){return"msg:"+xe.messageRefer.messageClientId+"/"+xe.messageRefer.messageServerId+";revokeAccountId:"+xe.revokeAccountId}))}else if(o==="onMessageDeletedNotifications"){var Y=C[0];this.logger.log(""+u,Qe(Y).call(Y,function(xe){return"msg:"+xe.messageRefer.messageClientId+"/"+xe.messageRefer.messageServerId+";deleteTime:"+xe.deleteTime}))}else{var ne,se;(ne=this.logger).log.apply(ne,Bn(se=[""+u]).call(se,C))}},p}(),l$=function(p){function y(o,a){var l;return a===void 0&&(a={}),(l=p.call(this,"V2NIMMessageService",o)||this).customAttachmentParsers=[],l.config={compatibleWithV1:!0},l.filterFn=void 0,l.core._registerDep(Vf,"V2NIMConversationIdUtil"),l.core._registerDep(r$,"V2NIMMessageCreator"),l.core._registerDep(a$,"V2NIMMessageAttachmentCreator"),l.core._registerDep(i$,"V2NIMClientAntispamUtil"),l.receiptUtil=new gee(l.core,er(l)),l.fileUtil=new UV(l.core),l.sendUtil=new s$(l.core,er(l)),l.modifyUtil=new Vee(l.core,er(l)),l.deleteUtil=new $ee(l.core,er(l)),l.aiUtil=new Uee(l.core,er(l)),l.model=new MV,l.event=new Fee(l.core,er(l)),l.handler=new Bee(l.core,er(l)),l.core.options.apiVersion!=="v2"?er(l):(Wr({cmdMap:Iee,cmdConfig:Eee}),l.setOptions(a),l.setListener(),l)}pr(y,p);var f=y.prototype;return f.setOptions=function(a){var l;!((l=this.core.msg)===null||l===void 0)&&l.name?this.config.compatibleWithV1=!0:this.config.compatibleWithV1=!1,this.config=ce(this.config,a)},f.setListener=function(){this.event.setListener()},f.reset=function(){this.model.reset(),this.receiptUtil.reset()},f.emit=function(a){for(var l,c,u,h,C=arguments.length,x=new Array(C>1?C-1:0),k=1;k<C;k++)x[k-1]=arguments[k];return(l=this.event).beforeEmit.apply(l,Bn(c=[a]).call(c,x)),(u=p.prototype.emit).call.apply(u,Bn(h=[this,a]).call(h,x))},f.checkExtendUtil=function(){var a;if(!(!((a=this.core.V2NIMMessageExtendUtil)===null||a===void 0)&&a.name))throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"V2NIMMessageLogUtil is not registered"}})},f.checkLogUtil=function(){var a;if(!(!((a=this.core.V2NIMMessageLogUtil)===null||a===void 0)&&a.name))throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"V2NIMMessageExtendUtil is not registered"}})},f.getMessageList=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkV2(),this.checkLogUtil(),h.next=4,this.core.V2NIMMessageLogUtil.getMessageList(a);case 4:return c=h.sent,c=this._filterMessageByClearTime(a.conversationId,c),c=this._filterMessagesByFn(c),h.abrupt("return",c);case 8:case"end":return h.stop()}},l,this)}))},f.getMessageListEx=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkV2(),this.checkLogUtil(),h.next=4,this.core.V2NIMMessageLogUtil.getMessageList(a);case 4:return c=h.sent,c=this._filterMessageByClearTime(a.conversationId,c),h.abrupt("return",{messages:this._filterMessagesByFn(c),anchorMessage:c.length>0?c[c.length-1]:null});case 7:case"end":return h.stop()}},l,this)}))},f.getMessageListByRefers=function(a){return this.checkV2(),this.checkLogUtil(),this.core.V2NIMMessageLogUtil.getMessageListByRefers(a)},f.clearHistoryMessage=function(a){return this.checkV2(),this.checkLogUtil(),this.core.V2NIMMessageLogUtil.clearHistoryMessage(a)},f.pinMessage=function(a,l){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.pinMessage(a,l)},f.unpinMessage=function(a,l){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.unpinMessage(a,l)},f.updatePinMessage=function(a,l){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.updatePinMessage(a,l)},f.voiceToText=function(a){return this.checkV2(),this.checkExtendUtil(),typeof a.duration=="string"&&(a.duration=Number(a.duration)),this.core.V2NIMMessageExtendUtil.voiceToText(a)},f.getPinnedMessageList=function(a){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.getPinnedMessageList(a)},f.addQuickComment=function(a,l,c,u){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.addQuickComment(a,l,c,u)},f.removeQuickComment=function(a,l,c){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.removeQuickComment(a,l,c)},f.getQuickCommentList=function(a){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.getQuickCommentList(a)},f.addCollection=function(a){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.addCollection(a)},f.removeCollections=function(a){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.removeCollections(a)},f.updateCollectionExtension=function(a,l){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.updateCollectionExtension(a,l)},f.getCollectionListByOption=function(a){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.getCollectionListByOption(a)},f.getCollectionListExByOption=function(a){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.getCollectionListExByOption(a)},f.searchCloudMessages=function(a){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.searchCloudMessages(a)},f.searchCloudMessagesEx=function(a){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.searchCloudMessagesEx(a)},f.getThreadMessageList=function(a){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.getThreadMessageList(a)},f.registerCustomAttachmentParser=function(a){var l;typeof a=="function"&&dr(l=this.customAttachmentParsers).call(l,a)===-1&&this.customAttachmentParsers.unshift(a)},f.unregisterCustomAttachmentParser=function(a){var l,c,u=dr(l=this.customAttachmentParsers).call(l,a);u>-1&&Qa(c=this.customAttachmentParsers).call(c,u,1)},f.sendP2PMessageReceipt=function(a){return this.checkV2(),this.receiptUtil.sendP2PMessageReceipt(a)},f.isPeerRead=function(a){return this.checkV2(),this.receiptUtil.isPeerRead(a)},f.getP2PMessageReceipt=function(a){return this.checkV2(),this.receiptUtil.getP2PMessageReceipt(a)},f.getTeamMessageReceipts=function(a){return this.checkV2(),this.receiptUtil.getTeamMessageReceipts(a)},f.getTeamMessageReceiptDetail=function(a){return this.checkV2(),this.receiptUtil.getTeamMessageReceiptDetail(a)},f.sendTeamMessageReceipts=function(a){return this.checkV2(),this.receiptUtil.sendTeamMessageReceipts(a)},f.revokeMessage=function(a,l){return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkV2(),h.abrupt("return",this.deleteUtil.revokeMessage(a,l));case 2:case"end":return h.stop()}},c,this)}))},f.deleteMessage=function(a,l){return this.checkV2(),this.deleteUtil.deleteMessage(a,l)},f.deleteMessages=function(a,l){return this.checkV2(),this.deleteUtil.deleteMessages(a,l)},f.cancelMessageAttachmentUpload=function(a){return this.checkV2(),this.fileUtil.cancelMessageAttachmentUpload(a)},f.markMsgsAck=function(a){var l=this;if(a&&a.length>0){var c=[],u=[];rt(a).call(a,function(h){h.senderId===l.core.account&&h.senderId!==h.receiverId||(h.conversationType===1?c.push(h):h.conversationType===2&&u.push(h))}),c.length>0&&this.core.sendCmd("v2BatchMarkRead",{sid:7,cid:2,ids:Qe(c).call(c,function(h){return h.messageServerId})}),u.length>0&&this.core.sendCmd("v2BatchMarkRead",{sid:8,cid:3,ids:Qe(u).call(u,function(h){return h.messageServerId})})}},f.sendMessage=function(a,l,c,u){var h;return c===void 0&&(c={}),le(this,void 0,void 0,q.mark(function C(){var x,k,B,W,Y,ne,se,xe,we=this;return q.wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(this.checkV2(),ge({message:{type:"object"}},{message:a},"",!0),a.messageClientId=a.messageClientId||ai(),!a.conversationId||a.conversationId===l){Me.next=5;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"sendMessage: message.conversationId is not equal to conversationId"}});case 5:if(ge(RV,{conversationId:l,message:a,params:c},"",!0),Za(this.core.account,l),(x=this.core.V2NIMConversationIdUtil.parseConversationType(l))!==2&&x!==3||!c.robotConfig||c.robotConfig.accountId){Me.next=10;break}throw new il({detail:{reason:"When conversationType is team or superTeam, account is required in robotInfo account is required"}});case 10:if(x!==2&&x!==3||!c.targetConfig){Me.next=20;break}if(k=c.targetConfig.receiverIds,x!==3||c.targetConfig.inclusive!==!1){Me.next=14;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"setting inclusive to false for super teams is not allowed"}});case 14:if(k=Tn(k).call(k,function(Fe){return Fe&&Fe!==we.core.account}),k.length!==0){Me.next=17;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"receiverIds cannot be empty or only contain yourself"}});case 17:c.targetConfig.receiverIds=k,Me.next=21;break;case 20:c.targetConfig=void 0;case 21:return!((h=c.aiConfig)===null||h===void 0)&&h.aiStream&&this.aiUtil.checkAI(),B=this.core.timeOrigin.getTimeNode(),W=this.sendUtil.prepareMessage(a,l,c),Y=W.messageBeforeSend,ne=W.clientAntispamResult,se=W.hiddenParams,this.logger.log("V2SendMessage start:"+Y.messageClientId+"/"+Y.createTime+";conversation:"+l+";","NTPTime:"+this.core.timeOrigin.getNTPTime(B)),Me.prev=25,Me.next=28,this.sendUtil.doSendMessage({apiCallingTimeNode:B,messageBeforeSend:Y,clientAntispamResult:ne,hiddenParams:se,progress:u});case 28:xe=Me.sent,Me.next=35;break;case 31:throw Me.prev=31,Me.t0=Me.catch(25),this.logger.warn("V2SendMessage end:"+Y.messageClientId+".",Me.t0 instanceof Ct?"failed:"+Me.t0.code:"failed"),Me.t0;case 35:return xe.message.senderId===xe.message.receiverId&&this.markMsgsAck([xe.message]),this.logger.log("V2SendMessage end:"+xe.message.messageClientId+"/"+xe.message.messageServerId+"/"+xe.message.createTime),Me.abrupt("return",xe);case 38:case"end":return Me.stop()}},C,this,[[25,31]])}))},f.replyMessage=function(a,l,c,u){return c===void 0&&(c={}),le(this,void 0,void 0,q.mark(function h(){var C,x,k,B,W,Y;return q.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(this.checkV2(),ge({message:{type:"object"}},{message:a},"",!0),a.messageClientId=a.messageClientId||ai(),ge(zZ,{message:a,replyMessage:l,params:c},"",!0),Za(this.core.account,l.conversationId),a.conversationType!==2&&a.conversationType!==3||!c.robotConfig||c.robotConfig.accountId){se.next=7;break}throw new il({detail:{reason:"When conversationType is team or superTeam, account is required in robotInfo account is required"}});case 7:return C=this.core.timeOrigin.getTimeNode(),x=this.sendUtil.prepareMessage(a,l.conversationId,c,l),k=x.messageBeforeSend,B=x.clientAntispamResult,W=x.hiddenParams,se.next=11,this.sendUtil.doSendMessage({apiCallingTimeNode:C,messageBeforeSend:k,clientAntispamResult:B,hiddenParams:W,progress:u});case 11:return(Y=se.sent).message.senderId===Y.message.receiverId&&this.markMsgsAck([Y.message]),se.abrupt("return",Y);case 14:case"end":return se.stop()}},h,this)}))},f.modifyMessage=function(a,l){this.checkV2(),this.checkLogin(),ge(dee,a,"message",!0),ge(pee,l,"params",!0),this.modifyUtil.checkIfModify(a,l);var c=this.modifyUtil.prepareMessage(a,l),u=c.messageBeforeSend,h=c.clientAntispamResult;return this.modifyUtil.modifyMessage(u,h)},f.stopAIStreamMessage=function(a,l){if(this.checkV2(),this.aiUtil.checkAI(),ge(LV,a,"message",!0),ge(mee,l,"params",!0),l.operationType===2&&!l.updateContent)throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"V2NIMMessage::stopAIStreamMessage updateContent empty"}});return this.aiUtil.stopAIStreamMessage(a,l)},f.regenAIMessage=function(a,l){return this.checkV2(),this.aiUtil.checkAI(),ge(LV,a,"message",!0),ge(fee,l,"params",!0),this.aiUtil.regenAIMessage(a,l)},f.sendMessageFn=function(a){if(a.msgAckSnapshot){var l=a.msgAckSnapshot,c={conversationId:a.conversationId,messageServerId:a.messageServerId,messageClientId:a.messageClientId,readCount:0,unreadCount:Number(l)};delete a.msgAckSnapshot,this.emit("onReceiveTeamMessageReadReceipts",[c])}a=jx(a,this.core),this.model.upsertMessages([a]),this.core.eventBus.emit("V2NIMMessageService/sendMessage",a,a.sendingState)},f.setMessageFilter=function(a){a!=null?a&&typeof a.shouldIgnore=="function"&&(this.filterFn=a.shouldIgnore):this.filterFn=void 0},f._filterMessage=function(a){if(typeof this.filterFn=="function")try{return this.filterFn(a)===!0}catch(l){return this.logger.error("V2NIMMessage::triggerMessageFilter "+a.messageClientId+" error:",l),!1}return!1},f._filterMessagesByFn=function(a){var l=this;return Tn(a).call(a,function(c){return!l._filterMessage(c)})},f._filterMessageByClearTime=function(a,l){var c=rn.localStorage.getItem("nim_"+this.core.account+"_"+a+"_clearTime"),u=c?un(c):0;return u>0?Tn(l).call(l,function(h){return h.createTime>=u}):l},y}(ji),qee={super_team:3,p2p:1,team:2},zee=((LS={})[3]="super_team",LS[1]="p2p",LS[0]="p2p",LS[2]="team",LS);function _C(p,y){y===void 0&&(y="|");var f=dr(p).call(p,y);if(f===-1)return{target:"",type:0};var o=zn(p).call(p,0,f);return{target:zn(p).call(p,f+1),type:qee[o]||0}}function Hee(p,y){return zee[p]+"|"+y}var Gee=function(){function p(){this.map=new Xa,this.capacity=1e4,this.readTimeMap=new Xa,this.stickTopMap=new Xa}var y=p.prototype;return y.reset=function(){Qe(this).clear(),this.readTimeMap.clear(),this.stickTopMap.clear()},y.count=function(){return Qe(this).size},y.sort=function(){var o,a=this,l=ma(Xo(o=Qe(this)).call(o));mn(l).call(l,function(c,u){return u.sortOrder-c.sortOrder}),Qe(this).clear(),rt(l).call(l,function(c){Qe(a).set(c.conversationId,c)})},y.processConversation=function(o){return typeof o.lastMessage=="string"&&delete o.lastMessage,o.localExtension===void 0&&(o.localExtension=""),o},y.getById=function(o){return Qe(this).get(o)},y.getAll=function(){var o,a=ma(Xo(o=Qe(this)).call(o));return mn(a).call(a,function(l,c){return c.sortOrder-l.sortOrder})},y.getStickTopList=function(){var o,a,l=ma(Xo(o=Qe(this)).call(o));return mn(a=Tn(l).call(l,function(c){return c.stickTop})).call(a,function(c,u){return u.sortOrder-c.sortOrder})},y.getByOption=function(o,a,l){var c,u=l.conversationTypes,h=l.onlyUnread,C=[];rt(c=Qe(this)).call(c,function(B){u&&u.length>0&&!or(u).call(u,B.type)||h&&!B.unreadCount||l.ignoreMuted&&B.mute||C.push(B)}),C=mn(C).call(C,function(B,W){return W.sortOrder-B.sortOrder});var x=0;o>0&&(x=nv(C,"sortOrder",o),C[x]&&C[x].sortOrder===o&&(x+=1));var k=zn(C).call(C,x).length;return(C=zn(C).call(C,x,x+a)).length>0?{offset:k>a?C[C.length-1].sortOrder:0,finished:!(k>a),conversationList:C}:{offset:0,finished:!0,conversationList:C}},y.upsert=function(o){var a=o.conversationId,l=Qe(this).get(a);if(!l){var c=this.processConversation(ce({stickTop:this.getStickTop(a),localExtension:"",lastMessage:null,unreadCount:0,sortOrder:0,createTime:0,updateTime:0},o));return this.setLRU(a,c),c.unreadCount>0}var u=o.unreadCount!==l.unreadCount,h=ce({},l,o);return h=this.processConversation(h),this.setLRU(a,h),u},y.setLRU=function(o,a){if(Qe(this).has(o))Qe(this).delete(o);else if(Qe(this).size>=this.capacity){var l,c=IC(l=Qe(this)).call(l).next().value;c&&Qe(this).delete(c)}Qe(this).set(o,a)},y.bulkUpsert=function(o){var a=this,l=!1;return rt(o).call(o,function(c){a.upsert(c)&&(l=!0)}),l},y.deleteById=function(o){var a=this.getById(o);if(a)return Qe(this).delete(o),a},y.updateReadTime=function(o,a){this.readTimeMap.set(o,a)},y.getReadTime=function(o){return this.readTimeMap.get(o)||0},y.updateStickTop=function(o,a){a?this.stickTopMap.set(o,!0):this.stickTopMap.delete(o)},y.getStickTop=function(o){return this.stickTopMap.get(o)||!1},p}(),Kee={"4_14":"v2LocalConvSyncReadTime","4_20":"v2LocalConvSyncSuperTeamReadTime","4_22":"v2LocalConvSyncMoreRoaming","4_23":"v2LocalConvSyncStickTop","4_25":"v2LocalConvSyncReliableInfo","7_16":"v2LocalConvMarkReadTime","7_25":"v2LocalConvMultiMarkReadTime","7_116":"v2LocalConvMultiSyncReadTime","21_25":"v2LocalConvSuperTeamMarkReadTime","21_32":"v2LocalConvSuperTeamMultiMarkReadTime","21_125":"v2LocalConvSuperTeamMultiSyncReadTime","33_12":"v2LocalConvStickTopAdd","33_13":"v2LocalConvStickTopDelete","23_112":"v2LocalConvStickTopMultiSyncAdd","23_113":"v2LocalConvStickTopMultiSyncDelete","23_114":"v2LocalConvStickTopMultiSyncUpdate"},ns="V2NIMLocalConversationService",Ff={id:1,ext:2,createTime:{id:3,retType:"number"},updateTime:{id:4,retType:"number"}},c$={scene:1,to:2,timetag:3},Wee={v2LocalConvSyncReadTime:{sid:4,cid:14,service:ns,response:[{type:"StrLongMap",name:"p2p"},{type:"LongLongMap",name:"team"},{type:"Long",name:"timetag"}]},v2LocalConvSyncSuperTeamReadTime:{sid:4,cid:20,service:ns,response:[{type:"LongLongMap",name:"superTeam"}]},v2LocalConvSyncMoreRoaming:{sid:4,cid:22,service:ns,response:[]},v2LocalConvSyncStickTop:{sid:4,cid:23,service:ns,response:[{type:"Long",name:"timetag"},{type:"Bool",name:"isThereAnyChange"},{type:"PropertyArray",name:"datas",reflectMapper:dt(Ff)}]},v2LocalConvSyncReliableInfo:{sid:4,cid:25,service:ns,response:[]},v2LocalConvMarkReadTime:{sid:7,cid:16,service:ns,params:[{type:"Byte",name:"scene"},{type:"String",name:"to"},{type:"Long",name:"timetag"}]},v2LocalConvMultiMarkReadTime:{sid:7,cid:25,service:ns,ignoreErrCodes:[700],params:[{type:"PropertyArray",name:"tags",reflectMapper:c$}]},v2LocalConvMultiSyncReadTime:{sid:7,cid:116,service:ns,response:[{type:"Byte",name:"scene"},{type:"String",name:"to"},{type:"Long",name:"timetag"}]},v2LocalConvSuperTeamMarkReadTime:{sid:21,cid:25,service:ns,params:[{type:"Long",name:"to"},{type:"Long",name:"timetag"}]},v2LocalConvSuperTeamMultiMarkReadTime:{sid:21,cid:32,service:ns,ignoreErrCodes:[700],params:[{type:"PropertyArray",name:"tags",reflectMapper:c$}]},v2LocalConvSuperTeamMultiSyncReadTime:{sid:21,cid:125,service:ns,response:[{type:"Long",name:"to"},{type:"Long",name:"timetag"}]},v2LocalConvStickTopAdd:{sid:33,cid:12,service:ns,params:[{type:"Property",name:"tag",reflectMapper:Ff}],response:[{type:"Property",name:"data",reflectMapper:dt(Ff)}]},v2LocalConvStickTopDelete:{sid:33,cid:13,service:ns,params:[{type:"Property",name:"tag",reflectMapper:Ff}],response:[{type:"Long",name:"timetag"}]},v2LocalConvStickTopMultiSyncAdd:{sid:23,cid:112,service:ns,response:[{type:"Property",name:"data",reflectMapper:dt(Ff)}]},v2LocalConvStickTopMultiSyncDelete:{sid:23,cid:113,service:ns,response:[{type:"Long",name:"timetag"},{type:"Property",name:"data",reflectMapper:dt(Ff)}]},v2LocalConvStickTopMultiSyncUpdate:{sid:23,cid:114,service:ns,response:[{type:"Property",name:"data",reflectMapper:dt(Ff)}]}};function fu(p,y){p=p||[],y=y||1,y=Math.max(Math.floor(y),1);for(var f=[],o=0;o<p.length;o+=y)f.push(zn(p).call(p,o,o+y));return f}function u$(p,y){var f,o=Ma!==void 0&&Eo(p)||p["@@iterator"];if(o)return cn(f=(o=o.call(p)).next).call(f,o);if(Nr(p)||(o=function(c,u){if(c){var h;if(typeof c=="string")return d$(c,u);var C=zn(h={}.toString.call(c)).call(h,8,-1);return C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set"?ma(c):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?d$(c,u):void 0}}(p))||y){o&&(p=o);var a=0;return function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d$(p,y){(y==null||y>p.length)&&(y=p.length);for(var f=0,o=Array(y);f<y;f++)o[f]=p[f];return o}var p$,Yee=function(){function p(f,o){this.totalUnreadCount=void 0,this.unreadCountByFilter={},this.core=f,this.service=o,this.model=o.model,this.logger=o.logger}var y=p.prototype;return y.reset=function(){this.totalUnreadCount=void 0,this.unreadCountByFilter={}},y.getTotalUnreadCount=function(){return this.totalUnreadCount},y.resetTotalAfterSyncDone=function(){var o,a=ja(o=this.service.model.getAll()).call(o,function(c,u){return c+(u.unreadCount||0)},0),l=this.totalUnreadCount;return l!==void 0&&l===a||(this.totalUnreadCount=a,this.service.emit("onTotalUnreadCountChanged",a)),a},y.digestUnreadCountChange=function(){this._digest()},y._digest=function(){var o,a=this,l=this.totalUnreadCount,c=ja(o=this.service.model.getAll()).call(o,function(h,C){return h+(C.unreadCount||0)},0);this.core.logger.log("V2NIMConversation::digestUnreadCountChange:oldUnreadCount "+l+", newUnreadCount "+c),l!==c&&(this.totalUnreadCount=c,this.service.emit("onTotalUnreadCountChanged",c));var u=Gn(this.unreadCountByFilter);rt(u).call(u,function(h){var C=JSON.parse(h),x=a.getUnreadCountByFilter(C),k=a.unreadCountByFilter[h];a.unreadCountByFilter[h]=x,C.equals=cn(m$).call(m$,C),k!==x&&a.service.emit("onUnreadCountChangedByFilter",C,x)})},y.clearUnreadCount=function(o){var a=this,l=ja(o).call(o,function(u,h){return a.service.model.upsert({conversationId:h.conversationId,type:h.type,unreadCount:0})&&u.push(h.conversationId),u},[]);if(l.length>0){var c=Qe(l).call(l,function(u){return a.service.model.getById(u)});this.service.triggerConversationChanged(c),this.digestUnreadCountChange()}},y.getUnreadCountByIds=function(o){var a=this;return o=Vp(o),ja(o).call(o,function(l,c){var u=a.service.model.getById(c);return l+(u&&u.unreadCount||0)},0)},y.getUnreadCountByFilter=function(o){var a,l=this.service.model.count(),c=this.service.model.getByOption(0,l,{conversationTypes:o.conversationTypes,ignoreMuted:o.ignoreMuted});return ja(a=c.conversationList).call(a,function(u,h){return u+(h.unreadCount||0)},0)},y.isMessageUnread=function(o,a){var l;return a===void 0&&(a=0),o.createTime>a&&o.senderId!==this.core.account&&o.messageStatus.errorCode===200&&((l=o.messageConfig)===null||l===void 0?void 0:l.unreadEnabled)!==!1},y.isMessageReferUnread=function(o,a){a===void 0&&(a=0);var l=this.core.V2NIMMessageService.model.getMessageById(o.messageClientId);return l?this.isMessageUnread(l,a):o.createTime>a&&o.senderId!==this.core.account},y.countUnreadByMessageInMemory=function(o,a){var l=this;a===void 0&&(a=0);var c=0,u=this.core.V2NIMMessageService.model.getMessagesByConversationId(o);return rt(u).call(u,function(h){l.isMessageUnread(h,a)&&c++}),c},y.addFilter=function(o){var a=Fx(o);if(this.unreadCountByFilter[a]!==void 0)throw new Ct({code:it.V2NIM_ERROR_CODE_RESOURCE_ALREADY_EXIST});var l=JSON.parse(a),c=this.getUnreadCountByFilter(l);this.unreadCountByFilter[a]=c,this.service.emit("onUnreadCountChangedByFilter",l,c)},y.deleteFilter=function(o){var a=Fx(o);if(this.unreadCountByFilter[a]===void 0)throw new Ct({code:it.V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST});delete this.unreadCountByFilter[a]},y.markConversationRead=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(l=this.model.getById(o),c=this.core.V2NIMConversationIdUtil.parseConversationTargetId(o),u=this.core.V2NIMConversationIdUtil.parseConversationType(o),h=this.model.getReadTime(o),l){k.next=6;break}return k.abrupt("return",h||this.core.timeOrigin.getNTPTime());case 6:if(C=this.service.compute.computeReadTimeForMark(l),!(h>=C)){k.next=10;break}return this.logger.log("V2LocalConv::markConversationRead currentReadTime >= readTime "+o+","+h+","+C),k.abrupt("return",h);case 10:if(u!==3){k.next=15;break}return k.next=13,this.core.sendCmd("v2LocalConvSuperTeamMarkReadTime",{timetag:C,to:c});case 13:k.next=17;break;case 15:return k.next=17,this.core.sendCmd("v2LocalConvMarkReadTime",{scene:u===1?0:u===2?1:2,timetag:C,to:c});case 17:return this.model.updateReadTime(o,C),k.abrupt("return",C);case 19:case"end":return k.stop()}},a,this)}))},y.markMultiConversationRead=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x,k,B,W,Y,ne=this;return q.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:l={cmd:"v2LocalConvSuperTeamMultiMarkReadTime",params:[]},c={cmd:"v2LocalConvMultiMarkReadTime",params:[]},rt(o).call(o,function(we){var $e=ne.model.getById(we);if($e){var Me=ne.core.V2NIMConversationIdUtil.parseConversationTargetId(we),Fe=ne.core.V2NIMConversationIdUtil.parseConversationType(we),We=ne.model.getReadTime(we),Ae=ne.service.compute.computeReadTimeForMark($e);if(!(We>=Ae)){var Ee={conversationId:we,scene:Fe===1?0:Fe===2?1:2,timetag:Ae,to:Me};Fe===3?l.params.push(Ee):c.params.push(Ee)}}}),u=fu(l.params,50),h=fu(c.params,50),C=u$(u);case 6:if((x=C()).done){xe.next=19;break}return k=x.value,xe.prev=8,xe.next=11,this.core.sendCmd(l.cmd,{tags:k});case 11:xe.next=16;break;case 13:xe.prev=13,xe.t0=xe.catch(8),this.logger.warn("markMultiConversationRead::error:",Qe(k).call(k,function(we){return we.conversationId}),xe.t0);case 16:rt(k).call(k,function(we){ne.model.updateReadTime(we.conversationId,we.timetag)});case 17:xe.next=6;break;case 19:B=u$(h);case 20:if((W=B()).done){xe.next=33;break}return Y=W.value,xe.prev=22,xe.next=25,this.core.sendCmd(c.cmd,{tags:Y});case 25:xe.next=30;break;case 27:xe.prev=27,xe.t1=xe.catch(22),this.logger.warn("markMultiConversationRead::error:",Qe(Y).call(Y,function(we){return we.conversationId}),xe.t1);case 30:rt(Y).call(Y,function(we){ne.model.updateReadTime(we.conversationId,we.timetag)});case 31:xe.next=20;break;case 33:case"end":return xe.stop()}},a,this,[[8,13],[22,27]])}))},p}();function Fx(p){var y=p.conversationTypes;return y&&(y=mn(y).call(y)),$t({conversationGroupId:p.conversationGroupId,conversationTypes:y,ignoreMuted:p.ignoreMuted})}function m$(p){return $t(this)===Fx(p)}function gd(p,y,f,o){var a,l;f===void 0&&(f=0);var c=y=jx(y,p),u=c.messageType,h=c.subType,C=c.text,x=c.attachment,k=c.serverExtension,B="";if(y.senderId!==p.account&&u!==5){B=Ht(y,"fromNick");var W=(l=(a=p.V2NIMFriendService)===null||a===void 0?void 0:a.model)===null||l===void 0?void 0:l.getFriend(y.senderId);W&&W.alias&&(B=W.alias)}return JSON.parse($t({lastMessageState:f,messageRefer:md(p,y),messageType:u,subType:h,text:C,attachment:x,serverExtension:k,callbackExtension:y.callbackExtension,sendingState:o,senderName:B}))}function fv(p,y){return y&&y.length>0?Qe(y).call(y,function(f){return xC(p,f)}):[]}function xC(p,y){var f=y;if(typeof f.lastMessage=="string"&&f.lastMessage!=="")if(f.lastMessageState===1){var o=$V(p,Rr(JSON.parse(f.lastMessage),dt($f)));f.lastMessage=function(c,u){var h=u.messageRefer,C=u.revokeAccountId,x=u.revokeType,k=u.callbackExtension,B=u.serverExtension,W=u.postscript,Y=function(se,xe,we,$e){var Me,Fe,We,Ae,Ee,me,Ve,Ge;if(xe!==se.account){var ze=(Fe=(Me=se.V2NIMFriendService)===null||Me===void 0?void 0:Me.model)===null||Fe===void 0?void 0:Fe.getFriend(xe);if(ze&&ze.alias)return ze.alias;if(we===2){var mt=(Ae=(We=se.V2NIMTeamService)===null||We===void 0?void 0:We.memberModel)===null||Ae===void 0?void 0:Ae.getById($e,1,xe);if(mt&&mt.teamNick)return mt.teamNick}else if(we===3){var Tt=(me=(Ee=se.V2NIMTeamService)===null||Ee===void 0?void 0:Ee.memberModel)===null||me===void 0?void 0:me.getById($e,1,xe);if(Tt&&Tt.teamNick)return Tt.teamNick}var Be=(Ge=(Ve=se.V2NIMUserService)===null||Ve===void 0?void 0:Ve.model)===null||Ge===void 0?void 0:Ge.getUser(xe);return Be&&Be.name?Be.name:void 0}}(c,u.revokeAccountId,u.messageRefer.conversationType,u.messageRefer.receiverId)||"";return JSON.parse($t({lastMessageState:1,messageRefer:h,revokeAccountId:C,revokeType:x,callbackExtension:k,serverExtension:B,text:W||"",senderName:Y}))}(p,o)}else if(f.lastMessageState===0){var a=Rr(JSON.parse(f.lastMessage),dt(Er));f.lastMessage=gd(p,a,f.lastMessageState,a.senderId===p.account?1:void 0)}else f.lastMessageState===2&&delete f.lastMessage;return f}function f$(p){var y=p.version,f=p.deleteFlag;return{conversation:Ja(p,["version","deleteFlag"]),version:y,deleteFlag:f}}(function(p){p[p.createConversation=1]="createConversation",p[p.deleteConversation=2]="deleteConversation",p[p.updateConversation=3]="updateConversation",p[p.setConversationTop=4]="setConversationTop",p[p.clearConversationUnread=5]="clearConversationUnread",p[p.addConversationToGroup=6]="addConversationToGroup",p[p.removeConversationFromGroup=7]="removeConversationFromGroup",p[p.modifyConversationOnSendMessage=8]="modifyConversationOnSendMessage",p[p.modifyConversationOnDeleteMessage=9]="modifyConversationOnDeleteMessage",p[p.modifyConversationOnRecallMessage=10]="modifyConversationOnRecallMessage",p[p.modifyConversationOnClearMessage=11]="modifyConversationOnClearMessage",p[p.oneClickClearConversationUnread=12]="oneClickClearConversationUnread",p[p.modifyConversationOnUpdateMessage=13]="modifyConversationOnUpdateMessage"})(p$||(p$={}));var Xee=function(){function p(f,o){this.core=f,this.service=o}var y=p.prototype;return y.computeFromExternal=function(o){var a,l,c;if(o.type===0)return o;var u=this.core.V2NIMConversationIdUtil.parseConversationType(o.conversationId),h=this.core.V2NIMConversationIdUtil.parseConversationTargetId(o.conversationId),C={};if(!((a=this.core.V2NIMSettingService)===null||a===void 0)&&a.name&&(C.mute=this.core.V2NIMSettingService.getConversationMuteStatus(o.conversationId)),u===1&&this.hasUserService){var x,k=this.core.V2NIMUserService.model.getUser(h),B=this.hasFriendService?this.core.V2NIMFriendService.model.getFriend(h):void 0;o.conversationId===((l=o.lastMessage)===null||l===void 0?void 0:l.messageRefer.conversationId)&&(x=(c=o.lastMessage)===null||c===void 0?void 0:c.senderName),C.name=(B==null?void 0:B.alias)||(k==null?void 0:k.name)||x||h,C.avatar=(k==null?void 0:k.avatar)||""}else if(u===2&&this.hasTeamService){var W=this.core.V2NIMTeamService.model.getById(h,1);C.name=(W==null?void 0:W.name)||h,C.avatar=(W==null?void 0:W.avatar)||""}else if(u===3&&this.hasTeamService){var Y=this.core.V2NIMTeamService.model.getById(h,2);C.name=(Y==null?void 0:Y.name)||h,C.avatar=(Y==null?void 0:Y.avatar)||""}return ce(o,C),o},y.computeSortOrder=function(o,a){return a?o?a+1e15:a:o?1e15:0},y.computeReadTimeForMark=function(o){var a,l,c,u=o.conversationId,h=this.service.model.getReadTime(u);if(!((l=(a=o==null?void 0:o.lastMessage)===null||a===void 0?void 0:a.messageRefer)===null||l===void 0)&&l.createTime)c=o.lastMessage.messageRefer.createTime;else{if(o.unreadCount===0&&h>0)return h;if(!this.core.timeOrigin.checkNodeReliable())return h||0;c=this.core.timeOrigin.getNTPTime()}return c},y.computeConvWithLastMsg=function(o,a){var l,c=a||this.core.V2NIMMessageService.model.getLastMessageOfConversation(o.conversationId);if(c&&((l=c.messageConfig)===null||l===void 0?void 0:l.lastMessageUpdateEnabled)!==!1){var u=gd(this.core,c,0,c.sendingState);o.lastMessage=u,o.createTime=o.createTime||c.createTime,o.updateTime=c.createTime,o.sortOrder=this.computeSortOrder(o.stickTop,c.createTime)}return o},y.computeConvWithUnread=function(o,a){var l=this.service.model.getReadTime(o.conversationId),c=o.unreadCount||0;return a?a&&this.service.unread.isMessageUnread(a)&&(c+=1):c=this.service.unread.countUnreadByMessageInMemory(o.conversationId,l),o.unreadCount=c,o},y.computeConvByMsgsCache=function(o,a){var l,c=this.service.model.getById(o),u=this.core.V2NIMConversationIdUtil.parseConversationType(o),h=this.core.V2NIMMessageService.model.getLastMessageOfConversation(o),C=a==null?void 0:a.updateTime,x=0;x=C||(h&&h.createTime?h.createTime:c&&c.updateTime?c.updateTime:this.core.timeOrigin.getNTPTime());var k=this.service.model.getStickTop(o),B=ce(ce({conversationId:o,type:u,stickTop:k,localExtension:(c==null?void 0:c.localExtension)||"",lastMessage:null,unreadCount:0},a),{createTime:(c==null?void 0:c.createTime)||x,updateTime:x,sortOrder:this.computeSortOrder(k,x)});if(h&&((l=h.messageConfig)===null||l===void 0?void 0:l.lastMessageUpdateEnabled)!==!1){var W=gd(this.core,h,0,h.sendingState);B.lastMessage=W}return B},sa(p,[{key:"hasUserService",get:function(){var o;return!!(!((o=this.core.V2NIMUserService)===null||o===void 0)&&o.name)}},{key:"hasFriendService",get:function(){var o;return!!(!((o=this.core.V2NIMFriendService)===null||o===void 0)&&o.name)}},{key:"hasTeamService",get:function(){var o;return!!(!((o=this.core.V2NIMTeamService)===null||o===void 0)&&o.name)}},{key:"hasMessageService",get:function(){var o;return!!(!((o=this.core.V2NIMMessageService)===null||o===void 0)&&o.name)}}]),p}(),Jee=function(){function p(f,o){this.core=f,this.service=o,this.model=this.service.model,this.logger=this.core.logger}var y=p.prototype;return y.v2LocalConvSyncStickTopHandler=function(o){var a=this,l=o.content,c=l.timetag,u=l.isThereAnyChange,h=l.datas;if(u){var C=this.model.getAll(),x=Qe(h).call(h,function(k){var B=_C(k.id),W=B.target,Y=B.type,ne=a.core.V2NIMConversationIdUtil.conversationId(Y,W);return a.model.updateStickTop(ne,!0),ne});rt(C).call(C,function(k){or(x).call(x,k.conversationId)?(k.stickTop=!0,k.updateTime=k.updateTime>c?k.updateTime:c):k.stickTop=!1,a.model.updateStickTop(k.conversationId,k.stickTop)}),this.model.bulkUpsert(C)}},y.v2LocalConvSyncReadTimeHandler=function(o){var a,l,c=this,u=o.content.p2p||{},h=o.content.team.m_map||{};this.logger.log("v2SyncLocalConvAck::",u,h),rt(a=Gn(u)).call(a,function(C){var x=c.core.V2NIMConversationIdUtil.p2pConversationId(C),k=c.model.getReadTime(x);u[C]>k&&(c.model.updateReadTime(x,u[C]),c.service.emit("onConversationReadTimeUpdated",x,u[C]))}),rt(l=Gn(h)).call(l,function(C){var x=c.core.V2NIMConversationIdUtil.teamConversationId(C),k=c.model.getReadTime(x);h[C]>k&&(c.model.updateReadTime(x,h[C]),c.service.emit("onConversationReadTimeUpdated",x,h[C]))})},y.v2LocalConvSyncSuperTeamReadTimeHandler=function(o){var a,l=this,c=o.content.superTeam.m_map;this.logger.log("v2SyncLocalSuperTeamConvAck::",c),rt(a=Gn(c)).call(a,function(u){var h=l.core.V2NIMConversationIdUtil.superTeamConversationId(u),C=l.model.getReadTime(h);c[u]>C&&(l.model.updateReadTime(h,c[u]),l.service.emit("onConversationReadTimeUpdated",h,c[u]))})},y.v2LocalConvMultiSyncReadTimeHandler=function(o){var a=o.content,l=_C((a.scene===0?"p2p":a.scene===1?"team":"super_team")+"-"+a.to,"-"),c=l.type,u=l.target,h=this.core.V2NIMConversationIdUtil.conversationId(c,u),C=this.model.getById(h),x=C==null?void 0:C.unreadCount,k=this.model.getReadTime(h);a.timetag<=k?this.logger.warn("v2LocalConvMultiSyncReadTimeHandler: "+h+" do not need update ack "+a.timetag+"/"+k):(this.model.updateReadTime(h,a.timetag),this.service.emit("onConversationReadTimeUpdated",h,a.timetag),C?(C=this.service.compute.computeConvWithUnread(C),this.model.upsert(C),this.service.unread.digestUnreadCountChange(),x===void 0&&C.unreadCount>0?this.service.triggerConversationCreated(C):typeof x=="number"&&C.unreadCount!==x&&this.service.triggerConversationChanged([C])):this.logger.log("v2LocalConvMultiSyncReadTimeHandler: "+h+" not exist"))},y.v2LocalConvSuperTeamMultiSyncReadTimeHandler=function(o){this.v2LocalConvMultiSyncReadTimeHandler(o)},y.v2LocalConvStickTopMultiSyncAddHandler=function(o){var a=o.content.data,l=_C(a.id),c=l.target,u=l.type,h=this.core.V2NIMConversationIdUtil.conversationId(u,c);this.model.updateStickTop(h,!0);var C=this.model.getById(h);C&&(C.stickTop=!0,C.updateTime=C.updateTime>a.updateTime?C.updateTime:a.updateTime,C.sortOrder=this.service.compute.computeSortOrder(!0,a.updateTime),this.model.upsert(C),this.service.triggerConversationChanged([C]))},y.v2LocalConvStickTopMultiSyncDeleteHandler=function(o){var a=o.content,l=a.data,c=a.timetag,u=_C(l.id),h=u.target,C=u.type,x=this.core.V2NIMConversationIdUtil.conversationId(C,h);this.model.updateStickTop(x,!1);var k=this.model.getById(x);k&&(k.stickTop=!1,k.updateTime=k.updateTime>c?k.updateTime:c,k.sortOrder=this.service.compute.computeSortOrder(!1,c),this.model.upsert(k),this.service.triggerConversationChanged([k]))},p}();bf("Set",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},Mh);var Qee=fe.Set;Lt({target:"Set",stat:!0,forced:!0},{from:vp}),Lt({target:"Set",stat:!0,forced:!0},{of:_h}),Lt({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var y=nn(this),f=Ye(y.add),o=0,a=arguments.length;o<a;o++)H(f,y,arguments[o]);return y}}),Lt({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:Zo});var qf=qu;Lt({target:"Set",proto:!0,real:!0,forced:!0},{every:function(y){var f=nn(this),o=qf(f),a=sn(y,arguments.length>1?arguments[1]:void 0);return!ra(o,function(l,c){if(!a(l,l,f))return c()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Lt({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(y){var f=nn(this),o=new(Ds(f,Te("Set")))(f),a=Ye(o.delete);return ra(y,function(l){H(a,o,l)}),o}}),Lt({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(y){var f=nn(this),o=qf(f),a=sn(y,arguments.length>1?arguments[1]:void 0),l=new(Ds(f,Te("Set"))),c=Ye(l.add);return ra(o,function(u){a(u,u,f)&&H(c,l,u)},{IS_ITERATOR:!0}),l}}),Lt({target:"Set",proto:!0,real:!0,forced:!0},{find:function(y){var f=nn(this),o=qf(f),a=sn(y,arguments.length>1?arguments[1]:void 0);return ra(o,function(l,c){if(a(l,l,f))return c(l)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Lt({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(y){var f=nn(this),o=new(Ds(f,Te("Set"))),a=Ye(f.has),l=Ye(o.add);return ra(y,function(c){H(a,f,c)&&H(l,o,c)}),o}}),Lt({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(y){var f=nn(this),o=Ye(f.has);return!ra(y,function(a,l){if(H(o,f,a)===!0)return l()},{INTERRUPTED:!0}).stopped}}),Lt({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(y){var f=qu(this),o=nn(y),a=o.has;return $(a)||(o=new(Te("Set"))(y),a=Ye(o.has)),!ra(f,function(l,c){if(H(a,o,l)===!1)return c()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Lt({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(y){var f=nn(this),o=Ye(f.has);return!ra(y,function(a,l){if(H(o,f,a)===!1)return l()},{INTERRUPTED:!0}).stopped}});var Zee=U([].join),ete=[].push;Lt({target:"Set",proto:!0,real:!0,forced:!0},{join:function(y){var f=nn(this),o=qf(f),a=y===void 0?",":zi(y),l=[];return ra(o,ete,{that:l,IS_ITERATOR:!0}),Zee(l,a)}}),Lt({target:"Set",proto:!0,real:!0,forced:!0},{map:function(y){var f=nn(this),o=qf(f),a=sn(y,arguments.length>1?arguments[1]:void 0),l=new(Ds(f,Te("Set"))),c=Ye(l.add);return ra(o,function(u){H(c,l,a(u,u,f))},{IS_ITERATOR:!0}),l}});var tte=TypeError;Lt({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(y){var f=nn(this),o=qf(f),a=arguments.length<2,l=a?void 0:arguments[1];if(Ye(y),ra(o,function(c){a?(a=!1,l=c):l=y(l,c,c,f)},{IS_ITERATOR:!0}),a)throw tte("Reduce of empty set with no initial value");return l}}),Lt({target:"Set",proto:!0,real:!0,forced:!0},{some:function(y){var f=nn(this),o=qf(f),a=sn(y,arguments.length>1?arguments[1]:void 0);return ra(o,function(l,c){if(a(l,l,f))return c()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Lt({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(y){var f=nn(this),o=new(Ds(f,Te("Set")))(f),a=Ye(o.delete),l=Ye(o.add);return ra(y,function(c){H(a,o,c)||H(l,o,c)}),o}}),Lt({target:"Set",proto:!0,real:!0,forced:!0},{union:function(y){var f=nn(this),o=new(Ds(f,Te("Set")))(f);return ra(y,Ye(o.add),{that:o}),o}});var bc=Qee,nte=function(){function p(f,o){this.core=f,this.service=o,this.model=this.service.model,this.compute=this.service.compute,this.logger=this.core.logger}var y=p.prototype;return y.setListener=function(){var o,a,l,c,u,h,C,x,k,B,W=this;this.core.eventBus.on("V2NIMLoginService/syncing",function(){return W.service.emit("onSyncStarted")}),this.core.eventBus.on("V2NIMLoginService/syncDone",cn(o=this.onSyncDone).call(o,this)),this.core.eventBus.on("V2NIMMessageService/sendMessage",cn(a=this.sendMsg).call(a,this)),this.core.eventBus.on("V2NIMMessageService/onMsg",cn(l=this.recvMsg).call(l,this)),this.core.eventBus.on("V2NIMMessageService/modifyMsg",cn(c=this.modifyMsg).call(c,this)),this.core.eventBus.on("V2NIMMessageService/deleteMessages",cn(u=this.deleteMessages).call(u,this)),this.core.eventBus.on("V2NIMMessageService/revokeMessages",cn(h=this.deleteMessages).call(h,this)),this.core.eventBus.on("V2NIMMessageLogUtil/onClearHistoryNotifications",cn(C=this.clearMessages).call(C,this)),this.core.eventBus.on("V2NIMMessageService/roamingMsgs",cn(x=this.generateConv).call(x,this)),this.core.eventBus.on("V2NIMMessageService/offlineMsgs",cn(k=this.generateConv).call(k,this)),this.core.eventBus.on("V2NIMSettingService/setMute",cn(B=this.setMute).call(B,this))},y.beforeEmit=function(o){for(var a,l=this.service.name+"::emit "+o.toString(),c=arguments.length,u=new Array(c>1?c-1:0),h=1;h<c;h++)u[h-1]=arguments[h];if(o==="onConversationCreated"){var C=u[0],x=(a=C.lastMessage)===null||a===void 0?void 0:a.messageRefer;this.logger.log(""+l,"id:"+C.conversationId+";unread:"+C.unreadCount+";lastMsg:"+((x==null?void 0:x.messageClientId)||"")+"/"+((x==null?void 0:x.messageServerId)||""))}else if(o==="onConversationChanged"){var k=u[0];this.logger.log(""+l,Qe(k).call(k,function(Y){var ne,se=(ne=Y.lastMessage)===null||ne===void 0?void 0:ne.messageRefer;return"id:"+Y.conversationId+";unread:"+Y.unreadCount+";lastMsg:"+((se==null?void 0:se.messageClientId)||"")+"/"+((se==null?void 0:se.messageServerId)||"")}))}else{var B,W;(B=this.logger).log.apply(B,Bn(W=[""+l]).call(W,u))}},y.onSyncDone=function(o){var a=this;if(o)this.service.emit("onSyncFailed",o);else{var l=this.model.getAll();l=Qe(l).call(l,function(c){var u=c.conversationId,h=a.compute.computeConvByMsgsCache(u);return h=a.compute.computeConvWithUnread(h),h=a.compute.computeFromExternal(h),a.model.upsert(h),a.model.getById(u)}),l.length>0&&(this.service.triggerConversationChanged(l),this.service.unread.resetTotalAfterSyncDone()),this.service.emit("onSyncFinished")}},y.generateConv=function(o){var a=this,l=Vp(Qe(o).call(o,function(c){return c.conversationId}));rt(l).call(l,function(c){var u=a.compute.computeConvByMsgsCache(c);a.model.upsert(u)})},y.setMute=function(o,a){var l=this.model.getById(o);l&&l.mute!==a&&(l.mute=a,this.model.upsert(l),this.service.triggerConversationChanged([l]))},y.deleteMessages=function(o){var a=this,l=new bc;rt(o).call(o,function(u){var h,C=u.messageRefer.conversationId,x=a.model.getById(C);if(x){if(u.messageRefer.messageClientId===((h=x.lastMessage)===null||h===void 0?void 0:h.messageRefer.messageClientId)){l.add(C);var k=a.core.V2NIMMessageService.model.getLastMessageOfConversation(C);x.lastMessage=k?gd(a.core,k,0,k.sendingState):void 0}var B=a.model.getReadTime(C);if(x.unreadCount>0&&a.service.unread.isMessageReferUnread(u.messageRefer,B)&&(l.add(C),x.unreadCount--),"deleteTime"in u)u.deleteTime>x.updateTime&&(x.updateTime=u.deleteTime,x.sortOrder=a.compute.computeSortOrder(x.stickTop,x.updateTime));else{var W=a.core.timeOrigin.getNTPTime();x.updateTime=W,x.sortOrder=a.compute.computeSortOrder(x.stickTop,W)}a.model.upsert(x)}});var c=ma(l);!this.core.V2NIMLoginService.dataSync.checkSyncing()&&c.length>0&&(this.service.triggerConversationChanged(Qe(c).call(c,function(u){return a.model.getById(u)})),this.service.unread.digestUnreadCountChange())},y.sendMsg=function(o){var a=o.conversationId,l=this.model.getById(a);if(l){var c=l.lastMessage,u=this.updateCauseMessage(l,o);c!==u.lastMessage&&this.service.triggerConversationChanged([u])}else{var h=this.createCauseMessage(a,o);this.service.triggerConversationCreated(h)}},y.recvMsg=function(o){var a=o.conversationId,l=this.model.getById(a);if(l){var c=l.lastMessage,u=l.unreadCount,h=this.updateCauseMessage(l,o);h=this.compute.computeConvWithUnread(h,o);var C=c!==(h=this.compute.computeFromExternal(h)).lastMessage,x=u!==h.unreadCount;this.model.upsert(h),(C||x)&&this.service.triggerConversationChanged([h])}else{var k=this.createCauseMessage(a,o);k=this.compute.computeConvWithUnread(k,o),k=this.compute.computeFromExternal(k),this.model.upsert(k),this.service.triggerConversationCreated(k)}this.service.unread.digestUnreadCountChange()},y.updateCauseMessage=function(o,a){return o=this.compute.computeConvWithLastMsg(o,a),this.model.upsert(o),this.model.getById(o.conversationId)},y.createCauseMessage=function(o,a){var l,c=this.core.V2NIMConversationIdUtil.parseConversationType(o),u=this.model.getStickTop(o),h=((l=a.messageConfig)===null||l===void 0?void 0:l.lastMessageUpdateEnabled)===!1?void 0:gd(this.core,a,0,a.sendingState),C=this.core.timeOrigin.getNTPTime(),x={conversationId:o,type:c,createTime:h?a.createTime:C,updateTime:h?a.createTime:C,sortOrder:this.compute.computeSortOrder(!1,h?a.createTime:C),stickTop:u,localExtension:"",lastMessage:h,unreadCount:0};return this.model.upsert(x),x},y.clearMessages=function(o){var a=this,l=new bc;rt(o).call(o,function(u){var h=u.conversationId,C=u.deleteTime,x=a.model.getById(h);x&&(x.unreadCount>0&&(x.unreadCount=0,l.add(h)),x.lastMessage&&x.lastMessage.messageRefer.createTime<=u.deleteTime&&(x.lastMessage=void 0,l.add(h)),C>x.updateTime&&(x.updateTime=C,x.sortOrder=a.compute.computeSortOrder(x.stickTop,x.updateTime)),a.model.upsert(x))});var c=ma(l);!this.core.V2NIMLoginService.dataSync.checkSyncing()&&c.length>0&&(this.service.triggerConversationChanged(Qe(c).call(c,function(u){return a.model.getById(u)})),this.service.unread.digestUnreadCountChange())},y.modifyMsg=function(o){var a,l=o.conversationId,c=o.messageClientId,u=this.model.getById(l),h=this.core.V2NIMMessageService.model.getMessageById(c);if(u||h)if(u)o.messageClientId===((a=u.lastMessage)===null||a===void 0?void 0:a.messageRefer.messageClientId)&&(u.lastMessage=gd(this.core,o,0,o.sendingState),this.service.triggerConversationChanged([u]));else{var C=this.createCauseMessage(l,o);this.service.triggerConversationCreated(C)}},p}(),g$={type:"array",itemRules:{type:"enum",values:[1,2,3]},min:1},rte=function(p){function y(o,a){var l;return a===void 0&&(a={}),(l=p.call(this,"V2NIMLocalConversationService",o)||this).config={},l.model=new Gee,l.unread=new Yee(l.core,er(l)),l.compute=new Xee(l.core,er(l)),l.event=new nte(l.core,er(l)),l.handler=new Jee(l.core,er(l)),l.core._registerDep(Vf,"V2NIMConversationIdUtil"),l.core._registerDep(l$,"V2NIMMessageService"),l.core.options.apiVersion!=="v2"?er(l):(Wr({cmdMap:Kee,cmdConfig:Wee}),l.setOptions(a),l.setListener(),l)}pr(y,p);var f=y.prototype;return f.setOptions=function(a){this.config=ce(this.config,a)},f.setListener=function(){this.event.setListener()},f.reset=function(){this.model.reset(),this.unread.reset()},f.emit=function(a){for(var l,c,u,h,C=arguments.length,x=new Array(C>1?C-1:0),k=1;k<C;k++)x[k-1]=arguments[k];return(l=this.event).beforeEmit.apply(l,Bn(c=[a]).call(c,x)),(u=p.prototype.emit).call.apply(u,Bn(h=[this,a]).call(h,x))},f.getConversationList=function(a,l){var c,u=this;this.checkV2(),ge({offset:{type:"number",min:0}},{offset:a},"",!0),ge({limit:{type:"number",min:1}},{limit:l},"",!0),this.core.V2NIMLoginService.checkIllegalState();var h=this.model.getByOption(a,l,{});return h.conversationList=Qe(c=h.conversationList).call(c,function(C){return u.compute.computeFromExternal(C)}),Zt.resolve(h)},f.getConversationListByOption=function(a,l,c){var u,h=this;this.checkV2(),ge({offset:{type:"number",min:0}},{offset:a},"",!0),ge({limit:{type:"number",min:1}},{limit:l},"",!0),ge({conversationTypes:{type:"array",itemType:"number",required:!1},onlyUnread:{type:"boolean",required:!1}},c,"option",!0),this.core.V2NIMLoginService.checkIllegalState();var C=this.model.getByOption(a,l,c);return C.conversationList=Qe(u=C.conversationList).call(u,function(x){return h.compute.computeFromExternal(x)}),Zt.resolve(C)},f.getConversation=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.checkV2(),Za(this.core.account,a),!(c=this.model.getById(a))){h.next=7;break}return h.abrupt("return",this.compute.computeFromExternal(c));case 7:throw new Ct({code:it.V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST});case 8:case"end":return h.stop()}},l,this)}))},f.getConversationListByIds=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h=this;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return this.checkV2(),ge({conversationIds:{type:"array",itemType:"string",min:1}},{conversationIds:a},"",!0),this.core.V2NIMLoginService.checkIllegalState(),u=Tn(c=Qe(a).call(a,function(k){return h.model.getById(k)})).call(c,function(k){return!!k}),u=Qe(u).call(u,function(k){return h.compute.computeFromExternal(k)}),x.abrupt("return",u);case 6:case"end":return x.stop()}},l,this)}))},f.createConversation=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(this.checkV2(),Za(this.core.account,a),!(c=this.model.getById(a))){x.next=5;break}return x.abrupt("return",this.compute.computeFromExternal(c));case 5:return u=this.compute.computeConvByMsgsCache(a,{updateTime:this.core.timeOrigin.getNTPTime()}),u=this.compute.computeConvWithUnread(u),u=this.compute.computeFromExternal(u),this.model.upsert(u),h=this.model.getById(a),this.triggerConversationCreated(h),x.abrupt("return",h);case 12:case"end":return x.stop()}},l,this)}))},f.deleteConversation=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkV2(),Za(this.core.account,a),ge({clearMessage:{type:"boolean",required:!1}},{clearMessage:l},"",!0),C.next=5,this.unread.markConversationRead(a);case 5:if(u=this.model.deleteById(a)){C.next=8;break}throw new Ct({code:it.V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST});case 8:l&&this.core.V2NIMMessageService.model.deleteMessages(a),u&&u.unreadCount>0&&this.unread.digestUnreadCountChange(),this.emit("onConversationDeleted",[a]);case 12:case"end":return C.stop()}},c,this)}))},f.deleteConversationListByIds=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h=this;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return this.checkV2(),ge({conversationIds:{type:"array",itemType:"string",min:1}},{conversationIds:a},"",!0),ge({clearMessage:{type:"boolean",required:!1}},{clearMessage:l},"",!0),x.next=5,this.unread.markMultiConversationRead(a);case 5:return u=!1,rt(a).call(a,function(k){l&&h.core.V2NIMMessageService.model.deleteMessages(k),h.model.deleteById(k)&&(u=!0)}),u&&this.unread.digestUnreadCountChange(),this.emit("onConversationDeleted",a),x.abrupt("return",[]);case 10:case"end":return x.stop()}},c,this)}))},f.getStickTopConversationList=function(){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),c.abrupt("return",this.model.getStickTopList());case 3:case"end":return c.stop()}},a,this)}))},f.stickTopConversation=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x,k,B;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(this.checkV2(),Za(this.core.account,a),ge({stickTop:{type:"boolean"}},{stickTop:l},"",!0),((u=this.model.getById(a))==null?void 0:u.stickTop)!==l){Y.next=6;break}return Y.abrupt("return");case 6:return h=this.core.V2NIMConversationIdUtil.parseConversationTargetId(a),C=this.core.V2NIMConversationIdUtil.parseConversationType(a),Y.next=10,this.core.sendCmd(l?"v2LocalConvStickTopAdd":"v2LocalConvStickTopDelete",{tag:{id:Hee(C,h)}});case 10:x=Y.sent,this.model.updateStickTop(a,l),k=x.content.timetag||x.content.data.updateTime,this.model.upsert({conversationId:a,type:C,stickTop:l,updateTime:k,sortOrder:this.compute.computeSortOrder(l,k)}),B=[this.model.getById(a)],this.triggerConversationChanged(B);case 16:case"end":return Y.stop()}},c,this)}))},f.updateConversationLocalExtension=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(this.checkV2(),Za(this.core.account,a),ge({localExtension:{type:"string"}},{localExtension:l},"",!0),u=this.model.getById(a)){x.next=6;break}throw new Ct({code:it.V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST});case 6:if(u.localExtension!==l){x.next=8;break}return x.abrupt("return");case 8:h=ce(ce({},u),{localExtension:l}),this.model.upsert(h),this.triggerConversationChanged([h]);case 11:case"end":return x.stop()}},c,this)}))},f.getTotalUnreadCount=function(){return this.checkV2(),this.unread.getTotalUnreadCount()||0},f.getUnreadCountByIds=function(a){this.checkV2(),ge({conversationIds:{type:"array",itemType:"string",min:1}},{conversationIds:a},"",!0);var l=this.unread.getUnreadCountByIds(a);return Zt.resolve(l)},f.getUnreadCountByFilter=function(a){this.checkV2(),this.valiteFilter(a);var l=this.unread.getUnreadCountByFilter(a);return Zt.resolve(l)},f.clearTotalUnreadCount=function(){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkV2(),this.checkLogin(),l=this.model.getAll(),u.next=5,this.unread.markMultiConversationRead(Qe(l).call(l,function(h){return h.conversationId}));case 5:this.unread.clearUnreadCount(l);case 6:case"end":return u.stop()}},a,this)}))},f.clearUnreadCountByIds=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k=this;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this.checkV2(),this.checkLogin(),ge({conversationIds:{type:"array",itemType:"string",min:1}},{conversationIds:a},"",!0),c=[],u=[],h=new RegExp("^"+this.core.account+"\\|[1-3]\\|"),rt(a).call(a,function(Y){h.test(Y)?c.push(Y):u.push(Y)}),!(c.length>0)){W.next=12;break}return x=Tn(C=Qe(c).call(c,function(Y){return k.model.getById(Y)})).call(C,function(Y){return!!Y}),W.next=11,this.unread.markMultiConversationRead(c);case 11:this.unread.clearUnreadCount(x);case 12:return W.abrupt("return",Qe(u).call(u,function(Y){return{conversationId:Y,error:new Ct({code:it.V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST})}}));case 13:case"end":return W.stop()}},l,this)}))},f.clearUnreadCountByTypes=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkV2(),this.checkLogin(),ge({types:g$},{types:a},"",!0),u=this.model.getByOption(0,1e3,{conversationTypes:a}),C.next=6,this.unread.markMultiConversationRead(Qe(c=u.conversationList).call(c,function(x){return x.conversationId}));case 6:this.unread.clearUnreadCount(u.conversationList);case 7:case"end":return C.stop()}},l,this)}))},f.subscribeUnreadCountByFilter=function(a){var l;this.checkV2(),this.checkLogin(),this.valiteFilter(a),((l=a.conversationTypes)===null||l===void 0?void 0:l.length)===0&&delete a.conversationTypes,this.unread.addFilter(a)},f.unsubscribeUnreadCountByFilter=function(a){var l;this.checkV2(),this.checkLogin(),this.valiteFilter(a),((l=a.conversationTypes)===null||l===void 0?void 0:l.length)===0&&delete a.conversationTypes,this.unread.deleteFilter(a)},f.getConversationReadTime=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkV2(),Za(this.core.account,a),u.abrupt("return",this.model.getReadTime(a));case 3:case"end":return u.stop()}},l,this)}))},f.markConversationRead=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkV2(),this.checkLogin(),Za(this.core.account,a),u.abrupt("return",this.unread.markConversationRead(a));case 4:case"end":return u.stop()}},l,this)}))},f.valiteFilter=function(a){if(ge({filter:{type:"object",required:!0,rules:{conversationTypes:{type:"array",itemType:"number",required:!1},ignoreMuted:{type:"boolean",required:!1}}}},{filter:a},"",!0),a.conversationTypes===void 0&&a.ignoreMuted!==!0)throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"Filter cannot be empty"}})},f.triggerConversationChanged=function(a){var l=this;a=Qe(a).call(a,function(c){return l.compute.computeFromExternal(c)}),a=JSON.parse($t(a)),rt(a).call(a,function(c){c.lastMessage||(c.lastMessage=void 0),delete c.lastMessageState}),this.emit("onConversationChanged",a)},f.triggerConversationCreated=function(a){a=this.compute.computeFromExternal(a),delete(a=JSON.parse($t(a))).lastMessageState,this.emit("onConversationCreated",a)},y}(ji),ate=function(){function p(){this.map=new Xa,this.readTimeMap=new Xa}var y=p.prototype;return y.set=function(o){var a=this;rt(o).call(o,function(l){l=a.processConversation(l),Qe(a).set(l.conversationId,l)})},y.reset=function(){Qe(this).clear(),this.readTimeMap.clear()},y.count=function(){return Qe(this).size},y.sort=function(){var o,a=this,l=ma(Xo(o=Qe(this)).call(o));mn(l).call(l,function(c,u){return u.sortOrder-c.sortOrder}),Qe(this).clear(),rt(l).call(l,function(c){Qe(a).set(c.conversationId,c)})},y.processConversation=function(o){return typeof o.lastMessage=="string"&&delete o.lastMessage,o.localExtension===void 0&&(o.localExtension=""),o},y.getById=function(o){return Qe(this).get(o)},y.getStickTopList=function(){var o,a,l=ma(Xo(o=Qe(this)).call(o));return mn(a=Tn(l).call(l,function(c){return c.stickTop})).call(a,function(c,u){return u.sortOrder-c.sortOrder})},y.getAll=function(){var o,a=ma(Xo(o=Qe(this)).call(o));return mn(a).call(a,function(l,c){return c.sortOrder-l.sortOrder})},y.getByOption=function(o,a,l){var c,u=l.conversationTypes,h=l.onlyUnread,C=l.conversationGroupIds,x=[];rt(c=Qe(this)).call(c,function(W){if((!(u&&u.length>0)||or(u).call(u,W.type))&&(!h||W.unreadCount)&&(!l.ignoreMuted||!W.mute)){if(C){var Y=W.groupIds,ne=(Y==null?void 0:Y.length)||0;if(C.length===0&&ne>0||C.length>0&&ne===0||C.length>0&&ne>0&&!Mi(C).call(C,function(se){return Y&&or(Y).call(Y,se)}))return}x.push(W)}}),x=mn(x).call(x,function(W,Y){return Y.sortOrder-W.sortOrder});var k=0;o>0&&(k=nv(x,"sortOrder",o),x[k]&&x[k].sortOrder===o&&(k+=1));var B=zn(x).call(x,k).length;return(x=zn(x).call(x,k,k+a)).length>0?{offset:B>a?x[x.length-1].sortOrder:0,finished:!(B>a),conversationList:x}:{offset:0,finished:!0,conversationList:x}},y.upsert=function(o){var a=o.conversationId,l=Qe(this).get(a);if(!l)return o=this.processConversation(ce({},o)),Qe(this).set(a,o),o.unreadCount>0;var c=o.unreadCount!==l.unreadCount,u=ce({},l,o);return u=this.processConversation(u),Qe(this).set(a,u),c},y.bulkUpsert=function(o){var a=this,l=!1;return rt(o).call(o,function(c){a.upsert(c)&&(l=!0)}),l},y.deleteById=function(o){var a=this.getById(o);if(a)return Qe(this).delete(o),a},y.updateReadTime=function(o,a){this.readTimeMap.set(o,a)},y.getReadTime=function(o){return this.readTimeMap.get(o)||0},p}();function qx(p,y){var f=typeof p;if(f!==typeof y)return!1;if(f==="object"){if(Object.prototype.toString.call(p)!==Object.prototype.toString.call(y))return!1;if(Nr(p)){if(p.length!==y.length)return!1;for(var o=0;o<p.length;o++)if(!qx(p[o],y[o]))return!1;return!0}if(p instanceof RegExp&&y instanceof RegExp)return p.toString()===y.toString();if(p instanceof Date&&y instanceof Date)return p.getTime()===y.getTime();if(p===null&&y===null)return!0;if(Gn(p).length!==Gn(y).length)return!1;for(var a in p)if(!qx(p[a],y[a]))return!1;return!0}return p===y}var ite=function(){function p(f,o){this.fieldVersion={},this.conversationIdsForBackFill={},this.tempPacket=[],this.isSyncing=!1,this.nextCursor=0,this.core=f,this.service=o}var y=p.prototype;return y.reset=function(){this.tempPacket=[],this.fieldVersion={},this.conversationIdsForBackFill={},this.isSyncing=!1,this.nextCursor=0},y.doSync=function(){return le(this,void 0,void 0,q.mark(function o(){var a,l,c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.isSyncing=!0,this.service.emit("onSyncStarted"),this.core.V2NIMLoginService.dataSync.switchDataSync({type:1,state:2,subType:"conversationSync"}),C.prev=3,C.next=6,this.core.sendCmd("v2ConversationSync",{tag:{cursor:this.nextCursor}});case 6:a=C.sent,C.next=19;break;case 9:if(C.prev=9,C.t0=C.catch(3),(l=C.t0).code!==it.V2NIM_ERROR_CODE_CANCELLED){C.next=14;break}return C.abrupt("return");case 14:return this.isSyncing=!1,this.service.emit("onSyncFailed",l),this.core.V2NIMLoginService.dataSync.switchDataSync({type:1,state:3,error:l,subType:"conversationSync"}),this.processTempPacket(),C.abrupt("return");case 19:c=un(Ht(a,"content.info.syncType"))===0,u=Ht(a,"content.info.nextCursor"),this.doSyncAndSuccess(c,u);case 22:case"end":return C.stop()}},o,this,[[3,9]])}))},y.doSyncAndSuccess=function(o,a){var l;o&&mn(l=this.service.model).call(l),this.isSyncing=!1,this.nextCursor=un(a)||0,this.service.unread.resetTotalAfterSyncDone(),this.service.unread.digestUnreadCountChange(),this.service.emit("onSyncFinished"),this.core.V2NIMLoginService.dataSync.switchDataSync({type:1,state:3,subType:"conversationSync"}),this.processTempPacket()},y.setBackFillIds=function(o){var a=this;return rt(o).call(o,function(l){if(l.lastMessageState===2&&a.service.compute.hasMessageService){a.conversationIdsForBackFill[l.conversationId]=!0;var c=a.core.V2NIMMessageService.model.getLastMessageOfConversation(l.conversationId);l.lastMessage=c?gd(a.core,c,l.lastMessageState,c.sendingState):""}else a.conversationIdsForBackFill[l.conversationId]=!1;delete l.lastMessageState}),o},y.recvConversationFromSyncAction=function(o){var a=this,l=Ht(o,"content.info").syncType,c=fv(this.core,Ht(o,"content.datas"));(l=un(l))===0?(rt(c).call(c,function(u){a.initFieldVersion(u.conversationId,u.version)}),c=this.setBackFillIds(c),this.setModel(c)):(c=this.setBackFillIds(c),this.recvConversationForCreated(c)<c.length&&this.recvConversationForChanged(c))},y.recvConversation=function(o){var a=this;if(this.isSyncing)this.tempPacket.push(o);else{var l=fv(this.core,Ht(o,"content.datas")),c=Tn(l).call(l,function(x){return!!x.conversationId}),u=Ht(o,"content.info"),h=Qe(c).call(c,function(x){return"id:"+x.conversationId+", ver:"+x.version}).join(";");if(this.core.logger.getDebugMode()?this.core.logger.debug("V2NIMConversation::recvConversation: "+h+".",u,c):this.core.logger.log("V2NIMConversation::recvConversation: "+h+".",u),u.type===2){var C=Qe(c).call(c,function(x){return delete a.fieldVersion[x.conversationId],a.service.model.deleteById(x.conversationId),x.conversationId});return this.service.emit("onConversationDeleted",C),void this.service.unread.digestUnreadCountChange()}u.type!==12?(u.type,c=this.setBackFillIds(c),this.recvConversationForCreated(c)<c.length&&this.recvConversationForChanged(c)):this.compareAndClearUnreadInModel(u)}},y.recvConversationForCreated=function(o){var a=this,l=Tn(o).call(o,function(u){return!a.fieldVersion[u.conversationId]}),c=ja(l).call(l,function(u,h){if(!a.fieldVersion[h.conversationId]){a.initFieldVersion(h.conversationId,h.version),u=!!a.updateModel(h)||u;var C=a.service.model.getById(h.conversationId);return C&&a.service.triggerConversationCreated(C),u}return u},!1);return c&&this.service.unread.digestUnreadCountChange(),l.length},y.recvConversationForChanged=function(o){var a,l=this,c=this.bulkCompare(o);if(c.length!==0){this.bulkUpdateModel(c);var u=Tn(a=Qe(c).call(c,function(h){return l.service.model.getById(h.conversationId)})).call(a,function(h){return!!h});this.service.triggerConversationChanged(u)}},y.processTempPacket=function(){var o,a=this;rt(o=this.tempPacket).call(o,function(l){a.recvConversation(l)}),this.tempPacket=[]},y.bulkCompare=function(o){var a,l=this;return Tn(a=Qe(o).call(o,function(c){return l.compare(c)})).call(a,function(c){return!!c})},y.compare=function(o){var a=this,l=o.version,c=o.conversationId,u=o.deleteFlag,h=o.type,C=["stickTop","groupIds","serverExtension","localExtension","lastMessage","lastMessageState","unreadCount","sortOrder","createTime","updateTime","lastReadTime"],x={},k=0;return rt(C).call(C,function(B){var W=B;if(o[W]!==void 0){var Y=a.fieldVersion[c];Y&&typeof Y[W]=="number"&&Y[W]>=l||(a.fieldVersion[c]=a.fieldVersion[c]||{},a.fieldVersion[c][W]=l,x[W]=o[W],k+=1)}}),k?ce(ce({},x),{conversationId:c,deleteFlag:u,version:l,type:h}):void 0},y.bulkUpdateModel=function(o){var a=this,l=!1;rt(o).call(o,function(c){a.updateModel(c)&&(l=!0)}),l&&this.service.unread.digestUnreadCountChange()},y.initFieldVersion=function(o,a){this.fieldVersion[o]={stickTop:a,groupIds:a,serverExtension:a,lastMessage:a,lastMessageState:a,unreadCount:a,sortOrder:a,createTime:a,updateTime:a,lastReadTime:a}},y.initConversation=function(o,a){var l=lr();return ce({conversationId:o,type:this.core.V2NIMConversationIdUtil.parseConversationType(o),stickTop:!1,localExtension:"",serverExtension:"",unreadCount:0,lastReadTime:0,createTime:l,updateTime:l,sortOrder:l},a)},y.updateModel=function(o){var a=f$(o),l=a.deleteFlag,c=a.conversation;if(l){var u=this.service.model.deleteById(c.conversationId);return!!(u&&u.unreadCount>0)}return this.service.model.upsert(c)},y.setModel=function(o){var a,l=Qe(a=Tn(o).call(o,function(c){return!c.deleteFlag})).call(a,function(c){return f$(c).conversation});this.service.model.set(l)},y.updateModelWithLastMessage=function(o,a,l,c){var u=this.service.model.getById(o),h=a?gd(this.core,a,l,c):void 0;if(!qx(u==null?void 0:u.lastMessage,h))if(u){var C=ce(ce({},u),{sortOrder:h?u.stickTop?h.messageRefer.createTime+1e15:h.messageRefer.createTime:u.sortOrder,lastMessage:h});this.service.model.upsert(C),this.service.triggerConversationChanged([C])}else{this.initFieldVersion(o,-1);var x=this.initConversation(o,{lastMessage:h});this.service.model.upsert(x),this.service.triggerConversationCreated(x)}},y.updateModelByRevoke=function(o){var a=this,l=[];rt(o).call(o,function(c){var u=c.postscript,h=c.messageRefer,C=Ja(c,["postscript","messageRefer"]),x=h.conversationId,k=a.service.model.getById(x);k&&k.lastMessage&&k.lastMessage.messageRefer.messageClientId===h.messageClientId&&k.lastMessage.lastMessageState!==1&&(k.lastMessage.lastMessageState=1,u&&(k.lastMessage.text=u),ce(k.lastMessage,C),a.service.model.upsert(k),l.push(k))}),l.length>0&&this.service.triggerConversationChanged(l)},y.compareAndUpdateModel=function(o){var a=this;this.core.logger.log("V2NIMConversation::compareAndUpdateModel",Qe(o).call(o,function(u){return u.conversationId}));var l=!1,c=[];rt(o).call(o,function(u){var h=a.compare(u);if(h){var C=a.service.model.getById(u.conversationId);a.updateModel(h)&&(l=!0);var x=a.service.model.getById(u.conversationId);x&&(C?c.push(x):a.service.triggerConversationCreated(x))}}),c.length>0&&this.service.triggerConversationChanged(c),l&&this.service.unread.digestUnreadCountChange()},y.compareAndDeleteModel=function(o){var a=this;this.core.logger.log("V2NIMConversation::compareAndDeleteModel",o);var l=ja(o).call(o,function(c,u){delete a.fieldVersion[u];var h=a.service.model.deleteById(u);return!!(h&&h.unreadCount>0)||c},!1);this.service.emit("onConversationDeleted",o),l&&this.service.unread.digestUnreadCountChange()},y.compareAndDeleteGroupInModel=function(o,a){var l,c=this;this.core.logger.log("V2NIMConversation::compareAndDeleteGroupInModel",o,a);var u=[];rt(l=Gn(this.fieldVersion)).call(l,function(h){var C=c.fieldVersion[h];if(C.groupIds===void 0||o>C.groupIds){C.groupIds=o;var x=c.service.model.getById(h);if(x&&x.groupIds&&x.groupIds.length>0){var k,B=Tn(k=x.groupIds).call(k,function(Y){return Y!==a});if(B.length!==x.groupIds.length){var W=ce(ce({},x),{groupIds:B});c.service.model.upsert(W),W&&u.push(W)}}}}),u.length>0&&this.service.triggerConversationChanged(u)},y.compareAndClearUnreadInModel=function(o){var a=this,l=o.oneClickClearUnreadType,c=o.oneClickClearUnreadVersion,u=o.oneClickClearUnreadLastReadTime,h=o.oneClickClearUnreadConversationType,C=o.oneClickClearUnreadGroupId;this.core.logger.log("V2NIMConversation::compareAndClearUnreadInModel.ver:"+c+";type:"+l+";lastReadTime:"+u+";filter:"+(h||"")+";grounp:"+(C||""));var x=[],k=[];if(l===1)k=this.service.model.getAll();else if(h||C){var B=this.service.model.count();k=this.service.model.getByOption(0,B,{conversationTypes:h,conversationGroupIds:C?[C]:void 0}).conversationList}rt(k).call(k,function(W){var Y=W.conversationId,ne=a.fieldVersion[Y];if(ne.unreadCount===void 0||c>ne.unreadCount){ne.unreadCount=c,ne.lastReadTime=c;var se=W.unreadCount,xe=ce(ce({},W),{lastReadTime:u,unreadCount:0});a.service.model.upsert(xe),se>0&&x.push(xe)}}),x.length>0&&this.service.triggerConversationChanged(x),this.service.unread.digestUnreadCountChange()},y.backfillLastMsg=function(o,a){var l=this,c=o=Vp(o);(a||(c=Tn(o).call(o,function(u){return l.conversationIdsForBackFill[u]}),c.length!==0))&&rt(c).call(c,function(u){var h=Ht(l.service.model.getById(u),"lastMessage.messageRefer.messageClientId"),C=l.service.compute.hasMessageService?l.core.V2NIMMessageService.model.getLastMessageOfConversation(u):void 0;(C&&C.messageClientId)!==h&&(l.conversationIdsForBackFill[u]=!1,C?l.updateModelWithLastMessage(u,C,2,C.sendingState):l.updateModelWithLastMessage(u,void 0,2,0))})},p}(),ote={"28_1":"v2ConversationCreate","28_2":"v2ConversationDelete","28_3":"v2ConversationUpdate","28_4":"v2ConversationSetTop","28_5":"v2ConversationUnreadClear","28_6":"v2ConversationGet","28_7":"v2ConversationGetByIds","28_8":"v2ConversationGetList","28_17":"v2ConversationsDelete","28_18":"v2ConversationsUnreadClear","28_19":"v2ConversationSync","28_20":"v2ConversationNotifySync","28_21":"v2ConversationNotifySyncOnline","28_23":"v2ConversationClearTotalUnread","28_24":"v2ConversationClearTypeUnread","28_25":"v2ConversationClearGroupUnread","4_14":"syncConversationReadTime","4_20":"syncSuperTeamReadTime","4_22":"v2SyncSessionsWithMoreRoaming","4_25":"v2SyncSessionReliableInfo","30_16":"v2MarkConversationReadTime","32_25":"v2MarkSuperTeamReadTime","7_116":"v2MultiDeviceConversationReadTime","21_125":"v2MultiDeviceSuperTeamReadTime"},_i="V2NIMConversationService",rs={conversationId:1,type:{id:2,retType:"number"},serverExtension:3,groupIds:{id:4,retConverter:function(y){return y?JSON.parse(y):void 0}},lastMessage:5,lastMessageState:{id:6,retType:"number"},unreadCount:{id:7,retType:"number"},stickTop:{id:8,retType:"boolean"},sortOrder:{id:9,retType:"number"},version:{id:10,retType:"number"},deleteFlag:{id:11,retType:"boolean"},createTime:{id:12,retType:"number"},updateTime:{id:13,retType:"number"},lastReadTime:{id:14,retType:"number"}},PS={type:{id:1,retType:"number"},oneClickClearUnreadType:{id:2,retType:"number"},oneClickClearUnreadConversationType:{id:3,retConverter:cd},oneClickClearUnreadGroupId:{id:4,retType:"string"},oneClickClearUnreadVersion:{id:5,retType:"number"},oneClickClearUnreadLastReadTime:{id:6,retType:"number"}},ste={v2ConversationCreate:{sid:28,cid:1,service:_i,params:[{type:"Property",name:"tag",reflectMapper:{conversationId:1}}],response:[{type:"Property",name:"data",reflectMapper:dt(rs)}]},v2ConversationDelete:{sid:28,cid:2,service:_i,params:[{type:"Property",name:"tag",reflectMapper:{conversationId:1,clearMessage:2}}],response:[{type:"Property",name:"data",reflectMapper:dt(rs)}]},v2ConversationUpdate:{sid:28,cid:3,service:_i,params:[{type:"Property",name:"tag",reflectMapper:{conversationId:1,serverExtension:2}}],response:[{type:"Property",name:"data",reflectMapper:dt(rs)}]},v2ConversationSetTop:{sid:28,cid:4,service:_i,params:[{type:"Property",name:"tag",reflectMapper:{conversationId:1,stickTop:2}}],response:[{type:"Property",name:"data",reflectMapper:dt(rs)}]},v2ConversationUnreadClear:{sid:28,cid:5,service:_i,params:[{type:"Property",name:"tag",reflectMapper:{conversationId:1}}],response:[{type:"Property",name:"data",reflectMapper:dt(rs)}]},v2ConversationGet:{sid:28,cid:6,service:_i,params:[{type:"Property",name:"tag",reflectMapper:{conversationId:1}}],response:[{type:"Property",name:"data",reflectMapper:dt(rs)}]},v2ConversationGetByIds:{sid:28,cid:7,service:_i,params:[{type:"Property",name:"tag",reflectMapper:{conversationIds:1}}],response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(rs)},{type:"Property",name:"info",reflectMapper:{1:"failedMap"}}]},v2ConversationGetList:{sid:28,cid:8,service:_i,params:[{type:"Property",name:"tag",reflectMapper:{cursor:1,limit:2}}],response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(rs)},{type:"Property",name:"info",reflectMapper:{1:"hasMore",2:"offset"}}]},v2ConversationsDelete:{sid:28,cid:17,service:_i,params:[{type:"Property",name:"tag",reflectMapper:{conversationIds:1,clearMessage:2}}],response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(rs)},{type:"Property",name:"info",reflectMapper:{1:"failedMap"}}]},v2ConversationsUnreadClear:{sid:28,cid:18,service:_i,params:[{type:"Property",name:"tag",reflectMapper:{conversationIds:1}}],response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(rs)},{type:"Property",name:"info",reflectMapper:{1:"failedMap"}}]},v2ConversationSync:{sid:28,cid:19,service:_i,params:[{type:"Property",name:"tag",reflectMapper:{cursor:1}}],response:[{type:"Property",name:"info",reflectMapper:{1:"nextCursor",2:"syncType"}}]},v2ConversationNotifySync:{sid:28,cid:20,service:_i,response:[{type:"Property",name:"info",reflectMapper:{1:"nextCursor",2:"syncType"}},{type:"PropertyArray",name:"datas",reflectMapper:dt(rs)}]},v2ConversationNotifySyncOnline:{sid:28,cid:21,service:_i,response:[{type:"Property",name:"info",reflectMapper:dt(PS)},{type:"PropertyArray",name:"datas",reflectMapper:dt(rs)}]},v2ConversationClearTotalUnread:{sid:28,cid:23,service:_i,response:[{type:"Property",name:"info",reflectMapper:dt(PS)}]},v2ConversationClearTypeUnread:{sid:28,cid:24,service:_i,params:[{type:"Property",name:"tag",reflectMapper:{conversationType:1}}],response:[{type:"Property",name:"info",reflectMapper:dt(PS)}]},v2ConversationClearGroupUnread:{sid:28,cid:25,service:_i,params:[{type:"Property",name:"tag",reflectMapper:{groupId:1}}],response:[{type:"Property",name:"info",reflectMapper:dt(PS)}]},syncConversationReadTime:{sid:4,cid:14,service:_i,response:[{type:"StrLongMap",name:"p2p"},{type:"LongLongMap",name:"team"},{type:"Long",name:"timetag"}]},syncSuperTeamReadTime:{sid:4,cid:20,service:_i,response:[{type:"LongLongMap",name:"superTeam"}]},v2SyncSessionsWithMoreRoaming:{sid:4,cid:22,service:_i,response:[]},v2SyncSessionReliableInfo:{sid:4,cid:25,service:_i,response:[]},v2MarkConversationReadTime:{sid:30,cid:16,service:_i,params:[{type:"Byte",name:"scene"},{type:"String",name:"to"},{type:"Long",name:"timetag"}]},v2MarkSuperTeamReadTime:{sid:32,cid:25,service:_i,params:[{type:"Long",name:"to"},{type:"Long",name:"timetag"}]},v2MultiDeviceConversationReadTime:{sid:30,cid:116,service:_i,response:[{type:"Byte",name:"scene"},{type:"String",name:"to"},{type:"Long",name:"timetag"}]},v2MultiDeviceSuperTeamReadTime:{sid:21,cid:125,service:_i,response:[{type:"Long",name:"to"},{type:"Long",name:"timetag"}]}},lte=function(){function p(f,o){this.totalUnreadCount=void 0,this.unreadCountByFilter={},this.core=f,this.service=o}var y=p.prototype;return y.reset=function(){this.totalUnreadCount=void 0,this.unreadCountByFilter={}},y.getTotalUnreadCount=function(){return this.totalUnreadCount},y.resetTotalAfterSyncDone=function(){var o,a=ja(o=this.service.model.getAll()).call(o,function(c,u){return c+(u.unreadCount||0)},0),l=this.totalUnreadCount;return l!==void 0&&l===a||(this.totalUnreadCount=a,this.service.emit("onTotalUnreadCountChanged",a)),a},y.digestUnreadCountChange=function(){this._digest()},y._digest=function(){var o,a=this,l=this.totalUnreadCount,c=ja(o=this.service.model.getAll()).call(o,function(h,C){return h+(C.unreadCount||0)},0);this.core.logger.log("V2NIMConversation::digestUnreadCountChange:oldUnreadCount "+l+", newUnreadCount "+c),l!==c&&(this.totalUnreadCount=c,this.service.emit("onTotalUnreadCountChanged",c));var u=Gn(this.unreadCountByFilter);rt(u).call(u,function(h){var C=JSON.parse(h),x=a.getUnreadCountByFilter(C),k=a.unreadCountByFilter[h];a.unreadCountByFilter[h]=x,C.equals=cn(h$).call(h$,C),k!==x&&a.service.emit("onUnreadCountChangedByFilter",C,x)})},y.getUnreadCountByIds=function(o){var a=this;return ja(o).call(o,function(l,c){var u=a.service.model.getById(c);return l+(u&&u.unreadCount||0)},0)},y.getUnreadCountByFilter=function(o){var a,l=this.service.model.count(),c=this.service.model.getByOption(0,l,{conversationTypes:o.conversationTypes,conversationGroupIds:o.conversationGroupId?[o.conversationGroupId]:void 0,ignoreMuted:o.ignoreMuted});return ja(a=c.conversationList).call(a,function(u,h){return u+(h.unreadCount||0)},0)},y.addFilter=function(o){var a=zx(o);if(this.unreadCountByFilter[a]!==void 0)throw new Ct({code:it.V2NIM_ERROR_CODE_RESOURCE_ALREADY_EXIST});var l=JSON.parse(a),c=this.getUnreadCountByFilter(l);this.unreadCountByFilter[a]=c,this.service.emit("onUnreadCountChangedByFilter",l,c)},y.deleteFilter=function(o){var a=zx(o);if(this.unreadCountByFilter[a]===void 0)throw new Ct({code:it.V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST});delete this.unreadCountByFilter[a]},p}();function zx(p){var y=p.conversationTypes;return y&&(y=mn(y).call(y)),$t({conversationGroupId:p.conversationGroupId,conversationTypes:y,ignoreMuted:p.ignoreMuted})}function h$(p){return $t(this)===zx(p)}var cte={createTime:{type:"number"},updateTime:{type:"number"}};function v$(p){return p&&p.length>0?Qe(p).call(p,function(y){return DS(y)}):[]}function DS(p){return oa(cte,p)}function jS(p){var y,f=JSON.parse(p);return Qe(y=Gn(f)).call(y,function(o){return{conversationId:o,error:new Ct({code:f[o]})}})}var y$,ute={type:{type:"number"},deleteVersion:{type:"number"},conversationIds:{type:"object"}};function b$(p){return oa(ute,p)}(function(p){p[p.createConversationGroup=1]="createConversationGroup",p[p.deleteConversationGroup=2]="deleteConversationGroup",p[p.updateConversationGroup=3]="updateConversationGroup",p[p.addConversationToGroup=4]="addConversationToGroup",p[p.removeConversationFromGroup=5]="removeConversationFromGroup"})(y$||(y$={}));var dte=function(){function p(f,o){this.core=f,this.service=o}var y=p.prototype;return y.computeConvs=function(o){var a=this;return Qe(o).call(o,function(l){return a.computeConv(l)})},y.computeConv=function(o){var a,l,c,u,h;if(o.type===0)return o;var C=this.core.V2NIMConversationIdUtil.parseConversationType(o.conversationId),x=this.core.V2NIMConversationIdUtil.parseConversationTargetId(o.conversationId),k={};if(o.lastReadTime||(k.lastReadTime=this.service.model.getReadTime(o.conversationId)),!((a=this.core.V2NIMSettingService)===null||a===void 0)&&a.name&&(k.mute=this.core.V2NIMSettingService.getConversationMuteStatus(o.conversationId)),C===1&&this.hasUserService){var B,W=this.core.V2NIMUserService.model.getUser(x),Y=this.hasFriendService?this.core.V2NIMFriendService.model.getFriend(x):void 0;o.conversationId!==((l=o.lastMessage)===null||l===void 0?void 0:l.messageRefer.conversationId)||((c=o.lastMessage)===null||c===void 0?void 0:c.lastMessageState)!==0&&((u=o.lastMessage)===null||u===void 0?void 0:u.lastMessageState)!==2||(B=(h=o.lastMessage)===null||h===void 0?void 0:h.senderName),k.name=(Y==null?void 0:Y.alias)||(W==null?void 0:W.name)||B||x,k.avatar=(W==null?void 0:W.avatar)||""}else if(C===2&&this.hasTeamService){var ne=this.core.V2NIMTeamService.model.getById(x,1);k.name=(ne==null?void 0:ne.name)||x,k.avatar=(ne==null?void 0:ne.avatar)||""}else if(C===3&&this.hasTeamService){var se=this.core.V2NIMTeamService.model.getById(x,2);k.name=(se==null?void 0:se.name)||x,k.avatar=(se==null?void 0:se.avatar)||""}return ce(o,k),o},y.computeReadTimeForMark=function(o){var a,l,c,u=o.conversationId,h=this.service.model.getReadTime(u);if(!((l=(a=o==null?void 0:o.lastMessage)===null||a===void 0?void 0:a.messageRefer)===null||l===void 0)&&l.createTime)c=o.lastMessage.messageRefer.createTime;else{if(!this.core.timeOrigin.checkNodeReliable())return h||0;c=this.core.timeOrigin.getNTPTime()}return c},sa(p,[{key:"hasUserService",get:function(){var o;return!!(!((o=this.core.V2NIMUserService)===null||o===void 0)&&o.name)}},{key:"hasFriendService",get:function(){var o;return!!(!((o=this.core.V2NIMFriendService)===null||o===void 0)&&o.name)}},{key:"hasTeamService",get:function(){var o;return!!(!((o=this.core.V2NIMTeamService)===null||o===void 0)&&o.name)}},{key:"hasMessageService",get:function(){var o;return!!(!((o=this.core.V2NIMMessageService)===null||o===void 0)&&o.name)}}]),p}(),pte=of.entries;Lt({target:"Object",stat:!0},{entries:function(y){return pte(y)}});var S$,I$,E$,xi,Hx=fe.Object.entries,mte=function(){function p(f,o){this.core=f,this.service=o,this.model=this.service.model,this.logger=this.core.logger}var y=p.prototype;return y.v2ConversationNotifySyncHandler=function(o){this.ifEnabled&&this.service.versionCache.recvConversationFromSyncAction(o)},y.v2ConversationNotifySyncOnlineHandler=function(o){this.ifEnabled&&this.service.versionCache.recvConversation(o)},y.syncConversationReadTimeHandler=function(o){var a,l,c;if(this.ifEnabled){if(!((a=o==null?void 0:o.content)===null||a===void 0)&&a.p2p)for(var u=0,h=Hx(o.content.p2p);u<h.length;u++){var C=h[u],x=C[0],k=C[1];this.model.updateReadTime(this.core.V2NIMConversationIdUtil.p2pConversationId(x),k),this.service.emit("onConversationReadTimeUpdated",this.core.V2NIMConversationIdUtil.p2pConversationId(x),k)}if(!((c=(l=o==null?void 0:o.content)===null||l===void 0?void 0:l.team)===null||c===void 0)&&c.m_map)for(var B=0,W=Hx(o.content.team.m_map);B<W.length;B++){var Y=W[B],ne=Y[0],se=Y[1];this.model.updateReadTime(this.core.V2NIMConversationIdUtil.teamConversationId(ne),se),this.service.emit("onConversationReadTimeUpdated",this.core.V2NIMConversationIdUtil.teamConversationId(ne),se)}}},y.syncSuperTeamReadTimeHandler=function(o){var a,l;if(this.ifEnabled&&(!((l=(a=o==null?void 0:o.content)===null||a===void 0?void 0:a.superTeam)===null||l===void 0)&&l.m_map))for(var c=0,u=Hx(o.content.superTeam.m_map);c<u.length;c++){var h=u[c],C=h[0],x=h[1];this.model.updateReadTime(this.core.V2NIMConversationIdUtil.superTeamConversationId(C),x),this.service.emit("onConversationReadTimeUpdated",this.core.V2NIMConversationIdUtil.superTeamConversationId(C),x)}},y.v2MultiDeviceConversationReadTimeHandler=function(o){var a;this.ifEnabled&&(!((a=o==null?void 0:o.content)===null||a===void 0)&&a.to)&&(o.content.scene===0?(this.model.updateReadTime(this.core.V2NIMConversationIdUtil.p2pConversationId(o.content.to),o.content.timetag),this.service.emit("onConversationReadTimeUpdated",this.core.V2NIMConversationIdUtil.p2pConversationId(o.content.to),o.content.timetag)):(this.model.updateReadTime(this.core.V2NIMConversationIdUtil.teamConversationId(o.content.to),o.content.timetag),this.service.emit("onConversationReadTimeUpdated",this.core.V2NIMConversationIdUtil.teamConversationId(o.content.to),o.content.timetag)))},y.v2MultiDeviceSuperTeamReadTimeHandler=function(o){var a;this.ifEnabled&&(!((a=o==null?void 0:o.content)===null||a===void 0)&&a.to)&&(this.model.updateReadTime(this.core.V2NIMConversationIdUtil.superTeamConversationId(o.content.to),o.content.timetag),this.service.emit("onConversationReadTimeUpdated",this.core.V2NIMConversationIdUtil.superTeamConversationId(o.content.to),o.content.timetag))},sa(p,[{key:"ifEnabled",get:function(){return this.core.options.enableV2CloudConversation===!0}}]),p}(),fte=function(){function p(f,o){this.core=f,this.service=o,this.model=this.service.model,this.versionCache=this.service.versionCache,this.logger=this.core.logger}var y=p.prototype;return y.setListener=function(){var o,a,l,c,u,h,C,x=this;this.core.eventBus.on("V2NIMLoginService/loginLifeCycleLoginSucc",function(){return x.versionCache.doSync()}),this.core.eventBus.on("V2NIMConversationService/conversationOnlineSyncNotify",cn(o=this.conversationOnlineSyncNotify).call(o,this)),this.core.eventBus.on("V2NIMMessageService/sendMessage",cn(a=this.sendMessage).call(a,this)),this.core.eventBus.on("V2NIMMessageService/deleteMessages",cn(l=this.deleteMessages).call(l,this)),this.core.eventBus.on("V2NIMMessageService/revokeMessages",cn(c=this.revokeMessages).call(c,this)),this.core.eventBus.on("V2NIMMessageService/roamingMsgs",cn(u=this.roamingOrOfflineMsgs).call(u,this)),this.core.eventBus.on("V2NIMMessageService/offlineMsgs",cn(h=this.roamingOrOfflineMsgs).call(h,this)),this.core.eventBus.on("V2NIMSettingService/setMute",cn(C=this.setMute).call(C,this))},y.beforeEmit=function(o){for(var a,l,c=this.service.name+"::emit "+o.toString(),u=arguments.length,h=new Array(u>1?u-1:0),C=1;C<u;C++)h[C-1]=arguments[C];if(o==="onConversationCreated"){var x=h[0];this.logger.log(""+c,"id:"+x.conversationId+";unread:"+x.unreadCount+";lastMsg:"+((a=x.lastMessage)===null||a===void 0?void 0:a.messageRefer.messageClientId)+"/"+((l=x.lastMessage)===null||l===void 0?void 0:l.messageRefer.messageServerId))}else if(o==="onConversationChanged"){var k=h[0];this.logger.log(""+c,Qe(k).call(k,function(Y){var ne,se;return"id:"+Y.conversationId+";unread:"+Y.unreadCount+";lastMsg:"+((ne=Y.lastMessage)===null||ne===void 0?void 0:ne.messageRefer.messageClientId)+"/"+((se=Y.lastMessage)===null||se===void 0?void 0:se.messageRefer.messageServerId)}))}else{var B,W;(B=this.logger).log.apply(B,Bn(W=[""+c]).call(W,h))}},y.conversationOnlineSyncNotify=function(o,a){var l;((l=a==null?void 0:a.messageConfig)===null||l===void 0?void 0:l.lastMessageUpdateEnabled)!==!1&&(o.content.info=Rr(o.content.info,dt(PS)),o.content.data=Rr(o.content.data,dt(rs)),a&&(o.content.data.lastMessage=gd(this.core,a,0)),o.content.datas=[o.content.data],this.service.handler.v2ConversationNotifySyncOnlineHandler.call(this,o))},y.sendMessage=function(o,a){var l,c;a===1&&((l=o.messageConfig)===null||l===void 0?void 0:l.historyEnabled)===!0||((c=o==null?void 0:o.messageConfig)===null||c===void 0?void 0:c.lastMessageUpdateEnabled)!==!1&&this.versionCache.updateModelWithLastMessage(o.conversationId,o,2,a)},y.deleteMessages=function(o){var a=Qe(o).call(o,function(l){return l.messageRefer.conversationId});this.versionCache.backfillLastMsg(a,!0)},y.revokeMessages=function(o){this.versionCache.updateModelByRevoke(o)},y.roamingOrOfflineMsgs=function(o){var a=Vp(Qe(o).call(o,function(l){return l.conversationId}));this.versionCache.backfillLastMsg(a,!1)},y.setMute=function(o,a){var l=this.model.getById(o);l&&l.mute!==a&&(l.mute=a,this.model.upsert(l),this.service.triggerConversationChanged([l]))},p}(),C$=function(p){function y(o,a){var l;return a===void 0&&(a={}),(l=p.call(this,"V2NIMConversationService",o)||this).config={},l.model=new ate,l.versionCache=new ite(l.core,er(l)),l.unread=new lte(l.core,er(l)),l.compute=new dte(l.core,er(l)),l.event=new fte(l.core,er(l)),l.handler=new mte(l.core,er(l)),l.core._registerDep(Vf,"V2NIMConversationIdUtil"),l.core.options.apiVersion!=="v2"||l.core.options.enableV2CloudConversation!==!0?er(l):(Wr({cmdMap:ote,cmdConfig:ste}),l.setOptions(a),l.setListener(),l)}pr(y,p);var f=y.prototype;return f.setOptions=function(a){this.config=ce(this.config,a)},f.setListener=function(){this.event.setListener()},f.reset=function(){this.versionCache.reset(),this.model.reset(),this.unread.reset()},f.emit=function(a){for(var l,c,u,h,C=arguments.length,x=new Array(C>1?C-1:0),k=1;k<C;k++)x[k-1]=arguments[k];return(l=this.event).beforeEmit.apply(l,Bn(c=[a]).call(c,x)),(u=p.prototype.emit).call.apply(u,Bn(h=[this,a]).call(h,x))},f.checkEnable=function(){if(this.core.options.enableV2CloudConversation!==!0)throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"V2CloudConversation is not enabled"}})},f.getConversationList=function(a,l){this.checkEnable(),this.checkV2(),ge({offset:{type:"number",min:0}},{offset:a},"",!0),ge({limit:{type:"number",min:1}},{limit:l},"",!0),this.core.V2NIMLoginService.checkIllegalState();var c=this.model.getByOption(a,l,{});return c.conversationList=this.compute.computeConvs(c.conversationList),Zt.resolve(c)},f.getConversationListByOption=function(a,l,c){this.checkEnable(),this.checkV2(),ge({offset:{type:"number",min:0}},{offset:a},"",!0),ge({limit:{type:"number",min:1}},{limit:l},"",!0),ge({option:{type:"object",required:!0,rules:{conversationTypes:{type:"array",itemType:"number",required:!1},onlyUnread:{type:"boolean",required:!1},conversationGroupIds:{type:"array",itemType:"string",required:!1}}}},{option:c},"",!0),this.core.V2NIMLoginService.checkIllegalState();var u=this.model.getByOption(a,l,c);return u.conversationList=this.compute.computeConvs(u.conversationList),Zt.resolve(u)},f.getConversation=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.checkEnable(),this.checkV2(),Za(this.core.account,a),!(c=this.model.getById(a))){h.next=8;break}return h.abrupt("return",this.compute.computeConv(c));case 8:throw new Ct({code:it.V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST});case 9:case"end":return h.stop()}},l,this)}))},f.getConversationListByIds=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h=this;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return this.checkEnable(),this.checkV2(),ge({conversationIds:{type:"array",itemType:"string",min:1}},{conversationIds:a},"",!0),this.core.V2NIMLoginService.checkIllegalState(),u=Tn(c=Qe(a).call(a,function(k){return h.model.getById(k)})).call(c,function(k){return!!k}),u=this.compute.computeConvs(u),x.abrupt("return",u);case 7:case"end":return x.stop()}},l,this)}))},f.createConversation=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this.checkEnable(),this.checkV2(),Za(this.core.account,a),k.next=5,this.core.sendCmd("v2ConversationCreate",{tag:{conversationId:a}});case 5:if(c=k.sent,u=Ht(c,"content.data"),h=xC(this.core,u),this.versionCache.compareAndUpdateModel([h]),!(C=this.model.getById(a))){k.next=14;break}return k.abrupt("return",this.compute.computeConv(C));case 14:throw new Ct({code:it.V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST});case 15:case"end":return k.stop()}},l,this)}))},f.deleteConversation=function(a,l){return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkEnable(),this.checkV2(),Za(this.core.account,a),ge({clearMessage:{type:"boolean",required:!1}},{clearMessage:l},"",!0),h.prev=4,h.next=7,this.core.sendCmd("v2ConversationDelete",{tag:{conversationId:a,clearMessage:Number(l||!1)}});case 7:h.next=12;break;case 9:h.prev=9,h.t0=h.catch(4),this.logger.warn("V2NIMConversationService:deleteConversation: delete conversation failed: "+a);case 12:this.model.getById(a)&&(l&&this.core.eventBus.emit("V2NIMConversationService/deleteConversation",[a]),this.versionCache.compareAndDeleteModel([a]));case 13:case"end":return h.stop()}},c,this,[[4,9]])}))},f.deleteConversationListByIds=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x=this;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return this.checkEnable(),this.checkV2(),ge({conversationIds:{type:"array",itemType:"string",min:1}},{conversationIds:a},"",!0),ge({clearMessage:{type:"boolean",required:!1}},{clearMessage:l},"",!0),B.next=6,this.core.sendCmd("v2ConversationsDelete",{tag:{conversationIds:$t(a),clearMessage:Number(l||!1)}});case 6:return u=B.sent,h=jS(Ht(u,"content.info.failedMap")),(C=Tn(h).call(h,function(W){return W.error.code!==it.V2NIM_ERROR_CODE_CONVERSATION_NOT_EXIST||!x.model.getById(W.conversationId)})).length<a.length&&(l&&this.core.eventBus.emit("V2NIMConversationService/deleteConversation",a),this.versionCache.compareAndDeleteModel(a)),B.abrupt("return",C);case 11:case"end":return B.stop()}},c,this)}))},f.getStickTopConversationList=function(){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),c.abrupt("return",this.model.getStickTopList());case 3:case"end":return c.stop()}},a,this)}))},f.stickTopConversation=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this.checkEnable(),this.checkV2(),Za(this.core.account,a),ge({stickTop:{type:"boolean"}},{stickTop:l},"",!0),k.next=6,this.core.sendCmd("v2ConversationSetTop",{tag:{conversationId:a,stickTop:Number(l)}});case 6:u=k.sent,h=Ht(u,"content.data"),C=xC(this.core,h),this.versionCache.compareAndUpdateModel([C]);case 10:case"end":return k.stop()}},c,this)}))},f.updateConversation=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this.checkEnable(),this.checkV2(),Za(this.core.account,a),ge({updateInfo:{type:"object",required:!0,rules:{serverExtension:{type:"string"}}}},{updateInfo:l},"",!0),k.next=6,this.core.sendCmd("v2ConversationUpdate",{tag:ce({conversationId:a},l)});case 6:u=k.sent,h=Ht(u,"content.data"),C=xC(this.core,h),this.versionCache.compareAndUpdateModel([C]);case 10:case"end":return k.stop()}},c,this)}))},f.updateConversationLocalExtension=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(this.checkEnable(),this.checkV2(),Za(this.core.account,a),ge({localExtension:{type:"string"}},{localExtension:l},"",!0),u=this.model.getById(a)){x.next=7;break}throw new Ct({code:it.V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST});case 7:if(u.localExtension!==l){x.next=9;break}return x.abrupt("return");case 9:h=ce(ce({},u),{localExtension:l}),this.model.upsert(h),this.triggerConversationChanged([h]);case 12:case"end":return x.stop()}},c,this)}))},f.getTotalUnreadCount=function(){return this.checkEnable(),this.checkV2(),this.unread.getTotalUnreadCount()||0},f.getUnreadCountByIds=function(a){this.checkEnable(),this.checkV2(),ge({conversationIds:{type:"array",itemType:"string",min:1}},{conversationIds:a},"",!0);var l=this.unread.getUnreadCountByIds(a);return Zt.resolve(l)},f.getUnreadCountByFilter=function(a){this.checkEnable(),this.checkV2(),this.valiteFilter(a);var l=this.unread.getUnreadCountByFilter(a);return Zt.resolve(l)},f.clearTotalUnreadCount=function(){return le(this,void 0,void 0,q.mark(function a(){var l,c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkEnable(),this.checkV2(),h.next=4,this.core.sendCmd("v2ConversationClearTotalUnread");case 4:l=h.sent,c=Ht(l,"content.info"),this.versionCache.compareAndClearUnreadInModel(c);case 7:case"end":return h.stop()}},a,this)}))},f.clearUnreadCountByIds=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return this.checkEnable(),this.checkV2(),ge({conversationIds:{type:"array",itemType:"string",min:1}},{conversationIds:a},"",!0),x.next=5,this.core.sendCmd("v2ConversationsUnreadClear",{tag:{conversationIds:$t(a)}});case 5:return c=x.sent,u=fv(this.core,Ht(c,"content.datas")),h=jS(Ht(c,"content.info.failedMap")),this.versionCache.compareAndUpdateModel(u),x.abrupt("return",h);case 10:case"end":return x.stop()}},l,this)}))},f.clearUnreadCountByGroupId=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkEnable(),this.checkV2(),ge({groupId:{type:"string"}},{groupId:a},"",!0),u.next=5,this.core.sendCmd("v2ConversationClearGroupUnread",{tag:{groupId:a}});case 5:case"end":return u.stop()}},l,this)}))},f.clearUnreadCountByTypes=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkEnable(),this.checkV2(),ge({types:g$},{types:a},"",!0),C.next=5,this.core.sendCmd("v2ConversationClearTypeUnread",{tag:{conversationType:$t(a)}});case 5:c=C.sent,u=Ht(c,"content.info"),this.versionCache.compareAndClearUnreadInModel(u);case 8:case"end":return C.stop()}},l,this)}))},f.markConversationRead=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(this.checkEnable(),this.checkV2(),this.checkLogin(),Za(this.core.account,a),c=this.model.getById(a)){B.next=7;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"Conversation not exist"}});case 7:if(u=this.core.V2NIMConversationIdUtil.parseConversationTargetId(a),h=this.core.V2NIMConversationIdUtil.parseConversationType(a),C=this.model.getReadTime(a),x=this.compute.computeReadTimeForMark(c),!(C>=x)){B.next=14;break}return this.logger.log("V2Conv::markConversationRead currentReadTime >= readTime "+a+","+C+","+x),B.abrupt("return",C);case 14:if(h!==3){B.next=19;break}return B.next=17,this.core.sendCmd("v2MarkSuperTeamReadTime",{timetag:x,to:u});case 17:B.next=21;break;case 19:return B.next=21,this.core.sendCmd("v2MarkConversationReadTime",{scene:h===1?0:h===2?1:2,timetag:x,to:u});case 21:return this.model.updateReadTime(a,x),B.abrupt("return",x);case 23:case"end":return B.stop()}},l,this)}))},f.getConversationReadTime=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkEnable(),this.checkV2(),Za(this.core.account,a),u.abrupt("return",this.model.getReadTime(a));case 4:case"end":return u.stop()}},l,this)}))},f.subscribeUnreadCountByFilter=function(a){var l;this.checkEnable(),this.checkV2(),this.checkLogin(),this.valiteFilter(a),((l=a.conversationTypes)===null||l===void 0?void 0:l.length)===0&&delete a.conversationTypes,this.unread.addFilter(a)},f.unsubscribeUnreadCountByFilter=function(a){var l;this.checkEnable(),this.checkV2(),this.checkLogin(),this.valiteFilter(a),((l=a.conversationTypes)===null||l===void 0?void 0:l.length)===0&&delete a.conversationTypes,this.unread.deleteFilter(a)},f.valiteFilter=function(a){if(ge({filter:{type:"object",required:!0,rules:{conversationTypes:{type:"array",itemType:"number",required:!1},conversationGroupId:{type:"string",allowEmpty:!1,required:!1},ignoreMuted:{type:"boolean",required:!1}}}},{filter:a},"",!0),a.conversationTypes===void 0&&a.conversationGroupId===void 0&&a.ignoreMuted!==!0)throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"Filter cannot be empty"}})},f.triggerConversationChanged=function(a){a=this.compute.computeConvs(a),a=JSON.parse($t(a)),rt(a).call(a,function(l){l.lastMessage||(l.lastMessage=void 0),delete l.lastMessageState}),this.emit("onConversationChanged",a)},f.triggerConversationCreated=function(a){a=this.compute.computeConv(a),delete(a=JSON.parse($t(a))).lastMessageState,this.emit("onConversationCreated",a)},y}(ji),gte={"28_9":"v2ConversationGroupCreate","28_10":"v2ConversationGroupDelete","28_11":"v2ConversationGroupUpdate","28_12":"v2ConversationGroupGet","28_13":"v2ConversationGroupsGet","28_14":"v2ConversationGroupListGet","28_15":"v2ConversationGroupAddTo","28_16":"v2ConversationGroupRemoveFrom","28_22":"v2ConversationGroupNotifySyncOnline"},hd="V2NIMConversationGroupService",gv={groupId:1,name:2,serverExtension:3,createTime:4,updateTime:5},hte={v2ConversationGroupCreate:{sid:28,cid:9,service:hd,params:[{type:"Property",name:"tag",reflectMapper:{conversationIds:1,name:2,serverExtension:3}}],response:[{type:"Property",name:"data",reflectMapper:dt(gv)},{type:"PropertyArray",name:"conversations",reflectMapper:dt(rs)},{type:"Property",name:"info",reflectMapper:{1:"failedMap"}}]},v2ConversationGroupDelete:{sid:28,cid:10,service:hd,params:[{type:"Property",name:"tag",reflectMapper:{groupId:1}}],response:[{type:"Property",name:"info",reflectMapper:{1:"type",2:"deleteVersion",3:"groupList"}}]},v2ConversationGroupUpdate:{sid:28,cid:11,service:hd,params:[{type:"Property",name:"tag",reflectMapper:{groupId:1,name:2,serverExtension:3}}],response:[{type:"Property",name:"data",reflectMapper:dt(gv)}]},v2ConversationGroupGet:{sid:28,cid:12,service:hd,params:[{type:"Property",name:"tag",reflectMapper:{groupId:1}}],response:[{type:"Property",name:"data",reflectMapper:dt(gv)}]},v2ConversationGroupsGet:{sid:28,cid:13,service:hd,params:[{type:"Property",name:"tag",reflectMapper:{groupIds:1}}],response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(gv)},{type:"Property",name:"info",reflectMapper:{1:"failedMap"}}]},v2ConversationGroupListGet:{sid:28,cid:14,service:hd,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(gv)}]},v2ConversationGroupAddTo:{sid:28,cid:15,service:hd,params:[{type:"Property",name:"tag",reflectMapper:{groupId:1,conversationIds:2}}],response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(rs)},{type:"Property",name:"info",reflectMapper:{1:"failedMap"}}]},v2ConversationGroupRemoveFrom:{sid:28,cid:16,service:hd,params:[{type:"Property",name:"tag",reflectMapper:{groupId:1,conversationIds:2}}],response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(rs)},{type:"Property",name:"info",reflectMapper:{1:"failedMap"}}]},v2ConversationGroupNotifySyncOnline:{sid:28,cid:22,service:hd,response:[{type:"Property",name:"info",reflectMapper:{1:"type",2:"deleteVersion",3:"conversationIds"}},{type:"Property",name:"data",reflectMapper:dt(gv)}]}},vte=function(p){function y(o,a){var l;return a===void 0&&(a={}),(l=p.call(this,"V2NIMConversationGroupService",o)||this).config={},l.core._registerDep(C$,"V2NIMConversationService"),l.core.options.apiVersion!=="v2"||l.core.options.enableV2CloudConversation!==!0?er(l):(Wr({cmdMap:gte,cmdConfig:hte}),l.setOptions(a),l)}pr(y,p);var f=y.prototype;return f.setOptions=function(a){this.config=ce(this.config,a)},f.emit=function(a){for(var l,c,u=this.name+"::emit "+a.toString(),h=arguments.length,C=new Array(h>1?h-1:0),x=1;x<h;x++)C[x-1]=arguments[x];if(a==="onConversationsAddedToGroup"){var k=C[0],B=C[1];this.logger.log(""+u,"groupId:"+k,"conversations:"+Qe(B).call(B,function(ne){return ne.conversationId}).join(","))}else{var W,Y;(W=this.logger).log.apply(W,Bn(Y=[""+u]).call(Y,C))}return(l=p.prototype.emit).call.apply(l,Bn(c=[this,a]).call(c,C))},f.checkEnable=function(){if(this.core.options.enableV2CloudConversation!==!0)throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"V2CloudConversation is not enabled"}})},f.createConversationGroup=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h,C,x,k,B,W=this;return q.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return this.checkEnable(),this.checkV2(),ge({name:{type:"string",allowEmpty:!1}},{name:a},"",!0),ge({serverExtension:{type:"string",required:!1}},{serverExtension:l},"",!0),ge({conversationIds:{type:"array",itemType:"string",required:!1}},{conversationIds:c},"",!0),ne.next=7,this.core.sendCmd("v2ConversationGroupCreate",{tag:{name:a,serverExtension:l||"",conversationIds:c&&$t(c)}});case 7:return h=ne.sent,C=DS(Ht(h,"content.data")),x=fv(this.core,Ht(h,"content.conversations")),k=jS(Ht(h,"content.info.failedMap")),this.emit("onConversationGroupCreated",C),x.length>0&&(this.core.V2NIMConversationService.versionCache.compareAndUpdateModel(x),this.emit("onConversationsAddedToGroup",C.groupId,Tn(B=Qe(x).call(x,function(se){return W.core.V2NIMConversationService.model.getById(se.conversationId)})).call(B,function(se){return!!se}))),ne.abrupt("return",{group:C,failedList:k});case 14:case"end":return ne.stop()}},u,this)}))},f.deleteConversationGroup=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkEnable(),this.checkV2(),ge({groupId:{type:"string",allowEmpty:!1}},{groupId:a},"",!0),C.next=5,this.core.sendCmd("v2ConversationGroupDelete",{tag:{groupId:a}});case 5:c=C.sent,u=b$(Ht(c,"content.info")),this.core.V2NIMConversationService.versionCache.compareAndDeleteGroupInModel(u.deleteVersion,a),this.emit("onConversationGroupDeleted",a);case 9:case"end":return C.stop()}},l,this)}))},f.updateConversationGroup=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(this.checkEnable(),this.checkV2(),ge({groupId:{type:"string",allowEmpty:!1}},{groupId:a},"",!0),ge({name:{type:"string",required:!1}},{name:l},"",!0),ge({serverExtension:{type:"string",required:!1}},{serverExtension:c},"",!0),l!==void 0||c!==void 0){k.next=7;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER});case 7:return k.next=9,this.core.sendCmd("v2ConversationGroupUpdate",{tag:{groupId:a,name:l,serverExtension:c}});case 9:h=k.sent,C=DS(Ht(h,"content.data")),this.emit("onConversationGroupChanged",C);case 12:case"end":return k.stop()}},u,this)}))},f.addConversationsToGroup=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x,k,B,W=this;return q.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return this.checkEnable(),this.checkV2(),ge({groupId:{type:"string",allowEmpty:!1}},{groupId:a},"",!0),ge({conversationIds:{type:"array",itemType:"string",min:1,allowEmpty:!1}},{conversationIds:l},"",!0),ne.next=6,this.core.sendCmd("v2ConversationGroupAddTo",{tag:{groupId:a,conversationIds:$t(l)}});case 6:return h=ne.sent,C=Ht(h,"content.info.failedMap")||"",x=[],C&&(x=jS(C)),k=fv(this.core,Ht(h,"content.datas")),this.core.V2NIMConversationService.versionCache.compareAndUpdateModel(k),(B=Tn(u=Qe(k).call(k,function(se){return W.core.V2NIMConversationService.model.getById(se.conversationId)})).call(u,function(se){return!!se})).length>0&&this.emit("onConversationsAddedToGroup",a,B),ne.abrupt("return",x);case 15:case"end":return ne.stop()}},c,this)}))},f.removeConversationsFromGroup=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return this.checkEnable(),this.checkV2(),ge({groupId:{type:"string",allowEmpty:!1}},{groupId:a},"",!0),ge({conversationIds:{type:"array",itemType:"string",min:1,allowEmpty:!1}},{conversationIds:l},"",!0),B.next=6,this.core.sendCmd("v2ConversationGroupRemoveFrom",{tag:{groupId:a,conversationIds:$t(l)}});case 6:return u=B.sent,h=Ht(u,"content.info.failedMap")||"",C=[],h&&(C=jS(h)),x=fv(this.core,Ht(u,"content.datas")),this.core.V2NIMConversationService.versionCache.compareAndUpdateModel(x),this.emit("onConversationsRemovedFromGroup",a,Qe(x).call(x,function(W){return W.conversationId})),B.abrupt("return",C);case 14:case"end":return B.stop()}},c,this)}))},f.getConversationGroup=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkEnable(),this.checkV2(),ge({groupId:{type:"string",allowEmpty:!1}},{groupId:a},"",!0),h.next=5,this.core.sendCmd("v2ConversationGroupGet",{tag:{groupId:a}});case 5:return c=h.sent,h.abrupt("return",DS(Ht(c,"content.data")));case 7:case"end":return h.stop()}},l,this)}))},f.getConversationGroupList=function(){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkEnable(),this.checkV2(),u.next=4,this.core.sendCmd("v2ConversationGroupListGet");case 4:return l=u.sent,u.abrupt("return",v$(Ht(l,"content.datas")));case 6:case"end":return u.stop()}},a,this)}))},f.getConversationGroupListByIds=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return this.checkEnable(),this.checkV2(),ge({groupIds:{type:"array",itemType:"string",min:1}},{groupIds:a},"",!0),x.next=5,this.core.sendCmd("v2ConversationGroupsGet",{tag:{groupIds:a&&$t(a)}});case 5:return u=x.sent,h=v$(Ht(u,"content.datas")),x.abrupt("return",Tn(c=Qe(a).call(a,function(k){return Tn(h).call(h,function(B){return B.groupId===k})[0]})).call(c,function(k){return!!k}));case 8:case"end":return x.stop()}},l,this)}))},f.v2ConversationGroupNotifySyncOnlineHandler=function(a){var l=this;if(this.ifEnabled){var c,u=b$(Ht(a,"content.info")),h=u.type,C=u.deleteVersion,x=u.conversationIds,k=DS(Ht(a,"content.data"));if(this.core.logger.log("v2ConversationGroupNotifySyncOnlineHandler",u,k),h===1)this.emit("onConversationGroupCreated",k),x&&x.length>0&&this.emit("onConversationsAddedToGroup",k.groupId,Tn(c=Qe(x).call(x,function(Y){return l.core.V2NIMConversationService.model.getById(Y)})).call(c,function(Y){return!!Y}));else if(h===2)this.emit("onConversationGroupDeleted",k.groupId),this.core.V2NIMConversationService.versionCache.compareAndDeleteGroupInModel(C,k.groupId);else if(h===3)this.emit("onConversationGroupChanged",k);else if(h===4){var B,W=Tn(B=Qe(x).call(x,function(Y){return l.core.V2NIMConversationService.model.getById(Y)})).call(B,function(Y){return!!Y});this.emit("onConversationsAddedToGroup",k.groupId,W)}else h===5&&this.emit("onConversationsRemovedFromGroup",k.groupId,x)}},sa(y,[{key:"ifEnabled",get:function(){return this.core.options.enableV2CloudConversation===!0}}]),y}(ji),zf="V2NIMMessageLogUtil",yte={"30_6":"v2GetMessageList","33_2":"v2GetMessageListByRefers","30_18":"v2ClearHistoryMessage","7_118":"onClearHistoryMessage","4_24":"syncClearHistoryMessage","31_23":"v2GetTeamMessageList","32_14":"v2GetSuperTeamMessageList"},VS={conversationType:{id:0,retType:"number"},receiverId:1,deleteRoam:{id:2,converter:la},teamId:3,onlineSync:{id:4,converter:la},deleteTime:{id:6,retType:"number"},serverExtension:7},Gx=[{type:"Long",name:"beginTime"},{type:"Long",name:"endTime"},{type:"Long",name:"lastMsgId"},{type:"Int",name:"limit"},{type:"Bool",name:"direction"},{type:"LongArray",name:"msgTypes"}],bte={v2GetMessageList:{sid:30,cid:6,service:zf,params:Bn(S$=[{type:"String",name:"to"}]).call(S$,Gx),response:[{type:"PropertyArray",name:"msgs",reflectMapper:dt(Er)}]},v2GetMessageListByRefers:{sid:33,cid:2,service:zf,params:[{type:"PropertyArray",name:"tag",reflectMapper:Er,select:["conversationType","senderId","receiverId","createTime","messageServerId"]}],response:[{type:"PropertyArray",name:"msgs",reflectMapper:dt(Er)}]},v2ClearHistoryMessage:{sid:30,cid:18,service:zf,params:[{type:"Property",name:"tag",reflectMapper:VS}],response:[{type:"Long",name:"timetag"}]},v2GetTeamMessageList:{sid:31,cid:23,service:zf,params:Bn(I$=[{type:"Long",name:"to"}]).call(I$,Gx),response:[{type:"PropertyArray",name:"msgs",reflectMapper:dt(Er)}]},v2GetSuperTeamMessageList:{sid:32,cid:14,service:zf,params:Bn(E$=[{type:"Long",name:"to"}]).call(E$,Gx),response:[{type:"PropertyArray",name:"msgs",reflectMapper:dt(Er)}]},onClearHistoryMessage:{sid:7,cid:118,service:zf,response:[{type:"Property",name:"data",reflectMapper:dt(VS)}]},syncClearHistoryMessage:{sid:4,cid:24,service:zf,response:[{type:"PropertyArray",name:"data",reflectMapper:dt(VS)}]}},Ste=function(p){function y(o){var a;return(a=p.call(this,"V2NIMMessageLogUtil",o)||this).clearHistoryMessageFn=function(l){var c=Vx(a.core,l);a.emitClearHistoryMessage([c])},a.core=o,a.service=a.core.V2NIMMessageService,a.core.options.apiVersion!=="v2"?er(a):(Wr({cmdMap:yte,cmdConfig:bte}),a.setListener(),a)}pr(y,p);var f=y.prototype;return f.setListener=function(){this.core.eventBus.on("forwardReceive/V2NIMMessageLogService/clearHistoryMessage",this.clearHistoryMessageFn)},f.getMessageListByRefers=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k=this;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this.checkV2(),ge(KZ,{messageRefers:a},"",!0),a.length!==0){W.next=4;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getMessageListByRefers: messageRefers cannot be an empty array"}});case 4:if(u=[],h=Qe(a).call(a,function(Y){var ne=k.service.model.getMessageById(Y.messageClientId);return!ne&&Y.messageServerId&&Y.messageServerId!=="0"&&u.push(Y),ne}),C=[],!(u.length>0)){W.next=12;break}return W.next=10,this.core.sendCmd("v2GetMessageListByRefers",{tag:u});case 10:x=W.sent,C=x.content.msgs;case 12:return W.abrupt("return",Tn(c=Qe(h).call(h,function(Y,ne){if(Y)return Y;var se=a[ne],xe=Wo(C).call(C,function(we){return we.messageServerId===se.messageServerId});return xe?ko(k.core,xe):void 0})).call(c,function(Y){return Y!==void 0&&!k.service._filterMessage(Y)}));case 13:case"end":return W.stop()}},l,this)}))},f.getMessageList=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x,k,B,W,Y,ne,se,xe,we,$e=this;return q.wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(this.checkV2(),ge(GZ,a,"",!0),Za(this.core.account,a.conversationId),C=this.core.V2NIMConversationIdUtil.parseConversationType(a.conversationId),x=this.core.V2NIMConversationIdUtil.parseConversationTargetId(a.conversationId),k=C===1?"v2GetMessageList":C===2?"v2GetTeamMessageList":"v2GetSuperTeamMessageList",B=a.beginTime||0,W=a.endTime||0,!(B!==0&&W!==0&&B>W)){Fe.next=10;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getMessageList: beginTime cannot be greater than endTime"}});case 10:if(Y=a.direction===void 0?0:a.direction,!a.anchorMessage){Fe.next=27;break}if(a.direction!==0){Fe.next=21;break}if(W!==0){Fe.next=17;break}W=a.anchorMessage.createTime,Fe.next=19;break;case 17:if(W===a.anchorMessage.createTime){Fe.next=19;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getMessageList: When providing anchorMessage, when sorting in descending order, endTime does not need to be provided, or endTime should be equal to anchorMessage.createTime"}});case 19:Fe.next=27;break;case 21:if(B!==0){Fe.next=25;break}B=a.anchorMessage.createTime,Fe.next=27;break;case 25:if(B===a.anchorMessage.createTime){Fe.next=27;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getMessageList: When providing anchorMessage, when sorting in ascending order, there is no need to provide beginTime, or beginTime should be equal to anchorMessage.createTime"}});case 27:return ne=(l=a.anchorMessage)===null||l===void 0?void 0:l.messageServerId,Fe.next=30,this.core.sendCmd(k,{beginTime:B,endTime:W,lastMsgId:ne||0,limit:a.limit||50,direction:Y,msgTypes:a.messageTypes?zn(u=a.messageTypes).call(u):[],to:x});case 30:return se=Fe.sent,xe=se.content,we=Qe(h=xe.msgs).call(h,function(We){return ko($e.core,We)}),ne&&(we=Tn(we).call(we,function(We){return We.messageServerId!==ne})),Fe.abrupt("return",this.getMessageListMonkeyPatch(we,a));case 35:case"end":return Fe.stop()}},c,this)}))},f.getMessageListMonkeyPatch=function(a,l){var c=l.conversationId,u=a,h=ja(u).call(u,function(Fe,We){return Fe[We.messageClientId]=!0,Fe},{}),C=this.service.model.getMessagesByConversationId(c);C=mn(C).call(C,function(Fe,We){return l.direction===1?Fe.createTime-We.createTime:We.createTime-Fe.createTime});var x=0,k=l.beginTime||0,B=l.endTime||0;l.anchorMessage&&(l.direction===0?B=l.anchorMessage.createTime:k=l.anchorMessage.createTime,x=Ps(C).call(C,function(Fe){var We;return Fe.messageClientId===((We=l.anchorMessage)===null||We===void 0?void 0:We.messageClientId)}),x+=1);for(var W=x;W<C.length;W++){var Y,ne=C[W],se=!h[ne.messageClientId],xe=ne.sendingState===void 0||ne.sendingState===1,we=ne.conversationId===c,$e=ne.createTime>k&&(ne.createTime<B||B===0),Me=!l.messageTypes||or(Y=l.messageTypes).call(Y,ne.messageType);se&&xe&&we&&$e&&Me&&u.push(C[W])}return u=mn(u).call(u,function(Fe,We){return l.direction===1?Fe.createTime-We.createTime:We.createTime-Fe.createTime}),zn(u).call(u,0,l.limit||50)},f.clearHistoryMessage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k,B,W,Y;return q.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(this.checkV2(),ge(YZ,a,"",!0),Za(this.core.account,a.conversationId),c=a.conversationId,u=a.deleteRoam,h=a.onlineSync,C=a.serverExtension,x=this.core.V2NIMConversationIdUtil.parseConversationType(c),k=this.core.V2NIMConversationIdUtil.parseConversationTargetId(c),B={deleteRoam:u,onlineSync:h,serverExtension:C,conversationType:x},x===1?B.receiverId=k:B.teamId=k,W=this.core.timeOrigin.getNTPTime(),a.clearMode=a.clearMode||0,a.clearMode!==0){se.next=15;break}return se.next=13,this.core.sendCmd("v2ClearHistoryMessage",{tag:B});case 13:Y=se.sent,W=Y.content.timetag;case 15:a.clearMode===2&&rn.localStorage.setItem("nim_"+this.core.account+"_"+c+"_clearTime",W.toString()),this.core.eventBus.emit("forwardSend/V2NIMMessageLogService/clearHistoryMessage",ce(ce({},B),{deleteTime:W})),this.emitClearHistoryMessage([{deleteTime:W,serverExtension:C,conversationId:c}]);case 18:case"end":return se.stop()}},l,this)}))},f.syncClearHistoryMessageHandler=function(a){var l,c=this,u=Qe(l=a.content.data).call(l,function(h){return Vx(c.core,h)});this.emitClearHistoryMessage(u)},f.onClearHistoryMessageHandler=function(a){var l=Vx(this.core,a.content.data);this.emitClearHistoryMessage([l])},f.emitClearHistoryMessage=function(a){var l=this;rt(a).call(a,function(c){l.service.model.deleteMessages(c.conversationId,c.deleteTime),l.core.eventBus.emit("V2NIMSync/updateTimetag",{sessionHistoryMsgsDelete:c.deleteTime})}),this.core.eventBus.emit("V2NIMMessageLogUtil/onClearHistoryNotifications",a),this.service.emit("onClearHistoryNotifications",a)},y}(ji),Hi="V2NIMMessageExtendUtil",Ite={"29_5":"v2VoiceToText","33_15":"v2PinMessage","33_16":"v2UpdatePinMessage","33_17":"v2UnpinMessage","23_18":"onPinMessage","23_19":"onUpdatePinMessage","23_20":"onUnpinMessage","23_115":"onPinMessage","23_116":"onUpdatePinMessage","23_117":"onUnpinMessage","33_21":"v2GetPinMessageList","33_3":"v2AddQuickComment","33_4":"v2RemoveQuickComment","33_7":"v2GetQuickComment","23_5":"onAddQuickComment","23_6":"onRemoveQuickComment","23_103":"onAddQuickComment","23_104":"onRemoveQuickComment","33_8":"v2AddCollection","33_9":"v2RemoveCollections","33_10":"v2UpdateCollectionExtension","33_11":"v2GetCollectionListByOption","30_26":"v2SearchCloudMessagesGroupByConversation","30_27":"v2SearchCloudMessages","30_34":"v2SearchCloudMessagesEx","33_1":"v2GetThreadMessageList"},T$={conversationType:{id:1,converter:TC,retConverter:Ux,access:"messageRefer.conversationType"},senderId:{id:2,access:"messageRefer.senderId"},receiverId:{id:3,access:"messageRefer.receiverId"},createTime:{id:4,retType:"number",access:"messageRefer.createTime"},messageServerId:{id:5,access:"messageRefer.messageServerId"},messageClientId:{id:6,access:"messageRefer.messageClientId"},detail:7,modify:{id:8,retType:"number"}},Ete={conversationType:{id:1,access:"messageRefer.conversationType",retConverter:Ux},senderId:{id:2,access:"messageRefer.senderId"},receiverId:{id:3,access:"messageRefer.receiverId"},time:{id:4,access:"messageRefer.createTime",converter:la,retType:"number"},messageServerId:{id:5,access:"messageRefer.messageServerId"},messageClientId:{id:6,access:"messageRefer.messageClientId"},operatorId:7,serverExtension:8,createTime:{id:9,converter:la,retType:"number"},updateTime:{id:10,converter:la,retType:"number"}},wC={operatorId:1,index:{id:2,retType:"number"},createTime:{id:3,retType:"number"},serverExtension:4,pushEnabled:{id:5,access:"pushConfig.pushEnabled",converter:la},needBadge:{id:6,access:"pushConfig.needBadge",converter:la},title:{id:7,access:"pushConfig.title"},pushContent:{id:8,access:"pushConfig.pushContent"},pushPayload:{id:9,access:"pushConfig.pushPayload"}},hv={accid:1,serverExtension:2,createTime:{id:3,retType:"number"},updateTime:{id:4,retType:"number"}},vv={collectionId:1,collectionType:{id:2,retType:"number"},collectionData:3,serverExtension:4,uniqueId:5,createTime:{id:6,retType:"number"},updateTime:{id:7,retType:"number"}},M$={keyword:1,beginTime:2,endTime:3,messageLimit:5,sortOrder:{id:6,converter:function(y){return y===0?2:1}},p2pAccountIds:{id:7,converter:function(y){return y.join(",")}},teamIds:{id:8,converter:function(y){return y.join(",")}},senderAccountIds:{id:9,converter:function(y){return y.join(",")}},messageTypes:{id:10,converter:function(y){return y.join(",")}},messageSubtypes:{id:11,converter:function(y){return y.join(",")}}},Cte={keywordList:{id:1,converter:function(y){return yc(y)}},keywordMatchType:2,searchStartTime:3,searchTimePeriod:4,pageToken:5,limit:7,direction:8,conversationId:9,senderAccountIds:{id:12,converter:function(y){return y.join(",")}},messageTypes:{id:13,converter:function(y){return y.join(",")}},messageSubtypes:{id:14,converter:function(y){return y.join(",")}}},Tte=ce(ce({},M$),{conversationLimit:4}),Mte={v2PinMessage:{sid:33,cid:15,service:Hi,params:[{type:"Property",name:"msg",reflectMapper:Er,select:["conversationType","receiverId","senderId","createTime","messageClientId","messageServerId"]},{type:"Property",name:"msgPin",reflectMapper:hv}],response:[{type:"Long",name:"timetag"}]},v2UnpinMessage:{sid:33,cid:17,service:Hi,params:[{type:"Property",name:"msg",reflectMapper:Er,select:["conversationType","receiverId","senderId","createTime","messageClientId","messageServerId"]},{type:"Property",name:"msgPin",reflectMapper:hv}],response:[{type:"Long",name:"timetag"}]},v2UpdatePinMessage:{sid:33,cid:16,service:Hi,params:[{type:"Property",name:"msg",reflectMapper:Er,select:["conversationType","receiverId","senderId","createTime","messageClientId","messageServerId"]},{type:"Property",name:"msgPin",reflectMapper:hv}],response:[{type:"Long",name:"timetag"}]},v2GetPinMessageList:{sid:33,cid:21,service:Hi,params:[{type:"Property",name:"tag",reflectMapper:{conversationId:1,timetag:2}}],response:[{type:"Long",name:"timetag"},{type:"Bool",name:"changed"},{type:"PropertyArray",name:"data",reflectMapper:dt(Ete)}]},v2VoiceToText:{sid:29,cid:5,service:Hi,params:[{type:"Property",name:"tag",reflectMapper:{mimeType:0,sampleRate:1,voiceUrl:2,duration:3}}],response:[{type:"String",name:"data"}]},v2AddQuickComment:{sid:33,cid:3,service:Hi,params:[{type:"Property",name:"message",reflectMapper:Er,select:["conversationType","senderId","receiverId","createTime","messageClientId","messageServerId"]},{type:"Property",name:"quickComment",reflectMapper:wC}],response:[{type:"Long",name:"timetag"}]},v2RemoveQuickComment:{sid:33,cid:4,service:Hi,params:[{type:"Property",name:"message",reflectMapper:Er,select:["conversationType","senderId","receiverId","createTime","messageClientId","messageServerId"]},{type:"Property",name:"quickComment",reflectMapper:wC}],response:[{type:"Long",name:"timetag"}]},onAddQuickComment:{sid:23,cid:5,service:Hi,response:[{type:"Property",name:"message",reflectMapper:dt(Er)},{type:"Property",name:"quickComment",reflectMapper:dt(wC)}]},onRemoveQuickComment:{sid:23,cid:6,service:Hi,response:[{type:"Property",name:"message",reflectMapper:dt(Er)},{type:"Property",name:"quickComment",reflectMapper:dt(wC)}]},v2GetQuickComment:{sid:33,cid:7,service:Hi,params:[{type:"PropertyArray",name:"tag",reflectMapper:T$}],response:[{type:"PropertyArray",name:"data",reflectMapper:dt(T$)}]},onPinMessage:{sid:23,cid:18,service:Hi,response:[{type:"Property",name:"msg",reflectMapper:dt(Er)},{type:"Property",name:"pinInfo",reflectMapper:dt(hv)}]},onUpdatePinMessage:{sid:23,cid:19,service:Hi,response:[{type:"Property",name:"msg",reflectMapper:dt(Er)},{type:"Property",name:"pinInfo",reflectMapper:dt(hv)}]},onUnpinMessage:{sid:23,cid:20,service:Hi,response:[{type:"Property",name:"msg",reflectMapper:dt(Er)},{type:"Property",name:"pinInfo",reflectMapper:dt(hv)}]},v2AddCollection:{sid:33,cid:8,service:Hi,params:[{type:"Property",name:"tag",reflectMapper:vv}],response:[{type:"Property",name:"data",reflectMapper:dt(vv)}]},v2RemoveCollections:{sid:33,cid:9,service:Hi,params:[{type:"PropertyArray",name:"tag",reflectMapper:vv,select:["collectionId","createTime"]}],response:[{type:"Int",name:"data"}]},v2UpdateCollectionExtension:{sid:33,cid:10,service:Hi,params:[{type:"Property",name:"tag",reflectMapper:vv}],response:[{type:"Property",name:"data",reflectMapper:dt(vv)}]},v2GetCollectionListByOption:{sid:33,cid:11,service:Hi,params:[{type:"Property",name:"tag",reflectMapper:{beginTime:1,endTime:2,excludeId:3,limit:4,direction:5,collectionType:6}}],response:[{type:"Long",name:"total"},{type:"PropertyArray",name:"data",reflectMapper:dt(vv)}]},v2SearchCloudMessagesGroupByConversation:{sid:30,cid:26,service:Hi,params:[{type:"Property",name:"tag",reflectMapper:Tte}],response:[{type:"PropertyArray",name:"data",reflectMapper:dt(Er)}]},v2SearchCloudMessages:{sid:30,cid:27,service:Hi,params:[{type:"Property",name:"tag",reflectMapper:M$}],response:[{type:"PropertyArray",name:"data",reflectMapper:dt(Er)}]},v2SearchCloudMessagesEx:{sid:30,cid:34,service:Hi,params:[{type:"Property",name:"tag",reflectMapper:Cte}],response:[{type:"PropertyArray",name:"msgs",reflectMapper:dt(Er)},{type:"Int",name:"hasMore"},{type:"String",name:"nextPageToken"}]},v2GetThreadMessageList:{sid:33,cid:1,service:Hi,params:[{type:"Property",name:"messageRefer",reflectMapper:Er},{type:"Property",name:"tag",reflectMapper:{beginTime:1,endTime:2,excludeMessageServerId:3,limit:4,reverse:5}}],response:[{type:"Property",name:"message",reflectMapper:dt(Er)},{type:"Property",name:"replyResult",reflectMapper:dt({total:{id:1,retType:"number"},timestamp:{id:2,retType:"number"}})},{type:"PropertyArray",name:"replyList",reflectMapper:dt(Er)}]}},_te=function(p){function y(o){var a;return(a=p.call(this,"V2NIMMessageExtendUtil",o)||this).core=o,a.service=a.core.V2NIMMessageService,a.core.options.apiVersion!=="v2"?er(a):(Wr({cmdMap:Ite,cmdConfig:Mte}),a)}pr(y,p);var f=y.prototype;return f.pinMessage=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkV2(),ge(mv,a,"message",!0),ge(Px,{serverExtension:l},"",!0),C.next=5,this.core.sendCmd("v2PinMessage",{msg:a,msgPin:{serverExtension:l}});case 5:u=C.sent,this.emitPinNotification({pinState:1,message:a,serverExtension:l,createTime:u.content.timetag,updateTime:u.content.timetag,operatorId:this.core.account});case 7:case"end":return C.stop()}},c,this)}))},f.unpinMessage=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkV2(),ge(mv,a,"messageRefer",!0),ge(Px,{serverExtension:l},"",!0),C.next=5,this.core.sendCmd("v2UnpinMessage",{msg:a,msgPin:{serverExtension:l}});case 5:u=C.sent,this.emitPinNotification({pinState:0,message:a,serverExtension:l,updateTime:u.content.timetag,operatorId:this.core.account});case 7:case"end":return C.stop()}},c,this)}))},f.updatePinMessage=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkV2(),ge(mv,a,"message",!0),ge(Px,{serverExtension:l},"",!0),C.next=5,this.core.sendCmd("v2UpdatePinMessage",{msg:a,msgPin:{serverExtension:l}});case 5:u=C.sent,this.emitPinNotification({pinState:2,message:a,serverExtension:l,updateTime:u.content.timetag,operatorId:this.core.account});case 7:case"end":return C.stop()}},c,this)}))},f.getPinnedMessageList=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x=this;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(this.checkV2(),this.core.V2NIMConversationIdUtil&&this.core.V2NIMConversationIdUtil.parseConversationType){B.next=3;break}throw new Error('Service "V2NIMConversationService" does not exist');case 3:return Za(this.core.account,a),h=(h=this.core.V2NIMConversationIdUtil.convertToV1ConversationId(a)).replace("superTeam","super_team"),B.next=8,this.core.sendCmd("v2GetPinMessageList",{tag:{conversationId:h,timetag:0}});case 8:return C=B.sent,B.abrupt("return",mn(c=Qe(u=C.content.data).call(u,function(W){return ce(ce({},W),{messageRefer:ce(ce({},W.messageRefer),{conversationId:x.core.V2NIMConversationIdUtil.messageConversationId(W.messageRefer)})})})).call(c,function(W,Y){return Y.updateTime-W.updateTime}));case 10:case"end":return B.stop()}},l,this)}))},f.addQuickComment=function(a,l,c,u){return le(this,void 0,void 0,q.mark(function h(){var C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return this.checkV2(),ge(ZZ,{message:a,index:l,serverExtension:c,pushConfig:u},"",!0),B.next=4,this.core.sendCmd("v2AddQuickComment",{message:a,quickComment:{index:l,serverExtension:c,pushConfig:u}});case 4:C=B.sent,x={operationType:1,quickComment:{messageRefer:md(this.core,a),createTime:C.content.timetag,index:l,serverExtension:c||"",operatorId:this.core.account}},this.core.V2NIMMessageService.emit("onMessageQuickCommentNotification",x);case 7:case"end":return B.stop()}},h,this)}))},f.removeQuickComment=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this.checkV2(),ge(mv,a,"messageRefer",!0),ge({index:{type:"number",min:1}},{index:l},"",!0),ge({serverExtension:{type:"string",required:!1}},{serverExtension:c},"",!0),k.next=6,this.core.sendCmd("v2RemoveQuickComment",{message:a,quickComment:{index:l,serverExtension:c}});case 6:h=k.sent,C={operationType:2,quickComment:{messageRefer:md(this.core,a),createTime:h.content.timetag,index:l,serverExtension:c||"",operatorId:this.core.account}},this.core.V2NIMMessageService.emit("onMessageQuickCommentNotification",C);case 9:case"end":return k.stop()}},u,this)}))},f.getQuickCommentList=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C=this;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this.checkV2(),ge(eee,{messages:a},"",!0),u={},k.next=5,this.core.sendCmd("v2GetQuickComment",{tag:Qe(a).call(a,function(B){return{messageRefer:B}})});case 5:return h=k.sent,rt(c=h.content.data).call(c,function(B){var W,Y;try{if(!B.detail)return void(u[W=B.messageRefer.messageClientId]||(u[W]=[]));var ne=JSON.parse(B.detail);u[Y=B.messageRefer.messageClientId]||(u[Y]=[]),rt(ne).call(ne,function(se){u[B.messageRefer.messageClientId].push({messageRefer:ce(ce({},B.messageRefer),{conversationId:C.core.V2NIMConversationIdUtil.messageConversationId(B.messageRefer)}),operatorId:se[1],index:un(se[2]),createTime:un(se[3]),serverExtension:se[4]})})}catch(se){C.logger.error("getQuickCommentList JSON Parse Error",B.detail,se)}}),k.abrupt("return",u);case 8:case"end":return k.stop()}},l,this)}))},f.voiceToText=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k,B,W,Y,ne,se;return q.wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(this.checkV2(),ge(QZ,a,"",!0),a.voicePath||a.voiceUrl||a.file){we.next=4;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"voiceToText: voicePath、voiceUrl、file cannot be empty at the same time"}});case 4:if(c=a.voicePath,u=a.file,h=a.mimeType,C=a.sampleRate,x=a.duration,k=a.sceneName,B=k?this.core.V2NIMStorageService.getStorageScene(k):null,W=a.voiceUrl){we.next=14;break}return Y={},u?Y.file=u:(c==null?void 0:dr(c).call(c,"nim-external"))===0?Y.fileInput=c:Y.filePath=c,we.next=12,this.core.cloudStorage.uploadFile(ce({type:"audio",nosScenes:B?B.sceneName:void 0,nosSurvivalTime:B?B.expireTime:void 0},Y));case 12:ne=we.sent,W=ne.url;case 14:return we.next=16,this.core.sendCmd("v2VoiceToText",{tag:{voiceUrl:W,mimeType:h,sampleRate:C,duration:x}},{timeout:3e4});case 16:return se=we.sent,we.abrupt("return",se.content.data);case 18:case"end":return we.stop()}},l,this)}))},f.onPinMessageHandler=function(a){return this.pinMessageChangeHandler(a,1)},f.onUnpinMessageHandler=function(a){return this.pinMessageChangeHandler(a,0)},f.onUpdatePinMessageHandler=function(a){return this.pinMessageChangeHandler(a,2)},f.pinMessageChangeHandler=function(a,l){var c=a.content.msg,u=a.content.pinInfo;c.conversationId=this.core.V2NIMConversationIdUtil.messageConversationId(c),this.emitPinNotification({pinState:l,message:c,serverExtension:u.serverExtension,createTime:u.createTime,updateTime:u.updateTime,operatorId:u.accid})},f.emitPinNotification=function(a){var l={pinState:a.pinState,pin:ce(ce({serverExtension:a.serverExtension||"",operatorId:a.operatorId},a.createTime?{createTime:a.createTime}:{}),{updateTime:a.updateTime,messageRefer:md(this.core,a.message)})};this.core.V2NIMMessageService.emit("onMessagePinNotification",l)},f.onAddQuickCommentHandler=function(a){return this.onQuickCommentNotificationHandler(a,1)},f.onRemoveQuickCommentHandler=function(a){return this.onQuickCommentNotificationHandler(a,2)},f.onQuickCommentNotificationHandler=function(a,l){var c={operationType:l,quickComment:ce({messageRefer:ce(ce({},a.content.message),{conversationId:this.core.V2NIMConversationIdUtil.messageConversationId(a.content.message)})},a.content.quickComment)};this.core.V2NIMMessageService.emit("onMessageQuickCommentNotification",c)},f.addCollection=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkV2(),ge(tee,{params:a},"",!0),h.next=4,this.core.sendCmd("v2AddCollection",{tag:a});case 4:return c=h.sent,h.abrupt("return",c.content.data);case 6:case"end":return h.stop()}},l,this)}))},f.removeCollections=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkV2(),ge(nee,{collections:a},"",!0),h.next=4,this.core.sendCmd("v2RemoveCollections",{tag:a});case 4:return c=h.sent,h.abrupt("return",c.content.data);case 6:case"end":return h.stop()}},l,this)}))},f.updateCollectionExtension=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkV2(),ge(ree,{collection:a,serverExtension:l},"",!0),C.next=4,this.core.sendCmd("v2UpdateCollectionExtension",{tag:ce(ce({},a),{serverExtension:l})});case 4:return u=C.sent,C.abrupt("return",u.content.data);case 6:case"end":return C.stop()}},c,this)}))},f.getCollectionListByOption=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkV2(),ge(OV,a,"",!0),h.next=4,this.getCollectionListExByOption(a);case 4:return c=h.sent,h.abrupt("return",c.collectionList);case 6:case"end":return h.stop()}},l,this)}))},f.getCollectionListExByOption=function(a){var l,c;return le(this,void 0,void 0,q.mark(function u(){var h,C,x,k,B;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(this.checkV2(),ge(OV,a,"",!0),h=a.beginTime||0,C=a.endTime||0,x=a.direction===void 0?0:a.direction,((l=a.anchorCollection)===null||l===void 0?void 0:l.collectionId)===void 0){Y.next=21;break}if(a.direction!==0){Y.next=15;break}if(C!==0){Y.next=11;break}C=a.anchorCollection.createTime,Y.next=13;break;case 11:if(C===a.anchorCollection.createTime){Y.next=13;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getCollectionListExByOption: When providing anchorCollection, when sorting in descending order, endTime does not need to be provided, or endTime should be equal to anchorCollection.createTime"}});case 13:Y.next=21;break;case 15:if(h!==0){Y.next=19;break}h=a.anchorCollection.createTime,Y.next=21;break;case 19:if(h===a.anchorCollection.createTime){Y.next=21;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getCollectionListExByOption: When providing anchorCollection, when sorting in ascending order, there is no need to provide beginTime, or beginTime should be equal to anchorCollection.createTime"}});case 21:if(!(h!==0&&C!==0&&h>=C)){Y.next=23;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getCollectionListExByOption: beginTime cannot be greater than endTime"}});case 23:return(k={beginTime:h,endTime:C,direction:x,limit:a.limit,collectionType:a.collectionType,excludeId:!((c=a.anchorCollection)===null||c===void 0)&&c.collectionId?a.anchorCollection.collectionId:0}).collectionType||delete k.collectionType,Y.next=27,this.core.sendCmd("v2GetCollectionListByOption",{tag:k});case 27:return B=Y.sent,Y.abrupt("return",{totalCount:B.content.total,collectionList:B.content.data});case 29:case"end":return Y.stop()}},u,this)}))},f.searchCloudMessages=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k,B,W,Y=this;return q.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(this.checkV2(),ge(aee,a,"",!0),u=a.beginTime||0,h=a.endTime||0,!(u!==0&&h!==0&&u>h)){se.next=6;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"searchCloudMessages: beginTime cannot be greater than endTime"}});case 6:return C=a.sortOrder===void 0?0:a.sortOrder,x=a.conversationLimit||0,k=a.messageLimit||10,B=x>0?"v2SearchCloudMessagesGroupByConversation":"v2SearchCloudMessages",se.next=12,this.core.sendCmd(B,{tag:ce(ce({},a),{beginTime:u,endTime:h,sortOrder:C,conversationLimit:x,messageLimit:k})});case 12:return W=se.sent,se.abrupt("return",this.service._filterMessagesByFn(Qe(c=W.content.data).call(c,function(xe){return ko(Y.core,xe)})));case 14:case"end":return se.stop()}},l,this)}))},f.searchCloudMessagesEx=function(a){var l,c,u;return le(this,void 0,void 0,q.mark(function h(){var C,x,k,B,W,Y,ne,se=this;return q.wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(this.checkV2(),ge(iee,a,"",!0),a.conversationId&&Za(this.core.account,a.conversationId),((l=a.keywordList)===null||l===void 0?void 0:l.length)||((c=a.senderAccountIds)===null||c===void 0?void 0:c.length)||((u=a.messageTypes)===null||u===void 0?void 0:u.length)){we.next=5;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"searchCloudMessagesEx: keywordList senderAccountIds messageTypes cannot be empty at the same time"}});case 5:return a.searchTimePeriod===0&&delete a.searchTimePeriod,we.next=8,this.core.sendCmd("v2SearchCloudMessagesEx",{tag:ce({},a)});case 8:return C=we.sent,x=C.content,k=x.msgs,B=x.hasMore,W=x.nextPageToken,Y=this.service._filterMessagesByFn(Qe(k).call(k,function($e){return ko(se.core,$e)})),ne=mn(Y).call(Y,function($e,Me){return Me.createTime-$e.createTime}),we.abrupt("return",{count:k.length,items:bee(this.core,ne),hasMore:eV(B),nextPageToken:W});case 13:case"end":return we.stop()}},h,this)}))},f.getThreadMessageList=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k,B,W=this;return q.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(ge(uee,a,"getThreadMessageList",!0),a.beginTime=a.beginTime||0,!(a.endTime&&a.beginTime>a.endTime)){ne.next=4;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getThreadMessageList: beginTime cannot be greater than endTime"}});case 4:return ne.next=6,this.core.sendCmd("v2GetThreadMessageList",{messageRefer:a.messageRefer,tag:{beginTime:a.beginTime,endTime:a.endTime,limit:a.limit,reverse:a.direction===1?1:0,excludeMessageServerId:a.excludeMessageServerId}});case 6:return c=ne.sent,u=c.content,h=u.message,C=u.replyResult,x=u.replyList,k=ko(this.core,h),B=Qe(x).call(x,function(se){return ko(W.core,se)}),B=this.service._filterMessagesByFn(B),B=this.service._filterMessageByClearTime(k.conversationId,B),ne.abrupt("return",{message:k,timestamp:C.timestamp,replyCount:C.total,replyList:B});case 13:case"end":return ne.stop()}},l,this)}))},y}(ji),_$={joinMode:{type:"enum",values:[1,0,2],required:!1},agreeMode:{type:"enum",values:[0,1],required:!1},inviteMode:{type:"enum",values:[1,0],required:!1},updateInfoMode:{type:"enum",values:[1,0],required:!1},updateExtensionMode:{type:"enum",values:[1,0],required:!1},chatBannedMode:{type:"enum",values:[0,1],required:!1}},xte={type:"object",required:!0,rules:ce({name:{type:"string",allowEmpty:!1},teamType:{type:"enum",values:[1,2]},memberLimit:{type:"number",min:1,required:!1}},_$)},gu={type:"array",min:1,itemType:"string"},wte={type:"boolean"},yv={type:"string"},NC={type:"string",allowEmpty:!1},x$={type:"object",rules:{antispamBusinessId:{type:"string",required:!1}},required:!1},eo={teamId:{type:"string",regExp:/^[1-9]\d*$/,allowEmpty:!1}},Nte={teamIds:{type:"array",itemRules:{type:"string",allowEmpty:!1,regExp:/^[1-9]\d*$/},min:1}},Gi={teamType:{type:"enum",values:[1,2]}},Kx={teamTypes:{type:"array",itemType:"enum",values:[1,2],required:!1}},Rte={inviteeParams:{type:"object",required:!0,rules:{inviteeAccountIds:gu,postscript:ce(ce({},yv),{required:!1}),serverExtension:ce(ce({},yv),{required:!1})}}},Ate={updateTeamInfoParams:{type:"object",required:!0,rules:ce({name:{type:"string",allowEmpty:!1,required:!1},memberLimit:{type:"number",min:1,required:!1}},_$)}},Ote={type:"enum",values:[0,2]},kte={memberInfoParams:{type:"object",rules:{teamNick:{type:"string",required:!1},serverExtension:{type:"string",required:!1}}}},Lte={chatBannedMode:{type:"enum",values:[0,1]}},Pte={queryOption:{type:"object",rules:{roleQueryType:{type:"enum",values:[0,2,1]},onlyChatBanned:{type:"boolean",required:!1},direction:{type:"enum",values:[1,0],required:!1},limit:{type:"number",min:1,required:!1},nextToken:{type:"string",required:!1}}}},bv={teamId:eo.teamId,teamType:{type:"enum",values:[1,2]},operatorAccountId:{type:"string",allowEmpty:!1}},w$={actionType:{type:"enum",values:[2,0,1,3]}},N$={actionType:{type:"enum",values:[2]}},R$={actionType:{type:"enum",values:[0]}},Dte={types:{type:"array",itemType:"enum",values:[0,2,1,3],required:!1},status:{type:"array",itemType:"enum",values:[1,3,0,2],required:!1},offset:{type:"number",min:0,required:!1},limit:{type:"number",min:1,required:!1}},A$={teamId:eo.teamId,teamType:Gi.teamType,accountIds:gu},jte=function(){function p(){this.teamMap=new Xa,this.superTeamMap=new Xa}var y=p.prototype;return y.set=function(o){var a=this;rt(o).call(o,function(l){a.chooseMap(l.teamType).set(l.teamId,l)})},y.reset=function(){this.teamMap.clear(),this.superTeamMap.clear()},y.count=function(o,a){a===void 0&&(a=!0);var l=this.chooseMap(o),c=0;return rt(l).call(l,function(u){a&&u.isValidTeam&&c++,a||c++}),c},y.chooseMap=function(o){return o===2?this.superTeamMap:o===1?this.teamMap:new Xa},y.getById=function(o,a,l){l===void 0&&(l=!0);var c=this.chooseMap(a).get(o);if(c&&(l&&c.isValidTeam||!l))return c},y.getAll=function(o,a){a===void 0&&(a=!0);var l=this.chooseMap(o),c=ma(Xo(l).call(l)),u=Tn(c).call(c,function(h){return!(!a||!h.isValidTeam)||!a||void 0});return mn(u).call(u,function(h,C){return C.updateTime-h.updateTime})},y.upsert=function(o){var a=o.teamId,l=o.teamType,c=this.chooseMap(l),u=c.get(a)||{},h=ce({},u,o);return c.set(a,h),h},y.deleteById=function(o,a){var l=this.getById(o,a);if(l)return l.isValidTeam=!1,l},y.searchTeamByKeyword=function(o){var a,l,c=[];return rt(a=this.teamMap).call(a,function(u){var h;or(h=u.name).call(h,o)&&c.push(u)}),rt(l=this.superTeamMap).call(l,function(u){var h;or(h=u.name).call(h,o)&&c.push(u)}),c},p}(),Vte=function(){function p(){this.teamMembers=[],this.superTeamMembers=[],this.maxSize=2e3}var y=p.prototype;return y.reset=function(){this.teamMembers=[],this.superTeamMembers=[]},y.setData=function(o){var a=this;rt(o).call(o,function(l){a.chooseList(l.teamType).push(l)})},y.chooseList=function(o){return o===2?this.superTeamMembers:o===1?this.teamMembers:[]},y.getById=function(o,a,l){var c=this.chooseList(a);return Wo(c).call(c,function(u){return u.teamId===o&&u.accountId===l})},y.upsert=function(o){var a=o.teamType,l=o.teamId,c=this.chooseList(a),u=Ps(c).call(c,function(h){return h.teamId===l&&h.accountId===o.accountId});u===-1?c.push(o):c[u]=ce(ce({},c[u]),o),c.length>this.maxSize&&c.shift()},y.deleteByAccount=function(o,a,l){var c=this.chooseList(a),u=Ps(c).call(c,function(C){return C.teamId===o&&C.accountId===l});if(u!==-1){var h=c[u];return h.inTeam=!1,Qa(c).call(c,u,1),h}},y.deleteByTeamId=function(o,a){var l=this.chooseList(a),c=Tn(l).call(l,function(u){return u.teamId!==o});a===2?this.superTeamMembers=c:this.teamMembers=c},p}(),$te=function(){function p(f,o){this.core=f,this.service=o}var y=p.prototype;return y.processNotification=function(o){var a=this,l=o.attachment,c=o.senderId,u=o.receiverId,h=o.createTime,C=l.id,x=l.data,k=C>400?2:1,B=DV(x,k),W=B.id,Y=B.ids,ne=B.tinfo,se=B.mute,xe=this.service.model.getById(u,k);switch(this.core.logger.log("v2Team::processNotification, notificationType:"+C+", teamId:"+u,x),C){case xi.SUPER_TEAM_INVITATION:case xi.TEAM_INVITATION:or(Y).call(Y,this.core.account)&&this.onTeamJoined(ne),this.onTeamMembersJoined(ne,Tn(Y).call(Y,function(we){return we!==a.core.account}));break;case xi.SUPER_TEAM_INVITE_ACCEPT:case xi.TEAM_INVITE_ACCEPT:c===this.core.account?this.onTeamJoined(ne):this.onTeamMemberJoined(ne,c);break;case xi.SUPER_TEAM_APPLY_ACCEPT:case xi.TEAM_APPLY_ACCEPT:W===this.core.account?this.onTeamJoined(ne):this.onTeamMemberJoined(ne,W);break;case xi.SUPER_TEAM_ADD_MANAGER:case xi.TEAM_ADD_MANAGER:this.updateTeamMemberRole(u,k,Y,{memberRole:2,updateTime:h});break;case xi.SUPER_TEAM_REMOVE_MANAGER:case xi.TEAM_REMOVE_MANAGER:this.updateTeamMemberRole(u,k,Y,{memberRole:0,updateTime:h});break;case xi.SUPER_TEAM_KICK:case xi.TEAM_KICK:this.onTeamInfoUpdated(ne),rt(Y).call(Y,function(we){we===a.core.account?a.onTeamLeft(u,k,!0):a.onTeamMemberKicked(c,ne.teamId,ne.teamType,we)});break;case xi.SUPER_TEAM_LEAVE:case xi.TEAM_LEAVE:ne?this.onTeamInfoUpdated(ne):xe&&c===this.core.account&&(xe.isValidTeam=!1,this.onTeamInfoUpdated(xe)),c===this.core.account?this.onTeamLeft(u,k,!1):this.onTeamMemberLeft(u,k,c);break;case xi.SUPER_TEAM_DISMISS:case xi.TEAM_DISMISS:this.onTeamDismissed(u,k);break;case xi.SUPER_TEAM_UPDATE:case xi.TEAM_UPDATED:this.onTeamInfoUpdated(ne);break;case xi.SUPER_TEAM_TRANSFER_OWNER:case xi.TEAM_TRANSFER_OWNER:this.onTeamInfoUpdated(ne),this.updateTeamMemberRole(u,k,[c,ne.ownerAccountId],[{memberRole:0,updateTime:h},{memberRole:1,updateTime:h,joinTime:h}],!1);break;case xi.SUPER_TEAM_MEMBER_MUTE:case xi.TEAM_MEMBER_MUTE:this.service.model.upsert(ne),this.updateTeamMemberRole(u,k,W?[W]:Y,{chatBanned:se!==0,updateTime:h})}},y.onTeamJoined=function(o){var a=this;this.service.model.upsert(o),this.service.emit("onTeamJoined",o),this.service.getTeamMemberListByIds(o.teamId,o.teamType,[this.core.account]).catch(function(l){a.core.logger.error("Get Member error after onTeamJoined",l)})},y.onTeamLeft=function(o,a,l){var c=this.service.model.deleteById(o,a)||jV(o,a,{isValidTeam:!1});this.service.memberModel.deleteByAccount(o,a,this.core.account),this.service.emit("onTeamLeft",c,l)},y.onTeamDismissed=function(o,a){var l=this.service.model.deleteById(o,a);l||(l=jV(o,a,{isValidTeam:!1})),this.service.memberModel.deleteByTeamId(o,a),this.service.emit("onTeamDismissed",l)},y.onTeamInfoUpdated=function(o){var a=this.service.model.upsert(o);this.service.emit("onTeamInfoUpdated",a)},y.onTeamMemberJoined=function(o,a){this.service.model.upsert(o),this.service.emit("onTeamInfoUpdated",o);var l=o.updateTime||o.createTime,c=Bp(o.teamId,o.teamType,a,{joinTime:l,updateTime:l});this.service.emit("onTeamMemberJoined",[c])},y.onTeamMembersJoined=function(o,a){var l=o.updateTime||o.createTime,c=Qe(a).call(a,function(u){return Bp(o.teamId,o.teamType,u,{joinTime:l,updateTime:l})});c.length!==0&&(this.service.model.upsert(o),this.service.emit("onTeamInfoUpdated",o),this.service.emit("onTeamMemberJoined",c))},y.onTeamMemberLeft=function(o,a,l){var c=this.service.memberModel.deleteByAccount(o,a,l);c||(c=Bp(o,a,l,{inTeam:!1})),this.service.emit("onTeamMemberLeft",[c])},y.onTeamMemberKicked=function(o,a,l,c){var u=this.service.memberModel.deleteByAccount(a,l,c);u||(u=Bp(a,l,c,{inTeam:!1})),this.service.emit("onTeamMemberKicked",o,[u])},y.onTeamMemberInfoUpdated=function(o){var a=this;rt(o).call(o,function(l){if(l.accountId===a.core.account&&a.core.V2NIMSettingService.name&&a.core.V2NIMConversationIdUtil.name){var c=l.teamType===1?a.core.V2NIMConversationIdUtil.teamConversationId(l.teamId):a.core.V2NIMConversationIdUtil.superTeamConversationId(l.teamId),u=a.core.V2NIMSettingService.getConversationMuteStatus(c);a.core.eventBus.emit("V2NIMSettingService/setMute",c,u)}}),this.service.emit("onTeamMemberInfoUpdated",o)},y.updateTeamMemberRole=function(o,a,l,c,u){return u===void 0&&(u=!0),le(this,void 0,void 0,q.mark(function h(){var C,x,k,B,W=this;return q.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(x=Tn(l).call(l,function(se,xe){var we=W.service.memberModel.getById(o,a,se);return we&&W.service.memberModel.upsert(ce(ce({},we),Nr(c)?c[xe]:c)),!we}),!(u&&x.length>0)){ne.next=12;break}return ne.prev=2,ne.next=5,this.service.getTeamMemberListByIds(o,a,x);case 5:k=ne.sent,rt(k).call(k,function(se){return W.service.memberModel.upsert(se)}),ne.next=12;break;case 9:ne.prev=9,ne.t0=ne.catch(2),this.core.logger.warn("v2Team::processNotification, getTeamMemberListByIds failed",ne.t0);case 12:(B=Tn(C=Qe(l).call(l,function(se,xe){var we=W.service.memberModel.getById(o,a,se);return we||u?we:Bp(o,a,se,Nr(c)?c[xe]:c)})).call(C,function(se){return!!se})).length>0&&this.onTeamMemberInfoUpdated(B);case 14:case"end":return ne.stop()}},h,this,[[2,9]])}))},y.processSysNotification=function(o){var a=o.receiverId,l=o.postscript,c=o.senderId,u=o.timestamp,h=o.content,C={};try{C=JSON.parse(h)}catch{this.core.logger.warn("v2Team::processSysNotification, parse content failed",h)}var x={actionType:{0:0,1:1,2:2,3:3,15:0,16:1,17:2,18:3}[o.type],teamId:a,teamType:o.type>=15?2:1,operatorAccountId:c,postscript:l,timestamp:u,actionStatus:0,read:!1};C.attach&&(x.serverExtension=C.attach),this.core.logger.log("v2Team::processSysNotification, type:",o.type,x),this.service.notificationModel.create(x),this.service.emit("onReceiveTeamJoinActionInfo",x)},y.updateTeamActionStatus=function(o,a){this.service.notificationModel.update({teamId:o.teamId,teamType:o.teamType,operatorAccountId:o.operatorAccountId,actionType:o.actionType,actionStatus:a})},y.checkIfExpired=function(o){return!!o&&(o===509||!(o>=500&&o<=599)&&!(o>=19e4))},p}();function Wx(p,y){var f,o=Ma!==void 0&&Eo(p)||p["@@iterator"];if(o)return cn(f=(o=o.call(p)).next).call(f,o);if(Nr(p)||(o=function(c,u){if(c){var h;if(typeof c=="string")return O$(c,u);var C=zn(h={}.toString.call(c)).call(h,8,-1);return C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set"?ma(c):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?O$(c,u):void 0}}(p))||y){o&&(p=o);var a=0;return function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$(p,y){(y==null||y>p.length)&&(y=p.length);for(var f=0,o=Array(y);f<y;f++)o[f]=p[f];return o}(function(p){p[p.TEAM_INVITATION=0]="TEAM_INVITATION",p[p.TEAM_KICK=1]="TEAM_KICK",p[p.TEAM_LEAVE=2]="TEAM_LEAVE",p[p.TEAM_UPDATED=3]="TEAM_UPDATED",p[p.TEAM_DISMISS=4]="TEAM_DISMISS",p[p.TEAM_APPLY_ACCEPT=5]="TEAM_APPLY_ACCEPT",p[p.TEAM_TRANSFER_OWNER=6]="TEAM_TRANSFER_OWNER",p[p.TEAM_ADD_MANAGER=7]="TEAM_ADD_MANAGER",p[p.TEAM_REMOVE_MANAGER=8]="TEAM_REMOVE_MANAGER",p[p.TEAM_INVITE_ACCEPT=9]="TEAM_INVITE_ACCEPT",p[p.TEAM_MEMBER_MUTE=10]="TEAM_MEMBER_MUTE",p[p.SUPER_TEAM_INVITATION=401]="SUPER_TEAM_INVITATION",p[p.SUPER_TEAM_KICK=402]="SUPER_TEAM_KICK",p[p.SUPER_TEAM_LEAVE=403]="SUPER_TEAM_LEAVE",p[p.SUPER_TEAM_UPDATE=404]="SUPER_TEAM_UPDATE",p[p.SUPER_TEAM_DISMISS=405]="SUPER_TEAM_DISMISS",p[p.SUPER_TEAM_TRANSFER_OWNER=406]="SUPER_TEAM_TRANSFER_OWNER",p[p.SUPER_TEAM_ADD_MANAGER=407]="SUPER_TEAM_ADD_MANAGER",p[p.SUPER_TEAM_REMOVE_MANAGER=408]="SUPER_TEAM_REMOVE_MANAGER",p[p.SUPER_TEAM_MEMBER_MUTE=409]="SUPER_TEAM_MEMBER_MUTE",p[p.SUPER_TEAM_APPLY_ACCEPT=410]="SUPER_TEAM_APPLY_ACCEPT",p[p.SUPER_TEAM_INVITE_ACCEPT=411]="SUPER_TEAM_INVITE_ACCEPT"})(xi||(xi={}));var Ute=function(){function p(){this.list=[],this.maxCount=1e3}var y=p.prototype;return y.reset=function(){this.list=[]},y.checkSameAction=function(o,a,l){return l===void 0&&(l=!1),o.teamId===a.teamId&&o.teamType===a.teamType&&o.actionType===a.actionType&&o.operatorAccountId===a.operatorAccountId&&(!l||o.timestamp===a.timestamp)},y.create=function(o){this.list.push(o),this.list.length>this.maxCount&&this.list.shift()},y.update=function(o){var a,l=this;rt(a=this.list).call(a,function(c){l.checkSameAction(c,o)&&c.actionStatus===0&&ce(c,o)})},y.delete=function(o){var a,l,c=this;this.list=Tn(a=Qe(l=this.list).call(l,function(u){if(!c.checkSameAction(u,o,!1))return u})).call(a,function(u){return u})},y.getByOption=function(o){var a,l=o.types,c=o.status,u=o.offset,h=u===void 0?0:u,C=o.limit,x=C===void 0?50:C,k=[];rt(a=this.list).call(a,function(Y){l&&l.length>0&&!or(l).call(l,Y.actionType)||c&&c.length>0&&!or(c).call(c,Y.actionStatus)||k.push(Y)}),k=mn(k).call(k,function(Y,ne){return ne.timestamp-Y.timestamp});var B=0;h>0&&(B=nv(k,"timestamp",h),k[B]&&k[B].timestamp===h&&(B+=1));var W=zn(k).call(k,B).length;return(k=zn(k).call(k,B,B+x)).length>0?{offset:W>x?k[k.length-1].timestamp:0,finished:!(W>x),infos:k}:{offset:0,finished:!0,infos:k}},y.setRead=function(o){for(var a,l=Wx(this.list);!(a=l()).done;){var c=a.value;this.checkSameAction(c,o)&&(c.read=!0)}},y.setAllRead=function(){for(var o,a=Wx(this.list);!(o=a()).done;)o.value.read=!0},y.getUnreadCount=function(){for(var o,a=new bc,l=Wx(this.list);!(o=l()).done;){var c=o.value;c.read||c.actionStatus!==0||c.actionType!==0&&c.actionType!==2||a.add(c.operatorAccountId+"_"+c.teamType+"_"+c.teamId)}return a.size},p}(),Bte=function(){function p(f,o){this.core=f,this.service=o,this.model=o.model,this.memberModel=o.memberModel,this.notification=o.notification,this.logger=this.core.logger}var y=p.prototype;return y.setListener=function(){var o,a,l,c=this;this.core.eventBus.on("V2NIMTeamService/onSyncStarted",function(){c.service.emit("onSyncStarted")}),this.core.eventBus.on("V2NIMTeamService/onSyncFinished",function(){c.service.emit("onSyncFinished")}),this.core.eventBus.on("V2NIMTeamService/onSyncFailed",function(u){c.service.emit("onSyncFailed",u)}),this.core.eventBus.on("forwardReceive/V2NIMTeamService/created",function(u){c.model.upsert(u);var h=Bp(u.teamId,u.teamType,c.core.account,{memberRole:1});c.memberModel.upsert(h),c.service.emit("onTeamCreated",u)}),this.core.eventBus.on("forwardReceive/V2NIMTeamService/updateSelfTeamMemberInfo",function(u){c.memberModel.upsert(u),c.service.emit("onTeamInfoUpdated",[u])}),this.core.eventBus.on("forwardReceive/V2NIMTeamService/updateTeamActionStatus",cn(o=this.notification.updateTeamActionStatus).call(o,this.notification)),this.core.eventBus.on("V2NIMTeamService/sysNotification",cn(a=this.notification.processSysNotification).call(a,this.notification)),this.core.eventBus.on("V2NIMTeamService/notification",cn(l=this.notification.processNotification).call(l,this.notification))},y.beforeEmit=function(o){for(var a=this.service.name+"::emit "+o.toString(),l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];if(o==="onTeamCreated"||o==="onTeamDismissed"||o==="onTeamJoined"||o==="onTeamLeft"||o==="onTeamInfoUpdated"){var h=c[0];this.logger.log(""+a,"team:"+h.teamId+"_"+h.teamType+";updateTime:"+h.updateTime)}else if(o==="onTeamMemberJoined"||o==="onTeamMemberLeft"||o==="onTeamMemberInfoUpdated"){var C=c[0];this.logger.log(""+a,Qe(C).call(C,function(Y){return"team:"+Y.teamId+"_"+Y.teamType+";account:"+Y.accountId}))}else if(o==="onTeamMemberKicked"){var x=c[0],k=c[1];this.logger.log(""+a,"operator"+x,Qe(k).call(k,function(Y){return"team:"+Y.teamId+"_"+Y.teamType+";account:"+Y.accountId}))}else{var B,W;(B=this.logger).log.apply(B,Bn(W=[""+a]).call(W,c))}},y.onSyncDone=function(o){o?this.service.emit("onSyncFailed",o):this.service.emit("onSyncFinished")},p}(),Fte=function(){function p(f,o){this.core=f,this.service=o,this.model=o.model,this.memberModel=o.memberModel,this.logger=this.core.logger}var y=p.prototype;return y.v2TeamSyncHandler=function(o){this.model.set(o.content.datas)},y.v2SuperTeamSyncHandler=function(o){this.model.set(o.content.datas)},y.v2TeamCreateMultiSyncHandler=function(o){var a=o.content.data;this.model.upsert(a);var l=Bp(a.teamId,a.teamType,this.core.account,{memberRole:1});this.memberModel.upsert(l),this.service.emit("onTeamCreated",a)},y.v2SuperTeamCreateMultiSyncHandler=function(o){var a=o.content.data;this.model.upsert(a);var l=Bp(a.teamId,a.teamType,this.core.account,{memberRole:1});this.memberModel.upsert(l),this.service.emit("onTeamCreated",a)},y.v2TeamMemberUpdateMultiSyncHandler=function(o){var a=o.content.data;a.teamType=1;var l=this.memberModel.getById(a.teamId,a.teamType,a.accountId);this.service.notification.updateTeamMemberRole(a.teamId,a.teamType,[a.accountId],a),a.accountId===this.core.account&&l&&l.bits!==a.bits&&this.core.eventBus.emit("V2NIMSettingService/updateBits",a.teamId,a.teamType,a.bits)},y.v2SuperTeamMemberUpdateMultiSyncHandler=function(o){var a=o.content.data;a.teamType=2;var l=this.memberModel.getById(a.teamId,a.teamType,a.accountId);this.service.notification.updateTeamMemberRole(a.teamId,a.teamType,[a.accountId],a),a.accountId===this.core.account&&l&&l.bits!==a.bits&&this.core.eventBus.emit("V2NIMSettingService/updateBits",a.teamId,a.teamType,a.bits)},y.v2TeamMembersOfSelfInSyncHandler=function(o){var a=this,l=o.content.datas;rt(l).call(l,function(c){c.teamType=1,a.memberModel.upsert(c)})},y.v2SuperTeamMembersOfSelfInSyncHandler=function(o){var a=this,l=o.content.datas;rt(l).call(l,function(c){c.teamType=2,a.memberModel.upsert(c)})},p}(),qte=function(p){function y(o){var a;return(a=p.call(this,"V2NIMTeamService",o)||this).core._registerDep(Vf,"V2NIMConversationIdUtil"),a.model=new jte,a.memberModel=new Vte,a.notificationModel=new Ute,a.notification=new $te(o,er(a)),a.event=new Bte(o,er(a)),a.handler=new Fte(o,er(a)),a.core.options.apiVersion!=="v2"?er(a):(Wr({cmdMap:hee,cmdConfig:vee}),a.setListener(),a)}pr(y,p);var f=y.prototype;return f.setListener=function(){this.event.setListener()},f.reset=function(){this.model.reset(),this.memberModel.reset(),this.notificationModel.reset()},f.emit=function(a){for(var l,c,u,h,C=arguments.length,x=new Array(C>1?C-1:0),k=1;k<C;k++)x[k-1]=arguments[k];return(l=this.event).beforeEmit.apply(l,Bn(c=[a]).call(c,x)),(u=p.prototype.emit).call.apply(u,Bn(h=[this,a]).call(h,x))},f.createTeam=function(a,l,c,u){return le(this,void 0,void 0,q.mark(function h(){var C,x,k,B=this;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return this.checkV2(),ge({createTeamParams:xte},{createTeamParams:a},"",!0),ge({inviteeAccountIds:ce(ce({},gu),{min:0,required:!1})},{inviteeAccountIds:l},"",!0),ge({antispamConfig:x$},{antispamConfig:u},"",!0),C=a.teamType===2?"v2SuperTeamCreate":"v2TeamCreate",Y.next=7,this.core.sendCmd(C,{team:a,inviteeAccountIds:l||[],postscript:c||"",antispamConfig:u});case 7:return x=Y.sent,k=x.content.team,this.model.upsert(k),this.getTeamMemberListByIds(k.teamId,k.teamType,[this.core.account]).catch(function(ne){B.core.logger.error("Get Member error after createTeam",ne)}),this.emit("onTeamCreated",k),Y.abrupt("return",{team:k,failedList:x.content.failedList});case 13:case"end":return Y.stop()}},h,this)}))},f.updateTeamInfo=function(a,l,c,u){return le(this,void 0,void 0,q.mark(function h(){var C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),ge(Ate,{updateTeamInfoParams:c},"",!0),ge({antispamConfig:x$},{antispamConfig:u},"",!0),C=ce({teamId:a,teamType:l},c),x=l===2?"v2SuperTeamUpdateInfo":"v2TeamUpdateInfo",B.next=9,this.core.sendCmd(x,{team:C,antispamConfig:u});case 9:this.model.upsert(C);case 10:case"end":return B.stop()}},h,this)}))},f.leaveTeam=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),u=l===2?"v2SuperTeamLeave":"v2TeamLeave",C.next=6,this.core.sendCmd(u,{teamId:a});case 6:this.model.deleteById(a,l);case 7:case"end":return C.stop()}},c,this)}))},f.getTeamInfo=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),u=l===2?"v2SuperTeamGetInfo":"v2TeamGetInfo",!(h=this.model.getById(a,l,!1))){B.next=7;break}return B.abrupt("return",h);case 7:return B.next=9,this.core.sendCmd(u,{teamId:a});case 9:return C=B.sent,x=C.content.team,this.model.upsert(x),B.abrupt("return",x);case 13:case"end":return B.stop()}},c,this)}))},f.getJoinedTeamList=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u=this;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkV2(),ge(Kx,{teamTypes:a},"",!0),this.core.V2NIMLoginService.checkIllegalState(),a&&a.length!==0||(a=[1,2]),c=[],rt(a).call(a,function(x){c=Bn(c).call(c,u.model.getAll(x))}),C.abrupt("return",mn(c).call(c,function(x,k){return x.createTime-k.createTime}));case 7:case"end":return C.stop()}},l,this)}))},f.getJoinedTeamCount=function(a){var l=this;this.checkV2(),ge(Kx,{teamTypes:a},"",!0),this.core.V2NIMLoginService.checkIllegalState(),a&&a.length!==0||(a=[1,2]);var c=0;return rt(a).call(a,function(u){c+=l.model.count(u)}),c},f.getJoinedTeamMembers=function(a){var l=this;this.checkV2(),ge(Kx,{teamTypes:a},"",!0),this.core.V2NIMLoginService.checkIllegalState(),a&&a.length!==0||(a=[1,2]);var c=[];return rt(a).call(a,function(u){var h=l.memberModel.chooseList(u),C=Tn(h).call(h,function(x){return x.accountId===l.core.account});c=Bn(c).call(c,C)}),Zt.resolve(c)},f.getTeamInfoByIds=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x,k,B,W=this;return q.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(this.checkV2(),ge(Nte,{teamIds:a},"",!0),ge(Gi,{teamType:l},"",!0),h=l===2?"v2SuperTeamGetByIds":"v2TeamGetByIds",C=Qe(a).call(a,function(se){return W.model.getById(se,l,!1)}),(x=Tn(a).call(a,function(se,xe){return!C[xe]})).length!==0){ne.next=8;break}return ne.abrupt("return",C);case 8:return ne.next=10,this.core.sendCmd(h,{teamIds:x});case 10:return k=ne.sent,B=k.content.teams,ne.abrupt("return",Tn(u=Qe(C).call(C,function(se,xe){if(se)return se;var we=a[xe],$e=Wo(B).call(B,function(Me){return Me.teamId===we});return $e&&W.model.upsert($e),$e})).call(u,function(se){return!!se}));case 13:case"end":return ne.stop()}},c,this)}))},f.dismissTeam=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),u=l===2?"v2SuperTeamDismiss":"v2TeamDismiss",C.next=6,this.core.sendCmd(u,{teamId:a});case 6:case"end":return C.stop()}},c,this)}))},f.inviteMember=function(a,l,c,u){return le(this,void 0,void 0,q.mark(function h(){var C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),ge({inviteeAccountIds:gu},{inviteeAccountIds:c},"",!0),ge({postscript:ce(ce({},yv),{required:!1})},{postscript:u},"",!0),C=l===2?"v2SuperTeamInviteMembers":"v2TeamInviteMembers",B.next=8,this.core.sendCmd(C,{teamId:a,accounts:c,ps:u||""});case 8:return x=B.sent,B.abrupt("return",x.content.abortedAccidList);case 10:case"end":return B.stop()}},h,this)}))},f.inviteMemberEx=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),ge(Rte,{inviteeParams:c},"",!0),h=l===2?"v2SuperTeamInviteMembers":"v2TeamInviteMembers",k.next=7,this.core.sendCmd(h,{teamId:a,accounts:c.inviteeAccountIds,ps:c.postscript||"",attach:c.serverExtension});case 7:return C=k.sent,k.abrupt("return",C.content.abortedAccidList);case 9:case"end":return k.stop()}},u,this)}))},f.acceptInvitation=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return this.checkV2(),ge(bv,a,"invitationInfo",!0),ge(N$,a,"invitationInfo",!0),c=a.teamType,u=a.teamId,h=a.operatorAccountId,C=c===2?"v2SuperTeamAcceptInvitation":"v2TeamAcceptInvitation",W.prev=5,W.next=8,this.core.sendCmd(C,{teamId:u,from:h});case 8:return x=W.sent,this.notification.updateTeamActionStatus(a,1),W.abrupt("return",x.content.team);case 13:throw W.prev=13,W.t0=W.catch(5),k=W.t0,this.notification.checkIfExpired(k.code)&&this.notification.updateTeamActionStatus(a,3),W.t0;case 18:case"end":return W.stop()}},l,this,[[5,13]])}))},f.rejectInvitation=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return this.checkV2(),ge(bv,a,"invitationInfo",!0),ge(N$,a,"invitationInfo",!0),ge({postscript:ce(ce({},yv),{required:!1})},{postscript:l},"",!0),u=a.teamType,h=a.teamId,C=a.operatorAccountId,x=u===2?"v2SuperTeamRejectInvite":"v2TeamRejectInvite",W.prev=6,W.next=9,this.core.sendCmd(x,{teamId:h,from:C,ps:l||""});case 9:this.notification.updateTeamActionStatus(a,2),W.next=17;break;case 12:throw W.prev=12,W.t0=W.catch(6),k=W.t0,this.notification.checkIfExpired(k.code)&&this.notification.updateTeamActionStatus(a,3),W.t0;case 17:case"end":return W.stop()}},c,this,[[6,12]])}))},f.kickMember=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),ge({memberAccountIds:gu},{memberAccountIds:c},"",!0),h=l===2?"v2SuperTeamKickMembers":"v2TeamKickMembers",x.next=7,this.core.sendCmd(h,{teamId:a,accounts:c});case 7:case"end":return x.stop()}},u,this)}))},f.applyJoinTeam=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),h=l===2?"v2SuperTeamApplyToJoin":"v2TeamApplyToJoin",W.next=6,this.core.sendCmd(h,{teamId:a,ps:c||""});case 6:return C=W.sent,x=C.content.team,k=C.content.isInTeam,x.isValidTeam=!!x.isValidTeam&&!!k,W.abrupt("return",x);case 11:case"end":return W.stop()}},u,this)}))},f.acceptJoinApplication=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return this.checkV2(),ge(bv,a,"applicationInfo",!0),ge(R$,a,"applicationInfo",!0),c=a.teamType,u=a.teamId,h=a.operatorAccountId,C=c===2?"v2SuperTeamAcceptJoinApplication":"v2TeamAcceptJoinApplication",B.prev=5,B.next=8,this.core.sendCmd(C,{teamId:u,from:h});case 8:this.notification.updateTeamActionStatus(a,1),B.next=16;break;case 11:throw B.prev=11,B.t0=B.catch(5),x=B.t0,this.notification.checkIfExpired(x.code)&&this.notification.updateTeamActionStatus(a,3),B.t0;case 16:case"end":return B.stop()}},l,this,[[5,11]])}))},f.rejectJoinApplication=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return this.checkV2(),ge(bv,a,"applicationInfo",!0),ge(R$,a,"applicationInfo",!0),ge({postscript:ce(ce({},yv),{required:!1})},{postscript:l},"",!0),u=a.teamType,h=a.teamId,C=a.operatorAccountId,x=u===2?"v2SuperTeamRejectJoinApplication":"v2TeamRejectJoinApplication",W.prev=6,W.next=9,this.core.sendCmd(x,{teamId:h,from:C,ps:l||""});case 9:this.notification.updateTeamActionStatus(a,2),W.next=17;break;case 12:throw W.prev=12,W.t0=W.catch(6),k=W.t0,this.notification.checkIfExpired(k.code)&&this.notification.updateTeamActionStatus(a,3),W.t0;case 17:case"end":return W.stop()}},c,this,[[6,12]])}))},f.updateTeamMemberRole=function(a,l,c,u){return le(this,void 0,void 0,q.mark(function h(){var C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),ge({memberAccountIds:gu},{memberAccountIds:c},"",!0),ge({memberRole:Ote},{memberRole:u},"",!0),C=u===2?"AddManagers":"RemoveManagers",C=l===2?"v2SuperTeam"+C:"v2Team"+C,k.next=9,this.core.sendCmd(C,{teamId:a,accounts:Vp(c)});case 9:case"end":return k.stop()}},h,this)}))},f.transferTeamOwner=function(a,l,c,u){return le(this,void 0,void 0,q.mark(function h(){var C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),ge({accountId:NC},{accountId:c},"",!0),ge({leave:{type:"boolean",required:!1}},{leave:u},"",!0),!(C=this.model.getById(a,l))||C.ownerAccountId!==c){B.next=8;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"Transfer to self is not allowed"}});case 8:return x=l===2?"v2SuperTeamTransferOwner":"v2TeamTransferOwner",B.next=11,this.core.sendCmd(x,{teamId:a,account:c,leave:u||!1});case 11:case"end":return B.stop()}},h,this)}))},f.updateSelfTeamMemberInfo=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h,C,x,k,B;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),ge(kte,{memberInfoParams:c},"",!0),c.teamNick!==void 0||c.serverExtension!==void 0){Y.next=6;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER});case 6:return h=l===2?"v2SuperTeamUpdateSelfMemberInfo":"v2TeamUpdateSelfMemberInfo",C=ce(ce({},c),{teamId:a,accountId:this.core.account}),Y.next=10,this.core.sendCmd(h,{teamMember:C});case 10:return Y.next=12,this.notification.updateTeamMemberRole(a,l,[this.core.account],C);case 12:x=this.memberModel.getById(a,l,this.core.account),this.core.V2NIMSettingService.name&&this.core.V2NIMConversationIdUtil.name&&(k=l===1?this.core.V2NIMConversationIdUtil.teamConversationId(a):this.core.V2NIMConversationIdUtil.superTeamConversationId(a),B=this.core.V2NIMSettingService.getConversationMuteStatus(k),this.core.eventBus.emit("V2NIMSettingService/setMute",k,B)),this.core.eventBus.emit("forwardSend/V2NIMTeamService/updateSelfTeamMemberInfo",x);case 15:case"end":return Y.stop()}},u,this)}))},f.updateTeamMemberNick=function(a,l,c,u){return le(this,void 0,void 0,q.mark(function h(){var C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),ge({accountId:NC},{accountId:c},"",!0),ge({nick:yv},{nick:u},"",!0),c!==this.core.account){k.next=7;break}return k.abrupt("return",this.updateSelfTeamMemberInfo(a,l,{teamNick:u}));case 7:return C=l===2?"v2SuperTeamUpdateMember":"v2TeamUpdateMember",k.next=10,this.core.sendCmd(C,{teamMember:{teamNick:u,teamId:a,accountId:c}});case 10:case"end":return k.stop()}},h,this)}))},f.setTeamChatBannedMode=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),ge(Lte,{chatBannedMode:c},"",!0),h=l===2?"v2SuperTeamSetChatBannedMode":"v2TeamSetChatBannedMode",x.next=7,this.core.sendCmd(h,{teamId:a,chatBannedMode:c});case 7:this.model.upsert({teamId:a,teamType:l,chatBannedMode:c});case 8:case"end":return x.stop()}},u,this)}))},f.setTeamMemberChatBannedStatus=function(a,l,c,u){return le(this,void 0,void 0,q.mark(function h(){var C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),ge({accountId:NC},{accountId:c},"",!0),ge({chatBanned:wte},{chatBanned:u},"",!0),C=l===2?"v2SuperTeamMemberSetChatBannedStatus":"v2TeamMemberSetChatBannedStatus",k.next=8,this.core.sendCmd(C,{teamId:a,accountId:l===2?[c]:c,chatBanned:u?1:0});case 8:case"end":return k.stop()}},h,this)}))},f.getTeamMemberList=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),ge(Pte,{queryOption:c},"",!0),h=(h=c.direction===void 0?0:c.direction)===0?1:0,W.next=8,this.core.sendCmd("v2TeamMemberGetList",{tag:ce(ce({teamId:a,teamType:l,onlyChatBanned:!1,nextToken:"",limit:100},c),{direction:h})});case 8:return C=W.sent,x=C.content.datas,k=Ht(C,"raw.r.0"),l===2&&k&&Qe(k)&&(x=Qe(k).call(k,function(Y){return Rr(Y,dt(Up))})),W.abrupt("return",{nextToken:C.content.pageInfo.nextToken||"",finished:!+C.content.pageInfo.hasMore,memberList:VV(x,l)});case 13:case"end":return W.stop()}},u,this)}))},f.getTeamMemberListByIds=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h,C,x,k,B,W,Y=this;return q.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),ge({accountIds:gu},{accountIds:c},"",!0),h=l===2?"v2SuperTeamMemberGetListByIds":"v2TeamMemberGetListByIds",C=Qe(c).call(c,function(xe){return a+"|"+xe}),x=[],k=0;case 8:if(!(k<C.length)){se.next=18;break}return se.next=11,this.core.sendCmd(h,{tag:zn(C).call(C,k,k+20)});case 11:B=se.sent,W=VV(B.content.datas,l),x=Bn(x).call(x,W),rt(W).call(W,function(xe){return Y.memberModel.upsert(xe)});case 15:k+=20,se.next=8;break;case 18:return se.abrupt("return",x);case 19:case"end":return se.stop()}},u,this)}))},f.getTeamMemberInvitor=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),ge({accountIds:gu},{accountIds:c},"",!0),h=l===2?"v2SuperTeamGetMemberInvitor":"v2TeamGetMemberInvitor",k.next=7,this.core.sendCmd(h,{teamId:a,accounts:c});case 7:return C=k.sent,k.abrupt("return",C.content.accountsMap);case 9:case"end":return k.stop()}},u,this)}))},f.searchTeamByKeyword=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkV2(),this.checkLogin(),ge({keyword:NC},{keyword:a},"",!0),u.abrupt("return",this.model.searchTeamByKeyword(a));case 4:case"end":return u.stop()}},l,this)}))},f.addTeamMembersFollow=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h,C,x,k,B;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return this.checkV2(),ge(A$,{teamId:a,teamType:l,accountIds:c},"",!0),h=l===2?"v2SuperTeamUpdateSelfMemberInfo":"v2TeamUpdateSelfMemberInfo",Y.next=5,this.getTeamMemberListByIds(a,l,[this.core.account]);case 5:return C=Y.sent,x=C[0],Y.next=9,this.core.sendCmd(h,{teamMember:{teamId:a},specialFollowUpdate:{accountIds:c,operation:1}});case 9:k=Y.sent,B=k.content.data,Gn(B).length>0&&(ce(x,B),this.emit("onTeamMemberInfoUpdated",[x]),this.memberModel.upsert(x));case 12:case"end":return Y.stop()}},u,this)}))},f.removeTeamMembersFollow=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h,C,x,k,B;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return this.checkV2(),ge(A$,{teamId:a,teamType:l,accountIds:c},"",!0),Y.next=4,this.getTeamMemberListByIds(a,l,[this.core.account]);case 4:return h=Y.sent,C=h[0],x=l===2?"v2SuperTeamUpdateSelfMemberInfo":"v2TeamUpdateSelfMemberInfo",Y.next=9,this.core.sendCmd(x,{teamMember:{teamId:a},specialFollowUpdate:{accountIds:c,operation:0}});case 9:k=Y.sent,B=k.content.data,Gn(B).length>0&&(ce(C,B),this.emit("onTeamMemberInfoUpdated",[C]),this.memberModel.upsert(C));case 12:case"end":return Y.stop()}},u,this)}))},f.getTeamJoinActionInfoList=function(a){return this.checkV2(),ge(Dte,a,"option",!0),this.core.V2NIMLoginService.checkIllegalState(),Zt.resolve(this.notificationModel.getByOption(a))},f.clearAllTeamJoinActionInfo=function(){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),this.notificationModel.reset();case 3:case"end":return c.stop()}},a,this)}))},f.deleteTeamJoinActionInfo=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),ge(bv,a,"",!0),ge(w$,a,"",!0),ge({timestamp:{type:"number",min:1}},a,"",!0),this.notificationModel.delete(a);case 6:case"end":return u.stop()}},l,this)}))},f.setTeamJoinActionInfoRead=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),a?(ge(bv,a,"",!0),ge(w$,a,"",!0),this.notificationModel.setRead(a)):this.notificationModel.setAllRead();case 3:case"end":return u.stop()}},l,this)}))},f.getTeamJoinActionInfoUnreadCount=function(){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),c.abrupt("return",this.notificationModel.getUnreadCount());case 3:case"end":return c.stop()}},a,this)}))},y}(ji),vd="V2NIMUserService",zte={"34_3":"v2UpdateBlockList","34_7":"v2GetUserList","34_10":"v2UpdateSelfUserProfile","3_109":"v2SyncSelfUserInfo","3_110":"onUpdateUserProfile","3_103":"onUpdateBlockList","3_8":"syncBlockAndMuteList","34_5":"v2SetP2PMessageMuteMode","3_105":"v2OnUpdateMuteList"},Sv={accountId:1,name:3,avatar:4,sign:5,gender:{id:6,retType:"number"},email:7,birthday:8,mobile:9,serverExtension:10,createTime:{id:12,retType:"number"},updateTime:{id:13,retType:"number"}},Hte={v2UpdateBlockList:{sid:34,cid:3,service:vd,params:[{type:"String",name:"accountId"},{type:"Bool",name:"addToBlockList"}]},v2GetUserList:{sid:34,cid:7,service:vd,params:[{type:"StrArray",name:"accountIds"}],response:[{type:"PropertyArray",name:"data",reflectMapper:dt(Sv)}]},v2UpdateSelfUserProfile:{sid:34,cid:10,service:vd,params:[{type:"Property",name:"tag",reflectMapper:Sv}],response:[{type:"Long",name:"updateTime"}]},onUpdateUserProfile:{sid:3,cid:110,service:vd,response:[{type:"Property",name:"data",reflectMapper:dt(Sv)}]},onUpdateBlockList:{sid:3,cid:103,service:vd,response:[{type:"String",name:"accountId"},{type:"Bool",name:"addToBlockList"}]},syncBlockAndMuteList:{sid:3,cid:8,service:vd,response:[{type:"PropertyArray",name:"data",reflectMapper:dt({accountId:0,isMute:{id:1,retType:"boolean"},isBlock:{id:2,retType:"boolean"}})},{type:"Long",name:"timetag"}]},v2SyncSelfUserInfo:{sid:3,cid:109,service:vd,response:[{type:"Property",name:"user",reflectMapper:dt(Sv)}]},v2SetP2PMessageMuteMode:{sid:34,cid:5,service:vd,params:[{type:"String",name:"accountId"},{type:"Bool",name:"muteMode"}]},v2OnUpdateMuteList:{sid:3,cid:105,service:vd,response:[{type:"String",name:"accountId"},{type:"Bool",name:"mute"}]}},Gte=function(){function p(){this.muteList=new bc,this.userMap=new Xa,this.blockList=[]}var y=p.prototype;return y.reset=function(){this.muteList.clear(),this.userMap.clear(),this.blockList=[]},y.setAccountMuteMode=function(o,a){a===1?this.muteList.add(o):this.muteList.delete(o)},y.setUser=function(o){this.userMap.set(o.accountId,o)},y.getUser=function(o){return this.userMap.get(o)},y.getUserListBySearchOption=function(o){var a,l;return Tn(a=ma(Xo(l=this.userMap).call(l))).call(a,function(c){var u,h,C;return!(o.searchName!==void 0&&!o.searchName||!or(u=c.name).call(u,o.keyword))||!(!o.searchAccountId||!or(h=c.accountId).call(h,o.keyword))||!!(c.mobile&&o.searchMobile&&or(C=c.mobile).call(C,o.keyword))})},y.addToBlockList=function(o){var a=this;rt(o).call(o,function(l){var c;or(c=a.blockList).call(c,l)||a.blockList.push(l)})},y.removeFromBlockList=function(o){var a=this;rt(o).call(o,function(l){var c,u,h=dr(c=a.blockList).call(c,l);h!==-1&&Qa(u=a.blockList).call(u,h,1)})},y.checkBlock=function(o){var a=this,l={};return rt(o).call(o,function(c){var u;l[c]=or(u=a.blockList).call(u,c)}),l},p}(),k$={type:"string",required:!0,allowEmpty:!1},Iv={type:"string",required:!1,allowEmpty:!0},Kte={name:{type:"string",required:!1,allowEmpty:!0},avatar:Iv,sign:Iv,email:Iv,birthday:Iv,mobile:Iv,gender:{type:"number",required:!1},serverExtension:Iv};function Wte(p,y){var f,o=Ma!==void 0&&Eo(p)||p["@@iterator"];if(o)return cn(f=(o=o.call(p)).next).call(f,o);if(Nr(p)||(o=function(c,u){if(c){var h;if(typeof c=="string")return L$(c,u);var C=zn(h={}.toString.call(c)).call(h,8,-1);return C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set"?ma(c):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?L$(c,u):void 0}}(p))||y){o&&(p=o);var a=0;return function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L$(p,y){(y==null||y>p.length)&&(y=p.length);for(var f=0,o=Array(y);f<y;f++)o[f]=p[f];return o}var P$=function(p){function y(o){var a;return a=p.call(this,"V2NIMUserService",o)||this,Wr({cmdMap:zte,cmdConfig:Hte}),a.model=new Gte,a.core.options.apiVersion!=="v2"?er(a):(a.setListener(),a)}pr(y,p);var f=y.prototype;return f.reset=function(){this.model.reset()},f.setListener=function(){var a=this;this.core.eventBus.on("forwardReceive/V2NIMUserService/updateBlockList",function(l,c){c?a.model.addToBlockList([l]):a.model.removeFromBlockList([l]),c?a.emitBlockListAdded(l):a.emit("onBlockListRemoved",l)}),this.core.eventBus.on("forwardReceive/V2NIMUserService/updateUserProfile",function(l){a.updateUserProfileInMemory(l)})},f.emit=function(a){for(var l,c,u=this.name+"::emit "+a.toString(),h=arguments.length,C=new Array(h>1?h-1:0),x=1;x<h;x++)C[x-1]=arguments[x];if(a==="onUserProfileChanged"){var k=C[0];this.logger.log(""+u,Qe(k).call(k,function(ne){return"id:"+ne.accountId+";name:"+ne.name+";updateTime:"+ne.updateTime}))}else if(a==="onBlockListAdded"){var B=C[0];this.logger.log(""+u,"id:"+B.accountId+";name:"+B.name+";updateTime:"+B.updateTime)}else{var W,Y;(W=this.logger).log.apply(W,Bn(Y=[""+u]).call(Y,C))}return(l=p.prototype.emit).call.apply(l,Bn(c=[this,a]).call(c,C))},f.getUserList=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkV2(),u.abrupt("return",this._getUserList(a));case 2:case"end":return u.stop()}},l,this)}))},f._getUserList=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x,k=this;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(ge({accountIds:gu},{accountIds:a},"",!0),u=[],rt(a).call(a,function(Y){k.model.getUser(Y)||u.push(Y)}),h=null,!(u.length>0)){W.next=8;break}return W.next=7,this.core.sendCmd("v2GetUserList",{accountIds:u});case 7:h=W.sent;case 8:return C=((l=h==null?void 0:h.content)===null||l===void 0?void 0:l.data)||[],rt(C).call(C,function(Y){k.model.setUser(Y)}),x=[],rt(a).call(a,function(Y){var ne=k.model.getUser(Y);ne&&x.push(ne)}),W.abrupt("return",x);case 13:case"end":return W.stop()}},c,this)}))},f.getUserListFromCloud=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x=this;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return this.checkV2(),ge({accountIds:{type:"array",min:1,max:500,itemType:"string"}},{accountIds:a},"",!0),B.next=4,this.core.sendCmd("v2GetUserList",{accountIds:a});case 4:return c=B.sent,u=c.content.data||[],h=[],rt(u).call(u,function(W){var Y=x.model.getUser(W.accountId);x.compareUserForUpdate(Y,W)&&h.push(W),x.model.setUser(W)}),C=ja(a).call(a,function(W,Y){var ne=x.model.getUser(Y);return ne&&W.push(ne),W},[]),h.length>0&&this.emit("onUserProfileChanged",h),B.abrupt("return",C);case 11:case"end":return B.stop()}},l,this)}))},f.compareUserForUpdate=function(a,l){return!a||!(typeof a.updateTime=="number"&&typeof l.updateTime=="number"&&a.updateTime>=l.updateTime)},f.updateSelfUserProfile=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkV2(),ge(Kte,a,"",!0),h.next=4,this.core.sendCmd("v2UpdateSelfUserProfile",{tag:ce(ce({},a),{accountId:this.core.account})});case 4:return c=h.sent,h.next=7,this.updateUserProfileInMemory(ce(ce({},a),{updateTime:c.content.updateTime}));case 7:case"end":return h.stop()}},l,this)}))},f.addUserToBlockList=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.checkV2(),a!==this.core.account){u.next=3;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"Cannot block yourself"}});case 3:return ge({accountId:k$},{accountId:a},"",!0),u.next=6,this.core.sendCmd("v2UpdateBlockList",{accountId:a,addToBlockList:!0});case 6:this.model.addToBlockList([a]),this.emitBlockListAdded(a);case 8:case"end":return u.stop()}},l,this)}))},f.removeUserFromBlockList=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.checkV2(),a!==this.core.account){u.next=3;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"Cannot unblock yourself"}});case 3:return ge({accountId:k$},{accountId:a},"",!0),u.next=6,this.core.sendCmd("v2UpdateBlockList",{accountId:a,addToBlockList:!1});case 6:this.model.removeFromBlockList([a]),this.emit("onBlockListRemoved",a);case 8:case"end":return u.stop()}},l,this)}))},f.searchUserByOption=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),ge({keyword:{type:"string",allowEmpty:!1},searchName:{type:"boolean",required:!1},searchAccountId:{type:"boolean",required:!1},searchMobile:{type:"boolean",required:!1}},a,"",!0),(a.searchName===void 0||a.searchName)!==!1||a.searchAccountId||a.searchMobile){u.next=6;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"one of searchName, searchAccountId, searchMobile must be true"}});case 6:return u.abrupt("return",this.model.getUserListBySearchOption(a));case 7:case"end":return u.stop()}},l,this)}))},f.getBlockList=function(){return this.checkV2(),Zt.resolve(this.model.blockList)},f.checkBlock=function(a){return this.checkV2(),ge({accountIds:gu},{accountIds:a},"",!0),Zt.resolve(this.model.checkBlock(a))},f.updateUserProfileInMemory=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!(c=this.model.getUser(this.core.account))){C.next=6;break}ce(c,a),this.model.setUser(c),C.next=10;break;case 6:return C.next=8,this._getUserList([this.core.account]);case 8:u=C.sent,c=u[0];case 10:c&&this.emit("onUserProfileChanged",[c]);case 11:case"end":return C.stop()}},l,this)}))},f.onUpdateUserProfileHandler=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return c=a.content.data,h.next=3,this.updateUserProfileInMemory(c);case 3:case"end":return h.stop()}},l,this)}))},f.onUpdateBlockListHandler=function(a){var l=a.content.accountId;a.content.addToBlockList?(this.model.addToBlockList([l]),this.emitBlockListAdded(l)):(this.model.removeFromBlockList([l]),this.emit("onBlockListRemoved",l))},f.syncBlockAndMuteListHandler=function(a){var l=this,c=a.content.data;rt(c).call(c,function(u){u.isBlock?l.model.addToBlockList([u.accountId]):l.model.setAccountMuteMode(u.accountId,u.isMute?1:0)})},f.v2SyncSelfUserInfoHandler=function(a){var l=a.content.user;this.model.setUser(l)},f.checkUserUpdate=function(a,l){var c=a.senderId;c!==this.core.account&&this.refreshUserInfo(c,l)},f.refreshUserInfo=function(a,l){return l===void 0&&(l=0),le(this,void 0,void 0,q.mark(function c(){var u,h,C,x,k,B;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(a&&typeof a=="string"){Y.next=2;break}return Y.abrupt("return");case 2:if(u=this.model.getUser(a),h=[],!(!u||u&&typeof u.updateTime=="number"&&typeof l=="number"&&!isNaN(u.updateTime)&&!isNaN(l)&&u.updateTime<l)){Y.next=16;break}return Y.prev=5,Y.next=8,this.core.sendCmd("v2GetUserList",{accountIds:[a]});case 8:C=Y.sent,h=C.content.data,Y.next=16;break;case 12:return Y.prev=12,Y.t0=Y.catch(5),this.logger.warn("V2NIMUserService:refreshUserInfo: failed for "+a),Y.abrupt("return");case 16:for(x=Wte(h);!(k=x()).done;)B=k.value,this.model.setUser(B),this.emit("onUserProfileChanged",[B]);case 17:case"end":return Y.stop()}},c,this,[[5,12]])}))},f.emitBlockListAdded=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this._getUserList([a]);case 2:(c=h.sent).length===1&&this.emit("onBlockListAdded",c[0]);case 4:case"end":return h.stop()}},l,this)}))},f.v2OnUpdateMuteListHandler=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:c=a.content,u=c.accountId,h=c.mute,C=h?1:0,this.core.eventBus.emit("v2NIMUserService/updateMuteList",u,C);case 3:case"end":return k.stop()}},l,this)}))},y}(ji),yd="V2NIMFriendService",Yte={"35_1":"v2AddFriend","35_2":"v2DeleteFriend","35_3":"v2SetFriendInfo","35_4":"v2IncFriendInfo","12_101":"v2OnAddFriend","12_102":"v2OnDeleteFriend","12_103":"v2OnUpdateFriendInfo","12_5":"v2SyncFriendList","12_6":"v2SyncFriendUserList"},RC={accountId:4,relationShip:{id:5,retType:"number"},source:{id:7,retType:"number"},alias:8,serverExtension:10,createTime:{id:11,retType:"number"},updateTime:{id:12,retType:"number"},customerExtension:13},Xte={v2AddFriend:{sid:35,cid:1,service:yd,params:[{type:"String",name:"accountId"},{type:"Byte",name:"verifyType"},{type:"String",name:"postscript"}],response:[]},v2DeleteFriend:{sid:35,cid:2,service:yd,params:[{type:"String",name:"accountId"},{type:"Property",name:"params",reflectMapper:{deleteAlias:{id:1,converter:la}}}]},v2SetFriendInfo:{sid:35,cid:3,service:yd,params:[{type:"Property",name:"tag",reflectMapper:RC}]},v2OnAddFriend:{sid:12,cid:101,service:yd,response:[{type:"String",name:"accountId"},{type:"Byte",name:"verifyType"},{type:"String",name:"postscript"},{type:"Property",name:"ext",reflectMapper:dt({serverExt:1})}]},v2OnDeleteFriend:{sid:12,cid:102,service:yd,response:[{type:"String",name:"accountId"}]},v2OnUpdateFriendInfo:{sid:12,cid:103,service:yd,response:[{type:"Property",name:"data",reflectMapper:dt(RC)}]},v2SyncFriendList:{sid:12,cid:5,service:yd,response:[{type:"PropertyArray",name:"friends",reflectMapper:dt(RC)},{type:"Long",name:"timetag"}]},v2SyncFriendUserList:{sid:12,cid:6,service:yd,response:[{type:"PropertyArray",name:"users",reflectMapper:dt(Sv)}]},v2IncFriendInfo:{sid:35,cid:4,service:yd,params:[{type:"Long",name:"timetag"}],response:[{type:"PropertyArray",name:"friends",reflectMapper:dt(RC)},{type:"Long",name:"timetag"}]}},Jte={accountId:{type:"string",required:!0,allowEmpty:!1},params:{type:"object",required:!0,rules:{addMode:{type:"enum",required:!0,values:[1,2]},postscript:{type:"string",required:!1,allowEmpty:!0}}}},Qte={accountId:{type:"string",required:!0,allowEmpty:!1},params:{type:"object",required:!1,rules:{deleteAlias:{type:"boolean",required:!1}}}},Zte={accountId:{type:"string",required:!0,allowEmpty:!1},params:{type:"object",required:!1,rules:{alias:{type:"string",required:!1,allowEmpty:!0},serverExtension:{type:"string",required:!1,allowEmpty:!0}}}},ene={applicantAccountId:{type:"string",allowEmpty:!1},recipientAccountId:{type:"string",allowEmpty:!1},operatorAccountId:{type:"string",required:!1,allowEmpty:!1},postscript:{type:"string",required:!1,allowEmpty:!0},status:{type:"enum",values:[1,4,3,0,2]},timestamp:{type:"number",min:1}};function AC(p,y){if(ge(ene,p,"",!0),p&&p.applicantAccountId!==y&&p.recipientAccountId!==y)throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"Friend application is not your own"}})}var tne={offset:{type:"number",required:!1},limit:{type:"number",required:!1},status:{type:"array",itemType:"enum",required:!1,values:[1,4,3,0,2]}},nne=function(){function p(y,f){this.core=y,this.service=f}return p.prototype.processSysNotification=function(f){if(f.type===6){var o=f.senderId;this.core.V2NIMFriendService.handleDeleteFriend(o,2)}else if(f.type===5)try{var a=JSON.parse(f.content);if((a==null?void 0:a.vt)===1){this.core.V2NIMFriendService.handleAddFriend(f.senderId,f.timestamp);var l={applicantAccountId:f.senderId,recipientAccountId:f.receiverId,operatorAccountId:f.senderId,postscript:f.postscript,timestamp:f.timestamp,status:4,read:!1};this.service.notificationModel.appendFriendAddApplication(l),this.service.notificationModel.updateFriendAddApplicationStatus(l.applicantAccountId,4,l.applicantAccountId)}else if((a==null?void 0:a.vt)===2){var c={applicantAccountId:f.senderId,recipientAccountId:f.receiverId,operatorAccountId:f.senderId,postscript:f.postscript,timestamp:f.timestamp,status:0,read:!1};this.service.handleApplyFriend(c),this.service.notificationModel.appendFriendAddApplication(c)}else if((a==null?void 0:a.vt)===3){this.core.V2NIMFriendService.handleAddFriend(f.senderId,f.timestamp);var u={applicantAccountId:f.receiverId,recipientAccountId:f.senderId,operatorAccountId:f.senderId,timestamp:f.timestamp,postscript:f.postscript,status:1,read:!1};this.service.notificationModel.appendFriendAddApplication(u)}else if((a==null?void 0:a.vt)===4){var h={applicantAccountId:f.receiverId,recipientAccountId:f.senderId,operatorAccountId:f.senderId,timestamp:f.timestamp,postscript:f.postscript,status:2,read:!1};this.service.notificationModel.appendFriendAddApplication(h),this.service.emit("onFriendAddRejected",h)}}catch(C){this.core.logger.warn("V2NIMFriendNotificationImpl::processSysNotification, parse content error:",C)}},p}(),rne=function(){function p(){this.validFriendIds=new bc,this.friendMap=new Xa,this.friendTimetag=0}var y=p.prototype;return y.reset=function(){this.friendMap.clear(),this.validFriendIds.clear()},y.upsertFriend=function(o,a){delete a.relationShip;var l=this.friendMap.get(o)||{},c=ce({accountId:o},l,a);return this.friendMap.set(o,c),this.validFriendIds.add(o),c},y.addFriend=function(o){this.validFriendIds.add(o)},y.deleteFriend=function(o){this.validFriendIds.delete(o)},y.getFriend=function(o){return this.validFriendIds.has(o)?this.friendMap.get(o):void 0},y.getFriendList=function(){var o,a,l,c=this;return Tn(o=Qe(a=ma(Xo(l=this.validFriendIds).call(l))).call(a,function(u){return c.getFriend(u)})).call(o,function(u){return!!u})},y.getFriendListBySearchOption=function(o){var a,l,c,u=this;return Tn(a=Qe(l=ma(Xo(c=this.validFriendIds).call(c))).call(l,function(h){return u.getFriend(h)})).call(a,function(h){var C,x,k=o.searchAlias===void 0||o.searchAlias;return h!==void 0&&(!!(k&&h.alias&&or(C=h.alias).call(C,o.keyword))||!(!o.searchAccountId||!or(x=h.accountId).call(x,o.keyword)))})},y.getFriendByIds=function(o){var a,l=this;return Tn(a=Qe(o).call(o,function(c){return l.getFriend(c)})).call(a,function(c){return!!c})},y.setFriendTimetag=function(o){this.friendTimetag=o},y.getFriendTimetag=function(){return this.friendTimetag},p}();function OC(p,y){var f,o=Ma!==void 0&&Eo(p)||p["@@iterator"];if(o)return cn(f=(o=o.call(p)).next).call(f,o);if(Nr(p)||(o=function(c,u){if(c){var h;if(typeof c=="string")return D$(c,u);var C=zn(h={}.toString.call(c)).call(h,8,-1);return C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set"?ma(c):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?D$(c,u):void 0}}(p))||y){o&&(p=o);var a=0;return function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D$(p,y){(y==null||y>p.length)&&(y=p.length);for(var f=0,o=Array(y);f<y;f++)o[f]=p[f];return o}var ane=function(){function p(){this.list=[],this.maxCount=1e3}var y=p.prototype;return y.reset=function(){this.list=[]},y.updateFriendAddApplicationStatus=function(o,a,l){if(a!==0)for(var c,u=OC(this.list);!(c=u()).done;){var h=c.value;h.applicantAccountId===o&&h.status===0&&(h.status=a,h.operatorAccountId=l)}},y.getAddApplicationList=function(o){var a,l,c=o.offset===void 0?0:o.offset,u=js(a=Tn(l=this.list).call(l,function(k){var B=o.status||[];return B.length===0||!!or(B).call(B,k.status)})).call(a),h=o.limit||50,C=zn(u).call(u,c,c+h),x=c+h>=u.length;return{infos:C,finished:x,offset:x?0:c+h}},y.checkSameApplication=function(o,a,l){return l===void 0&&(l=!1),o.applicantAccountId===a.applicantAccountId&&o.recipientAccountId===a.recipientAccountId&&(!l||o.timestamp===a.timestamp)},y.setAllApplicationRead=function(){for(var o,a=OC(this.list);!(o=a()).done;)o.value.read=!0},y.setApplicationRead=function(o){for(var a,l=OC(this.list);!(a=l()).done;){var c=a.value;this.checkSameApplication(c,o)&&(c.read=!0)}},y.getAddApplicationUnreadCount=function(){for(var o,a=new bc,l=OC(this.list);!(o=l()).done;){var c=o.value;c.read||c.status!==0||a.add(c.applicantAccountId)}return a.size},y.appendFriendAddApplication=function(o){this.list.push(o),this.list.length>this.maxCount&&this.list.shift()},y.clearApplicationList=function(){this.list=[]},y.deleteApplication=function(o){var a,l,c=this;this.list=Tn(a=Qe(l=this.list).call(l,function(u){if(!c.checkSameApplication(u,o,!1))return u})).call(a,function(u){return u})},p}(),ine=function(p){function y(o){var a;return(a=p.call(this,"V2NIMFriendService",o)||this).notification=new nne(a.core,er(a)),a.model=new rne,a.notificationModel=new ane,a.core._registerDep(P$,"V2NIMUserService"),a.core.options.apiVersion!=="v2"?er(a):(Wr({cmdMap:Yte,cmdConfig:Xte}),a.setListener(),a)}pr(y,p);var f=y.prototype;return f.reset=function(){this.model.reset()},f.setListener=function(){var a,l,c,u,h,C;this.core.eventBus.on("V2NIMFriendService/sysNotification",cn(a=this.notification.processSysNotification).call(a,this.notification)),this.core.eventBus.on("forwardReceive/V2NIMFriendService/addFriend",cn(l=this.handleAddFriend).call(l,this)),this.core.eventBus.on("forwardReceive/V2NIMFriendService/deleteFriend",cn(c=this.handleDeleteFriend).call(c,this)),this.core.eventBus.on("forwardReceive/V2NIMFriendService/setFriendInfo",cn(u=this.handleSetFriendInfo).call(u,this)),this.core.eventBus.on("forwardReceive/V2NIMFriendService/acceptAddApplication",cn(h=this.handlePassFriendApply).call(h,this)),this.core.eventBus.on("forwardReceive/V2NIMFriendService/rejectAddApplication",cn(C=this.handleRejectFriendApply).call(C,this))},f.emit=function(a){for(var l,c,u=this.name+"::emit "+a.toString(),h=arguments.length,C=new Array(h>1?h-1:0),x=1;x<h;x++)C[x-1]=arguments[x];if(a==="onFriendAdded"||a==="onFriendInfoChanged"){var k=C[0];this.logger.log(""+u,k.accountId+";updateTime:"+k.updateTime)}else{var B,W;(B=this.logger).log.apply(B,Bn(W=[""+u]).call(W,C))}return(l=p.prototype.emit).call.apply(l,Bn(c=[this,a]).call(c,C))},f.addFriend=function(a,l){return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.checkV2(),a!==this.core.account){h.next=3;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"Cannot add yourself"}});case 3:return ge(Jte,{accountId:a,params:l},"",!0),h.next=6,this.core.sendCmd("v2AddFriend",{accountId:a,verifyType:l.addMode,postscript:l.postscript||""});case 6:if(l.addMode!==1){h.next=10;break}return h.next=9,this.handleAddFriend(a);case 9:this.notificationModel.updateFriendAddApplicationStatus(a,4,this.core.account);case 10:case"end":return h.stop()}},c,this)}))},f.deleteFriend=function(a,l){return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.checkV2(),a!==this.core.account){h.next=3;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"Cannot delete yourself"}});case 3:return ge(Qte,{accountId:a,params:l},"",!0),h.next=6,this.core.sendCmd("v2DeleteFriend",{accountId:a,params:l});case 6:l.deleteAlias&&this.model.upsertFriend(a,{alias:""}),this.handleDeleteFriend(a);case 8:case"end":return h.stop()}},c,this)}))},f.acceptAddApplication=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkV2(),AC(a,this.core.account),u.prev=2,u.next=5,this.core.sendCmd("v2AddFriend",{accountId:a.applicantAccountId,verifyType:3,postscript:""});case 5:this.handlePassFriendApply(a.applicantAccountId),u.next=12;break;case 8:throw u.prev=8,u.t0=u.catch(2),this.handlePassFriendApply(a.applicantAccountId,u.t0),u.t0;case 12:case"end":return u.stop()}},l,this,[[2,8]])}))},f.rejectAddApplication=function(a,l){return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkV2(),AC(a,this.core.account),h.prev=2,h.next=5,this.core.sendCmd("v2AddFriend",{accountId:a.applicantAccountId,verifyType:4,postscript:l||""});case 5:this.handleRejectFriendApply({applicantAccountId:a.applicantAccountId,recipientAccountId:a.recipientAccountId,operatorAccountId:this.core.account,postscript:l||"",timestamp:this.core.timeOrigin.getNTPTime(),read:!1,status:2}),h.next=12;break;case 8:throw h.prev=8,h.t0=h.catch(2),this.handleRejectFriendApply({applicantAccountId:a.applicantAccountId,recipientAccountId:a.recipientAccountId,operatorAccountId:this.core.account,postscript:l||"",timestamp:this.core.timeOrigin.getNTPTime(),read:!1,status:3},h.t0),h.t0;case 12:case"end":return h.stop()}},c,this,[[2,8]])}))},f.setFriendInfo=function(a,l){return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.checkV2(),ge(Zte,{accountId:a,params:l},"",!0),a!==this.core.account){h.next=4;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"Cannot set yourself"}});case 4:return h.next=6,this.core.sendCmd("v2SetFriendInfo",{tag:ce({accountId:a},l)});case 6:this.handleSetFriendInfo(a,l);case 7:case"end":return h.stop()}},c,this)}))},f.getFriendList=function(){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),c.abrupt("return",this.computedFields(this.model.getFriendList()));case 3:case"end":return c.stop()}},a,this)}))},f.getFriendByIds=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),ge({accountIds:{type:"array",itemType:"string",required:!0,min:1}},{accountIds:a},"",!0),u.abrupt("return",this.computedFields(this.model.getFriendByIds(a)));case 4:case"end":return u.stop()}},l,this)}))},f.checkFriend=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u=this;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),ge({accountIds:{type:"array",itemType:"string",required:!0,min:1}},{accountIds:a},"",!0),c={},rt(a).call(a,function(x){c[x]=!!u.model.getFriend(x)}),C.abrupt("return",c);case 6:case"end":return C.stop()}},l,this)}))},f.getAddApplicationList=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),ge(tne,a,"",!0),u.abrupt("return",this.notificationModel.getAddApplicationList(a));case 4:case"end":return u.stop()}},l,this)}))},f.setAddApplicationRead=function(){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),this.notificationModel.setAllApplicationRead();case 3:case"end":return c.stop()}},a,this)}))},f.setAddApplicationReadEx=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),a?(AC(a,this.core.account),this.notificationModel.setApplicationRead(a)):this.notificationModel.setAllApplicationRead();case 3:case"end":return u.stop()}},l,this)}))},f.getAddApplicationUnreadCount=function(){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),c.abrupt("return",this.notificationModel.getAddApplicationUnreadCount());case 3:case"end":return c.stop()}},a,this)}))},f.clearAllAddApplication=function(){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),this.notificationModel.clearApplicationList();case 3:case"end":return c.stop()}},a,this)}))},f.deleteAddApplication=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),AC(a,this.core.account),this.notificationModel.deleteApplication(a);case 4:case"end":return u.stop()}},l,this)}))},f.searchFriendByOption=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.checkV2(),this.core.V2NIMLoginService.checkIllegalState(),ge({keyword:{type:"string",allowEmpty:!1},searchAccountId:{type:"boolean",required:!1}},a,"",!0),a.searchAlias===void 0||a.searchAlias||a.searchAccountId){u.next=6;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"searchAlias and searchAccountId cannot be false at the same time"}});case 6:return u.abrupt("return",this.computedFields(this.model.getFriendListBySearchOption(a)));case 7:case"end":return u.stop()}},l,this)}))},f.v2OnAddFriendHandler=function(a){var l=a.content,c=l.accountId,u=l.verifyType,h=l.postscript;if(u===1)this.handleAddFriend(c),this.notificationModel.updateFriendAddApplicationStatus(c,4,this.core.account);else if(u===2){var C={applicantAccountId:this.core.account,recipientAccountId:c,operatorAccountId:this.core.account,postscript:h,timestamp:this.core.timeOrigin.getNTPTime(),status:0,read:!1};this.handleApplyFriend(C)}else if(u===3)this.handlePassFriendApply(c);else if(u===4){var x={applicantAccountId:c,recipientAccountId:this.core.account,operatorAccountId:this.core.account,postscript:h,timestamp:this.core.timeOrigin.getNTPTime(),status:2,read:!1};this.handleRejectFriendApply(x)}},f.v2OnDeleteFriendHandler=function(a){var l=a.content.accountId;this.handleDeleteFriend(l)},f.v2OnUpdateFriendInfoHandler=function(a){var l=a.content.data,c=this.model.upsertFriend(l.accountId,l);this.emit("onFriendInfoChanged",this.computedField(c))},f.v2SyncFriendListHandler=function(a){var l=this,c=a.content,u=c.friends,h=c.timetag;this.model.setFriendTimetag(h),rt(u).call(u,function(C){C.serverExtension||(C.serverExtension=""),C.customerExtension||(C.customerExtension=""),C.relationShip===0?l.model.deleteFriend(C.accountId):l.model.upsertFriend(C.accountId,C)})},f.v2SyncFriendUserListHandler=function(a){var l=this,c=a.content.users;this.hasUserService&&rt(c).call(c,function(u){l.core.V2NIMUserService.model.setUser(u)})},f.handleApplyFriend=function(a){this.emit("onFriendAddApplication",a)},f.handleAddFriend=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.model.addFriend(a),C.next=3,this.incrementSyncFriend();case 3:return C.next=5,this.core.V2NIMUserService.refreshUserInfo(a);case 5:(u=this.model.getFriend(a))&&this.emit("onFriendAdded",this.computedField(u));case 7:case"end":return C.stop()}},c,this)}))},f.handleDeleteFriend=function(a,l){l=l===void 0?1:l,this.emit("onFriendDeleted",a,l),this.model.deleteFriend(a)},f.handleSetFriendInfo=function(a,l){var c=this.model.upsertFriend(a,l);this.emit("onFriendInfoChanged",this.computedField(c))},f.handlePassFriendApply=function(a,l){var c=l?l==null?void 0:l.code:200;if(!(c>=19e4||c===it.V2NIM_ERROR_CODE_FRIEND_OPERATION_RATE_LIMIT))if(c===200||c===it.V2NIM_ERROR_CODE_FRIEND_ALREADY_EXIST)this.notificationModel.updateFriendAddApplicationStatus(a,1,this.core.account),this.handleAddFriend(a);else{if(c>=500&&c<=599&&c!==509)return;this.notificationModel.updateFriendAddApplicationStatus(a,3,this.core.account)}},f.handleRejectFriendApply=function(a,l){var c=l?l==null?void 0:l.code:200;if(!(c>=19e4||c===it.V2NIM_ERROR_CODE_FRIEND_OPERATION_RATE_LIMIT))if(c===200)this.emit("onFriendAddRejected",a),this.notificationModel.updateFriendAddApplicationStatus(a.applicantAccountId,2,this.core.account);else if(c===it.V2NIM_ERROR_CODE_FRIEND_ALREADY_EXIST)this.notificationModel.updateFriendAddApplicationStatus(a.applicantAccountId,1,this.core.account);else{if(c>=500&&c<=599&&c!==509)return;this.notificationModel.updateFriendAddApplicationStatus(a.applicantAccountId,3,this.core.account)}},f.incrementSyncFriend=function(){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C=this;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.core.sendCmd("v2IncFriendInfo",{timetag:this.model.getFriendTimetag()});case 2:l=k.sent,c=l.content,u=c.friends,h=c.timetag,this.model.setFriendTimetag(h),rt(u).call(u,function(B){C.model.upsertFriend(B.accountId,B)});case 6:case"end":return k.stop()}},a,this)}))},f.computedFields=function(a){var l=this;return Qe(a).call(a,function(c){return l.computedField(c)})},f.computedField=function(a){var l,c,u=(c=(l=this.core.V2NIMUserService)===null||l===void 0?void 0:l.model)===null||c===void 0?void 0:c.getUser(a.accountId);return u?ce({},a,{userProfile:u}):a},sa(y,[{key:"hasUserService",get:function(){var a;return!!(!((a=this.core.V2NIMUserService)===null||a===void 0)&&a.name)}}]),y}(ji),one={muteMode:{type:"enum",values:[2,0,1]}},sne={accountId:{type:"string",required:!0,allowEmpty:!1},muteMode:{type:"enum",required:!0,values:[2,0,1]}},zp={type:"object",required:!1,rules:{certificateName:{type:"string",required:!0,allowEmpty:!1},appId:{type:"string",required:!1,allowEmpty:!1},appKey:{type:"string",required:!1,allowEmpty:!1},secret:{type:"string",required:!1,allowEmpty:!1}}},lne={config:{type:"object",required:!0,rules:{apns:zp,hwPush:zp,miPush:zp,vivoPush:zp,oppoPush:zp,honorPush:zp,fcmPush:zp,mzPush:zp}}},$S="V2NIMSettingService",cne={"34_1":"v2SetDeviceToken","34_2":"v2SetAppBackground","34_15":"v2SetPushMobileOnDesktopOnline","3_115":"v2SettingMutilSyncDonnop","4_13":"v2SettingSyncDonnop"},Yx={need:{id:1,converter:function(y){return y?2:1},retConverter:function(y){return y==="2"}}},une={v2SetDeviceToken:{sid:34,cid:1,service:$S,params:[{type:"String",name:"certificateName"},{type:"String",name:"pushDeviceToken"},{type:"Int",name:"pushkit"}]},v2SetAppBackground:{sid:34,cid:2,service:$S,params:[{type:"Bool",name:"isBackground"},{type:"Int",name:"badge"}]},v2SetPushMobileOnDesktopOnline:{sid:34,cid:15,service:$S,params:[{type:"Property",name:"tag",reflectMapper:Yx}]},v2SettingMutilSyncDonnop:{sid:3,cid:115,service:$S,response:[{type:"Property",name:"data",reflectMapper:dt(Yx)},{type:"Long",name:"timetag"}]},v2SettingSyncDonnop:{sid:4,cid:13,service:$S,response:[{type:"Property",name:"data",reflectMapper:dt(Yx)},{type:"Long",name:"timetag"}]}},dne=function(){function p(f,o){this.core=f,this.service=o}var y=p.prototype;return y.v2SettingMutilSyncDonnopHandler=function(o){var a=o.content.data.need;this.service.needToPushMobileOnDesktopOnline=a,this.service.emit("onPushMobileOnDesktopOnline",a)},y.v2SettingSyncDonnopHandler=function(o){var a=o.content.data.need;this.service.needToPushMobileOnDesktopOnline=a,this.service.emit("onPushMobileOnDesktopOnline",a)},p}(),bd=bd||function(p){var y;typeof window<"u"&&window.crypto&&(y=window.crypto),typeof self<"u"&&self.crypto&&(y=self.crypto),dh!==void 0&&dh.crypto&&(y=dh.crypto),!y&&typeof window<"u"&&window.msCrypto&&(y=window.msCrypto),!y&&typeof wd<"u"&&wd.crypto&&(y=wd.crypto);var f=function(){if(y){if(typeof y.getRandomValues=="function")try{return y.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof y.randomBytes=="function")try{return y.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Li||function(){function Y(){}return function(ne){var se;return Y.prototype=ne,se=new Y,Y.prototype=null,se}}(),a={},l=a.lib={},c=l.Base={extend:function(ne){var se=o(this);return ne&&se.mixIn(ne),se.hasOwnProperty("init")&&this.init!==se.init||(se.init=function(){se.$super.init.apply(this,arguments)}),se.init.prototype=se,se.$super=this,se},create:function(){var ne=this.extend();return ne.init.apply(ne,arguments),ne},init:function(){},mixIn:function(ne){for(var se in ne)ne.hasOwnProperty(se)&&(this[se]=ne[se]);ne.hasOwnProperty("toString")&&(this.toString=ne.toString)},clone:function(){return this.init.prototype.extend(this)}},u=l.WordArray=c.extend({init:function(ne,se){ne=this.words=ne||[],this.sigBytes=se??4*ne.length},toString:function(ne){return(ne||C).stringify(this)},concat:function(ne){var se=this.words,xe=ne.words,we=this.sigBytes,$e=ne.sigBytes;if(this.clamp(),we%4)for(var Me=0;Me<$e;Me++){var Fe=xe[Me>>>2]>>>24-Me%4*8&255;se[we+Me>>>2]|=Fe<<24-(we+Me)%4*8}else for(var We=0;We<$e;We+=4)se[we+We>>>2]=xe[We>>>2];return this.sigBytes+=$e,this},clamp:function(){var ne=this.words,se=this.sigBytes;ne[se>>>2]&=4294967295<<32-se%4*8,ne.length=p.ceil(se/4)},clone:function(){var ne,se=c.clone.call(this);return se.words=zn(ne=this.words).call(ne,0),se},random:function(ne){for(var se=[],xe=0;xe<ne;xe+=4)se.push(f());return new u.init(se,ne)}}),h=a.enc={},C=h.Hex={stringify:function(ne){for(var se=ne.words,xe=ne.sigBytes,we=[],$e=0;$e<xe;$e++){var Me=se[$e>>>2]>>>24-$e%4*8&255;we.push((Me>>>4).toString(16)),we.push((15&Me).toString(16))}return we.join("")},parse:function(ne){for(var se=ne.length,xe=[],we=0;we<se;we+=2)xe[we>>>3]|=un(ne.substr(we,2),16)<<24-we%8*4;return new u.init(xe,se/2)}},x=h.Latin1={stringify:function(ne){for(var se=ne.words,xe=ne.sigBytes,we=[],$e=0;$e<xe;$e++){var Me=se[$e>>>2]>>>24-$e%4*8&255;we.push(String.fromCharCode(Me))}return we.join("")},parse:function(ne){for(var se=ne.length,xe=[],we=0;we<se;we++)xe[we>>>2]|=(255&ne.charCodeAt(we))<<24-we%4*8;return new u.init(xe,se)}},k=h.Utf8={stringify:function(ne){try{return decodeURIComponent(escape(x.stringify(ne)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(ne){return x.parse(unescape(encodeURIComponent(ne)))}},B=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(ne){var se;typeof ne=="string"&&(ne=k.parse(ne)),Bn(se=this._data).call(se,ne),this._nDataBytes+=ne.sigBytes},_process:function(ne){var se,xe=this._data,we=xe.words,$e=xe.sigBytes,Me=this.blockSize,Fe=$e/(4*Me),We=(Fe=ne?p.ceil(Fe):p.max((0|Fe)-this._minBufferSize,0))*Me,Ae=p.min(4*We,$e);if(We){for(var Ee=0;Ee<We;Ee+=Me)this._doProcessBlock(we,Ee);se=Qa(we).call(we,0,We),xe.sigBytes-=Ae}return new u.init(se,Ae)},clone:function(){var ne=c.clone.call(this);return ne._data=this._data.clone(),ne},_minBufferSize:0});l.Hasher=B.extend({cfg:c.extend(),init:function(ne){this.cfg=this.cfg.extend(ne),this.reset()},reset:function(){B.reset.call(this),this._doReset()},update:function(ne){return this._append(ne),this._process(),this},finalize:function(ne){return ne&&this._append(ne),this._doFinalize()},blockSize:16,_createHelper:function(ne){return function(se,xe){return new ne.init(xe).finalize(se)}},_createHmacHelper:function(ne){return function(se,xe){return new W.HMAC.init(ne,xe).finalize(se)}}});var W=a.algo={};return a}(Math),j$=bd.enc.Utf8,Xx=bd,V$=Xx.lib,$$=V$.Base,pne=V$.WordArray,U$=Xx.algo,mne=U$.MD5,fne=U$.EvpKDF=$$.extend({cfg:$$.extend({keySize:4,hasher:mne,iterations:1}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,f){for(var o,a=this.cfg,l=a.hasher.create(),c=pne.create(),u=c.words,h=a.keySize,C=a.iterations;u.length<h;){o&&l.update(o),o=l.update(y).finalize(f),l.reset();for(var x=1;x<C;x++)o=l.finalize(o),l.reset();Bn(c).call(c,o)}return c.sigBytes=4*h,c}});Xx.EvpKDF=function(p,y,f){return fne.create(f).compute(p,y)},bd.EvpKDF;var B$=bd,gne=B$.lib.WordArray;B$.enc.Base64={stringify:function(y){var f=y.words,o=y.sigBytes,a=this._map;y.clamp();for(var l=[],c=0;c<o;c+=3)for(var u=(f[c>>>2]>>>24-c%4*8&255)<<16|(f[c+1>>>2]>>>24-(c+1)%4*8&255)<<8|f[c+2>>>2]>>>24-(c+2)%4*8&255,h=0;h<4&&c+.75*h<o;h++)l.push(a.charAt(u>>>6*(3-h)&63));var C=a.charAt(64);if(C)for(;l.length%4;)l.push(C);return l.join("")},parse:function(y){var f=y.length,o=this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var l=0;l<o.length;l++)a[o.charCodeAt(l)]=l}var c=o.charAt(64);if(c){var u=dr(y).call(y,c);u!==-1&&(f=u)}return function(C,x,k){for(var B=[],W=0,Y=0;Y<x;Y++)if(Y%4){var ne=k[C.charCodeAt(Y-1)]<<Y%4*2|k[C.charCodeAt(Y)]>>>6-Y%4*2;B[W>>>2]|=ne<<24-W%4*8,W++}return gne.create(B,W)}(y,f,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},bd.enc.Base64,function(p){p.lib.Cipher||function(){var y=p,f=y.lib,o=f.Base,a=f.WordArray,l=f.BufferedBlockAlgorithm,c=y.enc;c.Utf8;var u=c.Base64,h=y.algo.EvpKDF,C=f.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(Me,Fe){return this.create(this._ENC_XFORM_MODE,Me,Fe)},createDecryptor:function(Me,Fe){return this.create(this._DEC_XFORM_MODE,Me,Fe)},init:function(Me,Fe,We){this.cfg=this.cfg.extend(We),this._xformMode=Me,this._key=Fe,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(Me){return this._append(Me),this._process()},finalize:function(Me){return Me&&this._append(Me),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function $e(Me){return typeof Me=="string"?we:se}return function(Me){return{encrypt:function(We,Ae,Ee){return $e(Ae).encrypt(Me,We,Ae,Ee)},decrypt:function(We,Ae,Ee){return $e(Ae).decrypt(Me,We,Ae,Ee)}}}}()});f.StreamCipher=C.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var x=y.mode={},k=f.BlockCipherMode=o.extend({createEncryptor:function(Me,Fe){return this.Encryptor.create(Me,Fe)},createDecryptor:function(Me,Fe){return this.Decryptor.create(Me,Fe)},init:function(Me,Fe){this._cipher=Me,this._iv=Fe}}),B=x.CBC=function(){var $e=k.extend();function Me(Fe,We,Ae){var Ee,me=this._iv;me?(Ee=me,this._iv=void 0):Ee=this._prevBlock;for(var Ve=0;Ve<Ae;Ve++)Fe[We+Ve]^=Ee[Ve]}return $e.Encryptor=$e.extend({processBlock:function(We,Ae){var Ee=this._cipher,me=Ee.blockSize;Me.call(this,We,Ae,me),Ee.encryptBlock(We,Ae),this._prevBlock=zn(We).call(We,Ae,Ae+me)}}),$e.Decryptor=$e.extend({processBlock:function(We,Ae){var Ee=this._cipher,me=Ee.blockSize,Ve=zn(We).call(We,Ae,Ae+me);Ee.decryptBlock(We,Ae),Me.call(this,We,Ae,me),this._prevBlock=Ve}}),$e}(),W=(y.pad={}).Pkcs7={pad:function(Me,Fe){for(var We=4*Fe,Ae=We-Me.sigBytes%We,Ee=Ae<<24|Ae<<16|Ae<<8|Ae,me=[],Ve=0;Ve<Ae;Ve+=4)me.push(Ee);var Ge=a.create(me,Ae);Bn(Me).call(Me,Ge)},unpad:function(Me){var Fe=255&Me.words[Me.sigBytes-1>>>2];Me.sigBytes-=Fe}};f.BlockCipher=C.extend({cfg:C.cfg.extend({mode:B,padding:W}),reset:function(){var Me;C.reset.call(this);var Fe=this.cfg,We=Fe.iv,Ae=Fe.mode;this._xformMode==this._ENC_XFORM_MODE?Me=Ae.createEncryptor:(Me=Ae.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Me?this._mode.init(this,We&&We.words):(this._mode=Me.call(Ae,this,We&&We.words),this._mode.__creator=Me)},_doProcessBlock:function(Me,Fe){this._mode.processBlock(Me,Fe)},_doFinalize:function(){var Me,Fe=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Fe.pad(this._data,this.blockSize),Me=this._process(!0)):(Me=this._process(!0),Fe.unpad(Me)),Me},blockSize:4});var Y=f.CipherParams=o.extend({init:function(Me){this.mixIn(Me)},toString:function(Me){return(Me||this.formatter).stringify(this)}}),ne=(y.format={}).OpenSSL={stringify:function(Me){var Fe,We,Ae,Ee=Me.ciphertext,me=Me.salt;return me?Fe=Bn(We=Bn(Ae=a.create([1398893684,1701076831])).call(Ae,me)).call(We,Ee):Fe=Ee,Fe.toString(u)},parse:function(Me){var Fe,We=u.parse(Me),Ae=We.words;return Ae[0]==1398893684&&Ae[1]==1701076831&&(Fe=a.create(zn(Ae).call(Ae,2,4)),Qa(Ae).call(Ae,0,4),We.sigBytes-=16),Y.create({ciphertext:We,salt:Fe})}},se=f.SerializableCipher=o.extend({cfg:o.extend({format:ne}),encrypt:function(Me,Fe,We,Ae){Ae=this.cfg.extend(Ae);var Ee=Me.createEncryptor(We,Ae),me=Ee.finalize(Fe),Ve=Ee.cfg;return Y.create({ciphertext:me,key:We,iv:Ve.iv,algorithm:Me,mode:Ve.mode,padding:Ve.padding,blockSize:Me.blockSize,formatter:Ae.format})},decrypt:function(Me,Fe,We,Ae){return Ae=this.cfg.extend(Ae),Fe=this._parse(Fe,Ae.format),Me.createDecryptor(We,Ae).finalize(Fe.ciphertext)},_parse:function(Me,Fe){return typeof Me=="string"?Fe.parse(Me,this):Me}}),xe=(y.kdf={}).OpenSSL={execute:function(Me,Fe,We,Ae){var Ee;Ae||(Ae=a.random(8));var me=h.create({keySize:Fe+We}).compute(Me,Ae),Ve=a.create(zn(Ee=me.words).call(Ee,Fe),4*We);return me.sigBytes=4*Fe,Y.create({key:me,iv:Ve,salt:Ae})}},we=f.PasswordBasedCipher=se.extend({cfg:se.cfg.extend({kdf:xe}),encrypt:function(Me,Fe,We,Ae){var Ee=(Ae=this.cfg.extend(Ae)).kdf.execute(We,Me.keySize,Me.ivSize);Ae.iv=Ee.iv;var me=se.encrypt.call(this,Me,Fe,Ee.key,Ae);return me.mixIn(Ee),me},decrypt:function(Me,Fe,We,Ae){Ae=this.cfg.extend(Ae),Fe=this._parse(Fe,Ae.format);var Ee=Ae.kdf.execute(We,Me.keySize,Me.ivSize,Fe.salt);return Ae.iv=Ee.iv,se.decrypt.call(this,Me,Fe,Ee.key,Ae)}})}()}(bd);var kC=bd,Jx=kC.lib.StreamCipher,F$=kC.algo,LC=F$.RC4=Jx.extend({_doReset:function(){for(var y=this._key,f=y.words,o=y.sigBytes,a=this._S=[],l=0;l<256;l++)a[l]=l;l=0;for(var c=0;l<256;l++){var u=l%o,h=f[u>>>2]>>>24-u%4*8&255;c=(c+a[l]+h)%256;var C=a[l];a[l]=a[c],a[c]=C}this._i=this._j=0},_doProcessBlock:function(y,f){y[f]^=q$.call(this)},keySize:8,ivSize:0});function q$(){for(var p=this._S,y=this._i,f=this._j,o=0,a=0;a<4;a++){f=(f+p[y=(y+1)%256])%256;var l=p[y];p[y]=p[f],p[f]=l,o|=p[(p[y]+p[f])%256]<<24-8*a}return this._i=y,this._j=f,o}kC.RC4=Jx._createHelper(LC);var hne=F$.RC4Drop=LC.extend({cfg:LC.cfg.extend({drop:192}),_doReset:function(){LC._doReset.call(this);for(var y=this.cfg.drop;y>0;y--)q$.call(this)}});kC.RC4Drop=Jx._createHelper(hne);var vne=bd.RC4,yne=function(){function p(f,o){var a=this;this.offlinePushPlugin=void 0,this.offlinePushConfig=void 0,this.authConfig=void 0,this.aosPushInfo=void 0,this.appBackgroundOptions={badge:0,isBackground:!1},this.setTokenAndBackgroundStateAfterLogin=function(l){a.aosPushInfo=l,a.logger.log("OfflinePushService: setToken, deviceClientId:",l==null?void 0:l.clientId),a.offlinePushPlugin&&(a.logger.log("OfflinePushService: setToken plugin is provided"),a.logger.log("OfflinePushService: setToken pushType is: ",l&&l.pushType),a.regToken(),a.core.sendCmd("v2SetAppBackground",{isBackground:a.appBackgroundOptions.isBackground,badge:a.appBackgroundOptions.badge||0}))},this.core=f,this.service=o,this.logger=f.logger}var y=p.prototype;return y.getRNDeviceInfo=function(){var o,a=this;return this.logger.log("OfflinePushService:getDeviceInfo start"),(o=this.offlinePushPlugin)===null||o===void 0||o.init($t(this.authConfig),function(l,c,u){if(a.logger.log("OfflinePushService:: type: "+l+", tokenName: "+c+", token: "+u),u){var h="",C=rn.getSystemInfo()||{},x=C.os?C.os.toLowerCase():"";a.aosPushInfo&&a.aosPushInfo.pushType?h=a.aosPushInfo.pushType:x==="ios"?h="":x==="android"&&(h="8"),a.pushTokenToServer(h,u)}else a.logger.warn("OfflinePushService:: token is empty. Please check your parameters")}),new Zt(function(l,c){var u;(u=a.offlinePushPlugin)===null||u===void 0||u.getDeviceInfo(function(h){try{a.logger.log("OfflinePushService:getDeviceInfo result "+(h?$t(h):"")),l(JSON.parse(h))}catch{c(new Ct({code:it.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:"OfflinePushService:getDeviceInfo error"}}))}}),pa(function(){c(new Ct({code:it.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:"OfflinePushService:getDeviceInfo timeout"}}))},2e3)})},y.pushTokenToServer=function(o,a){var l,c,u,h,C,x,k,B,W="",Y=this.offlinePushConfig;switch(o){case"5":W=(l=Y==null?void 0:Y.miPush)===null||l===void 0?void 0:l.certificateName;break;case"6":W=(c=Y==null?void 0:Y.hwPush)===null||c===void 0?void 0:c.certificateName;break;case"7":W=(u=Y==null?void 0:Y.mzPush)===null||u===void 0?void 0:u.certificateName;break;case"8":W=(h=Y==null?void 0:Y.fcmPush)===null||h===void 0?void 0:h.certificateName;break;case"9":W=(C=Y==null?void 0:Y.vivoPush)===null||C===void 0?void 0:C.certificateName;break;case"10":W=(x=Y==null?void 0:Y.oppoPush)===null||x===void 0?void 0:x.certificateName;break;case"11":W=(k=Y==null?void 0:Y.honorPush)===null||k===void 0?void 0:k.certificateName;break;default:W=(B=Y==null?void 0:Y.apns)===null||B===void 0?void 0:B.certificateName}if(W===""||W===void 0)this.logger.warn("OfflinePushService:: certificate name is empty for push type: ",o);else try{if(rn.platform==="UNIAPP"){var ne=j$.parse("557d1e3cafa43e2589a588270c53d56f"),se=j$.stringify(vne.decrypt(a,ne));this.logger.log("OfflinePushService:: token",se),this.core.sendCmd("v2SetDeviceToken",{certificateName:W,pushDeviceToken:se,pushkit:0})}else this.core.sendCmd("v2SetDeviceToken",{certificateName:W,pushDeviceToken:a,pushkit:0})}catch(xe){return this.logger.log("OfflinePushService:: decrypt error",xe),void this.logger.warn("OfflinePushService:: token before decrypt",a)}},y.regToken=function(){var o=this,a=rn.getSystemInfo()||{},l=a.os?a.os.toLowerCase():"";if(this.logger.log("OfflinePushService: os",l),l==="ios"||l==="android")if(!this.offlinePushPlugin||rn.platform==="UNIAPP"&&typeof this.offlinePushPlugin.getDeviceToken!="function"||rn.platform==="React Native"&&l==="android"&&typeof this.offlinePushPlugin.init!="function"||rn.platform==="React Native"&&l==="ios"&&typeof this.offlinePushPlugin.checkPermissions!="function")this.logger.warn("OfflinePushService: plugin is not correct, please check your plugin according to Yunxin Official Documentation");else{var c;rn.platform==="React Native"&&rn.envPayload.AppState&&rn.envPayload.AppState.addEventListener("change",cn(c=this.handleRNAppStateChange).call(c,this));var u="";this.aosPushInfo&&this.aosPushInfo.pushType?u=this.aosPushInfo.pushType:l==="ios"?u="":l==="android"&&(u="8"),this.logger.log("OfflinePushService:: prepare to get device token. suggestPushType: "+u),this.logger.log("OfflinePushService push config",$t(this.authConfig,null,2),"platform",rn.platform),rn.platform==="UNIAPP"?this.offlinePushPlugin.getDeviceToken({suggestPushType:u,config:this.authConfig},function(h){h?(o.logger.log("OfflinePushService:: token is :"+h),o.pushTokenToServer(u,h)):o.logger.warn("OfflinePushService:: token is empty. Please check your parameters")}):rn.platform==="React Native"&&l==="android"?(this.logger.log("OfflinePushService:: onLogin",this.core.account,typeof u,u),this.offlinePushPlugin.onLogin(this.core.account,un(u),!1,"")):rn.platform==="React Native"&&l==="ios"?this.offlinePushPlugin.checkPermissions(function(){o.logger.log("OfflinePushService addEventListener requestPermissions");try{o.offlinePushPlugin.requestPermissions()}catch(h){o.logger.log("OfflinePushService:: requestPermissions error",h)}o.offlinePushPlugin.addEventListener("register",function(h){o.logger.log("OfflinePushService:: ios token: "+h),o.pushTokenToServer(u,h)}),o.offlinePushPlugin.addEventListener("registrationError",function(h){o.logger.log("OfflinePushService:: ios registerError",h)})}):this.logger.error("OfflinePushService:: platform is not supported. Please check your parameters. Platform: "+rn.platform+". os: "+l)}else this.logger.warn("OfflinePushService: only Android or IOS support offline push")},y.handleRNAppStateChange=function(o){this.logger.log("push::handleAppStateChange: pushConfig ios/aos; state: "+o),this.appBackgroundOptions={badge:this.core.V2NIMConversationService.getTotalUnreadCount(),isBackground:o==="background"||o==="inactive"},this.setAppBackground(this.appBackgroundOptions.isBackground,this.appBackgroundOptions.badge)},y.setOfflinePushConfig=function(o,a){var l,c,u,h,C,x,k,B,W,Y,ne,se,xe,we,$e,Me,Fe,We,Ae,Ee,me,Ve,Ge,ze,mt,Tt,Be,dn,Nn,Dt,cr,_a,Sr,Ot,Ft,ar;this.logger.log("setOfflinePushConfig","plugin",o,"config",a),this.offlinePushPlugin=o,this.offlinePushConfig=a,this.authConfig={xmAppId:(c=(l=this.offlinePushConfig)===null||l===void 0?void 0:l.miPush)===null||c===void 0?void 0:c.appId,xmAppKey:(h=(u=this.offlinePushConfig)===null||u===void 0?void 0:u.miPush)===null||h===void 0?void 0:h.appKey,xmCertificateName:(x=(C=this.offlinePushConfig)===null||C===void 0?void 0:C.miPush)===null||x===void 0?void 0:x.certificateName,hwAppId:(B=(k=this.offlinePushConfig)===null||k===void 0?void 0:k.hwPush)===null||B===void 0?void 0:B.appId,hwCertificateName:(Y=(W=this.offlinePushConfig)===null||W===void 0?void 0:W.hwPush)===null||Y===void 0?void 0:Y.certificateName,oppoAppId:(se=(ne=this.offlinePushConfig)===null||ne===void 0?void 0:ne.oppoPush)===null||se===void 0?void 0:se.appId,oppoAppKey:(we=(xe=this.offlinePushConfig)===null||xe===void 0?void 0:xe.oppoPush)===null||we===void 0?void 0:we.appKey,oppoAppSecret:(Me=($e=this.offlinePushConfig)===null||$e===void 0?void 0:$e.oppoPush)===null||Me===void 0?void 0:Me.secret,oppoCertificateName:(We=(Fe=this.offlinePushConfig)===null||Fe===void 0?void 0:Fe.oppoPush)===null||We===void 0?void 0:We.certificateName,vivoAppId:(Ee=(Ae=this.offlinePushConfig)===null||Ae===void 0?void 0:Ae.vivoPush)===null||Ee===void 0?void 0:Ee.appId,vivoAppKey:(Ve=(me=this.offlinePushConfig)===null||me===void 0?void 0:me.vivoPush)===null||Ve===void 0?void 0:Ve.appKey,vivoCertificateName:(ze=(Ge=this.offlinePushConfig)===null||Ge===void 0?void 0:Ge.vivoPush)===null||ze===void 0?void 0:ze.certificateName,fcmCertificateName:(Tt=(mt=this.offlinePushConfig)===null||mt===void 0?void 0:mt.fcmPush)===null||Tt===void 0?void 0:Tt.certificateName,mzAppId:(dn=(Be=this.offlinePushConfig)===null||Be===void 0?void 0:Be.mzPush)===null||dn===void 0?void 0:dn.appId,mzAppKey:(Dt=(Nn=this.offlinePushConfig)===null||Nn===void 0?void 0:Nn.mzPush)===null||Dt===void 0?void 0:Dt.appKey,mzCertificateName:(_a=(cr=this.offlinePushConfig)===null||cr===void 0?void 0:cr.mzPush)===null||_a===void 0?void 0:_a.certificateName,apnsCertificateName:(Ot=(Sr=this.offlinePushConfig)===null||Sr===void 0?void 0:Sr.apns)===null||Ot===void 0?void 0:Ot.certificateName,honorCertificateName:(ar=(Ft=this.offlinePushConfig)===null||Ft===void 0?void 0:Ft.honorPush)===null||ar===void 0?void 0:ar.certificateName}},y.setAppBackground=function(o,a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.appBackgroundOptions={isBackground:o,badge:a||0},u.next=3,this.core.sendCmd("v2SetAppBackground",{isBackground:o,badge:a||0});case 3:case"end":return u.stop()}},l,this)}))},p}(),bne=function(){function p(f,o){var a=this;this.p2pMessageMuteModeChangeHandler=function(l,c){a.service.emit("onP2PMessageMuteModeChanged",l,c),a.hasUserService&&a.core.V2NIMUserService.model.setAccountMuteMode(l,c);var u=a.core.V2NIMConversationIdUtil.p2pConversationId(l),h=c===1;a.core.eventBus.emit("V2NIMSettingService/setMute",u,h)},this.core=f,this.service=o}var y=p.prototype;return y.getConversationMuteStatus=function(o){if(typeof o!="string")return!1;var a=this.core.V2NIMConversationIdUtil.parseConversationType(o),l=this.core.V2NIMConversationIdUtil.parseConversationTargetId(o);return a===3?this.getTeamMessageMuteMode(l,2)!==0:a===2?this.getTeamMessageMuteMode(l,1)!==0:!(a!==1||!this.hasUserService)&&!!this.core.V2NIMUserService.model.muteList.has(l)},y.setTeamMessageMuteMode=function(o,a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return u=a===2?"v2SuperTeamUpdateSelfMemberInfo":"v2TeamUpdateSelfMemberInfo",h={teamId:o,teamType:a,accountId:this.core.account,bits:l},B.next=4,this.core.sendCmd(u,{teamMember:h});case 4:this.core.V2NIMTeamService.memberModel.upsert(h),this.service.emit("onTeamMessageMuteModeChanged",o,a,l),C=a===1?this.core.V2NIMConversationIdUtil.teamConversationId(o):this.core.V2NIMConversationIdUtil.superTeamConversationId(o),x=this.getConversationMuteStatus(C),this.core.eventBus.emit("V2NIMSettingService/setMute",C,x);case 9:case"end":return B.stop()}},c,this)}))},y.getTeamMessageMuteMode=function(o,a){var l;return typeof o!="string"||typeof a!="number"?0:this.hasTeamService?3&(((l=this.core.V2NIMTeamService.memberModel.getById(o,a,this.core.account))===null||l===void 0?void 0:l.bits)||0):0},y.getAllTeamMessageMuteMode=function(o){var a=this;if(!this.hasTeamService)return Zt.resolve({});var l=this.core.V2NIMTeamService.memberModel.chooseList(o),c={};return rt(l).call(l,function(u){if(u.accountId===a.core.account){var h=u.bits||0;c[u.teamId]=3&h}}),Zt.resolve(c)},y.setP2PMessageMuteMode=function(o,a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.core.sendCmd("v2SetP2PMessageMuteMode",{accountId:o,muteMode:a===1});case 2:this.p2pMessageMuteModeChangeHandler(o,a);case 3:case"end":return u.stop()}},l,this)}))},y.getP2PMessageMuteMode=function(o){return this.hasUserService&&this.core.V2NIMUserService.model.muteList.has(o)?1:0},y.getP2PMessageMuteList=function(){return this.hasUserService?Zt.resolve(ma(this.core.V2NIMUserService.model.muteList)):Zt.resolve([])},sa(p,[{key:"hasUserService",get:function(){var o;return!!(!((o=this.core.V2NIMUserService)===null||o===void 0)&&o.name)}},{key:"hasTeamService",get:function(){var o;return!!(!((o=this.core.V2NIMTeamService)===null||o===void 0)&&o.name)}}]),p}(),Sne=function(){function p(y,f){this.core=y,this.service=f,this.push=f.push,this.mute=f.mute}return p.prototype.setListener=function(){var f,o,a,l=this;this.core.eventBus.on("V2NIMSettingService/updateBits",function(c,u,h){l.service.emit("onTeamMessageMuteModeChanged",c,u,h)}),this.core.eventBus.on("V2NIMLoginService/loginLifeCycleLoginSucc",cn(f=this.push.setTokenAndBackgroundStateAfterLogin).call(f,this.push)),this.core.eventBus.on("v2NIMUserService/updateMuteList",cn(o=this.mute.p2pMessageMuteModeChangeHandler).call(o,this.mute)),this.core.eventBus.on("forwardReceive/v2NIMSettingService/setP2PMessageMuteMode",cn(a=this.mute.p2pMessageMuteModeChangeHandler).call(a,this.mute))},p}(),Ine=function(p){function y(o){var a;return(a=p.call(this,"V2NIMSettingService",o)||this).needToPushMobileOnDesktopOnline=!0,a.core._registerDep(Vf,"V2NIMConversationIdUtil"),a.push=new yne(o,er(a)),a.mute=new bne(o,er(a)),a.event=new Sne(o,er(a)),a.handler=new dne(o,er(a)),a.core.options.apiVersion!=="v2"?er(a):(a.setListener(),Wr({cmdMap:cne,cmdConfig:une}),a)}pr(y,p);var f=y.prototype;return f.setListener=function(){this.event.setListener()},f.emit=function(a){for(var l,c,u,h,C=this.name+"::emit "+a.toString(),x=arguments.length,k=new Array(x>1?x-1:0),B=1;B<x;B++)k[B-1]=arguments[B];return(l=this.logger).log.apply(l,Bn(c=[""+C]).call(c,k)),(u=p.prototype.emit).call.apply(u,Bn(h=[this,a]).call(h,k))},f.getConversationMuteStatus=function(a){return this.mute.getConversationMuteStatus(a)},f.setTeamMessageMuteMode=function(a,l,c){if(!this.hasTeamService)throw new Ct({code:it.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"setTeamMessageMuteMode: no team service"}});return this.checkV2(),ge(eo,{teamId:a},"",!0),ge(Gi,{teamType:l},"",!0),ge(one,{muteMode:c},"",!0),this.mute.setTeamMessageMuteMode(a,l,c)},f.getTeamMessageMuteMode=function(a,l){return this.mute.getTeamMessageMuteMode(a,l)},f.getAllTeamMessageMuteMode=function(a){return this.checkV2(),this.checkLogin(),ge(Gi,{teamType:a},"",!0),this.mute.getAllTeamMessageMuteMode(a)},f.setP2PMessageMuteMode=function(a,l){if(this.checkV2(),ge(sne,{accountId:a,muteMode:l},"",!0),a===this.core.account)throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"can not set mute mode for self"}});return this.mute.setP2PMessageMuteMode(a,l)},f.getP2PMessageMuteMode=function(a){return ge({accountId:{type:"string",required:!0,allowEmpty:!1}},{accountId:a},"",!0),this.mute.getP2PMessageMuteMode(a)},f.getP2PMessageMuteList=function(){return this.mute.getP2PMessageMuteList()},f.setAppBackground=function(a,l){return this.checkV2(),ge({isBackground:{type:"boolean"},badge:{type:"number",required:!1}},{isBackground:a,badge:l},"",!0),this.push.setAppBackground(a,l)},f.setOfflinePushConfig=function(a,l){ge(lne,{config:l},"",!0),this.push.setOfflinePushConfig(a,l)},f.setPushMobileOnDesktopOnline=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkV2(),ge({need:{type:"boolean",required:!1}},{need:a},"",!0),a=a===void 0||a,u.next=5,this.core.sendCmd("v2SetPushMobileOnDesktopOnline",{tag:{need:a}});case 5:this.needToPushMobileOnDesktopOnline=a,this.emit("onPushMobileOnDesktopOnline",a);case 7:case"end":return u.stop()}},l,this)}))},f.getPushMobileOnDesktopOnline=function(){return this.checkLogin(),Zt.resolve(this.needToPushMobileOnDesktopOnline)},sa(y,[{key:"hasUserService",get:function(){var a;return!!(!((a=this.core.V2NIMUserService)===null||a===void 0)&&a.name)}},{key:"hasTeamService",get:function(){var a;return!!(!((a=this.core.V2NIMTeamService)===null||a===void 0)&&a.name)}}]),y}(ji);Lt({target:"Number",stat:!0},{isNaN:function(y){return y!=y}});var Ene=fe.Number.isNaN;function as(p){p=p||{};var y={};for(var f in p)y[p[f]]=f;return y}var US,Cne=as({none:0,normal:1,all:3}),z$={normal:0,advanced:1},Tne=as(z$),Mne=as({normal:0,owner:1,manager:2}),H$={noVerify:0,needVerify:1,rejectAll:2},_ne=as(H$),G$={needVerify:0,noVerify:1},xne=as(G$),K$={manager:0,all:1},wne=as(K$),W$={manager:0,all:1},Nne=as(W$),Y$={manager:0,all:1},Rne=as(Y$);function Hp(p){var y,f=["teamId"],o=["level","memberNum","memberUpdateTime","createTime","updateTime"],a=["valid","validToCurrentUser","mute"],l={type:Tne,muteType:Cne,joinMode:_ne,beInviteMode:xne,inviteMode:wne,updateTeamMode:Nne,updateExtMode:Rne};p.bits;var c=Ja(p,["bits"]);return rt(f).call(f,function(u){c[u]&&(c[u]=c[u].toString())}),rt(o).call(o,function(u){c[u]!==void 0&&(c[u]=un(c[u]))}),rt(a).call(a,function(u){c[u]!==void 0&&(c[u]=un(c[u])===1)}),rt(y=Gn(l)).call(y,function(u){c[u]!==void 0&&(c[u]=l[u][c[u]]||c[u])}),c}function Qx(p){return p&&p.length>0?Qe(p).call(p,function(y){return Hp(y)}):[]}function Zx(p){var y,f=ce({},p),o=["avatar","name","intro","announcement","ext"],a={type:z$,joinMode:H$,beInviteMode:G$,inviteMode:K$,updateTeamMode:W$,updateExtMode:Y$};return rt(o).call(o,function(l){f[l]!==void 0&&(f[l]=f[l].toString())}),rt(y=Gn(a)).call(y,function(l){f[l]!==void 0&&(f[l]=a[l][f[l]])}),f}function X$(p){var y=["teamId","ext","account","nickInTeam"],f={};return p.bitConfigMask!==void 0&&(f.bits=un(p.bitConfigMask)),rt(y).call(y,function(o){p[o]&&(f[o]=p[o].toString())}),Object.prototype.hasOwnProperty.call(p,"nickInTeam")&&(f.nickInTeam=p.nickInTeam),f}function Ev(p){var y,f=["teamId"],o=["joinTime","updateTime","bitConfigMask"],a=["active","valid","mute"],l={type:Mne},c=p.bits,u=Ja(p,["bits"]);return c!==void 0&&(u.muteTeam=un(c)===1,u.bitConfigMask=c),u.id=u.teamId+"-"+u.account,rt(f).call(f,function(h){u[h]&&(u[h]=u[h].toString())}),rt(o).call(o,function(h){u[h]!==void 0&&(u[h]=un(u[h]))}),rt(a).call(a,function(h){u[h]!==void 0&&(u[h]=un(u[h])===1)}),rt(y=Gn(l)).call(y,function(h){u[h]!==void 0&&(u[h]=l[h][u[h]]||u[h])}),u}function J$(p){return p&&p.length>0?Qe(p).call(p,function(y){return Ev(y)}):[]}function Q$(p,y,f){return f===void 0&&(f="normal"),{id:p.teamId+"-"+y,teamId:p.teamId,account:y,type:f,nickInTeam:"",muteTeam:!1,mute:!1,joinTime:p.memberUpdateTime,updateTime:p.memberUpdateTime,active:!0,valid:!0}}function Ane(p,y,f){return f===void 0&&(f="normal"),y&&y.length>0?Qe(y).call(y,function(o){return Q$(p,o,f)}):[]}function Cv(p){var y=ce({},p);return y.createTime&&(y.createTime=+y.createTime),y.updateTime&&(y.updateTime=+y.updateTime),y.gender&&(y.gender=US[+y.gender]),y}(function(p){p[p.unknown=0]="unknown",p[p.male=1]="male",p[p.female=2]="female"})(US||(US={}));var One={"8_1":"createTeam","8_5":"addTeamMembers","8_6":"removeTeamMembers","8_7":"updateTeamInfo","8_8":"leaveTeam","8_9":"getTeamInfo","8_10":"getTeams","8_11":"getTeamMembers","8_12":"dismissTeam","8_13":"applyTeam","8_14":"passTeamApply","8_15":"rejectTeamApply","8_16":"addTeamManagers","8_17":"removeTeamManagers","8_18":"transferTeam","8_19":"updateMyMemberInfo","8_20":"updateNickInTeam","8_21":"acceptTeamInvite","8_22":"rejectTeamInvite","8_25":"muteTeamMember","8_27":"getMutedTeamMembers","8_28":"sendTeamMsgReceipt","8_29":"getTeamMsgReads","8_30":"getTeamMsgReadAccounts","8_31":"notifyTeamMsgReceipts","8_32":"muteTeam","8_33":"getTeamMemberInvitorAccid","8_34":"getTeamsById","8_101":"syncCreateTeam","8_109":"syncTeams","8_119":"syncUpdateTeamMember","8_126":"syncMyTeamMembers"},Sc={team:{teamId:1,name:3,type:4,owner:5,level:6,selfCustom:7,valid:8,memberNum:9,memberUpdateTime:10,createTime:11,updateTime:12,validToCurrentUser:13,intro:14,announcement:15,joinMode:16,bits:17,ext:18,serverExt:19,avatar:20,beInviteMode:21,inviteMode:22,updateTeamMode:23,updateExtMode:24,mute:100,muteType:101},teamMsgReceiptTag:{teamId:0,idServer:1,read:100,unread:101,idClient:102,account:103},teamMember:{teamId:1,account:3,type:4,nickInTeam:5,bits:7,active:8,valid:9,joinTime:10,updateTime:11,ext:12,mute:13,invitorAccid:14}},Lo=po(Sc),kne={getTeamInfo:{sid:8,cid:9,service:"team",params:[{type:"Long",name:"teamId"}],response:[{type:"Property",name:"team",reflectMapper:Lo.team}]},getTeams:{sid:8,cid:10,service:"team",params:[{type:"Long",name:"timetag"}],response:[{type:"PropertyArray",name:"teams",reflectMapper:Lo.team},{type:"Long",name:"timetag"}],ignoreErrCodes:[803]},createTeam:{sid:8,cid:1,service:"team",params:[{type:"Property",name:"team",reflectMapper:Sc.team},{type:"StrArray",name:"accounts"},{type:"String",name:"ps"}],response:[{type:"Property",name:"team",reflectMapper:Lo.team},{type:"StrArray",name:"abortedAccidList"}]},sendTeamMsgReceipt:{sid:8,cid:28,service:"team",params:[{type:"PropertyArray",name:"teamMsgReceipts",reflectMapper:Sc.teamMsgReceiptTag}],response:[{type:"PropertyArray",name:"teamMsgReceipts",reflectMapper:Lo.teamMsgReceiptTag}]},getTeamMsgReads:{sid:8,cid:29,service:"team",params:[{type:"PropertyArray",name:"teamMsgReceipts",reflectMapper:Sc.teamMsgReceiptTag}],response:[{type:"PropertyArray",name:"teamMsgReceipts",reflectMapper:Lo.teamMsgReceiptTag}]},getTeamMsgReadAccounts:{sid:8,cid:30,service:"team",params:[{type:"Property",name:"teamMsgReceiptTag",reflectMapper:Sc.teamMsgReceiptTag}],response:[{type:"Property",name:"teamMsgReceipt",reflectMapper:Lo.teamMsgReceiptTag},{type:"StrArray",name:"readAccounts"},{type:"StrArray",name:"unreadAccounts"}]},notifyTeamMsgReceipts:{sid:8,cid:31,service:"team",response:[{type:"PropertyArray",name:"teamMsgReceipts",reflectMapper:Lo.teamMsgReceiptTag}]},dismissTeam:{sid:8,cid:12,service:"team",params:[{type:"Long",name:"teamId"}]},leaveTeam:{sid:8,cid:8,service:"team",params:[{type:"Long",name:"teamId"}]},transferTeam:{sid:8,cid:18,service:"team",params:[{type:"Long",name:"teamId"},{type:"String",name:"account"},{type:"Bool",name:"leave"}]},updateTeamInfo:{sid:8,cid:7,service:"team",params:[{type:"Property",name:"team",reflectMapper:Sc.team}],response:[{type:"Long",name:"id"},{type:"Long",name:"time"}]},getTeamsById:{sid:8,cid:34,service:"team",params:[{type:"LongArray",name:"teamIds"}],response:[{type:"PropertyArray",name:"teams",reflectMapper:Lo.team},{type:"LongArray",name:"tids"}],ignoreErrCodes:[816]},getTeamMembers:{sid:8,cid:11,service:"team",params:[{type:"Long",name:"teamId"},{type:"Long",name:"timetag"}],response:[{type:"Long",name:"teamId"},{type:"PropertyArray",name:"teamMembers",reflectMapper:Lo.teamMember},{type:"Long",name:"timetag"}]},getMutedTeamMembers:{sid:8,cid:27,service:"team",params:[{type:"Long",name:"teamId"}],response:[{type:"Long",name:"teamId"},{type:"PropertyArray",name:"teamMembers",reflectMapper:Lo.teamMember}]},addTeamMembers:{sid:8,cid:5,service:"team",params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"},{type:"String",name:"ps"},{type:"String",name:"attach"}],response:[{type:"Long",name:"time"},{type:"StrArray",name:"abortedAccidList"}]},removeTeamMembers:{sid:8,cid:6,service:"team",params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}]},applyTeam:{sid:8,cid:13,service:"team",params:[{type:"Long",name:"teamId"},{type:"String",name:"ps"}],response:[{type:"Property",name:"team",reflectMapper:Lo.team}]},addTeamManagers:{sid:8,cid:16,service:"team",params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}]},removeTeamManagers:{sid:8,cid:17,service:"team",params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}]},updateMyMemberInfo:{sid:8,cid:19,service:"team",params:[{type:"Property",name:"teamMember",reflectMapper:Sc.teamMember}]},updateNickInTeam:{sid:8,cid:20,service:"team",params:[{type:"Property",name:"teamMember",reflectMapper:Sc.teamMember}]},muteTeamMember:{sid:8,cid:25,service:"team",params:[{type:"Long",name:"teamId"},{type:"String",name:"account"},{type:"Int",name:"mute"}]},getTeamMemberInvitorAccid:{sid:8,cid:33,service:"team",params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}],response:[{type:"StrStrMap",name:"accountsMap"}]},muteTeam:{sid:8,cid:32,service:"team",params:[{type:"Long",name:"teamId"},{type:"Int",name:"mute"}]},passTeamApply:{sid:8,cid:14,service:"team",params:[{type:"Long",name:"teamId"},{type:"String",name:"from"}]},rejectTeamApply:{sid:8,cid:15,service:"team",params:[{type:"Long",name:"teamId"},{type:"String",name:"from"},{type:"String",name:"ps"}]},acceptTeamInvite:{sid:8,cid:21,service:"team",params:[{type:"Long",name:"teamId"},{type:"String",name:"from"}]},rejectTeamInvite:{sid:8,cid:22,service:"team",params:[{type:"Long",name:"teamId"},{type:"String",name:"from"},{type:"String",name:"ps"}]},syncTeams:{sid:8,cid:109,service:"team",response:[{type:"Long",name:"timetag"},{type:"PropertyArray",name:"teams",reflectMapper:Lo.team}]},syncCreateTeam:{sid:8,cid:101,service:"team",response:[{type:"Property",name:"team",reflectMapper:Lo.team}]},syncUpdateTeamMember:{sid:8,cid:119,service:"team",response:[{type:"Property",name:"teamMember",reflectMapper:Lo.teamMember}]},syncMyTeamMembers:{sid:8,cid:126,ext:"sync",service:"team",response:[{type:"PropertyArray",name:"teamMembers",entity:"teamMember",reflectMapper:Lo.teamMember},{type:"Long",name:"timetag"}]}},Lne={"3_7":"getUsersNameCardFromServer","3_10":"updateMyNameCard","3_109":"syncMyNameCard","3_110":"onUpdateMyNameCard","3_3":"setBlack","3_103":"onUpdateBlackList","3_5":"setMute","3_105":"onUpdateMuteList","3_8":"syncRelations"},ew={user:{account:1,nick:3,avatar:4,signature:5,gender:6,email:7,birth:8,tel:9,ext:10,createTime:12,updateTime:13},relationMember:{account:0,isMuted:1,isBlack:2,createTime:3,updateTime:4}},BS=po(ew),Pne={syncMyNameCard:{sid:3,cid:109,service:"user",response:[{type:"Property",name:"user",reflectMapper:BS.user},{type:"Long",name:"timetag"}]},setBlack:{service:"user",sid:3,cid:3,params:[{type:"String",name:"account"},{type:"Bool",name:"isAdd"}]},onUpdateBlackList:{service:"user",sid:3,cid:103,response:[{type:"String",name:"account"},{type:"Bool",name:"isAdd"}]},setMute:{service:"user",sid:3,cid:5,params:[{type:"String",name:"account"},{type:"Bool",name:"isAdd"}]},onUpdateMuteList:{service:"user",sid:3,cid:105,response:[{type:"String",name:"account"},{type:"Bool",name:"isAdd"}]},syncRelations:{service:"user",sid:3,cid:8,params:[{type:"Long",name:"timetag"}],response:[{type:"PropertyArray",name:"list",reflectMapper:BS.relationMember},{type:"Long",name:"timetag"}]},getUsersNameCardFromServer:{service:"user",sid:3,cid:7,params:[{type:"StrArray",name:"accounts"}],response:[{type:"PropertyArray",name:"users",reflectMapper:BS.user}]},updateMyNameCard:{service:"user",sid:3,cid:10,params:[{type:"Property",name:"user",reflectMapper:ew.user}],response:[{type:"Long",name:"timetag"}]},onUpdateMyNameCard:{service:"user",sid:3,cid:110,response:[{type:"Property",name:"user",reflectMapper:BS.user}]}},Z$={needPush:{type:"boolean",required:!1},needPushBadge:{type:"boolean",required:!1},needPushNick:{type:"boolean",required:!1},pushContent:{type:"string",required:!1},pushPayload:{type:"string",required:!1},needForcePush:{type:"boolean",required:!1},forcePushIDsList:{type:"string",allowEmpty:!1,required:!1},forcePushContent:{type:"string",allowEmpty:!1,required:!1}},eU={function:{type:"string",required:!1},topic:{type:"string",required:!1},customContent:{type:"string",required:!1},account:{type:"string",required:!1}};function Dne(p,y){var f,o=Ma!==void 0&&Eo(p)||p["@@iterator"];if(o)return cn(f=(o=o.call(p)).next).call(f,o);if(Nr(p)||(o=function(c,u){if(c){var h;if(typeof c=="string")return tU(c,u);var C=zn(h={}.toString.call(c)).call(h,8,-1);return C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set"?ma(c):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?tU(c,u):void 0}}(p))||y){o&&(p=o);var a=0;return function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tU(p,y){(y==null||y>p.length)&&(y=p.length);for(var f=0,o=Array(y);f<y;f++)o[f]=p[f];return o}var nU={subType:{type:"string"},setting:{resendFlag:{type:"boolean"},envConfig:{type:"string"},needSaveHistory:{type:"boolean"},needRoaming:{type:"boolean"},needOffline:{type:"boolean"},needSelfSync:{type:"boolean"},needRouted:{type:"boolean"},needUpdateSession:{type:"boolean"},isMuted:{type:"boolean"}},antiSpamInfo:{needAntiSpam:{type:"boolean"},antiSpamContent:{type:"string"},antiSpamBIZID:{type:"string"},clientAntispamHitting:{type:"boolean"},antiSpamUsingYidun:{type:"boolean"},yidunCallbackURL:{type:"string"},yidunAntiCheating:{type:"string"},yidunAntiSpamExtension:{type:"string"},yidunAntiSpamResult:{type:"string"}},pushInfo:Z$,robotInfo:eU,teamSpecializationInfo:{needACK:{type:"boolean"},isACKSent:{type:"boolean"},ackSnapshot:{type:"number"}},threadMessageInfo:{replyMsgFromAccount:{type:"string"},replyMsgToAccount:{type:"string"},replyMsgTime:{type:"number"},replyMsgIdServer:{type:"string"},replyMsgIdClient:{type:"string"},threadMsgFromAccount:{type:"string"},threadMsgToAccount:{type:"string"},threadMsgTime:{type:"number"},threadMsgIdServer:{type:"string"},threadMsgIdClient:{type:"string"}}},jne={0:"addTeamMembers",1:"removeTeamMembers",2:"leaveTeam",3:"updateTeam",4:"dismissTeam",5:"passTeamApply",6:"transferTeam",7:"addTeamManagers",8:"removeTeamManagers",9:"acceptTeamInvite",10:"updateTeamMemberMute",101:"netcallMiss",102:"netcallBill",103:"netcallReject",401:"addSuperTeamMembers",402:"removeSuperTeamMembers",403:"leaveSuperTeam",404:"updateSuperTeam",405:"dismissSuperTeam",406:"transferSuperTeam",407:"addSuperTeamManagers",408:"removeSuperTeamManagers",409:"updateSuperTeamMembersMute",410:"passSuperTeamApply",411:"acceptSuperTeamInvite"};function Gp(p,y){return Qi[p.scene]+"-"+(p.to===y?p.from:p.to)}function Vne(p,y){return p.from===y?p.to===y?"in":"out":"in"}function ll(p,y){var f=y.account,o=y.featureValue,a=y.statusValue,l=y.sessionAck,c=y.msgReceiptTime,u=Qi[p.scene],h=p.to===f?p.from:p.to,C=Pl.default,x=yi.unread;un(p.isInBlackList)>0?(x=yi.refused,delete p.isInBlackList):x=p.from===f?c&&c>=+p.time?yi.receipt:yi.sent:l&&l>=+p.time?yi.read:yi.unread;var k=ce(ce({},oa(nU,p)),{scene:u,type:jp[p.type],fromClientType:cv[p.fromClientType],flow:Vne(p,f),target:h,to:p.to,from:p.from,time:p.time?+p.time:void 0,userUpdateTime:p.userUpdateTime?+p.userUpdateTime:void 0,idClient:p.idClient,sessionId:u+"-"+h,status:yi[a||x],feature:Pl[o||C]});if(typeof k.attach=="string")try{k.attach=JSON.parse(k.attach)}catch{}return k.type==="notification"&&(k.attach=k.attach?function(W){var Y,ne={};if(ne.type=jne[W.id]||W.id,!W.data)return ne;var se,xe={ids:"accounts",id:"account",attach:"custom",channel:"channelId",calltype:"netcallType",mute:"mute",duration:"duration",time:"time",from:"from",ext:"ext"},we=W.data;return rt(Y=Gn(xe)).call(Y,function($e){we[$e]!==void 0&&(ne[xe[$e]]=we[$e])}),we.tinfo&&(ne.team=Hp(Rr(we.tinfo,Lo.team))),we.uinfos&&(ne.users=Qe(se=we.uinfos).call(se,function($e){return Cv(Rr($e,BS.user))})),we.mute!==void 0&&(ne.mute=un(we.mute)===1),ne}(k.attach):{}),k}function tw(p,y){return p&&p.length>0?rU(Qe(p).call(p,function(f){return ll(f,y)})):[]}function rU(p){for(var y,f,o={},a=Dne(p);!(f=a()).done;){var l=f.value,c=o[l.idClient];c&&c.time>l.time||(o[l.idClient]=l)}return Qe(y=Gn(o)).call(y,function(u){return o[u]})}function aU(p,y){y===void 0&&(y=!0);var f=ce({},p);if(f.pushInfo&&y){for(var o in f.pushInfo)typeof f.pushInfo[o]=="boolean"?f[o]=f.pushInfo[o]?1:0:f[o]=f.pushInfo[o];delete f.pushInfo}return f.scene===Qi.team&&f.needForcePush&&(f.forcePushContent=f.forcePushContent||f.pushContent,f.forcePushIDsList=f.forcePushIDsList?f.forcePushIDsList:"#%@all@%#"),f}function PC(p,y,f,o){p.onSendBefore,p.onUploadStart,p.onUploadDone;var a=p.replyMsg,l=Ja(p,["onSendBefore","onUploadStart","onUploadDone","replyMsg"]),c=ce(ce({},ud(nU,l)),{scene:Qi[p.scene],type:jp[p.type],from:y,fromClientType:16,fromDeviceId:f,fromNick:o==null?void 0:o.nick,userUpdateTime:o==null?void 0:o.updateTime,status:yi[yi.sending]});if(c.idClient=c.resendFlag?p.idClient:ai(),!c.idClient)throw new yS("idClient is required to resend a message","idClient","required");return c=aU(c,!1),a&&(c.replyMsgFromAccount=a.from,c.replyMsgToAccount=a.to,c.replyMsgTime=+a.time,c.replyMsgIdServer=a.idServer,c.replyMsgIdClient=a.idClient,c.threadMsgFromAccount=a.from,c.threadMsgToAccount=a.to,c.threadMsgTime=+a.time,c.threadMsgIdServer=a.idServer,c.threadMsgIdClient=a.idClient,a.threadMessageInfo&&a.threadMessageInfo.threadMsgIdServer&&(c.threadMsgFromAccount=a.threadMessageInfo.threadMsgFromAccount,c.threadMsgToAccount=a.threadMessageInfo.threadMsgToAccount,c.threadMsgTime=a.threadMessageInfo.threadMsgTime,c.threadMsgIdServer=a.threadMessageInfo.threadMsgIdServer,c.threadMsgIdClient=a.threadMessageInfo.threadMsgIdClient)),c}function Hf(p,y){return Qe(p).call(p,function(f){var o;return o=y||(Ene(un(f.scene))?f.scene:un(f.scene)===1?"p2p":"team"),{deletedTime:un(f.time),from:f.from,idClient:f.deletedIdClient||f.idClient,idServer:f.deletedIdServer||f.idServer,scene:o,time:un(f.deletedMsgCreateTime),to:f.to,ext:typeof f.ext=="string"?f.ext:null}})}function $ne(p){for(var y=[],f=(p=p||[]).length-1;f>=0;f--)y.push(p[f]);return y}var Kp,Sd,Gf,Une=function(){function p(y){this.core=y}return p.prototype.processBroadcastMsg=function(f){var o=Qe(f).call(f,function(a){return ce(ce({},a),{time:un(a.time)})});return this.core.sendCmd("batchMarkRead",{sid:7,cid:17,ids:Qe(o).call(o,function(a){return a.id})}),o},p}(),nw={needPush:{type:"boolean",required:!1},needPushBadge:{type:"boolean",required:!1},needPushNick:{type:"boolean",required:!1},pushContent:{type:"string",allowEmpty:!1,required:!1},pushPayload:{type:"string",allowEmpty:!1,required:!1}},iU={pushContent:8,pushPayload:9,needPush:107,needPushBadge:109,needPushNick:110},Bne={"4_4":"syncOfflineMsgs","4_9":"syncRoamingMsgs","4_17":"syncRoamingMsgs","4_21":"syncDeleteSelfMsgs","7_1":"sendMsg","8_23":"getHistoryTeamMsgs","21_14":"getHistorySuperTeamMsgs","8_2":"sendTeamMsg","21_2":"sendSuperTeamMsg","7_11":"sendMsgReceipt","7_13":"recallMsg","7_24":"deleteSelfMsgs","21_17":"recallSuperTeamMsg","7_2":"onMsg","8_3":"onMsg","21_3":"onMsg","7_101":"onMsg","8_102":"onMsg","21_102":"onMsg","8_4":"nimOnTeamMsgs","4_16":"syncBroadcastMsg","7_17":"onBroadcastMsg","7_123":"onDeleteSelfMsg","7_124":"onDeleteSelfMsgs"},Wp=ce(ce({scene:0,to:1,from:2,fromClientType:4,fromDeviceId:5,fromNick:6,time:7,type:8,body:9,attach:10,idClient:11,idServer:12,resendFlag:13,userUpdateTime:14,ext:15,needAntiSpam:21,antiSpamContent:22,antiSpamBIZID:23,clientAntispamHitting:24,antiSpamUsingYidun:25,needACK:26,yidunCallbackURL:27,needUpdateSession:28,replyMsgFromAccount:29,replyMsgToAccount:30,replyMsgTime:31,replyMsgIdServer:32,replyMsgIdClient:33,threadMsgFromAccount:34,threadMsgToAccount:35,threadMsgTime:36,threadMsgIdServer:37,threadMsgIdClient:38,isDeleted:39,callbackExt:40,subType:41,yidunAntiCheating:42,envConfig:43,yidunAntiSpamExtension:44,yidunAntiSpamResult:45,__clientExt:{id:46,converter:yc,retConverter:cd},needSaveHistory:100,needRoaming:101,needSelfSync:102,isMuted:104,needRouted:105,isInBlackList:106,needOffline:108,isReplyMsg:111,ackSnapshot:112},{pushContent:17,pushPayload:16,forcePushIDsList:18,forcePushContent:19,needForcePush:20,needPush:107,needPushBadge:109,needPushNick:110}),{function:47,topic:48,customContent:49,account:50}),hu={msg:Wp,recallMsgTag:ce({time:0,type:1,to:2,from:3,ps:4,attach:5,deletedIdClient:10,deletedIdServer:11,deleteMsgCreatetime:14,opeAccount:16,env:21},iU),deleteSelfMsgTag:{scene:1,from:2,to:3,idServer:4,idClient:5,deletedMsgCreateTime:6,time:7,ext:8},msgReceiptTag:{to:1,from:2,time:7,idClient:11},broadcastMsg:{id:1,fromAccid:2,time:4,body:5}},fo=po(hu),Fne={sendMsg:{sid:7,cid:1,service:"msg",params:[{type:"Property",name:"msg",reflectMapper:hu.msg}],response:[{type:"Property",name:"msg",reflectMapper:fo.msg}],ignoreErrCodes:[7101]},sendTeamMsg:{sid:8,cid:2,service:"msg",params:[{type:"Property",name:"msg",reflectMapper:hu.msg}],response:[{type:"Property",name:"msg",reflectMapper:fo.msg}]},sendSuperTeamMsg:{sid:21,cid:2,service:"msg",params:[{type:"Property",name:"msg",reflectMapper:hu.msg}],response:[{type:"Property",name:"msg",reflectMapper:fo.msg}]},onMsg:{sid:7,cid:2,service:"msg",response:[{type:"Property",name:"msg",reflectMapper:fo.msg}]},nimOnTeamMsgs:{sid:8,cid:4,service:"msg",response:[{type:"PropertyArray",name:"datas",reflectMapper:fo.msg}]},getHistoryTeamMsgs:{sid:8,cid:23,service:"msg",params:[{type:"Long",name:"to"},{type:"Long",name:"beginTime"},{type:"Long",name:"endTime"},{type:"Long",name:"lastMsgId"},{type:"Int",name:"limit"},{type:"Bool",name:"reverse"},{type:"LongArray",name:"msgTypes"}],response:[{type:"PropertyArray",name:"msgs",reflectMapper:fo.msg}]},getHistorySuperTeamMsgs:{sid:21,cid:14,params:[{type:"Long",name:"to"},{type:"Long",name:"beginTime"},{type:"Long",name:"endTime"},{type:"Long",name:"lastMsgId"},{type:"Int",name:"limit"},{type:"Bool",name:"reverse"},{type:"LongArray",name:"msgTypes"}],response:[{type:"PropertyArray",name:"msgs",reflectMapper:fo.msg}],service:"msg"},recallMsg:{sid:7,cid:13,service:"msg",params:[{type:"Property",name:"recallMsgTag",reflectMapper:hu.recallMsgTag}]},deleteSelfMsgs:{sid:7,cid:24,service:"msg",params:[{type:"PropertyArray",name:"deletedMsgs",reflectMapper:hu.deleteSelfMsgTag}],response:[{type:"Long",name:"timetag"}]},recallSuperTeamMsg:{sid:21,cid:17,service:"msg",params:[{type:"Property",name:"recallMsgTag",reflectMapper:hu.recallMsgTag}]},sendMsgReceipt:{sid:7,cid:11,service:"msg",params:[{type:"Property",name:"msgReceiptTag",reflectMapper:hu.msgReceiptTag}],response:[{type:"Property",name:"msgReceiptTag",reflectMapper:fo.msgReceiptTag}]},batchMarkRead:{sid:4,cid:5,service:"msg",hasPacketResponse:!1,params:[{type:"Byte",name:"sid"},{type:"Byte",name:"cid"},{type:"LongArray",name:"ids"}]},syncMsgReceipts:{sid:4,cid:12,service:"msg",response:[{type:"PropertyArray",name:"msgReceipts",reflectMapper:fo.msgReceiptTag},{type:"Long",name:"timetag"}]},syncOfflineMsgs:{sid:4,cid:4,service:"msg",response:[{type:"PropertyArray",name:"msgs",reflectMapper:fo.msg}]},syncRoamingMsgs:{sid:4,cid:9,service:"msg",response:[{type:"PropertyArray",name:"msgs",reflectMapper:fo.msg}]},syncBroadcastMsg:{sid:4,cid:16,service:"msg",response:[{type:"PropertyArray",name:"msgs",reflectMapper:fo.broadcastMsg}]},onBroadcastMsg:{sid:7,cid:17,service:"msg",response:[{type:"Property",name:"msg",reflectMapper:fo.broadcastMsg}]},onDeleteSelfMsg:{sid:7,cid:123,service:"msg",response:[{type:"Property",name:"deletedMsg",reflectMapper:fo.deleteSelfMsgTag}]},onDeleteSelfMsgs:{sid:7,cid:124,service:"msg",response:[{type:"PropertyArray",name:"deletedMsgs",reflectMapper:fo.deleteSelfMsgTag}]},syncDeleteSelfMsgs:{sid:4,cid:21,service:"msg",response:[{type:"PropertyArray",name:"deletedMsgs",reflectMapper:fo.deleteSelfMsgTag}]}};(function(p){p[p.none=0]="none",p[p.pass=1]="pass",p[p.decline=2]="decline",p[p.read=3]="read",p[p.deleted=4]="deleted",p[p.invalid=5]="invalid"})(Kp||(Kp={})),function(p){p[p.default=0]="default",p[p.leave=1]="leave",p[p.roam=2]="roam"}(Sd||(Sd={})),function(p){p[p.applyTeam=0]="applyTeam",p[p.rejectTeamApply=1]="rejectTeamApply",p[p.teamInvite=2]="teamInvite",p[p.rejectTeamInvite=3]="rejectTeamInvite",p[p.friendRequest=5]="friendRequest",p[p.deleteFriend=6]="deleteFriend",p[p.recallMsgP2p=7]="recallMsgP2p",p[p.recallMsgTeam=8]="recallMsgTeam",p[p.recallMsgSuperTeam=12]="recallMsgSuperTeam",p[p.deleteMsgP2pOneWay=13]="deleteMsgP2pOneWay",p[p.deleteMsgTeamOneWay=14]="deleteMsgTeamOneWay",p[p.applySuperTeam=15]="applySuperTeam",p[p.rejectSuperTeamApply=16]="rejectSuperTeamApply",p[p.superTeamInvite=17]="superTeamInvite",p[p.rejectSuperTeamInvite=18]="rejectSuperTeamInvite",p[p.customP2p=100]="customP2p",p[p.customTeam=101]="customTeam",p[p.customSuperTeam=103]="customSuperTeam"}(Gf||(Gf={}));var qne={1:"addFriend",2:"applyFriend",3:"passFriendApply",4:"rejectFriendApply"},oU={setting:{needSaveOffline:{type:"boolean"},isRoutable:{type:"boolean"},envConfig:{type:"string"}},antiSpamInfo:{needAntiSpam:{type:"boolean"},antiSpamContent:{type:"boolean"}},pushInfo:nw,recallMessageInfo:{idClient:{type:"string",rawKey:"deletedIdClient"},idServer:{type:"string",rawKey:"deletedIdServer"},createTime:{type:"number",rawKey:"deletedMsgCreateTime"},fromNick:{type:"string",rawKey:"deletedMsgFromNick"},opeAccount:{type:"string"}}};function FS(p,y,f){var o=+p.type,a=hc(Gf,o);f=f||Sd.default;var l=ce(ce({},oa(oU,p)),{type:a,time:+p.time,to:p.to,from:p.from,idServer:p.idServer,state:Kp[Kp.none],feature:Sd[f]});if(l.idServer==="0"&&l.setting&&(l.setting.needSaveOffline=!1),typeof l.attach=="string")try{l.attach=JSON.parse(l.attach)}catch(c){y.error("formatSystemMessage: "+l.idServer+" parse attach error",c&&c.message)}return o===5&&l.attach?(l.attach.type=qne[+l.attach.vt],l.attach.type==="passFriendApply"?l.state=Kp[Kp.pass]:l.attach.type==="rejectFriendApply"&&(l.state=Kp[Kp.decline])):o<=3&&l.attach&&(l.attach=function(u){var h=u.attach,C=u.tinfo,x=Ja(u,["attach","tinfo"]);return x.ext=h,C!==void 0&&(x.team=Hp(Rr(u.tinfo,Lo.team))),x}(l.attach)),l}function zne(p){var y=ce({},p);return ce(ce({},ud(oU,y)),{type:Gf[y.type],to:y.to,attach:y.attach})}function sU(p){return p===Gf.recallMsgP2p?"p2p":p===Gf.recallMsgTeam?"team":p===Gf.recallMsgSuperTeam?"superTeam":""}var Hne=function(p){function y(o){var a;return(a=p.call(this,"msg",o)||this).onV2SendMessage=function(l){var c=ll(l,{account:a.core.account,featureValue:Pl.default});c.status=l.status,a.core.eventBus.emit("session/updateForNewMsg",c)},a.onV2ModifyMessage=function(l){var c,u=Qi[l.scene]+"-"+(l.to===a.core.account?l.from:l.to),h=(c=a.core.session)===null||c===void 0?void 0:c.getSessionWithUncomplete({id:u}),C=ll(l,h?{account:a.core.account,sessionAck:h.ack,msgReceiptTime:h.msgReceiptTime}:{account:a.core.account});a.core.eventBus.emit("session/updateForModifyMsg",C)},a.onV2RecallMsg=function(l){var c=Hf([l],sU(+l.type));a.core.eventBus.emit("session/updateForDeletedMsg",c)},a.onV2DeleteSelfMsgs=function(l){var c=Hf(l);a.core.eventBus.emit("session/updateForDeletedMsg",c)},a.service=new Une(o),Wr({cmdMap:Bne,cmdConfig:Fne}),a.registerListener(),a}pr(y,p);var f=y.prototype;return f.registerListener=function(){this.core.eventBus.on("forwardReceive/msg/sendMsg",this.onV2SendMessage),this.core.eventBus.on("forwardReceive/msg/modifyMsg",this.onV2ModifyMessage),this.core.eventBus.on("forwardReceive/msg/recallMsg",this.onV2RecallMsg),this.core.eventBus.on("forwardReceive/msg/deleteSelfMsgs",this.onV2DeleteSelfMsgs)},f.sendTextMsg=function(a){return ge({body:{type:"string",allowEmpty:!1}},a),this.sendMsg(ce(ce({},a),{type:"text"}))},f.sendTipMsg=function(a){return ge({body:{type:"string",allowEmpty:!1}},a),this.sendMsg(ce(ce({},a),{type:"tip"}))},f.sendGeoLocationMsg=function(a){return ge({attach:{type:"object",rules:{title:{type:"string",allowEmpty:!1},lat:{type:"number"},lng:{type:"number"}}}},a),this.sendMsg(ce(ce({},a),{type:"geo",attach:$t(a.attach)}))},f.sendCustomMsg=function(a){return ge({attach:{type:"string",allowEmpty:!1}},a),this.sendMsg(ce(ce({},a),{type:"custom"}))},f.sendMsg=function(a){var l,c=this;if(ge({scene:{type:"enum",values:Kr(Qi)},type:{type:"enum",values:Kr(jp)},to:{type:"string",allowEmpty:!1},ext:{type:"string",required:!1},setting:{type:"object",rules:{resendFlag:{type:"boolean",required:!1},needSaveHistory:{type:"boolean",required:!1},needRoaming:{type:"boolean",required:!1},needOffline:{type:"boolean",required:!1},needSelfSync:{type:"boolean",required:!1},needRouted:{type:"boolean",required:!1},needUpdateSession:{type:"boolean",required:!1}},required:!1},antiSpamInfo:{type:"object",required:!1,rules:{clientAntispamHitting:{type:"boolean",required:!1},antiSpamUsingYidun:{type:"boolean",required:!1}}},pushInfo:{type:"object",required:!1,rules:Z$},robotInfo:{type:"object",required:!1,rules:eU},teamSpecializationInfo:{type:"object",required:!1,rules:{needACK:{type:"boolean",required:!1}}}},a),a.scene==="team"&&a.robotInfo&&!a.robotInfo.account)throw new fc('When "scene" equals "team", account is required in robotInfo',{key:"account"},"required");var u,h=a.scene==="p2p"?"sendMsg":a.scene==="team"?"sendTeamMsg":"sendSuperTeamMsg",C=PC(a,this.core.account,this.core.config.deviceId,(l=this.core.user)===null||l===void 0?void 0:l.myInfo),x=ll(ce(ce({},C),{time:new Date().getTime()}),{account:this.core.account,featureValue:Pl.default,statusValue:yi.sending});try{a.onSendBefore&&a.onSendBefore(x)}catch(k){this.logger.error("sendMsg: options.onSendBefore error",k)}return this.core.eventBus.emit("session/updateForNewMsg",x),this.core.eventBus.emit("forwardSend/msg/sendMsg",C),this.core.sendCmd(h,{msg:C}).then(function(k){var B=k.content,W=k.error;if(u=B.msg,W)throw W;var Y=ll(ce(ce({},C),B.msg),{account:c.core.account,featureValue:Pl.default,statusValue:yi.sent});return Y.from===Y.to&&c.markMsgsAck([Y]),c.core.eventBus.emit("session/updateForNewMsg",Y),c.core.eventBus.emit("forwardSend/msg/sendMsg",ce(ce({},PC(Y,Y.from,Y.fromDeviceId)),{idClient:Y.idClient,status:"sent"})),c.core.reporter.report("msgSend",{msgId:Y.idServer,clientId:Y.idClient,msgTime:Y.time,fromAccid:a.scene==="p2p"?c.core.account:"",toAccid:Y.to,type:Qi[Y.scene],roomId:"",tid:a.scene==="p2p"?"":Y.to,result:200,failReason:"",rt:lr()-x.time}),Y}).catch(function(k){var B=ll(ce(ce(ce({},C),{time:new Date().getTime()}),u),{account:c.core.account,featureValue:Pl.default,statusValue:k.code===7101?yi.refused:yi.sendFailed});throw k.msg=B,c.core.eventBus.emit("session/updateForNewMsg",B),c.core.eventBus.emit("forwardSend/msg/sendMsg",ce(ce({},PC(B,B.from,B.fromDeviceId)),{status:"sendFailed"})),c.core.reporter.report("msgSend",{msgId:B.idServer,clientId:B.idClient,msgTime:B.time,fromAccid:a.scene==="p2p"?c.core.account:"",toAccid:B.to,type:Qi[B.scene],roomId:"",tid:a.scene==="p2p"?"":B.to,result:k==null?void 0:k.code,failReason:(k==null?void 0:k.message)||"",rt:lr()-x.time}),k})},f.resendMsg=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(ge({msg:{type:"object",rules:{idClient:{type:"string",allowEmpty:!1}}}},a),c=a.msg,u=ce(ce({},c),{attach:c.attach?$t(c.attach):void 0,setting:{resendFlag:!0}}),c.from===this.core.account){C.next=5;break}throw new Error("You can only resend messages that you sent: "+c.idClient);case 5:return C.abrupt("return",this.sendMsg(u));case 6:case"end":return C.stop()}},l,this)}))},f.forwardMsg=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({msg:{type:"object",rules:{idClient:{type:"string",allowEmpty:!1}}},scene:{type:"enum",values:Kr(Qi)},to:{type:"string",allowEmpty:!1}},a),c=a.msg,u=ce(ce({},c),{scene:a.scene,to:a.to,attach:c.attach?$t(c.attach):void 0}),C.abrupt("return",this.sendMsg(u));case 4:case"end":return C.stop()}},l,this)}))},f.sendImageMsg=function(a){return this.doSendFile(ce(ce({},a),{type:"image"}))},f.sendFileMsg=function(a){return this.doSendFile(ce(ce({},a),{type:"file"}))},f.sendAudioMsg=function(a){return this.doSendFile(ce(ce({},a),{type:"audio"}))},f.sendVideoMsg=function(a){return this.doSendFile(ce(ce({},a),{type:"video"}))},f.doSendFile=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(ge({scene:{type:"enum",values:Kr(Qi)},to:{type:"string",allowEmpty:!1},type:{type:"string",allowEmpty:!1},attach:{type:"object",rules:{url:{type:"string",allowEmpty:!1}},required:!1},maxSize:{type:"number",min:1,required:!1}},a),c=a.attach){h.next=15;break}if(this.core.cloudStorage&&this.core.cloudStorage.uploadFile){h.next=5;break}throw new Error('Service "cloudStorage" does not exist');case 5:return h.prev=5,h.next=8,this.core.cloudStorage.uploadFile(a);case 8:c=h.sent,h.next=15;break;case 11:throw h.prev=11,h.t0=h.catch(5),this.logger.error("sendFile:: upload File error or abort.",h.t0),h.t0;case 15:return h.abrupt("return",this.sendMsg(ce(ce({},a),{attach:$t(c),type:a.type})));case 16:case"end":return h.stop()}},l,this,[[5,11]])}))},f.recallMsg=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return ge({msg:{type:"object",rules:{idClient:{type:"string",allowEmpty:!1},idServer:{type:"string",allowEmpty:!1},scene:{type:"enum",values:Kr(Qi)},time:{type:"number"}}},pushInfo:{type:"object",required:!1,rules:nw},ps:{type:"string",allowEmpty:!1,required:!1}},a),c=a.msg,u={p2p:"recallMsg",team:"recallMsg",superTeam:"recallSuperTeamMsg"},h={p2p:7,team:8,superTeam:12},C=aU({time:c.time,type:h[c.scene],to:c.to,from:c.from,ps:a.ps,attach:a.attach,deletedIdClient:c.idClient,deletedIdServer:c.idServer,opeAccount:c.from,env:a.env,pushInfo:a.pushInfo}),W.next=7,this.core.sendCmd(u[c.scene],{recallMsgTag:C});case 7:return x=ce({},c,{deletedMsgCreateTime:c.time}),k=Hf([x]),this.core.eventBus.emit("session/updateForDeletedMsg",k),this.core.eventBus.emit("forwardSend/msg/recallMsg",C),W.abrupt("return",c);case 12:case"end":return W.stop()}},l,this)}))},f.deleteSelfMsgs=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return ge({msgs:{type:"array",rules:{scene:{type:"enum",values:["p2p","team"]},from:{type:"string",allowEmpty:!1},to:{type:"string",allowEmpty:!1},idServer:{type:"string",allowEmpty:!1},idClient:{type:"string",allowEmpty:!1},time:{type:"number",allowEmpty:!1}}},ext:{type:"string",allowEmpty:!1,required:!1}},a),c=a.msgs,u=Qe(c).call(c,function(W){return{scene:W.scene==="p2p"?1:2,from:W.from,to:W.to,idServer:W.idServer,idClient:W.idClient,deletedMsgCreateTime:W.time,ext:a.ext}}),B.next=5,this.core.sendCmd("deleteSelfMsgs",{deletedMsgs:u});case 5:return h=B.sent,C=Qe(u).call(u,function(W){var Y;return ce({},W,{time:(Y=h==null?void 0:h.content)===null||Y===void 0?void 0:Y.timetag})}),x=Hf(C),this.core.eventBus.emit("session/updateForDeletedMsg",x),this.core.eventBus.emit("forwardSend/msg/deleteSelfMsgs",Qe(u).call(u,function(W){var Y;return ce(ce({},W),{time:(Y=h==null?void 0:h.content)===null||Y===void 0?void 0:Y.timetag})})),B.abrupt("return",x);case 11:case"end":return B.stop()}},l,this)}))},f.sendMsgReceipt=function(a){var l,c;return le(this,void 0,void 0,q.mark(function u(){var h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(ge({msg:{type:"object",rules:{idClient:{type:"string",allowEmpty:!1},target:{type:"string",allowEmpty:!1},time:{type:"number"}}}},a),(h=a.msg).scene==="p2p"&&h.flow==="in"){W.next=5;break}return this.logger.warn("Msg scene: "+h.scene+", flow: "+h.flow+" is not allowed to send msg receipt"),W.abrupt("return",void 0);case 5:return C={to:h.target,idClient:h.idClient,time:h.time},W.next=8,this.core.sendCmd("sendMsgReceipt",{msgReceiptTag:C});case 8:return x=W.sent,k=un((c=(l=x.content)===null||l===void 0?void 0:l.msgReceiptTag)===null||c===void 0?void 0:c.time),W.abrupt("return",ce(ce({},C),{time:k?Math.min(k,C.time):C.time}));case 11:case"end":return W.stop()}},u,this)}))},f.sendTeamMsgReceipt=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({teamMsgReceipts:{type:"array",rules:{teamId:{type:"string",allowEmpty:!1},idClient:{type:"string",allowEmpty:!1},idServer:{type:"string",allowEmpty:!1}},max:50}},a),c=a.teamMsgReceipts,this.core.sendCmd("sendTeamMsgReceipt",{teamMsgReceipts:c}),h.abrupt("return",void 0);case 4:case"end":return h.stop()}},l,this)}))},f.getTeamMsgReads=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({teamMsgReceipts:{type:"array",rules:{teamId:{type:"string",allowEmpty:!1},idClient:{type:"string",allowEmpty:!1},idServer:{type:"string",allowEmpty:!1}}}},a),u=a.teamMsgReceipts,k.next=4,this.core.sendCmd("getTeamMsgReads",{teamMsgReceipts:u});case 4:return h=k.sent,C=(C=(l=h.content)===null||l===void 0?void 0:l.teamMsgReceipts)?Qe(C).call(C,function(B){return ce(ce({},B),{read:un(B.read),unread:un(B.unread)})}):[],k.abrupt("return",C);case 8:case"end":return k.stop()}},c,this)}))},f.getTeamMsgReadAccounts=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({teamMsgReceipt:{type:"object",rules:{teamId:{type:"string",allowEmpty:!1},idClient:{type:"string",allowEmpty:!1},idServer:{type:"string",allowEmpty:!1}}}},a),c=a.teamMsgReceipt,C.next=4,this.core.sendCmd("getTeamMsgReadAccounts",{teamMsgReceiptTag:c});case 4:return u=C.sent,C.abrupt("return",u.content);case 6:case"end":return C.stop()}},l,this)}))},f.markMsgsAck=function(a){if(a&&a.length>0){var l=[],c=[];rt(a).call(a,function(u){u.scene==="p2p"&&u.flow==="in"?l.push(u):u.scene==="team"&&u.flow==="in"&&c.push(u)}),l.length>0&&this.core.sendCmd("batchMarkRead",{sid:7,cid:2,ids:Qe(l).call(l,function(u){return u.idServer})}),c.length>0&&this.core.sendCmd("batchMarkRead",{sid:8,cid:3,ids:Qe(c).call(c,function(u){return u.idServer})})}},f.onMsgHandler=function(a){var l;if(a.error)this.logger.error("msgHandler::recvError",a.error);else{var c=Bs(a,a.content.msg,"idServer"),u=Gp(c,this.core.account),h=(l=this.core.session)===null||l===void 0?void 0:l.getSessionWithUncomplete({id:u}),C=ll(c,h?{account:this.core.account,sessionAck:h.ack,msgReceiptTime:h.msgReceiptTime}:{account:this.core.account});this.logger.getDebugMode()?this.logger.debug("msgHandler::recvMsg",C.idClient,C.idServer,C):this.logger.log("msgHandler::recvMsg",C.idClient,C.idServer),this.markMsgsAck([C]),this.core.eventBus.emit("session/updateForNewMsg",C),C.scene==="superTeam"?this.core.eventBus.emit("sync/updateTimetag",{superTeamRoamingMsgs:C.time}):this.core.eventBus.emit("sync/updateTimetag",{roamingMsgs:C.time}),this.core.emit("msg",C),C.type==="notification"?this.core.eventBus.emit("team/onNotification",C):C.flow!=="out"&&this.doMsgReceiveReport(C,a),C.type!=="notification"&&this.core.user.checkUserUpdate(C)}},f.doMsgReceiveReport=function(a,l){if(a.from!==this.core.account){var c=a.scene==="p2p",u=Ht(a,"__clientExt.statistics.apiCallingTime")||0,h=Ht(a,"__clientExt.statistics.sendTime")||0,C=Ht(a,"__clientExt.statistics.attachUploadDuration")||0,x=this.core.timeOrigin.getNTPTime(),k=a.time,B=this.core.timeOrigin.checkNodeReliable(l.__receiveTimeNode)?this.core.timeOrigin.getNTPTime(l.__receiveTimeNode):x;this.core.reporter.report("msgReceive",{msgId:a.idServer,clientId:a.idClient,serverTime:k,receiveTime:B,fromAccid:c?a.from:"",toAccid:a.to,type:Qi[a.scene],tid:c?"":a.to,apiCallingTime:u,sendTime:h,attachUploadDuration:C,callbackTime:x,preHandleTime:x,result:200,failReason:"",rt:x-k})}},f.nimOnTeamMsgsHandler=function(a){var l,c=this;rt(l=a.content.datas).call(l,function(u){c.onMsgHandler(ce({},a,{content:{msg:u}}))})},f.syncRoamingMsgsHandler=function(a){var l,c,u=a.content.msgs||[];if(u.length!==0){var h=Gp(u[0],this.core.account),C=(l=this.core.session)===null||l===void 0?void 0:l.getSessionWithUncomplete({id:h}),x=(u=tw(u,C?{account:this.core.account,featureValue:Pl.roam,sessionAck:C.ack,msgReceiptTime:C.msgReceiptTime}:{account:this.core.account,featureValue:Pl.roam}))[0].time,k={timetag:x,sessionId:h,msgs:$ne(u)};typeof((c=this.core.sync)===null||c===void 0?void 0:c.getSyncDoneFlag)!="function"||this.core.sync.getSyncDoneFlag()||this.core.eventBus.emit("session/syncMsgs",k),this.core.emit("syncRoamingMsgs",k),u[0].scene==="superTeam"?this.core.eventBus.emit("sync/updateTimetag",{superTeamRoamingMsgs:x}):this.core.eventBus.emit("sync/updateTimetag",{roamingMsgs:x})}},f.syncOfflineMsgsHandler=function(a){var l,c=this,u=a.content.msgs||[];if(u.length!==0){var h={},C=[];rt(u).call(u,function(k){var B=Gp(k,c.core.account),W=c.core.session.getSessionWithUncomplete({id:B}),Y=ll(k,W?{account:c.core.account,featureValue:Pl.leave,sessionAck:W.ack,msgReceiptTime:W.msgReceiptTime}:{account:c.core.account,featureValue:Pl.leave});C.push(Y),h[Y.sessionId]?h[Y.sessionId].push(Y):h[Y.sessionId]=[Y]}),this.markMsgsAck(C);var x=0;rt(l=Gn(h)).call(l,function(k){var B,W=mn(B=h[k]).call(B,function(ne,se){return se.time-ne.time});(W=rU(W))[0].time>x&&(x=W[0].time);var Y={timetag:W[0].time,sessionId:k,msgs:W};c.core.eventBus.emit("session/syncMsgs",Y),c.core.emit("syncOfflineMsgs",Y)}),this.core.eventBus.emit("sync/updateTimetag",{offlineMsgs:x})}},f.syncDeleteSelfMsgsHandler=function(a){var l,c=(l=a.content)===null||l===void 0?void 0:l.deletedMsgs;c&&c.length>0||this.logger.warn("syncDeleteSelfMsgs:: no msgs");var u=c[c.length-1].time;this.core.eventBus.emit("sync/updateTimetag",{deleteSelfMsgs:u})},f.onDeleteSelfMsgHandler=function(a){var l=Hf([a.content.deletedMsg]);this.core.eventBus.emit("session/updateForDeletedMsg",l),this.core.emit("deleteSelfMsgs",l)},f.onDeleteSelfMsgsHandler=function(a){var l=Hf(a.content.deletedMsgs);this.core.eventBus.emit("session/updateForDeletedMsg",l),this.core.emit("deleteSelfMsgs",l)},f.onBroadcastMsgHandler=function(a){var l=a.content.msg,c=this.service.processBroadcastMsg([l]);this.core.emit("broadcastMsgs",c)},f.syncBroadcastMsgHandler=function(a){var l=a.content.msgs,c=this.service.processBroadcastMsg(l);this.core.emit("broadcastMsgs",c)},y}(Ss),Gne={"5_1":"sync"},Kne={sync:{sid:5,cid:1,service:"sync",hasPacketTimer:!1,params:[{type:"Property",name:"sync",reflectMapper:{myInfo:1,offlineMsgs:2,teams:3,roamingMsgs:7,relations:9,friends:11,friendUsers:13,msgReceipts:14,myTeamMembers:15,donnop:16,recallMsg:17,sessionAck:18,broadcastMsgs:20,avSignal:21,superTeams:22,mySuperTeamMembers:23,superTeamRoamingMsgs:24,deleteSuperTeamMsg:25,superTeamSessionAck:26,deleteSelfMsgs:27,stickTopSessions:28,sessionHistoryMsgsDelete:29}}],response:[{type:"Long",name:"timetag"}]}},Wne=function(p){function y(o,a){var l;return a===void 0&&(a={}),(l=p.call(this,"sync",o)||this).syncDoneFlag=!1,l.config={myInfo:!!o.user.name,offlineMsgs:!!o.msg.name,teams:!!o.team.name,myTeamMembers:!!o.team.name,roamingMsgs:!!o.msg.name,relations:!!o.user.name,friends:!!o.friend.name,friendUsers:!!o.user.name,msgReceipts:!!o.msg.name,broadcastMsgs:!!o.msg.name,recallMsg:!!o.msg.name,sessionAck:!!o.session.name,superTeamSessionAck:!!o.session.name,superTeams:!!o.superTeam.name,mySuperTeamMembers:!!o.superTeam.name,superTeamRoamingMsgs:!!o.superTeam.name,deleteSuperTeamMsg:!!o.superTeam.name,deleteSelfMsgs:!!o.msg.name,sessionHistoryMsgsDelete:!!o.msgLog.name,avSignal:!!o.signaling.name},l.setOptions(a),l.timetags={},l.initEventListeners(),Wr({cmdMap:Gne,cmdConfig:Kne}),l}pr(y,p);var f=y.prototype;return f.setOptions=function(a){ce(this.config,a)},f.reset=function(){this.timetags={},this.syncDoneFlag=!1},f.getSyncDoneFlag=function(){return this.syncDoneFlag},f.doSync=function(){var a;return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return c=this.genSyncParams(),this.logger.log("sync::doSyncV1: ",c),C.prev=2,C.next=5,this.core.clientSocket.sendCmd("sync",{sync:c});case 5:u=C.sent,this.core.logger.log("sync::doSyncV1 done in",(a=u.content)===null||a===void 0?void 0:a.timetag),this.syncDoneFlag=!0,this.core.emit("syncdone"),C.next=17;break;case 11:return C.prev=11,C.t0=C.catch(2),this.core.logger.error("sync::doSyncV1 error",C.t0),this.syncDoneFlag=!0,this.core.emit("syncdone"),C.abrupt("return");case 17:case"end":return C.stop()}},l,this,[[2,11]])}))},f.initEventListeners=function(){var a=this;this.core.eventBus.on("logined",function(){a.syncDoneFlag=!1,a.doSync()}),this.core.eventBus.on("sync/updateTimetag",function(l){var c;rt(c=Gn(l)).call(c,function(u){l[u]>(a.timetags[u]||0)&&(a.timetags[u]=l[u])})})},f.genSyncParams=function(){var a,l,c=this;return ja(a=Tn(l=Gn(this.config)).call(l,function(u){var h=u;return c.config[h]})).call(a,function(u,h){var C=h;return u[C]=c.timetags[C]||0,u},{})},f.handleImmediate=function(a){return this.core.session&&this.core.session.onSyncDone&&this.core.session.onSyncDone(),Zt.resolve(a)},f.delaySyncDone=function(a){var l=this;return rn.getSystemInfo().hostEnvEnum===102?(this.core.logger.log("sync: emit ALIAPP sycnHandler, handle later"),new Zt(function(c){pa(function(){l.handleImmediate(a).then(function(){c(a)})},100)})):this.handleImmediate(a)},f.syncHandler=function(a){return this.delaySyncDone(a)},y}(Ss);function Yne(p,y){var f,o=Ma!==void 0&&Eo(p)||p["@@iterator"];if(o)return cn(f=(o=o.call(p)).next).call(f,o);if(Nr(p)||(o=function(c,u){if(c){var h;if(typeof c=="string")return lU(c,u);var C=zn(h={}.toString.call(c)).call(h,8,-1);return C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set"?ma(c):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?lU(c,u):void 0}}(p))||y){o&&(p=o);var a=0;return function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lU(p,y){(y==null||y>p.length)&&(y=p.length);for(var f=0,o=Array(y);f<y;f++)o[f]=p[f];return o}var Xne=function(p){function y(o){var a;return(a=p.call(this,"user",o)||this).userInfoMap=new Xa,a.myInfo=Cv({}),Wr({cmdMap:Lne,cmdConfig:Pne}),a}pr(y,p);var f=y.prototype;return f.setBlack=function(a){var l=this;return ge({account:{type:"string",allowEmpty:!1},isAdd:{type:"boolean"}},a),this.core.sendCmd("setBlack",a).then(function(){l.core.eventBus.emit("forwardSend/user/updateBlackList",a.account,a.isAdd)})},f.setMute=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({account:{type:"string",allowEmpty:!1},isAdd:{type:"boolean"}},a),u.next=3,this.core.sendCmd("setMute",a).then(function(){});case 3:this.core.eventBus.emit("forwardSend/user/setMute",a.account,a.isAdd);case 4:case"end":return u.stop()}},l,this)}))},f.getRelations=function(){return this.core.sendCmd("syncRelations",{timetag:0})},f.getBlackList=function(){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.core.sendCmd("syncRelations",{timetag:0});case 2:return l=u.sent,u.abrupt("return",l.blackList||[]);case 4:case"end":return u.stop()}},a,this)}))},f.getMuteList=function(){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.core.sendCmd("syncRelations",{timetag:0});case 2:return l=u.sent,u.abrupt("return",l.muteList||[]);case 4:case"end":return u.stop()}},a,this)}))},f.updatePushToken=function(){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:this.logger.error("This function is deprecated, please use nim.offlinePush.setOfflinePushConfig instead");case 1:case"end":return c.stop()}},a,this)}))},f.updateAppBackground=function(){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:this.logger.error("This function is deprecated, please use nim.offlinePush.setOfflinePushConfig instead");case 1:case"end":return c.stop()}},a,this)}))},f.getUsersNameCardFromServer=function(a){var l=this;return ge({accounts:{type:"array",max:150,itemType:"string"}},a),this.core.sendCmd("getUsersNameCardFromServer",dd(a,["accounts"])).then(function(c){var u,h=c.content;return l.logger.log("user:: getUsers done",a.accounts),h&&h.users?Qe(u=h.users).call(u,function(C){return Cv(C)}):[]})},f.updateMyNameCard=function(a){var l=this;if(ge({nick:{type:"string",required:!1},avatar:{type:"string",required:!1},signature:{type:"string",required:!1},gender:{type:"enum",values:Kr(US),required:!1},email:{type:"string",required:!1},birth:{type:"string",required:!1},tel:{type:"string",required:!1},ext:{type:"string",required:!1}},a),Gn(a).length===0)return Zt.resolve(this.myInfo);var c=dd(a,["nick","avatar","signature","email","birth","tel","ext"]);return a.gender&&(c.gender=US[a.gender]),this.core.sendCmd("updateMyNameCard",{user:c}).then(function(u){var h=u.content;return h&&h.timetag&&l.core.eventBus.emit("sync/updateTimetag",{myInfo:+h.timetag}),a.gender&&(c.gender=a.gender),l.myInfo=ce({},l.myInfo,c),l.core.eventBus.emit("forwardSend/user/updateUserInfo",c),l.myInfo})},f.checkUserUpdate=function(a){var l=a.from;if(l!==this.core.account){var c=this.userInfoMap.get(l);if(c){var u=c.updateTime,h=a.userUpdateTime;!isNaN(u)&&!isNaN(h)&&typeof u=="number"&&typeof h=="number"&&u<h&&this.refreshUserInfo(l)}else this.refreshUserInfo(l)}},f.refreshUserInfo=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.getUsersNameCardFromServer({accounts:[a]});case 2:for(c=k.sent,u=Yne(c);!(h=u()).done;)C=h.value,this.userInfoMap.set(C.account,C),this.core.emit("updateUserInfo",C);case 4:case"end":return k.stop()}},l,this)}))},f.onUpdateBlackListHandler=function(a){var l=a.content;l.account?this.core.emit("updateBlackList",l):this.logger.warn("onUpdateBlackListHandler: no account")},f.onUpdateMuteListHandler=function(a){var l=a.content;l.account?this.core.emit("updateMuteList",l):this.logger.warn("onUpdateBlackListHandler: no account")},f.syncRelationsHandler=function(a){var l=a.content,c=l.list,u=l.timetag,h={blackList:[],muteList:[]};return u&&this.core.eventBus.emit("sync/updateTimetag",{relations:u}),c&&c.length&&rt(c).call(c,function(C){var x=function(B){var W={account:B.account,updateTime:+B.updateTime,createTime:+B.createTime};return B.isMuted==="1"&&(W.isMuted=!0),B.isBlack==="1"&&(W.isBlack=!0),W}(C);x.isBlack&&h.blackList.push(x),x.isMuted&&h.muteList.push(x)}),this.core.emit("relations",h),Zt.resolve(h)},f.syncMyNameCardHandler=function(a){a.content.user&&(this.myInfo=Cv(a.content.user),this.core.emit("syncMyNameCard",this.myInfo),this.core.eventBus.emit("sync/updateTimetag",{myInfo:a.content.timetag}))},f.onUpdateMyNameCardHandler=function(a){var l=a.content.user;l?(ce(this.myInfo,Cv(l)),this.core.emit("updateMyNameCard",this.myInfo)):this.logger.warn("onUpdateMyNameCardHandler no user info")},y}(Ss),Jne={"4_12":"syncMsgReceipts","4_14":"syncSessionAck","4_20":"syncSuperTeamSessionAck","4_22":"nimSyncSessionsWithMoreRoaming","4_25":"syncSessionReliableInfo","7_12":"multiSyncMsgReceipt","7_16":"markSessionAck","7_25":"markMultSessionsAck","7_116":"syncMarkSessionAck","21_25":"markSuperTeamSessionAck","21_32":"markMultSuperTeamSessionsAck","21_125":"syncMarkSuperTeamSessionAck","4_23":"nimSyncStickTopSessions","23_12":"nimAddStickTopSession","23_13":"nimDeleteStickTopSession","23_14":"nimUpdateStickTopSession","23_112":"nimMultiSyncAddStickTopSession","23_113":"nimMultiSyncDeleteStickTopSession","23_114":"nimMultiSyncUpdateStickTopSession"},Tv={msgReceiptTag:{to:1,from:2,time:7,idClient:11},stickTopSessionTag:{id:1,ext:2,createTime:3,updateTime:4},sessionAckTag:{scene:1,to:2,timetag:3},sessionReliableSyncTag:{scene:1,sessionId:2,syncStatus:3,syncEndMsgId:4,syncEndMsgidClient:5,syncEndMsgTime:6,syncStartMsgid:7,syncStartMsgidClient:8,syncStartMsgTime:9,nextMsgid:10,nextMsgidClient:11,nextMsgTime:12,roamMsgSync:13,offlineMsgSync:14,netCallOfflineMsgSync:15}},Yp=po(Tv),Qne={syncMsgReceipts:{sid:4,cid:12,service:"session",response:[{type:"PropertyArray",name:"msgReceipts",reflectMapper:Yp.msgReceiptTag},{type:"Long",name:"timetag"}]},syncSessionAck:{sid:4,cid:14,service:"session",response:[{type:"StrLongMap",name:"p2p"},{type:"LongLongMap",name:"team"},{type:"Long",name:"timetag"}]},syncSuperTeamSessionAck:{sid:4,cid:20,service:"session",response:[{type:"LongLongMap",name:"superTeam"},{type:"Long",name:"timetag"}]},multiSyncMsgReceipt:{sid:7,cid:12,service:"session",response:[{type:"Property",name:"msgReceiptTag",reflectMapper:Yp.msgReceiptTag}]},markSessionAck:{sid:7,cid:16,service:"session",params:[{type:"Byte",name:"scene"},{type:"String",name:"to"},{type:"Long",name:"timetag"}]},syncMarkSessionAck:{sid:7,cid:116,service:"session",response:[{type:"Byte",name:"scene"},{type:"String",name:"to"},{type:"Long",name:"timetag"}]},syncMarkSuperTeamSessionAck:{sid:21,cid:125,service:"session",response:[{type:"Long",name:"to"},{type:"Long",name:"timetag"}]},markMultSessionsAck:{sid:7,cid:25,service:"session",ignoreErrCodes:[700],params:[{type:"PropertyArray",name:"datas",reflectMapper:Tv.sessionAckTag}]},markSuperTeamSessionAck:{sid:21,cid:25,service:"session",params:[{type:"Long",name:"to"},{type:"Long",name:"timetag"}]},nimAddStickTopSession:{sid:23,cid:12,service:"session",params:[{type:"Property",name:"tag",reflectMapper:Tv.stickTopSessionTag}],response:[{type:"Property",name:"data",reflectMapper:Yp.stickTopSessionTag}]},nimDeleteStickTopSession:{sid:23,cid:13,service:"session",params:[{type:"Property",name:"tag",reflectMapper:Tv.stickTopSessionTag}],response:[{type:"Long",name:"timetag"}]},nimUpdateStickTopSession:{sid:23,cid:14,service:"session",params:[{type:"Property",name:"tag",reflectMapper:Tv.stickTopSessionTag}],response:[{type:"Property",name:"data",reflectMapper:Yp.stickTopSessionTag}]},nimMultiSyncAddStickTopSession:{sid:23,cid:112,service:"session",response:[{type:"Property",name:"data",reflectMapper:Yp.stickTopSessionTag}]},nimMultiSyncDeleteStickTopSession:{sid:23,cid:113,service:"session",response:[{type:"Long",name:"timetag"},{type:"Property",name:"data",reflectMapper:Yp.stickTopSessionTag}]},nimMultiSyncUpdateStickTopSession:{sid:23,cid:114,service:"session",response:[{type:"Property",name:"data",reflectMapper:Yp.stickTopSessionTag}]},nimSyncStickTopSessions:{sid:4,cid:23,service:"session",response:[{type:"Long",name:"timetag"},{type:"Bool",name:"isThereAnyChange"},{type:"PropertyArray",name:"datas",reflectMapper:Yp.stickTopSessionTag}]},markMultSuperTeamSessionsAck:{sid:21,cid:32,service:"session",ignoreErrCodes:[700],params:[{type:"PropertyArray",name:"datas",reflectMapper:Tv.sessionAckTag}]},nimSyncSessionsWithMoreRoaming:{sid:4,cid:22,service:"session",response:[]},syncSessionReliableInfo:{sid:4,cid:25,service:"session",response:[]}},Zne={id:{type:"string"},ext:{type:"string"},createTime:{type:"number"},updateTime:{type:"number"}};function DC(p,y,f){f===void 0&&(f=!0);var o=oa(Zne,p);o.isStickOnTop=f,o.id=y.id,f||(o.ext="");var a=ce(ce({},y),{stickTopInfo:y.stickTopInfo?ce({},y.stickTopInfo,o):o});return a.lastMsg===void 0&&(a.lastMsg=null),a}var ere=function(){function p(f){this.core=f}var y=p.prototype;return y.getSession=function(o){return this.core.session.getSessionWithUncomplete({id:o})||this.core.session.createSession(o)},y.addStickTopSession=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return ge({id:{type:"string",allowEmpty:!1},ext:{type:"string",required:!1}},o),l=es(o.id),c=l.scene,u=l.accid,B.next=4,this.core.sendCmd("nimAddStickTopSession",{tag:{id:(c==="superTeam"?"super_team":c)+"|"+u,ext:o.ext||""}});case 4:return h=B.sent,C=this.getSession(o.id),x=DC(h.content.data,C),B.abrupt("return",x);case 8:case"end":return B.stop()}},a,this)}))},y.deleteStickTopSession=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return ge({id:{type:"string",allowEmpty:!1}},o),l=es(o.id),c=l.scene,u=l.accid,B.next=4,this.core.sendCmd("nimDeleteStickTopSession",{tag:{id:(c==="superTeam"?"super_team":c)+"|"+u}});case 4:return h=B.sent,C=this.getSession(o.id),x=DC({updateTime:h.content.timetag,ext:""},C,!1),B.abrupt("return",x);case 8:case"end":return B.stop()}},a,this)}))},y.updateStickTopSession=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return ge({id:{type:"string",allowEmpty:!1},ext:{type:"string",required:!1}},o),l=es(o.id),c=l.scene,u=l.accid,B.next=4,this.core.sendCmd("nimUpdateStickTopSession",{tag:{id:(c==="superTeam"?"super_team":c)+"|"+u,ext:o.ext||""}});case 4:return h=B.sent,C=this.getSession(o.id),x=DC(h.content.data,C),B.abrupt("return",x);case 8:case"end":return B.stop()}},a,this)}))},y.stickTopSessionHandler=function(o,a){a===void 0&&(a=!0);var l=es(o.id,"|"),c=l.scene+"-"+l.accid;return DC(o,this.getSession(c),a)},p}(),tre=function(){function p(f){this.core=f,this.logger=f.logger}var y=p.prototype;return y.canSessionResetUnreadCount=function(o){var a=o.id;if(o.lastMsg===void 0)throw new Error("Session::canSessionResetUnreadCount: session "+a+" is not completly, lastMsg undefined");return o.lastMsg!==null||o.unread>0?!(o.ack&&o.lastMsg&&o.ack>=o.lastMsg.time)||(this.logger.log("Session::canSessionResetUnreadCount: session "+a+" reset failed, ack time is greater than last message time"),!1):(this.logger.log("Session::canSessionResetUnreadCount: session "+a+" doesn't need to be updated, lastMsg null and unread 0"),!1)},y.filterSessionForResetUnreadCount=function(o){var a=this,l={cmd:"markMultSuperTeamSessionsAck",params:[]},c={cmd:"markMultSessionsAck",params:[]};return rt(o).call(o,function(u){var h;try{if(!a.canSessionResetUnreadCount(u))return;var C=es(u.id),x=C.accid,k=C.scene,B={to:x,sessionId:u.id,timetag:((h=u==null?void 0:u.lastMsg)===null||h===void 0?void 0:h.time)||u.updateTime||0},W=function(ne){return ud({scene:{type:"enum",values:Qi}},ne)}({scene:k});k==="superTeam"?l.params.push(B):c.params.push(ce(ce({},B),W))}catch(Y){a.logger.warn(Y)}}),{superTeam:l,p2pOrTeam:c}},p}();function qS(p,y){var f,o=Ma!==void 0&&Eo(p)||p["@@iterator"];if(o)return cn(f=(o=o.call(p)).next).call(f,o);if(Nr(p)||(o=function(c,u){if(c){var h;if(typeof c=="string")return cU(c,u);var C=zn(h={}.toString.call(c)).call(h,8,-1);return C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set"?ma(c):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?cU(c,u):void 0}}(p))||y){o&&(p=o);var a=0;return function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cU(p,y){(y==null||y>p.length)&&(y=p.length);for(var f=0,o=Array(y);f<y;f++)o[f]=p[f];return o}var nre=function(p){function y(o,a){var l;return(l=p.call(this,"session",o)||this).list=new Xa,l.unreadCountFilterFn=function(c){return!0},l.lastMessageFilterFn=function(c){return!0},l.initEventListeners(),Wr({cmdMap:Jne,cmdConfig:Qne}),l.stickTopService=new ere(o),l.unreadModule=new tre(o),a&&l.setOptions(a),l}pr(y,p);var f=y.prototype;return f.setOptions=function(a){typeof(a==null?void 0:a.unreadCountFilterFn)=="function"&&(this.unreadCountFilterFn=a.unreadCountFilterFn),typeof(a==null?void 0:a.lastMessageFilterFn)=="function"&&(this.lastMessageFilterFn=a.lastMessageFilterFn)},f.reset=function(){var a;rt(a=this.list).call(a,function(l){l.unreadMsgs=[]}),this.list.clear()},f.initEventListeners=function(){var a,l,c,u,h=this;this.core.eventBus.on("session/syncMsgs",cn(a=this.onSyncMsgs).call(a,this)),this.core.eventBus.on("session/updateForNewMsg",cn(l=this.updateSessionWithMsg).call(l,this)),this.core.eventBus.on("session/updateForModifyMsg",cn(c=this.updateSessionByModifyMsg).call(c,this)),this.core.eventBus.on("session/updateForClearMsg",function(C,x){x===void 0&&(x=!0),C&&C.length>0&&rt(C).call(C,function(k){h.updateSession({id:k.sessionId,lastMsg:null,unread:0,unreadMsgs:[]},x)})}),this.core.eventBus.on("session/updateForDeletedMsg",cn(u=this.updateSessionForDeletedMsg).call(u,this))},f.createSession=function(a,l){try{var c=es(a);return{id:a,scene:c.scene,to:c.accid,lastMsg:l,updateTime:l?l.time:0,unread:0,unreadMsgs:[],ack:0}}catch(u){throw this.logger.error("Failed to create session with "+a,u),new Error("Failed to create session with "+a)}},f.getSession=function(a){ge({id:{type:"string",allowEmpty:!1}},a);var l=this.list.get(a.id);if(this.isSessionComplete(l))return l},f.getSessionWithUncomplete=function(a){return this.list.get(a.id)},f.getAllSessions=function(){for(var a,l=[],c=qS(this.list);!(a=c()).done;){var u=a.value;u[0];var h=u[1];this.isSessionComplete(h)&&l.push(h)}return l},f.getSessions=function(a){ge({limit:{type:"number",required:!1},lastSessionId:{type:"string",allowEmpty:!1,required:!1},desc:{type:"boolean",required:!1}},a);var l=[],c=a.limit,u=c===void 0?100:c,h=a.desc,C=h===void 0||h,x=a.lastSessionId,k=0;if(C){for(var B,W,Y=qS(this.list);!(W=Y()).done;){var ne=W.value,se=ne[0],xe=ne[1];if(x===se)break;this.isSessionComplete(xe)&&l.push(xe)}return js(B=zn(l).call(l,-u)).call(B)}for(var we,$e=qS(this.list);!(we=$e()).done;){var Me=we.value,Fe=Me[0],We=Me[1];if(x)Fe===x&&(x=void 0);else if(this.isSessionComplete(We)){if(++k>u)break;l.push(We)}}return l},f.resetSessionUnreadCount=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x,k,B,W,Y,ne=this;return q.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(ge({id:{type:"string",allowEmpty:!1}},a),ge({id:{type:"string",allowEmpty:!1}},a),u=a.id,h=this.list.get(u)){xe.next=7;break}throw this.logger.warn("resetSessionUnreadCount: can not find session "+u),new Error("Session::canSessionResetUnreadCount: can not find session "+u);case 7:C=!1;try{C=this.unreadModule.canSessionResetUnreadCount(h)}catch(we){this.logger.warn(we)}if(C!==!1){xe.next=11;break}return xe.abrupt("return");case 11:return x=es(u),k=x.accid,B=x.scene,W={to:k,timetag:((l=h==null?void 0:h.lastMsg)===null||l===void 0?void 0:l.time)||h.updateTime||0},Y="markSuperTeamSessionAck",B!=="superTeam"&&(W.scene=B==="p2p"?0:1,Y="markSessionAck"),xe.abrupt("return",this.core.sendCmd(Y,W).then(function(){var we=ne.storeUnreadByAck(u,W.timetag);we&&ne.core.emit("updateSession",we)}));case 16:case"end":return xe.stop()}},c,this)}))},f.resetMultiSessionUnreadCount=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k,B,W,Y,ne,se,xe,we,$e,Me=this;return q.wrap(function(We){for(;;)switch(We.prev=We.next){case 0:ge({ids:{type:"array",itemType:"string",min:1}},a),h=Tn(c=Qe(u=a.ids).call(u,function(Ae){return Me.list.get(Ae)})).call(c,function(Ae,Ee){return!!Ae||(Me.logger.warn("Session::canSessionResetUnreadCount: can not find session "+a.ids[Ee]),!1)}),C=this.unreadModule.filterSessionForResetUnreadCount(h),x=C.superTeam,k=C.p2pOrTeam,B=fu(x.params,50),W=fu(k.params,50),Y=qS(B);case 6:if((ne=Y()).done){We.next=13;break}return se=ne.value,We.next=10,this.core.sendCmd(x.cmd,{datas:se});case 10:rt(se).call(se,function(Ae){var Ee=Me.storeUnreadByAck(Ae.sessionId,Ae.timetag);Ee&&Me.core.emit("updateSession",Ee)});case 11:We.next=6;break;case 13:xe=qS(W);case 14:if((we=xe()).done){We.next=21;break}return $e=we.value,We.next=18,this.core.sendCmd(k.cmd,{datas:$e});case 18:rt($e).call($e,function(Ae){var Ee=Me.storeUnreadByAck(Ae.sessionId,Ae.timetag);Ee&&Me.core.emit("updateSession",Ee)});case 19:We.next=14;break;case 21:case"end":return We.stop()}},l,this)}))},f.resetAllSessionsUnreadCount=function(){var a,l=[];return rt(a=this.list).call(a,function(c){l.push(c.id)}),l.length===0?Zt.resolve():this.resetMultiSessionUnreadCount({ids:l})},f.deleteSession=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(ge({id:{type:"string",allowEmpty:!1},isSyncToServer:{type:"boolean",required:!1}},a),this.list.delete(a.id),!this.core.msgLog||!a.isSyncToServer){u.next=5;break}return u.next=5,this.core.msgLog.deleteRoamingMsgs({ids:[a.id]});case 5:case"end":return u.stop()}},l,this)}))},f.deleteAllSessionsFromLocal=function(){this.list.clear()},f.addStickTopSession=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.stickTopService.addStickTopSession(a);case 2:return c=h.sent,this.list.set(c.id,c),h.abrupt("return",c);case 5:case"end":return h.stop()}},l,this)}))},f.deleteStickTopSession=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.stickTopService.deleteStickTopSession(a);case 2:return c=h.sent,this.list.set(c.id,c),h.abrupt("return",c);case 5:case"end":return h.stop()}},l,this)}))},f.updateStickTopSession=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.stickTopService.updateStickTopSession(a);case 2:return c=h.sent,this.list.set(c.id,c),h.abrupt("return",c);case 5:case"end":return h.stop()}},l,this)}))},f.nimMultiSyncAddStickTopSessionHandler=function(a){var l=this.stickTopService.stickTopSessionHandler(a.content.data);this.list.set(l.id,l),this.core.emit("updateSession",l)},f.nimMultiSyncDeleteStickTopSessionHandler=function(a){var l=this.stickTopService.stickTopSessionHandler({id:a.content.data.id,updateTime:a.content.timetag,ext:""},!1);this.list.set(l.id,l),this.core.emit("updateSession",l)},f.nimMultiSyncUpdateStickTopSessionHandler=function(a){var l=this.stickTopService.stickTopSessionHandler(a.content.data);this.list.set(l.id,l),this.core.emit("updateSession",l)},f.nimSyncStickTopSessionsHandler=function(a){var l,c=this;if(this.core.eventBus.emit("sync/updateTimetag",{stickTopSessions:a.content.timetag}),a.content.isThereAnyChange){var u=a.content.datas,h=[];rt(l=this.list).call(l,function(C){var x;C&&(!((x=C==null?void 0:C.stickTopInfo)===null||x===void 0)&&x.isStickOnTop)&&h.push(C)}),rt(h).call(h,function(C){var x=C.id;if(!Wo(u).call(u,function(ne){var se=es(ne.id,"|");return se.scene+"-"+se.accid===x})){var k={},B=es(x,"-"),W=B.scene,Y=B.accid;k.id=W+"|"+Y,k.ext="",k.isTop=!1,u.push(k)}}),rt(u).call(u,function(C){var x;C.isTop===!1?(delete C.isTop,x=c.stickTopService.stickTopSessionHandler(C,!1)):x=c.stickTopService.stickTopSessionHandler(C),c.list.set(x.id,x)})}},f.updateSessionWithMsg=function(a){var l,c,u=!0,h=!0,C=typeof((l=a.pushInfo)===null||l===void 0?void 0:l.needPushBadge)!="boolean"||((c=a.pushInfo)===null||c===void 0?void 0:c.needPushBadge);try{u=!!this.unreadCountFilterFn(a)}catch(W){this.logger.error("session:updateSessionWithMsg, unreadCountFilterFn error",W)}try{h=!!this.lastMessageFilterFn(a)}catch(W){this.logger.error("session:updateSessionWithMsg, lastMessageFilterFn error",W)}var x=this.list.get(a.sessionId)||this.createSession(a.sessionId),k=!1;if(this.logger.log("session:updateSessionWithMsg, pending ",a.sessionId,a.idClient,a.idServer,h,u),h&&(!x.lastMsg||x.lastMsg.time<a.time||a.status===yi[yi.sending]||x.lastMsg.status===yi[yi.sending])&&(x.lastMsg=a,x.updateTime=a.time,k=!0),u&&C&&a.status===yi[yi.unread]&&a.time>(x.ack||0)){x.unread++;var B=x.unreadMsgs||[];B.unshift(a),mn(B).call(B,function(W,Y){return Y.time-W.time}),x.unreadMsgs=B,k=!0}k&&(this.logger.log("session:updateSessionWithMsg updating ",x.id,x.unread,x.lastMsg&&x.lastMsg.idClient),this.list.set(x.id,x),this.core.emit("updateSession",x))},f.updateSessionByModifyMsg=function(a){var l=this.list.get(a.sessionId)||this.createSession(a.sessionId),c=l.unreadMsgs||[],u=Ps(c).call(c,function(C){return C.idClient===a.idClient});u>-1&&(c[u]=a),l.unreadMsgs=c,this.list.set(l.id,l);var h=!0;try{h=!!this.lastMessageFilterFn(a)}catch(C){this.logger.error("session:updateSessionByModifyMsg, lastMessageFilterFn error",C)}h&&(l.lastMsg&&l.lastMsg.idClient!==a.idClient||(l.lastMsg=a,l.updateTime=a.time,this.logger.log("session:updateSessionByModifyMsg updating ",l.id,l.unread,l.lastMsg&&l.lastMsg.idClient),this.list.set(l.id,l),this.core.emit("updateSession",l)))},f.storeUnreadByAck=function(a,l){var c=this.list.get(a)||this.createSession(a);if(!(c.ack&&l<c.ack)){var u=c.unreadMsgs||[],h=[],C=[],x=0;return c.unreadMsgs=[],u.length>0&&(rt(u).call(u,function(k){or(C).call(C,k.idClient)||k.time>l&&(x++,C.push(k.idClient),h.push(k))}),c.unreadMsgs=mn(h).call(h,function(k,B){return B.time-k.time})),c.ack=l,c.unread=x,c.lastMsg&&c.lastMsg.status==="unread"&&l>=c.lastMsg.time&&(c.lastMsg.status="read"),this.list.set(a,c),c}this.logger.warn("storeUnreadByAck: not need update ack",a,l,c.ack)},f.updateSession=function(a,l){l===void 0&&(l=!0);var c=a.id,u=this.list.get(c)||this.createSession(a.id),h=ce(u,a);return this.list.set(c,h),this.logger.log("updateSession: update",l,dd(a,["id","ack","unread"]),h.lastMsg&&h.lastMsg.idClient),l&&this.core.emit("updateSession",h),h},f.isSessionComplete=function(a){return!!a&&!!(a.id&&a.scene&&a.to)&&a.lastMsg!==void 0},f.syncSessionAckHandler=function(a){var l,c,u=this,h=a.content.p2p||{},C=a.content.team.m_map||{};this.logger.log("syncSessionAck::",h,C),rt(l=Gn(h)).call(l,function(x){u.updateSession({id:"p2p-"+x,ack:h[x]},!1)}),rt(c=Gn(C)).call(c,function(x){u.updateSession({id:"team-"+x,ack:C[x]},!1)})},f.syncSuperTeamSessionAckHandler=function(a){var l,c=this,u=a.content.superTeam.m_map;this.logger.log("syncSuperTeamSessionAck::",u),rt(l=Gn(u)).call(l,function(h){c.updateSession({id:"superTeam-"+h,ack:u[h]},!1)})},f.syncMarkSessionAckHandler=function(a){var l=a.content,c=(l.scene===0?"p2p":l.scene===1?"team":"superTeam")+"-"+l.to,u=this.list.get(c);if(u&&u.ack&&l.timetag<u.ack)this.logger.warn("syncMarkSessionAckHandler: "+c+" do not need update ack",u.ack,l.timetag);else{var h=this.storeUnreadByAck(c,l.timetag);h&&this.core.emit("updateSession",h)}},f.syncMarkSuperTeamSessionAckHandler=function(a){a.content.scene=5,this.syncMarkSessionAckHandler(a)},f.onSyncDone=function(){var a,l,c,u=this,h=[];rt(a=this.list).call(a,function(C,x){h.push(u.storeUnreadByAck(x,C.ack||0))}),this.list.clear(),rt(l=mn(h).call(h,function(C,x){return C.updateTime-x.updateTime})).call(l,function(C){u.list.set(C.id,C)}),(h=mn(c=Tn(h).call(h,function(C){return u.isSessionComplete(C)})).call(c,function(C,x){return x.updateTime-C.updateTime})).length>0&&this.core.emit("sessions",h)},f.onSyncMsgs=function(a){var l,c=this,u=this.list.get(a.sessionId),h=[];try{var C;h=Tn(C=a.msgs).call(C,function(Y){var ne,se,xe=typeof((ne=Y.pushInfo)===null||ne===void 0?void 0:ne.needPushBadge)!="boolean"||((se=Y.pushInfo)===null||se===void 0?void 0:se.needPushBadge);return c.unreadCountFilterFn(JSON.parse($t(Y)))&&xe})}catch(Y){this.logger.error("session:onSyncMsgs, unreadCountFilterFn error ",Y)}var x,k=[];try{var B;k=Tn(B=a.msgs).call(B,function(Y){return c.lastMessageFilterFn(JSON.parse($t(Y)))})}catch(Y){this.logger.error("session:onSyncMsgs, lastMessageFilterFn error ",Y)}k&&k.length>0&&(x=k[k.length-1],x=k[0].time>x.time?k[0]:x);var W=x?x.time:0;u||(u=x?this.createSession(a.sessionId,x):this.createSession(a.sessionId)),u.unreadMsgs=u.unreadMsgs?Tn(l=Bn(h).call(h,u.unreadMsgs)).call(l,function(Y){return Y.status===yi[yi.unread]}):Tn(h).call(h,function(Y){return Y.status===yi[yi.unread]}),u.updateTime&&u.updateTime>=W||(u.updateTime=W),u.lastMsg&&u.lastMsg.time>=W||(u.lastMsg=x),this.list.set(u.id,u)},f.updateSessionForDeletedMsg=function(a){var l,c=this,u={};rt(a).call(a,function(h){var C,x=h.to===c.core.account?h.from:h.to,k=h.scene+"-"+x,B=c.list.get(k);if(B){var W=Mi(C=B.unreadMsgs).call(C,function(we){return we.idClient===h.idClient}),Y=!0;try{Y=!!c.unreadCountFilterFn(h)}catch(we){c.logger.error("session:updateSessionForDeletedMsg, unreadCountFilterFn error",we)}var ne=B.ack||0;if(Y&&W&&ne<h.time&&h.from!==c.core.account&&B.unread>0&&(B.unread=B.unread-1,B.unreadMsgs&&B.unreadMsgs.length>0)){var se,xe=function($e,Me){$e=$e||[],Me=Me||{};for(var Fe=0;Fe<$e.length;Fe++){var We=!0;for(var Ae in Me)if($e[Fe][Ae]!==Me[Ae]){We=!1;break}if(We)return Fe}return-1}(B.unreadMsgs,{idClient:h.idClient});xe>=0&&Qa(se=B.unreadMsgs).call(se,xe,1)}B.lastMsg&&B.lastMsg.idClient===h.idClient&&(B.lastMsg=null),u[B.id]=!0}}),rt(l=Gn(u)).call(l,function(h){var C=c.list.get(h);C&&c.core.emit("updateSession",C)})},f.multiSyncMsgReceiptHandler=function(a){var l,c=(l=a.content)===null||l===void 0?void 0:l.msgReceiptTag;if(c){this.updateSessionMsgReceiptTime([c],!0),c.msgReceiptTime=c.time,c.sessionId="p2p-"+c.from,c.time,c.from;var u=Ja(c,["time","from"]);this.core.emit("msgReceipts",[u])}},f.syncMsgReceiptsHandler=function(a){var l,c=(l=a.content)===null||l===void 0?void 0:l.msgReceipts;c&&this.updateSessionMsgReceiptTime(c,!1)},f.updateSessionMsgReceiptTime=function(a,l){var c=this;l===void 0&&(l=!0),a&&a.length>0&&rt(a).call(a,function(u){var h=c.list.get("p2p-"+u.from);h||(h=c.createSession("p2p-"+u.from));var C=un(u.time);h.msgReceiptTime&&h.msgReceiptTime>=C||(h.msgReceiptTime=C,h.lastMsg&&h.lastMsg.status==="sent"&&C>=h.lastMsg.time&&(h.lastMsg.status="receipt"),c.logger.log("session: update session "+h.id+" msgReceiptTime: "+h.msgReceiptTime),c.list.set(h.id,h),l&&c.core.emit("updateSession",h))})},y}(Ss),rre=function(){function p(f){this.core=f}var y=p.prototype;return y.notifyAddTeamMembers=function(o,a){this.core.emit("addTeamMembers",{team:o,accounts:a,members:Ane(o,a)})},y.notifyUpdateTeamManagers=function(o,a,l,c){this.core.emit("updateTeamManagers",{team:{teamId:o,memberUpdateTime:c},accounts:a,isManager:l,members:Qe(a).call(a,function(u){return{id:o+"-"+u,account:u,type:l?"manager":"normal",updateTime:c}})})},y.notifyRemoveTeamMembers=function(o,a){this.core.emit("removeTeamMembers",{team:o,accounts:a})},y.notifyTransferTeam=function(o,a,l){this.core.emit("transferTeam",{team:o,from:{id:o.teamId+"-"+a,type:"normal",account:a,updateTime:o.memberUpdateTime},to:{id:o.teamId+"-"+l,type:"owner",account:l,updateTime:o.memberUpdateTime}})},y.notifyUpdateTeamMembersMute=function(o,a,l){this.core.emit("updateTeamMembersMute",{team:o,accounts:a,members:Qe(a).call(a,function(c){return{id:o.teamId+"-"+c,account:c,teamId:o.teamId,mute:l,updateTime:o.memberUpdateTime}}),mute:l})},p}();function is(p,y){if((y=new Xa).get(p))return p;if(p instanceof RegExp)return new RegExp(p);if(p instanceof Date)return new Date(p.getTime());if(Nr(p))return y.set(p,!0),Qe(p).call(p,function(a){return is(a,y)});if(typeof p=="object"&&p!==null){var f;y.set(p,!0);var o={};return rt(f=Gn(p)).call(f,function(a){o[a]=is(p[a],y)}),o}return p}var are=function(p){function y(o){var a;return(a=p.call(this,"team",o)||this).myTeamMembersMap=new Xa,a.service=new rre(o),a.setListeners(),Wr({cmdMap:One,cmdConfig:kne}),a}pr(y,p);var f=y.prototype;return f.setListeners=function(){var a=this;this.core.eventBus.on("forwardReceive/team/updateMyMemberInfo",function(l){a.emitMemberUpdate(l)}),this.core.eventBus.on("team/onNotification",function(l){return a.notificationHandler(l)})},f.reset=function(){this.myTeamMembersMap.clear()},f.mergeMyTeamMembers=function(a){var l=this;rt(a).call(a,function(c){var u=c.teamId,h=l.myTeamMembersMap.get(u),C=ce({},h,c);l.myTeamMembersMap.set(u,C)})},f.getTeamInfo=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1}},a),C.next=3,this.core.sendCmd("getTeamInfo",{teamId:a.teamId});case 3:return c=C.sent,u=c.content.team,C.abrupt("return",Hp(u));case 6:case"end":return C.stop()}},l,this)}))},f.getTeams=function(){return le(this,void 0,void 0,q.mark(function a(){var l,c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.core.sendCmd("getTeams",{timetag:0});case 2:return l=h.sent,c=l.content.teams,h.abrupt("return",Qx(c));case 5:case"end":return h.stop()}},a,this)}))},f.getTeamsById=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({teamIds:{type:"array",itemType:"string"}},a),C.next=3,this.core.sendCmd("getTeamsById",{teamIds:a.teamIds});case 3:return c=C.sent,u=Qx(c.content.teams),C.abrupt("return",{teams:u,tids:c.content.tids});case 6:case"end":return C.stop()}},l,this)}))},f.createTeam=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ge({type:{type:"enum",values:["advanced","normal"]},name:{type:"string",allowEmpty:!1},level:{type:"number",required:!1},accounts:{type:"array",itemType:"string",required:!1},ps:{type:"string",allowEmpty:!0,max:5e3,required:!1},joinMode:{type:"enum",values:["noVerify","needVerify","rejectAll"],required:!1},beInviteMode:{type:"enum",values:["noVerify","needVerify"],required:!1},inviteMode:{type:"enum",values:["manager","all"],required:!1},updateTeamMode:{type:"enum",values:["manager","all"],required:!1},updateExtMode:{type:"enum",values:["manager","all"],required:!1},intro:{type:"string",allowEmpty:!0,required:!1},announcement:{type:"string",allowEmpty:!0,required:!1},avatar:{type:"string",allowEmpty:!0,required:!1},ext:{type:"string",allowEmpty:!0,required:!1}},a),c=Zx(a),x.next=4,this.core.sendCmd("createTeam",{team:c,accounts:a.accounts||[],ps:a.ps||""});case 4:return u=x.sent,h=Hp(u.content.team),this.core.eventBus.emit("forwardSend/team/created",h),x.abrupt("return",h);case 8:case"end":return x.stop()}},l,this)}))},f.dismissTeam=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1}},a),u.next=3,this.core.sendCmd("dismissTeam",{teamId:a.teamId});case 3:case"end":return u.stop()}},l,this)}))},f.leaveTeam=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1}},a),u.next=3,this.core.sendCmd("leaveTeam",{teamId:a.teamId});case 3:case"end":return u.stop()}},l,this)}))},f.transferTeam=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},account:{type:"string",allowEmpty:!1},leave:{type:"boolean"}},a),u.next=3,this.core.sendCmd("transferTeam",a);case 3:case"end":return u.stop()}},l,this)}))},f.updateTeamInfo=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},joinMode:{type:"enum",values:["noVerify","needVerify","rejectAll"],required:!1},beInviteMode:{type:"enum",values:["noVerify","needVerify"],required:!1},inviteMode:{type:"enum",values:["manager","all"],required:!1},updateTeamMode:{type:"enum",values:["manager","all"],required:!1},updateExtMode:{type:"enum",values:["manager","all"],required:!1},intro:{type:"string",allowEmpty:!0,required:!1},announcement:{type:"string",allowEmpty:!0,required:!1},avatar:{type:"string",allowEmpty:!0,required:!1},ext:{type:"string",allowEmpty:!0,required:!1}},a),c=Zx(a),h.next=4,this.core.sendCmd("updateTeamInfo",{team:c});case 4:return h.abrupt("return",Hp(c));case 5:case"end":return h.stop()}},l,this)}))},f.getTeamMembers=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},accounts:{type:"array",itemType:"string",required:!1}},a),x.next=3,this.core.sendCmd("getTeamMembers",{teamId:a.teamId,timetag:0});case 3:if(u=x.sent,h=J$((l=u.content)===null||l===void 0?void 0:l.teamMembers),a.accounts&&a.accounts.length>0){x.next=7;break}return x.abrupt("return",h);case 7:return x.abrupt("return",Tn(h).call(h,function(k){var B;return(B=a.accounts)===null||B===void 0?void 0:or(B).call(B,k.account)}));case 8:case"end":return x.stop()}},c,this)}))},f.getMutedTeamMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1}},a),C.next=3,this.core.sendCmd("getMutedTeamMembers",{teamId:a.teamId});case 3:return c=C.sent,u=c.content,C.abrupt("return",J$(u.teamMembers));case 6:case"end":return C.stop()}},l,this)}))},f.addTeamMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},accounts:{type:"array",itemType:"string",min:1},ps:{type:"string",allowEmpty:!0,max:5e3,required:!1}},a),u.next=3,this.core.sendCmd("addTeamMembers",{teamId:a.teamId,accounts:a.accounts,ps:a.ps||"",attach:a.ext||""});case 3:case"end":return u.stop()}},l,this)}))},f.removeTeamMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},accounts:{type:"array",itemType:"string",min:1}},a),u.next=3,this.core.sendCmd("removeTeamMembers",{teamId:a.teamId,accounts:a.accounts});case 3:case"end":return u.stop()}},l,this)}))},f.applyTeam=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},ps:{type:"string",allowEmpty:!0,max:5e3,required:!1}},a),h.next=3,this.core.sendCmd("applyTeam",{teamId:a.teamId,ps:a.ps||""});case 3:return c=h.sent,h.abrupt("return",Hp(c.content.team));case 5:case"end":return h.stop()}},l,this)}))},f.addTeamManagers=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},accounts:{type:"array",min:1,itemType:"string"}},a),u.next=3,this.core.sendCmd("addTeamManagers",a);case 3:case"end":return u.stop()}},l,this)}))},f.removeTeamManagers=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},accounts:{type:"array",min:1,itemType:"string"}},a),u.next=3,this.core.sendCmd("removeTeamManagers",a);case 3:case"end":return u.stop()}},l,this)}))},f.updateMyMemberInfo=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},nickInTeam:{type:"string",allowEmpty:!0,required:!1},bitConfigMask:{type:"number",min:0,max:2,required:!1},ext:{type:"string",required:!1}},a),c=X$({teamId:a.teamId,nickInTeam:a.nickInTeam,bitConfigMask:a.bitConfigMask,ext:a.ext}),x.next=4,this.core.sendCmd("updateMyMemberInfo",{teamMember:c});case 4:return u=Ev(ce({updateTime:new Date().getTime(),account:this.core.account},c)),h=this.emitMemberUpdate(u),this.core.eventBus.emit("forwardSend/team/updateMyMemberInfo",h),x.abrupt("return",u);case 8:case"end":return x.stop()}},l,this)}))},f.emitMemberUpdate=function(a){a=Ev(a),this.mergeMyTeamMembers([a]),this.core.emit("updateTeamMember",a);var l=is(this.myTeamMembersMap.get(a.teamId));return this.core.emit("myTeamMembers",[l]),l},f.updateMemberNick=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},account:{type:"string",allowEmpty:!1},nickInTeam:{type:"string",allowEmpty:!0}},a),c=X$({teamId:a.teamId,nickInTeam:a.nickInTeam,account:a.account}),C.next=4,this.core.sendCmd("updateNickInTeam",{teamMember:c});case 4:return u=Ev(ce({updateTime:new Date().getTime()},c)),C.abrupt("return",u);case 6:case"end":return C.stop()}},l,this)}))},f.muteTeamMember=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},account:{type:"string",allowEmpty:!1},mute:{type:"boolean"}},a),u.next=3,this.core.sendCmd("muteTeamMember",{teamId:a.teamId,account:a.account,mute:a.mute?1:0});case 3:case"end":return u.stop()}},l,this)}))},f.getTeamMemberInvitorAccid=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},accounts:{type:"array",itemType:"string",max:200}},a),u={teamId:a.teamId},a.accounts&&a.accounts.length>0&&(u.accounts=a.accounts),x.next=5,this.core.sendCmd("getTeamMemberInvitorAccid",u);case 5:return h=x.sent,x.abrupt("return",((l=h.content)===null||l===void 0?void 0:l.accountsMap)||{});case 7:case"end":return x.stop()}},c,this)}))},f.muteTeam=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},mute:{type:"boolean"}},a),u.next=3,this.core.sendCmd("muteTeam",{teamId:a.teamId,mute:a.mute?1:0});case 3:case"end":return u.stop()}},l,this)}))},f.passTeamApply=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},from:{type:"string",allowEmpty:!1}},a),h.prev=1,h.next=4,this.core.sendCmd("passTeamApply",a);case 4:this.core.eventBus.emit("forwardSend/team/passTeamApply",a),h.next=12;break;case 7:throw h.prev=7,h.t0=h.catch(1),c=h.t0,this.core.eventBus.emit("forwardSend/team/passTeamApply",a,c==null?void 0:c.code),h.t0;case 12:case"end":return h.stop()}},l,this,[[1,7]])}))},f.rejectTeamApply=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},from:{type:"string",allowEmpty:!1},ps:{type:"string",max:5e3,required:!1}},a),h.prev=1,h.next=4,this.core.sendCmd("rejectTeamApply",{teamId:a.teamId,from:a.from,ps:a.ps||""});case 4:this.core.eventBus.emit("forwardSend/team/rejectTeamApply",a),h.next=12;break;case 7:throw h.prev=7,h.t0=h.catch(1),c=h.t0,this.core.eventBus.emit("forwardSend/team/rejectTeamApply",a,c==null?void 0:c.code),h.t0;case 12:case"end":return h.stop()}},l,this,[[1,7]])}))},f.acceptTeamInvite=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},from:{type:"string",allowEmpty:!1}},a),h.prev=1,h.next=4,this.core.sendCmd("acceptTeamInvite",a);case 4:this.core.eventBus.emit("forwardSend/team/acceptTeamInvite",a),h.next=12;break;case 7:throw h.prev=7,h.t0=h.catch(1),c=h.t0,this.core.eventBus.emit("forwardSend/team/acceptTeamInvite",a,c==null?void 0:c.code),h.t0;case 12:case"end":return h.stop()}},l,this,[[1,7]])}))},f.rejectTeamInvite=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},from:{type:"string",allowEmpty:!1},ps:{type:"string",max:5e3,required:!1}},a),h.prev=1,h.next=4,this.core.sendCmd("rejectTeamInvite",{teamId:a.teamId,from:a.from,ps:a.ps||""});case 4:this.core.eventBus.emit("forwardSend/team/rejectTeamInvite",a),h.next=12;break;case 7:throw h.prev=7,h.t0=h.catch(1),c=h.t0,this.core.eventBus.emit("forwardSend/team/rejectTeamInvite",a,c==null?void 0:c.code),h.t0;case 12:case"end":return h.stop()}},l,this,[[1,7]])}))},f.notifyTeamMsgReceiptsHandler=function(a){var l,c=(l=a.content)===null||l===void 0?void 0:l.teamMsgReceipts;c&&c.length>0&&(this.core.emit("teamMsgReceipts",c),this.core.emit("msgReceipts",c))},f.syncTeamsHandler=function(a){var l=a.content;this.core.eventBus.emit("sync/updateTimetag",{teams:un(l.timetag)});var c=l==null?void 0:l.teams;if(c&&c.length){var u=Qx(c);this.core.emit("teams",u)}},f.syncCreateTeamHandler=function(a){var l=a.content,c=Hp(l==null?void 0:l.team),u=Q$(c,c.owner,"owner");this.core.emit("createTeam",c,u)},f.syncUpdateTeamMemberHandler=function(a){var l=a.content,c=Ev(l==null?void 0:l.teamMember);c.updateTime||(c.updateTime=new Date().getTime()),this.mergeMyTeamMembers([c]),this.core.emit("updateTeamMember",c);var u=is(this.myTeamMembersMap.get(c.teamId));this.core.emit("myTeamMembers",[u])},f.syncMyTeamMembersHandler=function(a){var l,c=a.content;this.core.eventBus.emit("sync/updateTimetag",{myTeamMembers:un(c.timetag)});var u=c==null?void 0:Qe(l=c.teamMembers).call(l,function(h){return Ev(h)});this.mergeMyTeamMembers(u),this.core.emit("myTeamMembers",is(u))},f.notificationHandler=function(a){var l=a.attach,c=a.scene,u=a.from,h=a.to,C=a.time,x=a.idServer,k=a.idClient,B=l.team,W=l.account,Y=l.accounts,ne=l.type;if(c==="team")switch(this.logger.getDebugMode()?this.logger.debug("team::recvNotification",x,k,l):this.logger.log("team::recvNotification",x,k,h,ne,W,Y),ne){case"updateTeam":B.updateTime=C,this.core.emit("updateTeam",B);break;case"addTeamMembers":this.service.notifyAddTeamMembers(B,Y);break;case"acceptTeamInvite":this.service.notifyAddTeamMembers(B,[u]);break;case"passTeamApply":this.service.notifyAddTeamMembers(B,[W]);break;case"addTeamManagers":this.service.notifyUpdateTeamManagers(h,Y,!0,C);break;case"removeTeamManagers":this.service.notifyUpdateTeamManagers(h,Y,!1,C);break;case"removeTeamMembers":this.service.notifyRemoveTeamMembers(B,Y);break;case"leaveTeam":this.service.notifyRemoveTeamMembers(B,[u]);break;case"dismissTeam":this.core.emit("dismissTeam",{teamId:h});break;case"transferTeam":this.service.notifyTransferTeam(B,u,W);break;case"updateTeamMemberMute":this.service.notifyUpdateTeamMembersMute(B,[W],l.mute)}},y}(Ss),ire={"4_6":"syncOfflineSysMsgs","4_18":"syncOfflineSysMsgs","4_19":"syncRecallMsgOfflineAndRoaming","7_3":"onSysMsg","7_7":"sendCustomSysMsg","7_14":"onRecallMsg","21_18":"onRecallMsg","21_117":"onRecallMsg","7_15":"syncRecallMsgOfflineAndRoaming","21_19":"onSysMsg","21_16":"sendSuperTeamCustomSysMsg"},jC={sysMsg:ce({time:0,type:1,to:2,from:3,content:4,attach:5,idServer:6,needSaveOffline:7,deletedIdClient:10,deletedIdServer:11,needcAntiSpam:12,antiSpamContent:13,deletedMsgCreateTime:14,deletedMsgFromNick:15,opeAccount:16,envConfig:21,callbackExt:22,isRoutable:105},iU)},zS=po(jC),ore={onSysMsg:{service:"systemMessage",sid:7,cid:3,response:[{type:"Property",name:"sysMsg",reflectMapper:zS.sysMsg}]},sendCustomSysMsg:{service:"systemMessage",sid:7,cid:7,params:[{type:"Property",name:"sysMsg",reflectMapper:jC.sysMsg}]},sendSuperTeamCustomSysMsg:{service:"systemMessage",sid:21,cid:16,params:[{type:"Property",name:"sysMsg",reflectMapper:jC.sysMsg}]},sendFilterCustomSysMsg:{service:"systemMessage",sid:101,cid:7,params:[{type:"Property",name:"sysMsg",reflectMapper:jC.sysMsg}]},batchMarkRead:{service:"systemMessage",sid:4,cid:5,hasPacketResponse:!1,params:[{type:"Byte",name:"sid"},{type:"Byte",name:"cid"},{type:"LongArray",name:"ids"}]},onRecallMsg:{sid:7,cid:14,service:"systemMessage",response:[{type:"Property",name:"sysMsg",reflectMapper:zS.sysMsg}]},syncRecallMsgOfflineAndRoaming:{sid:7,cid:15,service:"systemMessage",response:[{type:"PropertyArray",name:"sysMsgs",reflectMapper:zS.sysMsg},{type:"Long",name:"timetag"},{type:"Byte",name:"type"}]},syncOfflineSysMsgs:{sid:4,cid:9,service:"systemMessage",response:[{type:"PropertyArray",name:"sysMsgs",reflectMapper:zS.sysMsg}]}},sre=function(p){function y(o){var a;return(a=p.call(this,"systemMessage",o)||this).sysMsgUnread={total:0,friend:0,msg:0,team:0,superTeam:0},a.core.eventBus.on("logined",function(){a.initEventListeners()}),Wr({cmdMap:ire,cmdConfig:ore}),a}pr(y,p);var f=y.prototype;return f.initEventListeners=function(){var a=this;this.core.eventBus.on("systemMessage/passFriendApply",function(l){a.core.emit("updateSystemMessages",[{idServer:l.idServer,from:l.account,state:"pass",type:"friendRequest"}])}),this.core.eventBus.on("systemMessage/rejectFriendApply",function(l){a.core.emit("updateSystemMessages",[{idServer:l.idServer,from:l.account,state:"decline",type:"friendRequest"}])})},f.doMarkSysMsgAck=function(a){var l=[],c=[],u=["customSuperTeam"];rt(a).call(a,function(h){h.idServer&&(or(u).call(u,h.type)?c.push(h.idServer):l.push(h.idServer))}),l.length>0&&this.core.sendCmd("batchMarkRead",{sid:"7",cid:"3",ids:l}),c.length>0&&this.core.sendCmd("batchMarkRead",{sid:"21",cid:"19",ids:c})},f.sendCustomSysMsg=function(a){var l=this;ge({to:{type:"string",allowEmpty:!1},type:{type:"enum",values:["customP2p","customTeam","customSuperTeam"]},attach:{type:"string",allowEmpty:!1},setting:{type:"object",rules:{needSaveOffline:{type:"boolean",required:!1},env:{type:"string",allowEmpty:!1,required:!1}},required:!1},pushInfo:{type:"object",required:!1,rules:nw}},a);var c=a.type==="customSuperTeam"?"sendSuperTeamCustomSysMsg":"sendCustomSysMsg";return this.core.sendCmd(c,{sysMsg:zne(a)}).then(function(){l.logger.log("sendCustomSysMsg success")}).catch(function(u){throw l.logger.error("sendCustomSysMsg failed",u.message),u})},f.onSysMsgHandler=function(a){var l,c=(l=a.content)===null||l===void 0?void 0:l.sysMsg;if(c){var u=FS(c=Bs(a,a.content.sysMsg,"idServer"),this.logger,Sd.default);this.core.emit("sysMsg",u),this.doMarkSysMsgAck([u])}else this.logger.warn("onSysMsg no content.sysMsg")},f.syncOfflineSysMsgsHandler=function(a){var l,c=this;if(a.content.sysMsgs&&a.content.sysMsgs.length>0){var u=Qe(l=a.content.sysMsgs).call(l,function(h){return FS(h,c.logger,Sd.leave)});this.core.emit("syncSysMsgs",u),this.doMarkSysMsgAck(u)}},f.onRecallMsgHandler=function(a){var l,c=(l=a.content)===null||l===void 0?void 0:l.sysMsg;if(c){var u=Hf([c=Bs(a,a.content.sysMsg,"idServer")],sU(+c.type));this.core.eventBus.emit("session/updateForDeletedMsg",u);var h=FS(c,this.logger,Sd.default);this.core.emit("sysMsg",h),this.doMarkSysMsgAck([h])}else this.logger.warn("onSysMsg no content.sysMsg")},f.syncRecallMsgOfflineAndRoamingHandler=function(a){var l=this,c=a.content,u=c.timetag,h=c.type,C=c.sysMsgs,x=un(h),k=x===1?Sd.leave:Sd.roam,B=Qe(C).call(C,function(W){return FS(W,l.logger,k)});x===1&&this.doMarkSysMsgAck(B),this.core.eventBus.emit("sync/updateTimetag",{recallMsg:u}),this.core.emit("syncSysMsgs",B)},y}(Ss);function rw(p){var y=["bitsExtension","createTime","updateTime","passRelationShip","relationShip","source"],f=ce({},p);return rt(y).call(y,function(o){f[o]!==void 0&&(f[o]=un(f[o]))}),f.relationShip!==void 0&&(f.valid=f.relationShip===1),f}var lre={1:"addFriend",2:"applyFriend",3:"passFriendApply",4:"rejectFriendApply"},cre={"12_4":"getFriends","12_1":"friendReuqest","12_2":"deleteFriend","12_3":"updateFriend","12_5":"syncFriends","12_6":"syncFriendUsers","12_101":"syncFriendRequest","12_102":"syncDeleteFriend","12_103":"syncUpdateFriend"},aw={updateFriendTag:{account:4,alias:8,ext:10},delFriendParams:{delAlias:1},friendTag:{account:4,relationShip:5,passRelationShip:6,source:7,alias:8,bitsExtension:9,ext:10,createTime:11,updateTime:12,serverex:13},userTag:{account:1,nick:3,avatar:4,sign:5,gender:6,email:7,birth:8,tel:9,ext:10,createTime:12,updateTime:13}},VC=po(aw),ure={getFriends:{sid:12,cid:4,service:"friend",params:[{type:"Long",name:"timetag"}],response:[{type:"PropertyArray",name:"friends",reflectMapper:VC.friendTag},{type:"Long",name:"timetag"}]},friendReuqest:{sid:12,cid:1,service:"friend",params:[{type:"String",name:"account"},{type:"Byte",name:"type"},{type:"String",name:"ps"}]},deleteFriend:{sid:12,cid:2,service:"friend",params:[{type:"String",name:"account"},{type:"Property",name:"delFriendParams",reflectMapper:aw.delFriendParams}]},updateFriend:{sid:12,cid:3,service:"friend",params:[{type:"Property",name:"updateFriendTag",reflectMapper:aw.updateFriendTag}]},syncFriends:{sid:12,cid:5,service:"friend",response:[{type:"PropertyArray",name:"friends",entity:"friendTag",reflectMapper:VC.friendTag},{type:"Long",name:"timetag"}]},syncFriendUsers:{sid:12,cid:6,service:"friend",response:[{type:"PropertyArray",name:"users",entity:"userTag",reflectMapper:VC.userTag},{type:"Long",name:"timetag"}]},syncFriendRequest:{sid:12,cid:101,service:"friend",params:[{type:"String",name:"account"},{type:"Byte",name:"type"},{type:"String",name:"ps"}],response:[{type:"String",name:"account"},{type:"Byte",name:"type"},{type:"String",name:"ps"}]},syncDeleteFriend:{sid:12,cid:102,service:"friend",response:[{type:"String",name:"account"}]},syncUpdateFriend:{sid:12,cid:103,service:"friend",response:[{type:"Property",name:"friend",reflectMapper:VC.friendTag}]}},dre=function(p){function y(o){var a;return a=p.call(this,"friend",o)||this,Wr({cmdMap:cre,cmdConfig:ure}),a}pr(y,p);var f=y.prototype;return f.getFriends=function(){var a;return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.core.sendCmd("getFriends",{timetag:0});case 2:return c=C.sent,u=((a=c.content)===null||a===void 0?void 0:a.friends)||[],u=Qe(u).call(u,function(x){return rw(x)}),C.abrupt("return",u);case 6:case"end":return C.stop()}},l,this)}))},f.addFriend=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({account:{type:"string",allowEmpty:!1},ps:{type:"string",allowEmpty:!1,required:!1}},a),h.next=3,this.core.sendCmd("friendReuqest",{account:a.account,type:1,ps:a.ps||""});case 3:return c=new Date().getTime(),this.core.eventBus.emit("forwardSend/friend/addFriend",a.account),h.abrupt("return",{account:a.account,createTime:c,updateTime:c,valid:!0,source:0,passRelationShip:1,relationShip:1,bitsExtension:0});case 6:case"end":return h.stop()}},l,this)}))},f.applyFriend=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({account:{type:"string",allowEmpty:!1}},a),u.next=3,this.core.sendCmd("friendReuqest",{account:a.account,type:2,ps:a.ps||""});case 3:case"end":return u.stop()}},l,this)}))},f.passFriendApply=function(a){return le(this,void 0,void 0,q.mark(function l(){var c=this;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({account:{type:"string",allowEmpty:!1}},a),h.prev=1,h.next=4,this.core.sendCmd("friendReuqest",{account:a.account,type:3,ps:a.ps||""}).then(function(C){return c.core.eventBus.emit("systemMessage/passFriendApply",a),C});case 4:this.core.eventBus.emit("forwardSend/friend/passFriendApply",a.account),h.next=11;break;case 7:throw h.prev=7,h.t0=h.catch(1),this.core.eventBus.emit("forwardSend/friend/passFriendApply",a.account,h.t0),h.t0;case 11:case"end":return h.stop()}},l,this,[[1,7]])}))},f.rejectFriendApply=function(a){return le(this,void 0,void 0,q.mark(function l(){var c=this;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({account:{type:"string",allowEmpty:!1}},a),h.prev=1,h.next=4,this.core.sendCmd("friendReuqest",{account:a.account,type:4,ps:a.ps||""}).then(function(C){return c.core.eventBus.emit("systemMessage/rejectFriendApply",a),C});case 4:this.core.eventBus.emit("forwardSend/friend/rejectFriendApply",a.account,a.ps),h.next=11;break;case 7:throw h.prev=7,h.t0=h.catch(1),this.core.eventBus.emit("forwardSend/friend/rejectFriendApply",a.account,a.ps,h.t0),h.t0;case 11:case"end":return h.stop()}},l,this,[[1,7]])}))},f.deleteFriend=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({account:{type:"string",allowEmpty:!1},delAlias:{type:"boolean"}},a),u.next=3,this.core.sendCmd("deleteFriend",{account:a.account,delFriendParams:{delAlias:a.delAlias===!0?1:0}});case 3:this.core.eventBus.emit("forwardSend/friend/deleteFriend",a.account);case 4:case"end":return u.stop()}},l,this)}))},f.updateFriend=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({account:{type:"string",allowEmpty:!1},alias:{type:"string"},ext:{type:"string",required:!1}},a),u.next=3,this.core.sendCmd("updateFriend",{updateFriendTag:a});case 3:this.core.eventBus.emit("forwardSend/friend/updateFriend",a);case 4:case"end":return u.stop()}},l,this)}))},f.syncFriendRequestHandler=function(a){var l=function(u){var h=ce({},u);try{h.ps=h.ps&&JSON.parse(h.ps)}catch{}if(h.type=lre[h.type],h.type==="addFriend"||h.type==="passFriendApply"){var C=new Date().getTime();h.friend={account:u.account,alias:"",createTime:C,ext:"",updateTime:C,valid:!0}}return h}(a.content);this.core.emit("syncFriend",l)},f.syncDeleteFriendHandler=function(a){var l=a.content.account;this.logger.log("friend::emit syncFriendAction: deleteFriend "+l),this.core.emit("syncFriend",{type:"deleteFriend",account:l})},f.syncUpdateFriendHandler=function(a){var l=rw(a.content.friend);this.logger.log("friend::emit syncFriendAction: updateFriend, ",l==null?void 0:l.account),this.core.emit("syncFriend",{type:"updateFriend",friend:l})},f.syncFriendsHandler=function(a){var l=a.content;this.core.eventBus.emit("sync/updateTimetag",{friends:un(l.timetag)});var c=l==null?void 0:l.friends;if(c&&c.length){var u=Qe(c).call(c,function(h){return rw(h)});this.core.emit("friends",u)}},f.syncFriendUsersHandler=function(a){var l=a.content;this.core.eventBus.emit("sync/updateTimetag",{friendUsers:un(l.timetag)});var c=l==null?void 0:l.users;if(c&&c.length){var u=Qe(c).call(c,function(h){return Cv(h)});this.core.emit("users",u)}},y}(Ss);function pre(p){return p&&p.length>0?Qe(p).call(p,function(y){return function(o){var a=ce({},o),l=["subscribeTime","time"];return rt(l).call(l,function(c){a[c]&&(a[c]=un(a[c]))}),a}(y)}):[]}function iw(p){if(!p)return p;var y=p.serverExt,f=Ja(p,["serverExt"]),o=["time","type","value"];if(rt(o).call(o,function(a){f[a]&&(f[a]=un(f[a]))}),f.clientType&&(f.clientType=hc(cv,f.clientType)||""),y)try{f.ext=JSON.parse(y),typeof f.ext[0]=="string"&&(f.ext=f.ext[0])}catch{}return f}var mre={"14_1":"publishEvent","14_2":"pushEvent","14_3":"subscribeEvent","14_4":"unSubscribeEventsByAccounts","14_5":"unSubscribeEventsByType","14_6":"querySubscribeEventsByAccounts","14_7":"querySubscribeEventsByType","14_9":"pushEvents"},Kf={msgEvent:{type:1,value:2,idClient:3,ext:4,validTime:5,broadcastType:6,sync:7,validTimeType:8,durable:9,time:10,idServer:11,clientType:12,serverConfig:13,serverExt:14,appid:101,account:103,enableMultiClient:104,consid:106},msgEventSubscribe:{type:1,subscribeTime:2,sync:3,to:102,from:104,time:105}},HS=po(Kf),fre={publishEvent:{sid:14,cid:1,service:"event",params:[{type:"Property",name:"msgEvent",reflectMapper:Kf.msgEvent}],response:[{type:"Property",name:"msgEvent",reflectMapper:HS.msgEvent}]},pushEvent:{sid:14,cid:2,service:"event",response:[{type:"Property",name:"msgEvent",reflectMapper:HS.msgEvent}]},subscribeEvent:{sid:14,cid:3,service:"event",params:[{type:"Property",name:"msgEventSubscribe",reflectMapper:Kf.msgEventSubscribe},{type:"StrArray",name:"accounts"}],response:[{type:"StrArray",name:"accounts"}]},unSubscribeEventsByAccounts:{sid:14,cid:4,service:"event",params:[{type:"Property",name:"msgEventSubscribe",reflectMapper:Kf.msgEventSubscribe},{type:"StrArray",name:"accounts"}],response:[{type:"StrArray",name:"accounts"}]},unSubscribeEventsByType:{sid:14,cid:5,service:"event",params:[{type:"Property",name:"msgEventSubscribe",reflectMapper:Kf.msgEventSubscribe}]},querySubscribeEventsByAccounts:{sid:14,cid:6,service:"event",params:[{type:"Property",name:"msgEventSubscribe",reflectMapper:Kf.msgEventSubscribe},{type:"StrArray",name:"accounts"}],response:[{type:"PropertyArray",name:"msgEventSubscribes",reflectMapper:HS.msgEventSubscribe}]},querySubscribeEventsByType:{sid:14,cid:7,service:"event",params:[{type:"Property",name:"msgEventSubscribe",reflectMapper:Kf.msgEventSubscribe}],response:[{type:"PropertyArray",name:"msgEventSubscribes",reflectMapper:HS.msgEventSubscribe}]},pushEvents:{sid:14,cid:9,service:"event",response:[{type:"PropertyArray",name:"msgEvents",reflectMapper:HS.msgEvent}]}},gre=function(p){function y(o){var a;return a=p.call(this,"event",o)||this,Wr({cmdMap:mre,cmdConfig:fre}),a}pr(y,p);var f=y.prototype;return f.publishEvent=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({type:{type:"number"},value:{type:"number"},ext:{type:"string",required:!1},validTime:{type:"number",min:60,max:2592e3,required:!1},broadcastType:{type:"number",required:!1},sync:{type:"boolean",required:!1}},a),u=ce(ce({validTime:a.validTime||604800,broadcastType:a.broadcastType||2},a),{idClient:ai(),sync:a.sync===!0?1:0}),k.next=4,this.core.sendCmd("publishEvent",{msgEvent:u});case 4:return h=k.sent,C=((l=h.content)===null||l===void 0?void 0:l.msgEvent)||{},k.abrupt("return",iw(C));case 7:case"end":return k.stop()}},c,this)}))},f.subscribeEvent=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({type:{type:"number"},accounts:{type:"array",itemType:"string",max:100},subscribeTime:{type:"number",min:60,max:2592e3,required:!1}},a),u=ce(ce({subscribeTime:2592e3},a),{sync:a.sync===!0?1:0}),k.next=4,this.core.sendCmd("subscribeEvent",{msgEventSubscribe:u,accounts:a.accounts});case 4:return h=k.sent,C=((l=h.content)===null||l===void 0?void 0:l.accounts)||[],k.abrupt("return",{failedAccounts:C});case 7:case"end":return k.stop()}},c,this)}))},f.unSubscribeEvents=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(ge({type:{type:"number"},accounts:{type:"array",itemType:"string",max:100,required:!1}},a),u={type:a.type},!(a.accounts&&a.accounts.length>0)){k.next=9;break}return k.next=5,this.core.sendCmd("unSubscribeEventsByAccounts",{msgEventSubscribe:u,accounts:a.accounts});case 5:C=k.sent,h=((l=C.content)===null||l===void 0?void 0:l.accounts)||[],k.next=12;break;case 9:return k.next=11,this.core.sendCmd("unSubscribeEventsByType",{msgEventSubscribe:u});case 11:h=[];case 12:return k.abrupt("return",{failedAccounts:h});case 13:case"end":return k.stop()}},c,this)}))},f.querySubscribeEvents=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(ge({type:{type:"number"},accounts:{type:"array",itemType:"string",max:100,required:!1}},a),!(a.accounts&&a.accounts.length>0)){C.next=7;break}return C.next=4,this.core.sendCmd("querySubscribeEventsByAccounts",{msgEventSubscribe:{type:a.type},accounts:a.accounts});case 4:u=C.sent,C.next=10;break;case 7:return C.next=9,this.core.sendCmd("querySubscribeEventsByType",{msgEventSubscribe:{type:a.type}});case 9:u=C.sent;case 10:return C.abrupt("return",pre((l=u.content)===null||l===void 0?void 0:l.msgEventSubscribes));case 11:case"end":return C.stop()}},c,this)}))},f.pushEventHandler=function(a){var l,c=((l=a.content)===null||l===void 0?void 0:l.msgEvent)||{};this.core.emit("pushEvents",[iw(c)])},f.pushEventsHandler=function(a){var l,c=((l=a.content)===null||l===void 0?void 0:l.msgEvents)||{};this.core.emit("pushEvents",function(h){return Nr(h)&&h.length>0?Qe(h).call(h,function(C){return iw(C)}):[]}(c))},y}(Ss);function hre(p){var y={scene:Qi[p.scene],from:p.threadMsgFromAccount,to:p.threadMsgToAccount,time:p.threadMsgTime,idServer:p.threadMsgIdServer},f={limit:p.limit<100?p.limit:100,beginTime:typeof p.beginTime=="number"?p.beginTime:0,reverse:js(p)===!0?1:0};return p.lastMsgId&&(f.lastMsgId=p.lastMsgId),{msg:y,threadMsgReq:f}}var $C,vre={"23_1":"getThreadMsgs","23_2":"getMsgsByIdServer"},UC={msg:Wp,threadMsgReq:{beginTime:1,endTime:2,lastMsgId:3,limit:4,reverse:5},threadMsgsMeta:{total:1,lastMsgTime:2}},BC=po(UC),yre={getThreadMsgs:{sid:23,cid:1,service:"msgExtend",params:[{type:"Property",name:"msg",reflectMapper:UC.msg},{type:"Property",name:"threadMsgReq",reflectMapper:UC.threadMsgReq}],response:[{type:"Property",name:"threadMsg",reflectMapper:BC.msg},{type:"Property",name:"threadMsgsMeta",reflectMapper:BC.threadMsgsMeta},{type:"PropertyArray",name:"msgs",reflectMapper:BC.msg}]},getMsgsByIdServer:{sid:23,cid:2,service:"msgExtend",params:[{type:"PropertyArray",name:"reqMsgs",reflectMapper:UC.msg}],response:[{type:"PropertyArray",name:"msgs",reflectMapper:BC.msg}]}},bre=function(p){function y(o){var a;return a=p.call(this,"msgExtend",o)||this,Wr({cmdMap:vre,cmdConfig:yre}),a}pr(y,p);var f=y.prototype;return f.getThreadMsgs=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x,k,B,W;return q.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ge({scene:{type:"enum",values:Kr(Qi)},threadMsgFromAccount:{type:"string",allowEmpty:!1},threadMsgIdServer:{type:"string",allowEmpty:!1},threadMsgTime:{type:"number"},threadMsgToAccount:{type:"string",allowEmpty:!1},beginTime:{type:"number",required:!1},endTime:{type:"number",required:!1},lastMsgId:{type:"string",allowEmpty:!1,required:!1},limit:{type:"number",min:1,max:100,required:!1},reverse:{type:"boolean",required:!1}},a),ne.next=3,this.core.sendCmd("getThreadMsgs",hre(a));case 3:return u=ne.sent,h=u.content,C=h.msgs,x=h.threadMsg,k=u.content.threadMsgsMeta,B=Gp(x,this.core.account),W=(l=this.core.session)===null||l===void 0?void 0:l.getSessionWithUncomplete({id:B}),C=tw(C,W?{account:this.core.account,sessionAck:W.ack,msgReceiptTime:W.msgReceiptTime}:{account:this.core.account}),x=ll(x,W?{account:this.core.account,sessionAck:W.ack,msgReceiptTime:W.msgReceiptTime}:{account:this.core.account}),ne.abrupt("return",{msgs:C,threadMsg:x,total:un(k.total),timetag:un(k.lastMsgTime)});case 11:case"end":return ne.stop()}},c,this)}))},f.getMsgsByIdServer=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x=this;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return ge({reqMsgs:{type:"array",rules:{scene:{type:"enum",values:Kr(Qi)},from:{type:"string",allowEmpty:!1},to:{type:"string",allowEmpty:!1},idServer:{type:"string",allowEmpty:!1},time:{type:"number"}},min:1,max:100}},a),B.next=3,this.core.sendCmd("getMsgsByIdServer",{reqMsgs:Qe(c=a.reqMsgs).call(c,function(W){return ce(ce({},W),{scene:hc(Qi,W.scene)})})});case 3:return h=B.sent,C=Qe(u=h.content.msgs).call(u,function(W){var Y,ne=Gp(W,x.core.account),se=(Y=x.core.session)===null||Y===void 0?void 0:Y.getSessionWithUncomplete({id:ne});return ll(W,se?{account:x.core.account,sessionAck:se.ack,msgReceiptTime:se.msgReceiptTime}:{account:x.core.account})}),B.abrupt("return",C);case 6:case"end":return B.stop()}},l,this)}))},y}(Ss);(function(p){p[p.ASC=1]="ASC",p[p.DESC=2]="DESC"})($C||($C={}));var ow,Sre={"7_6":"getHistoryMsgs","7_9":"deleteRoamingMsgs","4_24":"syncClearServerHistoryMsgs","7_18":"clearHistoryMsgsFromServer","7_118":"multiSyncClearServerHistoryMsgs","7_26":"nimFtsCloudMsgLogsAggWithSession","7_27":"nimFtsCloudMsgLogs"},GS={msg:Wp,clearHistoryMsgsFromServerReqTag:{type:0,otherAccid:1,isDeleteRoam:2,toTid:3,isSyncSelf:4,time:6,ext:7},clearMsgsParamsWithSync:{type:0,otherAccid:1,isDeleteRoam:2,toTid:3,isSyncSelf:4,fromAccid:5,time:6,ext:7},ftsReqTag:{keyword:1,fromTime:2,toTime:3,sessionLimit:4,msglogsLimit:5,orderRule:6,p2pSessionList:7,teamSessionList:8,senderList:9,msgTypeList:10,msgSubTypeList:11}},Mv=po(GS),Ire={deleteRoamingMsgs:{sid:7,cid:9,service:"msgLog",params:[{type:"StrArray",name:"ids"}]},getHistoryMsgs:{sid:7,cid:6,params:[{type:"String",name:"to"},{type:"Long",name:"beginTime"},{type:"Long",name:"endTime"},{type:"Long",name:"lastMsgId"},{type:"Int",name:"limit"},{type:"Bool",name:"reverse"},{type:"LongArray",name:"msgTypes"}],response:[{type:"PropertyArray",name:"msgs",reflectMapper:Mv.msg}],service:"msgLog"},clearHistoryMsgsFromServer:{sid:7,cid:18,params:[{type:"Property",name:"clearHistoryMsgsFromServerReqTag",reflectMapper:GS.clearHistoryMsgsFromServerReqTag}],response:[{type:"Long",name:"timetag"}],service:"msgLog"},multiSyncClearServerHistoryMsgs:{sid:7,cid:118,response:[{type:"Property",name:"data",reflectMapper:Mv.clearMsgsParamsWithSync}],service:"msgLog"},syncClearServerHistoryMsgs:{sid:4,cid:24,service:"msgLog",response:[{type:"PropertyArray",name:"datas",reflectMapper:Mv.clearMsgsParamsWithSync}]},nimFtsCloudMsgLogsAggWithSession:{sid:7,cid:26,service:"msgLog",params:[{type:"Property",name:"tag",reflectMapper:GS.ftsReqTag}],response:[{type:"PropertyArray",name:"datas",reflectMapper:Mv.msg}]},nimFtsCloudMsgLogs:{sid:7,cid:27,service:"msgLog",params:[{type:"Property",name:"tag",reflectMapper:GS.ftsReqTag}],response:[{type:"PropertyArray",name:"datas",reflectMapper:Mv.msg}]}};(function(p){p[p.p2p=1]="p2p",p[p.team=2]="team"})(ow||(ow={}));var Ere={type:{type:"enum",values:ow},isDeleteRoam:{type:"boolean"},isSyncSelf:{type:"boolean"},time:{type:"number"}};function sw(p){var y=oa(Ere,p);return{sessionId:y.type==="p2p"?"p2p-"+y.otherAccid:"team-"+y.toTid,time:y.time}}var Cre={orderRule:{type:"enum",values:$C}};function Tre(p){var y,f=oa(Cre,p);Nr(f.msgTypeList)&&(f.msgTypeList=Qe(y=f.msgTypeList).call(y,function(a){return jp[a]}).join(","));var o=["p2pSessionList","teamSessionList","senderList","msgSubTypeList"];return rt(o).call(o,function(a){Nr(f[a])&&(f[a]=f[a].join(","))}),f}var Mre=function(p){function y(o){var a;return(a=p.call(this,"msgLog",o)||this).onV2ClearHistoryMessage=function(l){var c=sw(l);a.core.eventBus.emit("session/updateForClearMsg",[c],!0)},Wr({cmdMap:Sre,cmdConfig:Ire}),a.registerListener(),a}pr(y,p);var f=y.prototype;return f.registerListener=function(){this.core.eventBus.on("forwardReceive/msgLog/clearHistoryMsgsFromServer",this.onV2ClearHistoryMessage)},f.deleteRoamingMsgs=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:ge({ids:{type:"array",itemType:"string"}},a),c=[],C.prev=2,c=Qe(u=a.ids).call(u,function(x){var k=es(x);return k.scene+"|"+k.accid}),C.next=10;break;case 6:throw C.prev=6,C.t0=C.catch(2),this.logger.error("Failed to delete roaming msgs with "+a.ids,C.t0),new Error("Failed to create session with "+a.ids);case 10:return C.next=12,this.core.sendCmd("deleteRoamingMsgs",{ids:c});case 12:case"end":return C.stop()}},l,this,[[2,6]])}))},f.getHistoryMsgs=function(a){var l,c;return le(this,void 0,void 0,q.mark(function u(){var h,C,x,k,B,W,Y;return q.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return typeof((l=this.core.sync)===null||l===void 0?void 0:l.getSyncDoneFlag)!="function"||this.core.sync.getSyncDoneFlag()||this.logger.warn("Please call getHistoryMsgs after syncdone event"),ge({scene:{type:"enum",values:Kr(Qi)},to:{type:"string",allowEmpty:!1},beginTime:{type:"number",required:!1},endTime:{type:"number",required:!1},limit:{type:"number",min:1,max:100,required:!1},reverse:{type:"boolean",required:!1},lastMsgId:{type:"string",required:!1,allowEmpty:!1},asc:{type:"boolean",required:!1},msgTypes:{type:"array",itemType:"string",required:!1}},a),C=a.scene==="p2p"?"getHistoryMsgs":a.scene==="team"?"getHistoryTeamMsgs":"getHistorySuperTeamMsgs",se.next=5,this.core.sendCmd(C,sl({beginTime:0,endTime:0,lastMsgId:0,limit:100,reverse:!1},ce(ce({},a),{msgTypes:a.msgTypes?Qe(h=a.msgTypes).call(h,function(xe){return jp[xe]}):[]})));case 5:if(x=se.sent,(k=x.content).msgs&&k.msgs.length>0){se.next=9;break}return se.abrupt("return",[]);case 9:if(B=Gp(k.msgs[0],this.core.account),W=(c=this.core.session)===null||c===void 0?void 0:c.getSessionWithUncomplete({id:B}),Y=tw(k.msgs,W?{account:this.core.account,sessionAck:W.ack,msgReceiptTime:W.msgReceiptTime}:{account:this.core.account}),a.asc!==!0){se.next=14;break}return se.abrupt("return",mn(Y).call(Y,function(xe,we){return xe.time-we.time}));case 14:return se.abrupt("return",Y);case 15:case"end":return se.stop()}},u,this)}))},f.clearHistoryMsgsFromServer=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ge({scene:{type:"enum",values:["p2p","team"]},to:{type:"string",allowEmpty:!1},ext:{type:"string",required:!1},isSyncSelf:{type:"boolean",required:!1}},a),(c=ce(ce({isDeleteRoam:1},a),{type:a.scene==="team"?2:1,isSyncSelf:a.isSyncSelf===!0?1:0}))[c.type===2?"toTid":"otherAccid"]=a.to,x.next=5,this.core.sendCmd("clearHistoryMsgsFromServer",{clearHistoryMsgsFromServerReqTag:c});case 5:return u=x.sent,h=u.content,this.core.eventBus.emit("session/updateForClearMsg",[{sessionId:a.scene+"-"+a.to}],!0),this.core.eventBus.emit("forwardSend/msgLog/clearHistoryMsgsFromServer",ce(ce({},c),{time:h.timetag})),x.abrupt("return",h);case 10:case"end":return x.stop()}},l,this)}))},f.multiSyncClearServerHistoryMsgsHandler=function(a){var l=sw(a.content.data);this.core.eventBus.emit("session/updateForClearMsg",[l],!0),this.core.emit("clearServerHistoryMsgs",[l])},f.ftsCloudMsgLogs=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",this.baseFtsCloudMsgLogs(a,"nimFtsCloudMsgLogs"));case 1:case"end":return u.stop()}},l,this)}))},f.ftsCloudMsgLogsAggWithSession=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",this.baseFtsCloudMsgLogs(a,"nimFtsCloudMsgLogsAggWithSession"));case 1:case"end":return u.stop()}},l,this)}))},f.baseFtsCloudMsgLogs=function(a,l){return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x=this;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(ge({keyword:{type:"string",allowEmpty:!1},fromTime:{type:"number",required:!1},toTime:{type:"number",required:!1},sessionLimit:{type:"number",required:!1},msglogsLimit:{type:"number",required:!1},orderRule:{type:"enum",values:Kr($C),required:!1},p2pSessionList:{type:"array",itemType:"string",required:!1},teamSessionList:{type:"array",itemType:"string",required:!1},senderList:{type:"array",itemType:"string",required:!1},msgTypeList:{type:"array",itemType:"enum",values:Kr(jp),required:!1},msgSubTypeList:{type:"array",itemType:"number",required:!1}},a),!(a.fromTime&&a.toTime&&a.toTime<a.fromTime)){B.next=3;break}throw new fc("Request parameter error: toTime should be greater than fromTime",a,"");case 3:return h=Tre(a),B.next=6,this.core.sendCmd(l,{tag:h});case 6:return C=B.sent,B.abrupt("return",Qe(u=C.content.datas).call(u,function(W){var Y,ne=Gp(W,x.core.account),se=(Y=x.core.session)===null||Y===void 0?void 0:Y.getSessionWithUncomplete({id:ne});return ll(W,se?{account:x.core.account,sessionAck:se.ack,msgReceiptTime:se.msgReceiptTime}:{account:x.core.account})}));case 8:case"end":return B.stop()}},c,this)}))},f.syncClearServerHistoryMsgsHandler=function(a){var l=function(u){return Nr(u)&&u.length>0?Qe(u).call(u,function(h){return sw(h)}):[]}(a.content.datas);this.core.emit("clearServerHistoryMsgs",l)},y}(Ss),_re={"22_1":"requestProxy","22_2":"onRequestProxy"},uU={requestProxyTag:{zone:1,path:2,method:3,header:4,body:5},requestProxyMsgTag:{from:1,body:2,time:3}},dU=po(uU),xre={requestProxy:{sid:22,cid:1,service:"passThrough",params:[{type:"Property",name:"requestProxyTag",reflectMapper:uU.requestProxyTag}],response:[{type:"Property",name:"requestProxyTag",reflectMapper:dU.requestProxyTag}]},onRequestProxy:{sid:22,cid:2,service:"passThrough",response:[{type:"Property",name:"proxyMsg",reflectMapper:dU.requestProxyMsgTag}]}},wre=function(p){function y(o){var a;return(a=p.call(this,"passThrough",o)||this).core=o,Wr({cmdMap:_re,cmdConfig:xre}),a}pr(y,p);var f=y.prototype;return f.request=function(a){return ge({path:{type:"string",allowEmpty:!1}},a),this.core.sendCmd("requestProxy",{requestProxyTag:a}).then(function(l){return l.content.requestProxyTag})},f.onRequestProxyHandler=function(a){var l=a.content.proxyMsg;l&&l.time&&(l.time=+l.time),this.core.emit("proxyMsg",l)},y}(Ss),Nre=as({none:0,normal:1,all:3}),Rre=as({normal:0,advanced:1}),Are=as({normal:0,owner:1,manager:2}),pU={noVerify:0,needVerify:1,rejectAll:2},Ore=as(pU),mU={needVerify:0,noVerify:1},kre=as(mU),fU={manager:0,all:1},Lre=as(fU),gU={manager:0,all:1},Pre=as(gU),hU={manager:0,all:1},Dre=as(hU);function KS(p){var y,f=["teamId"],o=["level","memberNum","memberUpdateTime","createTime","updateTime"],a=["valid","validToCurrentUser","mute"],l={type:Rre,muteType:Nre,joinMode:Ore,beInviteMode:kre,inviteMode:Lre,updateTeamMode:Pre,updateExtMode:Dre};p.bits;var c=Ja(p,["bits"]);return rt(f).call(f,function(u){c[u]&&(c[u]=c[u].toString())}),rt(o).call(o,function(u){c[u]!==void 0&&(c[u]=un(c[u]))}),rt(a).call(a,function(u){c[u]!==void 0&&(c[u]=un(c[u])===1)}),rt(y=Gn(l)).call(y,function(u){c[u]!==void 0&&(c[u]=l[u][c[u]]||c[u])}),c}function vU(p){return p&&p.length>0?Qe(p).call(p,function(y){return KS(y)}):[]}function jre(p){var y,f=ce({},p),o=["avatar","name","intro","announcement","ext"],a={joinMode:pU,beInviteMode:mU,inviteMode:fU,updateTeamMode:gU,updateExtMode:hU};return rt(o).call(o,function(l){f[l]!==void 0&&(f[l]=f[l].toString())}),rt(y=Gn(a)).call(y,function(l){f[l]!==void 0&&(f[l]=a[l][f[l]])}),f}function yU(p){var y=["teamId","ext","account","nickInTeam"],f={};return p.bitConfigMask!==void 0&&(f.bits=un(p.bitConfigMask)),rt(y).call(y,function(o){p[o]&&(f[o]=p[o].toString())}),Object.prototype.hasOwnProperty.call(p,"nickInTeam")&&(f.nickInTeam=p.nickInTeam),f}function _v(p){var y,f=["teamId"],o=["joinTime","updateTime","bitConfigMask"],a=["active","valid","mute"],l={type:Are},c=p.bits,u=Ja(p,["bits"]);return c!==void 0&&(u.muteTeam=un(c)===1,u.bitConfigMask=c),u.id=u.teamId+"-"+u.account,rt(f).call(f,function(h){u[h]&&(u[h]=u[h].toString())}),rt(o).call(o,function(h){u[h]!==void 0&&(u[h]=un(u[h]))}),rt(a).call(a,function(h){u[h]!==void 0&&(u[h]=un(u[h])===1)}),rt(y=Gn(l)).call(y,function(h){u[h]!==void 0&&(u[h]=l[h][u[h]]||u[h])}),u}function lw(p){return p&&p.length>0?Qe(p).call(p,function(y){return _v(y)}):[]}function bU(p,y,f){return f===void 0&&(f="normal"),{id:p.teamId+"-"+y,teamId:p.teamId,account:y,type:f,nickInTeam:"",muteTeam:!1,mute:!1,joinTime:p.memberUpdateTime,updateTime:p.memberUpdateTime,active:!0,valid:!0}}function Vre(p,y,f){return f===void 0&&(f="normal"),y&&y.length>0?Qe(y).call(y,function(o){return bU(p,o,f)}):[]}var $re=function(){function p(f){this.core=f}var y=p.prototype;return y.notifyAddSuperTeamMembers=function(o,a){this.core.emit("addSuperTeamMembers",{team:o,accounts:a,members:Vre(o,a)})},y.notifyUpdateSuperTeamManagers=function(o,a,l,c){this.core.emit("updateSuperTeamManagers",{team:{teamId:o,memberUpdateTime:c},accounts:a,isManager:l,members:Qe(a).call(a,function(u){return{id:o+"-"+u,type:l?"manager":"normal",account:u,updateTime:c}})})},y.notifyRemoveSuperTeamMembers=function(o,a){this.core.emit("removeSuperTeamMembers",{team:o,accounts:a})},y.notifyTransferSuperTeam=function(o,a,l){this.core.emit("transferSuperTeam",{team:o,from:{id:o.teamId+"-"+a,account:a,type:"normal",updateTime:o.memberUpdateTime},to:{id:o.teamId+"-"+l,account:l,type:"owner",updateTime:o.memberUpdateTime}})},y.notifyUpdateSuperTeamMembersMute=function(o,a,l){this.core.emit("updateSuperTeamMembersMute",{team:o,accounts:a,members:Qe(a).call(a,function(c){return{id:o.teamId+"-"+c,account:c,teamId:o.teamId,mute:l,updateTime:o.memberUpdateTime}}),mute:l})},p}(),Ure={"21_5":"addSuperTeamMembers","21_6":"removeSuperTeamMembers","21_7":"leaveSuperTeam","21_8":"updateSuperTeamInfo","21_9":"getSuperTeamInfo","21_12":"getSuperTeams","21_15":"getSuperTeamMembers","21_10":"updateMySuperTeamMemberInfo","21_20":"applySuperTeam","21_21":"passSuperTeamApply","21_22":"rejectSuperTeamApply","21_23":"acceptSuperTeamInvite","21_24":"rejectSuperTeamInvite","21_26":"addSuperTeamManagers","21_27":"removeSuperTeamManagers","21_28":"muteSuperTeam","21_29":"muteSuperTeamMembers","21_30":"updateSuperTeamMemberNick","21_31":"transferSuperTeam","21_33":"getSuperTeamMembersByAccounts","21_34":"queryMuteSuperTeamMembers","21_101":"syncCreateSuperTeam","21_109":"syncSuperTeams","21_110":"syncUpdateSuperTeamMember","21_111":"syncMySuperTeamMembers"},xv={superTeam:{teamId:1,name:3,type:4,owner:5,level:6,selfCustom:7,valid:8,memberNum:9,memberUpdateTime:10,createTime:11,updateTime:12,validToCurrentUser:13,intro:14,announcement:15,joinMode:16,bits:17,ext:18,serverExt:19,avatar:20,beInviteMode:21,inviteMode:22,updateTeamMode:23,updateExtMode:24,mute:100,muteType:101},superTeamMember:{teamId:1,account:3,type:4,nickInTeam:5,bits:7,active:8,valid:9,updateTime:11,ext:12,mute:13,invitorAccid:14,joinTime:15}},vu=po(xv),Bre={getSuperTeamInfo:{sid:21,cid:9,service:"superTeam",params:[{type:"Long",name:"teamId"}],response:[{type:"Property",name:"superTeam",reflectMapper:vu.superTeam}]},getSuperTeams:{sid:21,cid:12,service:"superTeam",params:[{type:"Long",name:"timetag"}],response:[{type:"PropertyArray",name:"superTeams",reflectMapper:vu.superTeam},{type:"Bool",name:"isAll"},{type:"Long",name:"timetag"}]},updateSuperTeamInfo:{sid:21,cid:8,service:"superTeam",params:[{type:"Property",name:"superTeam",reflectMapper:xv.superTeam}],response:[{type:"Long",name:"time"}]},addSuperTeamMembers:{sid:21,cid:5,service:"superTeam",params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"},{type:"String",name:"ps"}],response:[{type:"StrArray",name:"abortedAccidList"},{type:"Long",name:"time"}]},removeSuperTeamMembers:{sid:21,cid:6,service:"superTeam",params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}]},addSuperTeamManagers:{sid:21,cid:26,service:"superTeam",params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}]},removeSuperTeamManagers:{sid:21,cid:27,service:"superTeam",params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"}]},applySuperTeam:{sid:21,cid:20,service:"superTeam",params:[{type:"Long",name:"teamId"},{type:"String",name:"ps"}],response:[{type:"Property",name:"superTeam",reflectMapper:vu.superTeam}]},transferSuperTeam:{sid:21,cid:31,service:"superTeam",params:[{type:"Long",name:"teamId"},{type:"String",name:"account"},{type:"Bool",name:"leave"}]},muteSuperTeam:{sid:21,cid:28,service:"superTeam",params:[{type:"Long",name:"teamId"},{type:"Int",name:"mute"}]},muteSuperTeamMembers:{sid:21,cid:29,service:"superTeam",params:[{type:"Long",name:"teamId"},{type:"StrArray",name:"accounts"},{type:"Int",name:"mute"}]},updateSuperTeamMemberNick:{sid:21,cid:30,service:"superTeam",params:[{type:"Property",name:"teamMember",reflectMapper:xv.superTeamMember}]},updateMySuperTeamMemberInfo:{sid:21,cid:10,service:"superTeam",params:[{type:"Property",name:"teamMember",reflectMapper:xv.superTeamMember}]},getSuperTeamMembersByAccounts:{sid:21,cid:33,service:"superTeam",params:[{type:"StrArray",name:"memberIds"}],response:[{type:"PropertyArray",name:"superTeamMembers",reflectMapper:vu.superTeamMember}]},getSuperTeamMembers:{sid:21,cid:15,service:"superTeam",params:[{type:"Long",name:"teamId"},{type:"Long",name:"joinTime"},{type:"Int",name:"limit"},{type:"Bool",name:"reverse"}],response:[{type:"PropertyArray",name:"superTeamMembers",reflectMapper:vu.superTeamMember}]},queryMuteSuperTeamMembers:{sid:21,cid:34,service:"superTeam",params:[{type:"Long",name:"teamId"},{type:"Long",name:"joinTime"},{type:"Int",name:"limit"},{type:"Bool",name:"reverse"}],response:[{type:"PropertyArray",name:"superTeamMembers",reflectMapper:vu.superTeamMember}]},leaveSuperTeam:{sid:21,cid:7,service:"superTeam",params:[{type:"Long",name:"teamId"}]},passSuperTeamApply:{sid:21,cid:21,service:"superTeam",params:[{type:"Long",name:"teamId"},{type:"String",name:"from"}]},rejectSuperTeamApply:{sid:21,cid:22,service:"superTeam",params:[{type:"Long",name:"teamId"},{type:"String",name:"from"},{type:"String",name:"ps"}]},acceptSuperTeamInvite:{sid:21,cid:23,service:"superTeam",params:[{type:"Long",name:"teamId"},{type:"String",name:"from"}]},rejectSuperTeamInvite:{sid:21,cid:24,service:"superTeam",params:[{type:"Long",name:"teamId"},{type:"String",name:"from"},{type:"String",name:"ps"}]},syncSuperTeams:{sid:21,cid:109,service:"superTeam",response:[{type:"PropertyArray",name:"teams",reflectMapper:vu.superTeam},{type:"Bool",name:"isAll"},{type:"Long",name:"timetag"}]},syncCreateSuperTeam:{sid:21,cid:101,service:"superTeam",response:[{type:"Property",name:"superTeam",reflectMapper:vu.superTeam}]},syncUpdateSuperTeamMember:{sid:21,cid:110,service:"superTeam",response:[{type:"Property",name:"teamMember",reflectMapper:vu.superTeamMember}]},syncMySuperTeamMembers:{sid:21,cid:111,ext:"sync",service:"superTeam",response:[{type:"PropertyArray",name:"teamMembers",reflectMapper:vu.superTeamMember},{type:"Long",name:"timetag"}]}},Fre=function(p){function y(o){var a;return(a=p.call(this,"superTeam",o)||this).mySuperTeamMembersMap=new Xa,a.service=new $re(o),Wr({cmdMap:Ure,cmdConfig:Bre}),a.setListeners(),a}pr(y,p);var f=y.prototype;return f.setListeners=function(){var a=this;this.core.eventBus.on("forwardReceive/superTeam/updateMyMemberInfo",function(l){a.emitMemberUpdate(l)}),this.core.eventBus.on("team/onNotification",function(l){return a.notificationHandler(l)})},f.reset=function(){this.mySuperTeamMembersMap.clear()},f.mergeMySuperTeamMembers=function(a){var l=this;rt(a).call(a,function(c){var u=c.teamId,h=l.mySuperTeamMembersMap.get(u),C=ce({},h,c);l.mySuperTeamMembersMap.set(u,C)})},f.getSuperTeamInfo=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1}},a),C.next=3,this.core.sendCmd("getSuperTeamInfo",{teamId:a.teamId});case 3:return c=C.sent,u=c.content.superTeam,C.abrupt("return",KS(u));case 6:case"end":return C.stop()}},l,this)}))},f.getSuperTeams=function(){return le(this,void 0,void 0,q.mark(function a(){var l,c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.core.sendCmd("getSuperTeams",{timetag:0});case 2:return l=h.sent,c=l.content.superTeams,h.abrupt("return",vU(c));case 5:case"end":return h.stop()}},a,this)}))},f.updateSuperTeamInfo=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},name:{type:"string",allowEmpty:!1,required:!1},joinMode:{type:"enum",values:["noVerify","needVerify","rejectAll"],required:!1},beInviteMode:{type:"enum",values:["noVerify","needVerify"],required:!1},inviteMode:{type:"enum",values:["manager","all"],required:!1},updateTeamMode:{type:"enum",values:["manager","all"],required:!1},updateExtMode:{type:"enum",values:["manager","all"],required:!1},intro:{type:"string",allowEmpty:!0,required:!1},announcement:{type:"string",allowEmpty:!0,required:!1},avatar:{type:"string",allowEmpty:!0,required:!1},ext:{type:"string",allowEmpty:!0,required:!1}},a),c=jre(a),h.next=4,this.core.sendCmd("updateSuperTeamInfo",{superTeam:c});case 4:return h.abrupt("return",KS(c));case 5:case"end":return h.stop()}},l,this)}))},f.addSuperTeamMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},accounts:{type:"array",itemType:"string",min:1},ps:{type:"string",allowEmpty:!0,max:5e3,required:!1}},a),u.next=3,this.core.sendCmd("addSuperTeamMembers",{teamId:a.teamId,accounts:a.accounts,ps:a.ps||"",attach:a.ext||""});case 3:case"end":return u.stop()}},l,this)}))},f.removeSuperTeamMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},accounts:{type:"array",itemType:"string",min:1}},a),u.next=3,this.core.sendCmd("removeSuperTeamMembers",{teamId:a.teamId,accounts:a.accounts});case 3:case"end":return u.stop()}},l,this)}))},f.addSuperTeamManagers=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},accounts:{type:"array",min:1,itemType:"string"}},a),u.next=3,this.core.sendCmd("addSuperTeamManagers",a);case 3:case"end":return u.stop()}},l,this)}))},f.removeSuperTeamManagers=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},accounts:{type:"array",min:1,itemType:"string"}},a),u.next=3,this.core.sendCmd("removeSuperTeamManagers",a);case 3:case"end":return u.stop()}},l,this)}))},f.applySuperTeam=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},ps:{type:"string",allowEmpty:!0,max:5e3,required:!1}},a),h.next=3,this.core.sendCmd("applySuperTeam",{teamId:a.teamId,ps:a.ps||""});case 3:return c=h.sent,h.abrupt("return",KS(c.content.superTeam));case 5:case"end":return h.stop()}},l,this)}))},f.transferSuperTeam=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},account:{type:"string",allowEmpty:!1},leave:{type:"boolean"}},a),u.next=3,this.core.sendCmd("transferSuperTeam",a);case 3:case"end":return u.stop()}},l,this)}))},f.muteSuperTeam=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},mute:{type:"boolean"}},a),u.next=3,this.core.sendCmd("muteSuperTeam",{teamId:a.teamId,mute:a.mute?1:0});case 3:case"end":return u.stop()}},l,this)}))},f.muteSuperTeamMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},accounts:{type:"array",itemType:"string"},mute:{type:"boolean"}},a),u.next=3,this.core.sendCmd("muteSuperTeamMembers",{teamId:a.teamId,accounts:a.accounts,mute:a.mute?1:0});case 3:case"end":return u.stop()}},l,this)}))},f.updateMemberNick=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},account:{type:"string",allowEmpty:!1},nickInTeam:{type:"string",allowEmpty:!0}},a),c=yU({teamId:a.teamId,nickInTeam:a.nickInTeam,account:a.account}),C.next=4,this.core.sendCmd("updateSuperTeamMemberNick",{teamMember:c});case 4:return u=_v(ce({updateTime:new Date().getTime()},c)),C.abrupt("return",u);case 6:case"end":return C.stop()}},l,this)}))},f.updateMyMemberInfo=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},nickInTeam:{type:"string",allowEmpty:!0,required:!1},bitConfigMask:{type:"number",min:0,max:2,required:!1},ext:{type:"string",required:!1}},a),c=yU({teamId:a.teamId,nickInTeam:a.nickInTeam,bitConfigMask:a.bitConfigMask,ext:a.ext}),x.next=4,this.core.sendCmd("updateMySuperTeamMemberInfo",{teamMember:c});case 4:return u=_v(ce({updateTime:new Date().getTime(),account:this.core.account},c)),h=this.emitMemberUpdate(u),this.core.eventBus.emit("forwardSend/superTeam/updateMyMemberInfo",h),x.abrupt("return",u);case 8:case"end":return x.stop()}},l,this)}))},f.getSuperTeamMembersByAccounts=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},accounts:{type:"array",itemType:"string",max:20,min:1}},a),h=Qe(u=a.accounts).call(u,function(B){return a.teamId+"|"+B}),k.next=4,this.core.sendCmd("getSuperTeamMembersByAccounts",{memberIds:h});case 4:return C=k.sent,k.abrupt("return",lw((l=C.content)===null||l===void 0?void 0:l.superTeamMembers));case 6:case"end":return k.stop()}},c,this)}))},f.getSuperTeamMembers=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},joinTime:{type:"number",min:0,required:!1},limit:{type:"number",min:1,max:1e3,required:!1},reverse:{type:"boolean",required:!1}},a),C.next=3,this.core.sendCmd("getSuperTeamMembers",ce({joinTime:0,limit:100,reverse:!1},a));case 3:return u=C.sent,C.abrupt("return",lw((l=u.content)===null||l===void 0?void 0:l.superTeamMembers));case 5:case"end":return C.stop()}},c,this)}))},f.queryMuteMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},joinTime:{type:"number",min:0,required:!1},limit:{type:"number",min:1,required:!1},reverse:{type:"boolean",required:!1}},a),C.next=3,this.core.sendCmd("queryMuteSuperTeamMembers",ce({limit:100,joinTime:0,reverse:!1},a));case 3:return c=C.sent,u=c.content,C.abrupt("return",lw(u.superTeamMembers));case 6:case"end":return C.stop()}},l,this)}))},f.leaveSuperTeam=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1}},a),u.next=3,this.core.sendCmd("leaveSuperTeam",{teamId:a.teamId});case 3:case"end":return u.stop()}},l,this)}))},f.passSuperTeamApply=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},from:{type:"string",allowEmpty:!1}},a),h.prev=1,h.next=4,this.core.sendCmd("passSuperTeamApply",a);case 4:this.core.eventBus.emit("forwardSend/superTeam/passTeamApply",a),h.next=12;break;case 7:throw h.prev=7,h.t0=h.catch(1),c=h.t0,this.core.eventBus.emit("forwardSend/superTeam/passTeamApply",a,c==null?void 0:c.code),h.t0;case 12:case"end":return h.stop()}},l,this,[[1,7]])}))},f.rejectSuperTeamApply=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},from:{type:"string",allowEmpty:!1},ps:{type:"string",max:5e3,required:!1}},a),h.prev=1,h.next=4,this.core.sendCmd("rejectSuperTeamApply",{teamId:a.teamId,from:a.from,ps:a.ps||""});case 4:this.core.eventBus.emit("forwardSend/superTeam/rejectSuperTeamApply",a),h.next=12;break;case 7:throw h.prev=7,h.t0=h.catch(1),c=h.t0,this.core.eventBus.emit("forwardSend/superTeam/rejectSuperTeamApply",a,c==null?void 0:c.code),h.t0;case 12:case"end":return h.stop()}},l,this,[[1,7]])}))},f.acceptSuperTeamInvite=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},from:{type:"string",allowEmpty:!1}},a),h.prev=1,h.next=4,this.core.sendCmd("acceptSuperTeamInvite",a);case 4:this.core.eventBus.emit("forwardSend/superTeam/acceptSuperTeamInvite",a),h.next=12;break;case 7:throw h.prev=7,h.t0=h.catch(1),c=h.t0,this.core.eventBus.emit("forwardSend/superTeam/acceptSuperTeamInvite",a,c==null?void 0:c.code),h.t0;case 12:case"end":return h.stop()}},l,this,[[1,7]])}))},f.rejectSuperTeamInvite=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({teamId:{type:"string",regExp:/\d+/,allowEmpty:!1},from:{type:"string",allowEmpty:!1},ps:{type:"string",max:5e3,required:!1}},a),h.prev=1,h.next=4,this.core.sendCmd("rejectSuperTeamInvite",{teamId:a.teamId,from:a.from,ps:a.ps||""});case 4:this.core.eventBus.emit("forwardSend/superTeam/rejectSuperTeamInvite",a),h.next=12;break;case 7:throw h.prev=7,h.t0=h.catch(1),c=h.t0,this.core.eventBus.emit("forwardSend/superTeam/rejectSuperTeamInvite",a,c==null?void 0:c.code),h.t0;case 12:case"end":return h.stop()}},l,this,[[1,7]])}))},f.emitMemberUpdate=function(a){a=_v(a),this.mergeMyTeamMembers([a]),this.core.emit("updateTeamMember",a);var l=is(this.mySuperTeamMembersMap.get(a.teamId));return this.core.emit("myTeamMembers",[l]),l},f.mergeMyTeamMembers=function(a){var l=this;rt(a).call(a,function(c){var u=c.teamId,h=l.mySuperTeamMembersMap.get(u),C=ce({},h,c);l.mySuperTeamMembersMap.set(u,C)})},f.syncSuperTeamsHandler=function(a){var l=a.content;this.core.eventBus.emit("sync/updateTimetag",{superTeams:un(l.timetag)});var c=l==null?void 0:l.teams;if(c&&c.length){var u=vU(c);this.core.emit("superTeams",u)}},f.syncCreateSuperTeamHandler=function(a){var l=a.content,c=KS(l==null?void 0:l.superTeam),u=bU(c,c.owner,"owner");this.core.emit("createSuperTeam",c,u)},f.syncUpdateSuperTeamMemberHandler=function(a){var l=a.content,c=_v(l==null?void 0:l.teamMember);c.updateTime||(c.updateTime=new Date().getTime()),this.mergeMySuperTeamMembers([c]),this.core.emit("updateSuperTeamMember",c);var u=is(this.mySuperTeamMembersMap.get(c.teamId));this.core.emit("mySuperTeamMembers",[u])},f.syncMySuperTeamMembersHandler=function(a){var l,c=a.content;this.core.eventBus.emit("sync/updateTimetag",{mySuperTeamMembers:un(c.timetag)});var u=c==null?void 0:Qe(l=c.teamMembers).call(l,function(h){return _v(h)});this.mergeMySuperTeamMembers(u),this.core.emit("mySuperTeamMembers",is(u))},f.notificationHandler=function(a){var l=a.attach,c=a.scene,u=a.from,h=a.to,C=a.time,x=a.idServer,k=a.idClient,B=l.team,W=l.account,Y=l.accounts,ne=l.type;if(c==="superTeam")switch(this.logger.getDebugMode()?this.logger.debug("superTeam::recvNotification",x,k,l):this.logger.log("superTeam::recvNotification",x,k,h,ne,W,Y),ne){case"updateSuperTeam":B.updateTime=C,this.core.emit("updateSuperTeam",B);break;case"addSuperTeamMembers":this.service.notifyAddSuperTeamMembers(B,Y);break;case"acceptSuperTeamInvite":this.service.notifyAddSuperTeamMembers(B,[u]);break;case"passSuperTeamApply":this.service.notifyAddSuperTeamMembers(B,[W]);break;case"addSuperTeamManagers":this.service.notifyUpdateSuperTeamManagers(h,Y,!0,C);break;case"removeSuperTeamManagers":this.service.notifyUpdateSuperTeamManagers(h,Y,!1,C);break;case"removeSuperTeamMembers":this.service.notifyRemoveSuperTeamMembers(B,Y);break;case"leaveSuperTeam":this.service.notifyRemoveSuperTeamMembers(B,[u]);break;case"dismissSuperTeam":this.core.emit("dismissSuperTeam",{teamId:h});break;case"transferSuperTeam":this.service.notifyTransferSuperTeam(B,u,W);break;case"updateSuperTeamMembersMute":this.service.notifyUpdateSuperTeamMembersMute(B,Y,l.mute)}},y}(Ss),qre={"13_1":"getChatroomAddress","24_1":"getQChatAddress"},zre={getChatroomAddress:{sid:13,cid:1,service:"plugin",params:[{type:"Long",name:"chatroomId"},{type:"Bool",name:"isWeixinApp"},{type:"Int",name:"ipType"}],response:[{type:"StrArray",name:"address"}]},getQChatAddress:{sid:24,cid:1,service:"plugin",params:[{type:"Property",name:"getQChatAddressTag",reflectMapper:{ipType:1}}],response:[{type:"StrArray",name:"address"}]}},Hre=function(p){function y(o){var a;return(a=p.call(this,"plugin",o)||this).core=o,Wr({cmdMap:qre,cmdConfig:zre}),a}pr(y,p);var f=y.prototype;return f.getChatroomAddress=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({chatroomId:{type:"string",allowEmpty:!1},ipType:{type:"number",required:!1}},a),h.next=3,this.core.sendCmd("getChatroomAddress",{chatroomId:a.chatroomId,isWeixinApp:rn.platform==="WXAPP",ipType:a.ipType||0});case 3:return c=h.sent,h.abrupt("return",c.content.address);case 5:case"end":return h.stop()}},l,this)}))},f.getQChatAddress=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({ipType:{type:"number",required:!1}},a),h.next=3,this.core.sendCmd("getQChatAddress",{getQChatAddressTag:{ipType:(a==null?void 0:a.ipType)||0}});case 3:return c=h.sent,h.abrupt("return",c.content.address);case 5:case"end":return h.stop()}},l,this)}))},y}(Ss),Gre={"7_19":"nimQueryCloudSessionList","7_20":"nimQueryCloudSession","7_21":"nimUpdateCloudSession","7_22":"nimDeleteCloudSessionList","7_121":"nimMultiSyncUpdateCloudSession"},WS={sessionReqTag:{minTimestamp:1,maxTimestamp:2,includedLastMsg:3,limit:4,hasMore:5},sessionTag:{sessionId:1,updateTime:2,ext:3,lastMsg:4,lastMsgType:5}},FC=po(WS),Kre={nimQueryCloudSessionList:{sid:7,cid:19,service:"cloudSession",params:[{type:"Property",name:"tag",reflectMapper:WS.sessionReqTag}],response:[{type:"Property",name:"tag",reflectMapper:FC.sessionReqTag},{type:"PropertyArray",name:"sessions",reflectMapper:FC.sessionTag}]},nimQueryCloudSession:{sid:7,cid:20,service:"cloudSession",params:[{type:"Property",name:"tag",reflectMapper:WS.sessionTag}],response:[{type:"Property",name:"session",reflectMapper:FC.sessionTag}]},nimUpdateCloudSession:{sid:7,cid:21,service:"cloudSession",params:[{type:"Property",name:"tag",reflectMapper:WS.sessionTag}]},nimDeleteCloudSessionList:{sid:7,cid:22,service:"cloudSession",params:[{type:"PropertyArray",name:"tags",reflectMapper:WS.sessionTag}]},nimMultiSyncUpdateCloudSession:{sid:7,cid:121,service:"cloudSession",response:[{type:"Property",name:"session",reflectMapper:FC.sessionTag}]}},Wre={sessionId:{type:"string"},updateTime:{type:"number"},ext:{type:"string"},lastMsg:{type:"object"},lastMsgType:{type:"number"}};function cw(p,y,f){var o=oa(Wre,p),a=es(o.sessionId,"|"),l=a.accid,c=a.scene;if(o.sessionId=c+"-"+l,o.lastMsg){var u=o.lastMsgType===1;o.lastMsgInfo=u?{isLastMsgRecalled:u,revokedMsg:FS(Rr(o.lastMsg,zS.sysMsg),f)}:{isLastMsgRecalled:u,lastMsg:ll(Rr(o.lastMsg,fo.msg),{account:y})}}return delete o.lastMsg,delete o.lastMsgType,o}function Yre(p,y,f){return p&&p.length>0?Qe(p).call(p,function(o){return cw(o,y,f)}):[]}var Xre=function(p){function y(o){var a;return a=p.call(this,"cloudSession",o)||this,Wr({cmdMap:Gre,cmdConfig:Kre}),a}pr(y,p);var f=y.prototype;return f.queryCloudSessionList=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return ge({minTimestamp:{type:"number",min:0,required:!1},maxTimestamp:{type:"number",min:0,required:!1},limit:{type:"number",min:1,required:!1},includedLastMsg:{type:"boolean",required:!1}},a),(u=ce({limit:100,includedLastMsg:!0},a)).includedLastMsg=bC.boolean(a,"includedLastMsg"),B.next=5,this.core.sendCmd("nimQueryCloudSessionList",{tag:u});case 5:return h=B.sent,C=((l=h.content)===null||l===void 0?void 0:l.tag)||{},x=h.content.sessions,B.abrupt("return",{hasMore:+C.hasMore>0,sessionList:Yre(x,this.core.account,this.logger)});case 9:case"end":return B.stop()}},c,this)}))},f.queryCloudSession=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({sessionId:{type:"string",allowEmpty:!1}},a),c=es(a.sessionId,"-"),u=c.accid,h=c.scene,k.next=4,this.core.sendCmd("nimQueryCloudSession",{tag:{sessionId:h==="superTeam"?"super_team|"+u:h+"|"+u}});case 4:return C=k.sent,k.abrupt("return",cw(C.content.session,this.core.account,this.logger));case 6:case"end":return k.stop()}},l,this)}))},f.updateCloudSession=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ge({sessionId:{type:"string",allowEmpty:!1},ext:{type:"string",allowEmpty:!1,required:!1}},a),c=es(a.sessionId,"-"),u=c.accid,h=c.scene,x.next=4,this.core.sendCmd("nimUpdateCloudSession",{tag:{sessionId:h==="superTeam"?"super_team|"+u:h+"|"+u,ext:a.ext}});case 4:case"end":return x.stop()}},l,this)}))},f.deleteCloudSessionList=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({sessionIdList:{type:"array",itemType:"string"}},a),u=Qe(c=a.sessionIdList).call(c,function(x){var k=es(x,"-"),B=k.accid,W=k.scene;return{sessionId:W==="superTeam"?"super_team|"+B:W+"|"+B}}),C.next=4,this.core.sendCmd("nimDeleteCloudSessionList",{tags:u});case 4:case"end":return C.stop()}},l,this)}))},f.nimMultiSyncUpdateCloudSessionHandler=function(a){var l=cw(a.content.session,this.core.account,this.logger);this.core.emit("multiSyncUpdateCloudSession",l)},y}(Ss),uw={needPush:{type:"boolean",required:!1},pushTitle:{type:"string",required:!1},pushContent:{type:"string",required:!1},pushPayload:{type:"string",required:!1},needPushBadge:{type:"boolean",required:!1}},Jre={"15_1":"signalingCreate","15_2":"signalingDelay","15_3":"signalingClose","15_4":"signalingJoin","15_5":"signalingLeave","15_6":"signalingInvite","15_7":"signalingCancelInvite","15_8":"signalingReject","15_9":"signalingAccept","15_10":"signalingSendCustomCommand","15_11":"signalingRecvNotification","15_12":"signalingMultiSyncNotification","15_13":"signalingSyncNotification","15_14":"singalingSyncChannels","15_15":"signalingQueryInfo","15_16":"signalingCallEx","15_17":"signalingJoinAndAccept"},qs={avSignalTag:ce({type:1,name:2,channelId:3,createTime:4,expireTime:5,creatorAccid:6,ext:7,invalid:8,fromAccid:10,toAccid:11,requestId:12,members:18,attach:19,attachExt:20,needOffline:21,msgId:22,uid:23,time:24,nertcChannelName:25,nertcTokenTtl:26,nertcToken:27,nertcJoinRoomQueryParamMap:28,nertcJoinRoomResponse:29,callStatus:30},{needPush:13,pushTitle:14,pushContent:15,pushPayload:16,needPushBadge:17})},Ic=po(qs),Qre={signalingCreate:{sid:15,cid:1,service:"signaling",params:[{type:"Property",name:"tag",reflectMapper:qs.avSignalTag}],response:[{type:"Property",name:"data",reflectMapper:Ic.avSignalTag}]},signalingDelay:{sid:15,cid:2,service:"signaling",params:[{type:"Property",name:"tag",reflectMapper:qs.avSignalTag}],response:[{type:"Property",name:"data",reflectMapper:Ic.avSignalTag}]},signalingClose:{sid:15,cid:3,service:"signaling",params:[{type:"Property",name:"tag",reflectMapper:qs.avSignalTag}],response:[{type:"Property",name:"data",reflectMapper:Ic.avSignalTag}]},signalingJoin:{sid:15,cid:4,service:"signaling",params:[{type:"Property",name:"tag",reflectMapper:qs.avSignalTag}],response:[{type:"Property",name:"data",reflectMapper:Ic.avSignalTag}]},signalingLeave:{sid:15,cid:5,service:"signaling",params:[{type:"Property",name:"tag",reflectMapper:qs.avSignalTag}]},signalingInvite:{sid:15,cid:6,service:"signaling",params:[{type:"Property",name:"tag",reflectMapper:qs.avSignalTag}]},signalingCancelInvite:{sid:15,cid:7,service:"signaling",params:[{type:"Property",name:"tag",reflectMapper:qs.avSignalTag}]},signalingReject:{sid:15,cid:8,service:"signaling",params:[{type:"Property",name:"tag",reflectMapper:qs.avSignalTag}]},signalingAccept:{sid:15,cid:9,service:"signaling",params:[{type:"Property",name:"tag",reflectMapper:qs.avSignalTag}]},signalingSendCustomCommand:{sid:15,cid:10,service:"signaling",params:[{type:"Property",name:"tag",reflectMapper:qs.avSignalTag}]},signalingRecvNotification:{sid:15,cid:11,service:"signaling",response:[{type:"Property",name:"data",reflectMapper:Ic.avSignalTag}]},signalingMultiSyncNotification:{sid:15,cid:12,service:"signaling",response:[{type:"Property",name:"data",reflectMapper:Ic.avSignalTag}]},signalingSyncNotification:{sid:15,cid:13,service:"signaling",response:[{type:"PropertyArray",name:"datas",reflectMapper:Ic.avSignalTag}]},singalingSyncChannels:{sid:15,cid:14,service:"signaling",response:[{type:"PropertyArray",name:"datas",reflectMapper:Ic.avSignalTag}]},signalingQueryInfo:{sid:15,cid:15,service:"signaling",params:[{type:"Property",name:"tag",reflectMapper:qs.avSignalTag}],response:[{type:"Property",name:"data",reflectMapper:Ic.avSignalTag}]},signalingCallEx:{sid:15,cid:16,service:"signaling",params:[{type:"Property",name:"tag",reflectMapper:qs.avSignalTag}],response:[{type:"Property",name:"data",reflectMapper:Ic.avSignalTag}]},signalingJoinAndAccept:{sid:15,cid:17,service:"signaling",params:[{type:"Property",name:"tag",reflectMapper:qs.avSignalTag}],response:[{type:"Property",name:"data",reflectMapper:Ic.avSignalTag}]},signalingBatchMarkRead:{sid:4,cid:5,hasPacketResponse:!1,service:"signaling",params:[{type:"Byte",name:"sid"},{type:"Byte",name:"cid"},{type:"LongArray",name:"ids"}]}},YS={type:{type:"number"},createTime:{type:"number"},expireTime:{type:"number"},invalid:{type:"boolean"},pushInfo:uw,pluginSetting:{nertcInfo:{nertcChannelName:{type:"string"},nertcTokenTtl:{type:"number"},nertcToken:{type:"string"},nertcJoinRoomQueryParamMap:{type:"string"},callStatus:{type:"number"}}},callStatus:{type:"number"},attach:{type:"object"},members:{type:"object"},needOffline:{type:"boolean"},uid:{type:"number"},time:{type:"number"}};function SU(p){return oa(YS,Rr(p,{1:"accid",2:"uid",3:"createTime",4:"expireTime"}))}function XS(p){var y,f=oa(YS,p),o=[];return f.members&&f.members.length>0&&(o=Qe(y=f.members).call(y,function(a){return SU(a)}),delete f.members),o.length>0?{channelInfo:f,memberList:o}:{channelInfo:f}}function IU(p){var y,f=oa(YS,p),o=[];f.members&&f.members.length>0&&(o=Qe(y=f.members).call(y,function(l){return SU(l)}),delete f.members);var a=200;return p.callStatus&&(a=Number(p.callStatus)),o.length>0?{channelInfo:f,memberList:o,callStatus:a}:{channelInfo:f,callStatus:a}}function Ec(p){return ud(YS,p)}var qC,ei,Dl,Wf,Xp,zC,HC,Zre=function(p){function y(o){var a;return(a=p.call(this)||this).timer=0,a.pollingInterval=12e4,a.name="signaling",a.logger=o.logger,a.core=o,a.channels={},Wr({cmdMap:Jre,cmdConfig:Qre}),a}pr(y,p);var f=y.prototype;return f.callEx=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return ge({type:{type:"number"},toAccid:{type:"string",allowEmpty:!1},requestId:{type:"string",allowEmpty:!1},needOffline:{type:"boolean",required:!1},pushInfo:{type:"object",required:!1,rules:uw},pluginSetting:{type:"object",required:!1,rules:{nertcInfo:{type:"object",required:!1}}}},a),B.next=3,this.core.sendCmd("signalingCallEx",{tag:Ec(a)});case 3:return u=B.sent,h=((l=u.content)===null||l===void 0?void 0:l.data)||{},C=IU(h),this.channels[C.channelInfo.channelId]=is(C.channelInfo),this.timer||(this.timer=this.core.timerManager.addTimer(cn(x=this.aotoDelay).call(x,this),this.pollingInterval,-1)),B.abrupt("return",C);case 9:case"end":return B.stop()}},c,this)}))},f.joinAndAccept=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x,k,B;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return ge({channelId:{type:"string",allowEmpty:!1},fromAccid:{type:"string",allowEmpty:!1},requestId:{type:"string",required:!1},needOffline:{type:"boolean",required:!1},uid:{type:"number",required:!1},pluginSetting:{type:"object",required:!1,rules:{nertcInfo:{type:"object",required:!1}}}},a),u=a.fromAccid,(h=Ja(a,["fromAccid"])).toAccid=u,Y.next=5,this.core.sendCmd("signalingJoinAndAccept",{tag:Ec(h)});case 5:return C=Y.sent,x=((l=C.content)===null||l===void 0?void 0:l.data)||{},k=IU(x),this.channels[k.channelInfo.channelId]=is(k.channelInfo),this.timer||(this.timer=this.core.timerManager.addTimer(cn(B=this.aotoDelay).call(B,this),this.pollingInterval,-1)),Y.abrupt("return",k);case 11:case"end":return Y.stop()}},c,this)}))},f.create=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ge({type:{type:"number"},ext:{type:"string",required:!1}},a),x.next=3,this.core.sendCmd("signalingCreate",{tag:Ec(a)});case 3:return u=x.sent,h=((l=u.content)===null||l===void 0?void 0:l.data)||{},x.abrupt("return",XS(h));case 6:case"end":return x.stop()}},c,this)}))},f.close=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({channelId:{type:"string",allowEmpty:!1},attachExt:{type:"string",required:!1},needOffline:{type:"boolean",required:!1}},a),u.next=3,this.core.sendCmd("signalingClose",{tag:Ec(a)});case 3:case"end":return u.stop()}},l,this)}))},f.queryInfo=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ge({name:{type:"string",allowEmpty:!1}},a),x.next=3,this.core.sendCmd("signalingQueryInfo",{tag:a});case 3:return u=x.sent,h=((l=u.content)===null||l===void 0?void 0:l.data)||{},x.abrupt("return",XS(h));case 6:case"end":return x.stop()}},c,this)}))},f.join=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return ge({channelId:{type:"string",allowEmpty:!1},attachExt:{type:"string",required:!1},uid:{type:"number",min:0,required:!1},needOffline:{type:"boolean",required:!1}},a),B.next=3,this.core.sendCmd("signalingJoin",{tag:Ec(a)});case 3:return u=B.sent,h=((l=u.content)===null||l===void 0?void 0:l.data)||{},C=XS(h),this.channels[C.channelInfo.channelId]=is(C.channelInfo),this.timer||(this.timer=this.core.timerManager.addTimer(cn(x=this.aotoDelay).call(x,this),this.pollingInterval,-1)),B.abrupt("return",C);case 9:case"end":return B.stop()}},c,this)}))},f.aotoDelay=function(){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if((l=Gn(this.channels)).length!==0){k.next=5;break}return this.timer&&this.core.timerManager.deleteTimer(this.timer),this.timer=0,k.abrupt("return");case 5:this.logger.log("signling:autoDelay",l),c=0;case 7:if(!(c<l.length)){k.next=24;break}return u=l[c],k.prev=9,k.next=12,this.core.sendCmd("signalingDelay",{tag:{channelId:u}});case 12:h=k.sent,C=XS(h.content.data),this.channels[u]=C.channelInfo,k.next=21;break;case 17:k.prev=17,k.t0=k.catch(9),this.logger.warn("signling:autoDelay "+u+" failed",k.t0),delete this.channels[u];case 21:c++,k.next=7;break;case 24:case"end":return k.stop()}},a,this,[[9,17]])}))},f.leave=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({channelId:{type:"string",allowEmpty:!1},attachExt:{type:"string",required:!1},needOffline:{type:"boolean",required:!1}},a),u.next=3,this.core.sendCmd("signalingLeave",{tag:Ec(a)});case 3:delete this.channels[a.channelId];case 4:case"end":return u.stop()}},l,this)}))},f.invite=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({channelId:{type:"string",allowEmpty:!1},toAccid:{type:"string",allowEmpty:!1},requestId:{type:"string",allowEmpty:!1},attachExt:{type:"string",required:!1},needOffline:{type:"boolean",required:!1},pushInfo:{type:"object",required:!1,rules:uw}},a),u.next=3,this.core.sendCmd("signalingInvite",{tag:Ec(a)});case 3:case"end":return u.stop()}},l,this)}))},f.cancelInvite=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({channelId:{type:"string",allowEmpty:!1},toAccid:{type:"string",allowEmpty:!1},requestId:{type:"string",allowEmpty:!1},attachExt:{type:"string",required:!1},needOffline:{type:"boolean",required:!1}},a),u.next=3,this.core.sendCmd("signalingCancelInvite",{tag:Ec(a)});case 3:case"end":return u.stop()}},l,this)}))},f.reject=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({channelId:{type:"string",allowEmpty:!1},fromAccid:{type:"string",allowEmpty:!1},requestId:{type:"string",allowEmpty:!1},attachExt:{type:"string",required:!1},needOffline:{type:"boolean",required:!1}},a),c=a.fromAccid,(u=Ja(a,["fromAccid"])).toAccid=c,C.next=5,this.core.sendCmd("signalingReject",{tag:Ec(u)});case 5:case"end":return C.stop()}},l,this)}))},f.accept=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return ge({channelId:{type:"string",allowEmpty:!1},fromAccid:{type:"string",allowEmpty:!1},requestId:{type:"string",allowEmpty:!1},attachExt:{type:"string",required:!1},needOffline:{type:"boolean",required:!1},autoJoin:{type:"boolean",required:!1},uid:{type:"number",min:0,required:!1},joinAttachExt:{type:"string",required:!1}},a),c=a.autoJoin,u=a.joinAttachExt,h=a.fromAccid,(C=Ja(a,["autoJoin","joinAttachExt","fromAccid"])).toAccid=h,B.next=5,this.core.sendCmd("signalingAccept",{tag:Ec(C)});case 5:if(this.logger.log("Signaling:accept, accept success, autoJoin "+a.autoJoin),!c){B.next=10;break}return x={channelId:a.channelId,needOffline:a.needOffline,attachExt:u,uid:a.uid},B.next=10,this.join(x);case 10:case"end":return B.stop()}},l,this)}))},f.sendCustomCommand=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({channelId:{type:"string",allowEmpty:!1},fromAccid:{type:"string",allowEmpty:!1,required:!1},attachExt:{type:"string",required:!1}},a),u.next=3,this.core.sendCmd("signalingSendCustomCommand",{tag:Ec(a)});case 3:case"end":return u.stop()}},l,this)}))},f.signalingRecvNotificationHandler=function(a){var l=Bs(a,a.content.data,"msgId","0"),c=l.msgId;this.doNotify(l),c&&un(c)&&this.core.sendCmd("signalingBatchMarkRead",{sid:15,cid:11,ids:[c]})},f.signalingMultiSyncNotificationHandler=function(a){this.doNotify(a.content.data,3)},f.doNotify=function(a,l){l===void 0&&(l=0);var c=function(se,xe){xe===void 0&&(xe=0);var we=oa(YS,se),$e=we.attach,Me=we.attachExt,Fe=we.time,We=we.msgId;we.fromAccid,we.toAccid,we.members,we.requestId,we.pushInfo;var Ae=Ja(we,["attach","attachExt","time","msgId","fromAccid","toAccid","members","requestId","pushInfo"]);if($e.type===2)try{we.member={accid:we.attach.member[1],uid:Number(we.attach.member[2]),createTime:Number(we.attach.member[3]),expireTime:Number(we.attach.member[4])}}catch{delete we.member}var Ee=$e.type;return delete we.attach,{metaData:{eventType:Ee,channelInfo:Ae,feature:xe,ext:Me||"",time:Fe,msgId:We},rawData:we}}(a,l),u=c.metaData,h=c.rawData,C=h.fromAccid,x=h.toAccid,k=h.requestId,B=h.pushInfo,W=h.msgId,Y=h.member;switch(u.eventType){case 1:this.emit("signalingClose",{fromAccid:C,metaData:u});break;case 2:this.emit("signalingJoin",{fromAccid:C,metaData:u,member:Y});break;case 3:this.emit("signalingInvite",{fromAccid:C,toAccid:x,requestId:k,pushInfo:B,metaData:u});break;case 4:this.emit("signalingCancelInvite",{fromAccid:C,toAccid:x,requestId:k,metaData:u});break;case 5:this.emit("signalingReject",{fromAccid:C,toAccid:x,requestId:k,metaData:u});break;case 6:this.emit("signalingAccept",{fromAccid:C,toAccid:x,requestId:k,metaData:u});break;case 7:this.emit("signalingLeave",{fromAccid:C,metaData:u});break;case 8:this.emit("signalingCustomCommand",{fromAccid:C,metaData:u});break;default:this.logger.warn("signaling:notification, no such a type "+u.eventType,h)}return W},f.signalingSyncNotificationHandler=function(a){var l,c,u=this;if(a.content.datas&&a.content.datas.length>0){var h=Tn(l=Qe(c=a.content.datas).call(c,function(C){return u.doNotify(C,1)})).call(l,function(C){return C});h.length>0&&this.core.sendCmd("signalingBatchMarkRead",{sid:15,cid:11,ids:h})}},f.singalingSyncChannelsHandler=function(a){var l,c=this;if(this.timer=0,this.channels={},a.content.datas&&a.content.datas.length>0){var u=Qe(l=a.content.datas).call(l,function(h){return XS(h)});rt(u).call(u,function(h){var C=h.channelInfo.channelId;c.channels[C]=is(h.channelInfo)}),this.emit("singalingSyncChannels",u)}},f.process=function(a){var l=this[a.cmd+"Handler"];if(typeof l=="function")return l.call(this,a),Zt.resolve(a);var c=Ht(a,"error.detail.ignore");return a.error&&!c?Zt.reject(a.error):Zt.resolve(a)},y}(Zc.EventEmitter),JS=function(p){function y(o,a){var l;return(l=p.call(this)||this).name=o,l.core=a,l.name=o,l.logger=a.logger,l.core=a,l}pr(y,p);var f=y.prototype;return f.emit=function(a){var l=this;try{for(var c,u,h=arguments.length,C=new Array(h>1?h-1:0),x=1;x<h;x++)C[x-1]=arguments[x];var k=(c=p.prototype.emit).call.apply(c,Bn(u=[this,a]).call(u,C));return k}catch(B){return pa(function(){throw l.logger.error(l.name+"::emit throw error in setTimeout. event: "+a.toString()+". Error",B),B},0),!1}},f.process=function(a){var l=this[a.cmd+"Handler"];if(typeof l=="function")return l.call(this,a);var c=Ht(a,"error.detail.ignore");return a.error&&!c?Zt.reject(a.error):Zt.resolve(a)},y}(Zc),eae={"24_15":"qchatSubscribe","24_27":"qchatGetUnreadInfo","24_48":"qchatCreateChannel","24_49":"qchatDeleteChannel","24_50":"qchatUpdateChannel","24_51":"qchatGetChannels","24_52":"qchatGetChannelsByPage","24_53":"qchatGetMembersByPage","24_54":"qchatUpdateWhiteBlackRole","24_55":"qchatGetWhiteBlackRolesPage","24_56":"qchatUpdateWhiteBlackMembers","24_57":"qchatGetWhiteBlackMembersPage","24_58":"qchatGetExistingWhiteBlackRoles","24_59":"qchatGetExistingWhiteBlackMembers","24_60":"qchatUpdateCategoryInfoOfChannel","24_109":"qchatCreateChannelCategory","24_110":"qchatRemoveChannelCategory","24_111":"qchatUpdateChannelCategory","24_112":"qchatGetChannelCategoriesByID","24_113":"qchatUpdateChannelCategoryWhiteBlackRole","24_114":"qchatGetChannelCategoryWhiteBlackRolesPage","24_115":"qchatUpdateChannelCategoryWhiteBlackMembers","24_116":"qchatGetChannelCategoryWhiteBlackMembersPage","24_117":"qchatGetChannelCategoryWhiteBlackRoles","24_118":"qchatGetChannelCategoryWhiteBlackMembers","24_119":"qchatGetChannelCategoriesPage","24_120":"qchatGetChannelCategoryChannelsPage","24_93":"qchatGetChannelSearchByPage","24_95":"qchatChannelMemberSearch","25_8":"qchatGetRoleIdsByServerId","25_9":"qchatSubscribeAsVisitor","25_12":"qchatAutoSubscribe","25_13":"qchatAutoSubscribeNotification"},dw={serverId:1,channelId:2,ackTimestamp:3,unreadCount:4,mentionedCount:5,maxCount:6,lastMsgTime:7},Va={channelInfo:{channelId:1,serverId:2,name:4,topic:5,ext:6,type:7,validFlag:8,createTime:9,updateTime:10,owner:11,viewMode:12,categoryId:13,syncMode:14,reorderWeight:15,visitorMode:16},antispamTag:{antiSpamBusinessId:1},memberInfo:{serverId:1,accid:3,nick:4,avatar:5,ext:6,type:7,joinTime:8,inviter:9,validFlag:10,createTime:11,updateTime:12},serverRole:{serverId:1,roleId:2,name:3,icon:4,ext:5,auths:6,type:7,memberCount:8,priority:9,createTime:10,updateTime:11},qchatSubReqTag:{type:1,opeType:2},qchatChannelIdInfoTag:{serverId:1,channelId:2},unreadInfo:dw,qchatGetChannelListPageTag:{serverId:1,timetag:2,limit:3},qchatGetMembersByPageTag:{serverId:1,channelId:2,timetag:3,limit:4},qchatUpdateWhiteBlackRoleTag:{serverId:1,channelId:2,type:3,opeType:4,roleId:5},qchatGetWhiteBlackRolesPageTag:{serverId:1,channelId:2,type:3,timetag:4,limit:5},qchatUpdateWhiteBlackMembersTag:{serverId:1,channelId:2,type:3,opeType:4,toAccids:5},qchatGetWhiteBlackMembersPageTag:{serverId:1,channelId:2,type:3,timetag:4,limit:5},qchatGetExistingWhiteBlackRolesTag:{serverId:1,channelId:2,type:3,roleIds:4},qchatGetExistingWhiteBlackMembersTag:{serverId:1,channelId:2,type:3,accids:4},QChatChannelCategoryInfo:{categoryId:1,serverId:2,name:4,ext:5,owner:6,viewMode:7,validFlag:8,createTime:9,updateTime:10,channelNumber:11},qchatUpdateChannelCategoryWhiteBlackRoleTag:{serverId:1,categoryId:2,type:3,opeType:4,roleId:5},qchatGetChannelCategoryWhiteBlackRolesPageTag:{serverId:1,categoryId:2,type:3,timetag:4,limit:5},qchatUpdateChannelCategoryWhiteBlackMembersTag:{serverId:1,categoryId:2,type:3,opeType:4,toAccids:5},qchatGetChannelCategoryWhiteBlackMembersPageTag:{serverId:1,categoryId:2,type:3,timetag:4,limit:5},qchatGetChannelCategoryWhiteBlackRolesTag:{serverId:1,categoryId:2,type:3,roleIds:4},qchatGetChannelCategoryWhiteBlackMembersTag:{serverId:1,categoryId:2,type:3,accids:4},qchatGetChannelCategoriesPageTag:{serverId:1,timetag:2,limit:3},qchatGetChannelCategoryChannelsPageTag:{serverId:1,categoryId:2,timetag:3,limit:4},qchatGetChannelSearchByPageTag:{keyword:1,startTime:2,endTime:3,order:4,limit:5,serverId:6,sort:7,cursor:8},qchatUpdateChannelTag:{channelId:1,name:4,topic:5,ext:6,viewMode:12,visitorMode:16},serverRoles:{serverId:1,roleIds:2,timeTag:3},qchatChannelMemberSearchTag:{serverId:1,channelId:2,keyword:3,limit:4},qchatChannelMemberInfo:{serverId:1,channelId:2,avatar:3,accid:4,nick:5,createTime:6,updateTime:7}},Jp=function(){return po(Va)},tae=function(){var y=Jp();return{qchatCreateChannel:{sid:24,cid:48,service:"qchatChannel",params:[{type:"Property",name:"channelInfo",reflectMapper:Va.channelInfo},{type:"Property",name:"antispamTag",reflectMapper:Va.antispamTag}],response:[{type:"Property",name:"channelInfo",reflectMapper:y.channelInfo}]},qchatDeleteChannel:{sid:24,cid:49,service:"qchatChannel",params:[{type:"Long",name:"channelId"}]},qchatUpdateChannel:{sid:24,cid:50,service:"qchatChannel",params:[{type:"Property",name:"channelInfo",reflectMapper:Va.qchatUpdateChannelTag},{type:"Property",name:"antispamTag",reflectMapper:Va.antispamTag}],response:[{type:"Property",name:"channelInfo",reflectMapper:y.channelInfo}]},qchatGetChannels:{sid:24,cid:51,service:"qchatChannel",params:[{type:"LongArray",name:"channelIds"}],response:[{type:"PropertyArray",name:"channelList",reflectMapper:y.channelInfo}]},qchatGetChannelsByPage:{sid:24,cid:52,service:"qchatChannel",params:[{type:"Property",name:"qchatGetChannelListPageTag",reflectMapper:Va.qchatGetChannelListPageTag}],response:[{type:"Property",name:"listQueryTag",reflectMapper:{1:"hasMore",2:"nextTimetag"}},{type:"PropertyArray",name:"datas",reflectMapper:y.channelInfo}]},qchatGetMembersByPage:{sid:24,cid:53,service:"qchatChannel",params:[{type:"Property",name:"qchatGetMembersByPageTag",reflectMapper:Va.qchatGetMembersByPageTag}],response:[{type:"Property",name:"listQueryTag",reflectMapper:{1:"hasMore",2:"nextTimetag"}},{type:"PropertyArray",name:"datas",reflectMapper:y.memberInfo}]},qchatUpdateWhiteBlackRole:{sid:24,cid:54,service:"qchatChannel",params:[{type:"Property",name:"qchatUpdateWhiteBlackRoleTag",reflectMapper:Va.qchatUpdateWhiteBlackRoleTag}]},qchatGetWhiteBlackRolesPage:{sid:24,cid:55,service:"qchatChannel",params:[{type:"Property",name:"qchatGetWhiteBlackRolesPageTag",reflectMapper:Va.qchatGetWhiteBlackRolesPageTag}],response:[{type:"Property",name:"listQueryTag",reflectMapper:{1:"hasMore",2:"nextTimetag"}},{type:"PropertyArray",name:"datas",reflectMapper:y.serverRole}]},qchatUpdateWhiteBlackMembers:{sid:24,cid:56,service:"qchatChannel",params:[{type:"Property",name:"qchatUpdateWhiteBlackMembersTag",reflectMapper:Va.qchatUpdateWhiteBlackMembersTag}]},qchatGetWhiteBlackMembersPage:{sid:24,cid:57,service:"qchatChannel",params:[{type:"Property",name:"qchatGetWhiteBlackMembersPageTag",reflectMapper:Va.qchatGetWhiteBlackMembersPageTag}],response:[{type:"Property",name:"listQueryTag",reflectMapper:{1:"hasMore",2:"nextTimetag"}},{type:"PropertyArray",name:"datas",reflectMapper:y.memberInfo}]},qchatGetExistingWhiteBlackRoles:{sid:24,cid:58,service:"qchatChannel",params:[{type:"Property",name:"qchatGetExistingWhiteBlackRolesTag",reflectMapper:Va.qchatGetExistingWhiteBlackRolesTag}],response:[{type:"PropertyArray",name:"datas",reflectMapper:y.serverRole}]},qchatGetExistingWhiteBlackMembers:{sid:24,cid:59,service:"qchatChannel",params:[{type:"Property",name:"qchatGetExistingWhiteBlackMembersTag",reflectMapper:Va.qchatGetExistingWhiteBlackMembersTag}],response:[{type:"PropertyArray",name:"datas",reflectMapper:y.memberInfo}]},qchatUpdateCategoryInfoOfChannel:{sid:24,cid:60,service:"qchatChannel",params:[{type:"Property",name:"qchatUpdateCategoryInfoOfChannelTag",reflectMapper:Va.channelInfo}],response:[{type:"Property",name:"channelInfo",reflectMapper:y.channelInfo}]},qchatCreateChannelCategory:{sid:24,cid:109,service:"qchatChannel",params:[{type:"Property",name:"qchatCreateChannelCategoryTag",reflectMapper:Va.QChatChannelCategoryInfo}],response:[{type:"Property",name:"QChatChannelCategoryInfo",reflectMapper:y.QChatChannelCategoryInfo}]},qchatRemoveChannelCategory:{sid:24,cid:110,service:"qchatChannel",params:[{type:"Long",name:"categoryId"}]},qchatUpdateChannelCategory:{sid:24,cid:111,service:"qchatChannel",params:[{type:"Property",name:"qchatUpdateChannelCategoryTag",reflectMapper:Va.QChatChannelCategoryInfo}],response:[{type:"Property",name:"QChatChannelCategoryInfo",reflectMapper:y.QChatChannelCategoryInfo}]},qchatGetChannelCategoriesByID:{sid:24,cid:112,service:"qchatChannel",params:[{type:"LongArray",name:"categoryIds"}],response:[{type:"PropertyArray",name:"channelCategoryList",reflectMapper:y.QChatChannelCategoryInfo}]},qchatUpdateChannelCategoryWhiteBlackRole:{sid:24,cid:113,service:"qchatChannel",params:[{type:"Property",name:"qchatUpdateChannelCategoryWhiteBlackRoleTag",reflectMapper:Va.qchatUpdateChannelCategoryWhiteBlackRoleTag}]},qchatGetChannelCategoryWhiteBlackRolesPage:{sid:24,cid:114,service:"qchatChannel",params:[{type:"Property",name:"qchatGetChannelCategoryWhiteBlackRolesPageTag",reflectMapper:Va.qchatGetChannelCategoryWhiteBlackRolesPageTag}],response:[{type:"Property",name:"listQueryTag",reflectMapper:{1:"hasMore",2:"nextTimetag"}},{type:"PropertyArray",name:"datas",reflectMapper:y.serverRole}]},qchatUpdateChannelCategoryWhiteBlackMembers:{sid:24,cid:115,service:"qchatChannel",params:[{type:"Property",name:"qchatUpdateChannelCategoryWhiteBlackMembersTag",reflectMapper:Va.qchatUpdateChannelCategoryWhiteBlackMembersTag}]},qchatGetChannelCategoryWhiteBlackMembersPage:{sid:24,cid:116,service:"qchatChannel",params:[{type:"Property",name:"qchatGetChannelCategoryWhiteBlackMembersPageTag",reflectMapper:Va.qchatGetChannelCategoryWhiteBlackMembersPageTag}],response:[{type:"Property",name:"listQueryTag",reflectMapper:{1:"hasMore",2:"nextTimetag"}},{type:"PropertyArray",name:"datas",reflectMapper:y.memberInfo}]},qchatGetChannelCategoryWhiteBlackRoles:{sid:24,cid:117,service:"qchatChannel",params:[{type:"Property",name:"qchatGetChannelCategoryWhiteBlackRolesTag",reflectMapper:Va.qchatGetChannelCategoryWhiteBlackRolesTag}],response:[{type:"PropertyArray",name:"datas",reflectMapper:y.serverRole}]},qchatGetChannelCategoryWhiteBlackMembers:{sid:24,cid:118,service:"qchatChannel",params:[{type:"Property",name:"qchatGetChannelCategoryWhiteBlackMembersTag",reflectMapper:Va.qchatGetChannelCategoryWhiteBlackMembersTag}],response:[{type:"PropertyArray",name:"datas",reflectMapper:y.memberInfo}]},qchatGetChannelCategoriesPage:{sid:24,cid:119,service:"qchatChannel",params:[{type:"Property",name:"qchatGetChannelCategoriesPageTag",reflectMapper:Va.qchatGetChannelCategoriesPageTag}],response:[{type:"Property",name:"listQueryTag",reflectMapper:{1:"hasMore",2:"nextTimetag"}},{type:"PropertyArray",name:"datas",reflectMapper:y.QChatChannelCategoryInfo}]},qchatGetChannelCategoryChannelsPage:{sid:24,cid:120,service:"qchatChannel",params:[{type:"Property",name:"qchatGetChannelCategoryChannelsPageTag",reflectMapper:Va.qchatGetChannelCategoryChannelsPageTag}],response:[{type:"Property",name:"listQueryTag",reflectMapper:{1:"hasMore",2:"nextTimetag"}},{type:"PropertyArray",name:"datas",reflectMapper:y.channelInfo}]},qchatSubscribe:{sid:24,cid:15,service:"qchatChannel",params:[{type:"Property",name:"qchatSubReqTag",reflectMapper:Va.qchatSubReqTag},{type:"PropertyArray",name:"channels",reflectMapper:Va.qchatChannelIdInfoTag}],response:[{type:"PropertyArray",name:"unreadInfos",reflectMapper:y.unreadInfo},{type:"PropertyArray",name:"failedChannels",reflectMapper:y.qchatChannelIdInfoTag}]},qchatAutoSubscribe:{sid:25,cid:12,service:"qchatChannel",hasPacketTimer:!1,params:[{type:"Property",name:"qchatAutoSubReqTag"}],response:[{type:"Property",name:"qchatAutoSubInfo",reflectMapper:{1:"time"}}]},qchatAutoSubscribeNotification:{service:"qchatChannel",sid:25,cid:13,response:[{type:"PropertyArray",name:"serverIds",reflectMapper:y.unreadInfo},{type:"PropertyArray",name:"unreadInfos",reflectMapper:y.unreadInfo}]},qchatGetUnreadInfo:{sid:24,cid:27,service:"qchatChannel",params:[{type:"PropertyArray",name:"channels",reflectMapper:Va.qchatChannelIdInfoTag}],response:[{type:"PropertyArray",name:"unreadInfos",reflectMapper:y.unreadInfo}]},qchatGetChannelSearchByPage:{sid:24,cid:93,service:"qchatChannel",params:[{type:"Property",name:"qchatGetChannelSearchByPageTag",reflectMapper:Va.qchatGetChannelSearchByPageTag}],response:[{type:"Property",name:"listQueryTag",reflectMapper:{1:"hasMore",2:"nextTimetag",3:"cursor"}},{type:"PropertyArray",name:"datas",reflectMapper:y.channelInfo}]},qchatGetRoleIdsByServerId:{sid:25,cid:8,service:"qchatChannel",params:[{type:"Property",name:"qchatGetRoleIdsByServerIdTag",reflectMapper:{serverIdTimeTags:1}}],response:[{type:"PropertyArray",name:"serverRoles",reflectMapper:y.serverRoles},{type:"String",name:"failServerIds"}]},qchatChannelMemberSearch:{sid:24,cid:95,service:"qchatChannel",params:[{type:"Property",name:"qchatChannelMemberSearchTag",reflectMapper:Va.qchatChannelMemberSearchTag}],response:[{type:"PropertyArray",name:"datas",reflectMapper:y.qchatChannelMemberInfo}]},qchatSubscribeAsVisitor:{sid:25,cid:9,service:"qchatChannel",params:[{type:"Property",name:"tag",reflectMapper:Va.qchatSubReqTag},{type:"PropertyArray",name:"datas",reflectMapper:Va.qchatChannelIdInfoTag}],response:[{type:"PropertyArray",name:"failedArr",reflectMapper:y.qchatChannelIdInfoTag}]}}};(function(p){p[p.reorderWeight=0]="reorderWeight",p[p.createTime=1]="createTime"})(qC||(qC={})),function(p){p[p.white=1]="white",p[p.black=2]="black"}(ei||(ei={})),function(p){p[p.add=1]="add",p[p.remove=2]="remove"}(Dl||(Dl={})),function(p){p[p.message=0]="message",p[p.media=1]="media",p[p.ext=100]="ext"}(Wf||(Wf={})),function(p){p[p.ASC=1]="ASC",p[p.DESC=2]="DESC"}(Xp||(Xp={})),function(p){p[p.reorderWeight=0]="reorderWeight",p[p.createTime=1]="createTime",p[p.totalMember=2]="totalMember"}(zC||(zC={})),function(p){p[p.square=1]="square",p[p.person=2]="person"}(HC||(HC={}));var nae={channelId:{type:"string"},serverId:{type:"string"},name:{type:"string"},topic:{type:"string"},ext:{type:"string"},type:{type:"enum",values:Wf},validFlag:{type:"boolean"},createTime:{type:"number"},updateTime:{type:"number"},viewMode:{type:"number"},categoryId:{type:"string"},syncMode:{type:"number"},visitorMode:{type:"number"},reorderWeight:{type:"string"}},rae={serverId:{type:"string"},channelId:{type:"string"},ackTimestamp:{type:"number"},unreadCount:{type:"number"},mentionedCount:{type:"number"},maxCount:{type:"number"},lastMsgTime:{type:"number"}},aae={serverId:{type:"string"},channelId:{type:"string"},type:{type:"enum",values:ei},opeType:{type:"enum",values:Dl},toAccids:{type:"object"}},iae={serverId:{type:"string"},channelId:{type:"string"},type:{type:"enum",values:ei},opeType:{type:"enum",values:Dl},roleId:{type:"string"}},oae={categoryId:{type:"string"},serverId:{type:"string"},name:{type:"string"},ext:{type:"string"},owner:{type:"string"},viewMode:{type:"number"},validFlag:{type:"boolean"},createTime:{type:"number"},updateTime:{type:"number"},channelNumber:{type:"number"}},sae={serverId:{type:"string"},channelId:{type:"string"},accid:{type:"string"},avatar:{type:"string"},nick:{type:"string"},createTime:{type:"number"},updateTime:{type:"number"}};function pw(p){return oa(iae,p)}function QS(p){return oa(nae,p)}function GC(p){return Nr(p)&&p.length>0?Qe(p).call(p,function(y){return QS(y)}):[]}function mw(p){return oa(rae,p)}function ZS(p){return Nr(p)&&p.length>0?Qe(p).call(p,function(y){return mw(y)}):[]}function eI(p){return oa(oae,p)}function EU(p){return Nr(p)&&p.length>0?Qe(p).call(p,function(y){return eI(y)}):[]}function lae(p){return Nr(p)&&p.length>0?Qe(p).call(p,function(y){return function(o){return oa(sae,o)}(y)}):[]}function fw(p){try{return JSON.parse(p)}catch{return[]}}var cae={serverId:{type:"string"},name:{type:"string"},icon:{type:"string"},ext:{type:"string"},owner:{type:"string"},memberNumber:{type:"number"},inviteMode:{type:"number"},applyMode:{type:"number"},validFlag:{type:"boolean"},createTime:{type:"number"},updateTime:{type:"number"},channelNumber:{type:"number"},categoryNumber:{type:"number"},searchType:{type:"number"},searchEnable:{type:"boolean"},reorderWeight:{type:"string"}},uae={serverId:{type:"string"},uid:{type:"string"},accid:{type:"string"},nick:{type:"string"},avatar:{type:"string"},ext:{type:"string"},type:{type:"number"},joinTime:{type:"number"},inviter:{type:"string"},validFlag:{type:"boolean"},createTime:{type:"number"},updateTime:{type:"number"}},dae={serverId:{type:"string"},appid:{type:"string"},accid:{type:"string"},ext:{type:"string"},banTime:{type:"number"},validFlag:{type:"boolean"},createTime:{type:"number"},updateTime:{type:"number"}};function KC(p){return oa(cae,p)}function gw(p){return Nr(p)&&p.length>0?Qe(p).call(p,function(y){return KC(y)}):[]}function WC(p){return oa(uae,p)}function Qp(p){return Nr(p)&&p.length>0?Qe(p).call(p,function(y){return WC(y)}):[]}function pae(p){return Nr(p)&&p.length>0?Qe(p).call(p,function(y){return function(o){return oa(dae,o)}(y)}):[]}function Zp(p){var y,f,o;if(!p.antispamTag)return{};var a=ce({},p.antispamTag);return!((y=p.antispamTag)===null||y===void 0)&&y.antiSpamBusinessId&&typeof((f=p.antispamTag)===null||f===void 0?void 0:f.antiSpamBusinessId)!="string"&&(a.antiSpamBusinessId=$t((o=p.antispamTag)===null||o===void 0?void 0:o.antiSpamBusinessId)),a}var mae={accid:{type:"string"},type:{type:"number"},serverId:{type:"string"},status:{type:"number"},requestId:{type:"string"},createTime:{type:"number"},updateTime:{type:"number"},expireTime:{type:"number"},data:{type:"object"}};function hw(p){return oa(mae,p)}function CU(p){return Nr(p)&&p.length>0?Qe(p).call(p,function(y){return hw(y)}):[]}var tI,YC,wv,Nv,fae={successServerIds:{type:"object"},failServerIds:{type:"object"},ackTimestamp:{type:"number"}};function TU(p){return oa(fae,p)}(function(p){p[p.everyone=1]="everyone",p[p.custom=2]="custom"})(tI||(tI={})),function(p){p[p.normal=0]="normal",p[p.owner=1]="owner"}(YC||(YC={})),function(p){p[p.ignore=0]="ignore",p[p.deny=-1]="deny",p[p.allow=1]="allow"}(wv||(wv={})),function(p){p[p.manageServer=1]="manageServer",p[p.manageChannel=2]="manageChannel",p[p.manageRole=3]="manageRole",p[p.sendMsg=4]="sendMsg",p[p.accountInfoSelf=5]="accountInfoSelf",p[p.inviteServer=6]="inviteServer",p[p.kickServer=7]="kickServer",p[p.accountInfoOther=8]="accountInfoOther",p[p.recallMsg=9]="recallMsg",p[p.deleteMsg=10]="deleteMsg",p[p.remindOther=11]="remindOther",p[p.remindEveryone=12]="remindEveryone",p[p.manageBlackWhiteList=13]="manageBlackWhiteList",p[p.banServerMember=14]="banServerMember",p[p.RTCChannelConnect=15]="RTCChannelConnect",p[p.RTCChannelDisconnectOther=16]="RTCChannelDisconnectOther",p[p.RTCChannelOpenMicrophone=17]="RTCChannelOpenMicrophone",p[p.RTCChannelOpenCamera=18]="RTCChannelOpenCamera",p[p.RTCChannelOpenCloseOtherMicrophone=19]="RTCChannelOpenCloseOtherMicrophone",p[p.RTCChannelOpenCloseOtherCamera=20]="RTCChannelOpenCloseOtherCamera",p[p.RTCChannelOpenCloseEveryoneMicrophone=21]="RTCChannelOpenCloseEveryoneMicrophone",p[p.RTCChannelOpenCloseEveryoneCamera=22]="RTCChannelOpenCloseEveryoneCamera",p[p.RTCChannelOpenShareScreen=23]="RTCChannelOpenShareScreen",p[p.RTCChannelCloseOtherShareScreen=24]="RTCChannelCloseOtherShareScreen",p[p.manageInviteApply=25]="manageInviteApply",p[p.manageInviteApplyHistory=26]="manageInviteApplyHistory",p[p.mentionedRole=27]="mentionedRole"}(Nv||(Nv={}));var MU,XC,JC,Cc,nI,_U,$a,Id,xU={type:{type:"enum",values:tI},memberType:{type:"enum",values:YC},createTime:{type:"number"},updateTime:{type:"number"},priority:{type:"number"},memberCount:{type:"number"},joinTime:{type:"number"}},gae={roleId:{type:"string"},categoryId:{type:"string"},serverId:{type:"string"},type:{type:"enum",values:tI},validFlag:{type:"boolean"},createTime:{type:"number"},updateTime:{type:"number"},name:{type:"string"},icon:{type:"string"},ext:{type:"string"}},hae={id:{type:"string"},accid:{type:"string"},categoryId:{type:"string"},serverId:{type:"string"},validFlag:{type:"boolean"},createTime:{type:"number"},updateTime:{type:"number"},nick:{type:"string"},avatar:{type:"string"},ext:{type:"string"},memberType:{type:"enum",values:YC},joinTime:{type:"number"},inviter:{type:"string"}};function em(p){var y=ce({},p),f=ud(xU,y);return f.auths&&(f.auths=function(a){var l,c=ja(l=Gn(a)).call(l,function(u,h){var C=Nv[h];return C?u[C]=wv[a[h]]:u[h]=wv[a[h]],u},{});return $t(c)}(f.auths)),f}function rI(p){var y;return ja(y=Gn(p)).call(y,function(f,o){var a=hc(Nv,o);return a?f[a]=wv[p[o]]:f[un(o)]=wv[p[o]],f},{})}function jl(p){var y=oa(xU,p);return p.auths&&(y.auths=rI(JSON.parse(y.auths))),y.isMember&&delete y.isMember,y}function Vl(p){return Nr(p)&&p.length>0?Qe(p).call(p,function(y){return jl(y)}):[]}function vw(p){return p.auths&&(p.auths=rI(JSON.parse(p.auths))),oa(gae,p)}function yw(p){return p.auths&&(p.auths=rI(JSON.parse(p.auths))),oa(hae,p)}function wU(p){var y=typeof p;return p!=null&&(y=="object"||y=="function")}(function(p){p[p.default=1]="default",p[p.sync=2]="sync"})(MU||(MU={})),function(p){p[p.sendTime=1]="sendTime"}(XC||(XC={})),function(p){p[p.text=0]="text",p[p.image=1]="image",p[p.audio=2]="audio",p[p.video=3]="video",p[p.geo=4]="geo",p[p.notification=5]="notification",p[p.file=6]="file",p[p.tip=10]="tip",p[p.robot=11]="robot",p[p.g2=12]="g2",p[p.custom=100]="custom"}(JC||(JC={})),function(p){p[p.sending=1]="sending",p[p.success=2]="success",p[p.failed=3]="failed"}(Cc||(Cc={})),function(p){p[p.notifyAll=1]="notifyAll",p[p.notifySubscribe=2]="notifySubscribe"}(nI||(nI={})),function(p){p[p.unknown=0]="unknown",p[p.server=1]="server",p[p.channel=2]="channel",p[p.serverAccids=3]="serverAccids",p[p.channelAccids=4]="channelAccids",p[p.accids=5]="accids"}(_U||(_U={})),function(p){p[p.serverMemberInvite=1]="serverMemberInvite",p[p.serverMemberInviteReject=2]="serverMemberInviteReject",p[p.serverMemberApply=3]="serverMemberApply",p[p.serverMemberApplyReject=4]="serverMemberApplyReject",p[p.serverCreate=5]="serverCreate",p[p.serverRemove=6]="serverRemove",p[p.serverUpdate=7]="serverUpdate",p[p.serverMemberInviteDone=8]="serverMemberInviteDone",p[p.serverMemberInviteAccept=9]="serverMemberInviteAccept",p[p.serverMemberApplyDone=10]="serverMemberApplyDone",p[p.serverMemberApplyAccept=11]="serverMemberApplyAccept",p[p.serverMemberKick=12]="serverMemberKick",p[p.serverMemberLeave=13]="serverMemberLeave",p[p.serverMemberUpdate=14]="serverMemberUpdate",p[p.channelCreate=15]="channelCreate",p[p.channelRemove=16]="channelRemove",p[p.channelUpdate=17]="channelUpdate",p[p.channelUpdateWhiteBlackIdentify=18]="channelUpdateWhiteBlackIdentify",p[p.channelUpdateWhiteBlackIdentifyUser=19]="channelUpdateWhiteBlackIdentifyUser",p[p.updateQuickComment=20]="updateQuickComment",p[p.channelCategoryCreate=21]="channelCategoryCreate",p[p.channelCategoryRemove=22]="channelCategoryRemove",p[p.channelCategoryUpdate=23]="channelCategoryUpdate",p[p.channelCategoryUpdateWhiteBlackIdentify=24]="channelCategoryUpdateWhiteBlackIdentify",p[p.channelCategoryUpdateWhiteBlackIdentifyUser=25]="channelCategoryUpdateWhiteBlackIdentifyUser",p[p.serverIdentifyAdd=26]="serverIdentifyAdd",p[p.serverIdentifyRemove=27]="serverIdentifyRemove",p[p.serverIdentifyUpdate=28]="serverIdentifyUpdate",p[p.channelIdentifyUpdate=29]="channelIdentifyUpdate",p[p.userIdentifyUpdate=30]="userIdentifyUpdate",p[p.channelVisibilityUpdate=31]="channelVisibilityUpdate",p[p.serverEnterLeave=32]="serverEnterLeave",p[p.serverMemberJoinByInviteCode=33]="serverMemberJoinByInviteCode",p[p.channelVisibilityToVisitorUpdate=34]="channelVisibilityToVisitorUpdate",p[p.myMemberInfoUpdated=35]="myMemberInfoUpdated",p[p.custom=100]="custom",p[p.msgTyping=101]="msgTyping"}($a||($a={})),function(p){p[p.reply=1]="reply",p[p.thread=2]="thread",p[p.all=3]="all"}(Id||(Id={}));var vae=Math.max,yae=Math.min;function bae(p,y,f){var o,a,l,c,u,h,C=0,x=!1,k=!1,B=!0;if(typeof p!="function")throw new TypeError("Expected a function");function W($e){var Me=o,Fe=a;return o=a=void 0,C=$e,c=p.apply(Fe,Me)}function Y($e){return C=$e,u=pa(se,y),x?W($e):c}function ne($e){var Me=$e-h;return h===void 0||Me>=y||Me<0||k&&$e-C>=l}function se(){var $e=lr();if(ne($e))return xe($e);u=pa(se,function(Fe){var We=y-(Fe-h);return k?yae(We,l-(Fe-C)):We}($e))}function xe($e){return u=void 0,B&&o?W($e):(o=a=void 0,c)}function we(){var $e=lr(),Me=ne($e);if(o=arguments,a=this,h=$e,Me){if(u===void 0)return Y(h);if(k)return clearTimeout(u),u=pa(se,y),W(h)}return u===void 0&&(u=pa(se,y)),c}return y=Number(y)||0,wU(f)&&(x=!!f.leading,l=(k="maxWait"in f)?vae(Number(f.maxWait)||0,y):l,B="trailing"in f?!!f.trailing:B),we.cancel=function(){u!==void 0&&clearTimeout(u),C=0,o=h=a=u=void 0},we.flush=function(){return u===void 0?c:xe(lr())},we}var tm;function bw(p,y,f){var o=!0,a=!0;if(typeof p!="function")throw new TypeError("Expected a function");return wU(f)&&(o="leading"in f?!!f.leading:o,a="trailing"in f?!!f.trailing:a),bae(p,y,{leading:o,maxWait:y,trailing:a})}(function(p){p[p.sub=1]="sub",p[p.unSub=2]="unSub"})(tm||(tm={}));var Sae=function(){function p(f){var o=this;this.unreadCount={},this.manualSubscribeUnreadMap={},this.manualSubscribeServerMap={},this.manualSubscribeTypingMap={},this.unreadServerCount={},this.serverRoleIdsMap={},this.autoSubscribeUnreadMap={},this.autoSubscribeServerMap={},this._serverUnreadInfo=bw(function(a){o.core.emit("serverUnreadInfo",o.getServerUnreadInfo(a)),Ht(o.core,"qchatServer.emit")&&o.core.qchatServer.emit("serverUnreadInfo",o.getServerUnreadInfo(a))},100),this.core=f}var y=p.prototype;return y.changeCacheServerRoleIds=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x,k,B=this;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(c=o.attach.serverIdentifyInfo,u=c.serverId,h=c.roleId,this.serverRoleIdsMap[u]){Y.next=4;break}return Y.next=4,this.getRoleIdsByServerId([u]);case 4:if(C=this.serverRoleIdsMap[u],!(o.time<C.timeTag)){Y.next=7;break}return Y.abrupt("return");case 7:if(o.type===$a[$a.serverIdentifyAdd]?C.roleIds.add(h):C.roleIds.delete(h),this.core.logger.debug("QChatChannel::qchatChannel/serverIdentifyChange::now "+u+" roleIds is",Bn(l=[]).call(l,C.roleIds)),x=this.unreadServerCount[u]){Y.next=12;break}return Y.abrupt("return");case 12:k=fu(Gn(x),100),rt(k).call(k,function(ne){B.core.qchatChannel.getChannelUnreadInfos({channels:Qe(ne).call(ne,function(se){return{serverId:u,channelId:se}})})});case 14:case"end":return Y.stop()}},a,this)}))},y.getRoleIdsByServerId=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C=this;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if((c=Tn(o).call(o,function(B){return!C.serverRoleIdsMap[B]})).length){k.next=3;break}return k.abrupt("return");case 3:return u={serverIdTimeTags:c},k.next=6,this.core.sendCmd("qchatGetRoleIdsByServerId",{qchatGetRoleIdsByServerIdTag:u});case 6:h=k.sent,this.core.logger.debug("QChatChannel:: getRoleIdsByServerId, params is ",u,"result is",h),rt(l=h.content.serverRoles).call(l,function(B){try{B.roleIds=JSON.parse(B.roleIds)}catch(W){C.core.logger.error("QChatChannel:: getRoleIdsByServerId JSON parse roleIds error",W)}C.serverRoleIdsMap[B.serverId]={roleIds:new bc(B.roleIds),timeTag:B.timeTag}});case 9:case"end":return k.stop()}},a,this)}))},y._unSubscribeChannel=function(o,a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(c=o+"_"+a,u=[],this.manualSubscribeUnreadMap[c]?u.push(this.manualSubscribeUnreadMap[c]):this.autoSubscribeUnreadMap[c]&&u.push(this.autoSubscribeUnreadMap[c]),this.manualSubscribeTypingMap[c]&&u.push(this.manualSubscribeTypingMap[c]),u.length!==0){B.next=6;break}return B.abrupt("return");case 6:for(h=0,C=u;h<C.length;h++)x=C[h],this.subscribe({opeType:tm.unSub,type:x,channels:[{serverId:o,channelId:a}]});this.manualSubscribeUnreadMap[c]?this.manualSubscribeUnreadMap[c]=void 0:this.autoSubscribeUnreadMap[c]&&(this.autoSubscribeUnreadMap[c]=void 0),this.manualSubscribeTypingMap[c]&&(this.manualSubscribeTypingMap[c]=void 0);case 9:case"end":return B.stop()}},l,this)}))},y._unSubscribeServer=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(l=o,c=this.manualSubscribeServerMap[l]||this.autoSubscribeServerMap[l]){h.next=4;break}return h.abrupt("return");case 4:this.subscribe({opeType:tm.unSub,type:c,channels:[{serverId:o,channelId:""}]}),this.manualSubscribeServerMap[l]?this.manualSubscribeServerMap[l]=void 0:this.autoSubscribeServerMap[l]&&(this.autoSubscribeServerMap[l]=void 0);case 6:case"end":return h.stop()}},a,this)}))},y.subscribe=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C=this;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({type:{type:"number",min:1,max:5},opeType:{type:"number",min:1,max:2}},o),k.next=3,this.core.sendCmd("qchatSubscribe",{qchatSubReqTag:{type:o.type,opeType:o.opeType},channels:o.channels});case 3:return c=k.sent,u=new bc,rt(l=o.channels).call(l,function(B){return le(C,void 0,void 0,q.mark(function W(){return q.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:this.serverRoleIdsMap[B.serverId]||u.add(B.serverId);case 1:case"end":return ne.stop()}},W,this)}))}),h=fu(ma(u),10),rt(h).call(h,function(B){C.getRoleIdsByServerId(B)}),k.abrupt("return",c.content);case 9:case"end":return k.stop()}},a,this)}))},y.autoSubscribe=function(){return le(this,void 0,void 0,q.mark(function o(){return q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.core.sendCmd("qchatAutoSubscribe",{qchatAutoSubReqTag:{}});case 2:case"end":return l.stop()}},o,this)}))},y.resumeSubscribe=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x,k,B=this;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(this.serverRoleIdsMap={},C=100,o){Y.next=6;break}return this.unreadServerCount={},this.unreadCount={},Y.abrupt("return");case 6:return x={},rt(l=Gn(this.manualSubscribeUnreadMap)).call(l,function(ne){var se=B.manualSubscribeUnreadMap[ne];if(se){var xe=ne.split("_"),we={serverId:xe[0],channelId:xe[1]};x[se]=x[se]||[],x[se].push(we)}}),x[5]=[],rt(c=Gn(this.manualSubscribeTypingMap)).call(c,function(ne){return le(B,void 0,void 0,q.mark(function se(){var xe,we,$e,Me;return q.wrap(function(We){for(;;)switch(We.prev=We.next){case 0:this.manualSubscribeTypingMap[ne]&&(xe=ne.split("_"),we=xe[0],$e=xe[1],Me={serverId:we,channelId:$e},x[5].push(Me));case 2:case"end":return We.stop()}},se,this)}))}),x[4]=[],rt(u=Gn(this.manualSubscribeServerMap)).call(u,function(ne){return le(B,void 0,void 0,q.mark(function se(){var xe;return q.wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:this.manualSubscribeServerMap[ne]&&(xe={serverId:ne},x[4].push(xe));case 2:case"end":return $e.stop()}},se,this)}))}),k=[],rt(h=Gn(x)).call(h,function(ne){var se=x[ne];if(se&&se.length===0)return Zt.resolve();if(se.length>C){var xe=fu(se,100);return rt(xe).call(xe,function(we){k.push(B.createSubscribePromise(we,ne))})}k.push(B.createSubscribePromise(se,ne))}),Y.next=16,Zt.all(k);case 16:case"end":return Y.stop()}},a,this)}))},y.createSubscribePromise=function(o,a){var l=this,c={type:un(a),opeType:1,channels:o};return this.core.logger.debug("qchatChannel:: autoSubscribeUnread params",c),this.subscribe(c).then(function(u){var h=u.unreadInfos;h&&h.length>0&&(h=ZS(h),l.updateUnreads(h))}).catch(function(u){l.core.logger.error("qchatChannel:: autoSubscribeUnread error ",u)})},y.cacheSubscribe=function(o){var a,l=this;rt(a=o.channels).call(a,function(c){var u=c.channelId?c.serverId+"_"+c.channelId:""+c.serverId,h=o.type===5?l.manualSubscribeTypingMap:o.type===4?l.manualSubscribeServerMap:l.manualSubscribeUnreadMap;o.opeType===tm.sub?h[u]=o.type:o.opeType===tm.unSub&&(h[u]=void 0)})},y.cacheAutoSubscribe=function(o){var a,l=this;rt(a=o.channels).call(a,function(c){var u=c.channelId?c.serverId+"_"+c.channelId:""+c.serverId,h=o.type===4?l.autoSubscribeServerMap:l.autoSubscribeUnreadMap;o.opeType===tm.sub?h[u]=o.type:o.opeType===tm.unSub&&(h[u]=void 0)})},y.cacheUnreadCount=function(o){var a=this;rt(o).call(o,function(l){var c=l.serverId+"_"+l.channelId;a.unreadCount[c]=ce({},l),a.unreadServerCount[l.serverId]||(a.unreadServerCount[l.serverId]={}),a.unreadServerCount[l.serverId][l.channelId]=!0})},y.getServerUnreadInfo=function(o){var a,l=this,c={serverId:o,unreadCount:0,mentionedCount:0,maxCount:0},u=this.unreadServerCount[o];return u&&(rt(a=Gn(u)).call(a,function(h){var C=o+"_"+h,x=l.unreadCount[C];c.unreadCount+=x.unreadCount,c.mentionedCount+=x.mentionedCount,x.maxCount!==void 0&&(c.maxCount=x.maxCount)}),c.unreadCount=c.unreadCount>c.maxCount?c.maxCount:c.unreadCount,c.mentionedCount=c.mentionedCount>c.maxCount?c.maxCount:c.mentionedCount),c},y.getUnreadInfo=function(o){ge({serverId:{type:"string"},channelId:{type:"string"}},o);var a=o.serverId+"_"+o.channelId;return this.unreadCount[a]?this.unreadCount[a]:null},y.shouldChangeUnread=function(o,a){if(!o.serverId||!o.channelId||this.core.qchatChannel.subscribeForVisitorService.isInSubscribeChannels(o.serverId,o.channelId)||o.historyEnable===!1||o.needBadge===!1||o.fromAccount===this.core.account||a&&(o==null?void 0:o.status)!==2)return!1;if(o.notifyReason&&o.notifyReason===hc(nI,nI.notifySubscribe)){if(!o.serverId||!o.channelId)return!1;var l=this.getUnreadInfo({serverId:o.serverId,channelId:o.channelId}),c=a?"ackTimestamp":"lastMsgTime";if(!l||o.time&&l[c]&&l[c]>o.time)return!1}return!0},y.shouldChangeMentionedUnread=function(o,a){return a===void 0&&(a=!1),le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!o.accidsOfMentionedRoles||!or(c=o.accidsOfMentionedRoles).call(c,this.core.account)){C.next=2;break}return C.abrupt("return",!0);case 2:if(!o.mentionRoleIds||!o.serverId){C.next=16;break}if(this.serverRoleIdsMap[o.serverId]){C.next=9;break}if(a){C.next=7;break}return this.handledRoleMsg(o),C.abrupt("return",!1);case 7:return C.next=9,this.getRoleIdsByServerId([o.serverId]);case 9:u=0;case 10:if(!(u<o.mentionRoleIds.length)){C.next=16;break}if(!this.serverRoleIdsMap[o.serverId].roleIds.has(o.mentionRoleIds[u])){C.next=13;break}return C.abrupt("return",!0);case 13:u++,C.next=10;break;case 16:return C.abrupt("return",!1);case 17:case"end":return C.stop()}},l,this)}))},y.handledRoleMsg=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x=this;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(o.mentionRoleIds){B.next=2;break}return B.abrupt("return");case 2:if(this.serverRoleIdsMap[o.serverId]){B.next=5;break}return B.next=5,this.getRoleIdsByServerId([o.serverId]);case 5:if(this.serverRoleIdsMap[o.serverId]){B.next=8;break}return this.core.logger.warn("QChatChannel::handledRoleMsg::can not get serverRoleIds,server id",o.serverId),B.abrupt("return");case 8:if(c=!1,rt(l=o.mentionRoleIds).call(l,function(W){x.serverRoleIdsMap[o.serverId].roleIds.has(W)&&(c=!0,x.core.logger.debug("QChatChannel::handledRoleMsg::will update message mentionedCount，message is ",o))}),c){B.next=12;break}return B.abrupt("return");case 12:if(u=this.unreadCount[o.serverId+"_"+o.channelId],h=(o==null?void 0:o.status)===2,u.mentionedCount=h?u.mentionedCount?u.mentionedCount-1:0:u.mentionedCount?u.mentionedCount+1:1,typeof u.maxCount!="number"){B.next=25;break}if(!((C=(C=u.mentionedCount)>u.maxCount?u.maxCount:C)>u.maxCount)){B.next=21;break}return this.core.logger.debug("QChatChannel::handledRoleMsg::tempUnreadCount more than maxCount"),B.abrupt("return");case 21:this.core.emit("unreadInfo",ce(ce({},u),{mentionedCount:C})),this.core.emit("unreadInfos",[ce(ce({},u),{mentionedCount:C})]),this.core.qchatChannel.emit("unreadInfos",[ce(ce({},u),{mentionedCount:C})]),this._serverUnreadInfo(o.serverId);case 25:case"end":return B.stop()}},a,this)}))},y.getMentionedFlag=function(o,a){return a===void 0&&(a=!1),le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!o.mentionAll){h.next=4;break}return h.abrupt("return",!0);case 4:if(!o.mentionRoleIds&&!o.accidsOfMentionedRoles){h.next=10;break}return h.next=7,this.shouldChangeMentionedUnread(o,a);case 7:return h.abrupt("return",h.sent);case 10:if(!o.mentionAccids||!or(c=o.mentionAccids).call(c,this.core.account)){h.next=12;break}return h.abrupt("return",!0);case 12:return h.abrupt("return",!1);case 13:case"end":return h.stop()}},l,this)}))},y.changeUnread=function(o,a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k,B;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(c=o.serverId,u=o.channelId,h=c+"_"+u,this.shouldChangeUnread(o,a)){Y.next=6;break}return this.core.logger.debug("changeUnread: "+h+" does not need to update unreadInfo"),Y.abrupt("return");case 6:if(this.unreadCount[h]){Y.next=11;break}return Y.next=9,this.core.qchatChannel.getChannelUnreadInfos({channels:[{serverId:c,channelId:u}]});case 9:return!this.serverRoleIdsMap[c]&&o.mentionRoleIds&&this.getRoleIdsByServerId([c]),Y.abrupt("return");case 11:return C=this.unreadCount[h],x=(o==null?void 0:o.status)===2,Y.next=15,this.getMentionedFlag(o);case 15:if(k=Y.sent,x?(C.unreadCount=C.unreadCount?C.unreadCount-1:0,k&&(C.mentionedCount=C.mentionedCount?C.mentionedCount-1:0),delete C.lastMsgTime,this.core.logger.debug("changeUnread: "+h+" unread reduce ",C)):(C.unreadCount=C.unreadCount?C.unreadCount+1:1,k&&(C.mentionedCount=C.mentionedCount?C.mentionedCount+1:1),o.time&&(C.lastMsgTime=o.time),this.core.logger.debug("changeUnread: "+h+" unread add ",C)),B=typeof C.maxCount=="number"?C.maxCount:100,!(C.unreadCount>B)){Y.next=21;break}return this.core.logger.debug("QChatChannel::subscribe::tempUnreadCount more than maxCount"),Y.abrupt("return");case 21:this.core.logger.warn("unreadInfo event will abandon,please use unreadInfos"),this.core.emit("unreadInfo",ce(ce({},C),{mentionedCount:C.mentionedCount>B?B:C.mentionedCount,unreadCount:C.unreadCount>B?B:C.unreadCount})),this.core.emit("unreadInfos",[ce(ce({},C),{mentionedCount:C.mentionedCount>B?B:C.mentionedCount,unreadCount:C.unreadCount>B?B:C.unreadCount})]),this.core.qchatChannel.emit("unreadInfos",[ce(ce({},C),{mentionedCount:C.mentionedCount>B?B:C.mentionedCount,unreadCount:C.unreadCount>B?B:C.unreadCount})]),this._serverUnreadInfo(c);case 26:case"end":return Y.stop()}},l,this)}))},y.updateUnreads=function(o){var a,l,c=this;if(o&&o.length>0){var u=[],h=[],C=Qe(a=Tn(o).call(o,function(k){var B=k.serverId+"_"+k.channelId,W=c.unreadCount[B],Y=Ht(W,"ackTimestamp"),ne=Ht(k,"ackTimestamp");return!(Y&&ne&&ne<Y)&&(Ht(W,"unreadCount")!==Ht(k,"unreadCount")||Ht(W,"mentionedCount")!==Ht(k,"mentionedCount"))})).call(a,function(k){u.push(c.getServerUnreadInfo(k.serverId)),h.push(c.unreadServerCount[k.serverId]);var B=k.serverId,W=k.channelId,Y=B+"_"+W;return c.core.logger.debug("qchat channel updateUnread: ",k),c.unreadCount[Y]=ce({},k),c.unreadServerCount[B]||(c.unreadServerCount[B]={}),c.unreadServerCount[B][W]=!0,k});if(C.length!==0){this.core.emit("unreadInfos",C),this.core.qchatChannel.emit("unreadInfos",C);var x={};rt(C).call(C,function(k,B){c.core.emit("unreadInfo",k);var W=u[B],Y=h[B],ne=c.getServerUnreadInfo(k.serverId),se=c.unreadServerCount[k.serverId],xe=W.unreadCount!==ne.unreadCount,we=!Y||Gn(Y).length===0,$e=se&&Gn(se).length>0,Me=W.mentionedCount!==ne.mentionedCount;(xe||Me||we&&$e)&&(x[k.serverId]=!0)}),rt(l=Gn(x)).call(l,function(k){c.core.emit("serverUnreadInfo",c.getServerUnreadInfo(k)),Ht(c.core,"qchatServer.emit")&&c.core.qchatServer.emit("serverUnreadInfo",c.getServerUnreadInfo(k))})}}},y.clearUnreadCountByServers=function(o,a){var l=this,c=[];rt(o).call(o,function(h){var C;l.unreadServerCount[h]&&rt(C=Gn(l.unreadServerCount[h])).call(C,function(x){c.push(h+"_"+x)})});var u=[];rt(c).call(c,function(h){u.push(ce(ce({},l.unreadCount[h]),{unreadCount:0,mentionedCount:0,ackTimestamp:a}))}),this.updateUnreads(u)},p}(),Iae=function(){function p(f){this.limitForBatchEnter=10,this.limitForBatchSubscribe=100,this.autoServers=new bc,this.autoVisitorSubscribeServer=new bc,this.autoVisitorSubscribeChannel=new bc,this.core=f}var y=p.prototype;return y.subscribeChannelAsVisitor=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C=this;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.core.sendCmd("qchatSubscribeAsVisitor",{tag:{type:o.type||6,opeType:o.opeType},datas:o.channels});case 2:return c=k.sent,u=c.content.failedArr,h=Tn(l=o.channels).call(l,function(B){return!Mi(u).call(u,function(W){return W.channelId===B.channelId&&W.serverId===B.serverId})}),rt(h).call(h,function(B){o.opeType===1?C.autoVisitorSubscribeChannel.add(B.serverId+"&"+B.channelId):C.autoVisitorSubscribeChannel.delete(B.serverId+"&"+B.channelId)}),k.abrupt("return",{failedChannels:u});case 7:case"end":return k.stop()}},a,this)}))},y.subscribeServerAsVisitor=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x,k=this;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.core.sendCmd("qchatSubscribeAsVisitor",{tag:{type:o.type||7,opeType:o.opeType},datas:Qe(l=o.serverIds).call(l,function(Y){return{serverId:Y}})});case 2:return h=W.sent,C=h.content.failedArr,x=Tn(c=o.serverIds).call(c,function(Y){return!Mi(C).call(C,function(ne){return ne.serverId===Y})}),rt(x).call(x,function(Y){o.opeType===1?k.autoVisitorSubscribeServer.add(Y):k.autoVisitorSubscribeServer.delete(Y)}),W.abrupt("return",{failedServers:Qe(u=h.content.failedArr).call(u,function(Y){return Y.serverId})});case 7:case"end":return W.stop()}},a,this)}))},y.deleteServer=function(o){var a;this.autoServers.delete(o),this.autoVisitorSubscribeServer.has(o)&&this.subscribeServerAsVisitor({opeType:2,serverIds:[o]});var l=[];rt(a=this.autoVisitorSubscribeChannel).call(a,function(c){if(dr(c).call(c,o)===0){var u=c.replace(o+"&","");l.push({serverId:o,channelId:u})}}),l.length>0&&this.subscribeChannelAsVisitor({opeType:2,channels:l})},y.deleteAutoSetInServerId=function(o){var a,l=this;this.autoServers.delete(o),this.autoVisitorSubscribeServer.delete(o),rt(a=this.autoVisitorSubscribeChannel).call(a,function(c){dr(c).call(c,o)===0&&l.autoVisitorSubscribeChannel.delete(c)})},y.deleteAutoSetInChannel=function(o,a){this.autoVisitorSubscribeChannel.delete(o+"&"+a)},y.unSubscribeChannel=function(o,a){this.subscribeChannelAsVisitor({opeType:2,channels:[{serverId:o,channelId:a}]})},y.isInSubscribeChannels=function(o,a){return this.autoVisitorSubscribeChannel.has(o+"&"+a)},y.isInAutoServers=function(o){return this.autoServers.has(o)},y.doAutoSubscribe=function(){var o=this,a=[],l=fu(ma(this.autoVisitorSubscribeServer),this.limitForBatchSubscribe);rt(l).call(l,function(u){a.push(o.subscribeServerAsVisitor({opeType:1,serverIds:u}))});var c=fu(ma(this.autoVisitorSubscribeChannel),this.limitForBatchSubscribe);return rt(c).call(c,function(u){a.push(o.subscribeChannelAsVisitor({opeType:1,channels:Qe(u).call(u,function(h){var C=dr(h).call(h,"&");return{serverId:zn(h).call(h,0,C),channelId:zn(h).call(h,C+1)}})}))}),Zt.all(a)},y.doAutoEnterServer=function(){return le(this,void 0,void 0,q.mark(function o(){var a,l,c,u=this;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return a=fu(ma(this.autoServers),this.limitForBatchEnter),l=[],rt(a).call(a,function(x){l.push(u.core.qchatServer.enterAsVisitor({serverIds:x}))}),C.next=5,Zt.all(l);case 5:c=C.sent,rt(c).call(c,function(x){var k;rt(k=x.failedServers).call(k,function(B){u.deleteAutoSetInServerId(B)})});case 7:case"end":return C.stop()}},o,this)}))},y.resumeSubscribe=function(o){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!o){c.next=7;break}return c.next=3,this.doAutoEnterServer();case 3:return c.next=5,this.doAutoSubscribe();case 5:c.next=10;break;case 7:this.autoServers.clear(),this.autoVisitorSubscribeChannel.clear(),this.autoVisitorSubscribeServer.clear();case 10:case"end":return c.stop()}},a,this)}))},y.cacheServer=function(o){var a=this;rt(o).call(o,function(l){return a.autoServers.add(l)})},p}();function Eae(p,y){var f,o=Ma!==void 0&&Eo(p)||p["@@iterator"];if(o)return cn(f=(o=o.call(p)).next).call(f,o);if(Nr(p)||(o=function(c,u){if(c){var h;if(typeof c=="string")return NU(c,u);var C=zn(h={}.toString.call(c)).call(h,8,-1);return C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set"?ma(c):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?NU(c,u):void 0}}(p))||y){o&&(p=o);var a=0;return function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NU(p,y){(y==null||y>p.length)&&(y=p.length);for(var f=0,o=Array(y);f<y;f++)o[f]=p[f];return o}var Cae=function(p){function y(o,a){var l;return(l=p.call(this,"qchatChannel",o)||this).config={autoSubscribe:!1},l.core=o,Wr({cmdMap:eae,cmdConfig:tae()}),a&&l.setOptions(a),l.subscribeModuleService=new Sae(o),l.subscribeForVisitorService=new Iae(o),l.setListener(),l}pr(y,p);var f=y.prototype;return f.setOptions=function(a){a&&(this.config=ce(this.config,a))},f.setListener=function(){var a,l,c,u,h,C=this;this.core.eventBus.on("logined",function(x){C.subscribeModuleService.resumeSubscribe(x.isAutoReconnect),C.subscribeForVisitorService.resumeSubscribe(x.isAutoReconnect),C.config.autoSubscribe&&(C.subscribeModuleService.autoSubscribeServerMap={},C.subscribeModuleService.autoSubscribeUnreadMap={},C.subscribeModuleService.autoSubscribe())}),this.core.eventBus.on("V2NIMLoginService/loginLifeCycleLoginSucc",function(x){C.subscribeModuleService.resumeSubscribe(x.isReconnect),C.subscribeForVisitorService.resumeSubscribe(x.isReconnect),C.config.autoSubscribe&&(C.subscribeModuleService.autoSubscribeServerMap={},C.subscribeModuleService.autoSubscribeUnreadMap={},C.subscribeModuleService.autoSubscribe())}),this.core.eventBus.on("qchatChannel/changeUnread",cn(a=this.subscribeModuleService.changeUnread).call(a,this.subscribeModuleService)),this.core.eventBus.on("qchatChannel/updateUnreads",cn(l=this.subscribeModuleService.updateUnreads).call(l,this.subscribeModuleService)),this.core.eventBus.on("qchatChannel/cacheSubscribe",cn(c=this.subscribeModuleService.cacheSubscribe).call(c,this.subscribeModuleService)),this.core.eventBus.on("qchatChannel/clearUnreadCountByServers",cn(u=this.subscribeModuleService.clearUnreadCountByServers).call(u,this.subscribeModuleService)),this.core.eventBus.on("qchatChannel/getRoleIdsByServerId",cn(h=this.subscribeModuleService.getRoleIdsByServerId).call(h,this.subscribeModuleService)),this.core.eventBus.on("qchatChannel/autoUnSubscribe",function(x){if(C.logger.log("QChatChannel::enter autoUnSubscribe sysMsg is",x),x.type===$a[$a.channelVisibilityUpdate])C.logger.log("QChatChannel::begin autoUnSubscribe channel key is",x.serverId+"_"+x.channelId),C.subscribeModuleService._unSubscribeChannel(x.serverId,x.channelId),C.logger.log("QChatChannel::autoUnSubscribe channel done key is",x.serverId+"_"+x.channelId);else if(x.type===$a[$a.serverEnterLeave]){var k;(C.subscribeModuleService.manualSubscribeServerMap[x.serverId]||C.subscribeModuleService.autoSubscribeServerMap[x.serverId])&&(C.logger.log("QChatChannel::begin autoUnSubscribe server key is",x.serverId),C.subscribeModuleService._unSubscribeServer(x.serverId),C.logger.log("QChatChannel::autoUnSubscribe server done key is",x.serverId));var B=C.subscribeModuleService.unreadServerCount[x.serverId];if(!B)return;C.logger.log("QChatChannel::begin autoUnSubscribe channels key is",Gn(B)),rt(k=Gn(B)).call(k,function(W){C.subscribeModuleService._unSubscribeChannel(x.serverId,W)}),C.logger.log("QChatChannel::autoUnSubscribe channels done key is",Gn(B))}}),this.core.eventBus.on("qchatChannel/serverIdentifyChange",function(x){C.subscribeModuleService.changeCacheServerRoleIds(x)})},f.createChannel=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",min:1},type:{type:"enum",values:Kr(Wf)},name:{type:"string",required:!1},topic:{type:"string",required:!1},ext:{type:"string",required:!1},visitorMode:{type:"number",required:!1}},a),h.next=3,this.core.sendCmd("qchatCreateChannel",{channelInfo:ce(ce({},a),{type:Wf[a.type]}),antispamTag:Zp(a)});case 3:return c=h.sent,h.abrupt("return",QS(c.content.channelInfo));case 5:case"end":return h.stop()}},l,this)}))},f.deleteChannel=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({channelId:{type:"string",allowEmpty:!1}},a),u.next=3,this.core.sendCmd("qchatDeleteChannel",a);case 3:case"end":return u.stop()}},l,this)}))},f.updateChannel=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({channelId:{type:"string",min:1},serverId:{type:"string",required:!1},type:{type:"enum",values:Kr(Wf),required:!1},name:{type:"string",required:!1},topic:{type:"string",required:!1},ext:{type:"string",required:!1},visitorMode:{type:"number",required:!1}},a),c=a,a.type&&(c.type=Wf[a.type]),C.next=5,this.core.sendCmd("qchatUpdateChannel",{channelInfo:c,antispamTag:Zp(a)});case 5:return u=C.sent,C.abrupt("return",QS(u.content.channelInfo));case 7:case"end":return C.stop()}},l,this)}))},f.getChannels=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({channelIds:{type:"array",itemType:"string",min:1}},a),h.next=3,this.core.sendCmd("qchatGetChannels",a);case 3:return c=h.sent,h.abrupt("return",GC(c.content.channelList));case 5:case"end":return h.stop()}},l,this)}))},f.getChannelsByPage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({serverId:{type:"string",min:1},timetag:{type:"number"},limit:{type:"number",min:1,required:!1}},a),k.next=3,this.core.sendCmd("qchatGetChannelsByPage",{qchatGetChannelListPageTag:ce({limit:100},a)});case 3:return c=k.sent,u=c.content,h=u.datas,C=u.listQueryTag,k.abrupt("return",{listQueryTag:{hasMore:+C.hasMore==1,nextTimetag:un(C.nextTimetag)},datas:GC(h)});case 6:case"end":return k.stop()}},l,this)}))},f.getMembersByPage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({serverId:{type:"string",min:1},channelId:{type:"string",min:1},timetag:{type:"number"},limit:{type:"number",min:1,required:!1}},a),k.next=3,this.core.sendCmd("qchatGetMembersByPage",{qchatGetMembersByPageTag:a});case 3:return c=k.sent,u=c.content,h=u.datas,C=u.listQueryTag,k.abrupt("return",{listQueryTag:{hasMore:+C.hasMore==1,nextTimetag:un(C.nextTimetag)},datas:Qp(h)});case 6:case"end":return k.stop()}},l,this)}))},f.updateWhiteBlackRole=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",min:1},channelId:{type:"string",min:1},roleId:{type:"string",min:1},type:{type:"enum",values:Kr(ei)},opeType:{type:"enum",values:Kr(Dl)}},a),u.next=3,this.core.sendCmd("qchatUpdateWhiteBlackRole",{qchatUpdateWhiteBlackRoleTag:ce(ce({},a),{type:ei[a.type],opeType:Dl[a.opeType]})});case 3:case"end":return u.stop()}},l,this)}))},f.getWhiteBlackRolesPage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({serverId:{type:"string",min:1},channelId:{type:"string",min:1},type:{type:"enum",values:Kr(ei)},timetag:{type:"number"},limit:{type:"number",min:1,required:!1}},a),k.next=3,this.core.sendCmd("qchatGetWhiteBlackRolesPage",{qchatGetWhiteBlackRolesPageTag:ce(ce({},a),{type:ei[a.type]})});case 3:return c=k.sent,u=c.content,h=u.datas,C=u.listQueryTag,k.abrupt("return",{listQueryTag:{hasMore:+C.hasMore==1,nextTimetag:un(C.nextTimetag)},datas:Vl(h)});case 6:case"end":return k.stop()}},l,this)}))},f.updateWhiteBlackMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",min:1},channelId:{type:"string",min:1},type:{type:"enum",values:Kr(ei)},opeType:{type:"enum",values:Kr(Dl)},toAccids:{type:"array",itemType:"string",min:1}},a),u.next=3,this.core.sendCmd("qchatUpdateWhiteBlackMembers",{qchatUpdateWhiteBlackMembersTag:ce(ce({},a),{type:ei[a.type],opeType:Dl[a.opeType],toAccids:$t(a.toAccids)})});case 3:case"end":return u.stop()}},l,this)}))},f.getWhiteBlackMembersPage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({serverId:{type:"string",min:1},channelId:{type:"string",min:1},type:{type:"enum",values:Kr(ei)},timetag:{type:"number"},limit:{type:"number",min:1,required:!1}},a),k.next=3,this.core.sendCmd("qchatGetWhiteBlackMembersPage",{qchatGetWhiteBlackMembersPageTag:ce(ce({limit:100},a),{type:ei[a.type]})});case 3:return c=k.sent,u=c.content,h=u.datas,C=u.listQueryTag,k.abrupt("return",{listQueryTag:{hasMore:+C.hasMore==1,nextTimetag:un(C.nextTimetag)},datas:Qp(h)});case 6:case"end":return k.stop()}},l,this)}))},f.getExistingWhiteBlackRoles=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({serverId:{type:"string",min:1},channelId:{type:"string",min:1},type:{type:"enum",values:Kr(ei)},roleIds:{type:"array",itemType:"string",min:1}},a),C.next=3,this.core.sendCmd("qchatGetExistingWhiteBlackRoles",{qchatGetExistingWhiteBlackRolesTag:ce(ce({},a),{type:ei[a.type],roleIds:$t(a.roleIds)})});case 3:return c=C.sent,u=c.content.datas,C.abrupt("return",{datas:Vl(u)});case 6:case"end":return C.stop()}},l,this)}))},f.getExistingWhiteBlackMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({serverId:{type:"string",min:1},channelId:{type:"string",min:1},type:{type:"enum",values:Kr(ei)},accids:{type:"array",itemType:"string",min:1}},a),C.next=3,this.core.sendCmd("qchatGetExistingWhiteBlackMembers",{qchatGetExistingWhiteBlackMembersTag:ce(ce({},a),{type:ei[a.type],accids:$t(a.accids)})});case 3:return c=C.sent,u=c.content.datas,C.abrupt("return",{datas:Qp(u)});case 6:case"end":return C.stop()}},l,this)}))},f.updateCategoryInfoOfChannel=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({channelId:{type:"string",min:1},categoryId:{type:"string",allowEmpty:!1,required:!1},syncMode:{type:"number",min:0,max:1,required:!1}},a),h.next=3,this.core.sendCmd("qchatUpdateCategoryInfoOfChannel",{qchatUpdateCategoryInfoOfChannelTag:a});case 3:return c=h.sent,h.abrupt("return",QS(c.content.channelInfo));case 5:case"end":return h.stop()}},l,this)}))},f.createChannelCategory=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},name:{type:"string",allowEmpty:!1,required:!1},ext:{type:"string",required:!1},viewMode:{type:"number",min:0,max:1,required:!1}},a),h.next=3,this.core.sendCmd("qchatCreateChannelCategory",{qchatCreateChannelCategoryTag:a});case 3:return c=h.sent,h.abrupt("return",eI(c.content.QChatChannelCategoryInfo));case 5:case"end":return h.stop()}},l,this)}))},f.removeChannelCategory=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({categoryId:{type:"string",allowEmpty:!1}},a),u.next=3,this.core.sendCmd("qchatRemoveChannelCategory",a);case 3:case"end":return u.stop()}},l,this)}))},f.updateChannelCategory=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({categoryId:{type:"string",allowEmpty:!1},name:{type:"string",allowEmpty:!1,required:!1},ext:{type:"string",required:!1},viewMode:{type:"number",min:0,max:1,required:!1}},a),h.next=3,this.core.sendCmd("qchatUpdateChannelCategory",{qchatUpdateChannelCategoryTag:a});case 3:return c=h.sent,h.abrupt("return",eI(c.content.QChatChannelCategoryInfo));case 5:case"end":return h.stop()}},l,this)}))},f.getChannelCategoriesByID=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({categoryIds:{type:"array",itemType:"string",min:1}},a),h.next=3,this.core.sendCmd("qchatGetChannelCategoriesByID",a);case 3:return c=h.sent,h.abrupt("return",EU(c.content.channelCategoryList));case 5:case"end":return h.stop()}},l,this)}))},f.updateChannelCategoryWhiteBlackRole=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({categoryId:{type:"string",allowEmpty:!1},serverId:{type:"string",allowEmpty:!1},type:{type:"enum",values:Kr(ei)},opeType:{type:"enum",values:Kr(Dl)},roleId:{type:"string",allowEmpty:!1}},a),u.next=3,this.core.sendCmd("qchatUpdateChannelCategoryWhiteBlackRole",{qchatUpdateChannelCategoryWhiteBlackRoleTag:ce(ce({},a),{type:ei[a.type],opeType:Dl[a.opeType]})});case 3:case"end":return u.stop()}},l,this)}))},f.getChannelCategoryWhiteBlackRolesPage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({categoryId:{type:"string",allowEmpty:!1},serverId:{type:"string",allowEmpty:!1},type:{type:"enum",values:Kr(ei)},timetag:{type:"number",min:0},limit:{type:"number",min:1,required:!1}},a),k.next=3,this.core.sendCmd("qchatGetChannelCategoryWhiteBlackRolesPage",{qchatGetChannelCategoryWhiteBlackRolesPageTag:ce(ce({},a),{type:ei[a.type]})});case 3:return c=k.sent,u=c.content,h=u.datas,C=u.listQueryTag,k.abrupt("return",{listQueryTag:{hasMore:+C.hasMore==1,nextTimetag:un(C.nextTimetag)},datas:Vl(h)});case 6:case"end":return k.stop()}},l,this)}))},f.updateChannelCategoryWhiteBlackMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({categoryId:{type:"string",allowEmpty:!1},serverId:{type:"string",allowEmpty:!1},type:{type:"enum",values:Kr(ei)},opeType:{type:"enum",values:Kr(Dl)},toAccids:{type:"array",itemType:"string",min:1}},a),u.next=3,this.core.sendCmd("qchatUpdateChannelCategoryWhiteBlackMembers",{qchatUpdateChannelCategoryWhiteBlackMembersTag:ce(ce({},a),{type:ei[a.type],opeType:Dl[a.opeType],toAccids:$t(a.toAccids)})});case 3:case"end":return u.stop()}},l,this)}))},f.getChannelCategoryWhiteBlackMembersPage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({categoryId:{type:"string",allowEmpty:!1},serverId:{type:"string",allowEmpty:!1},type:{type:"enum",values:Kr(ei)},timetag:{type:"number",min:0},limit:{type:"number",min:1,required:!1}},a),k.next=3,this.core.sendCmd("qchatGetChannelCategoryWhiteBlackMembersPage",{qchatGetChannelCategoryWhiteBlackMembersPageTag:ce(ce({},a),{type:ei[a.type]})});case 3:return c=k.sent,u=c.content,h=u.datas,C=u.listQueryTag,k.abrupt("return",{listQueryTag:{hasMore:+C.hasMore==1,nextTimetag:un(C.nextTimetag)},datas:Qp(h)});case 6:case"end":return k.stop()}},l,this)}))},f.getChannelCategoryWhiteBlackRoles=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({categoryId:{type:"string",allowEmpty:!1},serverId:{type:"string",allowEmpty:!1},type:{type:"enum",values:Kr(ei)},roleIds:{type:"array",itemType:"string",min:1}},a),C.next=3,this.core.sendCmd("qchatGetChannelCategoryWhiteBlackRoles",{qchatGetChannelCategoryWhiteBlackRolesTag:ce(ce({},a),{type:ei[a.type],roleIds:$t(a.roleIds)})});case 3:return c=C.sent,u=c.content.datas,C.abrupt("return",Vl(u));case 6:case"end":return C.stop()}},l,this)}))},f.getChannelCategoryWhiteBlackMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({categoryId:{type:"string",allowEmpty:!1},serverId:{type:"string",allowEmpty:!1},type:{type:"enum",values:Kr(ei)},accids:{type:"array",itemType:"string",min:1}},a),C.next=3,this.core.sendCmd("qchatGetChannelCategoryWhiteBlackMembers",{qchatGetChannelCategoryWhiteBlackMembersTag:ce(ce({},a),{type:ei[a.type],accids:$t(a.accids)})});case 3:return c=C.sent,u=c.content.datas,C.abrupt("return",Qp(u));case 6:case"end":return C.stop()}},l,this)}))},f.getChannelCategoriesPage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},timetag:{type:"number",min:0},limit:{type:"number",min:1,required:!1}},a),k.next=3,this.core.sendCmd("qchatGetChannelCategoriesPage",{qchatGetChannelCategoriesPageTag:a});case 3:return c=k.sent,u=c.content,h=u.datas,C=u.listQueryTag,k.abrupt("return",{listQueryTag:{hasMore:+C.hasMore==1,nextTimetag:un(C.nextTimetag)},datas:EU(h)});case 6:case"end":return k.stop()}},l,this)}))},f.getChannelCategoryChannelsPage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},categoryId:{type:"string",allowEmpty:!1},timetag:{type:"number",min:0},limit:{type:"number",min:1,required:!1}},a),k.next=3,this.core.sendCmd("qchatGetChannelCategoryChannelsPage",{qchatGetChannelCategoryChannelsPageTag:a});case 3:return c=k.sent,u=c.content,h=u.datas,C=u.listQueryTag,k.abrupt("return",{listQueryTag:{hasMore:+C.hasMore==1,nextTimetag:un(C.nextTimetag)},datas:GC(h)});case 6:case"end":return k.stop()}},l,this)}))},f.subscribeChannel=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(ge({type:{type:"number",min:1,max:5},opeType:{type:"number",min:1,max:2}},a),!this.config.autoSubscribe||a.isInternalTrigger||a.type===5){C.next=3;break}throw new Or("subscribe server failed, manual subscribe is not allowed in auto subscribe mode",{},403);case 3:return C.next=5,this.subscribeModuleService.subscribe(a);case 5:if((c=C.sent).unreadInfos=ZS(c.unreadInfos),a.type!==5){C.next=10;break}return this.subscribeModuleService.cacheSubscribe(a),C.abrupt("return");case 10:return a.opeType===1&&(a.channels=Qe(u=c.unreadInfos).call(u,function(x){return{serverId:x.serverId,channelId:x.channelId}})),this.logger.debug("QChatChannel::subscribeChannel:: cacheSubscribe ",a),this.config.autoSubscribe?this.subscribeModuleService.cacheAutoSubscribe(a):this.subscribeModuleService.cacheSubscribe(a),this.subscribeModuleService.updateUnreads(c.unreadInfos),C.abrupt("return",c);case 15:case"end":return C.stop()}},l,this)}))},f.getChannelUnreadInfos=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.core.sendCmd("qchatGetUnreadInfo",a);case 2:return c=C.sent,u=ZS(c.content.unreadInfos),this.subscribeModuleService.updateUnreads(u),C.abrupt("return",u);case 6:case"end":return C.stop()}},l,this)}))},f.getChannelSearchByPage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(ge({keyword:{type:"string",allowEmpty:!1},startTime:{type:"number",min:0,required:!1},endTime:{type:"number",min:1,required:!1},order:{type:"enum",values:Kr(Xp),required:!1},limit:{type:"number",min:1,required:!1},serverId:{type:"string",required:!1},sort:{type:"enum",values:Kr(qC),required:!1},cursor:{type:"string",allowEmpty:!1,required:!1}},a),!(a.startTime&&a.endTime&&a.startTime>=a.endTime)){k.next=3;break}throw new fc("startTime more than endTime",a,"timeRule");case 3:return k.next=5,this.core.sendCmd("qchatGetChannelSearchByPage",{qchatGetChannelSearchByPageTag:ce(ce({},a),{order:a.order&&Xp[a.order],sort:mn(a)&&qC[mn(a)]})});case 5:return c=k.sent,u=c.content,h=u.datas,C=u.listQueryTag,k.abrupt("return",{listQueryTag:{hasMore:+C.hasMore==1,nextTimetag:un(C.nextTimetag),cursor:C.cursor},datas:GC(h)});case 8:case"end":return k.stop()}},l,this)}))},f.channelMemberSearch=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},keyword:{type:"string",allowEmpty:!1},limit:{type:"number",min:1,required:!1}},a),h.next=3,this.core.sendCmd("qchatChannelMemberSearch",{qchatChannelMemberSearchTag:a});case 3:return c=h.sent,h.abrupt("return",lae(c.content.datas));case 5:case"end":return h.stop()}},l,this)}))},f.subscribeAsVisitor=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({opeType:{type:"number",min:1,max:2},type:{type:"number",required:!1},channels:{type:"array",rules:{serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1}},min:1}},a),u.next=3,this.subscribeForVisitorService.subscribeChannelAsVisitor(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.qchatAutoSubscribeNotificationHandler=function(a){var l=ZS(a.content.unreadInfos),c=a.content.serverIds;this.subscribeModuleService.updateUnreads(l);var u=[];if(c.length){var h={opeType:1};h.channels=Qe(c).call(c,function(W){return{serverId:W.serverId,channelId:""}}),h.type=4,u.push(h)}if(l.length){var C={opeType:1};C.channels=Qe(l).call(l,function(W){return{serverId:W.serverId,channelId:W.channelId}}),C.type=1,u.push(C)}if(u.length)for(var x,k=Eae(u);!(x=k()).done;){var B=x.value;this.subscribeModuleService.cacheAutoSubscribe(B)}},y}(JS),Tae={serverId:{type:"string"},uid:{type:"string"},accid:{type:"string"},nick:{type:"string"},avatar:{type:"string"},ext:{type:"string"},type:{type:"number"},joinTime:{type:"number"},inviter:{type:"string"},validFlag:{type:"boolean"},createTime:{type:"number"},updateTime:{type:"number"}},Mae={limit:{type:"number"}};function _ae(p){return Nr(p)&&p.length>0?Qe(p).call(p,function(y){return function(o){return oa(Tae,o)}(y)}):[]}function xae(p){try{p.audio&&(p.audio=JSON.parse(p.audio))}catch{throw new fc('result "audio" JSON parse error',{key:"audio"},"JSON parse error")}try{p.video&&(p.video=JSON.parse(p.video))}catch{throw new fc('result "video" JSON parse error',{key:"video"},"JSON parse error")}return oa(Mae,p)}var Yf,wae={"25_1":"qchatGetNeroomToken","25_2":"qchatUpdateRTCChannelConfig","25_3":"qchatGetRTCChannelConfig","25_4":"qchatGetRTCChannelMembers"},aI={QChatRTCChannelConfigTag:{serverId:1,channelId:2,limit:3,audio:4,video:5},QChatRTCChannelConfigResultTag:{limit:1,audio:2,video:3},QChatGetRTCParams:{serverId:1,channelId:2},qchatGetRTCChannelMembersTag:{serverId:1,channelId:2},memberInfo:{serverId:1,accid:3,nick:4,avatar:5,ext:6,type:7,joinTime:8,inviter:9,validFlag:10,createTime:11,updateTime:12},QChatGetNeroomTokenResultTag:{token:1,expire:2},QChatGetNeroomTokenParams:{neroomDeviceId:1}},Nae=function(){var y=function(){return po(aI)}();return{qchatGetNeroomToken:{sid:25,cid:1,service:"qchatMedia",params:[{type:"Property",name:"qchatGetNeroomTokenTag",reflectMapper:aI.QChatGetNeroomTokenParams}],response:[{type:"Property",name:"neroomToken",reflectMapper:y.QChatGetNeroomTokenResultTag}]},qchatUpdateRTCChannelConfig:{sid:25,cid:2,service:"qchatMedia",params:[{type:"Property",name:"RTCChannelConfig",reflectMapper:aI.QChatRTCChannelConfigTag}]},qchatGetRTCChannelConfig:{sid:25,cid:3,service:"qchatMedia",params:[{type:"Property",name:"qchatGetRTCChannelConfigTag",reflectMapper:aI.QChatGetRTCParams}],response:[{type:"Property",name:"RTCChannelConfig",reflectMapper:y.QChatRTCChannelConfigResultTag}]},qchatGetRTCChannelMembers:{sid:25,cid:4,service:"qchatMedia",params:[{type:"Property",name:"qchatGetRTCChannelMembersTag",reflectMapper:aI.QChatGetRTCParams}],response:[{type:"PropertyArray",name:"memberList",reflectMapper:y.memberInfo}]}}},Rae=function(p){function y(o,a){var l;return(l=p.call(this,"qchatMedia",o)||this).config={},l.tokenExpireTime=24e4,l.getTokenState=!1,l.core=o,Wr({cmdMap:wae,cmdConfig:Nae()}),a&&l.setOptions(a),l.setListener(),l.tokenExpireTime=24e4,l.channelId="",l.serverId="",l}pr(y,p);var f=y.prototype;return f.setOptions=function(a){a&&(this.config=ce(this.config,a),a!=null&&a.neroom&&this.setNeroom(a.neroom))},f.setNeroom=function(a){this.neroom=new a},f.setListener=function(){var a,l,c,u,h=this;this.core.eventBus.on("disconnect",cn(a=this._existRomm).call(a,this)),this.core.eventBus.on("kicked",cn(l=this._existRomm).call(l,this)),this.core.eventBus.on("V2NIMLoginService/loginLifeCycleLogout",cn(c=this._existRomm).call(c,this)),this.core.eventBus.on("V2NIMLoginService/loginLifeCycleKicked",cn(u=this._existRomm).call(u,this)),this.core.eventBus.on("qchatMedia/serverOrChannelLeave",function(C){return le(h,void 0,void 0,q.mark(function x(){return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!(C.type===$a[$a.channelVisibilityUpdate]&&C.channelId===this.channelId||C.type===$a[$a.serverEnterLeave]&&C.serverId===this.serverId)){B.next=4;break}if(!this.roomContext||!this.roomContext.roomUuid){B.next=4;break}return B.next=4,this.disconnectChannel();case 4:case"end":return B.stop()}},x,this)}))})},f._existRomm=function(){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.roomContext){c.next=3;break}return c.next=3,this.disconnectChannel();case 3:this.tokenTimer&&(this.core.timerManager.deleteTimer(this.tokenTimer),this.tokenTimer=void 0);case 4:case"end":return c.stop()}},a,this)}))},f._checkPermission=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.core.qchatRole.checkPermission(a);case 2:return c=h.sent,h.abrupt("return",c);case 4:case"end":return h.stop()}},l,this)}))},f._checkConnectState=function(){if(this.state!=="connect")throw new Or("QChatMedia::you should connect first")},f.kickMemberOut=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this._checkConnectState(),ge({accid:{type:"string",allowEmpty:!1}},a),h.prev=2,h.next=5,(l=this.roomContext)===null||l===void 0?void 0:l.kickMemberOut(a.accid);case 5:h.next=11;break;case 7:throw h.prev=7,h.t0=h.catch(2),this.logger.error("QChatMedia::kickMemberOut error params is "+$t(a),h.t0),new Or("QChatMedia::kickMemberOut error",h.t0);case 11:case"end":return h.stop()}},c,this,[[2,7]])}))},f.disconnectChannel=function(){var a;return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.logger.debug("QChatMedia::disconnect begin disconnect"),u.prev=1,u.next=4,(a=this.roomContext)===null||a===void 0?void 0:a.leaveRoom();case 4:u.next=9;break;case 6:u.prev=6,u.t0=u.catch(1),this.logger.error("QChatMedia::disconnect error",u.t0);case 9:if(!this.authService){u.next=12;break}return u.next=12,this.authService.logout();case 12:this._setStateInit(),this.core.emit("qchatMediaDisconnect"),this.core.qchatMedia.emit("qchatMediaDisconnect");case 15:case"end":return u.stop()}},l,this,[[1,6]])}))},f._setStateInit=function(){this.logger.debug("QChatMedia::disconnect end"),this.roomContext=void 0,this.rtcController=void 0,this.state="init",this.tokenTimer&&(this.core.timerManager.deleteTimer(this.tokenTimer),this.tokenTimer=void 0),this.channelId="",this.serverId=""},f.muteAudio=function(a){var l,c,u,h,C;return le(this,void 0,void 0,q.mark(function x(){var k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this._checkConnectState(),ge({accid:{type:"string",allowEmpty:!1}},a),((l=this.roomContext)===null||l===void 0?void 0:l.localMember.uuid)!==a.accid){W.next=14;break}return W.prev=3,W.next=6,(c=this.rtcController)===null||c===void 0?void 0:c.muteMyAudio();case 6:W.next=12;break;case 8:throw W.prev=8,W.t0=W.catch(3),this.logger.error("QChatMedia::muteAudio error",W.t0),new Or("QChatMedia::muteAudio error",W.t0);case 12:case 25:W.next=31;break;case 14:if(W.prev=14,!(k=(u=this.roomContext)===null||u===void 0?void 0:u.roomProperties.audioOff)||((h=k.value)===null||h===void 0?void 0:h.split("_")[0])!=="offNotAllowSelfOn"){W.next=23;break}return W.next=19,this._checkPermission({serverId:this.serverId,channelId:this.channelId,auth:"RTCChannelOpenCloseEveryoneMicrophone"});case 19:if(W.sent){W.next=23;break}return this.logger.error("QChatMedia::unMuteAudio not allow open auido"),W.abrupt("return");case 23:return W.next=25,(C=this.rtcController)===null||C===void 0?void 0:C.muteMemberAudio(a.accid);case 27:throw W.prev=27,W.t1=W.catch(14),this.logger.error("QChatMedia::muteAudio error params is "+$t(a),W.t1),new Or("QChatMedia::muteAudio error",W.t1);case 31:case"end":return W.stop()}},x,this,[[3,8],[14,27]])}))},f.unMuteAudio=function(a){var l,c,u,h,C;return le(this,void 0,void 0,q.mark(function x(){var k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this._checkConnectState(),ge({accid:{type:"string",allowEmpty:!1}},a),!(k=(l=this.roomContext)===null||l===void 0?void 0:l.roomProperties.audioOff)||((c=k.value)===null||c===void 0?void 0:c.split("_")[0])!=="offNotAllowSelfOn"){W.next=10;break}return W.next=6,this._checkPermission({serverId:this.serverId,channelId:this.channelId,auth:"RTCChannelOpenCloseEveryoneMicrophone"});case 6:if(W.sent){W.next=10;break}return this.logger.error("QChatMedia::unMuteAudio not allow open auido"),W.abrupt("return");case 10:if(((u=this.roomContext)===null||u===void 0?void 0:u.localMember.uuid)!==a.accid){W.next=22;break}return W.prev=11,W.next=14,(h=this.rtcController)===null||h===void 0?void 0:h.unmuteMyAudio();case 14:W.next=20;break;case 16:throw W.prev=16,W.t0=W.catch(11),this.logger.error("QChatMedia::unMuteAudio error",W.t0),new Or("QChatMedia::unMuteAudio error",W.t0);case 20:case 25:W.next=31;break;case 22:return W.prev=22,W.next=25,(C=this.rtcController)===null||C===void 0?void 0:C.unmuteMemberAudio(a.accid);case 27:throw W.prev=27,W.t1=W.catch(22),this.logger.error("QChatMedia::unMuteAudio error params is "+$t(a),W.t1),new Or("QChatMedia::unMuteAudio error",W.t1);case 31:case"end":return W.stop()}},x,this,[[11,16],[22,27]])}))},f.muteVideo=function(a){var l,c,u,h,C;return le(this,void 0,void 0,q.mark(function x(){var k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this._checkConnectState(),ge({accid:{type:"string",allowEmpty:!1}},a),((l=this.roomContext)===null||l===void 0?void 0:l.localMember.uuid)!==a.accid){W.next=14;break}return W.prev=3,W.next=6,(c=this.rtcController)===null||c===void 0?void 0:c.muteMyVideo();case 6:W.next=12;break;case 8:throw W.prev=8,W.t0=W.catch(3),this.logger.error("QChatMedia::muteVideo error",W.t0),new Or("QChatMedia::muteVideo error",W.t0);case 12:case 25:W.next=31;break;case 14:if(W.prev=14,!(k=(u=this.roomContext)===null||u===void 0?void 0:u.roomProperties.videoOff)||((h=k.value)===null||h===void 0?void 0:h.split("_")[0])!=="offNotAllowSelfOn"){W.next=23;break}return W.next=19,this._checkPermission({serverId:this.serverId,channelId:this.channelId,auth:"RTCChannelOpenCloseEveryoneCamera"});case 19:if(W.sent){W.next=23;break}return this.logger.error("QChatMedia::unMuteVideo not allow open video"),W.abrupt("return");case 23:return W.next=25,(C=this.rtcController)===null||C===void 0?void 0:C.muteMemberVideo(a.accid);case 27:throw W.prev=27,W.t1=W.catch(14),this.logger.error("QChatMedia::muteVideo error params is "+$t(a),W.t1),new Or("QChatMedia::muteVideo error",W.t1);case 31:case"end":return W.stop()}},x,this,[[3,8],[14,27]])}))},f.unMuteVideo=function(a){var l,c,u,h,C;return le(this,void 0,void 0,q.mark(function x(){var k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this._checkConnectState(),ge({accid:{type:"string",allowEmpty:!1}},a),!(k=(l=this.roomContext)===null||l===void 0?void 0:l.roomProperties.videoOff)||((c=k.value)===null||c===void 0?void 0:c.split("_")[0])!=="offNotAllowSelfOn"){W.next=10;break}return W.next=6,this._checkPermission({serverId:this.serverId,channelId:this.channelId,auth:"RTCChannelOpenCloseEveryoneCamera"});case 6:if(W.sent){W.next=10;break}return this.logger.error("QChatMedia::unMuteVideo not allow open video"),W.abrupt("return");case 10:if(((u=this.roomContext)===null||u===void 0?void 0:u.localMember.uuid)!==a.accid){W.next=22;break}return W.prev=11,W.next=14,(h=this.rtcController)===null||h===void 0?void 0:h.unmuteMyVideo();case 14:W.next=20;break;case 16:throw W.prev=16,W.t0=W.catch(11),this.logger.error("QChatMedia::unMuteVideo error",W.t0),new Or("QChatMedia::unMuteVideo error",W.t0);case 20:W.next=30;break;case 22:W.prev=22,(C=this.rtcController)===null||C===void 0||C.unmuteMemberVideo(a.accid),W.next=30;break;case 26:throw W.prev=26,W.t1=W.catch(22),this.logger.error("QChatMedia::unMuteVideo error",W.t1),new Or("QChatMedia::unMuteVideo error",W.t1);case 30:case"end":return W.stop()}},x,this,[[11,16],[22,26]])}))},f.startScreenShare=function(){var a;return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:this._checkConnectState(),u.prev=1,(a=this.rtcController)===null||a===void 0||a.startScreenShare(),u.next=9;break;case 5:throw u.prev=5,u.t0=u.catch(1),this.logger.error("QChatMedia::startScreenShare error",u.t0),new Or("QChatMedia::startScreenShare error",u.t0);case 9:case"end":return u.stop()}},l,this,[[1,5]])}))},f.stopScreenShare=function(){var a;return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:this._checkConnectState(),u.prev=1,(a=this.rtcController)===null||a===void 0||a.stopScreenShare(),u.next=9;break;case 5:throw u.prev=5,u.t0=u.catch(1),this.logger.error("QChatMedia::stopScreenShare error",u.t0),new Or("QChatMedia::stopScreenShare error",u.t0);case 9:case"end":return u.stop()}},l,this,[[1,5]])}))},f.stopMemberScreenShare=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:this._checkConnectState(),ge({accid:{type:"string",allowEmpty:!1}},a),h.prev=2,(l=this.rtcController)===null||l===void 0||l.stopMemberScreenShare(a.accid),h.next=10;break;case 6:throw h.prev=6,h.t0=h.catch(2),this.logger.error("QChatMedia::stopMemberScreenShare error",h.t0),new Or("QChatMedia::stopMemberScreenShare error",h.t0);case 10:case"end":return h.stop()}},c,this,[[2,6]])}))},f.subscribeRemoteVideoStream=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:this._checkConnectState(),ge({accid:{type:"string",allowEmpty:!1},streamType:{type:"number",allowEmpty:!1,min:0,max:1}},a),h.prev=2,(l=this.rtcController)===null||l===void 0||l.subscribeRemoteVideoStream(a.accid,a.streamType),h.next=10;break;case 6:throw h.prev=6,h.t0=h.catch(2),this.logger.error("QChatMedia::subscribeRemoteVideoStream error",h.t0),new Or("QChatMedia::subscribeRemoteVideoStream error",h.t0);case 10:case"end":return h.stop()}},c,this,[[2,6]])}))},f.unSubscribeRemoteVideoStream=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:this._checkConnectState(),ge({accid:{type:"string",allowEmpty:!1},streamType:{type:"number",allowEmpty:!1,min:0,max:1}},a),h.prev=2,(l=this.rtcController)===null||l===void 0||l.unsubscribeRemoteVideoStream(a.accid,a.streamType),h.next=10;break;case 6:throw h.prev=6,h.t0=h.catch(2),this.logger.error("QChatMedia::unSubscribeRemoteVideoStream error",h.t0),new Or("QChatMedia::unSubscribeRemoteVideoStream error",h.t0);case 10:case"end":return h.stop()}},c,this,[[2,6]])}))},f.setupVideoCanvas=function(a){var l;if(this._checkConnectState(),((l=this.roomContext)===null||l===void 0?void 0:l.localMember.uuid)===a.accid)try{return this.rtcController.setupLocalVideoCanvas(a.videoView)}catch(c){throw this.logger.error("QChatMedia::setupVideoCanvas error",c),new Or("QChatMedia::setupVideoCanvas error",c)}else try{return this.rtcController.setupRemoteVideoCanvas(a.videoView,a.accid)}catch(c){throw this.logger.error("QChatMedia::setupVideoCanvas error",c),new Or("QChatMedia::setupVideoCanvas error",c)}},f.setupRemoteVideoSubStreamCanvas=function(a){this._checkConnectState(),ge({accid:{type:"string",allowEmpty:!1}},a);try{return this.rtcController.setupRemoteVideoSubStreamCanvas(a.videoView,a.accid)}catch(l){throw this.logger.error("QChatMedia::setupRemoteVideoSubStreamCanvas error",l),new Or("QChatMedia::setupRemoteVideoSubStreamCanvas error",l)}},f.getScreenSharingUserUuid=function(){this._checkConnectState();try{return this.rtcController.getScreenSharingUserUuid()}catch(a){throw this.logger.error("QChatMedia::getScreenSharingUserUuid error",a),new Or("QChatMedia::getScreenSharingUserUuid error",a)}},f.initQChatMedia=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.neroom){u.next=3;break}return this.logger.warn("QChatMedia::init::you should import neroom SDK"),u.abrupt("return");case 3:if(this.state===void 0){u.next=6;break}return this.logger.error("QChatMedia::init::you already init QChatMedia"),u.abrupt("return");case 6:u.prev=6,this.neroom.initialize({appKey:this.core.options.appkey,serverConfig:a.serverConfig}),u.next=14;break;case 10:throw u.prev=10,u.t0=u.catch(6),this.logger.error("QChatMedia::initQChatMedia error",u.t0),new Or("QChatMedia::initQChatMedia error",u.t0);case 14:this.authService=this.neroom.authService,this.roomService=this.neroom.roomService,this.messageChannelService=this.neroom.messageChannelService,this.state="init";case 18:case"end":return u.stop()}},l,this,[[6,10]])}))},f.loginByIM=function(){var a;return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(this.state==="init"){C.next=3;break}return this.logger.error("QChatMedia::connect::you should init before login"),C.abrupt("return");case 3:return C.next=5,this._getToken();case 5:return c=C.sent,u=Ht(this.core,"options.token")||Ht(this.core,"V2NIMLoginService.token"),C.prev=7,C.next=10,(a=this.authService)===null||a===void 0?void 0:a.loginByIM(this.core.account,c,u);case 10:C.next=16;break;case 12:throw C.prev=12,C.t0=C.catch(7),this.logger.error("QChatMedia::loginByIM error",C.t0),new Or("QChatMedia::loginByIM error",C.t0);case 16:this.state="login";case 17:case"end":return C.stop()}},l,this,[[7,12]])}))},f._getToken=function(){var a;return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x=this;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return this.logger.log("QChatMedia::getToken begin getToken"),B.next=3,this.core.sendCmd("qchatGetNeroomToken",{qchatGetNeroomTokenTag:{neroomDeviceId:(a=this.neroom)===null||a===void 0?void 0:a.deviceId}});case 3:return c=B.sent,u=c.content.neroomToken,h=u.token,C=u.expire,this.logger.log("QChatMedia::getToken success token is "+h+",expire is "+C+" "),this.tokenTimer||(this.logger.debug("QChatMedia::getToken set token timer,expire is "+(1e3*C-this.tokenExpireTime)+" "),this.tokenTimer=this.core.timerManager.addTimer(function(){return le(x,void 0,void 0,q.mark(function W(){var Y;return q.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return this.tokenTimer&&this.core.timerManager.deleteTimer(this.tokenTimer),this.tokenTimer=void 0,se.next=4,this._getToken();case 4:Y=se.sent,this.authService&&this.authService.renewToken(Y);case 6:case"end":return se.stop()}},W,this)}))},1e3*C-this.tokenExpireTime)),B.abrupt("return",h);case 8:case"end":return B.stop()}},l,this)}))},f.connectChannel=function(a){var l,c;return le(this,void 0,void 0,q.mark(function u(){var h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(this.state!==void 0){x.next=3;break}return this.logger.error("QChatMedia::connect::you should init before login"),x.abrupt("return");case 3:if(this.state!=="init"){x.next=6;break}return x.next=6,this.loginByIM();case 6:return this.serverId=a.serverId,this.channelId=a.channelId,x.prev=8,x.next=11,(l=this.roomService)===null||l===void 0?void 0:l.joinRoom({roomUuid:a.channelId,role:"qchatAudience",userName:this.core.account,initialProperties:{}},{});case 11:x.next=17;break;case 13:throw x.prev=13,x.t0=x.catch(8),this.logger.error("QChatMedia::connectChannel error",x.t0),new Or("QChatMedia::connectChannel error",x.t0);case 17:if(!(h=(c=this.roomService)===null||c===void 0?void 0:c.getRoomContext(a.channelId))){x.next=28;break}return this.roomContext=h,this.rtcController=this.roomContext.rtcController,this.state="connect",x.next=24,this.rtcController.joinRtcChannel();case 24:this.core.emit("connectChannel"),this.core.qchatMedia.emit("connectChannel"),x.next=29;break;case 28:this.logger.error("QChatMedia::connect room not exited");case 29:case"end":return x.stop()}},u,this,[[8,13]])}))},f.updateRTCChannelInfo=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},limit:{type:"number",allowEmpty:!1}},a),u.next=3,this.core.sendCmd("qchatUpdateRTCChannelConfig",{RTCChannelConfig:ce(ce({},a),{audio:$t(a.audio),video:$t(a.video)})});case 3:case"end":return u.stop()}},l,this)}))},f.getRTCChannelInfo=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1}},a),h.next=3,this.core.sendCmd("qchatGetRTCChannelConfig",{qchatGetRTCChannelConfigTag:a});case 3:return c=h.sent,h.abrupt("return",xae(c.content.RTCChannelConfig));case 5:case"end":return h.stop()}},l,this)}))},f.getRTCChannelOnlineMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1}},a),h.next=3,this.core.sendCmd("qchatGetRTCChannelMembers",{qchatGetRTCChannelMembersTag:a});case 3:return c=h.sent,h.abrupt("return",_ae(c.content.memberList));case 5:case"end":return h.stop()}},l,this)}))},f.addRTCChannelListener=function(){var a,l,c=this;this._checkConnectState();try{(a=this.authService)===null||a===void 0||a.addAuthListener({onAuthEvent:function(h){return le(c,void 0,void 0,q.mark(function C(){var x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(h!==1026||this.getTokenState){B.next=10;break}return this.logger.log("QChatMedia::loginByIM token expire,begin get new token "),this.getTokenState=!0,B.next=5,this._getToken();case 5:if(x=B.sent,!this.authService){B.next=9;break}return B.next=9,this.authService.renewToken(x);case 9:this.getTokenState=!1;case 10:case"end":return B.stop()}},C,this)}))}})}catch(u){throw this.getTokenState=!1,this.logger.error("QChatMedia::loginByIM addAuthListener error",u),new Or("QChatMedia::loginByIM addAuthListener error",u)}(l=this.roomContext)===null||l===void 0||l.addRoomListener({onRoomPropertiesChanged:function(h){var C,x,k,B,W,Y;if(c.logger.log("QChatMedia::addRTCChannelListener::onRoomPropertiesChanged",h),h.audioOff){var ne=(C=h.audioOff.value)===null||C===void 0?void 0:C.split("_")[0];ne!=="offNotAllowSelfOn"&&ne!=="offAllowSelfOn"||!((x=c.roomContext)===null||x===void 0)&&x.localMember.isAudioOn&&((k=c.rtcController)===null||k===void 0||k.muteMyAudio())}else if(h.videoOff){var se=(B=h.videoOff.value)===null||B===void 0?void 0:B.split("_")[0];se!=="offNotAllowSelfOn"&&se!=="offAllowSelfOn"||!((W=c.roomContext)===null||W===void 0)&&W.localMember.isVideoOn&&((Y=c.rtcController)===null||Y===void 0||Y.muteMyVideo())}},onRoomPropertiesDeleted:function(h){c.logger.log("QChatMedia::addRTCChannelListener::onRoomPropertiesDeleted",h)},onMemberJoinRtcChannel:function(h){c.logger.log("QChatMedia::addRTCChannelListener::onMemberJoinRTCChannel",h);var C=Qe(h).call(h,function(x){return x.uuid});c.core.emit("memberJoinRTCChannel",C),c.core.qchatMedia.emit("memberJoinRTCChannel",C)},onMemberLeaveRoom:function(h){c.logger.log("QChatMedia::addRTCChannelListener::onMemberLeaveRoom",h);var C=Qe(h).call(h,function(x){return x.uuid});c.core.emit("memberLeaveRTCChannel",C),c.core.qchatMedia.emit("memberLeaveRTCChannel",C)},onRoomEnded:function(h){c.authService&&c.authService.logout(),c._setStateInit(),c.logger.log("QChatMedia::addRTCChannelListener::onRoomEnded",h),c.core.emit("RTCChannelEnded",h),c.core.qchatMedia.emit("RTCChannelEnded",h)},onRtcChannelError:function(h){c.logger.log("QChatMedia::addRTCChannelListener::onRtcChannelError",h),h==="SOCKET_ERROR"&&c.disconnectChannel(),c.core.emit("RTCChannelError",h),c.core.qchatMedia.emit("RTCChannelError",h)},onRtcAudioVolumeIndication:function(h){c.logger.log("QChatMedia::addRTCChannelListener::onRtcAudioVolumeIndication",h),c.core.emit("onRtcAudioVolumeIndication",h),c.core.qchatMedia.emit("onRtcAudioVolumeIndication",h)},onMemberAudioMuteChanged:function(h,C,x){c.logger.log("QChatMedia::addRTCChannelListener::onMemberAudioMuteChanged",h,C),c.core.emit("memberAudioMuteChanged",{memberAccId:h.uuid,mute:C,operateByAccId:x.uuid}),c.core.qchatMedia.emit("memberAudioMuteChanged",{memberAccId:h.uuid,mute:C,operateByAccId:x.uuid})},onMemberScreenShareStateChanged:function(h,C,x){c.logger.log("QChatMedia::addRTCChannelListener::onMemberScreenShareStateChanged",h,C),c.core.emit("memberScreenShareStateChanged",{memberAccId:h.uuid,isSharing:C,operateByAccId:x.uuid}),c.core.qchatMedia.emit("memberScreenShareStateChanged",{memberAccId:h.uuid,isSharing:C,operateByAccId:x.uuid})},onMemberVideoMuteChanged:function(h,C,x){c.logger.log("QChatMedia::addRTCChannelListener::onMemberVideoMuteChanged",h,C),c.core.emit("memberVideoMuteChanged",{memberAccId:h.uuid,mute:C,operateByAccId:x.uuid}),c.core.qchatMedia.emit("memberVideoMuteChanged",{memberAccId:h.uuid,mute:C,operateByAccId:x.uuid})}})},f.enumCameraDevices=function(){var a=this;return this._checkConnectState(),this.rtcController.enumCameraDevices().then(function(l){return l.data},function(l){throw a.logger.error("QChatMedia::enumCameraDevices error",l),new Or("QChatMedia::enumCameraDevices error",l)})},f.enumPlayoutDevices=function(){var a=this;return this._checkConnectState(),this.rtcController.enumPlayoutDevices().then(function(l){return l.data},function(l){throw a.logger.error("QChatMedia::enumPlayoutDevices error",l),new Or("QChatMedia::enumPlayoutDevices error",l)})},f.enumRecordDevices=function(){var a=this;return this._checkConnectState(),this.rtcController.enumRecordDevices().then(function(l){return l.data},function(l){throw a.logger.error("QChatMedia::enumRecordDevices error",l),new Or("QChatMedia::enumRecordDevices error",l)})},f.removeRTCChannelListener=function(){var a,l;this._checkConnectState(),(a=this.roomContext)===null||a===void 0||a.removeRoomListener({}),(l=this.authService)===null||l===void 0||l.removeAuthListener({})},f.setSelectedCameraDevice=function(a){var l=this;return this._checkConnectState(),ge({deviceId:{type:"string",allowEmpty:!1}},a),this.rtcController.setSelectedCameraDevice(a.deviceId).then(function(c){return c.data},function(c){throw l.logger.error("QChatMedia::setSelectedCameraDevice error",c),new Or("QChatMedia::setSelectedCameraDevice error",c)})},f.setSelectedPlayoutDevice=function(a){var l=this;return this._checkConnectState(),ge({deviceId:{type:"string",allowEmpty:!1}},a),this.rtcController.setSelectedPlayoutDevice(a.deviceId).then(function(c){return c.data},function(c){throw l.logger.error("QChatMedia::setSelectedPlayoutDevice error",c),new Or("QChatMedia::setSelectedPlayoutDevice error",c)})},f.setSelectedRecordDevice=function(a){var l=this;return this._checkConnectState(),ge({deviceId:{type:"string",allowEmpty:!1}},a),this.rtcController.setSelectedRecordDevice(a.deviceId).then(function(c){return c.data},function(c){throw l.logger.error("QChatMedia::setSelectedRecordDevice error",c),new Or("QChatMedia::setSelectedRecordDevice error",c)})},f.getRTCMembers=function(){var a,l;return this._checkConnectState(),Qe(a=Tn(l=this.roomContext.remoteMembers).call(l,function(c){return c.isInRtcChannel})).call(a,function(c){return{accid:c.uuid,isAudioOn:!!c.isAudioOn,isVideoOn:!!c.isVideoOn,isSharingScreen:!!c.isSharingScreen,properties:c.properties}})},f.subscribeRemoteVideoSubStream=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:this._checkConnectState(),ge({accid:{type:"string",allowEmpty:!1}},a),h.prev=2,(l=this.rtcController)===null||l===void 0||l.subscribeRemoteVideoSubStream(a.accid),h.next=10;break;case 6:throw h.prev=6,h.t0=h.catch(2),this.logger.error("QChatMedia::subscribeRemoteVideoSubStream error",h.t0),new Or("QChatMedia::subscribeRemoteVideoSubStream error",h.t0);case 10:case"end":return h.stop()}},c,this,[[2,6]])}))},f.unsubscribeRemoteVideoSubStream=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:this._checkConnectState(),ge({accid:{type:"string",allowEmpty:!1}},a),h.prev=2,(l=this.rtcController)===null||l===void 0||l.unsubscribeRemoteVideoSubStream(a.accid),h.next=10;break;case 6:throw h.prev=6,h.t0=h.catch(2),this.logger.error("QChatMedia::unsubscribeRemoteVideoSubStream error",h.t0),new Or("QChatMedia::unsubscribeRemoteVideoSubStream error",h.t0);case 10:case"end":return h.stop()}},c,this,[[2,6]])}))},f.muteAllAudio=function(){var a;return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this._checkConnectState(),u.next=3,this._checkPermission({serverId:this.serverId,channelId:this.channelId,auth:"RTCChannelOpenCloseEveryoneMicrophone"});case 3:if(u.sent){u.next=7;break}return this.logger.error("QChatMedia::connect::auth your have not RTCChannelOpenCloseEveryoneMicrophone auth"),u.abrupt("return");case 7:u.prev=7,(a=this.roomContext)===null||a===void 0||a.updateRoomProperty("audioOff",$t({value:"offNotAllowSelfOn_"+new Date().getTime()})),u.next=15;break;case 11:throw u.prev=11,u.t0=u.catch(7),this.logger.error("QChatMedia::muteAllAudio error",u.t0),new Or("QChatMedia::muteAllAudio error",u.t0);case 15:case"end":return u.stop()}},l,this,[[7,11]])}))},f.muteAllVideo=function(){var a;return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this._checkConnectState(),u.next=3,this._checkPermission({serverId:this.serverId,channelId:this.channelId,auth:"RTCChannelOpenCloseEveryoneCamera"});case 3:if(u.sent){u.next=7;break}return this.logger.error("QChatMedia::connect::auth your have not RTCChannelOpenCloseEveryoneCamera auth"),u.abrupt("return");case 7:u.prev=7,(a=this.roomContext)===null||a===void 0||a.updateRoomProperty("videoOff",$t({value:"offNotAllowSelfOn_"+new Date().getTime()})),u.next=15;break;case 11:throw u.prev=11,u.t0=u.catch(7),this.logger.error("QChatMedia::muteAllVideo error",u.t0),new Or("QChatMedia::muteAllVideo error",u.t0);case 15:case"end":return u.stop()}},l,this,[[7,11]])}))},f.unMuteAllAudio=function(){var a;return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this._checkConnectState(),u.next=3,this._checkPermission({serverId:this.serverId,channelId:this.channelId,auth:"RTCChannelOpenCloseEveryoneMicrophone"});case 3:if(u.sent){u.next=7;break}return this.logger.error("QChatMedia::connect::auth your have not RTCChannelOpenCloseEveryoneMicrophone auth"),u.abrupt("return");case 7:u.prev=7,(a=this.roomContext)===null||a===void 0||a.updateRoomProperty("audioOff",$t({value:"disable_"+new Date().getTime()})),u.next=15;break;case 11:throw u.prev=11,u.t0=u.catch(7),this.logger.error("QChatMedia::unMuteAllAudio error",u.t0),new Or("QChatMedia::unMuteAllAudio error",u.t0);case 15:case"end":return u.stop()}},l,this,[[7,11]])}))},f.unMuteAllVideo=function(){var a;return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this._checkConnectState(),u.next=3,this._checkPermission({serverId:this.serverId,channelId:this.channelId,auth:"RTCChannelOpenCloseEveryoneCamera"});case 3:if(u.sent){u.next=7;break}return this.logger.error("QChatMedia::connect::auth your have not RTCChannelOpenCloseEveryoneCamera auth"),u.abrupt("return");case 7:u.prev=7,(a=this.roomContext)===null||a===void 0||a.updateRoomProperty("videoOff",$t({value:"disable_"+new Date().getTime()})),u.next=15;break;case 11:throw u.prev=11,u.t0=u.catch(7),this.logger.error("QChatMedia::unMuteAllVideo error",u.t0),new Or("QChatMedia::unMuteAllVideo error",u.t0);case 15:case"end":return u.stop()}},l,this,[[7,11]])}))},y}(JS),Aae={"24_10":"qchatSendMsg","24_11":"qchatOnMsg","24_12":"qchatOnRecvUnreadInfo","24_13":"qchatSendCustomSysMsg","24_14":"qchatOnSysMsg","24_16":"qchatGetHistoryMsg","24_17":"qchatMarkMessageRead","24_18":"qchatMultiSyncMessageRead","24_22":"qchatUpdateSystemNotification","24_23":"qchatMultiSyncSystemNotificationUpdate","24_24":"qchatSyncSystemNotification","24_25":"qchatUpdateMessage","24_26":"qchatRecvMessageUpdate","24_28":"qchatMarkSysMsgRead","24_94":"qchatMessageSearchByPage","24_100":"qchatGetMessageHistoryByIds","24_101":"qchatGetThreadMessages","24_102":"qchatUpdateQuickComment","24_103":"qchatGetQuickComments","24_108":"qchatGetThreadRootMessagesMeta","24_121":"qchatGetLastMessageOfChannels","24_127":"qchatGetMentionedMeMessages","25_6":"qchatMultiSyncServersMessageRead"},os={getHistoryMsgTag:{serverId:1,channelId:2,beginTime:3,endTime:4,excludeMsgId:5,limit:6,reverse:7},getThreadHistoryMsgTag:{beginTime:1,endTime:2,excludeMsgId:3,limit:4,reverse:5},qchatMsgTag:{serverId:1,channelId:2,fromAccount:3,fromClientType:4,fromDeviceId:5,fromNick:6,time:7,updateTime:8,type:9,body:10,attach:11,ext:12,msgIdClient:13,msgIdServer:14,resendFlag:15,status:16,pushPayload:17,pushContent:18,mentionAccids:19,mentionAll:20,env:21,callbackExt:22,replyMsgFromAccount:23,replyMsgTime:24,replyMsgIdServer:25,replyMsgIdClient:26,threadMsgFromAccount:27,threadMsgTime:28,threadMsgIdServer:29,threadMsgIdClient:30,useCustomContent:31,antiSpamContent:32,antiSpamBusinessId:33,antiSpamUsingYidun:34,yidunCallback:35,yidunAntiCheating:36,yidunAntiSpamExt:37,yidunAntiSpamRes:38,mentionRoleIds:41,accidsOfMentionedRoles:42,updateContent:39,updateOperatorInfo:40,subType:61,historyEnable:100,pushEnable:101,needBadge:102,needPushNick:103,notifyReason:104,routeEnable:105,isAntispam:106},sysMsg:{toType:1,serverId:2,channelId:3,toAccids:4,fromAccount:5,fromClientType:6,fromDeviceId:7,fromNick:8,time:9,updateTime:10,type:11,msgIdClient:12,msgIdServer:13,body:14,attach:15,ext:16,resendFlag:17,status:18,pushPayload:19,pushContent:20,env:21,callbackExt:22,persistEnable:100,pushEnable:101,needBadge:102,needPushNick:103,routeEnable:104},qchatMsgUpdateTag:{operatorAccount:1,operatorClientType:2,ps:3,ext:4,pushContent:5,pushPayload:6,env:7,routeEnable:100},markMsgReadTag:{serverId:1,channelId:2,time:3},qchatQuickCommentRequestTag:{serverId:1,channelId:2,fromAccount:3,msgIdServer:4,time:5,type:6,opeType:7,opeAccid:8},qchatQuickCommentQueryTag:{serverId:1,channelId:2,msgIdServerList:3},qchatGetLastMessageOfChannelsTag:{serverId:1,channelIdList:2},qchatMultiSyncServersMessageReadTag:{successServerIds:1,failServerIds:2,ackTimestamp:3},qchatMessageSearchByPageTag:{keyword:1,serverId:2,channelId:3,fromAccid:4,fromTime:5,toTime:6,msgTypes:7,subTypes:8,includeSelf:9,order:10,limit:11,sort:12,cursor:13},qchatPageQueryTag:{hasMore:1,nextTimetag:2,cursor:3},unreadInfo:dw},Sw=function(){return po(os)},Oae=function(){var y=Sw();return{qchatSendMsg:{service:"qchatMsg",sid:24,cid:10,params:[{type:"Property",name:"qchatMsg",reflectMapper:os.qchatMsgTag}],response:[{type:"Property",name:"qchatMsg",reflectMapper:y.qchatMsgTag}]},qchatOnMsg:{service:"qchatMsg",sid:24,cid:11,response:[{type:"Property",name:"qchatMsg",reflectMapper:y.qchatMsgTag}]},qchatOnRecvUnreadInfo:{service:"qchatMsg",sid:24,cid:12,response:[{type:"Property",name:"qchatMsg",reflectMapper:y.qchatMsgTag}]},qchatSendCustomSysMsg:{service:"qchatMsg",sid:24,cid:13,params:[{type:"Property",name:"sysMsg",reflectMapper:os.sysMsg}],response:[{type:"Property",name:"sysMsg",reflectMapper:y.sysMsg}]},qchatOnSysMsg:{service:"qchatMsg",sid:24,cid:14,response:[{type:"Property",name:"sysMsg",reflectMapper:y.sysMsg}]},qchatGetHistoryMsg:{service:"qchatMsg",sid:24,cid:16,params:[{type:"Property",name:"getHistoryMsgTag",reflectMapper:os.getHistoryMsgTag}],response:[{type:"PropertyArray",name:"qchatMsgs",reflectMapper:y.qchatMsgTag}]},qchatUpdateMessage:{service:"qchatMsg",sid:24,cid:25,params:[{type:"Property",name:"qchatMsgUpdateTag",reflectMapper:os.qchatMsgUpdateTag},{type:"Property",name:"qchatMsg",reflectMapper:os.qchatMsgTag}],response:[{type:"Property",name:"qchatMsg",reflectMapper:y.qchatMsgTag}]},qchatRecvMessageUpdate:{service:"qchatMsg",sid:24,cid:26,response:[{type:"Property",name:"qchatMsgUpdateInfo",reflectMapper:y.qchatMsgUpdateTag},{type:"Property",name:"qchatMsg",reflectMapper:y.qchatMsgTag}]},qchatMarkMessageRead:{sid:24,cid:17,service:"qchatMsg",params:[{type:"Property",name:"markMsgReadTag",reflectMapper:os.markMsgReadTag}],response:[{type:"Property",name:"unreadInfo",reflectMapper:y.unreadInfo}]},qchatMultiSyncMessageRead:{sid:24,cid:18,service:"qchatMsg",response:[{type:"Property",name:"unreadInfo",reflectMapper:y.unreadInfo}]},qchatUpdateSystemNotification:{service:"qchatMsg",sid:24,cid:22,params:[{type:"Property",name:"qchatMsgUpdateTag",reflectMapper:os.qchatMsgUpdateTag},{type:"Property",name:"sysMsg",reflectMapper:os.sysMsg}],response:[{type:"Property",name:"sysMsg",reflectMapper:y.sysMsg}]},qchatMultiSyncSystemNotificationUpdate:{service:"qchatMsg",sid:24,cid:23,response:[{type:"Property",name:"qchatMsgUpdateTag",reflectMapper:y.qchatMsgUpdateTag},{type:"Property",name:"sysMsg",reflectMapper:y.sysMsg}]},qchatSyncSystemNotification:{service:"qchatMsg",sid:24,cid:24,response:[{type:"PropertyArray",name:"systemNotifications",reflectMapper:y.sysMsg}]},qchatMarkSysMsgRead:{service:"qchatMsg",sid:24,cid:28,params:[{type:"PropertyArray",name:"sysMsgs",reflectMapper:os.sysMsg}]},qchatMessageSearchByPage:{service:"qchatMsg",sid:24,cid:94,params:[{type:"Property",name:"qchatMessageSearchByPageTag",reflectMapper:os.qchatMessageSearchByPageTag}],response:[{type:"Property",name:"listQueryTag",reflectMapper:y.qchatPageQueryTag},{type:"PropertyArray",name:"datas",reflectMapper:y.qchatMsgTag}]},qchatGetMessageHistoryByIds:{service:"qchatMsg",sid:24,cid:100,params:[{type:"Property",name:"channelInfo",reflectMapper:{serverId:1,channelId:2}},{type:"PropertyArray",name:"messageReferList",reflectMapper:{msgIdServer:1,time:2}}],response:[{type:"PropertyArray",name:"qchatMsgs",reflectMapper:y.qchatMsgTag}]},qchatGetThreadMessages:{service:"qchatMsg",sid:24,cid:101,params:[{type:"Property",name:"qchatMsg",reflectMapper:os.qchatMsgTag},{type:"Property",name:"getThreadHistoryMsgTag",reflectMapper:os.getThreadHistoryMsgTag}],response:[{type:"Property",name:"thread",reflectMapper:y.qchatMsgTag},{type:"Property",name:"threadInfo",reflectMapper:{1:"messageCount",2:"lastMessageTimestamp"}},{type:"PropertyArray",name:"qchatMsgs",reflectMapper:y.qchatMsgTag}]},qchatUpdateQuickComment:{service:"qchatMsg",sid:24,cid:102,params:[{type:"Property",name:"tag",reflectMapper:os.qchatQuickCommentRequestTag}]},qchatGetQuickComments:{service:"qchatMsg",sid:24,cid:103,params:[{type:"Property",name:"tag",reflectMapper:os.qchatQuickCommentQueryTag}],response:[{type:"PropertyArray",name:"quickCommentResponse",reflectMapper:{1:"serverId",2:"channelId",3:"msgIdServer",4:"totalCount",5:"lastUpdateTime",6:"details"}}]},qchatGetThreadRootMessagesMeta:{service:"qchatMsg",sid:24,cid:108,params:[{type:"Property",name:"tag",reflectMapper:{serverId:1,channelId:2}},{type:"PropertyArray",name:"qchatMsgs",reflectMapper:{time:7,msgIdServer:14}}],response:[{type:"PropertyArray",name:"metas",reflectMapper:{1:"total",2:"timestamp",3:"msgIdServer",4:"msgTime"}}]},qchatGetLastMessageOfChannels:{service:"qchatMsg",sid:24,cid:121,params:[{type:"Property",name:"tag",reflectMapper:os.qchatGetLastMessageOfChannelsTag}],response:[{type:"PropertyArray",name:"msgs",reflectMapper:y.qchatMsgTag}]},qchatMultiSyncServersMessageRead:{service:"qchatMsg",sid:25,cid:6,response:[{type:"Property",name:"qchatMultiSyncServersMessageReadTag",reflectMapper:y.qchatMultiSyncServersMessageReadTag}]},qchatGetMentionedMeMessages:{service:"qchatMsg",sid:24,cid:127,params:[{type:"Property",name:"tag",reflectMapper:{serverId:1,channelId:2,timestamp:3,limit:4}}],response:[{type:"Property",name:"page",reflectMapper:y.qchatPageQueryTag},{type:"PropertyArray",name:"datas",reflectMapper:y.qchatMsgTag}]}}};(function(p){p[p.Android=1]="Android",p[p.iOS=2]="iOS",p[p.PC=4]="PC",p[p.WindowsPhone=8]="WindowsPhone",p[p.Web=16]="Web",p[p.Server=32]="Server",p[p.Mac=64]="Mac",p[p.HarmonyOS=65]="HarmonyOS"})(Yf||(Yf={}));var zs,kae={"24_31":"qchatCreateServer","24_32":"qchatDeleteServer","24_33":"qchatUpdateServer","24_34":"qchatGetServers","24_35":"qchatGetServersByPage","24_36":"qchatInviteServerMembers","24_37":"qchatAcceptServerInvite","24_38":"qchatRejectInviteServer","24_39":"qchatApplyServerJoin","24_40":"qchatAcceptServerApply","24_41":"qchatRejectServerApply","24_42":"qchatKickServerMembers","24_43":"qchatLeaveServer","24_44":"qchatUpdateMyMemberInfo","24_45":"qchatUpdateServerMemberInfo","24_46":"qchatGetServerMembers","24_47":"qchatGetServerMembersByPage","24_104":"qchatUpdateServerMemberBan","24_105":"qchatGetBannedMembersByPage","24_91":"qchatServerSearchByPage","24_92":"qchatServerMemberSearchByPage","24_122":"qchatGenerateInviteCode","24_123":"qchatJoinByInviteCode","24_124":"qchatGetInviteApplyRecordOfServer","24_125":"qchatGetInviteApplyRecordOfSelf","25_5":"qchatClearServersUnread","25_7":"qchatSubscribeChannelsByServers","25_10":"qchatEnterAsVisitor","25_11":"qchatLeaveAsVisitor"},go={serverInfo:{serverId:1,name:3,icon:4,ext:5,owner:6,memberNumber:7,inviteMode:8,applyMode:9,validFlag:10,createTime:11,updateTime:12,channelNumber:13,categoryNumber:14,searchType:15,searchEnable:16,reorderWeight:17},antispamTag:{antiSpamBusinessId:1},memberInfo:{serverId:1,accid:3,nick:4,avatar:5,ext:6,type:7,joinTime:8,inviter:9,validFlag:10,createTime:11,updateTime:12},otherMemberInfo:{serverId:1,accid:3,nick:4,avatar:5,type:7,joinTime:8,inviter:9,validFlag:10,createTime:11,updateTime:12},getServerListPageTag:{timestamp:1,limit:2},getServerMemberListPageTag:{serverId:1,timetag:2,limit:3},updateServerMemberBanTag:{serverId:1,opeType:2,accid:3,ext:4},getBannedMembersByPageTag:{serverId:1,timetag:2,limit:3},serverMemberBanInfo:{serverId:1,appid:2,accid:3,ext:4,banTime:5,validFlag:6,createTime:7,updateTime:8},serverSearchByPageTag:{keyword:1,startTime:2,endTime:3,order:4,limit:5,serverType:6,searchType:7,sort:8,cursor:9},serverMemberSearchByPageTag:{serverId:1,keyword:3,limit:4},inviteRespParamTag:{requestId:1},applyRespParamTag:{requestId:1,expireTime:2},inviteApplyRecord:{accid:1,type:2,serverId:3,status:4,requestId:5,createTime:6,updateTime:7,expireTime:8,data:9,recordId:10},clearServersUnreadTag:{successServerIds:1,failServerIds:2,ackTimestamp:3},unreadInfo:dw},RU=function(){return po(go)},Lae=function(){var y=RU();return{qchatCreateServer:{sid:24,cid:31,service:"qchatServer",params:[{type:"Property",name:"serverInfo",reflectMapper:go.serverInfo},{type:"Property",name:"antispamTag",reflectMapper:go.antispamTag}],response:[{type:"Property",name:"serverInfo",reflectMapper:y.serverInfo}]},qchatDeleteServer:{sid:24,cid:32,service:"qchatServer",params:[{type:"Long",name:"serverId"}]},qchatUpdateServer:{sid:24,cid:33,service:"qchatServer",params:[{type:"Property",name:"serverInfo",reflectMapper:go.serverInfo},{type:"Property",name:"antispamTag",reflectMapper:go.antispamTag}],response:[{type:"Property",name:"serverInfo",reflectMapper:y.serverInfo}]},qchatGetServers:{sid:24,cid:34,service:"qchatServer",params:[{type:"LongArray",name:"serverIds"}],response:[{type:"PropertyArray",name:"serverList",reflectMapper:y.serverInfo}]},qchatGetServersByPage:{sid:24,cid:35,service:"qchatServer",params:[{type:"Property",name:"tag",reflectMapper:go.getServerListPageTag}],response:[{type:"Property",name:"listQueryTag",reflectMapper:{1:"hasMore",2:"nextTimetag"}},{type:"PropertyArray",name:"datas",reflectMapper:y.serverInfo}]},qchatInviteServerMembers:{sid:24,cid:36,service:"qchatServer",params:[{type:"Long",name:"serverId"},{type:"StrArray",name:"accids"},{type:"String",name:"ps"},{type:"Property",name:"params",reflectMapper:{ttl:1}}],response:[{type:"StrArray",name:"failByOverAccids"},{type:"StrArray",name:"failByBanAccids"},{type:"Property",name:"record",reflectMapper:y.applyRespParamTag}]},qchatAcceptServerInvite:{sid:24,cid:37,service:"qchatServer",params:[{type:"Long",name:"serverId"},{type:"String",name:"accid"},{type:"Property",name:"recordInfo",reflectMapper:go.inviteRespParamTag}]},qchatRejectInviteServer:{sid:24,cid:38,service:"qchatServer",params:[{type:"Long",name:"serverId"},{type:"String",name:"accid"},{type:"String",name:"ps"},{type:"Property",name:"recordInfo",reflectMapper:go.inviteRespParamTag}]},qchatApplyServerJoin:{sid:24,cid:39,service:"qchatServer",params:[{type:"Long",name:"serverId"},{type:"String",name:"ps"},{type:"Property",name:"params",reflectMapper:{ttl:1}}],response:[{type:"Property",name:"data",reflectMapper:y.applyRespParamTag}]},qchatAcceptServerApply:{sid:24,cid:40,service:"qchatServer",params:[{type:"Long",name:"serverId"},{type:"String",name:"accid"},{type:"Property",name:"recordInfo",reflectMapper:go.applyRespParamTag}]},qchatRejectServerApply:{sid:24,cid:41,service:"qchatServer",params:[{type:"Long",name:"serverId"},{type:"String",name:"accid"},{type:"String",name:"ps"},{type:"Property",name:"recordInfo",reflectMapper:go.applyRespParamTag}]},qchatKickServerMembers:{sid:24,cid:42,service:"qchatServer",params:[{type:"Long",name:"serverId"},{type:"StrArray",name:"accids"}]},qchatLeaveServer:{sid:24,cid:43,service:"qchatServer",params:[{type:"Long",name:"serverId"}]},qchatUpdateMyMemberInfo:{sid:24,cid:44,service:"qchatServer",params:[{type:"Property",name:"memberInfo",reflectMapper:go.memberInfo},{type:"Property",name:"antispamTag",reflectMapper:go.antispamTag}],response:[{type:"Property",name:"memberInfo",reflectMapper:y.memberInfo}]},qchatUpdateServerMemberInfo:{sid:24,cid:45,service:"qchatServer",params:[{type:"Property",name:"memberInfo",reflectMapper:go.otherMemberInfo},{type:"Property",name:"antispamTag",reflectMapper:go.antispamTag}],response:[{type:"Property",name:"memberInfo",reflectMapper:y.memberInfo}]},qchatGetServerMembers:{sid:24,cid:46,service:"qchatServer",params:[{type:"StrArray",name:"accids"}],response:[{type:"PropertyArray",name:"accidList",reflectMapper:y.memberInfo}]},qchatGetServerMembersByPage:{sid:24,cid:47,service:"qchatServer",params:[{type:"Property",name:"tag",reflectMapper:go.getServerMemberListPageTag}],response:[{type:"Property",name:"listQueryTag",reflectMapper:{1:"hasMore",2:"nextTimetag"}},{type:"PropertyArray",name:"datas",reflectMapper:y.memberInfo}]},qchatUpdateServerMemberBan:{sid:24,cid:104,service:"qchatServer",params:[{type:"Property",name:"tag",reflectMapper:go.updateServerMemberBanTag}]},qchatGetBannedMembersByPage:{sid:24,cid:105,service:"qchatServer",params:[{type:"Property",name:"tag",reflectMapper:go.getBannedMembersByPageTag}],response:[{type:"Property",name:"listQueryTag",reflectMapper:{1:"hasMore",2:"nextTimetag"}},{type:"PropertyArray",name:"datas",reflectMapper:y.serverMemberBanInfo}]},qchatServerSearchByPage:{sid:24,cid:91,service:"qchatServer",params:[{type:"Property",name:"tag",reflectMapper:go.serverSearchByPageTag}],response:[{type:"Property",name:"listQueryTag",reflectMapper:{1:"hasMore",2:"nextTimetag",3:"cursor"}},{type:"PropertyArray",name:"datas",reflectMapper:y.serverInfo}]},qchatServerMemberSearchByPage:{sid:24,cid:92,service:"qchatServer",params:[{type:"Property",name:"tag",reflectMapper:go.serverMemberSearchByPageTag}],response:[{type:"PropertyArray",name:"members",reflectMapper:y.memberInfo}]},qchatGenerateInviteCode:{sid:24,cid:122,service:"qchatServer",params:[{type:"Property",name:"tag",reflectMapper:{serverId:1,ttl:2}}],response:[{type:"Property",name:"data",reflectMapper:{1:"serverId",2:"requestId",3:"inviteCode",4:"expireTime"}}]},qchatJoinByInviteCode:{sid:24,cid:123,service:"qchatServer",params:[{type:"Property",name:"tag",reflectMapper:{serverId:1,inviteCode:2,ps:3}}]},qchatGetInviteApplyRecordOfServer:{sid:24,cid:124,service:"qchatServer",params:[{type:"Property",name:"tag",reflectMapper:{serverId:1,fromTime:2,toTime:3,reverse:4,limit:5,cursor:6}}],response:[{type:"PropertyArray",name:"data",reflectMapper:y.inviteApplyRecord}]},qchatGetInviteApplyRecordOfSelf:{sid:24,cid:125,service:"qchatServer",params:[{type:"Property",name:"tag",reflectMapper:{fromTime:1,toTime:2,reverse:3,limit:4,cursor:5}}],response:[{type:"PropertyArray",name:"data",reflectMapper:y.inviteApplyRecord}]},qchatClearServersUnread:{sid:25,cid:5,service:"qchatServer",params:[{type:"LongArray",name:"serverIds"}],response:[{type:"Property",name:"clearServersUnreadTag",reflectMapper:y.clearServersUnreadTag}]},qchatSubscribeChannelsByServers:{sid:25,cid:7,service:"qchatServer",params:[{type:"Int",name:"type"},{type:"LongArray",name:"serverIds"}],response:[{type:"PropertyArray",name:"unreadInfos",reflectMapper:y.unreadInfo},{type:"String",name:"failServerIds"}]},qchatEnterAsVisitor:{sid:25,cid:10,service:"qchatServer",params:[{type:"Property",name:"tag",reflectMapper:{serverIds:1}}],response:[{type:"String",name:"failServerIds"}]},qchatLeaveAsVisitor:{sid:25,cid:11,service:"qchatServer",params:[{type:"Property",name:"tag",reflectMapper:{serverIds:1}}],response:[{type:"String",name:"failServerIds"}]}}},Pae={"24_61":"qchatCreateServerRole","24_62":"qchatDeleteServerRole","24_63":"qchatUpdateServerRole","24_64":"qchatGetServerRoles","24_65":"qchatAddChannelRole","24_66":"qchatRemoveChannelRole","24_67":"qchatUpdateChannelRole","24_68":"qchatGetChannelRoles","24_69":"qchatAddMemberRole","24_70":"qchatRemoveMemberRole","24_71":"qchatUpdateMemberRole","24_72":"qchatGetMemberRoles","24_73":"qchatAddMembersToServerRole","24_74":"qchatRemoveMembersFromServerRole","24_75":"qchatGetMembersFromServerRole","24_76":"qchatGetServerRolesByAccid","24_77":"qchatGetExistingServerRolesByAccids","24_78":"qchatGetExistingChannelRolesByServerRoleIds","24_79":"qchatGetExistingAccidsOfMemberRoles","24_80":"qchatUpdateServerRolePriorities","24_81":"qchatGetExistingAccidsInServerRole","24_82":"qchatCheckPermission","24_83":"qchatAddChannelCategoryRole","24_84":"qchatRemoveChannelCategoryRole","24_85":"qchatUpdateChannelCategoryRole","24_86":"qchatGetChannelCategoryRole","24_87":"qchatAddChannelCategoryMemberRole","24_88":"qchatRemoveChannelCategoryMemberRole","24_89":"qchatUpdateChannelCategoryMemberRole","24_90":"qchatGetChannelCategoryMemberRole","24_126":"qchatCheckPermissions"},Is={channelRole:{serverId:1,roleId:2,parentRoleId:3,channelId:4,name:5,icon:6,ext:7,auths:8,type:9,createTime:10,updateTime:11},memberRole:{serverId:1,id:2,accid:3,channelId:4,auths:5,createTime:6,updateTime:7,nick:8,avatar:9,ext:10,memberType:11,joinTime:12,inviter:13},antispamTag:{antiSpamBusinessId:1},serverRole:{serverId:1,roleId:2,name:3,icon:4,ext:5,auths:6,type:7,memberCount:8,priority:9,createTime:10,updateTime:11,isMember:12},getRoleByPagesTag:{serverId:1,channelId:2,time:3,limit:4},checkPermissionTag:{serverId:1,channelId:2,auth:3},member:{serverId:1,roleId:2,accid:3,createTime:4,updateTime:5,nick:6,avatar:7,ext:8,type:9,joinTime:10,inviter:11},qchatAddChannelCategoryRoleTag:{categoryId:3,serverId:4,parentRoleId:5},channelCategoryRole:{roleId:1,categoryId:3,serverId:4,parentRoleId:5,type:6,validFlag:7,createTime:8,updateTime:9,auths:10,name:11,icon:12,ext:13},qchatGetChannelCategoryRoleTag:{serverId:1,categoryId:2,timetag:3,limit:4},channelCategoryMemberRole:{id:1,accid:3,categoryId:4,serverId:5,validFlag:6,createTime:7,updateTime:8,auths:9,nick:10,avatar:11,ext:12,memberType:13,joinTime:14,inviter:15},qchatGetChannelCategoryMemberRoleTag:{serverId:1,categoryId:2,timetag:3,limit:4},checkPermissionsTag:{serverId:1,channelId:2,auths:3}},Xf=function(){return po(Is)},Dae=function(){var y=Xf();return{qchatCreateServerRole:{service:"qchatRole",sid:24,cid:61,params:[{type:"Property",name:"serverRole",reflectMapper:Is.serverRole},{type:"Property",name:"antispamTag",reflectMapper:Is.antispamTag}],response:[{type:"Property",name:"serverRole",reflectMapper:y.serverRole}]},qchatDeleteServerRole:{service:"qchatRole",sid:24,cid:62,params:[{type:"Long",name:"serverId"},{type:"Long",name:"roleId"}]},qchatUpdateServerRole:{service:"qchatRole",sid:24,cid:63,params:[{type:"Property",name:"updateServerRoleTag",reflectMapper:{serverId:1,roleId:2,name:3,icon:4,ext:5,auths:6,priority:7}},{type:"Property",name:"antispamTag",reflectMapper:Is.antispamTag}],response:[{type:"Property",name:"serverRole",reflectMapper:y.serverRole}]},qchatGetServerRoles:{service:"qchatRole",sid:24,cid:64,params:[{type:"Property",name:"getServerRolesTag",reflectMapper:{serverId:1,timetag:2,limit:3,priority:4,channelId:5,categoryId:6}}],response:[{type:"PropertyArray",name:"serverRoles",reflectMapper:y.serverRole}]},qchatAddChannelRole:{service:"qchatRole",sid:24,cid:65,params:[{type:"Property",name:"channelRole",reflectMapper:Is.channelRole}],response:[{type:"Property",name:"channelRole",reflectMapper:y.channelRole}]},qchatRemoveChannelRole:{service:"qchatRole",sid:24,cid:66,params:[{type:"Long",name:"serverId"},{type:"Long",name:"channelId"},{type:"Long",name:"roleId"}]},qchatUpdateChannelRole:{service:"qchatRole",sid:24,cid:67,params:[{type:"Property",name:"updateChannelRoleTag",reflectMapper:{serverId:1,roleId:2,channelId:3,auths:4}}],response:[{type:"Property",name:"channelRole",reflectMapper:y.channelRole}]},qchatGetChannelRoles:{service:"qchatRole",sid:24,cid:68,params:[{type:"Property",name:"getChannelRolesTag",reflectMapper:{serverId:1,channelId:2,timetag:3,limit:4}}],response:[{type:"PropertyArray",name:"channelRoles",reflectMapper:y.channelRole}]},qchatAddMemberRole:{service:"qchatRole",sid:24,cid:69,params:[{type:"Property",name:"memberRole",reflectMapper:Is.memberRole}],response:[{type:"Property",name:"memberRole",reflectMapper:y.memberRole}]},qchatRemoveMemberRole:{service:"qchatRole",sid:24,cid:70,params:[{type:"Property",name:"memberRole",reflectMapper:Is.memberRole}]},qchatUpdateMemberRole:{service:"qchatRole",sid:24,cid:71,params:[{type:"Property",name:"updateMemberRoleTag",reflectMapper:{serverId:1,accid:2,channelId:3,auths:4}}],response:[{type:"Property",name:"memberRole",reflectMapper:y.memberRole}]},qchatGetMemberRoles:{service:"qchatRole",sid:24,cid:72,params:[{type:"Property",name:"getMemberRolesTag",reflectMapper:{serverId:1,channelId:2,timetag:3,limit:4}}],response:[{type:"PropertyArray",name:"memberRoles",reflectMapper:y.memberRole}]},qchatAddMembersToServerRole:{service:"qchatRole",sid:24,cid:73,params:[{type:"Long",name:"serverId"},{type:"Long",name:"roleId"},{type:"String",name:"accids"}],response:[{type:"Property",name:"accids",reflectMapper:{1:"successAccids",2:"failedAccids"}}]},qchatRemoveMembersFromServerRole:{service:"qchatRole",sid:24,cid:74,params:[{type:"Long",name:"serverId"},{type:"Long",name:"roleId"},{type:"String",name:"accids"}],response:[{type:"Property",name:"accids",reflectMapper:{1:"successAccids",2:"failedAccids"}}]},qchatGetMembersFromServerRole:{service:"qchatRole",sid:24,cid:75,params:[{type:"Property",name:"getMembersFromServerRoleTag",reflectMapper:{serverId:1,roleId:2,timetag:3,accid:4,limit:5}}],response:[{type:"PropertyArray",name:"members",reflectMapper:y.member}]},qchatGetServerRolesByAccid:{service:"qchatRole",sid:24,cid:76,params:[{type:"Property",name:"getServerRolesByAccidTag",reflectMapper:{serverId:1,accid:2,timetag:3,limit:4}}],response:[{type:"PropertyArray",name:"serverRoles",reflectMapper:y.serverRole}]},qchatGetExistingServerRolesByAccids:{service:"qchatRole",sid:24,cid:77,params:[{type:"Long",name:"serverId"},{type:"String",name:"accids"}],response:[{type:"String",name:"serverRoles"}]},qchatGetExistingChannelRolesByServerRoleIds:{service:"qchatRole",sid:24,cid:78,params:[{type:"Long",name:"serverId"},{type:"Long",name:"channelId"},{type:"String",name:"roleIds"}],response:[{type:"PropertyArray",name:"channelRoles",reflectMapper:y.channelRole}]},qchatGetExistingAccidsOfMemberRoles:{service:"qchatRole",sid:24,cid:79,params:[{type:"Long",name:"serverId"},{type:"Long",name:"channelId"},{type:"String",name:"accids"}],response:[{type:"PropertyArray",name:"memberRoles",reflectMapper:y.memberRole}]},qchatUpdateServerRolePriorities:{service:"qchatRole",sid:24,cid:80,params:[{type:"Long",name:"serverId"},{type:"PropertyArray",name:"serverRoles",reflectMapper:{serverId:1,roleId:2,priority:7}}],response:[{type:"PropertyArray",name:"serverRoles",reflectMapper:y.serverRole}]},qchatGetExistingAccidsInServerRole:{service:"qchatRole",sid:24,cid:81,params:[{type:"Long",name:"serverId"},{type:"Long",name:"roleId"},{type:"String",name:"accids"}],response:[{type:"PropertyArray",name:"members",reflectMapper:y.member}]},qchatCheckPermission:{service:"qchatRole",sid:24,cid:82,params:[{type:"Property",name:"checkPermissionTag",reflectMapper:Is.checkPermissionTag}],response:[{type:"Bool",name:"checked"}]},qchatAddChannelCategoryRole:{service:"qchatRole",sid:24,cid:83,params:[{type:"Property",name:"qchatAddChannelCategoryRoleTag",reflectMapper:Is.channelCategoryRole}],response:[{type:"Property",name:"channelCategoryRole",reflectMapper:y.channelCategoryRole}]},qchatRemoveChannelCategoryRole:{service:"qchatRole",sid:24,cid:84,params:[{type:"Long",name:"serverId"},{type:"Long",name:"categoryId"},{type:"Long",name:"roleId"}]},qchatUpdateChannelCategoryRole:{service:"qchatRole",sid:24,cid:85,params:[{type:"Property",name:"qchatUpdateChannelCategoryRoleTag",reflectMapper:Is.channelCategoryRole}],response:[{type:"Property",name:"channelCategoryRole",reflectMapper:y.channelCategoryRole}]},qchatGetChannelCategoryRole:{service:"qchatRole",sid:24,cid:86,params:[{type:"Property",name:"qchatGetChannelCategoryRoleTag",reflectMapper:Is.qchatGetChannelCategoryRoleTag}],response:[{type:"PropertyArray",name:"list",reflectMapper:y.channelCategoryRole}]},qchatAddChannelCategoryMemberRole:{service:"qchatRole",sid:24,cid:87,params:[{type:"Property",name:"qchatAddChannelCategoryMemberRoleTag",reflectMapper:Is.channelCategoryMemberRole}],response:[{type:"Property",name:"channelCategoryMemberRole",reflectMapper:y.channelCategoryMemberRole}]},qchatRemoveChannelCategoryMemberRole:{service:"qchatRole",sid:24,cid:88,params:[{type:"Long",name:"serverId"},{type:"Long",name:"categoryId"},{type:"String",name:"accid"}]},qchatUpdateChannelCategoryMemberRole:{service:"qchatRole",sid:24,cid:89,params:[{type:"Property",name:"qchatUpdateChannelCategoryMemberRoleTag",reflectMapper:Is.channelCategoryMemberRole}],response:[{type:"Property",name:"channelCategoryMemberRole",reflectMapper:y.channelCategoryMemberRole}]},qchatGetChannelCategoryMemberRole:{service:"qchatRole",sid:24,cid:90,params:[{type:"Property",name:"qchatGetChannelCategoryMemberRoleTag",reflectMapper:Is.qchatGetChannelCategoryMemberRoleTag}],response:[{type:"PropertyArray",name:"list",reflectMapper:y.channelCategoryMemberRole}]},qchatCheckPermissions:{service:"qchatRole",sid:24,cid:126,params:[{type:"Property",name:"checkPermissionsTag",reflectMapper:Is.checkPermissionsTag}],response:[{type:"PropertyArray",name:"checkPermissionsResult",reflectMapper:{1:"auth",2:"isAllow"}}]}}},AU=["image","audio","video","file"],Iw={time:{type:"number"},updateTime:{type:"number"},resendFlag:{type:"boolean"},persistEnable:{type:"boolean"},routeEnable:{type:"boolean"},pushEnable:{type:"boolean"},needBadge:{type:"boolean"},needPushNick:{type:"boolean"},type:{type:"enum",values:$a},fromClientType:{type:"enum",values:Yf},status:{type:"number"},toAccids:{type:"object"},toType:{type:"number"},attach:{type:"object"},pushPayload:{type:"object"}};function Ew(p,y){var f=ce({},p),o=ce({type:y||$a.custom},ud(Iw,f));return o.serverId&&o.channelId&&o.toAccids?o.toType=4:o.serverId&&o.toAccids?o.toType=3:o.serverId&&o.channelId?o.toType=2:o.serverId?o.toType=1:o.toAccids?o.toType=5:o.toType=0,o}function jae(p){var y=dd(p,["msgIdServer","type"]);return ud(Iw,y)}var OU=((zs={})[$a.channelUpdateWhiteBlackIdentify]=function(p){var y=Jp();return p.notify=pw(Rr(p.notify,y.qchatUpdateWhiteBlackRoleTag)),p},zs[$a.channelUpdateWhiteBlackIdentifyUser]=function(p){var y=Jp();return p.notify=function(o){return oa(aae,o)}(Rr(p.notify,y.qchatUpdateWhiteBlackMembersTag)),p},zs[$a.updateQuickComment]=function(p){var y=Sw();return p.notify=function(o){return oa(Bae,o)}(Rr(p.notify,y.qchatQuickCommentRequestTag)),p},zs[$a.channelCategoryCreate]=function(p){var y=Jp();return p.categoryInfo=eI(Rr(p.categoryInfo,y.QChatChannelCategoryInfo)),p},zs[$a.channelCategoryUpdate]=function(p){var y=Jp();return p.categoryInfo=eI(Rr(p.categoryInfo,y.QChatChannelCategoryInfo)),p},zs[$a.channelCategoryUpdateWhiteBlackIdentify]=function(p){var y=Jp();return p.notify=pw(Rr(p.notify,y.qchatUpdateChannelCategoryWhiteBlackRoleTag)),p},zs[$a.channelCategoryUpdateWhiteBlackIdentifyUser]=function(p){var y=Jp();return p.notify=pw(Rr(p.notify,y.qchatUpdateChannelCategoryWhiteBlackMembersTag)),p},zs[$a.serverIdentifyAdd]=function(p){var y=Xf();return p.serverIdentifyInfo=jl(Rr(p.serverIdentifyInfo,y.serverRole)),p},zs[$a.serverIdentifyRemove]=function(p){var y=Xf();return p.serverIdentifyInfo=jl(Rr(p.serverIdentifyInfo,y.serverRole)),p},zs[$a.serverIdentifyUpdate]=function(p){var y=Xf();return p.serverIdentifyInfo=jl(Rr(p.serverIdentifyInfo,y.serverRole)),p},zs[$a.channelIdentifyUpdate]=function(p){var y=Xf();return p.channelIdentifyInfo=jl(Rr(p.channelIdentifyInfo,y.channelRole)),p},zs[$a.userIdentifyUpdate]=function(p){var y=Xf();return p.userIdentifyInfo=jl(Rr(p.userIdentifyInfo,y.memberRole)),p},zs[$a.myMemberInfoUpdated]=function(p){var y,f=Ht(p,"userInfo.name"),o=Ht(p,"userInfo.icon");return p.updatedInfos=Qe(y=p.reuseServers).call(y,function(a){var l={serverId:a.serverId};return(1&a.bits)==1&&typeof f=="string"&&ce(l,{nickChanged:!0,nick:f}),(2&a.bits)==2&&typeof o=="string"&&ce(l,{avatarChanged:!0,avatar:o}),l}),delete p.userInfo,delete p.reuseServers,p},zs);function iI(p,y){var f=oa(Iw,p);if(!f.attach)return f;var o=RU(),a=Jp();if(f.attach.serverInfo&&(f.attach.serverInfo=KC(Rr(f.attach.serverInfo,o.serverInfo))),f.attach.channelInfo&&(f.attach.channelInfo=QS(Rr(f.attach.channelInfo,a.channelInfo))),f.attach.serverMember&&(f.attach.serverMember=WC(Rr(f.attach.serverMember,o.memberInfo))),OU[f.attach.type]&&(f.attach=OU[f.attach.type](f.attach)),f.attach.updateAuths)try{f.attach.updateAuths=rI(JSON.parse(f.attach.updateAuths))}catch(l){y.error("formatSystemNotification:JSON parse updateAuths error: ",l)}return f.attach.type&&(f.attach.rawType=f.attach.type,f.attach.type=$a[f.attach.type]),f}var kU={type:{type:"enum",values:JC},fromClientType:{type:"enum",values:Yf},status:{type:"number"},resendFlag:{type:"boolean"},mentionAll:{type:"boolean"},notifyReason:{type:"enum",values:nI},pushEnable:{type:"boolean"},historyEnable:{type:"boolean"},needBadge:{type:"boolean"},needPushNick:{type:"boolean"},routeEnable:{type:"boolean"},time:{type:"number"},updateTime:{type:"number"},mentionAccids:{type:"object"},mentionRoleIds:{type:"object"},accidsOfMentionedRoles:{type:"object"},attach:{type:"object"},pushPayload:{type:"object"},isAntispam:{type:"boolean"},antiSpamInfo:{useCustomContent:{type:"boolean"},antiSpamContent:{type:"string"},antiSpamBusinessId:{type:"string"},antiSpamUsingYidun:{type:"boolean"},yidunCallback:{type:"string"},yidunAntiCheating:{type:"object"},yidunAntiSpamExt:{type:"object"},yidunAntiSpamRes:{type:"string"}},replyRefer:{fromAccount:{type:"string",rawKey:"replyMsgFromAccount"},time:{type:"number",rawKey:"replyMsgTime"},msgIdServer:{type:"string",rawKey:"replyMsgIdServer"},msgIdClient:{type:"string",rawKey:"replyMsgIdClient"}},threadRefer:{fromAccount:{type:"string",rawKey:"threadMsgFromAccount"},time:{type:"number",rawKey:"threadMsgTime"},msgIdServer:{type:"string",rawKey:"threadMsgIdServer"},msgIdClient:{type:"string",rawKey:"threadMsgIdClient"}}};function Cw(p){p.onSendBefore,p.onUploadStart,p.onUploadDone,p.onUploadProgress;var y=Ja(p,["onSendBefore","onUploadStart","onUploadDone","onUploadProgress"]),f=ud(kU,y);if(f.msgIdClient=p.resendFlag?p.msgIdClient:ai(),!f.msgIdClient)throw new yS("msgIdClient is required for resend a message","msgIdClient","required");return p.replyMessage&&p.replyMessage.msgIdServer&&(f.replyMsgFromAccount=p.replyMessage.fromAccount,f.replyMsgTime=+p.replyMessage.time,f.replyMsgIdServer=p.replyMessage.msgIdServer,f.replyMsgIdClient=p.replyMessage.msgIdClient,p.replyMessage.threadRefer&&p.replyMessage.threadRefer.msgIdServer?(f.threadMsgFromAccount=p.replyMessage.threadRefer.fromAccount,f.threadMsgTime=+p.replyMessage.threadRefer.time,f.threadMsgIdServer=p.replyMessage.threadRefer.msgIdServer,f.threadMsgIdClient=p.replyMessage.threadRefer.msgIdClient):(f.threadMsgFromAccount=p.replyMessage.fromAccount,f.threadMsgTime=+p.replyMessage.time,f.threadMsgIdServer=p.replyMessage.msgIdServer,f.threadMsgIdClient=p.replyMessage.msgIdClient),delete f.replyMessage),f}function LU(p){return oa({operatorClientType:{type:"enum",values:Yf},pushPayload:{type:"object"}},p)}function Es(p,y,f){var o,a;return y===void 0&&(y={}),le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return(c=oa(kU,p)).deliveryStatus=y.deliveryStatus?Cc[y.deliveryStatus]:Cc[Cc.success],y.time&&(c.time=y.time),u=Sw(),c.updateContent&&(h=oa({status:{type:"number"}},h=Rr(h=JSON.parse(c.updateContent),u.qchatMsgTag)),c.updateContent=h),c.updateOperatorInfo&&(C=LU(Rr(C=JSON.parse(c.updateOperatorInfo),u.qchatMsgUpdateTag)),c.updateOperatorInfo=C),((o=c==null?void 0:c.threadRefer)===null||o===void 0?void 0:o.fromAccount)===""&&delete c.threadRefer,((a=c==null?void 0:c.replyRefer)===null||a===void 0?void 0:a.fromAccount)===""&&delete c.replyRefer,c.attach&&y.attachUrl&&(c.attach.url=y.attachUrl),k.next=11,Vae(c,f);case 11:return k.abrupt("return",k.sent);case 12:case"end":return k.stop()}},l)}))}function Vae(p,y){return le(this,void 0,void 0,q.mark(function f(){var o;return q.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(or(AU).call(AU,p.type)&&p.attach&&p.attach.url){l.next=2;break}return l.abrupt("return",p);case 2:if(y&&y.cloudStorage&&typeof y.cloudStorage.getPrivateUrl=="function"&&typeof y.cloudStorage.getOriginUrl=="function"){l.next=4;break}return l.abrupt("return",p);case 4:if(!(dr(o=p.attach.url).call(o,"_im_url=1")<0)){l.next=7;break}return p.attach.url=y.cloudStorage.getPrivateUrl(p.attach.url),l.abrupt("return",p);case 7:return l.prev=7,l.next=10,y.cloudStorage.getOriginUrl(p.attach.url);case 10:p.attach.url=l.sent,l.next=16;break;case 13:throw l.prev=13,l.t0=l.catch(7),new yS('url "'+p.attach.url+'" parse error',"message.attach.url","parse error");case 16:return l.abrupt("return",p);case 17:case"end":return l.stop()}},f,null,[[7,13]])}))}function PU(p,y,f){return y===void 0&&(y={}),le(this,void 0,void 0,q.mark(function o(){var a;return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(Nr(p)&&p.length>0){c.next=2;break}return c.abrupt("return",[]);case 2:return a=Qe(p).call(p,function(u){return Es(u,y,f)}),c.next=5,Zt.all(a);case 5:return c.abrupt("return",c.sent);case 6:case"end":return c.stop()}},o)}))}var $ae={totalCount:{type:"number"},lastUpdateTime:{type:"number"},details:{type:"object"}};function Uae(p){var y=Qe(p).call(p,function(o){var a,l=oa($ae,o);return l.details=Qe(a=l.details).call(a,function(c){var u=c.createTime?un(c.createTime):0;return u=isNaN(u)?0:u,{count:c.count,hasSelf:c.self,severalAccids:c.topN,type:c.type,createTime:u}}),l}),f={};return rt(y).call(y,function(o){return f[o.msgIdServer]=o}),f}var Bae={type:{type:"number"},time:{type:"number"},opeType:{type:"number"}},Fae={includeSelf:{type:"number"},order:{type:"enum",values:Xp},sort:{type:"enum",values:XC},msgTypes:{type:"object"},subTypes:{type:"object"}},qae={hasMore:{type:"boolean"},nextTimetag:{type:"number"},cursor:{type:"string"}},zae={6:function(y){return this.core.qchatChannel.subscribeForVisitorService.deleteAutoSetInServerId(y.serverId),!0},16:function(y){return this.core.qchatChannel.subscribeForVisitorService.deleteAutoSetInChannel(y.serverId,y.channelId),!0},26:function(y){var f=Ht(y,"attach.addAccids");return f&&or(f).call(f,this.core.account)&&this.core.eventBus.emit("qchatChannel/serverIdentifyChange",y),!0},27:function(y){var f=Ht(y,"attach.deleteAccids");return f&&or(f).call(f,this.core.account)&&this.core.eventBus.emit("qchatChannel/serverIdentifyChange",y),!0},31:function(y){var f,o;return y.attach.event===1?!((o=(f=this.core.qchatChannel)===null||f===void 0?void 0:f.config)===null||o===void 0)&&o.autoSubscribe&&this.core.qchatChannel.subscribeChannel({type:1,opeType:1,channels:[{serverId:y.serverId,channelId:y.channelId}],isInternalTrigger:!0}):y.attach.event===2&&(this.core.eventBus.emit("qchatChannel/autoUnSubscribe",y),this.core.eventBus.emit("qchatMedia/serverOrChannelLeave",y)),!0},32:function(y){var f,o;return y.attach.event===2?(this.core.eventBus.emit("qchatChannel/autoUnSubscribe",y),this.core.eventBus.emit("qchatMedia/serverOrChannelLeave",y)):y.attach.event===1&&(this.core.qchatChannel.subscribeForVisitorService.deleteServer(y.serverId),!((o=(f=this.core.qchatChannel)===null||f===void 0?void 0:f.config)===null||o===void 0)&&o.autoSubscribe&&this.core.qchatServer.subscribeServer({type:4,opeType:1,servers:[{serverId:y.serverId}],isInternalTrigger:!0})),!0},34:function(y){return y.attach.event===2&&this.core.qchatChannel.subscribeForVisitorService.unSubscribeChannel(y.serverId,y.channelId),!0},101:function(y){var f=dd(y,["serverId","channelId","ext","fromAccount","fromNick","time"]);return this.logger.log("qchat on recvTypingEvent: ",f),this.core.emit("recvTypingEvent",f),this.core.qchatMsg.emit("recvTypingEvent",f),!1}},Hae=function(){function p(f){this.core=f,this.logger=f.logger}var y=p.prototype;return y.sendSystemNotification=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.core.sendCmd("qchatSendCustomSysMsg",{sysMsg:Ew(o)});case 2:return l=h.sent,c=iI(l.content.sysMsg,this.logger),this.logger.getDebugMode()?this.logger.debug("sendCustomSysMsg success",c):this.logger.log("sendCustomSysMsg success",c.serverId,c.channelId,c.msgIdServer),h.abrupt("return",c);case 6:case"end":return h.stop()}},a,this)}))},y.updateSystemNotification=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return l=o.systemNotification,c=Ja(o,["systemNotification"]),u=dd(l,["msgIdServer","type","body","ext","status"]),h=Ew(u),k.next=5,this.core.sendCmd("qchatUpdateSystemNotification",{sysMsg:h,qchatMsgUpdateTag:ce(ce({},c),{operatorAccount:this.core.account,operatorClientType:Yf.Web,pushPayload:$t(o.pushPayload),routeEnable:bC.boolean(o,"routeEnable")})});case 5:return C=k.sent,k.abrupt("return",iI(C.content.sysMsg,this.logger));case 7:case"end":return k.stop()}},a,this)}))},y.markSystemNotificationsRead=function(o){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.core.sendCmd("qchatMarkSysMsgRead",{sysMsgs:Qe(l=o.systemNotifications).call(l,function(h){return jae(h)})});case 2:case"end":return u.stop()}},a,this)}))},y.onSysMsg=function(o){var a=o.content.sysMsg;if(a){var l=iI(a,this.core.logger),c=zae[$a[l.type]];if(c&&c.call(this,l)===!1)return;var u={feature:"default",systemNotifications:[l]};this.logger.log("qchat on systemNotification: ",u),this.core.emit("systemNotification",u),this.core.qchatMsg.emit("systemNotification",u)}else this.core.logger.warn("No sysMsg in onSysMsg packet")},y.onMultiSysMsg=function(o){var a=o.content.sysMsg;if(a){var l=iI(a,this.logger);this.core.emit("systemNotificationUpdate",l),this.core.qchatMsg.emit("systemNotificationUpdate",l)}},y.onSyncSysMsg=function(o){var a=this,l=o.content.systemNotifications;if(l&&l.length>0){var c=Qe(l).call(l,function(u){return iI(u,a.logger)});this.core.emit("systemNotification",{feature:"sync",systemNotifications:c}),this.core.qchatMsg.emit("systemNotification",{feature:"sync",systemNotifications:c})}else this.logger.warn("sync system notification not exist")},p}(),DU=["image","audio","video","file"],Gae=function(){function p(f){var o=this;this.markMessageRead=bw(function(a){return le(o,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.core.sendCmd("qchatMarkMessageRead",{markMsgReadTag:a});case 2:c=C.sent,u=mw(c.content.unreadInfo),this.core.eventBus.emit("qchatChannel/updateUnreads",[u]);case 5:case"end":return C.stop()}},l,this)}))},200),this.core=f,this.logger=f.logger}var y=p.prototype;return y.sendMessage=function(o){var a,l,c,u;return le(this,void 0,void 0,q.mark(function h(){var C,x,k,B,W,Y;return q.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(!(dr(DU).call(DU,o.type)>-1)){se.next=4;break}return se.next=3,this.doSendFile(o);case 3:o.attach=se.sent;case 4:return C=Cw(ce({fromAccount:this.core.account},o)),se.next=7,Es(C,{time:new Date().getTime(),deliveryStatus:Cc.sending},this.core);case 7:x=se.sent;try{o.onSendBefore&&o.onSendBefore(x)}catch(xe){this.logger.error("sendMsg: options.onSendBefore error",xe)}return se.prev=9,se.next=12,this.core.sendCmd("qchatSendMsg",{qchatMsg:C});case 12:k=se.sent,se.next=22;break;case 15:return se.prev=15,se.t0=se.catch(9),se.next=19,Es(C,{time:new Date().getTime(),deliveryStatus:Cc.failed,attachUrl:(a=x.attach)===null||a===void 0?void 0:a.url},this.core);case 19:throw B=se.sent,se.t0.msg=B,se.t0;case 22:return W=k.content,se.next=25,Es(ce({},W.qchatMsg),{deliveryStatus:Cc.success,attachUrl:(l=x.attach)===null||l===void 0?void 0:l.url},this.core);case 25:if(!(Y=se.sent).isAntispam){se.next=29;break}throw{code:10403,msg:Y,message:((c=Y==null?void 0:Y.antiSpamInfo)===null||c===void 0?void 0:c.yidunAntiSpamRes)||"message has be antispam",isAntispam:!0,yidunAntiSpamRes:((u=Y==null?void 0:Y.antiSpamInfo)===null||u===void 0?void 0:u.yidunAntiSpamRes)||""};case 29:return se.abrupt("return",Y);case 30:case"end":return se.stop()}},h,this,[[9,15]])}))},y.doSendFile=function(o){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(ge({type:{type:"enum",values:["image","audio","video","file"]},attach:{type:"object",rules:{url:{type:"string",allowEmpty:!1}},required:!1},maxSize:{type:"number",min:1,required:!1}},o),l=o.attach){u.next=15;break}if(this.core.cloudStorage&&this.core.cloudStorage.uploadFile){u.next=5;break}throw new Error('Service "cloudStorage" does not exist');case 5:return u.prev=5,u.next=8,this.core.cloudStorage.uploadFile(o);case 8:l=u.sent,u.next=15;break;case 11:throw u.prev=11,u.t0=u.catch(5),this.logger.error("sendFile:: upload File error or abort.",u.t0),u.t0;case 15:return u.abrupt("return",l);case 16:case"end":return u.stop()}},a,this,[[5,11]])}))},y.resendMessage=function(o){var a,l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return(u=Cw(ce(ce({},o),{resendFlag:!0}))).deliveryStatus=Cc.sending,W.prev=2,W.next=5,this.core.sendCmd("qchatSendMsg",{qchatMsg:u});case 5:h=W.sent,W.next=15;break;case 8:return W.prev=8,W.t0=W.catch(2),W.next=12,Es(u,{time:new Date().getTime(),deliveryStatus:Cc.failed},this.core);case 12:throw C=W.sent,W.t0.msg=C,W.t0;case 15:return x=h.content,W.next=18,Es(ce({},x.qchatMsg),{deliveryStatus:Cc.success},this.core);case 18:if(!(k=W.sent).isAntispam){W.next=22;break}throw{code:10403,msg:k,message:((a=k==null?void 0:k.antiSpamInfo)===null||a===void 0?void 0:a.yidunAntiSpamRes)||"message has be antispam",isAntispam:!0,yidunAntiSpamRes:((l=k==null?void 0:k.antiSpamInfo)===null||l===void 0?void 0:l.yidunAntiSpamRes)||""};case 22:return W.abrupt("return",k);case 23:case"end":return W.stop()}},c,this,[[2,8]])}))},y.doUpdateMessage=function(o){var a,l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return u=o.message,h=Ja(o,["message"]),(C=Cw(u)).msgIdClient=void 0,C.time=u.time,W.next=6,this.core.sendCmd("qchatUpdateMessage",{qchatMsg:C,qchatMsgUpdateTag:ce(ce({},h),{operatorAccount:this.core.account,operatorClientType:Yf.Web,pushPayload:$t(o.pushPayload),routeEnable:bC.boolean(o,"routeEnable")})});case 6:return x=W.sent,W.next=9,Es(x.content.qchatMsg,{},this.core);case 9:if(k=W.sent,this.core.eventBus.emit("qchatChannel/changeUnread",k,!0),!x.content.qchatMsg.isAntispam){W.next=14;break}throw{code:10403,msg:C,message:((a=x.content.qchatMsg)===null||a===void 0?void 0:a.yidunAntiSpamRes)||"message has be antispam",isAntispam:!0,yidunAntiSpamRes:((l=x.content.qchatMsg)===null||l===void 0?void 0:l.yidunAntiSpamRes)||""};case 14:return W.abrupt("return",k);case 15:case"end":return W.stop()}},c,this)}))},y.getHistoryMessage=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h=this;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,this.core.sendCmd("qchatGetHistoryMsg",{getHistoryMsgTag:ce(ce({},o),{reverse:js(o)?1:0})});case 2:return c=x.sent,u=c.content,x.next=6,Zt.all(Qe(l=u.qchatMsgs).call(l,function(k){return Es(k,{},h.core)}));case 6:return x.abrupt("return",x.sent);case 7:case"end":return x.stop()}},a,this)}))},y.getMentionedMeMessages=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x=this;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,this.core.sendCmd("qchatGetMentionedMeMessages",{tag:o});case 2:return c=B.sent,u=c.content,W=u.page,h=oa(qae,W),B.next=7,Zt.all(Qe(l=u.datas).call(l,function(Y){return Es(Y,{},x.core)}));case 7:return C=B.sent,B.abrupt("return",{pageInfo:h,messages:C});case 9:case"end":return B.stop()}var W},a,this)}))},y.areMentionedMeMessages=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:l={},c=0;case 2:if(!(c<o.length)){C.next=13;break}if((u=o[c]).fromAccount!==this.core.account){C.next=7;break}return l[u.msgIdClient]=!1,C.abrupt("continue",10);case 7:return C.next=9,this.core.qchatChannel.subscribeModuleService.getMentionedFlag(u,!0);case 9:l[u.msgIdClient]=C.sent;case 10:c++,C.next=2;break;case 13:return C.abrupt("return",l);case 14:case"end":return C.stop()}},a,this)}))},y.getLastMessageOfChannels=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.core.sendCmd("qchatGetLastMessageOfChannels",{tag:o});case 2:return l=C.sent,c=l.content.msgs,C.next=6,PU(c,{},this.core);case 6:return u=C.sent,C.abrupt("return",ja(u).call(u,function(x,k){return x[k.channelId]=k,x},{}));case 8:case"end":return C.stop()}},a,this)}))},y.messageSearchByPage=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.core.sendCmd("qchatMessageSearchByPage",{qchatMessageSearchByPageTag:ce(ce({},(B=o,ud(Fae,B))),{includeSelf:o.includeSelf?1:""})});case 2:return l=k.sent,c=l.content,u=c.datas,h=c.listQueryTag,k.next=6,PU(u,{},this.core);case 6:return C=k.sent,k.abrupt("return",{listQueryTag:{hasMore:+h.hasMore==1,nextTimetag:h.nextTimetag?un(h.nextTimetag):0,cursor:h.cursor},datas:C});case 8:case"end":return k.stop()}var B},a,this)}))},y.onMsg=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(l=o.content.qchatMsg){h.next=4;break}return this.logger.warn("No qchatMsg in qchatMsg packet"),h.abrupt("return");case 4:return h.next=6,Es(l,{},this.core);case 6:c=h.sent,this.core.eventBus.emit("qchatChannel/changeUnread",c,!1),this.core.emit("message",c),this.core.qchatMsg.emit("message",c);case 10:case"end":return h.stop()}},a,this)}))},y.onRecvUnreadInfo=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(l=o.content.qchatMsg){h.next=3;break}return h.abrupt("return");case 3:return h.next=5,Es(l);case 5:c=h.sent,this.core.eventBus.emit("qchatChannel/changeUnread",c,!1);case 7:case"end":return h.stop()}},a,this)}))},y.onMultiSyncRead=function(o){var a=o.content.unreadInfo;if(a){var l=mw(a);this.core.eventBus.emit("qchatChannel/updateUnreads",[l])}},y.onMultiSyncServersRead=function(o){var a=o.content.qchatMultiSyncServersMessageReadTag;if(a){var l=TU(a),c=l.successServerIds,u=l.ackTimestamp;this.core.eventBus.emit("qchatChannel/clearUnreadCountByServers",c,u)}},y.onRecvMsgUpdate=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(l=o.content.qchatMsg,c=o.content.qchatMsgUpdateInfo,l){x.next=4;break}return x.abrupt("return");case 4:return x.next=6,Es(l,{},this.core);case 6:u=x.sent,h=LU(c),this.core.eventBus.emit("qchatChannel/changeUnread",u,!0),this.core.emit("messageUpdate",u,h),this.core.qchatMsg.emit("messageUpdate",u,h);case 11:case"end":return x.stop()}},a,this)}))},p}(),Kae=function(){function p(f){var o=this;this._sendTypingEvent=bw(function(a){return le(o,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.core.sendCmd("qchatSendCustomSysMsg",{sysMsg:Ew(ce(ce({},a),{resendFlag:!1,persistEnable:!1,routeEnable:!1,pushEnable:!1,needBadge:!1,needPushNick:!1}),$a.msgTyping)});case 2:case"end":return u.stop()}},l,this)}))},3e3),this.core=f,this.logger=f.logger,this.lastChannelIdInTyping=""}var y=p.prototype;return y.getMessageHistoryByIds=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.core.sendCmd("qchatGetMessageHistoryByIds",{channelInfo:{serverId:o.serverId,channelId:o.channelId},messageReferList:o.messageReferList});case 2:return c=h.sent,h.abrupt("return",Zt.all(Qe(l=c.content.qchatMsgs).call(l,function(C){return Es(C)})));case 4:case"end":return h.stop()}},a,this)}))},y.getReferMessages=function(o){var a,l;return le(this,void 0,void 0,q.mark(function c(){var u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!((a=o.message.replyRefer)===null||a===void 0)&&a.msgIdServer&&(!((l=o.message.threadRefer)===null||l===void 0)&&l.msgIdServer)){C.next=2;break}throw new Error("Message has no reply");case 2:return C.next=4,this.getMessageHistoryByIds({serverId:o.message.serverId,channelId:o.message.channelId,messageReferList:[o.message.replyRefer,o.message.threadRefer]});case 4:if(u=C.sent,o.referType!==Id[Id.all]){C.next=9;break}return C.abrupt("return",{replyMessage:u[0],threadMessage:u[1]});case 9:if(o.referType!==Id[Id.reply]){C.next=13;break}return C.abrupt("return",{replyMessage:u[0]});case 13:if(o.referType!==Id[Id.thread]){C.next=15;break}return C.abrupt("return",{threadMessage:u[1]});case 15:return C.abrupt("return",{replyMessage:u[0],threadMessage:u[1]});case 16:case"end":return C.stop()}},c,this)}))},y.getThreadMessages=function(o){var a;return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return u=!((a=o.message.threadRefer)===null||a===void 0)&&a.msgIdServer?ce({serverId:o.message.serverId,channelId:o.message.channelId},o.message.threadRefer):o.message,B.next=3,this.core.sendCmd("qchatGetThreadMessages",{qchatMsg:u,getThreadHistoryMsgTag:ce(ce({},o.messageQueryOption),{reverse:bC.boolean(o.messageQueryOption,"reverse")})});case 3:return h=B.sent,B.next=6,Es(h.content.thread);case 6:return C=B.sent,B.next=9,Zt.all(Qe(c=h.content.qchatMsgs).call(c,function(W){return Es(W)}));case 9:return x=B.sent,B.abrupt("return",{thread:C,threadInfo:{messageCount:+h.content.threadInfo.messageCount,lastMessageTimestamp:+h.content.threadInfo.lastMessageTimestamp},messages:x});case 11:case"end":return B.stop()}},l,this)}))},y.getThreadRootMessagesMeta=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return l=o.threadRootMessages,c=Ja(o,["threadRootMessages"]),x.next=3,this.core.sendCmd("qchatGetThreadRootMessagesMeta",{qchatMsgs:l,tag:c});case 3:if(u=x.sent,!((h=u.content.metas)&&h.length>0)){x.next=7;break}return x.abrupt("return",Qe(h).call(h,function(k){return ce(ce({},k),{total:un(k.total),timestamp:un(k.timestamp),msgTime:un(k.msgTime)})}));case 7:return x.abrupt("return",[]);case 8:case"end":return x.stop()}},a,this)}))},y.getQuickComments=function(o){return le(this,void 0,void 0,q.mark(function a(){var l,c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.core.sendCmd("qchatGetQuickComments",{tag:{serverId:o.serverId,channelId:o.channelId,msgIdServerList:$t(Qe(l=o.msgList).call(l,function(x){return x.msgIdServer}))}});case 2:return c=C.sent,u=c.content.quickCommentResponse,C.abrupt("return",Uae(u));case 5:case"end":return C.stop()}},a,this)}))},y.updateQuickComment=function(o,a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return ge({type:{type:"number"},commentMessage:{type:"object",rules:{msgIdServer:{type:"string",allowEmpty:!1}}}},o),c=o.commentMessage,u=c.serverId,h=c.channelId,C=c.fromAccount,x=c.msgIdServer,k=c.time,W.next=4,this.core.sendCmd("qchatUpdateQuickComment",{tag:{serverId:u,channelId:h,fromAccount:C,msgIdServer:x,time:k,type:o.type,opeType:a,opeAccid:this.core.account}});case 4:case"end":return W.stop()}},l,this)}))},y.sendTypingEvent=function(o){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(o.channelId!==this.lastChannelIdInTyping){c.next=4;break}return this.logger.log("qchatMsg sendTypingEvent throttle"),this._sendTypingEvent(o),c.abrupt("return");case 4:this.lastChannelIdInTyping=o.channelId,this._sendTypingEvent.flush(),this._sendTypingEvent(o);case 7:case"end":return c.stop()}},a,this)}))},p}(),Wae=function(p){function y(o){var a;return(a=p.call(this,"qchatMsg",o)||this).core=o,a.lastChannelIdInMark="",Wr({cmdMap:Aae,cmdConfig:Oae()}),a.notificationModuleService=new Hae(o),a.messageModuleService=new Gae(o),a.extendModuleService=new Kae(o),a}pr(y,p);var f=y.prototype;return f.sendMessage=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},type:{type:"enum",values:Kr(JC)},ext:{type:"string",required:!1},mentionAll:{type:"boolean",required:!1},mentionAccids:{type:"array",itemType:"string",required:!1},mentionRoleIds:{type:"array",itemType:"string",required:!1,min:1},historyEnable:{type:"boolean",required:!1},pushEnable:{type:"boolean",required:!1}},a),u.next=3,this.messageModuleService.sendMessage(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.updateMessage=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(ge({message:{type:"object",rules:{serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},msgIdServer:{type:"string",allowEmpty:!1},time:{type:"number",min:0},body:{type:"string",required:!1},ext:{type:"string",required:!1}}}},a),!(typeof a.message.status=="number"&&a.message.status<1e4)){u.next=3;break}throw new Or("Status should be greater than or equal to 10000");case 3:return u.next=5,this.messageModuleService.doUpdateMessage(a);case 5:return u.abrupt("return",u.sent);case 6:case"end":return u.stop()}},l,this)}))},f.resendMessage=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},msgIdClient:{type:"string",allowEmpty:!1}},a),u.next=3,this.messageModuleService.resendMessage(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.deleteMessage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({message:{type:"object",rules:{serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},msgIdServer:{type:"string",allowEmpty:!1},time:{type:"number",min:0}}}},a),(c=JSON.parse($t(a))).message.status=2,h.next=5,this.messageModuleService.doUpdateMessage(c);case 5:return h.abrupt("return",h.sent);case 6:case"end":return h.stop()}},l,this)}))},f.revokeMessage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({message:{type:"object",rules:{serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},msgIdServer:{type:"string",allowEmpty:!1},time:{type:"number",min:0}}}},a),(c=JSON.parse($t(a))).message=dd(c.message,["serverId","channelId","msgIdServer","time"]),c.message.status=1,h.next=6,this.messageModuleService.doUpdateMessage(c);case 6:return h.abrupt("return",h.sent);case 7:case"end":return h.stop()}},l,this)}))},f.markMessageRead=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:ge({serverId:{type:"string"},channelId:{type:"string"},time:{type:"number",min:0}},a),a.channelId!==this.lastChannelIdInMark&&this.messageModuleService.markMessageRead.flush(),this.lastChannelIdInMark=a.channelId,this.messageModuleService.markMessageRead(a);case 4:case"end":return u.stop()}},l,this)}))},f.replyMessage=function(a){ge({replyMessage:{type:"object",rules:{msgIdServer:{type:"string",allowEmpty:!1}}}},a);var l=a.replyMessage;if(a.serverId!==l.serverId||a.channelId!==l.channelId)throw new Or("Forbid replying to message from other server, channel");return this.sendMessage(a)},f.getMessageHistoryByIds=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},messageReferList:{type:"array",rules:{msgIdServer:{type:"string",allowEmpty:!1},time:{type:"number"}}}},a),u.next=3,this.extendModuleService.getMessageHistoryByIds(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.getReferMessages=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({message:{type:"object",rules:{msgIdServer:{type:"string",allowEmpty:!1},time:{type:"number"}}},referType:{type:"enum",values:Kr(Id),required:!1}},a),u.next=3,this.extendModuleService.getReferMessages(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.getThreadMessages=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({message:{type:"object",rules:{msgIdServer:{type:"string",allowEmpty:!1},time:{type:"number"}}},messageQueryOption:{type:"object",rules:{beginTime:{type:"number",required:!1},endTime:{type:"number",required:!1},excludeMsgId:{type:"string",required:!1},limit:{type:"number",required:!1},reverse:{type:"boolean",required:!1}}}},a),u.next=3,this.extendModuleService.getThreadMessages(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.getThreadRootMessagesMeta=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},threadRootMessages:{type:"array",rules:{msgIdServer:{type:"string",allowEmpty:!1},time:{type:"number"}}}},a),u.next=3,this.extendModuleService.getThreadRootMessagesMeta(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.sendSystemNotification=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1,required:!1},attach:{type:"object",required:!1}},a),u.next=3,this.notificationModuleService.sendSystemNotification(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.updateSystemNotification=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({systemNotification:{type:"object",rules:{msgIdServer:{type:"string",allowEmpty:!1},type:{type:"enum",values:Kr($a)},body:{type:"string",required:!1},ext:{type:"string",required:!1},status:{type:"number",required:!1}}}},a),u.next=3,this.notificationModuleService.updateSystemNotification(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.markSystemNotificationsRead=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({systemNotifications:{type:"array",rules:{msgIdServer:{type:"string",allowEmpty:!1},type:{type:"string",allowEmpty:!1}},min:1}},a),u.next=3,this.notificationModuleService.markSystemNotificationsRead(a);case 3:case"end":return u.stop()}},l,this)}))},f.getHistoryMessage=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},beginTime:{type:"number",min:0,required:!1},endTime:{type:"number",min:0,required:!1},excludeMsgId:{type:"string",allowEmpty:!1,required:!1},limit:{type:"number",min:1,required:!1},reverse:{type:"boolean",required:!1}},a),u.next=3,this.messageModuleService.getHistoryMessage(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.getMentionedMeMessages=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},timestamp:{type:"number",min:0,required:!1},limit:{type:"number",min:1,required:!1}},a),u.next=3,this.messageModuleService.getMentionedMeMessages(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.areMentionedMeMessages=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(ge({messages:{type:"array",rules:{serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},msgIdServer:{type:"string",allowEmpty:!1}},min:1}},a),rl(c=a.messages).call(c,function(C){return a.messages[0].serverId===C.serverId})){h.next=4;break}throw new Or("Different serverId",a,10414);case 4:if(!this.core.qchatChannel.subscribeForVisitorService.isInAutoServers(a.messages[0].serverId)){h.next=7;break}throw new Or("Not allowed for visitor",a,10403);case 7:return h.next=9,this.messageModuleService.areMentionedMeMessages(a.messages);case 9:return h.abrupt("return",h.sent);case 10:case"end":return h.stop()}},l,this)}))},f.addQuickComment=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.extendModuleService.updateQuickComment(a,1);case 2:case"end":return u.stop()}},l,this)}))},f.removeQuickComment=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.extendModuleService.updateQuickComment(a,2);case 2:case"end":return u.stop()}},l,this)}))},f.getQuickComments=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},msgList:{type:"array",rules:{msgIdServer:{type:"string",allowEmpty:!1}},min:1}},a),u.next=3,this.extendModuleService.getQuickComments(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.sendTypingEvent=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},ext:{type:"string",required:!1}},a),u.next=3,this.extendModuleService.sendTypingEvent(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.getLastMessageOfChannels=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelIdList:{type:"array",itemType:"string"}},a),u.next=3,this.messageModuleService.getLastMessageOfChannels(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.qchatOnMsgHandler=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:this.messageModuleService.onMsg(a);case 1:case"end":return u.stop()}},l,this)}))},f.qchatOnRecvUnreadInfoHandler=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:this.messageModuleService.onRecvUnreadInfo(a);case 1:case"end":return u.stop()}},l,this)}))},f.qchatOnSysMsgHandler=function(a){this.notificationModuleService.onSysMsg(a)},f.qchatMultiSyncMessageReadHandler=function(a){this.messageModuleService.onMultiSyncRead(a)},f.qchatMultiSyncSystemNotificationUpdateHandler=function(a){this.notificationModuleService.onMultiSysMsg(a)},f.qchatSyncSystemNotificationHandler=function(a){this.notificationModuleService.onSyncSysMsg(a)},f.qchatRecvMessageUpdateHandler=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:this.messageModuleService.onRecvMsgUpdate(a);case 1:case"end":return u.stop()}},l,this)}))},f.searchMsgByPage=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({keyword:{type:"string",allowEmpty:!1,required:!1},serverId:{type:"string",allowEmpty:!1,required:!0},channelId:{type:"string",allowEmpty:!1,required:!1},fromAccid:{type:"string",allowEmpty:!1,required:!1},fromTime:{type:"number",allowEmpty:!1,required:!1},toTime:{type:"number",allowEmpty:!1,required:!1},msgTypes:{type:"array",itemType:"string",allowEmpty:!1,required:!0},subTypes:{type:"array",itemType:"string",allowEmpty:!1,required:!1},includeSelf:{type:"boolean",allowEmpty:!1,required:!1},order:{type:"enum",values:Kr(Xp),required:!1},limit:{type:"number",min:0,required:!1},sort:{type:"enum",values:Kr(XC),required:!1},cursor:{type:"string",allowEmpty:!1,required:!1}},a),u.next=3,this.messageModuleService.messageSearchByPage(a);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},l,this)}))},f.qchatMultiSyncServersMessageReadHandler=function(a){this.messageModuleService.onMultiSyncServersRead(a)},y}(JS),Yae=function(){function p(f){this.core=f}var y=p.prototype;return y.addChannelCategoryRole=function(o){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},categoryId:{type:"string",allowEmpty:!1},parentRoleId:{type:"string",allowEmpty:!1}},o),u.next=3,this.core.sendCmd("qchatAddChannelCategoryRole",{qchatAddChannelCategoryRoleTag:o});case 3:return l=u.sent,u.abrupt("return",vw(l.content.channelCategoryRole));case 5:case"end":return u.stop()}},a,this)}))},y.removeChannelCategoryRole=function(o){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},categoryId:{type:"string",allowEmpty:!1},roleId:{type:"string",allowEmpty:!1}},o),c.next=3,this.core.sendCmd("qchatRemoveChannelCategoryRole",o);case 3:case"end":return c.stop()}},a,this)}))},y.updateChannelCategoryRole=function(o){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},categoryId:{type:"string",allowEmpty:!1},roleId:{type:"string",allowEmpty:!1},auths:{type:"object"}},o),u.next=3,this.core.sendCmd("qchatUpdateChannelCategoryRole",{qchatUpdateChannelCategoryRoleTag:em(o)});case 3:if((l=u.sent).raw.code!==406){u.next=6;break}throw new Or("No update required",{},406);case 6:return u.abrupt("return",vw(l.content.channelCategoryRole));case 7:case"end":return u.stop()}},a,this)}))},y.getChannelCategoryRole=function(o){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},categoryId:{type:"string",allowEmpty:!1},timetag:{type:"number",min:0,required:!1},limit:{type:"number",min:1,required:!1}},o),u.next=3,this.core.sendCmd("qchatGetChannelCategoryRole",{qchatGetChannelCategoryRoleTag:o});case 3:return l=u.sent,u.abrupt("return",(h=l.content.list,Nr(h)&&h.length>0?Qe(h).call(h,function(C){return vw(C)}):[]));case 5:case"end":return u.stop()}var h},a,this)}))},y.addChannelCategoryMemberRole=function(o){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},categoryId:{type:"string",allowEmpty:!1},accid:{type:"string",allowEmpty:!1}},o),u.next=3,this.core.sendCmd("qchatAddChannelCategoryMemberRole",{qchatAddChannelCategoryMemberRoleTag:o});case 3:return l=u.sent,u.abrupt("return",yw(l.content.channelCategoryMemberRole));case 5:case"end":return u.stop()}},a,this)}))},y.removeChannelCategoryMemberRole=function(o){return le(this,void 0,void 0,q.mark(function a(){return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},categoryId:{type:"string",allowEmpty:!1},accid:{type:"string",allowEmpty:!1}},o),c.next=3,this.core.sendCmd("qchatRemoveChannelCategoryMemberRole",o);case 3:case"end":return c.stop()}},a,this)}))},y.updateChannelCategoryMemberRole=function(o){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},categoryId:{type:"string",allowEmpty:!1},accid:{type:"string",allowEmpty:!1},auths:{type:"object"}},o),u.next=3,this.core.sendCmd("qchatUpdateChannelCategoryMemberRole",{qchatUpdateChannelCategoryMemberRoleTag:em(o)});case 3:if((l=u.sent).raw.code!==406){u.next=6;break}throw new Or("No update required",{},406);case 6:return u.abrupt("return",yw(l.content.channelCategoryMemberRole));case 7:case"end":return u.stop()}},a,this)}))},y.getChannelCategoryMemberRole=function(o){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},categoryId:{type:"string",allowEmpty:!1},timetag:{type:"number",min:0,required:!1},limit:{type:"number",min:1,required:!1}},o),u.next=3,this.core.sendCmd("qchatGetChannelCategoryMemberRole",{qchatGetChannelCategoryMemberRoleTag:o});case 3:return l=u.sent,u.abrupt("return",(h=l.content.list,Nr(h)&&h.length>0?Qe(h).call(h,function(C){return yw(C)}):[]));case 5:case"end":return u.stop()}var h},a,this)}))},p}(),Xae=function(p){function y(o){var a;return(a=p.call(this,"qchatRole",o)||this).core=o,Wr({cmdMap:Pae,cmdConfig:Dae()}),a.category=new Yae(o),a}pr(y,p);var f=y.prototype;return f.createServerRole=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},name:{type:"string",allowEmpty:!1},priority:{type:"number",min:1},icon:{type:"string",required:!1},ext:{type:"string",required:!1}},a),h.next=3,this.core.sendCmd("qchatCreateServerRole",{serverRole:ce(ce({},em(a)),{type:tI.custom}),antispamTag:Zp(a)});case 3:return c=h.sent,h.abrupt("return",jl(c.content.serverRole));case 5:case"end":return h.stop()}},l,this)}))},f.updateServerRole=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},roleId:{type:"string",allowEmpty:!1},name:{type:"string",required:!1},icon:{type:"string",required:!1},ext:{type:"string",required:!1},priority:{type:"number",required:!1},auths:{type:"object",required:!1}},a),h.next=3,this.core.sendCmd("qchatUpdateServerRole",{updateServerRoleTag:em(a),antispamTag:Zp(a)});case 3:return c=h.sent,h.abrupt("return",jl(c.content.serverRole));case 5:case"end":return h.stop()}},l,this)}))},f.deleteServerRole=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},roleId:{type:"string",allowEmpty:!1}},a),u.next=3,this.core.sendCmd("qchatDeleteServerRole",a);case 3:case"end":return u.stop()}},l,this)}))},f.getServerRoles=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1,required:!1},categoryId:{type:"string",allowEmpty:!1,required:!1},limit:{type:"number",min:1,required:!1},priority:{type:"number",required:!1}},a),x.next=3,this.core.sendCmd("qchatGetServerRoles",{getServerRolesTag:em(a)});case 3:return u=x.sent,h=Tn(c=u.content.serverRoles).call(c,function(k){return un(k.isMember)===1}),h=Qe(h).call(h,function(k){return k.roleId}),x.abrupt("return",{roles:Vl(u.content.serverRoles),isMemberRoles:h});case 7:case"end":return x.stop()}},l,this)}))},f.addChannelRole=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},parentRoleId:{type:"string",allowEmpty:!1}},a),h.next=3,this.core.sendCmd("qchatAddChannelRole",{channelRole:em(a)});case 3:return c=h.sent,h.abrupt("return",jl(c.content.channelRole));case 5:case"end":return h.stop()}},l,this)}))},f.getChannelRoles=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},timetag:{type:"number",required:!1},limit:{type:"number",min:1,required:!1}},a),h.next=3,this.core.sendCmd("qchatGetChannelRoles",{getChannelRolesTag:a});case 3:return c=h.sent,h.abrupt("return",Vl(c.content.channelRoles));case 5:case"end":return h.stop()}},l,this)}))},f.removeChannelRole=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},roleId:{type:"string",allowEmpty:!1}},a),u.next=3,this.core.sendCmd("qchatRemoveChannelRole",a);case 3:case"end":return u.stop()}},l,this)}))},f.updateChannelRole=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},roleId:{type:"string",allowEmpty:!1},auths:{type:"object",required:!1}},a),h.next=3,this.core.sendCmd("qchatUpdateChannelRole",{updateChannelRoleTag:em(a)});case 3:if((c=h.sent).raw.code!==406){h.next=6;break}throw new Or("No update required",{},406);case 6:return h.abrupt("return",jl(c.content.channelRole));case 7:case"end":return h.stop()}},l,this)}))},f.addMemberRole=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},accid:{type:"string",allowEmpty:!1}},a),h.next=3,this.core.sendCmd("qchatAddMemberRole",{memberRole:a});case 3:return c=h.sent,h.abrupt("return",jl(c.content.memberRole));case 5:case"end":return h.stop()}},l,this)}))},f.getMemberRoles=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},timetag:{type:"number",required:!1},limit:{type:"number",min:1,required:!1}},a),h.next=3,this.core.sendCmd("qchatGetMemberRoles",{getMemberRolesTag:a});case 3:return c=h.sent,h.abrupt("return",Vl(c.content.memberRoles));case 5:case"end":return h.stop()}},l,this)}))},f.removeMemberRole=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},accid:{type:"string",allowEmpty:!1}},a),u.next=3,this.core.sendCmd("qchatRemoveMemberRole",{memberRole:a});case 3:case"end":return u.stop()}},l,this)}))},f.updateMemberRole=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},accid:{type:"string",allowEmpty:!1},auths:{type:"object",required:!1}},a),h.next=3,this.core.sendCmd("qchatUpdateMemberRole",{updateMemberRoleTag:em(a)});case 3:if((c=h.sent).raw.code!==406){h.next=6;break}throw new Or("No update required",{},406);case 6:return h.abrupt("return",jl(c.content.memberRole));case 7:case"end":return h.stop()}},l,this)}))},f.addMembersToServerRole=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},roleId:{type:"string",allowEmpty:!1},accids:{type:"array",itemType:"string",min:1}},a),x.next=3,this.core.sendCmd("qchatAddMembersToServerRole",ce(ce({},a),{accids:$t(a.accids)}));case 3:return c=x.sent,u=Ht(c,"content.accids.successAccids"),h=Ht(c,"content.accids.failedAccids"),x.abrupt("return",{successAccids:u?JSON.parse(u):[],failedAccids:h?JSON.parse(h):[]});case 7:case"end":return x.stop()}},l,this)}))},f.removeMembersFromServerRole=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},roleId:{type:"string",allowEmpty:!1},accids:{type:"array",itemType:"string",min:1}},a),x.next=3,this.core.sendCmd("qchatRemoveMembersFromServerRole",ce(ce({},a),{accids:$t(a.accids)}));case 3:return c=x.sent,u=Ht(c,"content.accids.successAccids"),h=Ht(c,"content.accids.failedAccids"),x.abrupt("return",{successAccids:u?JSON.parse(u):[],failedAccids:h?JSON.parse(h):[]});case 7:case"end":return x.stop()}},l,this)}))},f.getMembersFromServerRole=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},roleId:{type:"string",allowEmpty:!1},timetag:{type:"number",required:!1},accid:{type:"string",allowEmpty:!1,required:!1},limit:{type:"number",min:1,required:!1}},a),h.next=3,this.core.sendCmd("qchatGetMembersFromServerRole",{getMembersFromServerRoleTag:a});case 3:return c=h.sent,h.abrupt("return",Vl(c.content.members));case 5:case"end":return h.stop()}},l,this)}))},f.getServerRolesByAccid=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},accid:{type:"string",allowEmpty:!1},timetag:{type:"number",required:!1},limit:{type:"number",min:1,required:!1}},a),h.next=3,this.core.sendCmd("qchatGetServerRolesByAccid",{getServerRolesByAccidTag:a});case 3:return c=h.sent,h.abrupt("return",Vl(c.content.serverRoles));case 5:case"end":return h.stop()}},l,this)}))},f.getExistingServerRolesByAccids=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},accids:{type:"array",itemType:"string"}},a),x.next=3,this.core.sendCmd("qchatGetExistingServerRolesByAccids",{serverId:a.serverId,accids:$t(a.accids)});case 3:return c=x.sent,x.prev=4,h=JSON.parse(c.content.serverRoles),rt(u=Gn(h)).call(u,function(k){var B;rt(B=h[k]).call(B,function(W,Y){h[k][Y]=Rr(W,Xf().serverRole)}),h[k]=Vl(h[k])}),x.abrupt("return",h);case 10:throw x.prev=10,x.t0=x.catch(4),this.logger.error("can not parse serverRolesGroupByAccid from "+a.serverId+" and "+a.accids,c.content.serverRoles),x.t0;case 14:case"end":return x.stop()}},l,this,[[4,10]])}))},f.getExistingChannelRolesByServerRoleIds=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},roleIds:{type:"array",itemType:"string"}},a),h.next=3,this.core.sendCmd("qchatGetExistingChannelRolesByServerRoleIds",{serverId:a.serverId,channelId:a.channelId,roleIds:$t(a.roleIds)});case 3:return c=h.sent,h.abrupt("return",Vl(c.content.channelRoles));case 5:case"end":return h.stop()}},l,this)}))},f.getExistingAccidsOfMemberRoles=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1},accids:{type:"array",itemType:"string"}},a),C.next=3,this.core.sendCmd("qchatGetExistingAccidsOfMemberRoles",{serverId:a.serverId,channelId:a.channelId,accids:$t(a.accids)});case 3:return c=C.sent,u=c.content.memberRoles,C.abrupt("return",u&&u.length>0?Qe(u).call(u,function(x){return x.accid}):[]);case 6:case"end":return C.stop()}},l,this)}))},f.getExistingAccidsInServerRole=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},roleId:{type:"string",allowEmpty:!1},accids:{type:"array",itemType:"string"}},a),C.next=3,this.core.sendCmd("qchatGetExistingAccidsInServerRole",{serverId:a.serverId,roleId:a.roleId,accids:$t(a.accids)});case 3:return c=C.sent,u=c.content.members,C.abrupt("return",u&&u.length>0?Qe(u).call(u,function(x){return x.accid}):[]);case 6:case"end":return C.stop()}},l,this)}))},f.updateServerRolePriorities=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},serverRoles:{type:"array"}},a),C.next=3,this.core.sendCmd("qchatUpdateServerRolePriorities",{serverId:a.serverId,serverRoles:Qe(c=a.serverRoles).call(c,function(x){return{serverId:x.serverId,roleId:x.roleId,priority:x.priority}})});case 3:return u=C.sent,C.abrupt("return",Vl(u.content.serverRoles));case 5:case"end":return C.stop()}},l,this)}))},f.checkPermission=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1,required:!1},auth:{type:"string"}},a),h.next=3,this.core.sendCmd("qchatCheckPermission",{checkPermissionTag:ce(ce({},a),{auth:Nv[a.auth]||a.auth})});case 3:return c=h.sent,h.abrupt("return",c.content.checked);case 5:case"end":return h.stop()}},l,this)}))},f.addChannelCategoryRole=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.category.addChannelCategoryRole(a);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},l,this)}))},f.removeChannelCategoryRole=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.category.removeChannelCategoryRole(a);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},l,this)}))},f.updateChannelCategoryRole=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.category.updateChannelCategoryRole(a);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},l,this)}))},f.getChannelCategoryRole=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.category.getChannelCategoryRole(a);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},l,this)}))},f.addChannelCategoryMemberRole=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.category.addChannelCategoryMemberRole(a);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},l,this)}))},f.removeChannelCategoryMemberRole=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.category.removeChannelCategoryMemberRole(a);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},l,this)}))},f.updateChannelCategoryMemberRole=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.category.updateChannelCategoryMemberRole(a);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},l,this)}))},f.getChannelCategoryMemberRole=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.category.getChannelCategoryMemberRole(a);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},l,this)}))},f.checkPermissions=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},channelId:{type:"string",allowEmpty:!1,required:!1},auths:{type:"array",itemType:"string"}},a),this.core.logger.log("qchatRole::checkPermission options is",a),k.next=4,this.core.sendCmd("qchatCheckPermissions",{checkPermissionsTag:ce(ce({},a),{auths:$t(Qe(c=a.auths).call(c,function(B){return Nv[B]||B}))})});case 4:return h=k.sent,this.core.logger.log("qchatRole::checkPermission result is",h.content),C={},rt(u=h.content.checkPermissionsResult).call(u,function(B){C[B.auth]=B.isAllow}),this.core.logger.log("qchatRole::checkPermission auths is",C),k.abrupt("return",rI(C));case 10:case"end":return k.stop()}},l,this)}))},y}(JS);function Jae(p,y){var f,o=Ma!==void 0&&Eo(p)||p["@@iterator"];if(o)return cn(f=(o=o.call(p)).next).call(f,o);if(Nr(p)||(o=function(c,u){if(c){var h;if(typeof c=="string")return jU(c,u);var C=zn(h={}.toString.call(c)).call(h,8,-1);return C==="Object"&&c.constructor&&(C=c.constructor.name),C==="Map"||C==="Set"?ma(c):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?jU(c,u):void 0}}(p))||y){o&&(p=o);var a=0;return function(){return a>=p.length?{done:!0}:{done:!1,value:p[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jU(p,y){(y==null||y>p.length)&&(y=p.length);for(var f=0,o=Array(y);f<y;f++)o[f]=p[f];return o}var Qae=function(p){function y(o){var a;return(a=p.call(this,"qchatServer",o)||this).core=o,Wr({cmdMap:kae,cmdConfig:Lae()}),a}pr(y,p);var f=y.prototype;return f.createServer=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({icon:{type:"string",required:!1},name:{type:"string",required:!1},ext:{type:"string",required:!1},searchType:{type:"number",required:!1,min:0},searchEnable:{type:"boolean",required:!1},inviteMode:{type:"number",min:0,max:1,required:!1},applyMode:{type:"number",min:0,max:1,required:!1}},a),h.next=3,this.core.sendCmd("qchatCreateServer",{serverInfo:ce(ce({},a),{searchEnable:a.searchEnable===!1?0:1}),antispamTag:Zp(a)});case 3:return c=h.sent,h.abrupt("return",KC(c.content.serverInfo));case 5:case"end":return h.stop()}},l,this)}))},f.deleteServer=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",min:1}},a),u.next=3,this.core.sendCmd("qchatDeleteServer",a);case 3:case"end":return u.stop()}},l,this)}))},f.updateServer=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",min:1},icon:{type:"string",required:!1},name:{type:"string",required:!1},ext:{type:"string",required:!1},searchType:{type:"number",required:!1,min:0},searchEnable:{type:"boolean",required:!1},inviteMode:{type:"number",min:0,max:1,required:!1},applyMode:{type:"number",min:0,max:1,required:!1}},a),h.next=3,this.core.sendCmd("qchatUpdateServer",{serverInfo:ce(ce({},a),{searchEnable:a.searchEnable===!1?0:1}),antispamTag:Zp(a)});case 3:return c=h.sent,h.abrupt("return",KC(c.content.serverInfo));case 5:case"end":return h.stop()}},l,this)}))},f.getServers=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverIds:{type:"array",itemType:"string",min:1}},a),h.next=3,this.core.sendCmd("qchatGetServers",a);case 3:return c=h.sent,h.abrupt("return",gw(c.content.serverList));case 5:case"end":return h.stop()}},l,this)}))},f.getServersByPage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({timestamp:{type:"number"},limit:{type:"number",min:1,required:!1}},a),k.next=3,this.core.sendCmd("qchatGetServersByPage",{tag:a});case 3:return c=k.sent,u=c.content,h=u.datas,C=u.listQueryTag,k.abrupt("return",{listQueryTag:{hasMore:+C.hasMore==1,nextTimetag:un(C.nextTimetag)},datas:gw(h)});case 6:case"end":return k.stop()}},l,this)}))},f.inviteServerMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge({serverId:{type:"string",min:1},accids:{type:"array",itemType:"string",min:1},ps:{type:"string"},params:{type:"object",rules:{ttl:{type:"number"}},required:!1}},a),C.next=3,this.core.sendCmd("qchatInviteServerMembers",a);case 3:return c=C.sent,u=c.content.record||{},C.abrupt("return",{failByOverAccids:c.content.failByOverAccids,failByBanAccids:c.content.failByBanAccids,recordInfo:hw(u)});case 6:case"end":return C.stop()}},l,this)}))},f.acceptServerInvite=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},accid:{type:"string",allowEmpty:!1},recordInfo:{type:"object",rules:{requestId:{type:"string",allowEmpty:!1}}}},a),u.next=3,this.core.sendCmd("qchatAcceptServerInvite",a);case 3:case"end":return u.stop()}},l,this)}))},f.rejectInviteServer=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",min:1},accid:{type:"string",min:1},ps:{type:"string"},recordInfo:{type:"object",rules:{requestId:{type:"string",allowEmpty:!1}}}},a),u.next=3,this.core.sendCmd("qchatRejectInviteServer",a);case 3:case"end":return u.stop()}},l,this)}))},f.applyServerJoin=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",min:1},ps:{type:"string"},params:{type:"object",rules:{ttl:{type:"number"}},required:!1}},a),h.next=3,this.core.sendCmd("qchatApplyServerJoin",a);case 3:return c=h.sent,h.abrupt("return",hw(c.content.data));case 5:case"end":return h.stop()}},l,this)}))},f.acceptServerApply=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",min:1},accid:{type:"string",min:1},recordInfo:{type:"object",rules:{requestId:{type:"string",allowEmpty:!1}}}},a),u.next=3,this.core.sendCmd("qchatAcceptServerApply",a);case 3:case"end":return u.stop()}},l,this)}))},f.rejectServerApply=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",min:1},accid:{type:"string",min:1},ps:{type:"string"},recordInfo:{type:"object",rules:{requestId:{type:"string",allowEmpty:!1}}}},a),u.next=3,this.core.sendCmd("qchatRejectServerApply",a);case 3:case"end":return u.stop()}},l,this)}))},f.kickServerMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",min:1},accids:{type:"array",itemType:"string",min:1}},a),u.next=3,this.core.sendCmd("qchatKickServerMembers",a);case 3:case"end":return u.stop()}},l,this)}))},f.leaveServer=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",min:1}},a),u.next=3,this.core.sendCmd("qchatLeaveServer",a);case 3:case"end":return u.stop()}},l,this)}))},f.updateMyMemberInfo=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",min:1},accid:{type:"string",required:!1},nick:{type:"string",allowEmpty:!0,required:!1},avatar:{type:"string",required:!1},ext:{type:"string",required:!1}},a),h.next=3,this.core.sendCmd("qchatUpdateMyMemberInfo",{memberInfo:a,antispamTag:Zp(a)});case 3:return c=h.sent,h.abrupt("return",WC(c.content.memberInfo));case 5:case"end":return h.stop()}},l,this)}))},f.updateServerMemberInfo=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",min:1},accid:{type:"string",min:1},nick:{type:"string",required:!1},avatar:{type:"string",required:!1}},a),h.next=3,this.core.sendCmd("qchatUpdateServerMemberInfo",{memberInfo:a,antispamTag:Zp(a)});case 3:return c=h.sent,h.abrupt("return",WC(c.content.memberInfo));case 5:case"end":return h.stop()}},l,this)}))},f.getServerMembers=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(ge({accids:{type:"array"}},a),c=[],a.accids.length)for(u=Jae(a.accids);!(h=u()).done;)C=h.value,c.push(C.serverId+"|"+C.accid);return B.next=5,this.core.sendCmd("qchatGetServerMembers",{accids:c});case 5:return x=B.sent,B.abrupt("return",Qp(x.content.accidList));case 7:case"end":return B.stop()}},l,this)}))},f.getServerMembersByPage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({serverId:{type:"string",min:1},timetag:{type:"number"},limit:{type:"number",min:1,required:!1}},a),k.next=3,this.core.sendCmd("qchatGetServerMembersByPage",{tag:a});case 3:return c=k.sent,u=c.content,h=u.datas,C=u.listQueryTag,k.abrupt("return",{listQueryTag:{hasMore:+C.hasMore==1,nextTimetag:un(C.nextTimetag)},datas:Qp(h)});case 6:case"end":return k.stop()}},l,this)}))},f.subscribeServer=function(a){var l,c,u,h;return le(this,void 0,void 0,q.mark(function C(){var x,k,B,W;return q.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(ge({type:{type:"number",min:4,max:4,required:!1},opeType:{type:"number",min:1,max:2}},a),!(!((c=(l=this.core.qchatChannel)===null||l===void 0?void 0:l.config)===null||c===void 0)&&c.autoSubscribe)||a.isInternalTrigger){ne.next=3;break}throw new Or("subscribe server failed, manual subscribe is not allowed in auto subscribe mode",{},403);case 3:if(a.type||(a.type=4),!a.servers.length){ne.next=12;break}return k=ce(ce({},a),{channels:Qe(x=a.servers).call(x,function(se){return{serverId:se.serverId,channelId:""}})}),ne.next=8,this.core.qchatChannel.subscribeModuleService.subscribe(k);case 8:return B=ne.sent,W=B.failedChannels,!((h=(u=this.core.qchatChannel)===null||u===void 0?void 0:u.config)===null||h===void 0)&&h.autoSubscribe?this.core.qchatChannel.subscribeModuleService.cacheAutoSubscribe(k):this.core.qchatChannel.subscribeModuleService.cacheSubscribe(k),ne.abrupt("return",{failedServers:W});case 12:case"end":return ne.stop()}},C,this)}))},f.banServerMember=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},accid:{type:"string",allowEmpty:!1},ext:{type:"string",required:!1}},a),u.next=3,this.core.sendCmd("qchatUpdateServerMemberBan",{tag:ce(ce({},a),{opeType:1})});case 3:case"end":return u.stop()}},l,this)}))},f.unbanServerMember=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},accid:{type:"string",allowEmpty:!1},ext:{type:"string",required:!1}},a),u.next=3,this.core.sendCmd("qchatUpdateServerMemberBan",{tag:ce(ce({},a),{opeType:2})});case 3:case"end":return u.stop()}},l,this)}))},f.getBannedMembersByPage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},timetag:{type:"number",min:0},limit:{type:"number",min:1,required:!1}},a),k.next=3,this.core.sendCmd("qchatGetBannedMembersByPage",{tag:a});case 3:return c=k.sent,u=c.content,h=u.datas,C=u.listQueryTag,k.abrupt("return",{listQueryTag:{hasMore:+C.hasMore==1,nextTimetag:un(C.nextTimetag)},datas:pae(h)});case 6:case"end":return k.stop()}},l,this)}))},f.serverSearchByPage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(ge({keyword:{type:"string",allowEmpty:!1},startTime:{type:"number",min:0,required:!1},endTime:{type:"number",min:0,required:!1},limit:{type:"number",min:1,required:!1},serverType:{type:"array",itemType:"number",min:0,required:!1},order:{type:"enum",values:Kr(Xp),required:!1},searchType:{type:"enum",values:Kr(HC)},sort:{type:"enum",values:Kr(zC),required:!1},cursor:{type:"string",allowEmpty:!1,required:!1}},a),!(a.startTime&&a.endTime&&a.startTime>=a.endTime)){k.next=3;break}throw new fc("startTime more than endTime",a,"timeRule");case 3:return k.next=5,this.core.sendCmd("qchatServerSearchByPage",{tag:ce(ce({},a),{order:a.order&&Xp[a.order],searchType:HC[a.searchType],sort:mn(a)&&zC[mn(a)],serverType:$t(a.serverType)})});case 5:return c=k.sent,u=c.content,h=u.datas,C=u.listQueryTag,k.abrupt("return",{listQueryTag:{hasMore:+C.hasMore==1,nextTimetag:un(C.nextTimetag),cursor:C.cursor},datas:gw(h)});case 8:case"end":return k.stop()}},l,this)}))},f.serverMemberSearchByPage=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},keyword:{type:"string",allowEmpty:!1},limit:{type:"number",min:1,required:!1}},a),h.next=3,this.core.sendCmd("qchatServerMemberSearchByPage",{tag:a});case 3:return c=h.sent,h.abrupt("return",Qp(c.content.members));case 5:case"end":return h.stop()}},l,this)}))},f.generateInviteCode=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},ttl:{type:"number",min:0,required:!1}},a),h.next=3,this.core.sendCmd("qchatGenerateInviteCode",{tag:a});case 3:return c=h.sent,h.abrupt("return",oa({expireTime:{type:"number"}},c.content.data));case 5:case"end":return h.stop()}},l,this)}))},f.joinByInviteCode=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},inviteCode:{type:"string",allowEmpty:!1},ps:{type:"string",required:!1}},a),u.next=3,this.core.sendCmd("qchatJoinByInviteCode",{tag:a});case 3:case"end":return u.stop()}},l,this)}))},f.getInviteApplyRecordOfServer=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({serverId:{type:"string",allowEmpty:!1},fromTime:{type:"number",min:0},toTime:{type:"number",min:0},reverse:{type:"boolean",required:!1},limit:{type:"number",min:1,required:!1},cursor:{type:"string",allowEmpty:!1,required:!1}},a),h.next=3,this.core.sendCmd("qchatGetInviteApplyRecordOfServer",{tag:ce(ce({},a),{reverse:js(a)?1:0})});case 3:return c=h.sent,h.abrupt("return",CU(c.content.data));case 5:case"end":return h.stop()}},l,this)}))},f.getInviteApplyRecordOfSelf=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return ge({fromTime:{type:"number",min:0},toTime:{type:"number",min:0},reverse:{type:"boolean",required:!1},limit:{type:"number",min:1,required:!1},cursor:{type:"string",allowEmpty:!1,required:!1}},a),h.next=3,this.core.sendCmd("qchatGetInviteApplyRecordOfSelf",{tag:ce(ce({},a),{reverse:js(a)?1:0})});case 3:return c=h.sent,h.abrupt("return",CU(c.content.data));case 5:case"end":return h.stop()}},l,this)}))},f.markRead=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({serverIds:{type:"array",itemType:"string",required:!0}},a),k.next=3,this.core.sendCmd("qchatClearServersUnread",a);case 3:return c=k.sent,u=TU(c.content.clearServersUnreadTag),h=u.successServerIds,C=u.ackTimestamp,this.logger.log("qchatServer::clearServersUnread:: begin auto clear servers unreadInfo"),this.core.eventBus.emit("qchatChannel/clearUnreadCountByServers",h,C),k.abrupt("return",u);case 9:case"end":return k.stop()}},l,this)}))},f.subscribeAllChannel=function(a){var l,c;return le(this,void 0,void 0,q.mark(function u(){var h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(ge({type:{type:"number",required:!0},serverIds:{type:"array",itemType:"string",required:!0,max:10}},a),!(!((c=(l=this.core.qchatChannel)===null||l===void 0?void 0:l.config)===null||c===void 0)&&c.autoSubscribe)){B.next=3;break}throw new Or("subscribe channel failed, manual subscribe is not allowed in auto subscribe mode.",{},403);case 3:return B.next=5,this.core.sendCmd("qchatSubscribeChannelsByServers",a,{timeout:3e4});case 5:return(C=B.sent).content.unreadInfos=ZS(C.content.unreadInfos),C.content.failServerIds=fw(C.content.failServerIds),x={type:a.type,opeType:1,channels:Qe(h=C.content.unreadInfos).call(h,function(W){return{serverId:W.serverId,channelId:W.channelId}})},this.core.eventBus.emit("qchatChannel/cacheSubscribe",x),this.core.eventBus.emit("qchatChannel/getRoleIdsByServerId",a.serverIds),this.core.eventBus.emit("qchatChannel/updateUnreads",C.content.unreadInfos),B.abrupt("return",C.content);case 13:case"end":return B.stop()}},u,this)}))},f.enterAsVisitor=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ge({serverIds:{type:"array",itemType:"string",min:1}},a),x.next=3,this.core.sendCmd("qchatEnterAsVisitor",{tag:{serverIds:$t(a.serverIds)}});case 3:return c=x.sent,u=fw(c.content.failServerIds),h=Ol(a.serverIds,u),this.core.qchatChannel.subscribeForVisitorService.cacheServer(h),x.abrupt("return",{failedServers:u});case 8:case"end":return x.stop()}},l,this)}))},f.leaveAsVisitor=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C=this;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({serverIds:{type:"array",itemType:"string",min:1}},a),k.next=3,this.core.sendCmd("qchatLeaveAsVisitor",{tag:{serverIds:$t(a.serverIds)}});case 3:return c=k.sent,u=fw(c.content.failServerIds),h=Ol(a.serverIds,u),rt(h).call(h,function(B){C.core.qchatChannel.subscribeForVisitorService.deleteServer(B)}),k.abrupt("return",{failedServers:u});case 8:case"end":return k.stop()}},l,this)}))},f.subscribeAsVisitor=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(ge({opeType:{type:"number",min:1,max:2},type:{type:"number",required:!1},serverIds:{type:"array",itemType:"string",min:1}},a),!a.serverIds.length){u.next=5;break}return u.next=4,this.core.qchatChannel.subscribeForVisitorService.subscribeServerAsVisitor(a);case 4:return u.abrupt("return",u.sent);case 5:return u.abrupt("return",{failedServers:[]});case 6:case"end":return u.stop()}},l,this)}))},y}(JS),Zae=function(p){function y(o,a){var l;return(l=p.call(this,"V2NIMNotificationService",o)||this).config={compatibleWithV1:!0},l.notificationUtil=new zV(l.core),l.core._registerDep(Vf,"V2NIMConversationIdUtil"),l.core.options.apiVersion!=="v2"?er(l):(Wr({cmdMap:Cee,cmdConfig:Tee}),l.setOptions(a),l)}pr(y,p);var f=y.prototype;return f.setOptions=function(a){var l;!((l=this.core.systemMessage)===null||l===void 0)&&l.name?this.config.compatibleWithV1=!0:this.config.compatibleWithV1=!1,this.config=ce(this.config,a)},f.emit=function(a){for(var l,c,u=this.name+"::emit "+a.toString(),h=arguments.length,C=new Array(h>1?h-1:0),x=1;x<h;x++)C[x-1]=arguments[x];if(a==="onReceiveCustomNotifications"){var k=C[0];this.logger.log(""+u,Qe(k).call(k,function(ne){return"sender:"+ne.senderId+";receiver:"+ne.receiverId+";ctype:"+ne.conversationType+";time:"+ne.timestamp}))}else if(a==="onReceiveBroadcastNotifications"){var B=C[0];this.logger.log(""+u,Qe(B).call(B,function(ne){return"id:"+ne.id+";sender:"+ne.senderId+";time:"+ne.timestamp}))}else{var W,Y;(W=this.logger).log.apply(W,Bn(Y=[""+u]).call(Y,C))}return(l=p.prototype.emit).call.apply(l,Bn(c=[this,a]).call(c,C))},f.sendCustomNotification=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return this.checkV2(),Za(this.core.account,a),ge(qV,{content:l,params:c},"",!0),h=this.core.V2NIMConversationIdUtil.parseConversationType(a),C=h===3?"v2SendCustomNotificationWithSuperTeam":"v2SendCustomNotification",x=this.notificationUtil.generateNotificationTag(a,l,c),B.next=8,this.core.sendCmd(C,{tag:x});case 8:case"end":return B.stop()}},u,this)}))},f.processSystemNotification=function(a){var l=[0,1,2,3,4,15,16,17,18],c=[5,6],u=a.type;if(or(l).call(l,u))this.core.eventBus.emit("V2NIMTeamService/sysNotification",a);else{if(!or(c).call(c,u)){var h=ce(ce({},a),{conversationType:{100:1,101:2,102:1,103:3}[u]});return delete h.type,h}this.core.eventBus.emit("V2NIMFriendService/sysNotification",a)}},f.markBroadcastMsgAck=function(a){this.config.compatibleWithV1||this.core.sendCmd("v2BatchMarkRead",{sid:7,cid:17,ids:Qe(a).call(a,function(l){return l.id})})},f.syncBroadcastMsgHandler=function(a){var l=this,c=a.content.datas;this.markBroadcastMsgAck(c),rt(c).call(c,function(u){l.core.eventBus.emit("V2NIMSync/updateTimetag",{broadcastMsgs:un(u.id)})}),this.emit("onReceiveBroadcastNotifications",c)},f.onBroadcastMsgHandler=function(a){var l=a.content.data;this.markBroadcastMsgAck([l]),this.core.eventBus.emit("V2NIMSync/updateTimetag",{broadcastMsgs:un(l.id)}),this.emit("onReceiveBroadcastNotifications",[l])},f.onSysNotificationHandler=function(a){var l=Bs(a,a.content.data,"idServer");this.markSysNotificationAck([l]);var c=this.processSystemNotification(l);c&&this.emit("onReceiveCustomNotifications",[c])},f.v2SyncOfflineSysNotificationsHandler=function(a){var l,c,u,h=this;this.markSysNotificationAck(a.content.datas);var C=Tn(l=Qe(c=mn(u=a.content.datas).call(u,function(x,k){return x.timestamp-k.timestamp})).call(c,function(x){return h.processSystemNotification(x)})).call(l,function(x){return x});C&&this.emit("onReceiveCustomNotifications",C)},f.v2NotificationRevokeHandler=function(a){var l=Bs(a,a.content.data,"idServer");this.markSysNotificationAck([l])},f.v2NotificationSyncRevokeHandler=function(a){var l=a.content.type;un(l)===1&&this.markSysNotificationAck(a.content.datas)},f.markSysNotificationAck=function(a){if(!this.config.compatibleWithV1){var l=[],c=[],u=[15,16,17,18,103];rt(a).call(a,function(h){h.idServer&&(or(u).call(u,h.type)?c.push(h.idServer):l.push(h.idServer))}),l.length>0&&this.core.sendCmd("v2BatchMarkRead",{sid:"7",cid:"3",ids:l}),c.length>0&&this.core.sendCmd("v2BatchMarkRead",{sid:"21",cid:"19",ids:c})}},y}(ji),eie={"27_1":"v2NIMSync","27_10":"v2QChatSync"},tie={v2NIMSync:{sid:27,cid:1,service:"V2NIMSyncService",hasPacketTimer:!1,params:[{type:"Property",name:"tag",reflectMapper:{myInfo:1,offlineMsgs:2,teams:3,roamingMsgs:7,relations:9,friends:11,friendUsers:13,msgReceipts:14,myTeamMembers:15,donnop:16,recallMsg:17,sessionAck:18,broadcastMsgs:20,avSignal:21,superTeams:22,mySuperTeamMembers:23,superTeamRoamingMsgs:24,deleteSuperTeamMsg:25,superTeamSessionAck:26,deleteSelfMsgs:27,stickTopSessions:28,sessionHistoryMsgsDelete:29,p2pTeamModifyMessage:30,superTeamModifyMessage:31,filterMsgs:100}}],response:[{type:"Long",name:"timetag"}]},v2QChatSync:{sid:27,cid:10,service:"V2NIMSyncService",hasPacketTimer:!1,params:[{type:"Property",name:"tag",reflectMapper:{systemNotification:1,pushConfig:2}}],response:[{type:"Long",name:"timetag"}]}},nie=function(p){function y(o){var a;return(a=p.call(this,"V2NIMSyncService",o)||this).teamKey=["teams","superTeams","myTeamMembers","mySuperTeamMembers"],a.config={},a.timetags={},a.core.options.apiVersion!=="v2"?er(a):(a.initEventListeners(),Wr({cmdMap:eie,cmdConfig:tie}),a.setListener(),a)}pr(y,p);var f=y.prototype;return f.reset=function(){this.timetags={}},f.setListener=function(){var a=this;this.core.eventBus.on("V2NIMSync/updateTimetag",function(l){var c;rt(c=Gn(l)).call(c,function(u){l[u]>(a.timetags[u]||0)&&(a.timetags[u]=l[u])})})},f.setOptions=function(a){var l=this.core,c=!(!l.V2NIMConversationService.name&&!l.V2NIMLocalConversationService.name);return this.config=ce({myInfo:!!l.V2NIMUserService.name,offlineMsgs:!!l.V2NIMMessageService.name,roamingMsgs:!!l.V2NIMMessageService.name,relations:!!l.V2NIMUserService.name,friends:!!l.V2NIMFriendService.name,friendUsers:!!l.V2NIMUserService.name,msgReceipts:!!l.V2NIMMessageService.name,broadcastMsgs:!!l.V2NIMNotificationService.name,recallMsg:!!l.V2NIMMessageService.name,sessionAck:c,superTeamSessionAck:c,stickTopSessions:c,superTeamRoamingMsgs:!!l.V2NIMTeamService.name,deleteSuperTeamMsg:!!l.V2NIMTeamService.name,deleteSelfMsgs:!!l.V2NIMMessageService.name,sessionHistoryMsgsDelete:!!l.V2NIMMessageService.name,avSignal:!!l.V2NIMSignallingService.name,teams:!!l.V2NIMTeamService.name,superTeams:!!l.V2NIMTeamService.name,myTeamMembers:!!l.V2NIMTeamService.name,mySuperTeamMembers:!!l.V2NIMTeamService.name,donnop:!!l.V2NIMSettingService.name,p2pTeamModifyMessage:!!l.V2NIMMessageService.name,superTeamModifyMessage:!!l.V2NIMMessageService.name},a),this.config},f.doBasicSync=function(){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x=this;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return l=Gn(this.config),c=Tn(l).call(l,function(W){var Y;return!or(Y=x.teamKey).call(Y,W)&&x.config[W]}),u=this.genSyncParams(c),this.logger.log("V2Sync:basic",u),B.next=6,this.core.clientSocket.sendCmd("v2NIMSync",{tag:u});case 6:return h=B.sent,C=h.content.timetag,this.setTimetags(C,Tn(c).call(c,function(W){return W!=="broadcastMsgs"})),B.next=11,this.delaySyncDone();case 11:return B.next=13,this.handleImmediate();case 13:this.core.logger.log("sync::basic sync complete in",C);case 14:case"end":return B.stop()}},a,this)}))},f.doTeamSync=function(){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h,C,x=this;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if((c=Tn(l=this.teamKey).call(l,function(W){return x.config[W]})).length!==0){B.next=3;break}return B.abrupt("return");case 3:return u=this.genSyncParams(c),this.core.eventBus.emit("V2NIMTeamService/onSyncStarted"),this.logger.log("V2Sync:team",u),h=null,B.prev=7,B.next=10,this.core.clientSocket.sendCmd("v2NIMSync",{tag:u});case 10:h=B.sent,B.next=17;break;case 13:throw B.prev=13,B.t0=B.catch(7),this.core.eventBus.emit("V2NIMTeamService/onSyncFailed",B.t0),B.t0;case 17:this.core.eventBus.emit("V2NIMTeamService/onSyncFinished"),C=h.content.timetag,this.setTimetags(C,this.teamKey),this.core.logger.log("sync::team sync complete in",C);case 21:case"end":return B.stop()}},a,this,[[7,13]])}))},f.doQchatSync=function(){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.core.clientSocket.sendCmd("v2QChatSync",{tag:{systemNotification:0}});case 2:l=u.sent,this.core.logger.log("sync::qchat sync complete in",l.content.timetag);case 4:case"end":return u.stop()}},a,this)}))},f.doSync=function(){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if((l=Ht(this.core,"V2NIMLoginService.authenticator.loginClientOfThisConnection.loginType"))!==void 0){u.next=4;break}return this.logger.warn("sync::doSync: no loginType, stop sync"),u.abrupt("return");case 4:if(this.logger.log("sync::doSync:type "+l),this.core.V2NIMLoginService.dataSync.switchDataSync({type:1,state:2,subType:"mainSync"}),l!==1){u.next=20;break}return u.prev=7,u.next=10,this.doBasicSync();case 10:return u.next=12,this.doTeamSync();case 12:u.next=18;break;case 14:return u.prev=14,u.t0=u.catch(7),this.doSyncComplete(u.t0),u.abrupt("return");case 18:u.next=49;break;case 20:if(l!==2){u.next=32;break}return u.prev=21,u.next=24,this.doQchatSync();case 24:u.next=30;break;case 26:return u.prev=26,u.t1=u.catch(21),this.doSyncComplete(u.t1),u.abrupt("return");case 30:u.next=49;break;case 32:if(l!==3){u.next=48;break}return u.prev=33,u.next=36,this.doBasicSync();case 36:return u.next=38,this.doTeamSync();case 38:return u.next=40,this.doQchatSync();case 40:u.next=46;break;case 42:return u.prev=42,u.t2=u.catch(33),this.doSyncComplete(u.t2),u.abrupt("return");case 46:u.next=49;break;case 48:return u.abrupt("return");case 49:this.doSyncComplete();case 50:case"end":return u.stop()}},a,this,[[7,14],[21,26],[33,42]])}))},f.doSyncComplete=function(a){a&&this.core.logger.log("sync::doSync complete but got error",a),this.core.V2NIMLoginService.dataSync.switchDataSync({type:1,state:3,error:a,subType:"mainSync"})},f.initEventListeners=function(){var a=this;this.core.eventBus.on("V2NIMLoginService/loginLifeCycleLoginSucc",function(){a.doSync()})},f.genSyncParams=function(a){var l=this;return ja(a).call(a,function(c,u){var h=u;return c[h]=l.timetags[h]||0,c},{})},f.setTimetags=function(a,l){var c=this;rt(l).call(l,function(u){c.timetags[u]=a})},f.handleImmediate=function(){return this.core.session&&this.core.session.onSyncDone&&this.core.session.onSyncDone(),Zt.resolve()},f.delaySyncDone=function(){return rn.getSystemInfo().hostEnvEnum===102?(this.core.logger.log("sync: emit ALIAPP sycnHandler, handle later"),new Zt(function(a){pa(function(){a()},100)})):Zt.resolve()},y}(ji),rie=function(){function p(){this.aiStreamMap=new Xa}var y=p.prototype;return y.reset=function(){this.aiStreamMap.clear()},y.getAiStream=function(o){return this.aiStreamMap.get(o)},y.getAiStreamIsComplete=function(o){var a=this.aiStreamMap.get(o);return!a||a.isComplete},y.getAiStreamQueryStatus=function(o){var a=this.aiStreamMap.get(o);return a?a.queryStatus:0},y.upsertAiStreamChunks=function(o,a,l){var c=this.aiStreamMap.get(o);return c&&!c.isComplete&&(c.chunks[a]=l),c||{isComplete:!1,queryStatus:0,chunks:[]}},y.setAiStream=function(o,a,l){l===void 0&&(l=!1);var c=this.aiStreamMap.get(o);return c?this.aiStreamMap.set(o,ce(ce({},c),a)):l&&this.aiStreamMap.set(o,ce({isComplete:!1,queryStatus:0,chunks:[]},a)),this.aiStreamMap.get(o)||{isComplete:!1,queryStatus:0,chunks:[]}},y.completeAiStream=function(o){var a=this.aiStreamMap.get(o);a&&this.aiStreamMap.set(o,ce(ce({},a),{isComplete:!0,queryStatus:0,chunks:[],aiRAGs:void 0}))},p}(),nm="V2NIMAIService",aie={"4_26":"v2AIChatNotify","29_35":"v2AIProxyModelCall","29_36":"v2AIGetUserList","4_29":"v2AIOnStreamMessageChunk","4_30":"v2AIChatStreamNotify","29_38":"v2AIStopModelStreamCall","29_39":"v2AIStreamQuery","29_40":"v2AIRegenMessage"},iie={accountId:1,messages:{id:2,converter:yc,retConverter:cd},requestId:3,content:{id:4,converter:yc,retConverter:cd},promptVariables:5,modelConfigParams:{id:6,converter:yc,retConverter:cd},antispamBusinessId:7,antispamEnabled:{id:8,converter:la},aiStream:{id:9,converter:la}},oie={accountId:1,name:3,avatar:4,sign:5,gender:{id:6,retType:"number"},email:7,birthday:8,mobile:9,serverExtension:10,modelType:{id:11,retType:"number"},modelConfig:{id:12,retConverter:function(y){if(y=cd(y)){var f=Gn(y),o=ja(f).call(f,function(a,l){var c=function(h){var C;return Qe(C=(h=h||"").split("_")).call(C,function(x,k){return k===0?x:x[0].toUpperCase()+zn(x).call(x,1)}).join("")}(l);return a[c]=y[l],a},{});if(typeof o.promptKeys=="string")try{o.promptKeys=JSON.parse(o.promptKeys)}catch{}return o}}},yunxinConfig:{id:13,retConverter:function(y){if(y=cd(y))return y}},valid:{id:14,retType:"boolean"},createTime:{id:15,retType:"number"},updateTime:{id:16,retType:"number"}};function VU(p){try{var y=JSON.parse(p);return typeof y.index=="number"?{msg:y.msg||"",type:y.type,lastChunk:{content:y.msg,chunkTime:un(y.timestamp),type:y.type,index:un(y.index)}}:y}catch{return}}function $U(p){try{var y=JSON.parse(p);return y&&y.length>0?Qe(y).call(y,function(f){return f.description=f.desc,delete f.desc,f}):[]}catch{return[]}}var UU={code:{id:1,retType:"number"},accountId:2,requestId:3,content:{id:4,retConverter:VU},aiRAGs:{id:5,retConverter:$U},timestamp:{id:6,retType:"number"},aiStreamStatus:{id:7,retType:"number"},aiStream:{id:8,retType:"boolean"}},sie={serverId:1,clientId:2,type:{id:3,retType:"number"},from:4,to:5,aiAccount:6,startIndex:{id:7,retType:"number"},endIndex:{id:8,retType:"number"},excludeIndex:{id:9,converter:yc}},lie={serverId:1,clientId:2,type:{id:3,retType:"number"},content:{id:4,retConverter:VU},aiRAGs:{id:6,retConverter:$U}},cie={v2AIChatNotify:{sid:4,cid:26,service:nm,response:[{type:"Property",name:"data",reflectMapper:dt(UU)}]},v2AIProxyModelCall:{sid:29,cid:35,service:nm,params:[{type:"Property",name:"tag",reflectMapper:iie}]},v2AIGetUserList:{sid:29,cid:36,service:nm,params:[{type:"Property",name:"tag",reflectMapper:{pageToken:1,limit:2}}],response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(oie)},{type:"Property",name:"queryTag",reflectMapper:dt({hasMore:{id:16,retType:"boolean"},nextToken:2})}]},v2AIOnStreamMessageChunk:{sid:4,cid:29,service:nm,response:[{type:"Property",name:"msg",reflectMapper:dt(Er)}]},v2AIChatStreamNotify:{sid:4,cid:30,service:nm,response:[{type:"Property",name:"data",reflectMapper:dt(UU)}]},v2AIStopModelStreamCall:{sid:29,cid:38,service:nm,params:[{type:"Property",name:"tag",reflectMapper:{serverId:1,clientId:2,type:{id:3,retType:"number"},from:4,to:5,aiAccount:6,opeType:{id:7,retType:"number"},updateContent:{id:8},messageTime:{id:11,retType:"number"}}}]},v2AIStreamQuery:{sid:29,cid:39,service:nm,params:[{type:"Property",name:"tag",reflectMapper:sie}],response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(lie)}]},v2AIRegenMessage:{sid:29,cid:40,service:nm,params:[{type:"Property",name:"tag",reflectMapper:{fromAccount:1,to:2,aiAccount:3,serverId:4,clientId:5,time:{id:6,retType:"number"},type:{id:7,retType:"number"},opeType:{id:8,retType:"number"},replyMsgFromAccount:9,replyMsgToAccount:10,replyMsgTime:{id:11,retType:"number"},replyMsgIdServer:12,replyMsgIdClient:13}}]}},uie=function(){function p(f,o){this.core=f,this.service=o,this.logger=this.core.logger}var y=p.prototype;return y.setListener=function(){},y.beforeEmit=function(o){for(var a,l,c=this.service.name+"::emit "+o.toString(),u=arguments.length,h=new Array(u>1?u-1:0),C=1;C<u;C++)h[C-1]=arguments[C];if(o==="onProxyAIModelCall"){var x=h[0];this.logger.log(""+c,"requestId:"+x.requestId+";aiStreamStatus:"+x.aiStreamStatus)}else if(o==="onProxyAIModelStreamCall"){var k=h[0];this.logger.log(""+c,"requestId:"+k.requestId+";chunkIndex:"+((a=k.content)===null||a===void 0?void 0:a.lastChunk.index)+";chunkTime:"+((l=k.content)===null||l===void 0?void 0:l.lastChunk.chunkTime))}else{var B,W;(B=this.logger).log.apply(B,Bn(W=[""+c]).call(W,h))}},p}(),die=function(){function p(f,o){this.core=f,this.service=o,this.model=o.model,this.logger=this.core.logger}var y=p.prototype;return y.v2AIChatNotifyHandler=function(o){var a=o.content.data;a&&a.requestId&&(this.model.completeAiStream(a.requestId),a.aiStreamStatus=a.aiStreamStatus||0,a.aiStream=a.aiStream||!1,a.content&&(a.content.msg=a.content.msg||""),this.service.emit("onProxyAIModelCall",a))},y.v2AIChatStreamNotifyHandler=function(o){var a=o.content.data;if(a&&a.requestId&&a.content&&a.content.msg){var l=this.model.getAiStream(a.requestId);if(l||(l=this.model.setAiStream(a.requestId,{isComplete:!1,queryStatus:0,chunks:[]},!0)),!l.isComplete){var c=a.content.lastChunk;if(c.index===0&&a.aiRAGs&&(l=this.model.setAiStream(a.requestId,{aiRAGs:a.aiRAGs})),this.logger.log("V2AI::streamNotify requestId:"+a.requestId+";index:"+c.index+";cacheChunkLength:"+l.chunks.length+";chunkTime:"+c.chunkTime+"."),l.chunks.length===0&&c.index>0)this.logger.log("V2AI::streamNotify requestId:"+a.requestId+";chunks missing 0,currentIdx:"+c.index+",needQuery:"+(l.queryStatus===0)+"."),l.queryStatus===0&&(l=this.model.setAiStream(a.requestId,{queryStatus:1}),this.service._queryAiStream({clientId:a.requestId,type:4,from:this.core.account,aiAccount:a.accountId,startIndex:0,endIndex:c.index-1}));else if(c.index>0&&l.chunks.length>0&&l.chunks[c.index-1]===void 0){var u,h=ja(u=l.chunks).call(u,function(C,x,k){return x!==void 0&&C.push(k),C},[]);this.logger.log("V2AI::streamNotify requestId:"+a.requestId+";out of order,currenIdx:"+c.index+",cacheIdx:["+h.join(",")+"],needReport:"+!l.hasReported+"."),l.hasReported||(l=this.model.setAiStream(a.requestId,{hasReported:!0}),this.reportOutOfOrder({requestId:a.requestId,cacheIds:h,targetIndex:c.index,target:"4-30"}))}(l=this.model.upsertAiStreamChunks(a.requestId,c.index,c.content)).chunks[0]||l.queryStatus!==1?(a.content.msg=l.chunks.join(""),l.aiRAGs&&(a.aiRAGs=l.aiRAGs),this.service.emit("onProxyAIModelStreamCall",a)):this.logger.log("V2AI::streamNotify requestId:"+a.requestId+";chunks ignore index:"+c.index+";queryStatus:"+l.queryStatus+".")}}},y.v2AIOnStreamMessageChunkHandler=function(o){var a,l,c,u=ko(this.core,o.content.msg);if(u.streamConfig&&u.streamConfig.lastChunk){var h=this.model.getAiStream(u.messageClientId);if(!h||!h.isComplete){h||(h=this.model.setAiStream(u.messageClientId,{isComplete:!1,queryStatus:0,chunks:[]},!0));var C=u.streamConfig.lastChunk,x=u.messageClientId;if(C.index===0&&(!((a=u.aiConfig)===null||a===void 0)&&a.aiRAGs)&&(h=this.model.setAiStream(x,{aiRAGs:u.aiConfig.aiRAGs})),this.logger.log("V2AI::aiStream requestId:"+x+";index:"+C.index+";cacheChunkLength:"+h.chunks.length+";chunkTime:"+C.chunkTime+"."),h.chunks.length===0&&C.index>0)this.logger.log("V2AI::msg:aiStream requestId:"+x+";chunks missing 0,currentIdx:"+C.index+",needQuery:"+(h.queryStatus===0)+"."),h.queryStatus===0&&(h=this.model.setAiStream(x,{queryStatus:1}),this.service._queryAiStream({serverId:u.messageServerId,clientId:x,type:!((l=u.aiConfig)===null||l===void 0)&&l.accountId?u.conversationType:5,from:u.senderId,to:u.receiverId,aiAccount:(c=u.aiConfig)===null||c===void 0?void 0:c.accountId,startIndex:0,endIndex:C.index-1}));else if(C.index>0&&h.chunks.length>0&&h.chunks[C.index-1]===void 0){var k,B=ja(k=h.chunks).call(k,function(W,Y,ne){return Y!==void 0&&W.push(ne),W},[]);this.logger.log("V2AI::msg:aiStream requestId:"+x+";out of order,currenIdx:"+C.index+";streamCache.chunks:"+$t(h.chunks)+",cacheIdx:["+B.join(",")+"],needReport:"+!h.hasReported+"."),h.hasReported||(h=this.model.setAiStream(x,{hasReported:!0}),this.reportOutOfOrder({requestId:x,cacheIds:B,targetIndex:C.index,target:"4-29"}))}(h=this.model.upsertAiStreamChunks(x,C.index,C.content)).chunks[0]||h.queryStatus!==1?(u.streamConfig.status=-1,u.aiConfig&&(u.aiConfig.aiStreamStatus=-1),u.text=h.chunks.join(""),h.aiRAGs&&u.aiConfig&&(u.aiConfig.aiRAGs=h.aiRAGs),h.msg&&(u=ce({},h.msg,ce({text:u.text,modifyTime:C.chunkTime,modifyAccountId:h.msg.senderId,streamConfig:u.streamConfig},u.aiConfig?{aiConfig:u.aiConfig}:{}))),this.core.eventBus.emit("V2NIMAIService/receiveMessagesModified",[u])):this.logger.log("V2AI::msg:callStream requestId:"+x+";chunks ignore index:"+C.index+";queryStatus:"+h.queryStatus+".")}}},y.reportOutOfOrder=function(o){this.core.reporter.reportTraceStart("exceptions",{user_id:this.core.account,trace_id:Ht(this.core,"clientSocket.socket.sessionId"),action:2,exception_service:0}),this.core.reporter.reportTraceUpdateV2("exceptions",{code:0,context:o.requestId,description:"["+o.cacheIds.join(",")+"],"+o.targetIndex,operation_type:2,target:o.target,net_connect:!0}),this.core.reporter.reportTraceEnd("exceptions",4)},p}(),pie=function(p){function y(o){var a;return(a=p.call(this,"V2NIMAIService",o)||this).model=new rie,a.event=new uie(a.core,er(a)),a.handler=new die(a.core,er(a)),Wr({cmdMap:aie,cmdConfig:cie}),a}pr(y,p);var f=y.prototype;return f.setListener=function(){this.event.setListener()},f.reset=function(){this.model.reset()},f.emit=function(a){for(var l,c,u,h,C=arguments.length,x=new Array(C>1?C-1:0),k=1;k<C;k++)x[k-1]=arguments[k];return(l=this.event).beforeEmit.apply(l,Bn(c=[a]).call(c,x)),(u=p.prototype.emit).call.apply(u,Bn(h=[this,a]).call(h,x))},f.getAIUserList=function(){return le(this,void 0,void 0,q.mark(function a(){var l;return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.checkV2(),u.next=3,this.core.sendCmd("v2AIGetUserList",{tag:{}});case 3:return l=u.sent,u.abrupt("return",l.content.datas);case 5:case"end":return u.stop()}},a,this)}))},f.proxyAIModelCall=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(ge(FZ,a,"",!0),!this.model.getAiStream(a.requestId)){u.next=6;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,desc:"Same requestId",detail:{rawData:a.requestId}});case 6:this.model.setAiStream(a.requestId,{isComplete:!1,queryStatus:0,chunks:[]},!0);case 7:return u.next=9,this.core.sendCmd("v2AIProxyModelCall",{tag:a});case 9:case"end":return u.stop()}},l,this)}))},f.stopAIModelStreamCall=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return ge(qZ,a,"",!0),u.next=3,this.core.sendCmd("v2AIStopModelStreamCall",{tag:{clientId:a.requestId,aiAccount:a.accountId,type:4,from:this.core.account}});case 3:this.logger.log("V2AI::streamCallStop,requestId:"+a.requestId),this.model.completeAiStream(a.requestId);case 5:case"end":return u.stop()}},l,this)}))},f._queryAiStream=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h=this;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return this.model.setAiStream(a.clientId,{queryStatus:1}),x.prev=1,x.next=4,this.core.sendCmd("v2AIStreamQuery",{tag:a});case 4:if(c=x.sent,this.model.setAiStream(a.clientId,{queryStatus:2}),(u=c.content.datas)&&u.length>0){x.next=9;break}return x.abrupt("return");case 9:rt(u).call(u,function(k){var B=k.clientId,W=h.model.getAiStream(B);if(W&&(!W||!W.isComplete)&&k.content&&k.content.lastChunk){var Y=k.content.lastChunk;h.model.upsertAiStreamChunks(B,Y.index,Y.content),Y.index===0&&k.aiRAGs&&h.model.setAiStream(B,{aiRAGs:k.aiRAGs}),h.logger.log("V2AI::queryAiStream requestId:"+B+";index:"+Y.index+";cacheChunkLength:"+W.chunks.length+";chunkTime:"+Y.chunkTime+".")}}),x.next=16;break;case 12:x.prev=12,x.t0=x.catch(1),this.logger.warn("V2AI::queryAiStream requestId:"+a.clientId+";error:",x.t0),this.model.setAiStream(a.clientId,{queryStatus:2});case 16:case"end":return x.stop()}},l,this,[[1,12]])}))},y}(ji),mie={"18_1":"v2SignallingCreateRoom","18_2":"v2SignallingDelayRoom","18_3":"v2SignallingCloseRoom","18_4":"v2SignallingJoinRoom","18_5":"v2SignallingLeaveRoom","18_6":"v2SignallingInvite","18_7":"v2SignallingCancelInvite","18_16":"v2SignallingCall","18_17":"v2SignallingCallSetup","18_8":"v2SignallingRejectInvite","18_9":"v2SignallingAcceptInvite","18_10":"v2SignallingSendControl","15_11":"v2SignallingOnlineEvent","15_12":"v2SignallingMultiClientEvent","15_13":"v2SignallingOfflineEvent","15_14":"v2SignallingSyncChannels","18_15":"v2SignallingGetRoomInfo"},Co="V2NIMSignallingService",fie={accountId:1,uid:{id:2,retType:"number"},joinTime:{id:3,retType:"number"},expireTime:{id:4,retType:"number"},deviceId:5},ii={channelType:{id:1,retType:"number",retAccess:"channelInfo.channelType"},channelName:{id:2,retAccess:"channelInfo.channelName"},channelId:{id:3,retAccess:"channelInfo.channelId"},createTime:{id:4,retType:"number",retAccess:"channelInfo.createTime"},expireTime:{id:5,retType:"number",retAccess:"channelInfo.expireTime"},creatorAccountId:{id:6,retAccess:"channelInfo.creatorAccountId"},channelExtension:{id:7,retAccess:"channelInfo.channelExtension"},channelValid:{id:8,retDef:!0,retAccess:"channelInfo.channelValid",retConverter:function(y){return un(y)!==1}},fromAccid:10,toAccid:11,requestId:12,pushEnabled:{id:13,access:"pushConfig.pushEnabled",converter:la,retType:"boolean"},pushTitle:{id:14,access:"pushConfig.pushTitle"},pushContent:{id:15,access:"pushConfig.pushContent"},pushPayload:{id:16,access:"pushConfig.pushPayload"},unreadEnabled:{id:17,access:"signallingConfig.unreadEnabled",converter:la,retType:"boolean",def:1},members:{id:18,retAccess:"members",retConverter:function(y){try{var f=JSON.parse(y);return Qe(f).call(f,function(o){return Rr(o,dt(fie))})}catch{return}}},attach:{id:19,retConverter:cd},serverExtension:{id:20,retDef:""},offlineEnabled:{id:21,converter:la,retType:"boolean",def:1},msgId:22,selfUid:{id:23,retType:"number",access:"signallingConfig.selfUid"},time:{id:24,retType:"number"},rtcChannelName:{id:25,access:"rtcConfig.rtcChannelName"},rtcTokenTtl:{id:26,retType:"number",access:"rtcConfig.rtcTokenTtl",retAccess:"rtcInfo.rtcTokenTtl"},rtcToken:{id:27,retAccess:"rtcInfo.rtcToken"},rtcParams:{id:28,access:"rtcConfig.rtcParams",retAccess:"rtcInfo.rtcParams"},callStatus:{id:30,retType:"number"}},gie={v2SignallingCall:{sid:18,cid:16,service:Co,params:[{type:"Property",name:"tag",reflectMapper:ii}],response:[{type:"Property",name:"data",reflectMapper:dt(ii)}]},v2SignallingCallSetup:{sid:18,cid:17,service:Co,params:[{type:"Property",name:"tag",reflectMapper:ii}],response:[{type:"Property",name:"data",reflectMapper:dt(ii)}]},v2SignallingCreateRoom:{sid:18,cid:1,service:Co,params:[{type:"Property",name:"tag",reflectMapper:ii}],response:[{type:"Property",name:"data",reflectMapper:dt(ii)}]},v2SignallingDelayRoom:{sid:18,cid:2,service:Co,params:[{type:"Property",name:"tag",reflectMapper:ii}],response:[{type:"Property",name:"data",reflectMapper:dt(ii)}]},v2SignallingCloseRoom:{sid:18,cid:3,service:Co,params:[{type:"Property",name:"tag",reflectMapper:ii}],response:[{type:"Property",name:"data",reflectMapper:dt(ii)}]},v2SignallingJoinRoom:{sid:18,cid:4,service:Co,params:[{type:"Property",name:"tag",reflectMapper:ii}],response:[{type:"Property",name:"data",reflectMapper:dt(ii)}]},v2SignallingLeaveRoom:{sid:18,cid:5,service:Co,params:[{type:"Property",name:"tag",reflectMapper:ii}],response:[{type:"Property",name:"data",reflectMapper:dt(ii)}]},v2SignallingInvite:{sid:18,cid:6,service:Co,params:[{type:"Property",name:"tag",reflectMapper:ii}],response:[{type:"Property",name:"data",reflectMapper:dt(ii)}]},v2SignallingCancelInvite:{sid:18,cid:7,service:Co,params:[{type:"Property",name:"tag",reflectMapper:ii}],response:[{type:"Property",name:"data",reflectMapper:dt(ii)}]},v2SignallingRejectInvite:{sid:18,cid:8,service:Co,params:[{type:"Property",name:"tag",reflectMapper:ii}]},v2SignallingAcceptInvite:{sid:18,cid:9,service:Co,params:[{type:"Property",name:"tag",reflectMapper:ii}]},v2SignallingSendControl:{sid:18,cid:10,service:Co,params:[{type:"Property",name:"tag",reflectMapper:ii}]},v2SignallingOnlineEvent:{sid:15,cid:11,service:Co,response:[{type:"Property",name:"data",reflectMapper:dt(ii)}]},v2SignallingMultiClientEvent:{sid:15,cid:12,service:Co,response:[{type:"Property",name:"data",reflectMapper:dt(ii)}]},v2SignallingOfflineEvent:{sid:15,cid:13,service:Co,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(ii)}]},v2SignallingSyncChannels:{sid:15,cid:14,service:Co,response:[{type:"PropertyArray",name:"datas",reflectMapper:dt(ii)}]},v2SignallingGetRoomInfo:{sid:18,cid:15,service:Co,params:[{type:"Property",name:"tag",reflectMapper:ii}],response:[{type:"Property",name:"data",reflectMapper:dt(ii)}]},v2SignallingBatchMarkRead:{sid:4,cid:5,hasPacketResponse:!1,service:Co,params:[{type:"Byte",name:"sid"},{type:"Byte",name:"cid"},{type:"LongArray",name:"ids"}]}},hie={calleeAccountId:{type:"string",required:!0,allowEmpty:!1},requestId:{type:"string",required:!0,allowEmpty:!1},channelType:{type:"enum",values:[1,3,2]},channelName:{type:"string",required:!1,allowEmpty:!0},channelExtension:{type:"string",required:!1,allowEmpty:!0},serverExtension:{type:"string",required:!1,allowEmpty:!0},signallingConfig:{type:"object",required:!1,rules:{offlineEnabled:{type:"boolean",required:!1},unreadEnabled:{type:"boolean",required:!1},selfUid:{type:"number",required:!1}}},pushConfig:{type:"object",required:!1,rules:{pushEnabled:{type:"boolean",required:!1},pushTitle:{type:"string",required:!1,allowEmpty:!0},pushContent:{type:"string",required:!1,allowEmpty:!0},pushPayload:{type:"string",required:!1,allowEmpty:!0}}},rtcConfig:{type:"object",required:!1,rules:{rtcChannelName:{type:"string",required:!1,allowEmpty:!0},rtcTokenTtl:{type:"number",required:!1},rtcParams:{type:"string",required:!1,allowEmpty:!0}}}},vie={channelId:{type:"string",required:!0,allowEmpty:!1},callerAccountId:{type:"string",required:!0,allowEmpty:!1},requestId:{type:"string",required:!0,allowEmpty:!1},serverExtension:{type:"string",required:!1,allowEmpty:!0},signallingConfig:{type:"object",required:!1,rules:{offlineEnabled:{type:"boolean",required:!1},unreadEnabled:{type:"boolean",required:!1},selfUid:{type:"number",required:!1}}},rtcConfig:{type:"object",required:!1,rules:{rtcChannelName:{type:"string",required:!1,allowEmpty:!0},rtcTokenTtl:{type:"number",required:!1},rtcParams:{type:"string",required:!1,allowEmpty:!0}}}},yie={channelType:{type:"enum",values:[1,3,2]},channelName:{type:"string",required:!1,allowEmpty:!0},channelExtension:{type:"string",required:!1,allowEmpty:!0}},bie={channelId:{type:"string",required:!0,allowEmpty:!1},offlineEnabled:{type:"boolean",required:!1},serverExtension:{type:"string",required:!1,allowEmpty:!0}},Sie={channelId:{type:"string",required:!0,allowEmpty:!1},serverExtension:{type:"string",required:!1,allowEmpty:!0},signallingConfig:{type:"object",required:!1,rules:{offlineEnabled:{type:"boolean",required:!1},unreadEnabled:{type:"boolean",required:!1},selfUid:{type:"number",required:!1}}},rtcConfig:{type:"object",required:!1,rules:{rtcChannelName:{type:"string",required:!1,allowEmpty:!0},rtcTokenTtl:{type:"number",required:!1},rtcParams:{type:"string",required:!1,allowEmpty:!0}}}},Iie={channelId:{type:"string",required:!0,allowEmpty:!1},offlineEnabled:{type:"boolean",required:!1},serverExtension:{type:"string",required:!1,allowEmpty:!0}},Eie={channelId:{type:"string",required:!0,allowEmpty:!1},inviteeAccountId:{type:"string",required:!0,allowEmpty:!1},requestId:{type:"string",required:!0,allowEmpty:!1},serverExtension:{type:"string",required:!1,allowEmpty:!0},signallingConfig:{type:"object",required:!1,rules:{offlineEnabled:{type:"boolean",required:!1},unreadEnabled:{type:"boolean",required:!1},selfUid:{type:"number",required:!1}}},pushConfig:{type:"object",required:!1,rules:{pushEnabled:{type:"boolean",required:!1},pushTitle:{type:"string",required:!1,allowEmpty:!0},pushContent:{type:"string",required:!1,allowEmpty:!0},pushPayload:{type:"string",required:!1,allowEmpty:!0}}}},Cie={channelId:{type:"string",required:!0,allowEmpty:!1},inviteeAccountId:{type:"string",required:!0,allowEmpty:!1},requestId:{type:"string",required:!0,allowEmpty:!1},serverExtension:{type:"string",required:!1,allowEmpty:!0},offlineEnabled:{type:"boolean",required:!1},pushConfig:{type:"object",required:!1,rules:{pushEnabled:{type:"boolean",required:!1},pushTitle:{type:"string",required:!1,allowEmpty:!0},pushContent:{type:"string",required:!1,allowEmpty:!0},pushPayload:{type:"string",required:!1,allowEmpty:!0}}}},Tie={channelId:{type:"string",allowEmpty:!1},receiverAccountId:{type:"string",required:!1},serverExtension:{type:"string",required:!1,allowEmpty:!0}},BU={channelId:{type:"string",allowEmpty:!1},inviterAccountId:{type:"string",allowEmpty:!1},requestId:{type:"string",allowEmpty:!1},serverExtension:{type:"string",required:!1,allowEmpty:!0},offlineEnabled:{type:"boolean",required:!1}},Mie=BU;function Tw(p){var y,f=p.attach,o={eventType:f.type,channelInfo:p.channelInfo,operatorAccountId:p.fromAccid,time:p.time,serverExtension:p.serverExtension,requestId:p.requestId,pushConfig:p.pushConfig,unreadEnabled:(y=p.signallingConfig)===null||y===void 0?void 0:y.unreadEnabled},a=p.fromAccid,l=p.toAccid;switch(o.eventType){case 1:break;case 2:o.member={accountId:f.member[1],uid:Number(f.member[2]),joinTime:Number(f.member[3]),expireTime:Number(f.member[4]),deviceId:f.member[5]};break;case 3:case 4:o.operatorAccountId=a,o.inviteeAccountId=l,o.inviterAccountId=a;break;case 5:case 6:o.operatorAccountId=a,o.inviterAccountId=l,o.inviteeAccountId=a}return JSON.parse($t(o))}var Ed,_ie=function(p){function y(o,a){var l;return a===void 0&&(a={}),(l=p.call(this,"V2NIMSignallingService",o)||this).config={compatibleWithV1:!0},l.channels={},l.timer=0,l.pollingInterval=12e4,l.core.options.apiVersion!=="v2"?er(l):(Wr({cmdMap:mie,cmdConfig:gie}),l.setOptions(a),l)}pr(y,p);var f=y.prototype;return f.reset=function(){this.timer=0,this.channels={}},f.setOptions=function(a){var l;!((l=this.core.signaling)===null||l===void 0)&&l.name?this.config.compatibleWithV1=!0:this.config.compatibleWithV1=!1,this.config=ce(this.config,a)},f.emit=function(a){for(var l,c,u,h,C=this.name+"::emit "+a.toString(),x=arguments.length,k=new Array(x>1?x-1:0),B=1;B<x;B++)k[B-1]=arguments[B];return(l=this.logger).log.apply(l,Bn(c=[""+C]).call(c,k)),(u=p.prototype.emit).call.apply(u,Bn(h=[this,a]).call(h,k))},f.call=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x;return q.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(this.checkV2(),ge(hie,a,"",!0),a.calleeAccountId!==this.core.account){B.next=4;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"You cannot call yourself"}});case 4:return u=a.pushConfig!==void 0&&a.pushConfig.pushEnabled!==void 0&&a.pushConfig.pushEnabled,B.next=7,this.core.sendCmd("v2SignallingCall",{tag:ce(ce({},a),{toAccid:a.calleeAccountId,offlineEnabled:((l=a.signallingConfig)===null||l===void 0?void 0:l.offlineEnabled)===void 0||a.signallingConfig.offlineEnabled,pushConfig:ce(ce({},a.pushConfig||{}),{pushEnabled:u})})});case 7:return h=B.sent,C=h.content.data,this.channels[C.channelInfo.channelId]=is(C.channelInfo),this.timer||(this.timer=this.core.timerManager.addTimer(cn(x=this.aotoDelay).call(x,this),this.pollingInterval,-1)),B.abrupt("return",{callStatus:C.callStatus,rtcInfo:C.rtcInfo,roomInfo:{channelInfo:C.channelInfo,members:C.members}});case 12:case"end":return B.stop()}},c,this)}))},f.callSetup=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(this.checkV2(),ge(vie,a,"",!0),a.callerAccountId!==this.core.account){k.next=4;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"callSetup: cannot be yourself"}});case 4:return k.next=6,this.core.sendCmd("v2SignallingCallSetup",{tag:ce(ce({},a),{toAccid:a.callerAccountId,offlineEnabled:((l=a.signallingConfig)===null||l===void 0?void 0:l.offlineEnabled)===void 0||a.signallingConfig.offlineEnabled})});case 6:return u=k.sent,h=u.content.data,this.channels[h.channelInfo.channelId]=is(h.channelInfo),this.timer||(this.timer=this.core.timerManager.addTimer(cn(C=this.aotoDelay).call(C,this),this.pollingInterval,-1)),k.abrupt("return",{callStatus:h.callStatus,rtcInfo:h.rtcInfo,roomInfo:{channelInfo:h.channelInfo,members:h.members}});case 11:case"end":return k.stop()}},c,this)}))},f.createRoom=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){var h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return this.checkV2(),ge(yie,{channelType:a,channelName:l,channelExtension:c},"",!0),x.next=4,this.core.sendCmd("v2SignallingCreateRoom",{tag:{channelType:a,channelName:l,channelExtension:c}});case 4:return h=x.sent,x.abrupt("return",h.content.data.channelInfo);case 6:case"end":return x.stop()}},u,this)}))},f.delayRoom=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkV2(),h.next=3,this.core.sendCmd("v2SignallingDelayRoom",{tag:{channelId:a}});case 3:return c=h.sent,h.abrupt("return",{channelInfo:c.content.data.channelInfo,members:c.content.data.members});case 5:case"end":return h.stop()}},l,this)}))},f.closeRoom=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkV2(),ge(bie,{channelId:a,offlineEnabled:l,serverExtension:c},"",!0),C.next=4,this.core.sendCmd("v2SignallingCloseRoom",{tag:{channelId:a,offlineEnabled:l!==void 0&&l,serverExtension:c}});case 4:case"end":return C.stop()}},u,this)}))},f.joinRoom=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h,C,x,k,B;return q.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return this.checkV2(),ge(Sie,a,"",!0),Y.next=4,this.core.sendCmd("v2SignallingJoinRoom",{tag:ce(ce({},a),{offlineEnabled:((l=a.signallingConfig)===null||l===void 0?void 0:l.offlineEnabled)===void 0||a.signallingConfig.offlineEnabled})});case 4:return u=Y.sent,h=u.content.data,this.channels[h.channelInfo.channelId]=is(h.channelInfo),this.timer||(this.timer=this.core.timerManager.addTimer(cn(C=this.aotoDelay).call(C,this),this.pollingInterval,-1)),x=h.channelInfo,k=h.members,B=h.rtcInfo,Y.abrupt("return",{roomInfo:{channelInfo:x,members:k},rtcInfo:B});case 10:case"end":return Y.stop()}},c,this)}))},f.leaveRoom=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.checkV2(),ge(Iie,{channelId:a,offlineEnabled:l,serverExtension:c},"",!0),C.next=4,this.core.sendCmd("v2SignallingLeaveRoom",{tag:{channelId:a,offlineEnabled:l!==void 0&&l,serverExtension:c}});case 4:delete this.channels[a];case 5:case"end":return C.stop()}},u,this)}))},f.invite=function(a){var l;return le(this,void 0,void 0,q.mark(function c(){var u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(this.checkV2(),ge(Eie,a,"",!0),a.inviteeAccountId!==this.core.account){x.next=4;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"invite: cannot be yourself"}});case 4:return u=a.pushConfig!==void 0&&a.pushConfig.pushEnabled!==void 0&&a.pushConfig.pushEnabled,x.next=7,this.core.sendCmd("v2SignallingInvite",{tag:ce(ce({},a),{toAccid:a.inviteeAccountId,offlineEnabled:((l=a.signallingConfig)===null||l===void 0?void 0:l.offlineEnabled)===void 0||a.signallingConfig.offlineEnabled,pushConfig:ce(ce({},a.pushConfig||{}),{pushEnabled:u})})});case 7:return h=x.sent,x.abrupt("return",h.content.data);case 9:case"end":return x.stop()}},c,this)}))},f.cancelInvite=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkV2(),ge(Cie,a,"",!0),h.next=4,this.core.sendCmd("v2SignallingCancelInvite",{tag:ce(ce({},a),{toAccid:a.inviteeAccountId})});case 4:return c=h.sent,h.abrupt("return",c.content.data);case 6:case"end":return h.stop()}},l,this)}))},f.rejectInvite=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(ge(BU,a,"",!0),a.inviterAccountId!==this.core.account){u.next=3;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"rejectInvite: cannot be yourself"}});case 3:return u.next=5,this.core.sendCmd("v2SignallingRejectInvite",{tag:ce(ce({},a),{toAccid:a.inviterAccountId})});case 5:case"end":return u.stop()}},l,this)}))},f.acceptInvite=function(a){return le(this,void 0,void 0,q.mark(function l(){return q.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(ge(Mie,a,"",!0),a.inviterAccountId!==this.core.account){u.next=3;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"acceptInvite: cannot be yourself"}});case 3:return u.next=5,this.core.sendCmd("v2SignallingAcceptInvite",{tag:ce(ce({},a),{toAccid:a.inviterAccountId})});case 5:case"end":return u.stop()}},l,this)}))},f.sendControl=function(a,l,c){return le(this,void 0,void 0,q.mark(function u(){return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return ge(Tie,{channelId:a,receiverAccountId:l,serverExtension:c},"",!0),C.next=3,this.core.sendCmd("v2SignallingSendControl",{tag:{channelId:a,toAccid:l,serverExtension:c}});case 3:case"end":return C.stop()}},u,this)}))},f.getRoomInfoByChannelName=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C;return q.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ge({channelName:{type:"string",allowEmpty:!1}},{channelName:a},"",!0),k.next=3,this.core.sendCmd("v2SignallingGetRoomInfo",{tag:{channelName:a}});case 3:return c=k.sent,u=c.content.data,h=u.members,C=u.channelInfo,k.abrupt("return",{channelInfo:C,members:h||[]});case 6:case"end":return k.stop()}},l,this)}))},f.aotoDelay=function(){return le(this,void 0,void 0,q.mark(function a(){var l,c,u,h;return q.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if((l=Gn(this.channels)).length!==0){x.next=5;break}return this.timer&&this.core.timerManager.deleteTimer(this.timer),this.timer=0,x.abrupt("return");case 5:this.logger.log("v2Signlling:autoDelay",l),c=0;case 7:if(!(c<l.length)){x.next=23;break}return u=l[c],x.prev=9,x.next=12,this.core.sendCmd("v2SignallingDelayRoom",{tag:{channelId:u}});case 12:h=x.sent,this.channels[u]=h.content.data.channelInfo,x.next=20;break;case 16:x.prev=16,x.t0=x.catch(9),this.logger.warn("signling:autoDelay "+u+" failed",x.t0),delete this.channels[u];case 20:c++,x.next=7;break;case 23:case"end":return x.stop()}},a,this,[[9,16]])}))},f.v2SignallingOnlineEventHandler=function(a){var l=Bs(a,a.content.data,"msgId","0"),c=l.msgId;!this.config.compatibleWithV1&&c&&un(c)&&this.core.sendCmd("v2SignallingBatchMarkRead",{sid:15,cid:11,ids:[c]}),this.handleLeaveRoom(l),this.emit("onOnlineEvent",Tw(l))},f.v2SignallingMultiClientEventHandler=function(a){this.handleLeaveRoom(a.content.data),this.emit("onMultiClientEvent",Tw(a.content.data))},f.v2SignallingOfflineEventHandler=function(a){var l,c=this;if(a.content.datas&&a.content.datas.length>0){if(!this.config.compatibleWithV1){var u,h=Qe(u=a.content.datas).call(u,function(x){return x.msgId});h.length>0&&this.core.sendCmd("v2SignallingBatchMarkRead",{sid:15,cid:11,ids:h})}var C=Qe(l=a.content.datas).call(l,function(x){return c.handleLeaveRoom(x),Tw(x)});this.emit("onOfflineEvent",C)}},f.v2SignallingSyncChannelsHandler=function(a){var l=this;if(this.timer=0,this.channels={},a.content.datas&&a.content.datas.length>0){var c,u=a.content.datas;rt(u).call(u,function(h){var C=h.channelInfo.channelId;l.channels[C]=is(h.channelInfo)}),!this.timer&&(this.timer=this.core.timerManager.addTimer(cn(c=this.aotoDelay).call(c,this),this.pollingInterval,-1)),this.emit("onSyncRoomInfoList",u)}},f.handleLeaveRoom=function(a){switch(a.attach.type){case 1:case 7:case 9:delete this.channels[a.channelInfo.channelId]}},y}(ji),xie={"19_1":"v2PublishEvent","14_2":"v2OnUserStatusChange","19_3":"v2SubscribeUserStatus","19_4":"v2UnsubscribeUserStatus","19_5":"v2UnsubscribeAllUserStatus","19_6":"v2QuerySubscribeEvent","19_7":"v2QueryAllSubscribeEvent","14_9":"v2OnMultiUserStatusChange"},rm="V2NIMSubscriptionService",QC={eventType:{id:1,retType:"number"},statusType:{id:2,retType:"number"},uniqueId:3,extension:4,duration:{id:5,retType:"number"},onlineOnly:{id:6,retType:"boolean",converter:function(y){return y?1:2}},multiSync:{id:7,retType:"boolean",converter:la},publishTime:{id:10,retType:"number"},serverId:11,clientType:{id:12,retType:"number"},serverExtension:13,extensionReceived:14,accountId:103},Jf={eventType:{id:1,retType:"number"},duration:{id:2,retType:"number"},immediateSync:{id:3,retType:"number",converter:la},accountId:102,subscribeTime:{id:105,retType:"number"}},wie={v2PublishEvent:{sid:19,cid:1,service:rm,params:[{type:"Property",name:"tag",reflectMapper:QC}],response:[{type:"Property",name:"data",reflectMapper:dt(QC)}]},v2OnUserStatusChange:{sid:14,cid:2,service:rm,response:[{type:"Property",name:"data",reflectMapper:dt(QC)}]},v2SubscribeUserStatus:{sid:19,cid:3,service:rm,params:[{type:"Property",name:"tag",reflectMapper:Jf},{type:"StrArray",name:"accountIds"}],response:[{type:"StrArray",name:"failedList"}]},v2UnsubscribeUserStatus:{sid:19,cid:4,service:rm,params:[{type:"Property",name:"tag",reflectMapper:Jf},{type:"StrArray",name:"accountIds"}],response:[{type:"StrArray",name:"failedList"}]},v2UnsubscribeAllUserStatus:{sid:19,cid:5,service:rm,params:[{type:"Property",name:"tag",reflectMapper:Jf}]},v2QuerySubscribeEvent:{sid:19,cid:6,service:rm,params:[{type:"Property",name:"tag",reflectMapper:Jf},{type:"StrArray",name:"accountIds"}],response:[{type:"PropertyArray",name:"data",reflectMapper:dt(Jf)}]},v2QueryAllSubscribeEvent:{sid:19,cid:7,service:rm,params:[{type:"Property",name:"tag",reflectMapper:Jf}],response:[{type:"PropertyArray",name:"data",reflectMapper:dt(Jf)}]},v2OnMultiUserStatusChange:{sid:14,cid:9,service:rm,response:[{type:"PropertyArray",name:"data",reflectMapper:dt(QC)}]}},Nie={accountIds:{type:"array",required:!0,itemType:"string",min:1,max:100},duration:{type:"number",required:!1,min:60,max:2592e3},immediateSync:{type:"boolean",required:!1}},Rie={accountIds:{type:"array",required:!1,itemType:"string",max:100}},Aie={statusType:{type:"number",required:!0,min:1e4,max:2147483647},duration:{type:"number",required:!1,min:60,max:604800},extension:{type:"jsonstr",required:!1},onlineOnly:{type:"boolean",required:!1},multiSync:{type:"boolean",required:!1}},Oie=function(p){function y(o){var a;return(a=p.call(this,"V2NIMSubscriptionService",o)||this).core.options.apiVersion!=="v2"?er(a):(Wr({cmdMap:xie,cmdConfig:wie}),a)}pr(y,p);var f=y.prototype;return f.emit=function(a){for(var l,c,u,h,C=this.name+"::emit "+a.toString(),x=arguments.length,k=new Array(x>1?x-1:0),B=1;B<x;B++)k[B-1]=arguments[B];return(l=this.logger).log.apply(l,Bn(c=[""+C]).call(c,k)),(u=p.prototype.emit).call.apply(u,Bn(h=[this,a]).call(h,k))},f.subscribeUserStatus=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkLogin(),this.checkV2(),ge(Nie,a,"",!0),h.next=5,this.core.sendCmd("v2SubscribeUserStatus",{tag:{eventType:1,duration:a.duration||60,immediateSync:a.immediateSync!==void 0&&a.immediateSync},accountIds:a.accountIds});case 5:return c=h.sent,h.abrupt("return",c.content.failedList);case 7:case"end":return h.stop()}},l,this)}))},f.unsubscribeUserStatus=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u;return q.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(this.checkLogin(),this.checkV2(),ge(Rie,a,"",!0),c=[],!(a.accountIds.length>0)){C.next=11;break}return C.next=7,this.core.sendCmd("v2UnsubscribeUserStatus",{tag:{eventType:1},accountIds:a.accountIds});case 7:u=C.sent,c=u.content.failedList,C.next=15;break;case 11:return C.next=14,this.core.sendCmd("v2UnsubscribeAllUserStatus",{tag:{eventType:1}});case 14:c=[];case 15:return C.abrupt("return",c);case 16:case"end":return C.stop()}},l,this)}))},f.publishCustomUserStatus=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.checkLogin(),this.checkV2(),ge(Aie,a,"",!0),h.next=5,this.core.sendCmd("v2PublishEvent",{tag:ce(ce({},a),{eventType:1,uniqueId:ai(),duration:a.duration||60,onlineOnly:a.onlineOnly===void 0||a.onlineOnly,multiSync:a.multiSync!==void 0&&a.multiSync})});case 5:return c=h.sent,h.abrupt("return",c.content.data);case 7:case"end":return h.stop()}},l,this)}))},f.queryUserStatusSubscriptions=function(a){return le(this,void 0,void 0,q.mark(function l(){var c,u,h,C,x,k;return q.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this.checkLogin(),this.checkV2(),ge({accountIds:{type:"array",required:!0,itemType:"string",max:3e3}},{accountIds:a},"",!0),c=[],!(a.length>0)){W.next=16;break}u=0;case 6:if(!(u<a.length)){W.next=14;break}return W.next=9,this.core.sendCmd("v2QuerySubscribeEvent",{tag:{eventType:1},accountIds:zn(a).call(a,u,u+100)});case 9:C=W.sent,c=Bn(c).call(c,Qe(h=C.content.data).call(h,function(Y){return{accountId:Y.accountId,subscribeTime:Y.subscribeTime,duration:Y.duration}}));case 11:u+=100,W.next=6;break;case 14:W.next=20;break;case 16:return W.next=18,this.core.sendCmd("v2QueryAllSubscribeEvent",{tag:{eventType:1}});case 18:k=W.sent,c=Bn(c).call(c,Qe(x=k.content.data).call(x,function(Y){return{accountId:Y.accountId,subscribeTime:Y.subscribeTime,duration:Y.duration}}));case 20:return W.abrupt("return",c);case 21:case"end":return W.stop()}},l,this)}))},f.v2OnUserStatusChangeHandler=function(a){var l=a.content.data,c=l.eventType,u=l.extensionReceived,h=Ja(l,["eventType","extensionReceived"]);c===1?this.emit("onUserStatusChanged",[ce(ce({},h),{extension:u})]):this.logger.log("v2OnUserStatusChangeHandler eventType = ",c,"msgEvent = ",l)},f.v2OnMultiUserStatusChangeHandler=function(a){var l,c=a.content.data,u=Qe(l=Tn(c).call(c,function(h){return h.eventType===1})).call(l,function(h){h.eventType;var C=h.extensionReceived,x=Ja(h,["eventType","extensionReceived"]);return ce(ce({},x),{extension:C})});u.length>0&&this.emit("onUserStatusChanged",u)},y}(ji);(function(p){p[p.V2NIM_PROXY_REQUEST_METHOD_GET=1]="V2NIM_PROXY_REQUEST_METHOD_GET",p[p.V2NIM_PROXY_REQUEST_METHOD_POST=2]="V2NIM_PROXY_REQUEST_METHOD_POST",p[p.V2NIM_PROXY_REQUEST_METHOD_PUT=3]="V2NIM_PROXY_REQUEST_METHOD_PUT",p[p.V2NIM_PROXY_REQUEST_METHOD_DELETE=4]="V2NIM_PROXY_REQUEST_METHOD_DELETE"})(Ed||(Ed={}));var FU="V2NIMPassthroughService",kie={"22_1":"v2ProxyRequest","22_2":"v2ProxyOnRequest"},qU={zone:1,path:2,method:3,header:4,body:5},Lie={v2ProxyRequest:{sid:22,cid:1,service:FU,params:[{type:"Property",name:"tag",reflectMapper:qU}],response:[{type:"Property",name:"data",reflectMapper:dt(qU)}]},v2ProxyOnRequest:{sid:22,cid:2,service:FU,response:[{type:"Property",name:"data",reflectMapper:dt({fromAccountId:1,body:2,time:{id:3,retType:"number"}})}]}},Pie={path:{type:"string",allowEmpty:!1},zone:{type:"string",required:!1},method:{type:"enum",values:[Ed.V2NIM_PROXY_REQUEST_METHOD_DELETE,Ed.V2NIM_PROXY_REQUEST_METHOD_GET,Ed.V2NIM_PROXY_REQUEST_METHOD_POST,Ed.V2NIM_PROXY_REQUEST_METHOD_PUT],required:!1},header:{type:"jsonstr",required:!1},body:{type:"string",required:!1}},Die=function(p){function y(o){var a;return a=p.call(this,"V2NIMPassthroughService",o)||this,Wr({cmdMap:kie,cmdConfig:Lie}),a}pr(y,p);var f=y.prototype;return f.emit=function(a){for(var l,c,u,h,C=this.name+"::emit "+a.toString(),x=arguments.length,k=new Array(x>1?x-1:0),B=1;B<x;B++)k[B-1]=arguments[B];return(l=this.logger).log.apply(l,Bn(c=[""+C]).call(c,k)),(u=p.prototype.emit).call.apply(u,Bn(h=[this,a]).call(h,k))},f.httpProxy=function(a){return le(this,void 0,void 0,q.mark(function l(){var c;return q.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(ge(Pie,a,"",!0),!(a.method===Ed.V2NIM_PROXY_REQUEST_METHOD_GET&&a.body||a.method===Ed.V2NIM_PROXY_REQUEST_METHOD_POST&&!a.body||a.method===Ed.V2NIM_PROXY_REQUEST_METHOD_PUT&&!a.body)){h.next=3;break}throw new Ct({code:it.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"method "+a.method+", incorrect body"}});case 3:return h.next=5,this.core.sendCmd("v2ProxyRequest",{tag:a});case 5:return c=h.sent,h.abrupt("return",c.content.data);case 7:case"end":return h.stop()}},l,this)}))},f.v2ProxyOnRequestHandler=function(a){var l=a.content.data;this.emit("onProxyNotify",l)},y}(ji),jie=d(function(p,y){p.exports=function(f){var o=function(Ae,Ee){return Ae+Ee&4294967295},a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function l(Ae,Ee,me,Ve,Ge,ze){return Ee=o(o(Ee,Ae),o(Ve,ze)),o(Ee<<Ge|Ee>>>32-Ge,me)}function c(Ae,Ee,me,Ve,Ge,ze,mt){return l(Ee&me|~Ee&Ve,Ae,Ee,Ge,ze,mt)}function u(Ae,Ee,me,Ve,Ge,ze,mt){return l(Ee&Ve|me&~Ve,Ae,Ee,Ge,ze,mt)}function h(Ae,Ee,me,Ve,Ge,ze,mt){return l(Ee^me^Ve,Ae,Ee,Ge,ze,mt)}function C(Ae,Ee,me,Ve,Ge,ze,mt){return l(me^(Ee|~Ve),Ae,Ee,Ge,ze,mt)}function x(Ae,Ee){var me=Ae[0],Ve=Ae[1],Ge=Ae[2],ze=Ae[3];me=c(me,Ve,Ge,ze,Ee[0],7,-680876936),ze=c(ze,me,Ve,Ge,Ee[1],12,-389564586),Ge=c(Ge,ze,me,Ve,Ee[2],17,606105819),Ve=c(Ve,Ge,ze,me,Ee[3],22,-1044525330),me=c(me,Ve,Ge,ze,Ee[4],7,-176418897),ze=c(ze,me,Ve,Ge,Ee[5],12,1200080426),Ge=c(Ge,ze,me,Ve,Ee[6],17,-1473231341),Ve=c(Ve,Ge,ze,me,Ee[7],22,-45705983),me=c(me,Ve,Ge,ze,Ee[8],7,1770035416),ze=c(ze,me,Ve,Ge,Ee[9],12,-1958414417),Ge=c(Ge,ze,me,Ve,Ee[10],17,-42063),Ve=c(Ve,Ge,ze,me,Ee[11],22,-1990404162),me=c(me,Ve,Ge,ze,Ee[12],7,1804603682),ze=c(ze,me,Ve,Ge,Ee[13],12,-40341101),Ge=c(Ge,ze,me,Ve,Ee[14],17,-1502002290),me=u(me,Ve=c(Ve,Ge,ze,me,Ee[15],22,1236535329),Ge,ze,Ee[1],5,-165796510),ze=u(ze,me,Ve,Ge,Ee[6],9,-1069501632),Ge=u(Ge,ze,me,Ve,Ee[11],14,643717713),Ve=u(Ve,Ge,ze,me,Ee[0],20,-373897302),me=u(me,Ve,Ge,ze,Ee[5],5,-701558691),ze=u(ze,me,Ve,Ge,Ee[10],9,38016083),Ge=u(Ge,ze,me,Ve,Ee[15],14,-660478335),Ve=u(Ve,Ge,ze,me,Ee[4],20,-405537848),me=u(me,Ve,Ge,ze,Ee[9],5,568446438),ze=u(ze,me,Ve,Ge,Ee[14],9,-1019803690),Ge=u(Ge,ze,me,Ve,Ee[3],14,-187363961),Ve=u(Ve,Ge,ze,me,Ee[8],20,1163531501),me=u(me,Ve,Ge,ze,Ee[13],5,-1444681467),ze=u(ze,me,Ve,Ge,Ee[2],9,-51403784),Ge=u(Ge,ze,me,Ve,Ee[7],14,1735328473),me=h(me,Ve=u(Ve,Ge,ze,me,Ee[12],20,-1926607734),Ge,ze,Ee[5],4,-378558),ze=h(ze,me,Ve,Ge,Ee[8],11,-2022574463),Ge=h(Ge,ze,me,Ve,Ee[11],16,1839030562),Ve=h(Ve,Ge,ze,me,Ee[14],23,-35309556),me=h(me,Ve,Ge,ze,Ee[1],4,-1530992060),ze=h(ze,me,Ve,Ge,Ee[4],11,1272893353),Ge=h(Ge,ze,me,Ve,Ee[7],16,-155497632),Ve=h(Ve,Ge,ze,me,Ee[10],23,-1094730640),me=h(me,Ve,Ge,ze,Ee[13],4,681279174),ze=h(ze,me,Ve,Ge,Ee[0],11,-358537222),Ge=h(Ge,ze,me,Ve,Ee[3],16,-722521979),Ve=h(Ve,Ge,ze,me,Ee[6],23,76029189),me=h(me,Ve,Ge,ze,Ee[9],4,-640364487),ze=h(ze,me,Ve,Ge,Ee[12],11,-421815835),Ge=h(Ge,ze,me,Ve,Ee[15],16,530742520),me=C(me,Ve=h(Ve,Ge,ze,me,Ee[2],23,-995338651),Ge,ze,Ee[0],6,-198630844),ze=C(ze,me,Ve,Ge,Ee[7],10,1126891415),Ge=C(Ge,ze,me,Ve,Ee[14],15,-1416354905),Ve=C(Ve,Ge,ze,me,Ee[5],21,-57434055),me=C(me,Ve,Ge,ze,Ee[12],6,1700485571),ze=C(ze,me,Ve,Ge,Ee[3],10,-1894986606),Ge=C(Ge,ze,me,Ve,Ee[10],15,-1051523),Ve=C(Ve,Ge,ze,me,Ee[1],21,-2054922799),me=C(me,Ve,Ge,ze,Ee[8],6,1873313359),ze=C(ze,me,Ve,Ge,Ee[15],10,-30611744),Ge=C(Ge,ze,me,Ve,Ee[6],15,-1560198380),Ve=C(Ve,Ge,ze,me,Ee[13],21,1309151649),me=C(me,Ve,Ge,ze,Ee[4],6,-145523070),ze=C(ze,me,Ve,Ge,Ee[11],10,-1120210379),Ge=C(Ge,ze,me,Ve,Ee[2],15,718787259),Ve=C(Ve,Ge,ze,me,Ee[9],21,-343485551),Ae[0]=o(me,Ae[0]),Ae[1]=o(Ve,Ae[1]),Ae[2]=o(Ge,Ae[2]),Ae[3]=o(ze,Ae[3])}function k(Ae){var Ee,me=[];for(Ee=0;Ee<64;Ee+=4)me[Ee>>2]=Ae.charCodeAt(Ee)+(Ae.charCodeAt(Ee+1)<<8)+(Ae.charCodeAt(Ee+2)<<16)+(Ae.charCodeAt(Ee+3)<<24);return me}function B(Ae){var Ee,me=[];for(Ee=0;Ee<64;Ee+=4)me[Ee>>2]=Ae[Ee]+(Ae[Ee+1]<<8)+(Ae[Ee+2]<<16)+(Ae[Ee+3]<<24);return me}function W(Ae){var Ee,me,Ve,Ge,ze,mt,Tt=Ae.length,Be=[1732584193,-271733879,-1732584194,271733878];for(Ee=64;Ee<=Tt;Ee+=64)x(Be,k(Ae.substring(Ee-64,Ee)));for(me=(Ae=Ae.substring(Ee-64)).length,Ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ee=0;Ee<me;Ee+=1)Ve[Ee>>2]|=Ae.charCodeAt(Ee)<<(Ee%4<<3);if(Ve[Ee>>2]|=128<<(Ee%4<<3),Ee>55)for(x(Be,Ve),Ee=0;Ee<16;Ee+=1)Ve[Ee]=0;return Ge=(Ge=8*Tt).toString(16).match(/(.*?)(.{0,8})$/),ze=parseInt(Ge[2],16),mt=parseInt(Ge[1],16)||0,Ve[14]=ze,Ve[15]=mt,x(Be,Ve),Be}function Y(Ae){var Ee,me,Ve,Ge,ze,mt,Tt=Ae.length,Be=[1732584193,-271733879,-1732584194,271733878];for(Ee=64;Ee<=Tt;Ee+=64)x(Be,B(Ae.subarray(Ee-64,Ee)));for(me=(Ae=Ee-64<Tt?Ae.subarray(Ee-64):new Uint8Array(0)).length,Ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ee=0;Ee<me;Ee+=1)Ve[Ee>>2]|=Ae[Ee]<<(Ee%4<<3);if(Ve[Ee>>2]|=128<<(Ee%4<<3),Ee>55)for(x(Be,Ve),Ee=0;Ee<16;Ee+=1)Ve[Ee]=0;return Ge=(Ge=8*Tt).toString(16).match(/(.*?)(.{0,8})$/),ze=parseInt(Ge[2],16),mt=parseInt(Ge[1],16)||0,Ve[14]=ze,Ve[15]=mt,x(Be,Ve),Be}function ne(Ae){var Ee,me="";for(Ee=0;Ee<4;Ee+=1)me+=a[Ae>>8*Ee+4&15]+a[Ae>>8*Ee&15];return me}function se(Ae){var Ee;for(Ee=0;Ee<Ae.length;Ee+=1)Ae[Ee]=ne(Ae[Ee]);return Ae.join("")}function xe(Ae){return/[\u0080-\uFFFF]/.test(Ae)&&(Ae=unescape(encodeURIComponent(Ae))),Ae}function we(Ae,Ee){var me,Ve=Ae.length,Ge=new ArrayBuffer(Ve),ze=new Uint8Array(Ge);for(me=0;me<Ve;me+=1)ze[me]=Ae.charCodeAt(me);return Ee?ze:Ge}function $e(Ae){return String.fromCharCode.apply(null,new Uint8Array(Ae))}function Me(Ae,Ee,me){var Ve=new Uint8Array(Ae.byteLength+Ee.byteLength);return Ve.set(new Uint8Array(Ae)),Ve.set(new Uint8Array(Ee),Ae.byteLength),Ve}function Fe(Ae){var Ee,me=[],Ve=Ae.length;for(Ee=0;Ee<Ve-1;Ee+=2)me.push(parseInt(Ae.substr(Ee,2),16));return String.fromCharCode.apply(String,me)}function We(){this.reset()}return se(W("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(o=function(Ae,Ee){var me=(65535&Ae)+(65535&Ee);return(Ae>>16)+(Ee>>16)+(me>>16)<<16|65535&me}),typeof ArrayBuffer>"u"||ArrayBuffer.prototype.slice||function(){function Ae(Ee,me){return(Ee=0|Ee||0)<0?Math.max(Ee+me,0):Math.min(Ee,me)}ArrayBuffer.prototype.slice=function(Ee,me){var Ve,Ge,ze,mt,Tt=this.byteLength,Be=Ae(Ee,Tt),dn=Tt;return me!==f&&(dn=Ae(me,Tt)),Be>dn?new ArrayBuffer(0):(Ve=dn-Be,Ge=new ArrayBuffer(Ve),ze=new Uint8Array(Ge),mt=new Uint8Array(this,Be,Ve),ze.set(mt),Ge)}}(),We.prototype.append=function(Ae){return this.appendBinary(xe(Ae)),this},We.prototype.appendBinary=function(Ae){this._buff+=Ae,this._length+=Ae.length;var Ee,me=this._buff.length;for(Ee=64;Ee<=me;Ee+=64)x(this._hash,k(this._buff.substring(Ee-64,Ee)));return this._buff=this._buff.substring(Ee-64),this},We.prototype.end=function(Ae){var Ee,me,Ve=this._buff,Ge=Ve.length,ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(Ee=0;Ee<Ge;Ee+=1)ze[Ee>>2]|=Ve.charCodeAt(Ee)<<(Ee%4<<3);return this._finish(ze,Ge),me=se(this._hash),Ae&&(me=Fe(me)),this.reset(),me},We.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},We.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},We.prototype.setState=function(Ae){return this._buff=Ae.buff,this._length=Ae.length,this._hash=Ae.hash,this},We.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},We.prototype._finish=function(Ae,Ee){var me,Ve,Ge,ze=Ee;if(Ae[ze>>2]|=128<<(ze%4<<3),ze>55)for(x(this._hash,Ae),ze=0;ze<16;ze+=1)Ae[ze]=0;me=(me=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),Ve=parseInt(me[2],16),Ge=parseInt(me[1],16)||0,Ae[14]=Ve,Ae[15]=Ge,x(this._hash,Ae)},We.hash=function(Ae,Ee){return We.hashBinary(xe(Ae),Ee)},We.hashBinary=function(Ae,Ee){var me=se(W(Ae));return Ee?Fe(me):me},We.ArrayBuffer=function(){this.reset()},We.ArrayBuffer.prototype.append=function(Ae){var Ee,me=Me(this._buff.buffer,Ae),Ve=me.length;for(this._length+=Ae.byteLength,Ee=64;Ee<=Ve;Ee+=64)x(this._hash,B(me.subarray(Ee-64,Ee)));return this._buff=Ee-64<Ve?new Uint8Array(me.buffer.slice(Ee-64)):new Uint8Array(0),this},We.ArrayBuffer.prototype.end=function(Ae){var Ee,me,Ve=this._buff,Ge=Ve.length,ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(Ee=0;Ee<Ge;Ee+=1)ze[Ee>>2]|=Ve[Ee]<<(Ee%4<<3);return this._finish(ze,Ge),me=se(this._hash),Ae&&(me=Fe(me)),this.reset(),me},We.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},We.ArrayBuffer.prototype.getState=function(){var Ae=We.prototype.getState.call(this);return Ae.buff=$e(Ae.buff),Ae},We.ArrayBuffer.prototype.setState=function(Ae){return Ae.buff=we(Ae.buff,!0),We.prototype.setState.call(this,Ae)},We.ArrayBuffer.prototype.destroy=We.prototype.destroy,We.ArrayBuffer.prototype._finish=We.prototype._finish,We.ArrayBuffer.hash=function(Ae,Ee){var me=se(Y(new Uint8Array(Ae)));return Ee?Fe(me):me},We}()}),Vie=function(y){return y&&typeof y=="object"&&"default"in y?y.default:y}(jie),$ie=class{md5(y,f,o){this.aborted=!1,this.progress=0;let a=0;const l=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,c=2097152,u=Math.ceil(y.size/c),h=new Vie.ArrayBuffer,C=new FileReader;function x(){const k=a*c,B=k+c>=y.size?y.size:k+c;C.readAsArrayBuffer(l.call(y,k,B))}x(),C.onloadend=k=>{h.append(k.target.result),a++,this.progress=a/u,o&&typeof o=="function"&&o(this.progress),this.aborted?f("aborted"):a<u?x():f(null,h.end())}}abort(){this.aborted=!0}},Uie=function(){function p(f){this.name="DataStructureConverter",this.core=f}var y=p.prototype;return y.messageConvertToV1=function(o){var a,l=Rr(uo(o,Er),dt(Wp)),c=Gp(l,this.core.account),u=(a=this.core.session)===null||a===void 0?void 0:a.getSessionWithUncomplete({id:c});return ll(l,u?{account:this.core.account,sessionAck:u.ack,msgReceiptTime:u.msgReceiptTime}:{account:this.core.account})},y.messageConvertToV2=function(o){var a=Rr(uo(PC(o,o.from,o.fromDeviceId),Wp),$x);return(a=ko(this.core,a)).sendingState=o.status==="sending"?3:o.status==="sendFailed"?2:1,a},p}(),Bie=function(){function p(f){this.name="V2NIMMessageConverter",this.core=f}var y=p.prototype;return y.messageSerialization=function(o){if(!o)return null;var a=uo(o,Er);return $t(a)},y.messageDeserialization=function(o){var a,l,c,u,h,C,x,k,B,W,Y,ne,se,xe,we,$e,Me,Fe,We,Ae,Ee,me,Ve;if(!o)return null;try{var Ge,ze,mt,Tt,Be=Rr(JSON.parse(o),$x);return Be.sendingState=0,Be.conversationType!==1||Be.senderId!==this.core.account&&Be.receiverId!==this.core.account?Be.conversationType===2?Be.conversationId=this.core.V2NIMConversationIdUtil.teamConversationId(Be.receiverId):Be.conversationType===3&&(Be.conversationId=this.core.V2NIMConversationIdUtil.superTeamConversationId(Be.receiverId)):Be.conversationId=this.core.V2NIMConversationIdUtil.p2pConversationId(Be.senderId===this.core.account?Be.receiverId:Be.senderId),Be.threadReply&&(Be.threadReply.conversationType=Be.conversationType,Be.threadReply=OS(this.core,Be.threadReply)),Be.threadRoot&&(Be.threadRoot.conversationType=Be.conversationType,Be.threadRoot=OS(this.core,Be.threadRoot)),or(Ge=[1,3,2,0]).call(Ge,Be.conversationType)||this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid conversationType(enum): "+Be.conversationType),Be.senderId&&typeof Be.senderId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid senderId(string): "+Be.senderId),Be.receiverId&&typeof Be.receiverId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid receiverId(string): "+Be.receiverId),"createTime"in Be&&isNaN(Be.createTime)&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid createTime(number): "+Be.createTime),or(ze=[2,7,12,100,6,1,-1,4,5,11,0,10,3]).call(ze,Be.messageType)||this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid messageType(enum): "+Be.messageType),"subType"in Be&&isNaN(Be.subType)&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid subType(number): "+Be.subType),Be.messageClientId&&typeof Be.messageClientId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid messageClientId(string): "+Be.messageClientId),Be.messageServerId&&typeof Be.messageServerId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid messageServerId(string): "+Be.messageServerId),Be.attachment&&typeof Be.attachment!="object"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid attachment(object): "+Be.attachment),Be.text&&typeof Be.text!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid text(string): "+Be.text),Be.serverExtension&&typeof Be.serverExtension!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid serverExtension(string): "+Be.serverExtension),Be.callbackExtension&&typeof Be.callbackExtension!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid callbackExtension(string): "+Be.callbackExtension),!((a=Be.pushConfig)===null||a===void 0)&&a.pushContent&&typeof Be.pushConfig.pushContent!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid pushContent(string): "+Be.pushConfig.pushContent),!((l=Be.pushConfig)===null||l===void 0)&&l.pushPayload&&typeof Be.pushConfig.pushPayload!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid pushPayload(string): "+Be.pushConfig.pushPayload),!((c=Be.pushConfig)===null||c===void 0)&&c.forcePushContent&&typeof Be.pushConfig.forcePushContent!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid forcePushContent(string): "+Be.pushConfig.forcePushContent),!((u=Be.pushConfig)===null||u===void 0)&&u.forcePushAccountIds&&!Nr(Be.pushConfig.forcePushAccountIds)&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid forcePushAccountIds(array): "+Be.pushConfig.forcePushAccountIds),!((h=Be.routeConfig)===null||h===void 0)&&h.routeEnvironment&&typeof Be.routeConfig.routeEnvironment!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid routeEnvironment(string): "+Be.routeConfig.routeEnvironment),!((C=Be.antispamConfig)===null||C===void 0)&&C.antispamBusinessId&&typeof Be.antispamConfig.antispamBusinessId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid antispamBusinessId(string): "+Be.antispamConfig.antispamBusinessId),!((x=Be.antispamConfig)===null||x===void 0)&&x.antispamCustomMessage&&typeof Be.antispamConfig.antispamCustomMessage!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid antispamCustomMessage(string): "+Be.antispamConfig.antispamCustomMessage),!((k=Be.antispamConfig)===null||k===void 0)&&k.antispamCheating&&typeof Be.antispamConfig.antispamCheating!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid antispamCheating(string): "+Be.antispamConfig.antispamCheating),!((B=Be.antispamConfig)===null||B===void 0)&&B.antispamExtension&&typeof Be.antispamConfig.antispamExtension!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid antispamExtension(string): "+Be.antispamConfig.antispamExtension),!((W=Be.robotConfig)===null||W===void 0)&&W.accountId&&typeof Be.robotConfig.accountId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid accountId(string): "+Be.robotConfig.accountId),!((Y=Be.robotConfig)===null||Y===void 0)&&Y.topic&&typeof Be.robotConfig.topic!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid topic(string): "+Be.robotConfig.topic),!((ne=Be.robotConfig)===null||ne===void 0)&&ne.function&&typeof Be.robotConfig.function!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid function(string): "+Be.robotConfig.function),!((se=Be.robotConfig)===null||se===void 0)&&se.customContent&&typeof Be.robotConfig.customContent!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid customContent(string): "+Be.robotConfig.customContent),!((xe=Be.threadRoot)===null||xe===void 0)&&xe.senderId&&typeof Be.threadRoot.senderId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid senderId(string): "+Be.threadRoot.senderId),!((we=Be.threadRoot)===null||we===void 0)&&we.receiverId&&typeof Be.threadRoot.receiverId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid receiverId(string): "+Be.threadRoot.receiverId),!(($e=Be.threadRoot)===null||$e===void 0)&&$e.messageClientId&&typeof Be.threadRoot.messageClientId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid messageClientId(string): "+Be.threadRoot.messageClientId),!((Me=Be.threadRoot)===null||Me===void 0)&&Me.messageServerId&&typeof Be.threadRoot.messageServerId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid messageServerId(string): "+Be.threadRoot.messageServerId),Be.threadRoot&&"createTime"in Be.threadRoot&&isNaN(Be.threadRoot.createTime)&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid createTime(number): "+Be.threadRoot.createTime),Be.threadRoot&&!or(mt=[1,3,2,0]).call(mt,Be.threadRoot.conversationType)&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid conversationType(enum): "+Be.threadRoot.conversationType),!((Fe=Be.threadRoot)===null||Fe===void 0)&&Fe.conversationId&&typeof Be.threadRoot.conversationId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid conversationId(string): "+Be.threadRoot.conversationId),!((We=Be.threadReply)===null||We===void 0)&&We.senderId&&typeof Be.threadReply.senderId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid senderId(string): "+Be.threadReply.senderId),!((Ae=Be.threadReply)===null||Ae===void 0)&&Ae.receiverId&&typeof Be.threadReply.receiverId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid receiverId(string): "+Be.threadReply.receiverId),!((Ee=Be.threadReply)===null||Ee===void 0)&&Ee.messageClientId&&typeof Be.threadReply.messageClientId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid messageClientId(string): "+Be.threadReply.messageClientId),!((me=Be.threadReply)===null||me===void 0)&&me.messageServerId&&typeof Be.threadReply.messageServerId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid messageServerId(string): "+Be.threadReply.messageServerId),Be.threadReply&&"createTime"in Be.threadReply&&isNaN(Be.threadReply.createTime)&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid createTime(number): "+Be.threadReply.createTime),Be.threadReply&&!or(Tt=[1,3,2,0]).call(Tt,Be.threadReply.conversationType)&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid conversationType(enum): "+Be.threadReply.conversationType),!((Ve=Be.threadReply)===null||Ve===void 0)&&Ve.conversationId&&typeof Be.threadReply.conversationId!="string"&&this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid conversationId(string): "+Be.threadReply.conversationId),delete Be.__clientExt,delete Be.userUpdateTime,Be}catch{return this.core.logger.error("V2NIMMessageConverterImpl.messageDeserialization: invalid message string: "+o),null}},p}();(function(y){sC(rn,y())})(function(){return{setLogger:$Q,platform:"BROWSER",localStorage:window.localStorage,request:b,WebSocket:window.WebSocket,uploadFile:UQ,getFileUploadInformation:BQ,getSystemInfo:FQ,net:qQ,logStorage:GQ}}),m.registerService(oZ,"V1NIMLoginService"),m.registerService(Hne,"msg"),m.registerService(Xne,"user"),m.registerService(nre,"session"),m.registerService(are,"team"),m.registerService(sre,"systemMessage"),m.registerService(dre,"friend"),m.registerService(gre,"event"),m.registerService(bre,"msgExtend"),m.registerService(Mre,"msgLog"),m.registerService(wre,"passThrough"),m.registerService(t$,"cloudStorage"),m.registerService(Fre,"superTeam"),m.registerService(Wne,"sync"),m.registerService(Hre,"plugin"),m.registerService(Xre,"cloudSession"),m.registerService(Zre,"signaling"),m.registerService(PZ,"V2NIMLoginService"),m.registerService(rte,"V2NIMLocalConversationService"),m.registerService(C$,"V2NIMConversationService"),m.registerService(l$,"V2NIMMessageService"),m.registerService(Zae,"V2NIMNotificationService"),m.registerService(n$,"V2NIMStorageService"),m.registerService(YV,"V2NIMStorageUtil"),m.registerService(vte,"V2NIMConversationGroupService"),m.registerService(qte,"V2NIMTeamService"),m.registerService(P$,"V2NIMUserService"),m.registerService(ine,"V2NIMFriendService"),m.registerService(Ine,"V2NIMSettingService"),m.registerService(nie,"V2NIMSyncService"),m.registerService(pie,"V2NIMAIService"),m.registerService(Uie,"DataStructureConverter"),m.registerService(Bie,"V2NIMMessageConverter"),m.registerService(Ste,"V2NIMMessageLogUtil"),m.registerService(_te,"V2NIMMessageExtendUtil"),m.registerService(_ie,"V2NIMSignallingService"),m.registerService(Oie,"V2NIMSubscriptionService"),m.registerService(Die,"V2NIMPassthroughService"),m.registerService(o$,"YSFService"),m.registerService(Cae,"qchatChannel"),m.registerService(Rae,"qchatMedia"),m.registerService(Wae,"qchatMsg"),m.registerService(Xae,"qchatRole"),m.registerService(Qae,"qchatServer"),m.registerPlugin($ie,"browser-md5-file"),m.registerPrivateService(function(y){var f=this;this.bindEvents=function(){f.core.eventBus.on("forwardSend/msg/sendMsg",f.onV1SendMsg),f.core.eventBus.on("forwardSend/msg/recallMsg",f.onV1RecallMsg),f.core.eventBus.on("forwardSend/msg/deleteSelfMsgs",f.onV1DeleteSelfMsgs),f.core.eventBus.on("forwardSend/msgLog/clearHistoryMsgsFromServer",f.onV1ClearHistoryMessage),f.core.eventBus.on("forwardSend/V2NIMMessageService/sendMsg",f.onV2SendMsg),f.core.eventBus.on("forwardSend/V2NIMMessageService/modifyMsg",f.onV2ModifyMsg),f.core.eventBus.on("forwardSend/V2NIMMessageService/revokeMessage",f.onV2RevokeMessage),f.core.eventBus.on("forwardSend/V2NIMMessageService/deleteSelfMsgs",f.onV2DeleteSelfMsgs),f.core.eventBus.on("forwardSend/V2NIMMessageLogService/clearHistoryMessage",f.onV2ClearHistoryMessage),f.core.eventBus.on("forwardSend/team/created",f.onV1TeamCreated),f.core.eventBus.on("forwardSend/team/updateMyMemberInfo",f.onV1TeamMemberUpdate),f.core.eventBus.on("forwardSend/superTeam/updateMyMemberInfo",f.onV1SuperTeamMemberUpdate),f.core.eventBus.on("forwardSend/V2NIMTeamService/updateSelfTeamMemberInfo",f.onV2TeamMemberUpdate),f.core.eventBus.on("forwardSend/team/passTeamApply",function(o,a){return f.onV1TeamApply(o,1,1,a)}),f.core.eventBus.on("forwardSend/superTeam/passSuperTeamApply",function(o,a){f.onV1TeamApply(o,2,1,a)}),f.core.eventBus.on("forwardSend/team/rejectTeamApply",function(o,a){f.onV1TeamApply(o,1,2,a)}),f.core.eventBus.on("forwardSend/superTeam/rejectSuperTeamApply",function(o,a){f.onV1TeamApply(o,2,2,a)}),f.core.eventBus.on("forwardSend/team/acceptTeamInvite",function(o,a){f.onV1TeamInvite(o,1,1,a)}),f.core.eventBus.on("forwardSend/superTeam/acceptSuperTeamInvite",function(o,a){f.onV1TeamInvite(o,2,1,a)}),f.core.eventBus.on("forwardSend/team/rejectTeamInvite",function(o,a){f.onV1TeamInvite(o,1,2,a)}),f.core.eventBus.on("forwardSend/superTeam/rejectSuperTeamInvite",function(o,a){f.onV1TeamInvite(o,2,2,a)}),f.core.eventBus.on("forwardSend/user/updateBlackList",f.onV1UpdateBlackList),f.core.eventBus.on("forwardSend/user/updateUserInfo",f.onV1UpdateUserInfo),f.core.eventBus.on("forwardSend/user/setMute",f.onV1SetMute),f.core.eventBus.on("forwardSend/friend/addFriend",f.onV1AddFriend),f.core.eventBus.on("forwardSend/friend/deleteFriend",f.onV1DeleteFriend),f.core.eventBus.on("forwardSend/friend/updateFriend",f.onV1UpdateFriend),f.core.eventBus.on("forwardSend/friend/passFriendApply",f.onV1PassFriendApply),f.core.eventBus.on("forwardSend/friend/rejectFriendApply",f.onV1RejectFriendApply)},this.onV1TeamApply=function(o,a,l,c){if(c){if(!f.core.V2NIMTeamService.notification.checkIfExpired(c))return;l=3}f.core.eventBus.emit("forwardReceive/V2NIMTeamService/updateTeamActionStatus",{teamId:o.teamId,teamType:a,operatorAccountId:o.from,actionType:0},l)},this.onV1TeamInvite=function(o,a,l,c){if(c){if(!f.core.V2NIMTeamService.notification.checkIfExpired(c.code))return;l=3}f.core.eventBus.emit("forwardReceive/V2NIMTeamService/updateTeamActionStatus",{teamId:o.teamId,teamType:a,operatorAccountId:o.from,actionType:2},l)},this.onV1PassFriendApply=function(o,a){f.core.eventBus.emit("forwardReceive/V2NIMFriendService/acceptAddApplication",o,a)},this.onV1RejectFriendApply=function(o,a,l){f.core.eventBus.emit("forwardReceive/V2NIMFriendService/rejectAddApplication",{applicantAccountId:o,recipientAccountId:f.core.account,operatorAccountId:f.core.account,postscript:a||"",timestamp:f.core.timeOrigin.getNTPTime(),read:!0,status:3},l)},this.onV1SetMute=function(o,a){f.core.eventBus.emit("forwardReceive/v2NIMSettingService/setP2PMessageMuteMode",o,a?1:0)},this.onV1UpdateFriend=function(o){f.core.eventBus.emit("forwardReceive/V2NIMFriendService/setFriendInfo",o.account,ce(ce({},"alias"in o?{alias:o.alias}:{}),"ext"in o?{serverExtension:o.ext}:{}))},this.onV1AddFriend=function(o){f.core.eventBus.emit("forwardReceive/V2NIMFriendService/addFriend",o)},this.onV1DeleteFriend=function(o){f.core.eventBus.emit("forwardReceive/V2NIMFriendService/deleteFriend",o)},this.onV1UpdateUserInfo=function(o){var a=Rr(uo(o,ew.user),dt(Sv));f.core.eventBus.emit("forwardReceive/V2NIMUserService/updateUserProfile",a)},this.onV1UpdateBlackList=function(o,a){f.core.eventBus.emit("forwardReceive/V2NIMUserService/updateBlockList",o,a)},this.onV1TeamCreated=function(o){var a=Rr(uo(Zx(o),Sc.team),dt(Zi));f.core.eventBus.emit("forwardReceive/V2NIMTeamService/created",a)},this.onV1TeamMemberUpdate=function(o){(o=ce({},o)).type&&(o.type={normal:0,owner:1,manager:2}[o.type]);var a=Rr(uo(o,Sc.teamMember),dt(pd));a.teamType=1,f.core.eventBus.emit("forwardReceive/V2NIMTeamService/updateSelfTeamMemberInfo",a)},this.onV1SuperTeamMemberUpdate=function(o){(o=ce({},o)).type&&(o.type={normal:0,owner:1,manager:2}[o.type]);var a=Rr(uo(o,xv.superTeamMember),dt(Up));a.teamType=2,f.core.eventBus.emit("forwardReceive/V2NIMTeamService/updateSelfTeamMemberInfo",a)},this.onV2TeamMemberUpdate=function(o){var a=o.teamType,l=uo(o,pd);if(a===2){var c=Rr(l,dt(xv.superTeamMember));f.core.eventBus.emit("forwardReceive/superTeam/updateMyMemberInfo",c)}else{var u=Rr(l,dt(Sc.teamMember));f.core.eventBus.emit("forwardReceive/team/updateMyMemberInfo",u)}},this.onV1SendMsg=function(o){var a=Rr(uo(o,Wp),$x);(a=ko(f.core,a)).sendingState=o.status==="sending"?3:o.status==="sent"?1:2,f.core.eventBus.emit("forwardReceive/V2NIMMessageService/sendMsg",a)},this.onV2SendMsg=function(o){var a=Rr(uo(o,Er),dt(Wp));a.status=o.sendingState===3?"sending":o.sendingState===1?"sent":"sendFailed",f.core.eventBus.emit("forwardReceive/msg/sendMsg",a)},this.onV2ModifyMsg=function(o){var a=Rr(uo(o,Er),dt(Wp));f.core.eventBus.emit("forwardReceive/msg/modifyMsg",a)},this.onV1RecallMsg=function(o){o.deleteMsgCreatetime=o.time;var a=Rr(uo(o,hu.recallMsgTag),dt($f));f.core.eventBus.emit("forwardReceive/V2NIMMessageService/revokeMessages",[a])},this.onV2RevokeMessage=function(o){var a=Rr(uo(o,$f),fo.recallMsgTag);f.core.eventBus.emit("forwardReceive/msg/recallMsg",a)},this.onV1DeleteSelfMsgs=function(o){var a=Qe(o).call(o,function(l){return Rr(uo(l,hu.deleteSelfMsgTag),dt(Fp))});rt(a).call(a,function(l){l.messageRefer=md(f.core,l.messageRefer)}),f.core.eventBus.emit("forwardReceive/V2NIMMessageService/deleteMessages",a)},this.onV2DeleteSelfMsgs=function(o){var a=Qe(o).call(o,function(l){return Rr(uo(l,Fp),fo.deleteSelfMsgTag)});f.core.eventBus.emit("forwardReceive/msg/deleteSelfMsgs",a)},this.onV1ClearHistoryMessage=function(o){var a=Rr(uo(o,GS.clearHistoryMsgsFromServerReqTag),dt(VS));f.core.eventBus.emit("forwardReceive/V2NIMMessageLogService/clearHistoryMessage",a)},this.onV2ClearHistoryMessage=function(o){var a=Rr(uo(o,VS),Mv.clearHistoryMsgsFromServerReqTag);f.core.eventBus.emit("forwardReceive/msgLog/clearHistoryMsgsFromServer",a)},this.core=y,this.bindEvents()},"eventForwardCenter"),n.V2NIMConst=vS,n.default=m,Object.defineProperty(n,"__esModule",{value:!0})})}(PI,PI.exports)),PI.exports}var ng=jPe();const j0=by(ng),V0="fe41664**********847ad2547",KJ="xmx06",WJ="e10adc39*********7f20f883e",VPe="_moduleWrapper_5lpya_1",$Pe={moduleWrapper:VPe},UPe=()=>{const e=E.useRef(null),t=()=>{e.current=j0.getInstance({appkey:V0,debugLevel:"debug",apiVersion:"v2"},{}),e.current.V2NIMLoginService.on("onLoginStatus",function(r){console.log("收到 V2NIMLoginService 模块的 onLoginStatus 事件",r)})},n=()=>{var r,i;(i=(r=e.current)==null?void 0:r.destroy)==null||i.call(r)};return s.jsxs("div",{className:$Pe.moduleWrapper,children:[s.jsx(Ze,{type:"primary",onClick:t,style:{marginRight:16},children:"初始化实例"}),s.jsx(Ze,{type:"default",danger:!0,onClick:n,children:"销毁实例"})]})},BPe=`.moduleWrapper {
  padding: 24px;
  border-radius: 8px;
  border: 1px solid #f0f0f0;
}
`,FPe=`import { Button } from 'antd';
import NIM from 'nim-web-sdk-ng';
import { useRef } from 'react';

import { TEST_DEMO_APP_KEY } from '@/configs/sceneConfig';

import styles from './index.module.less';

const AddListener = () => {
  const nimRef = useRef<NIM & { destroy?: () => void }>(null);

  const init = () => {
    // 初始化实例
    nimRef.current = NIM.getInstance(
      {
        appkey: TEST_DEMO_APP_KEY,
        debugLevel: 'debug',
        apiVersion: 'v2',
      },
      {}
    );

    // 监听登录状态变化
    nimRef.current.V2NIMLoginService.on('onLoginStatus', function (arg1) {
      console.log('收到 V2NIMLoginService 模块的 onLoginStatus 事件', arg1);
    });
  };

  // 销毁实例
  const destroy = () => {
    nimRef.current?.destroy?.();
  };

  return (
    <div className={styles.moduleWrapper}>
      <Button type="primary" onClick={init} style={{ marginRight: 16 }}>
        初始化实例
      </Button>
      <Button type="default" danger onClick={destroy}>
        销毁实例
      </Button>
    </div>
  );
};

export default AddListener;
`,qPe="_moduleWrapper_5lpya_1",zPe={moduleWrapper:qPe},zv=()=>{const e=E.useRef(null),t=()=>{e.current=j0.getInstance({appkey:V0,debugLevel:"debug",apiVersion:"v2"},{})},n=()=>{var r,i;(i=(r=e.current)==null?void 0:r.destroy)==null||i.call(r)};return s.jsxs("div",{className:zPe.moduleWrapper,children:[s.jsx(Ze,{type:"primary",onClick:t,style:{marginRight:16},children:"初始化实例"}),s.jsx(Ze,{type:"default",danger:!0,onClick:n,children:"销毁实例"})]})},HPe=`.moduleWrapper {
  padding: 24px;
  border-radius: 8px;
  border: 1px solid #f0f0f0;
}
`,GPe=`import { Button } from 'antd';
import NIM from 'nim-web-sdk-ng';
import { useRef } from 'react';

import { TEST_DEMO_APP_KEY } from '@/configs/sceneConfig';

import styles from './index.module.less';

const BasicUse = () => {
  const nimRef = useRef<NIM & { destroy?: () => void }>(null);

  const init = () => {
    // 初始化实例
    nimRef.current = NIM.getInstance(
      {
        appkey: TEST_DEMO_APP_KEY,
        debugLevel: 'debug',
        apiVersion: 'v2',
      },
      {}
    );
  };

  // 销毁实例
  const destroy = () => {
    nimRef.current?.destroy?.();
  };

  return (
    <div className={styles.moduleWrapper}>
      <Button type="primary" onClick={init} style={{ marginRight: 16 }}>
        初始化实例
      </Button>
      <Button type="default" danger onClick={destroy}>
        销毁实例
      </Button>
    </div>
  );
};

export default BasicUse;
`;var Mk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $0(e){var t={exports:{}};return e(t,t.exports),t.exports}var YG,XG,JG,QG,ZG,e8,t8,n8,r8,a8,i8,o8,s8,l8,c8,u8,d8,p8,m8,f8,g8,h8,v8,y8,b8,S8,I8,E8,C8,T8,M8,_8,x8,w8,N8,R8,A8,O8,k8,L8,P8,D8,j8,V8,$8,U8,B8,F8,q8,z8,H8,G8,K8,W8,Y8,g0=$0(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(S,I,T){this.fn=S,this.context=I,this.once=T||!1}function d(S,I,T,_,N){if(typeof T!="function")throw new TypeError("The listener must be a function");var A=new i(T,_||S,N),w=n?n+I:I;return S._events[w]?S._events[w].fn?S._events[w]=[S._events[w],A]:S._events[w].push(A):(S._events[w]=A,S._eventsCount++),S}function g(S,I){--S._eventsCount==0?S._events=new r:delete S._events[I]}function v(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),v.prototype.eventNames=function(){var I,T,_=[];if(this._eventsCount===0)return _;for(T in I=this._events)t.call(I,T)&&_.push(n?T.slice(1):T);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(I)):_},v.prototype.listeners=function(I){var T=n?n+I:I,_=this._events[T];if(!_)return[];if(_.fn)return[_.fn];for(var N=0,A=_.length,w=new Array(A);N<A;N++)w[N]=_[N].fn;return w},v.prototype.listenerCount=function(I){var T=n?n+I:I,_=this._events[T];return _?_.fn?1:_.length:0},v.prototype.emit=function(I,T,_,N,A,w){var O=n?n+I:I;if(!this._events[O])return!1;var R,D,j=this._events[O],L=arguments.length;if(j.fn){switch(j.once&&this.removeListener(I,j.fn,void 0,!0),L){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,T),!0;case 3:return j.fn.call(j.context,T,_),!0;case 4:return j.fn.call(j.context,T,_,N),!0;case 5:return j.fn.call(j.context,T,_,N,A),!0;case 6:return j.fn.call(j.context,T,_,N,A,w),!0}for(D=1,R=new Array(L-1);D<L;D++)R[D-1]=arguments[D];j.fn.apply(j.context,R)}else{var U,$=j.length;for(D=0;D<$;D++)switch(j[D].once&&this.removeListener(I,j[D].fn,void 0,!0),L){case 1:j[D].fn.call(j[D].context);break;case 2:j[D].fn.call(j[D].context,T);break;case 3:j[D].fn.call(j[D].context,T,_);break;case 4:j[D].fn.call(j[D].context,T,_,N);break;default:if(!R)for(U=1,R=new Array(L-1);U<L;U++)R[U-1]=arguments[U];j[D].fn.apply(j[D].context,R)}}return!0},v.prototype.on=function(I,T,_){return d(this,I,T,_,!1)},v.prototype.once=function(I,T,_){return d(this,I,T,_,!0)},v.prototype.removeListener=function(I,T,_,N){var A=n?n+I:I;if(!this._events[A])return this;if(!T)return g(this,A),this;var w=this._events[A];if(w.fn)w.fn!==T||N&&!w.once||_&&w.context!==_||g(this,A);else{for(var O=0,R=[],D=w.length;O<D;O++)(w[O].fn!==T||N&&!w[O].once||_&&w[O].context!==_)&&R.push(w[O]);R.length?this._events[A]=R.length===1?R[0]:R:g(this,A)}return this},v.prototype.removeAllListeners=function(I){var T;return I?(T=n?n+I:I,this._events[T]&&g(this,T)):(this._events=new r,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=n,v.EventEmitter=v,e.exports=v}),KPe=$0(function(e,t){e.exports=function(){function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */n=function(){return A};var A={},w=Object.prototype,O=w.hasOwnProperty,R=typeof Symbol=="function"?Symbol:{},D=R.iterator||"@@iterator",j=R.asyncIterator||"@@asyncIterator",L=R.toStringTag||"@@toStringTag";function U(oe,pe,fe){return Object.defineProperty(oe,pe,{value:fe,enumerable:!0,configurable:!0,writable:!0}),oe[pe]}try{U({},"")}catch{U=function(pe,fe,_e){return pe[fe]=_e}}function $(oe,pe,fe,_e){var Te=pe&&pe.prototype instanceof H?pe:H,Se=Object.create(Te.prototype),De=new ue(_e||[]);return Se._invoke=function(je,ke,Oe){var Ne="suspendedStart";return function(qe,Ke){if(Ne==="executing")throw new Error("Generator is already running");if(Ne==="completed"){if(qe==="throw")throw Ke;return be()}for(Oe.method=qe,Oe.arg=Ke;;){var He=Oe.delegate;if(He){var nt=ae(He,Oe);if(nt){if(nt===z)continue;return nt}}if(Oe.method==="next")Oe.sent=Oe._sent=Oe.arg;else if(Oe.method==="throw"){if(Ne==="suspendedStart")throw Ne="completed",Oe.arg;Oe.dispatchException(Oe.arg)}else Oe.method==="return"&&Oe.abrupt("return",Oe.arg);Ne="executing";var Je=F(je,ke,Oe);if(Je.type==="normal"){if(Ne=Oe.done?"completed":"suspendedYield",Je.arg===z)continue;return{value:Je.arg,done:Oe.done}}Je.type==="throw"&&(Ne="completed",Oe.method="throw",Oe.arg=Je.arg)}}}(oe,fe,De),Se}function F(oe,pe,fe){try{return{type:"normal",arg:oe.call(pe,fe)}}catch(_e){return{type:"throw",arg:_e}}}A.wrap=$;var z={};function H(){}function V(){}function K(){}var J={};U(J,D,function(){return this});var te=Object.getPrototypeOf,Z=te&&te(te(ye([])));Z&&Z!==w&&O.call(Z,D)&&(J=Z);var X=K.prototype=H.prototype=Object.create(J);function re(oe){["next","throw","return"].forEach(function(pe){U(oe,pe,function(fe){return this._invoke(pe,fe)})})}function ee(oe,pe){function fe(Te,Se,De,je){var ke=F(oe[Te],oe,Se);if(ke.type!=="throw"){var Oe=ke.arg,Ne=Oe.value;return Ne&&typeof Ne=="object"&&O.call(Ne,"__await")?pe.resolve(Ne.__await).then(function(qe){fe("next",qe,De,je)},function(qe){fe("throw",qe,De,je)}):pe.resolve(Ne).then(function(qe){Oe.value=qe,De(Oe)},function(qe){return fe("throw",qe,De,je)})}je(ke.arg)}var _e;this._invoke=function(Te,Se){function De(){return new pe(function(je,ke){fe(Te,Se,je,ke)})}return _e=_e?_e.then(De,De):De()}}function ae(oe,pe){var fe=oe.iterator[pe.method];if(fe===void 0){if(pe.delegate=null,pe.method==="throw"){if(oe.iterator.return&&(pe.method="return",pe.arg=void 0,ae(oe,pe),pe.method==="throw"))return z;pe.method="throw",pe.arg=new TypeError("The iterator does not provide a 'throw' method")}return z}var _e=F(fe,oe.iterator,pe.arg);if(_e.type==="throw")return pe.method="throw",pe.arg=_e.arg,pe.delegate=null,z;var Te=_e.arg;return Te?Te.done?(pe[oe.resultName]=Te.value,pe.next=oe.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=void 0),pe.delegate=null,z):Te:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,z)}function de(oe){var pe={tryLoc:oe[0]};1 in oe&&(pe.catchLoc=oe[1]),2 in oe&&(pe.finallyLoc=oe[2],pe.afterLoc=oe[3]),this.tryEntries.push(pe)}function he(oe){var pe=oe.completion||{};pe.type="normal",delete pe.arg,oe.completion=pe}function ue(oe){this.tryEntries=[{tryLoc:"root"}],oe.forEach(de,this),this.reset(!0)}function ye(oe){if(oe){var pe=oe[D];if(pe)return pe.call(oe);if(typeof oe.next=="function")return oe;if(!isNaN(oe.length)){var fe=-1,_e=function Te(){for(;++fe<oe.length;)if(O.call(oe,fe))return Te.value=oe[fe],Te.done=!1,Te;return Te.value=void 0,Te.done=!0,Te};return _e.next=_e}}return{next:be}}function be(){return{value:void 0,done:!0}}return V.prototype=K,U(X,"constructor",K),U(K,"constructor",V),V.displayName=U(K,L,"GeneratorFunction"),A.isGeneratorFunction=function(oe){var pe=typeof oe=="function"&&oe.constructor;return!!pe&&(pe===V||(pe.displayName||pe.name)==="GeneratorFunction")},A.mark=function(oe){return Object.setPrototypeOf?Object.setPrototypeOf(oe,K):(oe.__proto__=K,U(oe,L,"GeneratorFunction")),oe.prototype=Object.create(X),oe},A.awrap=function(oe){return{__await:oe}},re(ee.prototype),U(ee.prototype,j,function(){return this}),A.AsyncIterator=ee,A.async=function(oe,pe,fe,_e,Te){Te===void 0&&(Te=Promise);var Se=new ee($(oe,pe,fe,_e),Te);return A.isGeneratorFunction(pe)?Se:Se.next().then(function(De){return De.done?De.value:Se.next()})},re(X),U(X,L,"Generator"),U(X,D,function(){return this}),U(X,"toString",function(){return"[object Generator]"}),A.keys=function(oe){var pe=[];for(var fe in oe)pe.push(fe);return pe.reverse(),function _e(){for(;pe.length;){var Te=pe.pop();if(Te in oe)return _e.value=Te,_e.done=!1,_e}return _e.done=!0,_e}},A.values=ye,ue.prototype={constructor:ue,reset:function(oe){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(he),!oe)for(var pe in this)pe.charAt(0)==="t"&&O.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=void 0)},stop:function(){this.done=!0;var oe=this.tryEntries[0].completion;if(oe.type==="throw")throw oe.arg;return this.rval},dispatchException:function(oe){if(this.done)throw oe;var pe=this;function fe(ke,Oe){return Se.type="throw",Se.arg=oe,pe.next=ke,Oe&&(pe.method="next",pe.arg=void 0),!!Oe}for(var _e=this.tryEntries.length-1;_e>=0;--_e){var Te=this.tryEntries[_e],Se=Te.completion;if(Te.tryLoc==="root")return fe("end");if(Te.tryLoc<=this.prev){var De=O.call(Te,"catchLoc"),je=O.call(Te,"finallyLoc");if(De&&je){if(this.prev<Te.catchLoc)return fe(Te.catchLoc,!0);if(this.prev<Te.finallyLoc)return fe(Te.finallyLoc)}else if(De){if(this.prev<Te.catchLoc)return fe(Te.catchLoc,!0)}else{if(!je)throw new Error("try statement without catch or finally");if(this.prev<Te.finallyLoc)return fe(Te.finallyLoc)}}}},abrupt:function(oe,pe){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var _e=this.tryEntries[fe];if(_e.tryLoc<=this.prev&&O.call(_e,"finallyLoc")&&this.prev<_e.finallyLoc){var Te=_e;break}}Te&&(oe==="break"||oe==="continue")&&Te.tryLoc<=pe&&pe<=Te.finallyLoc&&(Te=null);var Se=Te?Te.completion:{};return Se.type=oe,Se.arg=pe,Te?(this.method="next",this.next=Te.finallyLoc,z):this.complete(Se)},complete:function(oe,pe){if(oe.type==="throw")throw oe.arg;return oe.type==="break"||oe.type==="continue"?this.next=oe.arg:oe.type==="return"?(this.rval=this.arg=oe.arg,this.method="return",this.next="end"):oe.type==="normal"&&pe&&(this.next=pe),z},finish:function(oe){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var fe=this.tryEntries[pe];if(fe.finallyLoc===oe)return this.complete(fe.completion,fe.afterLoc),he(fe),z}},catch:function(oe){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var fe=this.tryEntries[pe];if(fe.tryLoc===oe){var _e=fe.completion;if(_e.type==="throw"){var Te=_e.arg;he(fe)}return Te}}throw new Error("illegal catch attempt")},delegateYield:function(oe,pe,fe){return this.delegate={iterator:ye(oe),resultName:pe,nextLoc:fe},this.method==="next"&&(this.arg=void 0),z}},A}function r(A){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},r(A)}function i(A,w){if(!(A instanceof w))throw new TypeError("Cannot call a class as a function")}function d(A,w){for(var O=0;O<w.length;O++){var R=w[O];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(A,R.key,R)}}function g(A,w,O){return w&&d(A.prototype,w),Object.defineProperty(A,"prototype",{writable:!1}),A}function v(A,w,O,R){function D(j){return j instanceof O?j:new O(function(L){L(j)})}return new(O||(O=Promise))(function(j,L){function U(z){try{F(R.next(z))}catch(H){L(H)}}function $(z){try{F(R.throw(z))}catch(H){L(H)}}function F(z){z.done?j(z.value):D(z.value).then(U,$)}F((R=R.apply(A,[])).next())})}var S={isDataReportEnable:!0,maxSize:100,msgListMaxSize:1e3,cacheMaxSize:1e3,maxDelay:3e5,maxInterval:3e4,minInterval:1e4,timeout:5e3,autoStart:!0,loginFailIgnoreInterval:72e5},I=12,T=8e3,_=function(){},N=function(){function A(w){i(this,A),this.isUploadEnable=!0,this.serverAllowUpload=!1,this.initConfigLoaded=!1,this.loading=!1,this.isDestroyed=!1,this.reportConfig=S,this.configPath="dispatcher/req",this.dataReportPath="statics/report/common/form",this.traceMsgCache={},this.reqRetryCount=0,this.highPriorityMsgList=[],this.msgList=[],this.lowPriorityMsgList=[],this.cacheMsgList=[],this.lastReportTime=Date.now(),this.timer=null,this.endedAsyncMsgByModule={},this.lastFailLogin={},this.setConfig(w),this.reportConfig.isDataReportEnable&&this.reportConfig.autoStart&&this.initUploadConfig()}return g(A,[{key:"setConfig",value:function(O){var R=Object.assign({},this.reportConfig.common,O.common);this.reportConfig=Object.assign({},this.reportConfig,O),this.reportConfig.common=R,this.reportConfig.common.sdk_type||(this.reportConfig.common.sdk_type="im")}},{key:"reportImmediately",value:function(O,R){var D=this;this.reportConfig.isDataReportEnable&&this.reportConfig.request(O,Object.assign({dataType:"json",method:"POST",timeout:this.reportConfig.timeout},R)).catch(function(j){var L,U;(U=(L=D.reportConfig)===null||L===void 0?void 0:L.logger)===null||U===void 0||U.warn("Reporter immediately upload failed",j)})}},{key:"report",value:function(O,R){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(D.priority||(D.priority=this.getEventPriority(O,R)),this.reportConfig.isDataReportEnable&&O){if(O==="login"&&R.succeed===!1&&R.process_id){var j=R.extension&&R.extension.find(function(z){return z.operation_type==="TCP"}),L=j&&j.target||"",U=R.process_id+L,$=this.lastFailLogin[U]||0;if(R.start_time-$<S.loginFailIgnoreInterval)return;this.lastFailLogin[U]=R.start_time}var F=Date.now();D.priority==="HIGH"?this.highPriorityMsgList.push({module:O,msg:R,createTime:F}):D.priority==="NORMAL"?this.msgList.push({module:O,msg:R,createTime:F}):D.priority==="LOW"&&this.lowPriorityMsgList.push({module:O,msg:R,createTime:F}),this.highPriorityMsgList.length>this.reportConfig.msgListMaxSize&&this.highPriorityMsgList.shift(),this.msgList.length>this.reportConfig.msgListMaxSize&&this.msgList.shift(),this.lowPriorityMsgList.length>this.reportConfig.msgListMaxSize&&this.lowPriorityMsgList.shift(),this.doReport()}}},{key:"reportTraceStart",value:function(O,R){if(this.reportConfig.isDataReportEnable&&O&&!this.traceMsgCache[O]){var D=Object.assign(Object.assign({start_time:Date.now()},R),{extension:[]});this.traceMsgCache[O]=D}}},{key:"reportTraceUpdate",value:function(O){}},{key:"reportTraceUpdateV2",value:function(O,R,D){var j,L=this;if(this.reportConfig.isDataReportEnable&&this.traceMsgCache[O]){var U=this.traceMsgCache[O].extension,$=U.length,F=new Date().getTime();$===0?R.duration=F-this.traceMsgCache[O].start_time:U[$-1].end_time?R.duration=F-U[$-1].end_time:R.duration=F-this.traceMsgCache[O].start_time,U.push(Object.assign({end_time:F},R));var z=U.length-1;D!=null&&D.asyncParams&&((j=this.traceMsgCache[O]).asyncPromiseArray||(j.asyncPromiseArray=[]),this.traceMsgCache[O].asyncPromiseArray.push(D.asyncParams.then(function(H){L.traceMsgCache[O]&&L.traceMsgCache[O].extension[z]&&Object.assign(L.traceMsgCache[O].extension[z],H)})))}}},{key:"reportTraceEnd",value:function(O){var R,D=this,j=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.reportConfig.isDataReportEnable&&this.traceMsgCache[O])if(O!=="nos"||j===!1){typeof j=="boolean"?this.traceMsgCache[O].succeed=!!j:this.traceMsgCache[O].state=j,this.traceMsgCache[O].duration=Date.now()-this.traceMsgCache[O].start_time,this.traceMsgCache[O].extension.forEach(function($){delete $.end_time});var L=this.traceMsgCache[O];if(this.traceMsgCache[O]=null,L.asyncPromiseArray){(R=this.endedAsyncMsgByModule)[O]||(R[O]=[]),this.endedAsyncMsgByModule[O].push(L);var U=function(){D.endedAsyncMsgByModule[O]&&D.endedAsyncMsgByModule[O].includes(L)&&(delete L.asyncPromiseArray,D.report(O,L,{priority:D.getEventPriority(O,L)}))};Promise.all(L.asyncPromiseArray).then(U).catch(U)}else this.report(O,L,{priority:this.getEventPriority(O,L)})}else this.traceMsgCache[O]=null}},{key:"getEventPriority",value:function(O,R){if(O==="exceptions"){if(R.action===0||R.action===2||R.action===1&&R.exception_service!==0)return"HIGH"}else if(O==="msgReceive"||O==="nim_api_trace")return"LOW";return"NORMAL"}},{key:"reportTraceCancel",value:function(O){this.reportConfig.isDataReportEnable&&(this.endedAsyncMsgByModule[O]=[],this.traceMsgCache[O]=null)}},{key:"pause",value:function(){this.reportConfig.isDataReportEnable&&(this.isUploadEnable=!1)}},{key:"restore",value:function(){this.reportConfig.isDataReportEnable&&(this.isUploadEnable=!0,this.initConfigLoaded||this.initUploadConfig())}},{key:"destroy",value:function(){var O=this;this.reportConfig.isDataReportEnable&&(Object.keys(this.traceMsgCache).forEach(function(R){O.reportTraceEnd(R,1)}),this.timer!==null&&clearTimeout(this.timer),this.setConfig=_,this.report=_,this.reportTraceStart=_,this.reportTraceUpdate=_,this.reportTraceEnd=_,this.pause=_,this.restore=_,this.destroy=_,this.reqRetryCount=0,this.cacheMsgList=[],this.traceMsgCache={},this.lowPriorityMsgList=[],this.msgList=[],this.highPriorityMsgList=[],this.reportConfig={},this.isDestroyed=!0)}},{key:"initUploadConfig",value:function(){var O,R;return v(this,void 0,void 0,n().mark(function D(){var j,L,U,$,F,z=this;return n().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!this.loading){V.next=2;break}return V.abrupt("return");case 2:this.loading=!0,j=this.reportConfig.common||{},L=this.reportConfig.compassDataEndpoint.split(",").map(function(K){return"".concat(K,"/").concat(z.configPath)}),U=n().mark(function K(J){return n().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!z.initConfigLoaded&&!z.isDestroyed){Z.next=2;break}return Z.abrupt("return","break");case 2:return Z.prev=2,Z.next=5,z.reportConfig.request(L[J],{method:"GET",dataType:"json",params:{deviceId:j.dev_id,sdkVer:j.sdk_ver,platform:j.platform,hostEnv:j.host_env,appkey:j.app_key},timeout:z.reportConfig.timeout}).then(function(X){var re,ee;if(!z.isDestroyed){if(X.status===200&&X.data&&X.data.code===200){z.initConfigLoaded=!0;var ae=X.data.data||{};z.reportConfig.maxSize=ae.maxSize>1e3?1e3:ae.maxSize,z.reportConfig.maxInterval=ae.maxInterval>1e4?1e4:ae.maxInterval,z.reportConfig.maxInterval=ae.maxInterval<10?10:ae.maxInterval,z.reportConfig.minInterval=ae.minInterval<2?2:ae.minInterval,z.reportConfig.maxDelay=ae.maxDelay||300,z.reportConfig.maxInterval=1e3*z.reportConfig.maxInterval,z.reportConfig.minInterval=1e3*z.reportConfig.minInterval,z.reportConfig.maxDelay=1e3*z.reportConfig.maxDelay,ae.endpoint?z.dataReportEndpoint=ae.endpoint:z.dataReportEndpoint=L[J],z.serverAllowUpload=!0,z.loading=!1,z.reportHeartBeat()}else X.status===200&&(z.initConfigLoaded=!0);(ee=(re=z.reportConfig)===null||re===void 0?void 0:re.logger)===null||ee===void 0||ee.log("Get reporter upload config success")}}).catch(function(X){var re,ee;z.isDestroyed||(z.loading=!1,(ee=(re=z.reportConfig)===null||re===void 0?void 0:re.logger)===null||ee===void 0||ee.error("Get reporter upload config failed",X),z.reqRetryCount<I&&(z.reqRetryCount++,setTimeout(function(){z.isDestroyed||z.initUploadConfig()},T)))});case 5:Z.next=14;break;case 7:if(Z.prev=7,Z.t0=Z.catch(2),!z.isDestroyed){Z.next=11;break}return Z.abrupt("return",{v:void 0});case 11:z.loading=!1,(R=(O=z.reportConfig)===null||O===void 0?void 0:O.logger)===null||R===void 0||R.error("Exec reporter request failed",Z.t0),z.reqRetryCount<I&&(z.reqRetryCount++,setTimeout(function(){z.isDestroyed||z.initUploadConfig()},T));case 14:case"end":return Z.stop()}},K,null,[[2,7]])}),$=0;case 7:if(!($<L.length)){V.next=17;break}return V.delegateYield(U($),"t0",9);case 9:if((F=V.t0)!=="break"){V.next=12;break}return V.abrupt("break",17);case 12:if(r(F)!=="object"){V.next=14;break}return V.abrupt("return",F.v);case 14:$++,V.next=7;break;case 17:case"end":return V.stop()}},D,this)}))}},{key:"reportHeartBeat",value:function(){var O=this;this.isDestroyed||(this.timer=setTimeout(function(){O.reportHeartBeat()},this.reportConfig.minInterval),this.doReport())}},{key:"doReport",value:function(){if(!this.isDestroyed){var O=this.highPriorityMsgList.length+this.msgList.length+this.lowPriorityMsgList.length+this.cacheMsgList.length>2*this.reportConfig.maxSize?this.reportConfig.minInterval:this.reportConfig.maxInterval;Date.now()-this.lastReportTime>=O&&this.upload()}}},{key:"getUploadMsg",value:function(){var O=this,R={},D=Date.now();this.highPriorityMsgList=this.highPriorityMsgList.filter(function(F){return D-F.createTime<O.reportConfig.maxDelay}),this.msgList=this.msgList.filter(function(F){return D-F.createTime<O.reportConfig.maxDelay}),this.lowPriorityMsgList=this.lowPriorityMsgList.filter(function(F){return D-F.createTime<O.reportConfig.maxDelay}),this.cacheMsgList=this.cacheMsgList.filter(function(F){return D-F.createTime<O.reportConfig.maxDelay});var j=this.highPriorityMsgList.slice(0,this.reportConfig.maxSize);if(this.highPriorityMsgList=this.highPriorityMsgList.slice(j.length),j.length<this.reportConfig.maxSize){var L=this.reportConfig.maxSize-j.length;j=j.concat(this.msgList.slice(0,L)),this.msgList=this.msgList.slice(L)}if(j.length<this.reportConfig.maxSize){var U=this.reportConfig.maxSize-j.length;j=j.concat(this.lowPriorityMsgList.slice(0,U)),this.lowPriorityMsgList=this.lowPriorityMsgList.slice(U)}if(j.length<this.reportConfig.maxSize){var $=this.reportConfig.maxSize-j.length;j=j.concat(this.cacheMsgList.slice(0,$)),this.cacheMsgList=this.cacheMsgList.slice($)}return j.forEach(function(F){R[F.module]?R[F.module].push(F.msg):R[F.module]=[F.msg]}),{uploadMsgArr:j,uploadMsg:R}}},{key:"upload",value:function(){var O,R,D=this;if(this.isUploadEnable&&this.serverAllowUpload&&!(this.lastReportTime&&Date.now()-this.lastReportTime<this.reportConfig.minInterval)){var j=this.getUploadMsg(),L=j.uploadMsgArr,U=j.uploadMsg;if(L.length){this.lastReportTime=Date.now();try{var $="".concat(this.dataReportEndpoint,"/").concat(this.dataReportPath);this.reportConfig.request($,{dataType:"json",method:"POST",data:{common:this.reportConfig.common,event:U},headers:{sdktype:"im"},timeout:this.reportConfig.timeout}).catch(function(F){var z,H;D.cacheMsgList=D.cacheMsgList.concat(L).slice(0,D.reportConfig.cacheMaxSize),(H=(z=D.reportConfig)===null||z===void 0?void 0:z.logger)===null||H===void 0||H.warn("Reporter upload failed",F)})}catch(F){(R=(O=this.reportConfig)===null||O===void 0?void 0:O.logger)===null||R===void 0||R.warn("Exec reporter request failed",F)}clearTimeout(this.timer),this.reportHeartBeat()}}}}]),A}();return N}()});(function(e){e[e.V2NIM_DATA_SYNC_TYPE_LEVEL_FULL=0]="V2NIM_DATA_SYNC_TYPE_LEVEL_FULL",e[e.V2NIM_DATA_SYNC_TYPE_LEVEL_BASIC=1]="V2NIM_DATA_SYNC_TYPE_LEVEL_BASIC"})(YG||(YG={})),function(e){e[e.V2NIM_DATA_SYNC_TYPE_MAIN=1]="V2NIM_DATA_SYNC_TYPE_MAIN",e[e.V2NIM_DATA_SYNC_TYPE_TEAM_MEMBER=2]="V2NIM_DATA_SYNC_TYPE_TEAM_MEMBER",e[e.V2NIM_DATA_SYNC_TYPE_SUPER_TEAM_MEMBER=3]="V2NIM_DATA_SYNC_TYPE_SUPER_TEAM_MEMBER"}(XG||(XG={})),function(e){e[e.V2NIM_DATA_SYNC_STATE_WAITING=1]="V2NIM_DATA_SYNC_STATE_WAITING",e[e.V2NIM_DATA_SYNC_STATE_SYNCING=2]="V2NIM_DATA_SYNC_STATE_SYNCING",e[e.V2NIM_DATA_SYNC_STATE_COMPLETED=3]="V2NIM_DATA_SYNC_STATE_COMPLETED"}(JG||(JG={})),function(e){e[e.V2NIM_CONVERSATION_TYPE_UNKNOWN=0]="V2NIM_CONVERSATION_TYPE_UNKNOWN",e[e.V2NIM_CONVERSATION_TYPE_P2P=1]="V2NIM_CONVERSATION_TYPE_P2P",e[e.V2NIM_CONVERSATION_TYPE_TEAM=2]="V2NIM_CONVERSATION_TYPE_TEAM",e[e.V2NIM_CONVERSATION_TYPE_SUPER_TEAM=3]="V2NIM_CONVERSATION_TYPE_SUPER_TEAM"}(QG||(QG={})),function(e){e[e.V2NIM_MESSAGE_STATUS_DEFAULT=0]="V2NIM_MESSAGE_STATUS_DEFAULT",e[e.V2NIM_MESSAGE_STATUS_REVOKE=1]="V2NIM_MESSAGE_STATUS_REVOKE",e[e.V2NIM_MESSAGE_STATUS_BACKFILL=2]="V2NIM_MESSAGE_STATUS_BACKFILL"}(ZG||(ZG={})),function(e){e[e.V2NIM_FRIEND_MODE_TYPE_ADD=1]="V2NIM_FRIEND_MODE_TYPE_ADD",e[e.V2NIM_FRIEND_MODE_TYPE_APPLY=2]="V2NIM_FRIEND_MODE_TYPE_APPLY"}(e8||(e8={})),function(e){e[e.V2NIM_FRIEND_ADD_APPLICATION_TYPE_RECEIVED=1]="V2NIM_FRIEND_ADD_APPLICATION_TYPE_RECEIVED",e[e.V2NIM_FRIEND_ADD_APPLICATION_TYPE_REJECTED=2]="V2NIM_FRIEND_ADD_APPLICATION_TYPE_REJECTED"}(t8||(t8={})),function(e){e[e.V2NIM_FRIEND_ADD_APPLICATION_STATUS_INIT=0]="V2NIM_FRIEND_ADD_APPLICATION_STATUS_INIT",e[e.V2NIM_FRIEND_ADD_APPLICATION_STATUS_AGREED=1]="V2NIM_FRIEND_ADD_APPLICATION_STATUS_AGREED",e[e.V2NIM_FRIEND_ADD_APPLICATION_STATUS_REJECTED=2]="V2NIM_FRIEND_ADD_APPLICATION_STATUS_REJECTED",e[e.V2NIM_FRIEND_ADD_APPLICATION_STATUS_EXPIRED=3]="V2NIM_FRIEND_ADD_APPLICATION_STATUS_EXPIRED",e[e.V2NIM_FRIEND_ADD_APPLICATION_STATUS_DIRECT_ADD=4]="V2NIM_FRIEND_ADD_APPLICATION_STATUS_DIRECT_ADD"}(n8||(n8={})),function(e){e[e.V2NIM_FRIEND_DELETION_TYPE_BY_SELF=1]="V2NIM_FRIEND_DELETION_TYPE_BY_SELF",e[e.V2NIM_FRIEND_DELETION_TYPE_BY_PEER=2]="V2NIM_FRIEND_DELETION_TYPE_BY_PEER"}(r8||(r8={})),function(e){e[e.V2NIM_FRIEND_VERIFY_TYPE_ADD=1]="V2NIM_FRIEND_VERIFY_TYPE_ADD",e[e.V2NIM_FRIEND_VERIFY_TYPE_APPLY=2]="V2NIM_FRIEND_VERIFY_TYPE_APPLY",e[e.V2NIM_FRIEND_VERIFY_TYPE_ACCEPT=3]="V2NIM_FRIEND_VERIFY_TYPE_ACCEPT",e[e.V2NIM_FRIEND_VERIFY_TYPE_REJECT=4]="V2NIM_FRIEND_VERIFY_TYPE_REJECT"}(a8||(a8={})),function(e){e[e.V2NIM_LOGIN_AUTH_TYPE_DEFAULT=0]="V2NIM_LOGIN_AUTH_TYPE_DEFAULT",e[e.V2NIM_LOGIN_AUTH_TYPE_DYNAMIC_TOKEN=1]="V2NIM_LOGIN_AUTH_TYPE_DYNAMIC_TOKEN",e[e.V2NIM_LOGIN_AUTH_TYPE_THIRD_PARTY=2]="V2NIM_LOGIN_AUTH_TYPE_THIRD_PARTY"}(i8||(i8={})),function(e){e[e.V2NIM_LOGIN_STATUS_LOGOUT=0]="V2NIM_LOGIN_STATUS_LOGOUT",e[e.V2NIM_LOGIN_STATUS_LOGINED=1]="V2NIM_LOGIN_STATUS_LOGINED",e[e.V2NIM_LOGIN_STATUS_LOGINING=2]="V2NIM_LOGIN_STATUS_LOGINING",e[e.V2NIM_LOGIN_STATUS_UNLOGIN=3]="V2NIM_LOGIN_STATUS_UNLOGIN"}(o8||(o8={})),function(e){e[e.V2NIM_LOGIN_CLIENT_TYPE_UNKNOWN=0]="V2NIM_LOGIN_CLIENT_TYPE_UNKNOWN",e[e.V2NIM_LOGIN_CLIENT_TYPE_ANDROID=1]="V2NIM_LOGIN_CLIENT_TYPE_ANDROID",e[e.V2NIM_LOGIN_CLIENT_TYPE_IOS=2]="V2NIM_LOGIN_CLIENT_TYPE_IOS",e[e.V2NIM_LOGIN_CLIENT_TYPE_PC=4]="V2NIM_LOGIN_CLIENT_TYPE_PC",e[e.V2NIM_LOGIN_CLIENT_TYPE_WP=8]="V2NIM_LOGIN_CLIENT_TYPE_WP",e[e.V2NIM_LOGIN_CLIENT_TYPE_WEB=16]="V2NIM_LOGIN_CLIENT_TYPE_WEB",e[e.V2NIM_LOGIN_CLIENT_TYPE_RESTFUL=32]="V2NIM_LOGIN_CLIENT_TYPE_RESTFUL",e[e.V2NIM_LOGIN_CLIENT_TYPE_MAC_OS=64]="V2NIM_LOGIN_CLIENT_TYPE_MAC_OS",e[e.V2NIM_LOGIN_CLIENT_TYPE_HARMONY_OS=65]="V2NIM_LOGIN_CLIENT_TYPE_HARMONY_OS"}(s8||(s8={})),function(e){e[e.V2NIM_KICKED_OFFLINE_REASON_CLIENT_EXCLUSIVE=1]="V2NIM_KICKED_OFFLINE_REASON_CLIENT_EXCLUSIVE",e[e.V2NIM_KICKED_OFFLINE_REASON_SERVER=2]="V2NIM_KICKED_OFFLINE_REASON_SERVER",e[e.V2NIM_KICKED_OFFLINE_REASON_CLIENT=3]="V2NIM_KICKED_OFFLINE_REASON_CLIENT",e[e.V2NIM_KICKED_OFFLINE_REASON_CLIENT_QUIETLY=4]="V2NIM_KICKED_OFFLINE_REASON_CLIENT_QUIETLY"}(l8||(l8={})),function(e){e[e.V2NIM_LOGIN_CLIENT_CHANGE_LIST=1]="V2NIM_LOGIN_CLIENT_CHANGE_LIST",e[e.V2NIM_LOGIN_CLIENT_CHANGE_LOGIN=2]="V2NIM_LOGIN_CLIENT_CHANGE_LOGIN",e[e.V2NIM_LOGIN_CLIENT_CHANGE_LOGOUT=3]="V2NIM_LOGIN_CLIENT_CHANGE_LOGOUT"}(c8||(c8={})),function(e){e[e.V2NIM_CONNECT_STATUS_DISCONNECTED=0]="V2NIM_CONNECT_STATUS_DISCONNECTED",e[e.V2NIM_CONNECT_STATUS_CONNECTED=1]="V2NIM_CONNECT_STATUS_CONNECTED",e[e.V2NIM_CONNECT_STATUS_CONNECTING=2]="V2NIM_CONNECT_STATUS_CONNECTING",e[e.V2NIM_CONNECT_STATUS_WAITING=3]="V2NIM_CONNECT_STATUS_WAITING"}(u8||(u8={})),function(e){e[e.NIM_MESSAGE_AI_STREAM_STATUS_STREAMING=-1]="NIM_MESSAGE_AI_STREAM_STATUS_STREAMING",e[e.NIM_MESSAGE_AI_STREAM_STATUS_NONE=0]="NIM_MESSAGE_AI_STREAM_STATUS_NONE",e[e.NIM_MESSAGE_AI_STREAM_STATUS_PLACEHOLDER=1]="NIM_MESSAGE_AI_STREAM_STATUS_PLACEHOLDER",e[e.NIM_MESSAGE_AI_STREAM_STATUS_CANCEL=2]="NIM_MESSAGE_AI_STREAM_STATUS_CANCEL",e[e.NIM_MESSAGE_AI_STREAM_STATUS_UPDATE=3]="NIM_MESSAGE_AI_STREAM_STATUS_UPDATE",e[e.NIM_MESSAGE_AI_STREAM_STATUS_COMPLETE=4]="NIM_MESSAGE_AI_STREAM_STATUS_COMPLETE",e[e.NIM_MESSAGE_AI_STREAM_STATUS_EXCEPTION=5]="NIM_MESSAGE_AI_STREAM_STATUS_EXCEPTION"}(d8||(d8={})),function(e){e[e.V2NIM_MESSAGE_AI_STREAM_STOP_OP_DEFAULT=0]="V2NIM_MESSAGE_AI_STREAM_STOP_OP_DEFAULT",e[e.V2NIM_MESSAGE_AI_STREAM_STOP_OP_REVOKE=1]="V2NIM_MESSAGE_AI_STREAM_STOP_OP_REVOKE",e[e.V2NIM_MESSAGE_AI_STREAM_STOP_OP_UPDATE=2]="V2NIM_MESSAGE_AI_STREAM_STOP_OP_UPDATE"}(p8||(p8={})),function(e){e[e.V2NIM_MESSAGE_AI_REGEN_OP_UPDATE=1]="V2NIM_MESSAGE_AI_REGEN_OP_UPDATE",e[e.V2NIM_MESSAGE_AI_REGEN_OP_NEW=2]="V2NIM_MESSAGE_AI_REGEN_OP_NEW"}(m8||(m8={})),function(e){e[e.V2NIM_MESSAGE_AI_STATUS_UNKNOW=0]="V2NIM_MESSAGE_AI_STATUS_UNKNOW",e[e.V2NIM_MESSAGE_AI_STATUS_AT=1]="V2NIM_MESSAGE_AI_STATUS_AT",e[e.V2NIM_MESSAGE_AI_STATUS_RESPONSE=2]="V2NIM_MESSAGE_AI_STATUS_RESPONSE"}(f8||(f8={})),function(e){e[e.V2NIM_MESSAGE_TYPE_INVALID=-1]="V2NIM_MESSAGE_TYPE_INVALID",e[e.V2NIM_MESSAGE_TYPE_TEXT=0]="V2NIM_MESSAGE_TYPE_TEXT",e[e.V2NIM_MESSAGE_TYPE_IMAGE=1]="V2NIM_MESSAGE_TYPE_IMAGE",e[e.V2NIM_MESSAGE_TYPE_AUDIO=2]="V2NIM_MESSAGE_TYPE_AUDIO",e[e.V2NIM_MESSAGE_TYPE_VIDEO=3]="V2NIM_MESSAGE_TYPE_VIDEO",e[e.V2NIM_MESSAGE_TYPE_LOCATION=4]="V2NIM_MESSAGE_TYPE_LOCATION",e[e.V2NIM_MESSAGE_TYPE_NOTIFICATION=5]="V2NIM_MESSAGE_TYPE_NOTIFICATION",e[e.V2NIM_MESSAGE_TYPE_FILE=6]="V2NIM_MESSAGE_TYPE_FILE",e[e.V2NIM_MESSAGE_TYPE_AVCHAT=7]="V2NIM_MESSAGE_TYPE_AVCHAT",e[e.V2NIM_MESSAGE_TYPE_TIPS=10]="V2NIM_MESSAGE_TYPE_TIPS",e[e.V2NIM_MESSAGE_TYPE_ROBOT=11]="V2NIM_MESSAGE_TYPE_ROBOT",e[e.V2NIM_MESSAGE_TYPE_CALL=12]="V2NIM_MESSAGE_TYPE_CALL",e[e.V2NIM_MESSAGE_TYPE_CUSTOM=100]="V2NIM_MESSAGE_TYPE_CUSTOM"}(g8||(g8={})),function(e){e[e.V2NIM_SEARCH_KEYWORD_MATCH_TYPE_OR=0]="V2NIM_SEARCH_KEYWORD_MATCH_TYPE_OR",e[e.V2NIM_SEARCH_KEYWORD_MATCH_TYPE_AND=1]="V2NIM_SEARCH_KEYWORD_MATCH_TYPE_AND"}(h8||(h8={})),function(e){e[e.V2NIM_SEARCH_DIRECTION_BACKWARD=0]="V2NIM_SEARCH_DIRECTION_BACKWARD",e[e.V2NIM_SEARCH_DIRECTION_FORWARD=1]="V2NIM_SEARCH_DIRECTION_FORWARD"}(v8||(v8={})),function(e){e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_UNDEFINED=-1]="V2NIM_MESSAGE_NOTIFICATION_TYPE_UNDEFINED",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_INVITE=0]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_INVITE",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_KICK=1]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_KICK",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_LEAVE=2]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_LEAVE",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_UPDATE_TINFO=3]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_UPDATE_TINFO",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_DISMISS=4]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_DISMISS",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_APPLY_PASS=5]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_APPLY_PASS",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_OWNER_TRANSFER=6]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_OWNER_TRANSFER",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_ADD_MANAGER=7]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_ADD_MANAGER",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_REMOVE_MANAGER=8]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_REMOVE_MANAGER",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_INVITE_ACCEPT=9]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_INVITE_ACCEPT",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_BANNED_TEAM_MEMBER=10]="V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_BANNED_TEAM_MEMBER",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_INVITE=401]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_INVITE",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_KICK=402]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_KICK",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_LEAVE=403]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_LEAVE",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_UPDATE_TINFO=404]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_UPDATE_TINFO",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_DISMISS=405]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_DISMISS",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_APPLY_PASS=410]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_APPLY_PASS",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_OWNER_TRANSFER=406]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_OWNER_TRANSFER",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_ADD_MANAGER=407]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_ADD_MANAGER",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_REMOVE_MANAGER=408]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_REMOVE_MANAGER",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_INVITE_ACCEPT=411]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_INVITE_ACCEPT",e[e.V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_BANNED_TEAM_MEMBER=409]="V2NIM_MESSAGE_NOTIFICATION_TYPE_SUPER_TEAM_BANNED_TEAM_MEMBER"}(y8||(y8={})),function(e){e[e.V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_UNKNOWN=0]="V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_UNKNOWN",e[e.V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_SUCCESS=1]="V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_SUCCESS",e[e.V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_FAILED=2]="V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_FAILED",e[e.V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_UPLOADING=3]="V2NIM_MESSAGE_ATTACHMENT_UPLOAD_STATE_UPLOADING"}(b8||(b8={})),function(e){e[e.V2NIM_MESSAGE_SENDING_STATE_UNKNOWN=0]="V2NIM_MESSAGE_SENDING_STATE_UNKNOWN",e[e.V2NIM_MESSAGE_SENDING_STATE_SUCCEEDED=1]="V2NIM_MESSAGE_SENDING_STATE_SUCCEEDED",e[e.V2NIM_MESSAGE_SENDING_STATE_FAILED=2]="V2NIM_MESSAGE_SENDING_STATE_FAILED",e[e.V2NIM_MESSAGE_SENDING_STATE_SENDING=3]="V2NIM_MESSAGE_SENDING_STATE_SENDING"}(S8||(S8={})),function(e){e[e.V2NIM_QUERY_DIRECTION_DESC=0]="V2NIM_QUERY_DIRECTION_DESC",e[e.V2NIM_QUERY_DIRECTION_ASC=1]="V2NIM_QUERY_DIRECTION_ASC"}(I8||(I8={})),function(e){e[e.V2NIM_CLEAR_HISTORY_MODE_ALL=0]="V2NIM_CLEAR_HISTORY_MODE_ALL",e[e.V2NIM_CLEAR_HISTORY_MODE_LOCAL=1]="V2NIM_CLEAR_HISTORY_MODE_LOCAL",e[e.V2NIM_CLEAR_HISTORY_MODE_LOCAL_IRREPARABLY=2]="V2NIM_CLEAR_HISTORY_MODE_LOCAL_IRREPARABLY"}(E8||(E8={})),function(e){e[e.V2NIM_MESSAGE_REVOKE_TYPE_UNDEFINED=0]="V2NIM_MESSAGE_REVOKE_TYPE_UNDEFINED",e[e.V2NIM_MESSAGE_REVOKE_TYPE_P2P_BOTHWAY=1]="V2NIM_MESSAGE_REVOKE_TYPE_P2P_BOTHWAY",e[e.V2NIM_MESSAGE_REVOKE_TYPE_TEAM_BOTHWAY=2]="V2NIM_MESSAGE_REVOKE_TYPE_TEAM_BOTHWAY",e[e.V2NIM_MESSAGE_REVOKE_TYPE_SUPERTEAM_BOTHWAY=3]="V2NIM_MESSAGE_REVOKE_TYPE_SUPERTEAM_BOTHWAY",e[e.V2NIM_MESSAGE_REVOKE_TYPE_P2P_ONEWAY=4]="V2NIM_MESSAGE_REVOKE_TYPE_P2P_ONEWAY",e[e.V2NIM_MESSAGE_REVOKE_TYPE_TEAM_ONEWAY=5]="V2NIM_MESSAGE_REVOKE_TYPE_TEAM_ONEWAY"}(C8||(C8={})),function(e){e[e.V2NIM_MESSAGE_PIN_STATE_NOT_PINNED=0]="V2NIM_MESSAGE_PIN_STATE_NOT_PINNED",e[e.V2NIM_MESSAGE_PIN_STATE_PINNED=1]="V2NIM_MESSAGE_PIN_STATE_PINNED",e[e.V2NIM_MESSAGE_PIN_STATE_UPDATED=2]="V2NIM_MESSAGE_PIN_STATE_UPDATED"}(T8||(T8={})),function(e){e[e.V2NIM_QUICK_COMMENT_STATE_ADD=1]="V2NIM_QUICK_COMMENT_STATE_ADD",e[e.V2NIM_QUICK_COMMENT_STATE_REMOVE=2]="V2NIM_QUICK_COMMENT_STATE_REMOVE"}(M8||(M8={})),function(e){e[e.V2NIM_CLIENT_ANTISPAM_OPERATE_NONE=0]="V2NIM_CLIENT_ANTISPAM_OPERATE_NONE",e[e.V2NIM_CLIENT_ANTISPAM_OPERATE_REPLACE=1]="V2NIM_CLIENT_ANTISPAM_OPERATE_REPLACE",e[e.V2NIM_CLIENT_ANTISPAM_OPERATE_CLIENT_SHIELD=2]="V2NIM_CLIENT_ANTISPAM_OPERATE_CLIENT_SHIELD",e[e.V2NIM_CLIENT_ANTISPAM_OPERATE_SERVER_SHIELD=3]="V2NIM_CLIENT_ANTISPAM_OPERATE_SERVER_SHIELD"}(_8||(_8={})),function(e){e[e.V2NIM_SORT_ORDER_DESC=0]="V2NIM_SORT_ORDER_DESC",e[e.V2NIM_SORT_ORDER_ASC=1]="V2NIM_SORT_ORDER_ASC"}(x8||(x8={})),function(e){e[e.P2P_DELETE_MSG=7]="P2P_DELETE_MSG",e[e.TEAM_DELETE_MSG=8]="TEAM_DELETE_MSG",e[e.SUPERTEAM_DELETE_MSG=12]="SUPERTEAM_DELETE_MSG",e[e.P2P_ONE_WAY_DELETE_MSG=13]="P2P_ONE_WAY_DELETE_MSG",e[e.TEAM_ONE_WAY_DELETE_MSG=14]="TEAM_ONE_WAY_DELETE_MSG",e[e.CUSTOM_P2P_MSG=100]="CUSTOM_P2P_MSG",e[e.CUSTOM_TEAM_MSG=101]="CUSTOM_TEAM_MSG",e[e.CUSTOM_SUPERTEAM_MSG=103]="CUSTOM_SUPERTEAM_MSG"}(w8||(w8={})),function(e){e[e.NIM_MESSAGE_STREAM_STATUS_STREAMING=-1]="NIM_MESSAGE_STREAM_STATUS_STREAMING",e[e.NIM_MESSAGE_STREAM_STATUS_NONE=0]="NIM_MESSAGE_STREAM_STATUS_NONE",e[e.NIM_MESSAGE_STREAM_STATUS_PLACEHOLDER=1]="NIM_MESSAGE_STREAM_STATUS_PLACEHOLDER",e[e.NIM_MESSAGE_STREAM_STATUS_CANCEL=2]="NIM_MESSAGE_STREAM_STATUS_CANCEL",e[e.NIM_MESSAGE_AI_STREAM_STATUS_UPDATE=3]="NIM_MESSAGE_AI_STREAM_STATUS_UPDATE",e[e.NIM_MESSAGE_STREAM_STATUS_COMPLETE=4]="NIM_MESSAGE_STREAM_STATUS_COMPLETE",e[e.NIM_MESSAGE_STREAM_STATUS_EXCEPTION=5]="NIM_MESSAGE_STREAM_STATUS_EXCEPTION"}(N8||(N8={})),function(e){e[e.V2NIM_TEAM_MESSAGE_MUTE_MODE_OFF=0]="V2NIM_TEAM_MESSAGE_MUTE_MODE_OFF",e[e.V2NIM_TEAM_MESSAGE_MUTE_MODE_ON=1]="V2NIM_TEAM_MESSAGE_MUTE_MODE_ON",e[e.V2NIM_TEAM_MESSAGE_MUTE_MODE_NORMAL_ON=2]="V2NIM_TEAM_MESSAGE_MUTE_MODE_NORMAL_ON"}(R8||(R8={})),function(e){e[e.V2NIM_P2P_MESSAGE_MUTE_MODE_OFF=0]="V2NIM_P2P_MESSAGE_MUTE_MODE_OFF",e[e.V2NIM_P2P_MESSAGE_MUTE_MODE_ON=1]="V2NIM_P2P_MESSAGE_MUTE_MODE_ON"}(A8||(A8={})),function(e){e[e.V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_ALL=0]="V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_ALL",e[e.V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_NORMAL=1]="V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_NORMAL",e[e.V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_MANAGER=2]="V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_MANAGER"}(O8||(O8={})),function(e){e[e.V2NIM_TEAM_TYPE_INVALID=0]="V2NIM_TEAM_TYPE_INVALID",e[e.V2NIM_TEAM_TYPE_ADVANCED=1]="V2NIM_TEAM_TYPE_ADVANCED",e[e.V2NIM_TEAM_TYPE_SUPER=2]="V2NIM_TEAM_TYPE_SUPER"}(k8||(k8={})),function(e){e[e.V2NIM_TEAM_JOIN_MODE_FREE=0]="V2NIM_TEAM_JOIN_MODE_FREE",e[e.V2NIM_TEAM_JOIN_MODE_APPLY=1]="V2NIM_TEAM_JOIN_MODE_APPLY",e[e.V2NIM_TEAM_JOIN_MODE_INVITE=2]="V2NIM_TEAM_JOIN_MODE_INVITE"}(L8||(L8={})),function(e){e[e.V2NIM_TEAM_AGREE_MODE_AUTH=0]="V2NIM_TEAM_AGREE_MODE_AUTH",e[e.V2NIM_TEAM_AGREE_MODE_NO_AUTH=1]="V2NIM_TEAM_AGREE_MODE_NO_AUTH"}(P8||(P8={})),function(e){e[e.V2NIM_TEAM_INVITE_MODE_MANAGER=0]="V2NIM_TEAM_INVITE_MODE_MANAGER",e[e.V2NIM_TEAM_INVITE_MODE_ALL=1]="V2NIM_TEAM_INVITE_MODE_ALL"}(D8||(D8={})),function(e){e[e.V2NIM_TEAM_UPDATE_INFO_MODE_MANAGER=0]="V2NIM_TEAM_UPDATE_INFO_MODE_MANAGER",e[e.V2NIM_TEAM_UPDATE_INFO_MODE_ALL=1]="V2NIM_TEAM_UPDATE_INFO_MODE_ALL"}(j8||(j8={})),function(e){e[e.V2NIM_TEAM_CHAT_BANNED_MODE_UNBAN=0]="V2NIM_TEAM_CHAT_BANNED_MODE_UNBAN",e[e.V2NIM_TEAM_CHAT_BANNED_MODE_BANNED_NORMAL=1]="V2NIM_TEAM_CHAT_BANNED_MODE_BANNED_NORMAL",e[e.V2NIM_TEAM_CHAT_BANNED_MODE_BANNED_ALL=3]="V2NIM_TEAM_CHAT_BANNED_MODE_BANNED_ALL"}(V8||(V8={})),function(e){e[e.V2NIM_TEAM_UPDATE_EXTENSION_MODE_MANAGER=0]="V2NIM_TEAM_UPDATE_EXTENSION_MODE_MANAGER",e[e.V2NIM_TEAM_UPDATE_EXTENSION_MODE_ALL=1]="V2NIM_TEAM_UPDATE_EXTENSION_MODE_ALL"}($8||($8={})),function(e){e[e.V2NIM_TEAM_MEMBER_ROLE_NORMAL=0]="V2NIM_TEAM_MEMBER_ROLE_NORMAL",e[e.V2NIM_TEAM_MEMBER_ROLE_OWNER=1]="V2NIM_TEAM_MEMBER_ROLE_OWNER",e[e.V2NIM_TEAM_MEMBER_ROLE_MANAGER=2]="V2NIM_TEAM_MEMBER_ROLE_MANAGER"}(U8||(U8={})),function(e){e[e.V2NIM_TEAM_JOIN_ACTION_TYPE_APPLICATION=0]="V2NIM_TEAM_JOIN_ACTION_TYPE_APPLICATION",e[e.V2NIM_TEAM_JOIN_ACTION_TYPE_REJECT_APPLICATION=1]="V2NIM_TEAM_JOIN_ACTION_TYPE_REJECT_APPLICATION",e[e.V2NIM_TEAM_JOIN_ACTION_TYPE_INVITATION=2]="V2NIM_TEAM_JOIN_ACTION_TYPE_INVITATION",e[e.V2NIM_TEAM_JOIN_ACTION_TYPE_REJECT_INVITATION=3]="V2NIM_TEAM_JOIN_ACTION_TYPE_REJECT_INVITATION"}(B8||(B8={})),function(e){e[e.V2NIM_TEAM_JOIN_ACTION_STATUS_INIT=0]="V2NIM_TEAM_JOIN_ACTION_STATUS_INIT",e[e.V2NIM_TEAM_JOIN_ACTION_STATUS_AGREED=1]="V2NIM_TEAM_JOIN_ACTION_STATUS_AGREED",e[e.V2NIM_TEAM_JOIN_ACTION_STATUS_REJECTED=2]="V2NIM_TEAM_JOIN_ACTION_STATUS_REJECTED",e[e.V2NIM_TEAM_JOIN_ACTION_STATUS_EXPIRED=3]="V2NIM_TEAM_JOIN_ACTION_STATUS_EXPIRED"}(F8||(F8={})),function(e){e[e.teamApply=0]="teamApply",e[e.teamApplyReject=1]="teamApplyReject",e[e.teamInvite=2]="teamInvite",e[e.teamInviteReject=3]="teamInviteReject",e[e.tlistUpdate=4]="tlistUpdate",e[e.superTeamApply=15]="superTeamApply",e[e.superTeamApplyReject=16]="superTeamApplyReject",e[e.superTeamInvite=17]="superTeamInvite",e[e.superTeamInviteReject=18]="superTeamInviteReject"}(q8||(q8={})),function(e){e[e.V2NIM_AI_MODEL_TYPE_UNKNOW=0]="V2NIM_AI_MODEL_TYPE_UNKNOW",e[e.V2NIM_AI_MODEL_TYPE_QWEN=1]="V2NIM_AI_MODEL_TYPE_QWEN",e[e.V2NIM_AI_MODEL_TYPE_AZURE=2]="V2NIM_AI_MODEL_TYPE_AZURE",e[e.V2NIM_AI_MODEL_TYPE_PRIVATE=3]="V2NIM_AI_MODEL_TYPE_PRIVATE"}(z8||(z8={})),function(e){e[e.V2NIM_AI_MODEL_STREAM_CALL_STATUS_NONE=0]="V2NIM_AI_MODEL_STREAM_CALL_STATUS_NONE",e[e.V2NIM_AI_MODEL_STREAM_CALL_STATUS_CANCEL=2]="V2NIM_AI_MODEL_STREAM_CALL_STATUS_CANCEL",e[e.V2NIM_AI_MODEL_STREAM_CALL_STATUS_COMPLETE=4]="V2NIM_AI_MODEL_STREAM_CALL_STATUS_COMPLETE",e[e.V2NIM_AI_MODEL_STREAM_CALL_STATUS_EXCEPTION=5]="V2NIM_AI_MODEL_STREAM_CALL_STATUS_EXCEPTION"}(H8||(H8={})),function(e){e.V2NIM_AI_MODEL_ROLE_TYPE_SYSTEM="system",e.V2NIM_AI_MODEL_ROLE_TYPE_USER="user",e.V2NIM_AI_MODEL_ROLE_TYPE_ASSISTANT="assistant"}(G8||(G8={})),function(e){e[e.V2NIM_SIGNALLING_EVENT_TYPE_UNKNOWN=0]="V2NIM_SIGNALLING_EVENT_TYPE_UNKNOWN",e[e.V2NIM_SIGNALLING_EVENT_TYPE_CLOSE=1]="V2NIM_SIGNALLING_EVENT_TYPE_CLOSE",e[e.V2NIM_SIGNALLING_EVENT_TYPE_JOIN=2]="V2NIM_SIGNALLING_EVENT_TYPE_JOIN",e[e.V2NIM_SIGNALLING_EVENT_TYPE_INVITE=3]="V2NIM_SIGNALLING_EVENT_TYPE_INVITE",e[e.V2NIM_SIGNALLING_EVENT_TYPE_CANCEL_INVITE=4]="V2NIM_SIGNALLING_EVENT_TYPE_CANCEL_INVITE",e[e.V2NIM_SIGNALLING_EVENT_TYPE_REJECT=5]="V2NIM_SIGNALLING_EVENT_TYPE_REJECT",e[e.V2NIM_SIGNALLING_EVENT_TYPE_ACCEPT=6]="V2NIM_SIGNALLING_EVENT_TYPE_ACCEPT",e[e.V2NIM_SIGNALLING_EVENT_TYPE_LEAVE=7]="V2NIM_SIGNALLING_EVENT_TYPE_LEAVE",e[e.V2NIM_SIGNALLING_EVENT_TYPE_CONTROL=8]="V2NIM_SIGNALLING_EVENT_TYPE_CONTROL",e[e.V2NIM_SIGNALLING_EVENT_TYPE_KICK=9]="V2NIM_SIGNALLING_EVENT_TYPE_KICK"}(K8||(K8={})),function(e){e[e.V2NIM_SIGNALLING_CHANNEL_TYPE_AUDIO=1]="V2NIM_SIGNALLING_CHANNEL_TYPE_AUDIO",e[e.V2NIM_SIGNALLING_CHANNEL_TYPE_VIDEO=2]="V2NIM_SIGNALLING_CHANNEL_TYPE_VIDEO",e[e.V2NIM_SIGNALLING_CHANNEL_TYPE_CUSTOM=3]="V2NIM_SIGNALLING_CHANNEL_TYPE_CUSTOM"}(W8||(W8={})),function(e){e[e.V2NIM_USER_STATUS_TYPE_UNKNOWN=0]="V2NIM_USER_STATUS_TYPE_UNKNOWN",e[e.V2NIM_USER_STATUS_TYPE_LOGIN=1]="V2NIM_USER_STATUS_TYPE_LOGIN",e[e.V2NIM_USER_STATUS_TYPE_LOGOUT=2]="V2NIM_USER_STATUS_TYPE_LOGOUT",e[e.V2NIM_USER_STATUS_TYPE_DISCONNECT=3]="V2NIM_USER_STATUS_TYPE_DISCONNECT"}(Y8||(Y8={}));var Uj={V2NIM_ERROR_CODE_UNKNOWN:{code:0,message:"unknown error"},V2NIM_ERROR_CODE_SUCCESS:{code:200,message:"success"},V2NIM_ERROR_CODE_HANDSHAKE:{code:201,message:"handshake error"},V2NIM_ERROR_CODE_REQUEST_TEMPERARY_FORBIDDEN:{code:398,message:"request temprary forbidden"},V2NIM_ERROR_CODE_SERVER_UNIT_ERROR:{code:399,message:"server unit error"},V2NIM_ERROR_CODE_FORBIDDEN:{code:403,message:"forbidden"},V2NIM_ERROR_CODE_NOT_FOUND:{code:404,message:"not found"},V2NIM_ERROR_CODE_PARAMETER_ERROR:{code:414,message:"parameter error"},V2NIM_ERROR_CODE_RATE_LIMIT_REACHED:{code:416,message:"rate limit reached"},V2NIM_ERROR_CODE_MULTI_LOGIN_FORBIDDEN:{code:417,message:"multi login forbidden"},V2NIM_ERROR_CODE_SERVER_INTERNAL_ERROR:{code:500,message:"server internal error"},V2NIM_ERROR_CODE_SERVER_BUSY:{code:503,message:"server busy"},V2NIM_ERROR_CODE_APP_UNREACHABLE:{code:511,message:"app server unreachable"},V2NIM_ERROR_CODE_SERVICE_UNAVAILABLE:{code:514,message:"service unavailable"},V2NIM_ERROR_CODE_PROTOCOL_BLACKHOLE_FILTERED:{code:599,message:"protocol filtered by blackhole rule"},V2NIM_ERROR_CODE_NO_PERMISSION:{code:997,message:"appid has no permission to call the protocol"},V2NIM_ERROR_CODE_UNPACK_ERROR:{code:998,message:"unpack error"},V2NIM_ERROR_CODE_PACK_ERROR:{code:999,message:"pack error"},V2NIM_ERROR_CODE_IM_DISABLED:{code:101301,message:"IM disabled"},V2NIM_ERROR_CODE_SERVICE_ADDRESS_INVALID:{code:101302,message:"service address invalid"},V2NIM_ERROR_CODE_APPKEY_NOT_EXIST:{code:101303,message:"appkey not exist"},V2NIM_ERROR_CODE_BUNDLEID_CHECK_FAILED:{code:101304,message:"bundleid check failed"},V2NIM_ERROR_CODE_APPKEY_BLOCKED:{code:101403,message:"appkey blocked"},V2NIM_ERROR_CODE_INVALID_TOKEN:{code:102302,message:"invalid token"},V2NIM_ERROR_CODE_ROBOT_NOT_ALLOWED:{code:102303,message:"robot not allowed"},V2NIM_ERROR_CODE_ACCOUNT_NOT_EXIST:{code:102404,message:"account not exist"},V2NIM_ERROR_CODE_ACCOUNT_CHAT_BANNED:{code:102421,message:"account chat banned"},V2NIM_ERROR_CODE_ACCOUNT_BANNED:{code:102422,message:"account banned"},V2NIM_ERROR_CODE_ACCOUNT_IN_BLOCK_LIST:{code:102426,message:"account in block list"},V2NIM_ERROR_CODE_USER_PROFILE_NOT_EXIST:{code:103404,message:"user profile not exist"},V2NIM_ERROR_CODE_USER_PROFILE_HIT_ANTISPAM:{code:103451,message:"user profile hit antispam"},V2NIM_ERROR_CODE_PEER_FRIEND_LIMIT:{code:104301,message:"peer friend limit"},V2NIM_ERROR_CODE_FRIEND_APPLICATION_NOT_EXIST:{code:104302,message:"friend application not exist"},V2NIM_ERROR_CODE_FRIEND_NOT_EXIST:{code:104404,message:"friend not exist"},V2NIM_ERROR_CODE_FRIEND_ALREADY_EXIST:{code:104405,message:"friend already exist"},V2NIM_ERROR_CODE_SELF_FRIEND_OPERATION_NOT_ALLOWED:{code:104429,message:"self friend operation not allowed"},V2NIM_ERROR_CODE_FRIEND_LIMIT:{code:104435,message:"friend limit"},V2NIM_ERROR_CODE_FRIEND_OPERATION_RATE_LIMIT:{code:104449,message:"friend operation rate limit"},V2NIM_ERROR_CODE_FRIEND_HIT_ANTISPAM:{code:104451,message:"friend hit antispam"},V2NIM_ERROR_CODE_SELF_MUTE_OPERATION_NOT_ALLOWED:{code:105429,message:"self mute operation not allowed"},V2NIM_ERROR_CODE_MUTE_LIST_LIMIT:{code:105435,message:"mute list limit"},V2NIM_ERROR_CODE_SELF_BLOCK_LIST_OPERATION_NOT_ALLOWED:{code:106429,message:"self block list operation not allowed"},V2NIM_ERROR_CODE_BLOCK_LIST_LIMIT:{code:106435,message:"block list limit"},V2NIM_ERROR_CODE_REVOKE_THIRD_PARTY_MESSAGE_NOT_ALLOWED:{code:107301,message:"revoke third party message not allowed"},V2NIM_ERROR_CODE_SHORT_TO_LONG_URL_FAILED:{code:107307,message:"short to long URL failed"},V2NIM_ERROR_CODE_URL_INVALID:{code:107308,message:"URL invalid"},V2NIM_ERROR_CODE_DURATION_OUT_OF_RANGE:{code:107309,message:"duration out of range"},V2NIM_ERROR_CODE_GET_FILE_META_INFO_FAILED:{code:107310,message:"get file meta info failed"},V2NIM_ERROR_CODE_AUDIO_FILE_SIZE_LIMIT:{code:107311,message:"audio file size limit"},V2NIM_ERROR_CODE_VOICE_TO_TEXT_TIMEOUT:{code:107312,message:"voice to text timeout"},V2NIM_ERROR_CODE_VOICE_TO_TEXT_FAILED:{code:107313,message:"voice to text failed"},V2NIM_ERROR_CODE_REVOKE_EXCEED_TIME_LIMIT:{code:107314,message:"revoke message exceed time limit"},V2NIM_ERROR_CODE_REVOKE_MESSAGE_NOT_ALLOWED:{code:107315,message:"revoke specific message not allowed"},V2NIM_ERROR_CODE_FORCE_PUSH_LIST_LIMIT:{code:107316,message:"force push list limit"},V2NIM_ERROR_CODE_TEAM_MESSAGE_RECEIPT_RATE_LIMIT:{code:107317,message:"team message receipt rate limit"},V2NIM_ERROR_CODE_SNAPSHOT_NOT_EXIST:{code:107318,message:"snapshot not exist"},V2NIM_ERROR_CODE_PIN_LIMIT:{code:107319,message:"pin limit"},V2NIM_ERROR_CODE_PIN_NOT_EXIST:{code:107320,message:"pin not exist"},V2NIM_ERROR_CODE_QUICK_COMMENT_LIMIT:{code:107321,message:"quick comment limit"},V2NIM_ERROR_CODE_PIN_ALREADY_EXIST:{code:107322,message:"pin already exist"},V2NIM_ERROR_CODE_VOICE_TO_TEXT_FUNCTION_DISABLED:{code:107333,message:"voice to text function disabled"},V2NIM_ERROR_CODE_CLOUD_SEARCH_FUNCTION_DISABLED:{code:107334,message:"cloud search function disabled"},V2NIM_ERROR_CODE_ONE_WAY_DELETE_FUNCTION_DISABLED:{code:107335,message:"one-way delete function disabled"},V2NIM_ERRPR_CODE_ONEWAY_DELETION_NOT_ALLOW_FOR_TARGET_MESSAGES:{code:107338,message:"one-way deletion is not allowed for target messages"},V2NIM_ERRPR_CODE_SENDER_CANNOT_INCLUDED_IN_TARGET_LIST:{code:107339,message:"The message sender cannot be included in the target list"},V2NIM_ERROR_CODE_ROBOT_CANNOT_SEND_TARGET_MESSAGE:{code:107340,message:"Robot can not send target message"},V2NIM_ERROR_CODE_PIN_TARGET_MESSAGE_NOT_ALLOWED:{code:107345,message:"Pin target message is not allowed"},V2NIM_ERROR_CODE_TARGET_MESSAGE_NOT_ALLOWED_REPLY:{code:107346,message:"Target message not allowed reply"},V2NIM_ERROR_CODE_TARGET_MESSAGE_NOT_ALLOWED_QUICK_COMMENT:{code:107347,message:"Target message not allowed quick comment"},V2NIM_ERROR_CODE_REVOKE_MESSAGE_TO_SELF_NOT_ALLOWED:{code:107429,message:"revoke message to self not allowed"},V2NIM_ERROR_CODE_APP_CHAT_BANNED:{code:107410,message:"app chat banned"},V2NIM_ERROR_CODE_QUICK_COMMENT_FUNCTION_DISABLED:{code:107326,message:"quick comment function disabled"},V2NIM_ERROR_CODE_PIN_FUNCTION_DISABLED:{code:107327,message:"PIN function disabled"},V2NIM_ERROR_CODE_TEAM_READ_RECEIPT_FUNCTION_DISABLED:{code:107324,message:"read receipt for team messages function disabled"},V2NIM_ERROR_CODE_P2P_READ_RECEIPT_FUNCTION_DISABLED:{code:107325,message:"read receipt for p2p messages function disabled"},V2NIM_ERROR_CODE_RATE_LIMIT_FOR_MESSAGING_REACHED:{code:107323,message:"rate limit for messaging reached"},V2NIM_ERROR_CODE_MESSAGE_HIT_ANTISPAM:{code:107451,message:"message hit antispam"},V2NIM_ERROR_CODE_MESSAGE_NOT_EXIST:{code:107404,message:"message not exist"},V2NIM_ERROR_CODE_UNSENDING_MESSAGE_EXPIRED:{code:107406,message:"unsending message expired"},V2NIM_ERROR_CODE_TEAM_MARK_READ_FAILED:{code:107302,message:"sending message failed for marking message read failed for too many team members"},V2NIM_ERROR_CODE_SENDER_OR_MANAGER_PERMISSION_ONLY_REVOKE:{code:107303,message:"only sender or manager can revoke message"},V2NIM_ERROR_CODE_DELETE_SELF_MESSAGE_NOT_ALLOWED:{code:107328,message:"delete self message not allowed"},V2NIM_ERROR_CODE_NOT_CHATBOT_ACCOUNT:{code:107329,message:"is not chatbot account"},V2NIM_ERROR_CODE_MESSAGE_SENSE_REQUIRED:{code:107330,message:"sender or receiver must sense message"},V2NIM_ERROR_CODE_HIGH_PRIORITY_MESSAGE_RATE_LIMIT:{code:107304,message:"rate limit of high-priority messages exceeded"},ACK_MESSAGE_BE_HIGH_PRIORITY:{code:107305,message:"ack message should be high-priority"},V2NIM_ERROR_CODE_DUPLICATE_CLIENT_MESSAGE_ID:{code:107306,message:"duplicate client message ID"},V2NIM_ERROR_CODE_INVALID_TIME_RANGE:{code:107439,message:"invalid time range"},V2NIM_ERROR_CODE_NOT_ADVANCED_TEAM:{code:108302,message:"not advanced team"},V2NIM_ERROR_CODE_TEAM_MANAGER_LIMIT:{code:108303,message:"team manager limit"},V2NIM_ERROR_CODE_JOINED_TEAM_LIMIT:{code:108305,message:"joined team limit"},V2NIM_ERROR_CODE_TEAM_NORMAL_MEMBER_CHAT_BANNED:{code:108306,message:"team normal member chat banned"},V2NIM_ERROR_CODE_INVITED_ACCOUNT_NOT_FRIEND:{code:108307,message:"invited account not friend"},V2NIM_ERROR_CODE_REJECT_ALL_TEAM_APPLICATIONS:{code:108308,message:"reject all team applications"},V2NIM_ERROR_CODE_TARGETING_MESSAGE_FOR_TEAM_DISABLED:{code:108318,message:"Targeting messages for group chat is disabled"},V2NIM_ERROR_CODE_INCLUSIVE_AS_FALSE_NOT_ALLOWED_FOR_SUPER_TEAM:{code:108319,message:'Setting "inclusive" to false for super teams is not allowed'},V2NIM_ERROR_CODE_CANNOT_MAKE_SUPER_TEAM_MESSAGE_VISIBLE_TO_NEW_MEMBERS:{code:108320,message:"Cannot make super team targeted messages visible to new members"},V2NIM_ERROR_CODE_CANNOT_ALLOW_TARGETED_MESSAGES_INCLUSIVE_TO_NEW_MEMBERS:{code:108321,message:"Cannot allow targeted messages inclusive to new members"},V2NIM_ERROR_CODE_TEAM_NOT_EXIST:{code:108404,message:"team not exist"},V2NIM_ERROR_CODE_TEAM_ALREADY_CHAT_BANNED:{code:108420,message:"team already chat banned"},V2NIM_ERROR_CODE_ALL_TEAM_MEMBER_CHAT_BANNED:{code:108423,message:"all team member chat banned"},V2NIM_ERROR_CODE_EXTENDED_SUPER_TEAM_LIMIT:{code:108434,message:"extended super team limit"},V2NIM_ERROR_CODE_CREATED_TEAM_LIMIT:{code:108435,message:"created team limit"},V2NIM_ERROR_CODE_TEAM_INVITATION_LIMIT:{code:108437,message:"team invitation limit"},V2NIM_ERROR_CODE_TEAM_HIT_ANTISPAM:{code:108451,message:"team hit antispam"},V2NIM_ERROR_CODE_EXTENDED_SUPER_TEAM_LIMIT_NOT_CONFIGURED:{code:108304,message:"extended super team limit not configured"},V2NIM_ERROR_CODE_SUPER_TEAM_SERVICE_DISABLED:{code:108311,message:"super team service disabled"},V2NIM_ERROR_CODE_TEAM_READ_RECEIPT_RECORD_NOT_FOUND:{code:108301,message:"read receipt record for the team message not found"},V2NIM_ERROR_CODE_NOT_MANAGER:{code:108430,message:"unable to assign owner manager"},V2NIM_ERROR_CODE_ONLINE_MEMBER_COUNT_DISABLED:{code:108406,message:"number of online users service disabled"},V2NIM_ERROR_CODE_TRANSFER_DISABLED:{code:108310,message:"unable to transfer the ownership to owner"},V2NIM_ERROR_CODE_CREATE_TEAM_DISABLED:{code:108309,message:"unable to create team with more than %s people"},V2NIM_ERROR_CODE_EXTENDED_SUPER_TEAM_CREATE_FAILED:{code:108313,message:"/ extended super team creation failed，use open api to create the team"},V2NIM_ERROR_CODE_TEAM_MESSAGE_READ_RECEIPT_DISABLED:{code:108312,message:"read receipt for team messages function disabled"},V2NIM_ERROR_CODE_RETRY:{code:108449,message:"an error occurred, try again"},V2NIM_ERROR_CODE_CHAT_BAN_LIST_CONTAIN_NOT_TEAM_MEMBER:{code:109301,message:"list of chat banned users contains non team members"},V2NIM_ERROR_CODE_CHAT_BAN_LIST_CONTAIN_OPERATOR:{code:109303,message:"list of chat banned users contains the operator"},V2NIM_ERROR_CODE_CHAT_BAN_LIST_CONTAIN_TEAM_OWNER:{code:109304,message:"list of chat banned users contains the team owner"},V2NIM_ERROR_CODE_OPERATION_ON_TEAM_MANAGER_NOT_ALLOWED:{code:109305,message:"operation on team manager not allowed"},V2NIM_ERROR_CODE_NO_TEAM_INVITE_PERMISSION:{code:109306,message:"no team invite permission"},V2NIM_ERROR_CODE_TEAM_OWNER_QUIT_NOT_ALLOWED:{code:109307,message:"team owner quit not allowed"},V2NIM_ERROR_CODE_TEAM_OWNER_IN_KICK_LIST:{code:109308,message:"list of kicked user contains the team owner"},V2NIM_ERROR_CODE_INVITE_ROBOT_ACCOUNT_NOT_ALLOWED:{code:109309,message:"invite robot account not allowed"},V2NIM_ERROR_CODE_KICK_OPERATOR_NOT_ALLOWED:{code:109310,message:"kick operator not allowed"},V2NIM_ERROR_CODE_TEAM_MEMBER_ALREADY_EXIST:{code:109311,message:"team member already exist"},V2NIM_ERROR_CODE_TEAM_INVITATION_OR_APPLICATION_NOT_EXIST:{code:109313,message:"team invitation or application not exist"},V2NIM_ERROR_CODE_OPERATION_ON_TEAM_OWNER_NOT_ALLOWED:{code:109314,message:"operation on team owner not allowed"},V2NIM_ERROR_CODE_FORCED_PUSH_LIST_INCLUDES_NON_TARGETED_ACCOUNTS:{code:109318,message:"The forced push list includes non-targeted accounts"},V2NIM_ERROR_CODE_TEAM_MEMBER_NOT_EXIST:{code:109404,message:"team member not exist"},V2NIM_ERROR_CODE_TEAM_MEMBER_CHAT_BANNED:{code:109424,message:"team member chat banned"},V2NIM_ERROR_CODE_TEAM_OWNER_OPERATION_PERMISSION_REQUIRED:{code:109427,message:"team owner operation permission required"},V2NIM_ERROR_CODE_TEAM_OWNER_OR_MANAGER_OPERATION_PERMISSION_REQUIRED:{code:109432,message:"team owner or manager operation permission required"},V2NIM_ERROR_CODE_TEAM_MEMBER_CONCURRENT_OPERATION_FAILED:{code:109449,message:"team member concurrent operation failed"},V2NIM_ERROR_CODE_TEAM_MEMBER_HIT_ANTISPAM:{code:109451,message:"team member hit antispam"},V2NIM_ERROR_CODE_CONVERSATION_AND_ACCOUNT_MISMATCH:{code:110302,message:"conversation and account mismatch"},V2NIM_ERROR_CODE_CONVERSATION_STICK_TOP_LIMIT:{code:110303,message:"conversation stick top limit"},V2NIM_ERROR_CODE_CONVERSATION_BELONGED_GROUP_LIMIT:{code:110304,message:"conversation belonged group limit"},V2NIM_ERROR_CODE_CONVERSATION_IS_NOT_STICK_TOP:{code:110305,message:"conversation is not stick top"},V2NIM_ERROR_CODE_STICK_TOP_DISABLED:{code:110306,message:"conversation stick top disabled"},V2NIM_ERROR_CODE_CONVERSATION_NOT_EXIST:{code:110404,message:"conversation not exist"},V2NIM_ERROR_CODE_CHATROOM_LINK_UNAVAILABLE:{code:113304,message:"chatroom link unavailable"},V2NIM_ERROR_CODE_IM_CONNECTION_ABNORMAL:{code:113305,message:"IM connection abnormal"},V2NIM_ERROR_CODE_CHATROOM_NOT_EXIST:{code:113404,message:"chatroom not exist"},V2NIM_ERROR_CODE_CHATROOM_CLOSED:{code:113406,message:"chatroom closed"},V2NIM_ERROR_CODE_CHATROOM_REPEATED_OPERATION:{code:113409,message:"chatroom repeated operation"},V2NIM_ERROR_CODE_CHATROOM_DISABLED:{code:113410,message:"chatroom disabled"},V2NIM_ERROR_CODE_ALL_CHATROOM_MEMBER_CHAT_BANNED:{code:113423,message:"all chatroom member chat banned"},V2NIM_ERROR_CODE_CHATROOM_HIT_ANTISPAM:{code:113451,message:"chatroom hit antispam"},V2NIM_ERROR_CODE_ANONYMOUS_MEMBER_FORBIDDEN:{code:114303,message:"anonymous member forbidden"},V2NIM_ERROR_CODE_CHATROOM_MEMBER_NOT_EXIST:{code:114404,message:"chatroom member not exist"},V2NIM_ERROR_CODE_CHATROOM_MEMBER_REPEATED_OPERATION:{code:114405,message:"chatroom member repeated operation"},V2NIM_ERROR_CODE_CHATROOM_MEMBER_CHAT_BANNED:{code:114421,message:"chatroom member chat banned"},V2NIM_ERROR_CODE_ACCOUNT_IN_CHATROOM_BLOCK_LIST:{code:114426,message:"account in chatroom block list"},V2NIM_ERROR_CODE_CHATROOM_OWNER_OPERATION_PERMISSION_REQUIRED:{code:114427,message:"chatroom owner operation permission required"},V2NIM_ERROR_CODE_SELF_IN_CHATROOM_MEMBER_OPERATION_LIST:{code:114429,message:"self in chatroom member operation list"},V2NIM_ERROR_CODE_CHATROOM_OWNER_OR_MANAGER_OPERATION_PERMISSION_REQUIRED:{code:114432,message:"chatroom owner or manager operation permission required"},V2NIM_ERROR_CODE_CHATROOM_MEMBER_LIMIT:{code:114437,message:"chatroom member limit"},V2NIM_ERROR_CODE_CHATROOM_MEMBER_CONCURRENT_OPERATION_FAILED:{code:114449,message:"chatroom member concurrent operation failed"},V2NIM_ERROR_CODE_CHATROOM_MEMBER_HIT_ANTISPAM:{code:114451,message:"chatroom member hit antispam"},V2NIM_ERROR_CODE_CONVERSATION_GROUP_NOT_EXIST:{code:116404,message:"conversation group not exist"},V2NIM_ERROR_CODE_CONVERSATION_GROUP_LIMIT:{code:116435,message:"conversation group limit"},V2NIM_ERROR_CODE_CONVERSATIONS_IN_GROUP_LIMIT:{code:116437,message:"conversations in group limit"},V2NIM_ERROR_CODE_COLLECTION_LIMIT:{code:189301,message:"collection limit"},V2NIM_ERROR_CODE_COLLECTION_NOT_EXIST:{code:189302,message:"collection not exist"},V2NIM_ERROR_CODE_COLLECTION_CONCURRENT_OPERATION_FAILED:{code:189449,message:"collection concurrent operation failed"},V2NIM_ERROR_CODE_INTERNAL:{code:190001,message:"internal error"},V2NIM_ERROR_CODE_ILLEGAL_STATE:{code:190002,message:"illegal state"},V2NIM_ERROR_CODE_MISUSE:{code:191001,message:"misuse"},V2NIM_ERROR_CODE_CANCELLED:{code:191002,message:"operation cancelled"},V2NIM_ERROR_CODE_CALLBACK_FAILED:{code:191003,message:"callback failed"},V2NIM_ERROR_CODE_INVALID_PARAMETER:{code:191004,message:"invalid parameter"},V2NIM_ERROR_CODE_TIMEOUT:{code:191005,message:"timeout"},V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST:{code:191006,message:"resource not exist"},V2NIM_ERROR_CODE_RESOURCE_ALREADY_EXIST:{code:191007,message:"resource already exist"},V2NIM_ERROR_CODE_CONNECT_FAILED:{code:192001,message:"connect failed"},V2NIM_ERROR_CODE_CONNECT_TIMEOUT:{code:192002,message:"connect timeout"},V2NIM_ERROR_CODE_DISCONNECT:{code:192003,message:"disconnect"},V2NIM_ERROR_CODE_PROTOCOL_TIMEOUT:{code:192004,message:"protocol timeout"},V2NIM_ERROR_CODE_PROTOCOL_SEND_FAILED:{code:192005,message:"protocol send failed"},V2NIM_ERROR_CODE_REQUEST_FAILED:{code:192006,message:"request failed"},V2NIM_ERROR_CODE_FILE_NOT_FOUND:{code:194001,message:"file not found"},V2NIM_ERROR_CODE_FILE_CREATE_FAILED:{code:194002,message:"file create failed"},V2NIM_ERROR_CODE_FILE_OPEN_FAILED:{code:194003,message:"file open failed"},V2NIM_ERROR_CODE_FILE_WRITE_FAILED:{code:194004,message:"file write failed"},V2NIM_ERROR_CODE_FILE_READ_FAILED:{code:194005,message:"file read failed"},V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:{code:194006,message:"file upload failed"},V2NIM_ERROR_CODE_FILE_DOWNLOAD_FAILED:{code:194007,message:"file download failed"},V2NIM_ERROR_CODE_CLIENT_ANTISPAM:{code:195001,message:"client anti-spam"},V2NIM_ERROR_CODE_SERVER_ANTISPAM:{code:195002,message:"server anti-spam"},V2NIM_ERROR_CODE_STREAM_OUTPUT_STOPPED:{code:189318,message:"Streaming text response stopped"},V2NIM_ERROR_CODE_STREAM_OUTPUT_GENERATED:{code:189319,message:"Streaming text response generated"},V2NIM_ERROR_CODE_STREAM_OUTPUT_ABORTED:{code:189320,message:"Streaming text response aborted due to exception"},V2NIM_ERROR_CODE_INTERRUPTION_REJECTED:{code:189321,message:"Non-streaming messages cannot be interrupted"}},YJ=Object.keys(Uj),Mt=YJ.reduce(function(e,t){var n=Uj[t];return e[t]=n.code,e},{}),XJ=YJ.reduce(function(e,t){var n=Uj[t];return e[n.code]=n.message,e},{});class pn extends Error{constructor(t){super(t.desc),this.name="V2NIMError",this.code=t.code||0,this.desc=t.desc||XJ[this.code]||JJ[this.code]||"",this.message=this.desc,this.detail=t.detail||{}}toString(){var t,n=`${this.name}
 code: ${this.code}
 message: "${this.message}"
 detail: ${this.detail?JSON.stringify(this.detail):""}`;return!((t=this==null?void 0:this.detail)===null||t===void 0)&&t.rawError&&(n+=`
 rawError: ${this.detail.rawError.message}`),n}}class _k extends pn{constructor(t,n={},r){super({code:Mt.V2NIM_ERROR_CODE_PARAMETER_ERROR,detail:{reason:t,rules:r,data:n}}),this.name="validateError",this.message=this.message+`
`+JSON.stringify(this.detail,null,2),this.data=n,this.rules=r}}class Eu extends pn{constructor(t){var n,r,i;super({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:(n=t.detail)===null||n===void 0?void 0:n.reason,rules:(r=t.detail)===null||r===void 0?void 0:r.rules,data:(i=t.detail)===null||i===void 0?void 0:i.data}}),this.name="ValidateErrorV2"}}class Nd extends pn{constructor(t){super(Object.assign({code:400},t)),this.desc=this.desc||"upload file error",this.message=this.desc,this.name="uploadError"}}var JJ={200:null,406:null,808:null,810:null,302:"The user name or password is incorrect.",405:"Parameter length too long",408:"Client request timed out",415:"Client network unavailable",422:"Account disabled",508:"Expiration date",509:"Invalid",7101:"Be pulled black",700:"Partial failure of batch operation",801:"The number of people in the team has reached the upper limit",802:"No permission",803:"The team does not exist or has not changed",804:"The user is not in the team",805:"Team type mismatch",806:"The number of teams created has reached the limit",807:"Team member not valid",809:"Already in the team",811:"The number of accounts in the forced push list exceeds the limit",812:"The team is muted",813:"Due to the limited number of team, some pull people successfully",814:"Disable team message read service",815:"Maximum number of team administrators",816:"Batch operation partial failure",9102:"Channel failure",9103:"This call has been answered / rejected at another end",10201:"Signaling: target NIM client is offline",10202:"Signaling: push is unreachable",10404:"Signaling: channel not exists",10405:"Signaling: channel already exists",10406:"Signaling: member of channel not exists",10407:"Signaling: member of channel already exists",10408:"Signaling: the invitation request does not exist or has expired",10409:"Signaling: the invitation request has been rejected",10410:"Signaling: the invitation request has been accepted",10414:"Signaling: request parameter error",10417:"Signaling: uid conflict",10419:"Signaling: the number of members of channel exceed the limit",10420:"Signaling: member is already in the channel on other client",10700:"Signaling: phased success",13002:"Abnormal chatroom status",13003:"In the blacklist",13004:"In the mute list",13006:"All members are muted, and only the administrator can speak"};function X8(e,t){return t instanceof RegExp?"__REGEXP "+t.toString():t}function yr(e,t={},n,r=!1){var i={};return Object.keys(e).forEach(d=>{var g=e[d].type,v=n?`In ${n}, `:"";if(t==null){var S=`${v}param is null or undefined`;throw r?new Eu({detail:{reason:S,data:{key:d},rules:"required"}}):new _k(S,{key:d},"required")}if(t[d]===void 0){if(e[d].required===!1)return void(i[d]=t[d]);var I=`${v}param '${d}' is required`;throw r?new Eu({detail:{reason:I,data:{key:d},rules:"required"}}):new _k(I,{key:d},"required")}var T=WPe[g];if(T&&!T(t,d,e[d],r)){var _=`${v}param '${d}' unexpected`,N={key:d,value:t[d]};throw r?new Eu({detail:{reason:_,data:N,rules:JSON.stringify(e[d],X8)}}):new _k(_,N,JSON.stringify(e[d],X8))}i[d]=t[d]}),i}var WPe={string:function(e,t,n){var{allowEmpty:r,max:i,min:d,regExp:g}=n,v=e[t];return typeof v=="string"&&(r!==!1||v!=="")&&!(typeof i=="number"&&v.length>i)&&!(typeof d=="number"&&v.length<d)&&!(function(I){return Object.prototype.toString.call(I)==="[object RegExp]"}(g)&&!g.test(v))},number:function(e,t,n){var{min:r,max:i}=n,d=e[t];return typeof d=="number"&&!(typeof r=="number"&&d<r)&&!(typeof i=="number"&&d>i)},boolean:function(e,t){return typeof e[t]=="boolean"},file:function(e,t){return!0},enum:function(e,t,n){var{values:r}=n,i=e[t];return!r||r.indexOf(i)>-1},jsonstr:function(e,t){try{var n=JSON.parse(e[t]);return typeof n=="object"&&n!==null}catch{return!1}},func:function(e,t){return typeof e[t]=="function"},array:function(e,t,n,r=!1){var{itemType:i,itemRules:d,rules:g,min:v,max:S,values:I}=n,T=e[t];if(!Array.isArray(T)||typeof S=="number"&&T.length>S||typeof v=="number"&&T.length<v)return!1;if(d)T.forEach((_,N)=>{yr({[N]:d},{[N]:_},`${t}[${N}]`,r)});else if(g)T.forEach((_,N)=>yr(g,_,`${t}[${N}]`,r));else if(i==="enum"){if(I&&function(N,A){return A=A||[],(N=N||[]).filter(w=>A.indexOf(w)===-1)}(T,I).length)return!1}else if(i&&!T.every(_=>typeof _===i))return!1;return!0},object:function(e,t,n,r=!1){var{rules:i,allowEmpty:d}=n,g=e[t];if(typeof g!="object"||g===null)return!1;if(i){var v=Object.keys(i),S=Object.keys(g).filter(I=>v.indexOf(I)>-1);if(d===!1&&S.length===0)return!1;yr(i,g,t,r)}return!0}};function yy(e,t){if(!e)throw new pn({code:Mt.V2NIM_ERROR_CODE_ILLEGAL_STATE});yr({conversationId:{type:"string",allowEmpty:!1,regExp:new RegExp(`^${e}\\|[1-3]\\|`)}},{conversationId:t},"",!0)}class QJ{constructor(){this.timerList=[],this.id=1,this.timer=null,this.timeout=0}addTimer(t,n=0,r=1){var i=new Date().getTime(),d=this.id;return this.timerList.push({id:d,loop:r,count:0,timeout:i+n,interval:n,callback:t}),this.id++,this.checkTimer(i),d}checkTimer(t=new Date().getTime()){if(this.removeFinished(),this.timerList.length!==0||this.timer==null){var n=0;for(var r of this.timerList)(n===0||n>r.timeout)&&(n=r.timeout);this.timerList.length!==0&&(this.timer===null||n<this.timeout||this.timeout<t)&&(this.timer=setTimeout(this.nowTime.bind(this),n-t),this.timeout=n)}}nowTime(){var t=new Date().getTime();for(var n of this.timerList)t>=n.timeout&&(n.callback(),n.count++,n.timeout=t+n.interval);this.clerTime(),this.checkTimer(t)}clerTime(){this.timer!==null&&(clearTimeout(this.timer),this.timer=null)}deleteTimer(t){for(var n=this.timerList.length-1;n>=0;n--)this.timerList[n].id===t&&this.timerList.splice(n,1)}removeFinished(){for(var t=this.timerList.length-1;t>=0;t--){var n=this.timerList[t];n.loop>=0&&n.count>=n.loop&&this.timerList.splice(t,1)}}destroy(){this.clerTime(),this.timerList=[],this.id=1,this.timer=null}}function yg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function wn(e,t,n,r){return new(n||(n=Promise))(function(i,d){function g(I){try{S(r.next(I))}catch(T){d(T)}}function v(I){try{S(r.throw(I))}catch(T){d(T)}}function S(I){I.done?i(I.value):function(_){return _ instanceof n?_:new n(function(N){N(_)})}(I.value).then(g,v)}S((r=r.apply(e,[])).next())})}function h0(e){return e!=null&&typeof e=="object"&&Object.getPrototypeOf(e)==Object.prototype}function ZJ(e,t){var n=h0(e)||Array.isArray(e),r=h0(t)||Array.isArray(t);if(n&&r){for(var i in t){var d=ZJ(e[i],t[i]);d!==void 0&&(e[i]=d)}return e}return t}var YPe={getNetworkStatus:()=>Promise.resolve({net_type:0,net_connect:!0}),onNetworkStatusChange(e){},offNetworkStatusChange(){}},nr={setLogger:function(e){throw new Error("setLogger not implemented.")},platform:"",WebSocket:class{constructor(t,n){throw this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3,this.binaryType="",new Error("Method not implemented.")}close(t,n){throw new Error("Method not implemented.")}send(t){throw new Error("Method not implemented.")}onclose(t){throw new Error("Method not implemented.")}onerror(t){throw new Error("Method not implemented.")}onmessage(t){throw new Error("Method not implemented.")}onopen(t){throw new Error("Method not implemented.")}},localStorage:{},request:function(e,t){throw new Error("request not implemented.")},uploadFile:function(e){throw new Error("uploadFile not implemented.")},getSystemInfo:function(){throw new Error("getSystemInfo not implemented.")},getFileUploadInformation(e){throw new Error("getFileUploadInformation not implemented.")},envPayload:{},net:YPe,logStorage:class{constructor(t){}open(){return Promise.resolve()}close(){}addLogs(t){return Promise.resolve()}extractLogs(){return Promise.resolve()}afterUpload(){return Promise.resolve()}}};function XPe(e){ZJ(nr,e())}var xk=["error","warn","log","debug"],om=function(){},J8=["off","error","warn","log","debug"];class JPe{constructor(t,n={}){this.storageArr=[],this.debugLevel="off",this.timer=0,this.strategies={debug:{name:"debg",func:console.log},log:{name:"info",func:console.log},warn:{name:"warn",func:console.warn},error:{name:"erro",func:console.error}},this.debug=om,this.log=om,this.warn=om,this.error=om,this.iid=Math.round(1e3*Math.random()),this.debugLevel=J8.includes(t)?t:"off",n.debugLevel&&(this.debugLevel=J8.includes(n.debugLevel)?n.debugLevel:this.debugLevel),this.logStorage=n.storageEnable===!1?null:new nr.logStorage(n==null?void 0:n.storageName),this.setOptions(n),this.setLogFunc(this.debugLevel),this.setTimer(),nr.setLogger(this),this.open()}getDebugMode(){return this.debugLevel==="debug"}open(){this.logStorage&&this.logStorage.open().then(()=>{this.log("Logger::open success")}).catch(t=>{this.warn("Logger::open failed",t)})}setOptions(t){if(t&&t.logFunc){var n=t.logFunc;for(var r in n){var i=r,d=n[i];d&&(this.strategies[i].func=d)}}}setLogFunc(t,n="log"){var r=xk.findIndex(d=>d===t),i=xk.findIndex(d=>d===n);xk.forEach((d,g)=>{this[d]=function(){if(!(g>r&&g>i)){var v=Array.prototype.slice.call(arguments),S=this.strategies[d],I=this.formatArgs(v,S.name);g<=i&&this.logStorage&&this.prepareSaveLog(I,d),g<=r&&S.func(I)}}})}extractLogs(){var t;return this.logStorage?(t=this.logStorage)===null||t===void 0?void 0:t.extractLogs():Promise.resolve("")}afterUpload(){var t;return this.logStorage?(t=this.logStorage)===null||t===void 0?void 0:t.afterUpload():Promise.resolve("")}prepareSaveLog(t,n){this.storageArr.push({text:t,level:n,time:Date.now(),iid:this.iid}),this.timer||this.setTimer(),this.storageArr.length>=100&&(this.triggerTimer(),this.storageArr=[])}saveLogs(){return wn(this,void 0,void 0,function*(){if(this.logStorage){var t=this.storageArr;this.storageArr=[];try{yield this.logStorage.addLogs(t)}catch{}}})}clearTimer(){this.timer&&clearTimeout(this.timer),this.timer=0}setTimer(){this.clearTimer(),this.timer=setTimeout(this.triggerTimer.bind(this),5e3)}triggerTimer(){this.clearTimer(),this.saveLogs()}formatArgs(t,n){var r=new Date;return`[NIM ${this.iid} ${n} ${`${r.getMonth()+1}-${r.getDate()} ${r.getHours()}:${r.getMinutes()}:${r.getSeconds()}:${r.getMilliseconds()}`}] `+t.map(i=>i instanceof pn?i.toString():i instanceof Error?i&&i.message?i.message:i:typeof i=="object"?JSON.stringify(i):i).join(" ")}destroy(){this.debug=om,this.log=om,this.warn=om,this.error=om,this.saveLogs(),this.clearTimer(),this.storageArr=[],this.logStorage&&this.logStorage.close()}}function fr(e,t){if(typeof e!="object"||e===null)return e;for(var n=(t=t||"").split("."),r=0;r<n.length;r++){var i=n[r],d=e[i],g=i.indexOf("["),v=i.indexOf("]");if(g!==-1&&v!==-1&&g<v){var S=i.slice(0,g),I=parseInt(i.slice(g+1,v));d=e[S],d=Array.isArray(d)?d[I]:void 0}if(d==null)return d;e=d}return e}var Md,fl=(Md=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},function(){return Md()+Md()+Md()+Md()+Md()+Md()+Md()+Md()});function Bj(){var{hostEnvEnum:e}=nr.getSystemInfo();return e===6||e===102||e===103||e===104}function Qv(e,t){return function(r,i,d,g){for(var v in r=r||{},d=d||{},g=g||(()=>{}),i=i||{}){var S=g(r[v],i[v]);r[v]=S===void 0?i[v]:S}for(var I in d){var T=g(r[I],d[I]);r[I]=T===void 0?d[I]:T}return r}({},e,t,function(n,r){return r===void 0?n:r})}function TT(){return Promise.resolve()}function CI(){}function MT(e){var t=e.lastIndexOf("."),n=t>-1?e.slice(t+1):"";return/^\d+$/.test(n.trim())&&(n=""),n}function KP(e,t,n,r){var i=typeof fr(e,"raw.r[0]")=="number"?`${e.raw.r[0]}`:void 0;return t[n]=t[n]||i||r,t}class QPe{constructor(t){this.lastSuccUploadHost="",this.core=t}getFileUploadInformation(t){return nr.getFileUploadInformation(t)}request(t,n,r){var i=new Date().getTime(),d=(r==null?void 0:r.exception_service)||0;return nr.request(t,n).catch(g=>{var v,S,I,T,_=g;throw this.core.reporter.reportTraceStart("exceptions",{user_id:this.core.options.account||((S=(v=this.core)===null||v===void 0?void 0:v.auth)===null||S===void 0?void 0:S.account),trace_id:(T=(I=this.core.clientSocket)===null||I===void 0?void 0:I.socket)===null||T===void 0?void 0:T.sessionId,start_time:i,action:1,exception_service:d}),this.core.reporter.reportTraceUpdateV2("exceptions",{code:typeof _.code=="number"?_.code:0,description:_.message||`${_.code}`,operation_type:0,target:t,context:n?JSON.stringify(n):""},{asyncParams:nr.net.getNetworkStatus()}),this.core.reporter.reportTraceEnd("exceptions",1),g})}uploadFile(t){var n,r,i,d;return wn(this,void 0,void 0,function*(){for(var g=nr.platform==="BROWSER",v=g?t.chunkUploadHostBackupList:t.commonUploadHostBackupList,S=g?t.chunkUploadHost:t.commonUploadHost,I=v.indexOf(S),T=I===-1?[S,...v]:[S,...v.slice(0,I),...v.slice(I+1)],_=Math.max(T.indexOf(this.lastSuccUploadHost),0),N=null,A=0;A<T.length;A++){var w=new Date().getTime(),O=T[(A+_)%T.length];try{var R=yield nr.uploadFile(Object.assign(Object.assign({},t),g?{chunkUploadHost:O}:{commonUploadHost:O}));return this.lastSuccUploadHost=O,typeof R.size=="string"&&(R.size=parseInt(R.size)),typeof R.dur=="string"&&(R.dur=parseInt(R.dur)),typeof R.w=="string"&&(R.w=parseInt(R.w)),typeof R.h=="string"&&(R.h=parseInt(R.h)),R}catch(j){this.core.cloudStorage.nos.nosErrorCount--,N=j;var D=j;if(this.core.reporter.reportTraceStart("exceptions",{user_id:this.core.options.account||((r=(n=this.core)===null||n===void 0?void 0:n.auth)===null||r===void 0?void 0:r.account),trace_id:(d=(i=this.core.clientSocket)===null||i===void 0?void 0:i.socket)===null||d===void 0?void 0:d.sessionId,start_time:w,action:1,exception_service:3}),this.core.reporter.reportTraceUpdateV2("exceptions",{code:typeof D.code=="number"?D.code:0,description:D.message||`${D.code}`,operation_type:1,target:O},{asyncParams:nr.net.getNetworkStatus()}),this.core.reporter.reportTraceEnd("exceptions",1),j&&(j.code===Mt.V2NIM_ERROR_CODE_CANCELLED||j.errCode===10499))throw j}}throw N})}}var eQ="https://abt-online.netease.im/v1/api/abt/client/getExperimentInfo";class ZPe{constructor(t,n){this.abtInfo={},this.core=t,this.config=Qv({isAbtestEnable:!0,abtestUrl:eQ,abtestProjectKey:"imElite_sdk_abtest_web"},n)}setOptions(t){this.config=Qv(this.config,t)}abtRequest(){var t,n;return wn(this,void 0,void 0,function*(){if(this.config.isAbtestEnable&&!this.abtInfo.experiments&&this.config.abtestUrl){var r;try{r=yield this.core.adapters.request(this.config.abtestUrl,{method:"POST",dataType:"json",headers:{sdktype:"ABTest"},data:{clientInfo:{projectKey:this.config.abtestProjectKey,appKey:this.core.options.appkey,osType:"Web",sdkVersion:"10.9.20",deviceId:this.core.config.deviceId},useLocalCache:!0}},{exception_service:7})}catch{this.core.logger.warn("ABTest request failed")}this.abtInfo=((n=(t=r==null?void 0:r.data)===null||t===void 0?void 0:t.data)===null||n===void 0?void 0:n.abtInfo)||{}}})}}class WP{constructor(){this.abortFns=[]}add(t){var n=function(i){var d={},g=new Promise(function(v,S){d.abort=S});return d.promise=Promise.race([i,g]),d}(t);return this.abortFns.push(n.abort),n.promise}clear(t){this.abortFns.forEach(n=>n(t||new pn({code:Mt.V2NIM_ERROR_CODE_CANCELLED,detail:{reason:"Aborted"}}))),this.abortFns=[]}destroy(){this.clear()}}var Q8={tolerantRTT:3e3,bestRTT:100,maxChances:5,enable:!0},Z8={timestamp:0,rtt:0,baseClock:0,baseTime:0};class K_{constructor(t,n,r="getServerTime"){this.serverOrigin=Z8,this.config=Q8,this.isSettingNTP=!1,this.currentChance=0,this.failedDelay=2e3,this.successDelay=3e5,this.timer=0,this.cmdName="getServerTime",this.core=t,this.logger=t.logger,this.promiseManager=new WP,this.cmdName=r,n&&this.setOptions(n)}setOptions(t){this.config=Object.assign({},Q8,this.config,t)}reset(){this.timer&&clearTimeout(this.timer),this.promiseManager.clear(),this.serverOrigin=Z8,this.currentChance=0}setOriginTimetick(){return wn(this,void 0,void 0,function*(){if(this.config.enable&&!(this.isSettingNTP||this.currentChance>=this.config.maxChances)){var t=fr(this.core,"auth.status"),n=fr(this.core,"status"),r=fr(this.core,"V2NIMLoginService.lifeCycle.loginStatus");if(t==="logined"||n==="logined"||r===1){this.isSettingNTP=!0,this.currentChance++,this.timer&&clearTimeout(this.timer),this.timer=0;var i,d="TimeOrigin::setOriginTimetick:",g=Date.now();this.core.logger.debug(`${d} getServerTime start, times ${this.currentChance}`);try{i=fr(yield this.promiseManager.add(this.core.sendCmd(this.cmdName)),"content.time"),this.isSettingNTP=!1}catch(I){var v=I;return this.isSettingNTP=!1,this.logger.warn(`${d} Calculate Delay time, getServerTime error`,v),void(v.code!==Mt.V2NIM_ERROR_CODE_CANCELLED&&(clearTimeout(this.timer),this.timer=setTimeout(this.setOriginTimetick.bind(this),this.failedDelay)))}if(!i)return this.core.logger.warn(`${d} Calculate Delay time incorrect format`),void(this.config.enable=!1);var S=Date.now()-g;this.doSet(i,S)}}})}doSet(t,n){var r="TimeOrigin::setOriginTimetick:";n>this.config.tolerantRTT?(this.logger.warn(`${r} denied RTT:${n}`),clearTimeout(this.timer),this.timer=setTimeout(this.setOriginTimetick.bind(this),this.failedDelay)):n>this.config.bestRTT?(this.serverOrigin.rtt&&n>=this.serverOrigin.rtt?this.logger.warn(`${r} ignore RTT:${n}`):(this.setServerOrigin(n,t),this.logger.log(`${r} accept reluctantly RTT:${n}`)),clearTimeout(this.timer),this.timer=setTimeout(this.setOriginTimetick.bind(this),this.failedDelay)):(this.setServerOrigin(n,t),this.logger.debug(`${r} accept best RTT:${n}`),this.currentChance=0,clearTimeout(this.timer),this.timer=setTimeout(this.setOriginTimetick.bind(this),this.successDelay))}getNTPTime(t){if(t===void 0&&(t=this.getTimeNode()),this.checkNodeReliable(t)){var n=Math.floor(t.time-this.serverOrigin.baseTime);return this.serverOrigin.timestamp+n}return Date.now()}checkNodeReliable(t){if(t===void 0&&(t=this.getTimeNode()),this.serverOrigin.timestamp){if(this.serverOrigin.baseClock===0)return!0;var n=t.clock-this.serverOrigin.baseClock,r=t.time-this.serverOrigin.baseTime;return Math.abs(r-n)<500}return!1}checkPerformance(){return nr.platform==="BROWSER"&&!(typeof performance>"u"||!performance.now)}static checkPerformance(){return nr.platform==="BROWSER"&&!(typeof performance>"u"||!performance.now)}getTimeNode(){return{clock:this.checkPerformance()?performance.now():0,time:Date.now()}}static getTimeNode(){return{clock:K_.checkPerformance()?performance.now():0,time:Date.now()}}setServerOrigin(t,n){this.serverOrigin={timestamp:n+Math.floor(t/2),rtt:t,baseClock:this.checkPerformance()?performance.now():0,baseTime:Date.now()}}}var wk={user_id:"",trace_id:"",action:7,exception_service:6,duration:0,start_time:0,state:1,extension:[]};class eDe{constructor(t,n){this.traceData=wk,this.core=t,this.traceData=Object.assign({},wk,n),this.traceData.extension=[]}reset(){this.traceData=Object.assign({},wk),this.traceData.extension=[]}start(){var t,n;this.reset(),this.traceData.user_id=this.core.account,this.traceData.trace_id=((n=(t=this.core.clientSocket)===null||t===void 0?void 0:t.socket)===null||n===void 0?void 0:n.sessionId)||"",this.traceData.start_time=new Date().getTime()}update(t){return wn(this,void 0,void 0,function*(){var{net_type:n,net_connect:r}=yield nr.net.getNetworkStatus();this.traceData.extension.push(Object.assign({code:0,foreground:!0,foreg_backg_switch:!1,net_type:n,net_connect:r},t))})}end(t){var n=this.traceData.extension[0],r=this.traceData.extension[1];if(n&&n.operation_type===0&&r&&r.operation_type===1){var i=n.net_type!==r.net_type||n.net_connect!==r.net_connect;if(t||!i)return this.traceData.duration=new Date().getTime()-this.traceData.start_time,this.core.reporter.report("exceptions",this.traceData),void this.reset();this.reset()}else this.reset()}}var e7={user_id:"",trace_id:"",net_connect:!0,net_type:0,duration:0,start_time:0,history:[],succeed:!1};class tDe{constructor(t){this.traceData=e7,this.core=t,this.reset()}reset(){this.traceData=Object.assign({},e7),this.traceData.history=[]}start(t){this.reset(),this.traceData.user_id=t,this.traceData.start_time=Date.now()}updateBegin(t){this.traceData.history.push(Object.assign({head:"",body:"",start_time:Date.now(),httpdns:!1,index:0},t))}updateComplete(t){this.traceData.history.forEach(n=>{n.target===t.target&&(Object.assign(n,t),n.duration=Date.now()-n.start_time)})}end(t){return wn(this,void 0,void 0,function*(){if(this.traceData.succeed=t,this.traceData.history=this.traceData.history.filter(i=>i.code!==void 0),this.traceData.history.length!==0){this.traceData.duration=Date.now()-this.traceData.start_time;var{net_type:n,net_connect:r}=yield nr.net.getNetworkStatus();this.traceData.net_type=n,this.traceData.net_connect=r,this.core.reporter.report("nim_sdk_lbs_records",this.traceData),this.reset()}else this.reset()})}}function nDe(e){var t,n,r=!0;return typeof((t=e==null?void 0:e.reporterConfig)===null||t===void 0?void 0:t.enableCompass)=="boolean"?r=e.reporterConfig.enableCompass:typeof((n=e==null?void 0:e.reporterConfig)===null||n===void 0?void 0:n.isDataReportEnable)=="boolean"&&(r=e.reporterConfig.isDataReportEnable),r}var _T={user_id:"",trace_id:"",action:0,state:0,duration:0,start_time:0,offset:0,full_size:0,transferred_size:0,operation_type:0,remote_addr:""},t7="ReporterHook::setMonitorForResources:";class rDe{constructor(t,n){this.traceData=_T,this.core=t,this.traceData=Object.assign({},_T,n)}reset(){this.traceData=Object.assign({},_T)}start(){var t,n;this.reset(),this.traceData.user_id=this.core.account,this.traceData.trace_id=((n=(t=this.core.clientSocket)===null||t===void 0?void 0:t.socket)===null||n===void 0?void 0:n.sessionId)||"",this.traceData.start_time="timeOrigin"in this.core?this.core.timeOrigin.getNTPTime():Date.now()}update(t){return wn(this,void 0,void 0,function*(){this.traceData.user_id&&(this.core.logger.log(`${t7} upload update`,t),Object.assign(this.traceData,t))})}end(t){this.traceData.user_id&&(this.core.logger.log(`${t7} upload end cause of ${t}`),this.traceData.state=t,this.traceData.duration=("timeOrigin"in this.core?this.core.timeOrigin.getNTPTime():Date.now())-this.traceData.start_time,this.core.reporter.report("nim_sdk_resources",this.traceData),this.traceData=_T)}}var xT={},Nk={},n7={},aDe={apiVersion:"v1",debugLevel:"off",needReconnect:!0,reconnectionAttempts:Number.MAX_SAFE_INTEGER,lbsUrls:["https://lbs.netease.im/lbs/webconf.jsp"],linkUrl:"weblink.netease.im:443",abtestUrl:eQ,isAbtestEnable:!0};class ml extends g0{constructor(t,n={}){if(super(),this.instanceName="NIM",this.pluginMap={},this.eventBus=new g0,this.options={},this.V2NIMConversationIdUtil={},this.V2NIMMessageCreator={},this.V2NIMMessageAttachmentCreator={},this.V2NIMClientAntispamUtil={},this.DataStructureConverter={},this.V2NIMMessageConverter={},this.V2NIMMessageLogUtil={},this.V2NIMMessageExtendUtil={},this.V2NIMStorageUtil={},this.V2NIMNotificationService={},this.V2NIMStorageService={},this.auth={},this.V1NIMLoginService={},this.V2NIMLoginService={},this.clientSocket={},this.V2NIMSyncService={},this.V2NIMLocalConversationService={},this.V2NIMConversationService={},this.V2NIMConversationGroupService={},this.V2NIMMessageService={},this.V2NIMTeamService={},this.V2NIMUserService={},this.V2NIMFriendService={},this.V2NIMSettingService={},this.V2NIMAIService={},this.V2NIMSignallingService={},this.V2NIMSubscriptionService={},this.V2NIMPassthroughService={},this.YSFService={},this.offlinePush={},this.sync={},this.msg={},this.msgLog={},this.session={},this.cloudSession={},this.misc={},this.user={},this.friend={},this.systemMessage={},this.team={},this.event={},this.msgExtend={},this.cloudStorage={},this.passThrough={},this.superTeam={},this.plugin={},this.signaling={},this.qchatChannel={},this.qchatMedia={},this.qchatMsg={},this.qchatRole={},this.qchatServer={},this.pluginMap=n7,this.logger=new JPe(t.debugLevel,n.loggerConfig),n.privateConf){var{authConfig:r,cloudStorageConfig:i,reporterConfig:d}=this.getConfigFromPrivate(n.privateConf);Object.assign(t,r),this.setInitOptions(t),this.otherOptions=Object.assign(Object.assign({},n),{cloudStorageConfig:Object.assign(Object.assign({storageKeyPrefix:"NIM"},n.cloudStorageConfig),i),reporterConfig:Object.assign(Object.assign({},n.reporterConfig),d),V1NIMLoginServiceConfig:Object.assign(Object.assign(Object.assign({},t),n.V1NIMLoginServiceConfig),r),V2NIMLoginServiceConfig:Object.assign(Object.assign({},n.V2NIMLoginServiceConfig),r)})}else this.setInitOptions(t),this.otherOptions=Object.assign(Object.assign({},n),{V1NIMLoginServiceConfig:Object.assign(Object.assign({},t),n.V1NIMLoginServiceConfig),cloudStorageConfig:Object.assign({storageKeyPrefix:"NIM"},n.cloudStorageConfig)});this.timerManager=new QJ,this.timeOrigin=new K_(this),this.adapters=new QPe(this),this.abtest=new ZPe(this,Object.assign(Object.assign({isAbtestEnable:this.options.isAbtestEnable,abtestUrl:this.options.abtestUrl},this.otherOptions.abtestConfig),{abtestProjectKey:"imElite_sdk_abtest_web"}));var g=nr.getSystemInfo(),v=function(I,T){var _,N,A=(_=T==null?void 0:T.reporterConfig)===null||_===void 0?void 0:_.compassDataEndpoint,w=(N=T==null?void 0:T.reporterConfig)===null||N===void 0?void 0:N.reportConfigUrl;if(A)return A;if(w){var O=w.match(/^https:\/\/([^/]+)\/*/);if(Array.isArray(O)&&O.length>=1)return`https://${O[1]}`;I.error(`Invalid reportConfigUrl: ${w}`)}return Bj()?"https://statistic.live.126.net":"https://statistic.live.126.net,https://statistic-overseas.yunxinfw.com"}(this.logger,this.otherOptions);this.reporter=new KPe(Object.assign(Object.assign({},v?{compassDataEndpoint:v}:{}),{isDataReportEnable:nDe(this.otherOptions),common:{app_key:t.appkey,dev_id:"",platform:"Web",sdk_ver:"10.9.20",env:"online",os_name:g.os,os_ver:g.osVer,lib_env:g.libEnv,host_env:g.hostEnv,host_env_ver:g.hostEnvVer,manufactor:g.manufactor,model:g.model,v2:this.options.apiVersion!=="v1"},request:nr.request,logger:this.logger,autoStart:!0})),this.reporterHookLinkKeep=new eDe(this),this.reporterHookCloudStorage=new rDe(this),this.reporterHookLBS=new tDe(this),this.getServiceKeys(Object.keys(xT)).forEach(S=>{if(!this[S]||!this[S].name){var I=xT[S];this[S]=new I(this)}}),Object.keys(xT).forEach(S=>{this.callSetOptions(S)}),Object.keys(Nk).forEach(S=>{var I=Nk[S];I!==void 0&&(this[S]=new I(this))}),ml.instance=this,this.logger.log(`NIM init, version:10.9.20, sdk version:100920, appkey:${t.appkey}`)}getServiceKeys(t){var n=t.findIndex(T=>T==="V1NIMLoginService");if(n>-1){var r=t[n];t.splice(n,1),this.options.apiVersion==="v1"&&t.unshift(r)}var i=t.findIndex(T=>T==="V2NIMLoginService");if(i>-1){var d=t[i];t.splice(i,1),this.options.apiVersion==="v2"&&t.unshift(d)}var g=t.findIndex(T=>T==="sync");if(g>-1){var v=t[g];t.splice(g,1),this.options.apiVersion==="v1"&&t.push(v)}var S=t.findIndex(T=>T==="V2NIMSyncService");if(S>-1){var I=t[S];t.splice(S,1),this.options.apiVersion==="v2"&&t.push(I)}return t}static getInstance(t,n){if(!ml.instance){if(t)return new ml(t,n);throw new Error("Instance not exist, please input options")}if(t){if(ml.instance.options.account===t.account&&ml.instance.options.appkey===t.appkey)return ml.instance.setOptions(t),ml.instance;throw new Error("Unexpected login")}return ml.instance}setInitOptions(t){yr({appkey:{type:"string"},apiVersion:{type:"enum",values:["v1","v2"],required:!1},binaryWebsocket:{type:"boolean",required:!1},needReconnect:{type:"boolean",required:!1},reconnectionAttempts:{type:"number",required:!1},customClientType:{type:"number",min:1,required:!1},authType:{type:"number",min:0,max:2,required:!1},lbsUrls:{type:"array",itemType:"string",min:1,required:!1},linkUrl:{type:"string",allowEmpty:!1,required:!1}},t),this.options=Object.assign(Object.assign({},aDe),t)}getConfigFromPrivate(t){var n;return t?{authConfig:JSON.parse(JSON.stringify({appkey:t.appkey||void 0,lbsUrls:t.weblbsUrl?[t.weblbsUrl]:void 0,linkUrl:t.link_web||void 0,linkSSL:(n=t.websdkSsl)!==null&&n!==void 0?n:void 0})),cloudStorageConfig:JSON.parse(JSON.stringify({chunkUploadHost:t.nos_uploader||void 0,commonUploadHost:t.nos_uploader||void 0,commonUploadHostBackupList:t.nos_uploader?[t.nos_uploader]:void 0,chunkUploadHostBackupList:t.nos_uploader?[t.nos_uploader]:void 0,uploadReplaceFormat:t.nos_downloader_v2?`${t.nosSsl?"https://":"http://"}${t.nos_downloader_v2}`:void 0,downloadUrl:t.nos_accelerate!==void 0?t.nos_accelerate:void 0,downloadHostList:t.nos_accelerate_host===""?[]:typeof t.nos_accelerate_host=="string"?[t.nos_accelerate_host]:Array.isArray(t.nos_accelerate_host)?t.nos_accelerate_host:void 0})),reporterConfig:JSON.parse(JSON.stringify({enableCompass:typeof t.enableCompass=="boolean"?t.enableCompass:void 0,compassDataEndpoint:t.compassDataEndpoint||void 0}))}:{authConfig:{},cloudStorageConfig:{},reporterConfig:{}}}connect(t={}){return this.V1NIMLoginService.login(t)}setOptions(t){if(typeof t=="object"&&t!==null){if(Object.prototype.hasOwnProperty.call(t,"account")&&t.account!==this.options.account||Object.prototype.hasOwnProperty.call(t,"appkey")&&t.appkey!==this.options.appkey)throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"NIM::setOptions account and appkey is not allowed to reset"}});if(Object.prototype.hasOwnProperty.call(t,"apiVersion")&&t.apiVersion!==this.options.apiVersion)throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"NIM::setOptions apiVersion is not allowed to reset"}});if(Object.prototype.hasOwnProperty.call(t,"binaryWebsocket")&&t.binaryWebsocket!==this.options.binaryWebsocket)throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"NIM::setOptions binaryWebsocket is not allowed to reset"}});yr({token:{type:"string",required:!1},needReconnect:{type:"boolean",required:!1},reconnectionAttempts:{type:"number",required:!1},customClientType:{type:"number",min:1,required:!1},authType:{type:"number",min:0,max:2,required:!1},lbsUrls:{type:"array",itemType:"string",min:1,required:!1},linkUrl:{type:"string",allowEmpty:!1,required:!1}},t),this.logger.log("NIM::setOptions options is",t),this.options=Object.assign(Object.assign({},this.options),t),this.V1NIMLoginService.setOptions&&this.V1NIMLoginService.setOptions(this.options)}}getOptions(){return this.options}disconnect(){return this.V1NIMLoginService.logout()}_disconnect(){return this.options.apiVersion==="v1"?this.V1NIMLoginService.logout():this.options.apiVersion==="v2"?fr(this.V2NIMLoginService,"lifeCycle.connectStatus")===0&&fr(this.V2NIMLoginService,"lifeCycle.loginStatus")===0?Promise.resolve():this.V2NIMLoginService.logout():Promise.resolve()}destroy(){return ml.instance=void 0,this._disconnect().then(()=>{this.status="destroyed",this.removeAllListeners(),this.eventBus.removeAllListeners(),this.logger.destroy(),this.reporter.destroy(),this.timerManager.destroy(),this._clearModuleData("destroy"),this._removeAllModuleListeners(),this.connect=TT,this.disconnect=TT,this._disconnect=TT,this.destroy=TT})}_clearModuleData(t="logout"){Object.values(this).forEach(n=>{n&&typeof n.reset=="function"&&n.reset(t)})}_removeAllModuleListeners(){Object.values(this).forEach(t=>{t&&typeof t.removeAllListeners=="function"&&t.removeAllListeners()})}kick(t){return this.V1NIMLoginService.kick(t)}sendCmd(t,n,r){return this.clientSocket.sendCmd(t,n,r)}emit(t,...n){try{var r=Date.now(),i=super.emit(t,...n),d=Date.now()-r;return d>=10&&this.logger.warn(`Core::emit event: ${t} process takes: ${d}ms`),i}catch(g){return this.logger.error(`Core::emit event: ${t}. Error: ${g}`),setTimeout(()=>{throw this.logger.error(`Core::emit throw error in setTimeout. event: ${t}. Error: ${g}`),g},0),!1}}get account(){return this.auth.account}get status(){return this.V1NIMLoginService.status}set status(t){this.V1NIMLoginService.status=t}get config(){return{timeout:8e3,deviceId:this.auth.deviceId}}_registerDep(t,n){this[n]&&this[n].name||(this[n]=new t(this),this.callSetOptions(n))}callSetOptions(t){var n=`${t}Config`,r=`${t}Options`,i=this.otherOptions[n]||this.otherOptions[r]||{},d=fr(this,`${t}.setOptions`);typeof d=="function"&&(t==="cloudStorage"&&(i=this.otherOptions[n]||this.otherOptions.serverConfig||{}),d.call(this[t],i))}static registerService(t,n){xT[n]=t}static registerPrivateService(t,n){Nk[n]=t}static registerPlugin(t,n){n7[n]=t}}ml.sdkVersion=100920,ml.sdkVersionFormat="10.9.20";var Fj={},Zv={};function tQ(e,t,n,r){var i=Fj[e];if(!i)return n.error("createCmd:: can not find cmd config: ",e),null;var d={SER:t,SID:i.sid,CID:i.cid,Q:[]};return i.params&&r&&i.params.forEach(function(g){var v=r[g.name];if(v!=null){var S=g.type,{reflectMapper:I,select:T}=g;switch(g.type){case"PropertyArray":S="ArrayMable",v=v.map(_=>({t:"Property",v:I?r7(_,I,T):_}));break;case"Property":v=I?r7(v,I,T):v;break;case"Bool":v=v?"true":"false"}d.Q.push({t:S,v})}}),{packet:d,hasPacketResponse:typeof i.hasPacketResponse!="boolean"||i.hasPacketResponse,hasPacketTimer:typeof i.hasPacketTimer!="boolean"||i.hasPacketTimer}}function nQ(e,t){var n;try{n=JSON.parse(e)}catch{return void t.error(`Parse command error:"${e}"`)}var r=n.sid+"_"+n.cid,i=n.r;if(["4_1","4_2","4_10","4_11"].includes(r)){var d=n.r[1].headerPacket;r=`${d.sid}_${d.cid}`,n.sid=d.sid,n.cid=d.cid,i=n.r[1].body}var g=Zv[r],v=[];if(g&&g.length>0){for(var S of g)v.push(iDe(n,S.config,S.cmd,i,t));return v}t.error("parseCmd:: mapper not exist",r,n.code)}function iDe(e,t,n,r,i){var d,g={cmd:n,raw:e,error:null,service:t==null?void 0:t.service,content:{},__receiveTimeNode:K_.getTimeNode()};(t.sid===18||t.sid>=26&&t.sid<100)&&(e.code=function(I){if(typeof I!="number"||I!=I)throw new pn({code:Mt.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:"Read code failed",rawData:`${I}`}});if(I<0||I>=0&&I<1e3||I>=2e4&&I<=20099)return I;var T=(65535&I)>>9;return T-=T<=38?1:2,1e5+1e3*T+(511&I)}(e.code));var v=function(I,T){var _=XJ[I],N=JJ[I];return N===null?null:new pn({code:I,desc:_||N||I,detail:{cmd:T,timetag:Date.now()}})}(e.code,n);if(g.error=v,g.error){if(g.error.detail.cmd=n,!(!((d=t==null?void 0:t.ignoreErrCodes)===null||d===void 0)&&d.includes(e.code)))return g;i.warn("parseCmd:: ignore error ",g.error),g.error.detail.ignore=!0}return t.response&&t.response.forEach((S,I)=>{var T=r[I],_=S.type,N=S.name,A=S.reflectMapper;if(T!==void 0)switch(_){case"Property":g.content[N]=A?KM(T,A):T;break;case"PropertyArray":g.content[N]=T.map(w=>A?KM(w,A):w);break;case"Int":case"Long":case"Byte":g.content[N]=+T;break;case"Bool":g.content[N]=T==="true"||T===!0||T===1;break;default:g.content[N]=T}}),g}function r7(e,t,n){var r={};for(var i in e=function(I,T){var _={};for(var N in T){var A=T[N],w=typeof A=="number"?N:A.access?A.access:N,O=w.split("."),R=I;for(var D of O){if(R[D]===void 0||R[D]===null){R=void 0;break}R=R[D]}R!==void 0&&(_[w]=R)}return _}(e,t),t){var d=t[i],g=typeof d=="number"?i:d.access?d.access:i;if(!n||n.includes(i))if(g in e){if(typeof d=="number")r[d]=e[g];else if(typeof d=="object")if(d.converter){var v=d.converter(e[g],e);v!==void 0&&(r[d.id]=v)}else r[d.id]=e[g]}else typeof d=="object"&&d.def&&(typeof d.def=="function"?r[d.id]=d.def(e):r[d.id]=d.def)}return r}function KM(e,t){var n={};for(var r in e){var i=t[r];if(typeof i=="string")n[i]=e[r];else if(typeof i=="object"&&"prop"in i){var d=i.access?i.access:i.prop;if(i.converter){var g=i.converter(e[r],e);g!==void 0&&(n[d]=g)}else i.type&&i.type==="number"?n[d]=+e[r]:i.type&&i.type==="boolean"?n[d]=!(e[r]==="0"||!e[r]):n[d]=e[r]}}for(var v in t){var S=t[v];if(S&&S.def!==void 0){var I=S.access?S.access:S.prop;I in n||(typeof S.def=="function"?n[I]=S.def(e):n[I]=S.def)}}return n=function(_){var N={},A=function(O){var R=O.split(".");R.reduce(function(D,j,L){return D[j]||(D[j]=isNaN(Number(R[L+1]))?R.length-1==L?_[O]:{}:[])},N)};for(var w in _)A(w);return N}(n),n}function dg(e){for(var t in Object.assign(Fj,e.cmdConfig),e.cmdMap){var n=e.cmdMap[t],r=e.cmdConfig[n];if(r)if(Array.isArray(Zv[t])){var i=!1;for(var d of Zv[t])if(d.cmd===n&&d.config.service===r.service){i=!0;break}i||Zv[t].push({config:r,cmd:n})}else Zv[t]=[{config:r,cmd:n}]}}function ht(e){var t={};for(var n in e){var r=e[n];typeof r=="number"?t[r]=n:typeof r=="object"&&(t[r.id]={prop:n,type:r.retType,access:r.retAccess?r.retAccess:r.access?r.access:n,def:r.retDef,converter:r.retConverter})}return t}function ya(e){return e?1:0}function oDe(e){return parseInt(e)===1}function TI(e){if(e&&typeof e=="object")try{return JSON.stringify(e)}catch{return}}function v0(e){if(e&&typeof e=="string")try{return JSON.parse(e)}catch{return}}function qj(e,t){if(!h0(t))return{};var n=JSON.parse(JSON.stringify(t)),r=rQ(e,n);return JSON.parse(JSON.stringify(Object.assign(Object.assign({},n),r)))}function rQ(e,t){if(!h0(t))return{};var n={};return Object.keys(e).forEach(r=>{var i=e[r].type;if(typeof i!="string"){var d=rQ(e[r],t);Object.keys(d).length>0&&(n[r]=d)}else{var g=e[r],v=g.rawKey||r,S=sDe[i](t,v,g);S!==void 0&&(t[v]=void 0,n[r]=S)}}),n}var sDe={number:function(e,t){if(e[t]!==void 0)return+e[t]},string:function(e,t){if(e[t]!==void 0)return e[t]},boolean:function(e,t){return+e[t]>0||+e[t]!=0&&void 0},enum:function(e,t,n){return n.values[e[t]]},object:function(e,t){if(e[t]!==void 0)try{return JSON.parse(e[t])}catch{return{}}}};function a7(e){return qj({type:{type:"number"},port:{type:"number"},customClientType:{type:"number"},timestamp:{type:"number"},loginType:{type:"number"}},e)}var lDe={"26_3":"v2Login","26_5":"v2Logout","26_8":"v2KickOffline","26_9":"v2BeKicked","26_10":"v2LoginClientChange","36_1":"v2GetChatroomLinkAddress"},cDe={"1_2":"heartbeat","2_7":"nimLoginClientChange","24_8":"qchatLoginClientChange"},ey={webLoginReqTag:{clientType:3,os:4,sdkVersion:6,appLogin:8,protocolVersion:9,pushTokenName:10,pushToken:11,clientId:13,appkey:18,account:19,browser:24,clientSession:26,deviceInfo:32,isReactNative:112,customTag:38,customClientType:39,sdkHumanVersion:40,hostEnv:41,userAgent:42,libEnv:44,authType:115,thirdPartyExtension:116,token:1e3},mixAuthRepTag:{clientId:1,consid:2,clientIP:3,port:4,type:5,customClientType:6,timestamp:7,customTag:8,os:9,pushType:10,hasTokenPreviously:11,loginType:12},nimAuthRepTag:{type:3,os:4,mac:5,clientId:13,account:19,deviceInfo:32,customTag:38,customClientType:39,consid:102,clientIP:103,port:104,timestamp:109,pushType:110,hasTokenPreviously:111},qchatAuthRepTag:{clientId:8,consid:102,clientIP:103,port:104,type:6,customClientType:13,timestamp:105,os:30,pushType:100,hasTokenPreviously:101}},uDe={v2Login:{sid:26,cid:3,service:"auth",params:[{type:"Property",name:"tag",reflectMapper:ey.webLoginReqTag}],response:[{type:"Property",name:"data",reflectMapper:ht(ey.mixAuthRepTag)},{type:"PropertyArray",name:"loginClients",reflectMapper:ht(ey.mixAuthRepTag)}]},v2Logout:{sid:26,cid:5,service:"auth"},v2KickOffline:{sid:26,cid:8,service:"auth",params:[{type:"StrArray",name:"clientIds"}],response:[{type:"StrArray",name:"clientIds"}]},v2BeKicked:{sid:26,cid:9,service:"auth",response:[{type:"Int",name:"clientType"},{type:"Int",name:"reason"},{type:"String",name:"reasonDesc"},{type:"Int",name:"customClientType"}]},v2LoginClientChange:{sid:26,cid:10,service:"auth",response:[{type:"Byte",name:"state"},{type:"PropertyArray",name:"datas",reflectMapper:ht(ey.mixAuthRepTag)}]},v2GetChatroomLinkAddress:{sid:36,cid:1,service:"auth",params:[{type:"Long",name:"roomId"},{type:"Bool",name:"miniProgram"}],response:[{type:"StrArray",name:"linkAddress"}]}},dDe={heartbeat:{sid:1,cid:2,service:"auth"},nimLoginClientChange:{sid:2,cid:7,service:"auth",response:[{type:"Byte",name:"state"},{type:"PropertyArray",name:"datas",reflectMapper:ht(ey.nimAuthRepTag)}]},qchatLoginClientChange:{sid:24,cid:8,service:"auth",response:[{type:"Byte",name:"state"},{type:"Property",name:"data",reflectMapper:ht(ey.qchatAuthRepTag)}]}},zj=Hv;function Hv(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Hv.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(1&Math.floor(10*t))==0?e-n:e+n}return 0|Math.min(e,this.max)},Hv.prototype.reset=function(){this.attempts=0},Hv.prototype.setMin=function(e){this.ms=e},Hv.prototype.setMax=function(e){this.max=e},Hv.prototype.setJitter=function(e){this.jitter=e};var i7=function(e){var t;if(e!==void 0)return(t=Aa(e)).sign=1,t},aQ=function(e){return Object.prototype.toString.call(e)==="[object Array]"},iQ=function(e){return[typeof e=="number",typeof e=="string"&&e.length>0,aQ(e)&&e.length>0,e instanceof Aa].some(function(t){return t===!0})},oQ="Invalid Number",pDe="Invalid Number - Division By Zero";function Aa(e){var t;if(!(this instanceof Aa))return new Aa(e);if(this.number=[],this.sign=1,this.rest=0,iQ(e)){if(aQ(e)){for((e.length&&e[0]==="-"||e[0]==="+")&&(this.sign=e[0]==="+"?1:-1,e.shift(0)),t=e.length-1;t>=0;t--)if(!this.addDigit(e[t]))return}else for((e=e.toString()).charAt(0)!=="-"&&e.charAt(0)!=="+"||(this.sign=e.charAt(0)==="+"?1:-1,e=e.substring(1)),t=e.length-1;t>=0;t--)if(!this.addDigit(parseInt(e.charAt(t),10)))return}else this.number=oQ}Aa.prototype.addDigit=function(e){return function(t){return/^\d$/.test(t)}(e)?(this.number.push(e),this):(this.number=oQ,!1)},Aa.prototype._compare=function(e){var t,n;if(!iQ(e))return null;if(t=Aa(e),this.sign!==t.sign)return this.sign;if(this.number.length>t.number.length)return this.sign;if(this.number.length<t.number.length)return-1*this.sign;for(n=this.number.length-1;n>=0;n--){if(this.number[n]>t.number[n])return this.sign;if(this.number[n]<t.number[n])return-1*this.sign}return 0},Aa.prototype.gt=function(e){return this._compare(e)>0},Aa.prototype.gte=function(e){return this._compare(e)>=0},Aa.prototype.equals=function(e){return this._compare(e)===0},Aa.prototype.lte=function(e){return this._compare(e)<=0},Aa.prototype.lt=function(e){return this._compare(e)<0},Aa.prototype.subtract=function(e){var t;return e===void 0?this:(t=Aa(e),this.sign!==t.sign?(this.number=Aa._add(this,t),this):(this.sign=this.lt(t)?-1:1,this.number=i7(this).lt(i7(t))?Aa._subtract(t,this):Aa._subtract(this,t),this))},Aa._add=function(e,t){var n,r=0,i=Math.max(e.number.length,t.number.length);for(n=0;n<i||r>0;n++)e.number[n]=(r+=(e.number[n]||0)+(t.number[n]||0))%10,r=Math.floor(r/10);return e.number},Aa._subtract=function(e,t){var n,r=0,i=e.number.length;for(n=0;n<i;n++)e.number[n]-=(t.number[n]||0)+r,e.number[n]+=10*(r=e.number[n]<0?1:0);for(n=0,i=e.number.length-1;e.number[i-n]===0&&i-n>0;)n++;return n>0&&e.number.splice(-n),e.number},Aa.prototype.multiply=function(e){if(e===void 0)return this;var t,n,r=Aa(e),i=0,d=[];if(this.isZero()||r.isZero())return Aa(0);for(this.sign*=r.sign,t=0;t<this.number.length;t++)for(i=0,n=0;n<r.number.length||i>0;n++)d[t+n]=(i+=(d[t+n]||0)+this.number[t]*(r.number[n]||0))%10,i=Math.floor(i/10);return this.number=d,this},Aa.prototype.divide=function(e){if(e===void 0)return this;var t,n,r=Aa(e),i=[],d=Aa(0);if(r.isZero())return this.number=pDe,this;if(this.isZero())return this.rest=Aa(0),this;if(this.sign*=r.sign,r.sign=1,r.number.length===1&&r.number[0]===1)return this.rest=Aa(0),this;for(t=this.number.length-1;t>=0;t--)for(d.multiply(10),d.number[0]=this.number[t],i[t]=0;r.lte(d);)i[t]++,d.subtract(r);for(t=0,n=i.length-1;i[n-t]===0&&n-t>0;)t++;return t>0&&i.splice(-t),this.rest=d,this.number=i,this},Aa.prototype.mod=function(e){return this.divide(e).rest},Aa.prototype.isZero=function(){var e;for(e=0;e<this.number.length;e++)if(this.number[e]!==0)return!1;return!0},Aa.prototype.toString=function(){var e,t="";if(typeof this.number=="string")return this.number;for(e=this.number.length-1;e>=0;e--)t+=this.number[e];return this.sign>0?t:"-"+t};var us,DI=Math.pow(2,32);function o7(e){for(var t=new Uint8Array(5),n=new DataView(t.buffer),r=0;(4294967168&e)!=0;)n.setUint8(r++,127&e|128),e>>>=7;return n.setUint8(r++,127&e),t.slice(0,r)}function mDe(e){return typeof TextDecoder=="function"?new TextDecoder("utf-8").decode(e):function(n){for(var r="",i=0;i<n.length;){var d=n[i],g=0,v=0;if(d<=127?(g=0,v=255&d):d<=223?(g=1,v=31&d):d<=239?(g=2,v=15&d):d<=244&&(g=3,v=7&d),n.length-i-g>0)for(var S=0;S<g;)v=v<<6|63&(d=n[i+S+1]),S+=1;else v=65533,g=n.length-i;r+=String.fromCodePoint(v),i+=g+1}return r}(e)}class fDe{constructor(t){this.offset=0,this.buffer=new Uint8Array(t),this.view=new DataView(t)}checkBufferBoundaryAccess(){return this.offset>=this.buffer.byteLength}length(){var t;return((t=this.view)===null||t===void 0?void 0:t.byteLength)||0}getBuffer(){return this.view.buffer}getOffset(){return this.offset}popRaw(t){try{var n=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,n}catch(r){throw new Error(`UnpackException raw ${r&&r.message}`)}}popByte(){try{var t=this.view.getUint8(this.offset);return this.offset+=1,t}catch(n){throw new Error(`UnpackException byte ${n&&n.message}`)}}popVarbin(){return this.popRaw(this.popVarInt())}popString(){try{return mDe(this.popVarbin())}catch(t){throw new Error(`UnpackException string ${t&&t.message}`)}}popInt(){try{var t=this.view.getUint32(this.offset,!0);return this.offset+=4,t}catch(n){throw new Error(`UnpackException int ${n&&n.message}`)}}popVarInt(){var t=1,n=0,r=0,i=0;do if(n+=(127&(r=this.popByte()))*t,t*=128,(i+=1)>5)throw new Error("Variable length quantity is too long");while((128&r)!=0);return n}popLong(){try{var t=function(r,i=!1){var d=new DataView(r.buffer),[g,v]=i?[4,0]:[0,4],S=d.getUint32(g,i),I=d.getUint32(v,i);return S>0?S*DI+I:I}(this.buffer.slice(this.offset,this.offset+8),!0);return this.offset+=8,Number(t)}catch(n){throw new Error(`UnpackException long ${n&&n.message}`)}}popShort(){try{var t=this.view.getUint16(this.offset,!0);return this.offset+=2,t}catch(n){throw new Error(`UnpackException short ${n&&n.message}`)}}popBoolean(){return this.popByte()>0}toString(){return Array.from(new Uint8Array(this.buffer)).toString()}reset(){this.offset=0,this.buffer=null,this.view=null}}class W_{constructor(t){this.packetLength=0,this.serviceId=0,this.commandId=0,this.serialId=0,this.tag=0,this.resCode=200,this.innerHeader=null,this.msgId=0,this.bodyArr=[],this.unpack=new fDe(t)}reset(){this.innerHeader=null,this.bodyArr=[],this.unpack.reset()}getBodyDetail(){return this.bodyArr.join("")}unmarshalHeader(){var t=this._unmarshalHeader();this.packetLength=t.packetLength,this.serviceId=t.serviceId,this.commandId=t.commandId,this.serialId=t.serialId,this.tag=t.tag,this.resCode=t.resCode,t.serviceId===4&&[1,2,10,11].includes(t.commandId)&&(this.msgId=this.unmarshalLong(),this.innerHeader=this._unmarshalHeader())}_unmarshalHeader(){var t=this.unpack.popVarInt(),n=this.unpack.popByte(),r=this.unpack.popByte(),i=this.unpack.popShort(),d=this.unpack.popByte(),g=200;return this.hasRescode(d)&&(g=this.unpack.popShort()),{packetLength:t,serviceId:n,commandId:r,serialId:i,tag:d,resCode:g}}hasRescode(t){return((t=t||this.tag)&W_.RES_CODE)!=0}getHeader(){return{packetLength:this.packetLength,sid:this.serviceId,cid:this.commandId,ser:this.serialId,code:this.resCode}}getInnerHeader(){return this.innerHeader?{sid:this.innerHeader.serviceId,cid:this.innerHeader.commandId}:null}unmarshalProperty(){var t=this.unpack.popVarInt(),n={};this.bodyArr.push(`
Property(${t}) {`);for(var r=0;r<t;r++){var i=this.unpack.popVarInt();this.bodyArr.push(`${i}:`);var d=this.unpack.popString();this.bodyArr.push(`"${d.length} ${this.unpack.getOffset()}",`),n[i]=d}return this.bodyArr.push("},"),n}unmarshalPropertyArray(){var t=this.unpack.popVarInt(),n=[];this.bodyArr.push(`
PropertyArray(${t}) [`);for(var r=0;r<t;r++)n.push(this.unmarshalProperty());return this.bodyArr.push("],"),n}unmarshalLong(){var t=this.unpack.popLong();return this.bodyArr.push(`
Long:${t}`),t}unmarshalLongArray(){var t=this.unpack.popVarInt(),n=[];this.bodyArr.push(`
LongArray ${t}:`);for(var r=0;r<t;r++){var i=this.unpack.popLong();this.bodyArr.push(`${i},`),n.push(i)}return n}unmarshalStrArray(){var t=this.unpack.popVarInt(),n=[];this.bodyArr.push(`
StrArray ${t}:`);for(var r=0;r<t;r++){var i=this.unpack.popString();this.bodyArr.push(`${i},`),n.push(i)}return n}unmarshalStrLongMap(){var t=this.unpack.popVarInt(),n={};this.bodyArr.push(`
StrLongMap ${t}:`);for(var r=0;r<t;r++){var i=this.unpack.popString();this.bodyArr.push(`${i},`);var d=this.unpack.popLong();this.bodyArr.push(`${d};`),n[i]=d}return n}unmarshalStrStrMap(){var t=this.unpack.popVarInt(),n={};this.bodyArr.push(`
StrStrMap ${t}:`);for(var r=0;r<t;r++){var i=this.unpack.popString();this.bodyArr.push(`${i},`);var d=this.unpack.popString();this.bodyArr.push(`${d};`),n[i]=d}return n}unmarshalLongLongMap(){var t=this.unpack.popVarInt(),n={};this.bodyArr.push(`
StrLongLongMap ${t}:`);for(var r=0;r<t;r++){var i=this.unpack.popLong();this.bodyArr.push(`${i},`);var d=this.unpack.popLong();this.bodyArr.push(`${d};`),n[i]=d}return{m_map:n}}unmarshalKVArray(){var t=this.unpack.popVarInt(),n=[];this.bodyArr.push(`
KVArray ${t}:`);for(var r=0;r<t;r++)n.push(this.unmarshalStrStrMap());return n}unmarshal(t){var n=Object.assign(Object.assign({},this.getHeader()),{r:[]});if(this.innerHeader&&(n.r[0]=this.msgId,n.r[1]={body:[],headerPacket:this.getInnerHeader()}),![200,406,808,810,7101].includes(n.code))return JSON.stringify(n);if(this.packetLength>0&&this.packetLength>this.unpack.length())throw new Error(`UnpackException packetLength(${this.packetLength}) greater than bufferLength(${this.unpack.length()})`);var r=[];return t&&t.forEach(i=>{if(!this.unpack.checkBufferBoundaryAccess())switch(i.type){case"PropertyArray":r.push(this.unmarshalPropertyArray());break;case"Property":r.push(this.unmarshalProperty());break;case"Byte":r.push(this.unpack.popByte());break;case"Int":r.push(this.unpack.popInt());break;case"Bool":r.push(this.unpack.popBoolean());break;case"Long":r.push(this.unmarshalLong());break;case"LongArray":r.push(this.unmarshalLongArray());break;case"String":r.push(this.unpack.popString());break;case"StrArray":r.push(this.unmarshalStrArray());break;case"StrStrMap":r.push(this.unmarshalStrStrMap());break;case"StrLongMap":r.push(this.unmarshalStrLongMap());break;case"LongLongMap":r.push(this.unmarshalLongLongMap());break;case"KVArray":r.push(this.unmarshalKVArray())}}),this.innerHeader?n.r[1].body=r:n.r=r,JSON.stringify(n)}}W_.RES_CODE=2;class gDe{constructor(){this.offset=0,this.pageSize=1024,this.capacity=1048576,this.buffer=new Uint8Array(this.pageSize),this.view=new DataView(this.buffer.buffer)}reset(){this.offset=0,this.buffer=null,this.view=null}size(){return this.offset}getBuffer(){return this.buffer.slice(0,this.offset).buffer}ensureCapacity(t){var n=this.offset+t;if(n>this.capacity)throw new Error("PackException over limit");if(n>this.buffer.byteLength){var r=Math.ceil(n/this.pageSize)*this.pageSize,i=new Uint8Array(r);i.set(this.buffer),this.buffer=i,this.view=new DataView(this.buffer.buffer)}}putRaw(t){this.ensureCapacity(t.length);try{this.buffer.set(t,this.offset),this.offset+=t.length}catch{throw new Error("PackException raw")}}putByte(t){this.ensureCapacity(1);try{this.view.setUint8(this.offset++,t)}catch{throw new Error("PackException byte")}}putString(t){try{var n=function(i){if(typeof TextEncoder=="function")return new TextEncoder().encode(i);var d=function(v){for(var S=[],I=v.length,T=0;T<I;){var _=v.codePointAt(T),N=0,A=0;for(_<=127?(N=0,A=0):_<=2047?(N=6,A=192):_<=65535?(N=12,A=224):_<=2097151&&(N=18,A=240),S.push(A|_>>N),N-=6;N>=0;)S.push(128|_>>N&63),N-=6;T+=_>=65536?2:1}return S}(i);return new Uint8Array(d)}(t);this.putVarbin(n)}catch{throw new Error("PackException string")}}putInt(t){this.ensureCapacity(4);try{this.view.setInt32(this.offset,t,!0),this.offset+=4}catch{throw new Error("PackException int")}}putVarInt(t){var n=o7(t);this.putRaw(n)}putBoolean(t){this.ensureCapacity(1);try{this.view.setUint8(this.offset++,t?1:0)}catch{throw new Error("PackException boolean")}}putLong(t){this.ensureCapacity(8);try{var n=function(i,d=!1){var g=new Uint8Array(8),v=new DataView(g.buffer),S=Number(i>DI-1?i/DI:0),I=Number(4294967295&i),[T,_]=d?[4,0]:[0,4];return v.setUint32(T,S,d),v.setUint32(_,I,d),g}(t,!0);this.buffer.set(n,this.offset),this.offset+=8}catch{throw new Error("PackException long")}}putStringAsLong(t){this.ensureCapacity(8);try{var n=function(i,d=!1){var g=new Uint8Array(8),v=new DataView(g.buffer),S=Aa(i).divide(DI).number.reverse().join(""),I=Aa(i).mod(DI).number.reverse().join(""),T=Number(S),_=Number(I),[N,A]=d?[4,0]:[0,4];return v.setUint32(N,T,d),v.setUint32(A,_,d),g}(t,!0);this.buffer.set(n,this.offset),this.offset+=8}catch{throw new Error("PackException stringAsLong")}}putShort(t){this.ensureCapacity(2);try{this.view.setInt16(this.offset,t,!0),this.offset+=2}catch{throw new Error("PackException short")}}putVarbin(t){if(!t)return this.ensureCapacity(1),this.putVarInt(0);if(t.byteLength>Math.pow(2,31)-2)throw new Error("PackException varbin. too long");var n=o7(t.length);this.ensureCapacity(n.length+t.length);try{this.buffer.set(n,this.offset),this.offset+=n.length,this.buffer.set(t,this.offset),this.offset+=t.length}catch{throw new Error("PackException varbin")}}}function eg(e){if(typeof e!="number"){if(e==null)return!1;e=Number(e)}if(isNaN(e))throw new Error("Number type conversion error");return!0}function Uv(e){return e==null}class hDe{constructor(t,n,r){this.pack=new gDe,this.packetLength=0,this.serviceId=0,this.commandId=0,this.serialId=0,this.tag=0,this.serviceId=t,this.commandId=n,this.serialId=r}marshalHeader(){this.pack.putVarInt(this.packetLength),this.pack.putByte(this.serviceId),this.pack.putByte(this.commandId),this.pack.putShort(this.serialId),this.pack.putByte(this.tag)}marshalProperty(t){var n=Object.keys(t).filter(r=>!Uv(r));this.pack.putVarInt(n.length),n.forEach(r=>{this.pack.putVarInt(Number(r)),Array.isArray(t[r])||Object.prototype.toString.call(t[r])==="[object Object]"?this.pack.putString(JSON.stringify(t[r])):this.pack.putString(String(t[r]))})}marshalPropertyArray(t){var n=t.length;this.pack.putVarInt(n),t.forEach(r=>{this.marshalProperty(r==null?void 0:r.v)})}marshalStrArray(t){var n=t.filter(i=>!Uv(i)),r=n.length;this.pack.putVarInt(r),n.forEach(i=>{this.pack.putString(String(i))})}marshalLongArray(t){var n=t.filter(i=>eg(i)),r=n.length;this.pack.putVarInt(r),n.forEach(i=>{this.putLong(i)})}marshalStrStrMap(t){var n=Object.keys(t).filter(r=>!Uv(t[r])&&!Uv(r));this.pack.putVarInt(n.length),n.forEach(r=>{this.pack.putString(String(r)),this.pack.putString(String(t[r]))})}marshalStrLongMap(t){var n=Object.keys(t).filter(r=>eg(t[r])&&!Uv(r));this.pack.putVarInt(n.length),n.forEach(r=>{this.pack.putString(String(r)),this.putLong(t[r])})}marshalLongLongMap(t){var n=Object.keys(t).filter(r=>{var i=Number(r);return eg(i)&&eg(t[i])});this.pack.putVarInt(n.length),n.forEach(r=>{var i=Number(r);this.putLong(i),this.putLong(t[i])})}marshalKVArray(t){var n=t.length;this.pack.putVarInt(n),t.forEach(r=>{this.marshalStrStrMap(r)})}putLong(t){typeof t=="string"&&t.length>15?this.pack.putStringAsLong(t):this.pack.putLong(Number(t))}marshal(t,n){return this.marshalHeader(),n&&n.forEach((r,i)=>{var d,g=r.type,v=(d=t[i])===null||d===void 0?void 0:d.v;if(!Uv(v))switch(g){case"PropertyArray":this.marshalPropertyArray(v);break;case"Property":this.marshalProperty(v);break;case"Byte":if(!eg(v))return;this.pack.putByte(Number(v));break;case"Int":if(!eg(v))return;this.pack.putInt(Number(v));break;case"Bool":v==="false"?v=!1:v==="true"&&(v=!0),this.pack.putBoolean(v);break;case"Long":if(!eg(v))return;this.putLong(v);break;case"LongArray":this.marshalLongArray(v);break;case"String":this.pack.putString(String(v));break;case"StrArray":this.marshalStrArray(v);break;case"StrStrMap":this.marshalStrStrMap(v);break;case"StrLongMap":this.marshalStrLongMap(v);break;case"LongLongMap":this.marshalLongLongMap(v);break;case"KVArray":this.marshalKVArray(v)}}),this.pack.getBuffer()}reset(){this.pack.reset()}}class vDe extends g0{constructor(t,n,r){super(),this.websocket=null,this.socketConnectTimer=0,this.linkSSL=!0,this.url="",this.core=t,this.url=n,this.linkSSL=r,this.status="disconnected",this.logger=t.logger,this.connect()}connect(){this.status!=="connecting"&&this.status!=="connected"?(this.status="connecting",this._createWebsocket(`${this.linkSSL?"wss":"ws"}://${this.url}/websocket`)):this.logger.warn("imsocket::socket is connecting or connected",this.status)}close(){if(this.status="disconnected",this.websocket){this.logger.log("imsocket:: close websocket");try{this.websocket.close()}catch(t){this.logger.warn("imsocket::attempt to close websocket error",t)}this.clean(),this.emit("disconnect")}}clean(){this.status="disconnected",clearTimeout(this.socketConnectTimer),this.websocket&&(this.socketUrl=void 0,this.websocket.onmessage=null,this.websocket.onopen=null,this.websocket.onerror=null,this.websocket.onclose=null,this.websocket=null)}onConnect(){this.status="connected",this.emit("connect"),clearTimeout(this.socketConnectTimer)}_createWebsocket(t){this.socketConnectTimer=setTimeout(()=>{this.logger.error("imsocket::Websocket connect timeout. url: ",t),this.emit("connectFailed",new pn({code:fr(this.core,"options.apiVersion")==="v2"?Mt.V2NIM_ERROR_CODE_CONNECT_TIMEOUT:415,detail:{reason:`imsocket::Websocket connect timeout. url: ${t}`}}))},this.core.options.socketConnectTimeout||8e3),this.socketUrl=t,this.websocket=new nr.WebSocket(t),this.websocket.binaryType="arraybuffer",this.websocket.onmessage=this.onMessage.bind(this),this.websocket.onclose=n=>{n=n||{},this.logger.log(`imsocket::Websocket onclose done ${n.wasClean}/${n.code}/${n.reason}`),this.status==="connected"?(this.clean(),this.emit("disconnect")):(this.clean(),this.emit("connectFailed",new pn({code:fr(this.core,"options.apiVersion")==="v2"?Mt.V2NIM_ERROR_CODE_CONNECT_FAILED:414,detail:{reason:"imsocket::Websocket onclose done"}})))},this.websocket.onerror=n=>{this.logger.error("imsocket::Websocket onerror",n),this.status==="connected"?(this.clean(),this.emit("disconnect")):(this.clean(),this.emit("connectFailed",new pn({code:fr(this.core,"options.apiVersion")==="v2"?Mt.V2NIM_ERROR_CODE_CONNECT_FAILED:414,detail:{reason:"imsocket::Websocket onerror."}})))},this.websocket.onopen=()=>{this.onConnect()}}onMessage(t){if(t.data){var n=new W_(t.data),r={sid:-1,cid:-1,ser:-1,packetLength:-1},i=null;try{n.unmarshalHeader(),r=n.getHeader(),i=n.getInnerHeader()}catch(A){this.reportBinaryError({err:A,sid:i?i.sid:r==null?void 0:r.sid,cid:i?i.cid:r==null?void 0:r.cid,rawBuf:t.data,type:"decode"})}var d=i?i.sid:r.sid,g=i?i.cid:r.cid,v=`${d}_${g}`,S=Zv[v];if(S&&S.length>0){var I,T=S[0].config;try{I=n.unmarshal(T.response)}catch(A){var _=n.getBodyDetail();this.reportBinaryError({err:A,rawBuf:t.data,sid:d,cid:g,parseDetail:_,type:"decode"}),n.reset();var N=Object.assign(Object.assign({},r),{sid:d,cid:g,code:Mt.V2NIM_ERROR_CODE_UNPACK_ERROR});return this.logger.error(`imsocket::onMessage "${N.sid}_${N.cid}", ser ${N.ser}, packetLength ${N.packetLength} unmarshal error. ${_} 
`,A),void this.emit("message",JSON.stringify(N))}this.emit("message",I)}else this.core.logger.warn("imsocket::onMessage cmd not found",v);n.reset()}}send(t,n,r,i,d){var g,v,S=new hDe(t,n,r),I=Fj[i],T="";try{T=JSON.stringify(d),v=S.marshal(JSON.parse(T),I.params)}catch(_){throw this.reportBinaryError({err:_,sid:t,cid:n,rawStr:T,type:"encode"}),S.reset(),new pn({code:Mt.V2NIM_ERROR_CODE_PACK_ERROR,detail:{reason:`${t}-${n}, ser ${r} marshal error`,rawError:_}})}(g=this.websocket)===null||g===void 0||g.send(v),S.reset()}reportBinaryError(t){var n,r,i,{err:d,rawStr:g,sid:v,cid:S,type:I,parseDetail:T}=t,_=t.rawBuf;if(_){try{i=function(w){if(typeof btoa!="function")return"";for(var O="",R=new Uint8Array(w),D=R.byteLength,j=0;j<D;j++)O+=String.fromCharCode(R[j]);return R=null,btoa(O)}(_)}catch(A){i=`reportBinaryError::arrayBufferToBase64 parsing failed, error: ${A==null?void 0:A.message}, sid: ${v}, cid: ${S}`,this.core.logger.error(i)}_=null}this.core.reporter.reportTraceStart("exceptions",{user_id:(n=this.core.auth)===null||n===void 0?void 0:n.account,trace_id:(r=this.core.clientSocket.socket)===null||r===void 0?void 0:r.sessionId,start_time:Date.now(),action:2,exception_service:9});var N=d?(`${d.message};;;`||`${d.code};;;`)+(T?`parseDetail: ${T};;;`:"")+(g?` rawStr: ${g}`:"")+(i?` rawBuf: ${i}`:""):"";this.core.reporter.reportTraceUpdateV2("exceptions",{code:I==="encode"?Mt.V2NIM_ERROR_CODE_PACK_ERROR:Mt.V2NIM_ERROR_CODE_UNPACK_ERROR,description:N,operation_type:I==="encode"?3:4,target:`${v}-${S}`},{asyncParams:nr.net.getNetworkStatus()}),this.core.reporter.reportTraceEnd("exceptions",1)}}(function(e){e[e.ACTIVE=1]="ACTIVE",e[e.KICKED=2]="KICKED",e[e.OFFLINE=3]="OFFLINE"})(us||(us={}));class yDe{constructor(t){this.isReconnect=!1,this.packetTimeout=8e3,this.linkSSL=!0,this.packetSer=1,this.backoff=new zj({max:8e3,min:1600,jitter:.01}),this.sendingCmdMap=new Map,this.pingTimer=0,this.hasNetworkListener=!1,this.core=t,this.auth=t.auth,this.logger=t.logger,this.reporter=t.reporter,this.timerManager=t.timerManager,this.eventBus=t.eventBus,this.setListener()}setListener(){this.core.eventBus.on("V2NIMLoginService/loginLifeCycleLoginSucc",()=>{this.isReconnect=!0})}setSessionId(t){this.socket&&(this.socket.sessionId=t)}setLinkSSL(t){this.linkSSL=t}connect(t,n=!1){var r,i;return wn(this,void 0,void 0,function*(){this.isReconnect=n;var d=this.core.auth.getConnectStatus();if(d===1){var g=`clientSocket::connect status is ${d}, and would not repeat connect`,v=new pn({code:Mt.V2NIM_ERROR_CODE_ILLEGAL_STATE,detail:{reason:g}});return this.logger.warn(g),Promise.reject(v)}this.auth.lifeCycle.processEvent("connect");try{yield this.auth.doLoginStepsManager.add(this.doConnect(t)),this.logger.log(`clientSocketV2:: connect success with link url: ${t}, isReconnect: ${n}`),this.core.reporter.reportTraceUpdateV2("login",{operation_type:"TCP",target:t,code:200,mixlink:!0,succeed:!0},{asyncParams:nr.net.getNetworkStatus()}),this.auth.lifeCycle.processEvent("connectSucc")}catch(I){var S=I;throw this.core.reporter.reportTraceUpdateV2("login",{operation_type:"TCP",target:t,code:S.code||0,description:`connectFailed:${S.message}`,mixlink:!0,succeed:!1},{asyncParams:nr.net.getNetworkStatus()}),S.code===Mt.V2NIM_ERROR_CODE_CANCELLED||S.code===Mt.V2NIM_ERROR_CODE_TIMEOUT?((r=this.socket)===null||r===void 0||r.close(),(i=this.socket)===null||i===void 0||i.removeAllListeners(),this.socket=void 0,I):(this.logger.warn(`clientSocketV2::connect failed with link url: ${t}`,S),this.auth.lifeCycle.processEvent("connectFail",S),I)}})}doConnect(t){var n=!1;return new Promise((r,i)=>{this.socket=new vDe(this.core,t,this.linkSSL),this.socket.on("connect",()=>{this.logger.log("clientSocketV2::socket on connect",t),this.core.reporterHookLinkKeep.start(),this.core.reporterHookLinkKeep.update({code:0,description:"connection begin",operation_type:0,target:t}),n=!0,r()}),this.socket.on("message",this.onMessage.bind(this)),this.socket.on("disconnect",d=>wn(this,void 0,void 0,function*(){n=!0,this.logger.log(`clientSocketV2::socket on disconnect ${t}`,d),yield this.core.reporterHookLinkKeep.update({code:(d==null?void 0:d.code)||0,description:(d==null?void 0:d.reason)||"socket on disconnect",operation_type:1,target:t}),this.core.reporterHookLinkKeep.end(!1),this.doDisconnect(us.OFFLINE,"SocketOnDisconnect")})),this.socket.on("connectFailed",d=>{n?this.ping():(this.logger.error(`clientSocketV2::connectFailed:${t}, reason:${d&&d.message}`),this.cleanSocket()),n=!0,i(d)})})}cleanSocket(){this.socket&&(typeof this.socket.removeAllListeners=="function"&&this.socket.removeAllListeners(),typeof this.socket.close=="function"&&this.socket.close(),this.socket=void 0)}resetSocketConfig(){this.backoff.reset(),this.initOnlineListener()}doDisconnect(t,n){if(this.logger.log(`clientSocketV2::doDisconnect:type:${t},reason:`,n),this.core.auth.getConnectStatus()!==0){var r={1:"close",2:"kicked",3:"broken"}[t]||"";this.markAllCmdInvaild(new pn({code:Mt.V2NIM_ERROR_CODE_DISCONNECT,detail:{reason:"Packet timeout due to instance disconnect",disconnect_reason:r}})),this.timerManager.destroy(),clearTimeout(this.pingTimer),this.cleanSocket(),t===us.ACTIVE||t===us.KICKED?this.destroyOnlineListener():t===us.OFFLINE&&(this.auth.lifeCycle.processEvent("connectionBroken",new pn({code:Mt.V2NIM_ERROR_CODE_DISCONNECT,detail:{reason:"connection broken due to internal reasons"}})),this.logger.log(`clientSocketV2::doDisconnect: pending reconnect ${this.isReconnect}`),this.isReconnect&&this.auth.lifeCycle.processEvent("waiting"))}else this.logger.warn("clientSocketV2::doDisconnect:already disconnected")}sendCmd(t,n,r){var i=this.core.auth.getLoginStatus(),d={cmd:t};if(i!==1&&!["v2Login","login","chatroomLogin","v2ChatroomLogin"].includes(t))return this.logger.warn(`clientSocketV2::NIM login status is ${i}, so can not sendCmd ${t}`),Promise.reject(new pn({code:Mt.V2NIM_ERROR_CODE_ILLEGAL_STATE,detail:Object.assign({reason:"Can not sendCmd due to no logined"},d)}));var g=t!=="heartbeat",v=g?this.packetSer++:0,S=tQ(t,v,this.logger,n);if(!S){var I=new pn({code:Mt.V2NIM_ERROR_CODE_INTERNAL,detail:Object.assign(Object.assign({},d),{reason:`SendCmd::createCmd error: ${v} ${t}`})});return this.logger.error(I),Promise.reject(I)}var{packet:T,hasPacketResponse:_,hasPacketTimer:N}=S,A=JSON.stringify(T);g&&(this.logger.getDebugMode()?this.logger.debug(`clientSocketV2::sendCmd: ${T.SID}_${T.CID},${t},ser:${v}`,A):this.logger.log(`clientSocketV2::sendCmd: ${T.SID}_${T.CID},${t},ser:${v}`));var w=new Date().getTime();return new Promise((O,R)=>{_&&this.sendingCmdMap.set(v,{cmd:t,params:n,callback:[O,R],timer:N?setTimeout(()=>{var j=new pn({code:Mt.V2NIM_ERROR_CODE_PROTOCOL_TIMEOUT,detail:Object.assign({ser:v,reason:`Packet Timeout: ser ${v} cmd ${t}`,timetag:new Date().getTime()},d)});this.markCmdInvalid(v,j,t)},r&&r.timeout?r.timeout:this.packetTimeout):null});try{this.socket.send(T.SID,T.CID,v,t,T.Q),_||O(T)}catch(j){var D=new pn({code:Mt.V2NIM_ERROR_CODE_PROTOCOL_SEND_FAILED,detail:Object.assign({ser:v,reason:"Unable to send packet"+(j&&j.message?": "+j.message:""),timetag:new Date().getTime(),rawError:j},d)});this.markCmdInvalid(v,D,t),R(D)}}).catch(O=>wn(this,void 0,void 0,function*(){var R=O;return[Mt.V2NIM_ERROR_CODE_DISCONNECT,Mt.V2NIM_ERROR_CODE_PROTOCOL_TIMEOUT,Mt.V2NIM_ERROR_CODE_PROTOCOL_SEND_FAILED].includes(R.code)&&this.reportSendCmdFailed(R,{sid:T.SID,cid:T.CID,ser:v},w),Promise.reject(R)}))}reportSendCmdFailed(t,n,r){var i;this.reporter.reportTraceStart("exceptions",{user_id:this.core.auth.getLoginUser(),trace_id:(i=this.socket)===null||i===void 0?void 0:i.sessionId,start_time:r,action:2,exception_service:6});var d=fr(t,"detail.disconnect_reason")||"",g=t.code===Mt.V2NIM_ERROR_CODE_DISCONNECT?JSON.stringify({disconnect_reason:d}):t.detail.reason;this.reporter.reportTraceUpdateV2("exceptions",{code:t.code,description:g,operation_type:1,target:`${n.sid}-${n.cid}`,context:`${n.ser}`},{asyncParams:nr.net.getNetworkStatus()}),this.reporter.reportTraceEnd("exceptions",1)}onMessage(t){var n=nQ(t,this.logger);if(n&&n.length>0){var r=n[0],i=r.raw.ser;for(var d of(r.error&&(this.logger.error("clientSocketV2::onMessage packet error",`${r.raw.sid}_${r.raw.cid}, ser:${i},`,r.error),r.error.code===Mt.V2NIM_ERROR_CODE_UNPACK_ERROR&&this.core.eventBus.emit("BinaryClientSocket/unpackError")),r.cmd!=="heartbeat"&&(this.logger.getDebugMode()?this.logger.debug(`clientSocketV2::recvCmd ${r.raw.sid}_${r.raw.cid},${r.cmd},ser:${i}`,t):this.logger.log(`clientSocketV2::recvCmd ${r.raw.sid}_${r.raw.cid},${r.cmd},ser:${i},code:${r.raw.code}`)),n))this.packetHandler(d)}}packetHandler(t){var n,r,i,d;if(t){var g=t.raw.ser,v=this.sendingCmdMap.get(g);if(v&&v.cmd===t.cmd){var{callback:S,timer:I,params:T}=v;if(clearTimeout(I),t.params=T,this.sendingCmdMap.delete(g),t.cmd==="heartbeat")return void S[0]();var _=(r=(n=this.core[t.service])===null||n===void 0?void 0:n.process)===null||r===void 0?void 0:r.call(n,t);_&&typeof _.then=="function"?_.then(A=>{S[0](A)}).catch(A=>{S[1](A)}):(this.logger.log("clientSocketV2::handlerFn without promise",t.service,t.cmd),S[0](t))}else{var N=(d=(i=this.core[t.service])===null||i===void 0?void 0:i.process)===null||d===void 0?void 0:d.call(i,t);N&&typeof N.then=="function"&&N.catch(A=>{this.logger.error("clientSocketV2::no obj cache, no process handler",A)})}}}markCmdInvalid(t,n,r){var i=this.sendingCmdMap.get(t);if(i){var{callback:d,timer:g}=i;g&&clearTimeout(g),this.sendingCmdMap.delete(t),this.logger.warn(`clientSocketV2::packet ${t}, ${r} is invalid:`,n),d[1](n)}}markAllCmdInvaild(t){this.logger.log("markAllCmdInvaild",t),this.sendingCmdMap.forEach(n=>{var{callback:r,timer:i,cmd:d}=n;this.logger.log(`clientSocketV2::markAllCmdInvaild:cmd ${d}`),i&&clearTimeout(i),r[1](t)}),this.sendingCmdMap.clear()}ping(){var t;return wn(this,void 0,void 0,function*(){clearTimeout(this.pingTimer);try{yield this.sendCmd("heartbeat")}catch(n){if(n.code===Mt.V2NIM_ERROR_CODE_DISCONNECT)return;if(yield this.testHeartBeat5Timeout())return yield this.core.reporterHookLinkKeep.update({code:0,description:"Heartbeat-discovered link failure",operation_type:1,target:(t=this.socket)===null||t===void 0?void 0:t.url}),this.core.reporterHookLinkKeep.end(!0),void this.doDisconnect(us.OFFLINE,"PingError")}this.pingTimer=setTimeout(()=>{this.ping()},3e4)})}testHeartBeat5Timeout(){return wn(this,void 0,void 0,function*(){clearTimeout(this.pingTimer);for(var t=0;t<5;t++)try{return yield this.sendCmd("heartbeat",{},{timeout:3e3}),!1}catch{this.logger.log(`clientSocketV2::test heartbeat ${t} Timeout`)}return!0})}initOnlineListener(){this.hasNetworkListener||(this.logger.log("clientSocketV2::onlineListener:init"),this.hasNetworkListener=!0,nr.net.onNetworkStatusChange(t=>{this.logger.log("clientSocketV2::onlineListener:network change",t);var n=this.auth.getLoginStatus();t.isConnected&&n===1?this.ping():t.isConnected&&n===3?(this.logger.log("clientSocketV2::onlineListener:online and connectStatus is waiting, do reLogin"),this.auth.reconnect.clearReconnectTimer(),this.auth.reconnect.doReLogin()):t.isConnected||this.doDisconnect(us.OFFLINE,"OfflineListener")}))}destroyOnlineListener(){this.logger.log("clientSocketV2::onlineListener:destroy"),nr.net.offNetworkStatusChange(),this.hasNetworkListener=!1}}var dm,s7=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],l7=["transport not supported","client not handshaken","unauthorized"],bDe=["reconnect"];class SDe extends g0{constructor(t,n,r){super(),this.websocket=null,this.socketConnectTimer=0,this.url="",this.linkSSL=!0,this.core=t,this.url=n,this.linkSSL=r,this.status="disconnected",this.logger=t.logger,this.connect()}connect(){this.status!=="connecting"&&this.status!=="connected"?(this.status="connecting",this.core.adapters.request(`${this.linkSSL?"https":"http"}://${this.url}/socket.io/1/?t=${Date.now()}`,{method:"GET",dataType:"text",timeout:this.core.options.xhrConnectTimeout||8e3},{exception_service:6}).then(t=>{if(this.status==="connecting"){var[n,r]=t.data.split(":");return this.sessionId=n,this.logger.log(`imsocket::XHR success. status ${this.status}, ${this.status==="connecting"?"continue websocket connection":"stop websocket connection"}`),this._createWebsocket(`${this.linkSSL?"wss":"ws"}://${this.url}/socket.io/1/websocket/${n}`)}}).catch(t=>{if(this.status==="connecting"){var n=`imsocket::XHR fail. raw message: "${(t=t||{}).message}", code: "${t.code}"`,r=t.code;r=fr(this.core,"options.apiVersion")==="v2"?t.code===Mt.V2NIM_ERROR_CODE_CONNECT_TIMEOUT?Mt.V2NIM_ERROR_CODE_CONNECT_TIMEOUT:Mt.V2NIM_ERROR_CODE_CONNECT_FAILED:t.code===408?408:415;var i=new pn({code:r,detail:{reason:n,rawError:t}});this.logger.error(n),this.status="disconnected",this.emit("handshakeFailed",i)}})):this.logger.warn("imsocket::socket is connecting or connected",this.status)}close(){if(this.status="disconnected",this.websocket){this.logger.log("imsocket:: close websocket");try{this.websocket.send(this.encodePacket({type:"disconnect"}))}catch(t){this.logger.warn("imsocket::attempt to send encodePacket error",t)}try{this.websocket.close()}catch(t){this.logger.warn("imsocket::attempt to close websocket error",t)}this.clean(),this.emit("disconnect",{code:0,reason:"Active close websocket"})}}clean(){this.status="disconnected",clearTimeout(this.socketConnectTimer),this.websocket&&(this.socketUrl=void 0,this.websocket.onmessage=null,this.websocket.onopen=null,this.websocket.onerror=null,this.websocket.onclose=null,this.websocket=null)}onConnect(){this.status="connected",this.emit("connect"),clearTimeout(this.socketConnectTimer)}_createWebsocket(t){this.socketConnectTimer=setTimeout(()=>{this.logger.error("imsocket::Websocket connect timeout. url: ",this.socketUrl),this.emit("handshakeFailed",new pn({code:fr(this.core,"options.apiVersion")==="v2"?Mt.V2NIM_ERROR_CODE_CONNECT_TIMEOUT:415,detail:{reason:`imsocket::Websocket connect timeout. url: ${this.socketUrl}`}}))},this.core.options.socketConnectTimeout||8e3),this.socketUrl=t,this.websocket=new nr.WebSocket(t),this.websocket.onmessage=this.onMessage.bind(this),this.websocket.onclose=n=>{n=n||{},this.logger.log(`imsocket::Websocket onclose done ${n.wasClean}/${n.code}/${n.reason}`),this.clean(),this.emit("disconnect",{code:n.code||0,reason:n.reason})},this.websocket.onerror=n=>{this.logger.error("imsocket::Websocket onerror",n),this.core.status==="logined"&&this.core.clientSocket.ping()}}onMessage(t){var n,r=this.decodePacket(t.data);if(r)switch(r.type){case"connect":this.onConnect();break;case"disconnect":this.close(),this.emit("disconnect",{code:0,reason:"MessageEvent type disconnect"});break;case"message":case"json":this.emit("message",r.data);break;case"event":r.name&&this.emit(r.name,r.args);break;case"error":r.reason==="unauthorized"?this.emit("connect_failed",r.reason):this.emit("error",r.reason),this.logger.error("imsocket::Websocket connect failed, onmessage type error. url: ",this.socketUrl),clearTimeout(this.socketConnectTimer),this.emit("handshakeFailed",new pn({code:fr(this.core,"options.apiVersion")==="v2"?Mt.V2NIM_ERROR_CODE_CONNECT_FAILED:408,detail:{reason:`imsocket::Websocket connect failed, onMessage socket error. url: ${this.socketUrl}`}}));break;case"heartbeat":(n=this.websocket)===null||n===void 0||n.send(this.encodePacket({type:"heartbeat"}));break;default:this.logger.warn("imsocket::Websocket no handler type",r.type)}}encodePacket(t){var n,r,{type:i,id:d="",endpoint:g="",ack:v}=t,S=null;if(!i)return"";switch(i){case"error":n=t.reason?l7.indexOf(t.reason):"",r=t.advice?bDe.indexOf(t.advice):"",n===""&&r===""||(S=n+(r!==""?"+"+r:""));break;case"message":t.data!==""&&(S=t.data);break;case"event":n={name:t.name},n=t.args&&t.args.length?{name:t.name,args:t.args}:{name:t.name},S=JSON.stringify(n);break;case"json":S=JSON.stringify(t.data);break;case"connect":t.qs&&(S=t.qs);break;case"ack":S=t.ackId+(t.args&&t.args.length?"+"+JSON.stringify(t.args):"")}var I=[s7.indexOf(i),d+(v==="data"?"+":""),g];return S!=null&&I.push(S),I.join(":")}decodePacket(t){if(t)if(t.charAt(0)!="�"){var n=t.match(/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/);if(n){var r,[,i,d,g,v,S]=n,I={type:s7[+i],endpoint:v};switch(d&&(I.id=d,I.ack=!g||"data"),I.type){case"error":r=S.split("+"),I.reason=l7[+r[0]]||"";break;case"message":I.data=S||"";break;case"connect":I.qs=S||"";break;case"event":try{var T=JSON.parse(S);I.name=T.name,I.args=T.args}catch(_){this.logger.error("imsocket::parseData::type::event error",_)}I.args=I.args||[];break;case"json":try{I.data=JSON.parse(S)}catch(_){this.logger.error("imsocket::parseData::type::json error",_)}break;case"ack":if((r=S.match(/^([0-9]+)(\+)?(.*)/))&&(I.ackId=r[1],I.args=[],r[3]))try{I.args=r[3]?JSON.parse(r[3]):[]}catch(_){this.logger.error("imsocket::parseData::type::ack error",_)}}return I}}else this.logger.error("imsocket::unrecognize dataStr",t.slice(0,20))}send(t){var n,r={data:t,type:"message",endpoint:""};(n=this.websocket)===null||n===void 0||n.send(this.encodePacket(r))}}(function(e){e[e.ACTIVE=1]="ACTIVE",e[e.KICKED=2]="KICKED",e[e.OFFLINE=3]="OFFLINE"})(dm||(dm={}));class IDe{constructor(t){this.isReconnect=!1,this.packetTimeout=8e3,this.linkSSL=!0,this.packetSer=1,this.backoff=new zj({max:8e3,min:1600,jitter:.01}),this.sendingCmdMap=new Map,this.pingTimer=0,this.hasNetworkListener=!1,this.core=t,this.auth=t.auth,this.logger=t.logger,this.reporter=t.reporter,this.timerManager=t.timerManager,this.eventBus=t.eventBus,this.setListener()}setListener(){this.core.eventBus.on("V2NIMLoginService/loginLifeCycleLoginSucc",()=>{this.isReconnect=!0})}setSessionId(t){this.socket&&(this.socket.sessionId=t)}setLinkSSL(t){this.linkSSL=t}connect(t,n=!1){var r,i;return wn(this,void 0,void 0,function*(){this.isReconnect=n;var d=this.core.auth.getConnectStatus();if(d===1){var g=`clientSocket::connect status is ${d}, and would not repeat connect`,v=new pn({code:Mt.V2NIM_ERROR_CODE_ILLEGAL_STATE,detail:{reason:g}});return this.logger.warn(g),Promise.reject(v)}this.auth.lifeCycle.processEvent("connect");try{yield this.auth.doLoginStepsManager.add(this.doConnect(t)),this.logger.log(`clientSocketV2:: connect success with link url: ${t}, isReconnect: ${n}`),this.core.reporter.reportTraceUpdateV2("login",{operation_type:"TCP",target:t,code:200,mixlink:!0,succeed:!0},{asyncParams:nr.net.getNetworkStatus()}),this.auth.lifeCycle.processEvent("connectSucc")}catch(I){var S=I;throw this.core.reporter.reportTraceUpdateV2("login",{operation_type:"TCP",target:t,code:S.code||0,description:`connectFailed:${S.message}`,mixlink:!0,succeed:!1},{asyncParams:nr.net.getNetworkStatus()}),S.code===Mt.V2NIM_ERROR_CODE_CANCELLED||S.code===Mt.V2NIM_ERROR_CODE_TIMEOUT?((r=this.socket)===null||r===void 0||r.close(),(i=this.socket)===null||i===void 0||i.removeAllListeners(),this.socket=void 0,I):(this.logger.warn(`clientSocketV2::connect failed with link url: ${t}`,S),this.auth.lifeCycle.processEvent("connectFail",S),I)}})}doConnect(t){var n=!1;return new Promise((r,i)=>{this.socket=new SDe(this.core,t,this.linkSSL),this.socket.on("connect",()=>{this.logger.log("clientSocketV2::socket on connect",t),this.core.reporterHookLinkKeep.start(),this.core.reporterHookLinkKeep.update({code:0,description:"connection begin",operation_type:0,target:t}),n=!0,r()}),this.socket.on("message",this.onMessage.bind(this)),this.socket.on("disconnect",d=>wn(this,void 0,void 0,function*(){n=!0,this.logger.log("clientSocketV2::socket on disconnect",d),yield this.core.reporterHookLinkKeep.update({code:(d==null?void 0:d.code)||0,description:(d==null?void 0:d.reason)||"socket on disconnect",operation_type:1,target:t}),this.core.reporterHookLinkKeep.end(!1),this.doDisconnect(dm.OFFLINE,"SocketOnDisconnect")})),this.socket.on("handshakeFailed",d=>{n?this.ping():(this.logger.error(`clientSocketV2::handshake failed: "${d&&d.message}"`),this.cleanSocket()),n=!0,i(d)})})}cleanSocket(){this.socket&&(typeof this.socket.removeAllListeners=="function"&&this.socket.removeAllListeners(),typeof this.socket.close=="function"&&this.socket.close(),this.socket=void 0)}resetSocketConfig(){this.backoff.reset(),this.initOnlineListener()}doDisconnect(t,n){if(this.logger.log(`clientSocketV2::doDisconnect:type:${t},reason:`,n),this.core.auth.getConnectStatus()!==0){var r={1:"close",2:"kicked",3:"broken"}[t]||"";this.markAllCmdInvaild(new pn({code:Mt.V2NIM_ERROR_CODE_DISCONNECT,detail:{reason:"Packet timeout due to instance disconnect",disconnect_reason:r}})),this.timerManager.destroy(),clearTimeout(this.pingTimer),this.cleanSocket(),t===dm.ACTIVE||t===dm.KICKED?this.destroyOnlineListener():t===dm.OFFLINE&&(this.auth.lifeCycle.processEvent("connectionBroken",new pn({code:Mt.V2NIM_ERROR_CODE_DISCONNECT,detail:{reason:"connection broken due to internal reasons"}})),this.logger.log(`clientSocketV2::doDisconnect: pending reconnect ${this.isReconnect}`),this.isReconnect&&this.auth.lifeCycle.processEvent("waiting"))}else this.logger.warn("clientSocketV2::doDisconnect:already disconnected")}sendCmd(t,n,r){var i=this.core.auth.getLoginStatus(),d={cmd:t};if(i!==1&&!["v2Login","login","chatroomLogin","v2ChatroomLogin"].includes(t))return this.logger.warn(`clientSocketV2::NIM login status is ${i}, so can not sendCmd ${t}`),Promise.reject(new pn({code:Mt.V2NIM_ERROR_CODE_ILLEGAL_STATE,detail:Object.assign({reason:"Can not sendCmd due to no logined"},d)}));var g=t!=="heartbeat",v=g?this.packetSer++:0,S=tQ(t,v,this.logger,n);if(!S){var I=new pn({code:Mt.V2NIM_ERROR_CODE_INTERNAL,detail:Object.assign(Object.assign({},d),{reason:`SendCmd::createCmd error: ${v} ${t}`})});return this.logger.error(I),Promise.reject(I)}var{packet:T,hasPacketResponse:_,hasPacketTimer:N}=S,A=JSON.stringify(T);g&&(this.logger.getDebugMode()?this.logger.debug(`clientSocketV2::sendCmd: ${T.SID}_${T.CID},${t},ser:${v}`,A):this.logger.log(`clientSocketV2::sendCmd: ${T.SID}_${T.CID},${t},ser:${v}`));var w=new Date().getTime();return new Promise((O,R)=>{_&&this.sendingCmdMap.set(v,{cmd:t,params:n,callback:[O,R],timer:N?setTimeout(()=>{var j=new pn({code:Mt.V2NIM_ERROR_CODE_PROTOCOL_TIMEOUT,detail:Object.assign({ser:v,reason:`Packet Timeout: ser ${v} cmd ${t}`,timetag:new Date().getTime()},d)});this.markCmdInvalid(v,j,t)},r&&r.timeout?r.timeout:this.packetTimeout):null});try{this.socket.send(A),_||O(T)}catch(j){var D=new pn({code:Mt.V2NIM_ERROR_CODE_PROTOCOL_SEND_FAILED,detail:Object.assign({ser:v,reason:"Unable to send packet"+(j&&j.message?": "+j.message:""),timetag:new Date().getTime(),rawError:j},d)});this.markCmdInvalid(v,D,t),R(D)}}).catch(O=>wn(this,void 0,void 0,function*(){var R,D=O;if(![Mt.V2NIM_ERROR_CODE_DISCONNECT,Mt.V2NIM_ERROR_CODE_PROTOCOL_TIMEOUT,Mt.V2NIM_ERROR_CODE_PROTOCOL_SEND_FAILED].includes(D.code))return Promise.reject(D);this.reporter.reportTraceStart("exceptions",{user_id:this.core.auth.getLoginUser(),trace_id:(R=this.socket)===null||R===void 0?void 0:R.sessionId,start_time:w,action:2,exception_service:6});var j=fr(D,"detail.disconnect_reason")||"",L=D.code===Mt.V2NIM_ERROR_CODE_DISCONNECT?JSON.stringify({disconnect_reason:j}):D.detail.reason;return this.reporter.reportTraceUpdateV2("exceptions",{code:D.code,description:L,operation_type:1,target:`${T.SID}-${T.CID}`,context:`${T.SER}`},{asyncParams:nr.net.getNetworkStatus()}),this.reporter.reportTraceEnd("exceptions",1),Promise.reject(D)}))}onMessage(t){var n=nQ(t,this.logger);if(n&&n.length>0){var r=n[0],i=r.raw.ser;for(var d of(r.error&&this.logger.error("clientSocketV2::onMessage packet error",`${r.raw.sid}_${r.raw.cid}, ser:${i},`,r.error),r.cmd!=="heartbeat"&&(this.logger.getDebugMode()?this.logger.debug(`clientSocketV2::recvCmd ${r.raw.sid}_${r.raw.cid},${r.cmd},ser:${i}`,r.content):this.logger.log(`clientSocketV2::recvCmd ${r.raw.sid}_${r.raw.cid},${r.cmd},ser:${i};code:${r.raw.code}`)),n))this.packetHandler(d)}}packetHandler(t){var n,r,i,d;if(t){var g=t.raw.ser,v=this.sendingCmdMap.get(g);if(v&&v.cmd===t.cmd){var{callback:S,timer:I,params:T}=v;if(clearTimeout(I),t.params=T,this.sendingCmdMap.delete(g),t.cmd==="heartbeat")return void S[0]();var _=(r=(n=this.core[t.service])===null||n===void 0?void 0:n.process)===null||r===void 0?void 0:r.call(n,t);_&&typeof _.then=="function"?_.then(A=>{S[0](A)}).catch(A=>{S[1](A)}):(this.logger.log("clientSocketV2::handlerFn without promise",t.service,t.cmd),S[0](t))}else{var N=(d=(i=this.core[t.service])===null||i===void 0?void 0:i.process)===null||d===void 0?void 0:d.call(i,t);N&&typeof N.then=="function"&&N.catch(A=>{this.logger.error("clientSocketV2::no obj cache, no process handler",A)})}}}markCmdInvalid(t,n,r){var i=this.sendingCmdMap.get(t);if(i){var{callback:d,timer:g}=i;g&&clearTimeout(g),this.sendingCmdMap.delete(t),this.logger.warn(`clientSocketV2::packet ${t}, ${r} is invalid:`,n),d[1](n)}}markAllCmdInvaild(t){this.logger.log("markAllCmdInvaild",t),this.sendingCmdMap.forEach(n=>{var{callback:r,timer:i,cmd:d}=n;this.logger.log(`clientSocketV2::markAllCmdInvaild:cmd ${d}`),i&&clearTimeout(i),r[1](t)}),this.sendingCmdMap.clear()}ping(){var t;return wn(this,void 0,void 0,function*(){clearTimeout(this.pingTimer);try{yield this.sendCmd("heartbeat")}catch(n){if(n.code===Mt.V2NIM_ERROR_CODE_DISCONNECT)return;if(yield this.testHeartBeat5Timeout())return yield this.core.reporterHookLinkKeep.update({code:0,description:"Heartbeat-discovered link failure",operation_type:1,target:(t=this.socket)===null||t===void 0?void 0:t.url}),this.core.reporterHookLinkKeep.end(!0),void this.doDisconnect(dm.OFFLINE,"PingError")}this.pingTimer=setTimeout(()=>{this.ping()},3e4)})}testHeartBeat5Timeout(){return wn(this,void 0,void 0,function*(){clearTimeout(this.pingTimer);for(var t=0;t<5;t++)try{return yield this.sendCmd("heartbeat",{},{timeout:3e3}),!1}catch{this.logger.log(`clientSocketV2::test heartbeat ${t} Timeout`)}return!0})}initOnlineListener(){this.hasNetworkListener||(this.logger.log("clientSocketV2::onlineListener:init"),this.hasNetworkListener=!0,nr.net.onNetworkStatusChange(t=>{this.logger.log("clientSocketV2::onlineListener:network change",t);var n=this.auth.getConnectStatus(),r=this.auth.getLoginStatus();t.isConnected&&r===1?this.ping():t.isConnected&&n===3?(this.logger.log("clientSocketV2::onlineListener:online and connectStatus is waiting, do reLogin"),this.auth.reconnect.clearReconnectTimer(),this.auth.reconnect.doReLogin()):t.isConnected||this.doDisconnect(dm.OFFLINE,"OfflineListener")}))}destroyOnlineListener(){this.logger.log("clientSocketV2::onlineListener:destroy"),nr.net.offNetworkStatusChange(),this.hasNetworkListener=!1}}class EDe{constructor(t){this.currenRetryCount=0,this.backoff=new zj({max:8e3,min:1600,jitter:.01}),this.reconnectTimer=0,this.appVisibility=!0,this.core=t,this.auth=t.V2NIMLoginService}reset(){this.currenRetryCount=0,this.backoff.reset(),this.reconnectTimer&&clearTimeout(this.reconnectTimer)}clearReconnectTimer(){this.reconnectTimer&&clearTimeout(this.reconnectTimer)}setAppVisibility(t){var n=this.getAppVisibility();this.appVisibility=t,!n&&t&&this.auth.getLoginStatus()===3&&(this.core.logger.log("reconnect::appVisibility change to visible, try to reconnect"),this.auth.reconnect.clearReconnectTimer(),this.auth.reconnect.doReLogin())}getAppVisibility(){return this.appVisibility}attempToReLogin(){var t=this.backoff.duration();if(typeof this.reconnectDelayProvider=="function")try{var n=this.reconnectDelayProvider(t);typeof n=="number"&&n>=0&&(t=n>=1e3?n:n+200+Math.ceil(300*Math.random()))}catch(r){this.core.logger.error("reconnect::connectDelayProvider excute failed,",r)}return this.currenRetryCount++,this.core.logger.log(`reconnect::reconnect timer is about to be set, delay ${t} ms, current retry count is ${this.currenRetryCount}`),this.core.reporter.reportTraceStart("login",{user_id:this.auth.getLoginUser(),action:"auto_login",binary_websocket:this.auth.binaryWebsocket}),this.clearReconnectTimer(),this.reconnectTimer=setTimeout(()=>{this.core.logger.log("reconnect::reconnect timer is now triggered");var r=this.auth.getConnectStatus();r===3?this.doReLogin():this.core.logger.warn(`reconnect::reconnect timer is over because connect status now is ${r}`)},t),!0}doReLogin(){if(!this.getAppVisibility())return this.core.logger.log("reconnect::reLogin skip, cause app is not visible"),void this.auth.lifeCycle.processEvent("waiting");this.auth.loginOption.forceMode=!1,this.auth.originLoginPromise=this.auth.doLogin(!0);var t=this.auth.previousLoginManager.add(this.auth.originLoginPromise);return t.then(()=>{this.core.reporter.reportTraceEnd("login",!0)}).catch(n=>{var r=n;if(this.core.logger.warn("reconnect::try login but failed due to",r),this.core.reporter.reportTraceEnd("login",!1),this.auth.checkLoginTerminalCode(r&&r.code))return this.auth.clientSocket.doDisconnect(us.ACTIVE,"ReloginTerminated"),void this.auth.lifeCycle.processEvent("exited",r);r&&r.code===399&&this.auth.lbs.reset(),this.auth.lifeCycle.processEvent("waiting")}),t}_setReconnectDelayProvider(t){this.reconnectDelayProvider=t}}function CDe(e){e=e||[];for(var t=[],n=0;n<e.length;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t}class TDe{constructor(t){this.socketLinkUrls=[],this.timer=0,this.failedCount=0,this.core=t,this.auth=t.V2NIMLoginService}getLbsInfos(){return wn(this,void 0,void 0,function*(){if(this.socketLinkUrls.length>0){var t=this.socketLinkUrls.shift();return this.core.logger.log("V2NIMLoginService::getLbsInfos:use cache link",t),Promise.resolve(t)}this.auth.lifeCycle.processEvent("addressing"),this.core.reporterHookLBS.start(this.core.account);var n=CDe(this.auth.config.lbsUrls);try{var r=yield this.ladderLoad(n);if(r.status!==200||!r.data)throw this.core.logger.error("V1NIMLoginService::getLbsInfos:error status",r.status,r),new pn({code:Mt.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:`V2NIMLoginService::getLbsInfos failed, status ${r.status}`}});this.success(r)}catch(d){var i=d;if(this.core.logger.error(`V2NIMLoginService::lbs getLbsInfos error, use default link: ${this.auth.config.linkUrl}. error:`,d),this.reportForFail(n[0],i.code,i.message),this.checkTerminator(i.code))throw d;this.socketLinkUrls=[this.auth.config.linkUrl]}return this.socketLinkUrls.shift()})}checkTerminator(t){return t===Mt.V2NIM_ERROR_CODE_CANCELLED||t===Mt.V2NIM_ERROR_CODE_TIMEOUT}generateUrl(t){var n=(t=this.processLbsUrl(t)).indexOf("?")>-1?"&":"?";return t+n+"k="+this.core.options.appkey+"&id="+this.core.auth.getLoginUser()+"&sv=180&pv=1&networkType=0&lv=1"}processLbsUrl(t){return Bj()?t.replace("/webconf","/wxwebconf"):t}requstLbs(t){return this.auth.doLoginStepsManager.add(this.core.adapters.request(this.generateUrl(t),{method:"GET",dataType:"json",timeout:8e3}))}setLadderTimer(t,n,r,i){this.timer&&clearTimeout(this.timer);var d=t[n];this.timer=setTimeout(()=>{d&&(this.setLadderTimer(t,n+1,r,i),this.core.logger.log(`V2NIMLoginService::getLbsInfos ${n}:`,this.processLbsUrl(d)),this.reportForLbsStart(d,n),this.requstLbs(d).then(g=>{this.reset(),r(Object.assign(Object.assign({},g),{url:d}))}).catch(g=>{var v;if(this.core.logger.warn(`V2NIMLoginService::getLbsInfos ${n} failed:`,g),this.failedCount+=1,this.reportForFailOnce(d,g.code,((v=g.detail)===null||v===void 0?void 0:v.reason)||g.message),this.failedCount>=t.length||this.checkTerminator(g.code))return this.reset(),void i(g)}))},2e3)}ladderLoad(t){return new Promise((n,r)=>{t.length>1&&this.setLadderTimer(t,1,n,r);var i=t[0];this.core.logger.log("V2NIMLoginService::getLbsInfos 0:",i),this.reportForLbsStart(i,0),this.requstLbs(i).then(d=>{this.reset(),n(Object.assign(Object.assign({},d),{url:i}))}).catch(d=>{var g;this.failedCount+=1,this.core.logger.warn("V2NIMLoginService::getLbsInfos 0 failed:",d),this.reportForFailOnce(i,d.code,((g=d.detail)===null||g===void 0?void 0:g.reason)||d.message),(this.failedCount>=t.length||this.checkTerminator(d.code))&&(this.reset(),r(d))})})}success(t){var n,r,i=t.data.common,d=i["mix.link"]||[],g=i["link.default"]||[];this.socketLinkUrls=d.concat(g).concat(this.auth.config.linkUrl),t.data["nos-chunk"]&&(!((n=this.core.cloudStorage)===null||n===void 0)&&n.setOptions)&&(this.core.logger.log("getLbsInfos success. lbs.nos-chunk",t.data["nos-chunk"]),this.core.cloudStorage.setOptions({chunkUploadHost:t.data["nos-chunk"]})),Array.isArray(t.data.nosup)&&t.data.nosup.length>0&&(!((r=this.core.cloudStorage)===null||r===void 0)&&r.setOptions)&&(this.core.logger.log("getLbsInfos success. lbs.nosup",t.data.nosup),this.core.cloudStorage.setOptions({commonUploadHostBackupList:t.data.nosup,commonUploadHost:t.data.nosup[0]})),this.core.logger.log("V2NIMLoginService::getLbsInfos success, socket link:",this.socketLinkUrls.slice(0),"chunkUploadHost: ",t.data["nos-chunk"]),this.reportForLbsSuccess(t.url,t.data)}reportForLbsStart(t,n){this.core.reporterHookLBS.updateBegin({target:t,index:n})}reportForLbsSuccess(t,n){this.core.reporterHookLBS.updateComplete({target:t,code:200,body:JSON.stringify(n)}),this.core.reporterHookLBS.end(!0),this.core.reporter.reportTraceUpdateV2("login",{operation_type:"HTTP",target:t,code:200,succeed:!0},{asyncParams:nr.net.getNetworkStatus()})}reportForFailOnce(t,n,r){this.core.reporterHookLBS.updateComplete({target:t,code:n,body:r})}reportForFail(t,n,r){this.core.reporterHookLBS.end(!1),this.core.reporter.reportTraceUpdateV2("login",{operation_type:"HTTP",target:t,description:r,code:n,succeed:!1},{asyncParams:nr.net.getNetworkStatus()})}reset(){this.socketLinkUrls=[],this.failedCount=0,clearTimeout(this.timer)}}class MDe{constructor(t){this.lastLoginClientKey="__NIM_LAST_LOGIN_CLIENT__",this.loginClients=[],this.loginClientOfThisConnection={},this.core=t,this.auth=t.V2NIMLoginService}verifyAuthentication(t){return wn(this,void 0,void 0,function*(){var n=yield this.auth.doLoginStepsManager.add(this.refreshLoginToken(this.auth.account)),r=yield this.auth.doLoginStepsManager.add(this.refreshThirdPartyExt(this.auth.account));this.auth.token=n;var i,d=nr.getSystemInfo(),g={appkey:this.core.options.appkey,account:this.auth.account,token:n,authType:this.auth.loginOption.authType,appLogin:t?0:1,clientType:16,clientSession:this.auth.clientSession,clientId:this.auth.deviceId,sdkVersion:100920,userAgent:this.core.options.loginSDKTypeParamCompat?"Native/10.9.20":d.userAgent.replace("{{appkey}}",this.core.options.appkey).slice(0,299),libEnv:this.core.options.flutterSdkVersion?"FLUTTER":this.core.options.loginSDKTypeParamCompat?void 0:d.libEnv,hostEnv:this.core.options.flutterSdkVersion?4:this.core.options.loginSDKTypeParamCompat?0:d.hostEnvEnum,sdkHumanVersion:this.core.options.flutterSdkVersion||"10.9.20",os:d.os,browser:d.browser,protocolVersion:1,customClientType:this.auth.config.customClientType,customTag:this.auth.config.customTag,thirdPartyExtension:r},v=d.os.toLowerCase();nr.platform!=="UNIAPP"||v!=="ios"&&v!=="android"&&v!=="harmonyos"?nr.platform==="React Native"&&(this.core.logger.log("V2NIMLoginService deviceInfo",this.core.V2NIMLoginService.deviceInfo,"os",v),g.isReactNative=1,g.clientType=v==="ios"?2:1,g.deviceInfo=JSON.stringify(Object.assign({IS_SUPPORT_HONOR:!0},this.core.V2NIMLoginService.deviceInfo))):(g.isReactNative=1,g.clientType=v==="ios"?2:v==="android"?1:65,d.pushDeviceInfo&&d.pushDeviceInfo.MANUFACTURER&&(g.deviceInfo=JSON.stringify(Object.assign({IS_SUPPORT_HONOR:!0},d.pushDeviceInfo)))),this.core.logger.log(`V2NIMLoginService::do login,accid:${g.account};clientSession:${g.clientSession};appLogin:${g.appLogin}`);try{i=yield this.auth.doLoginStepsManager.add(this.auth.clientSocket.sendCmd("v2Login",{tag:g}))}catch(_){var S=_;throw this.core.reporter.reportTraceUpdateV2("login",{operation_type:"protocol",target:"26-3",code:S.code||0,succeed:!1,description:S.message},{asyncParams:nr.net.getNetworkStatus()}),S.code===Mt.V2NIM_ERROR_CODE_CANCELLED||S.code===Mt.V2NIM_ERROR_CODE_TIMEOUT||this.processLoginFailed(S),S}var{data:I,loginClients:T}=i.content;return this.changeLoginClient(1,T),this.core.reporter.reportTraceUpdateV2("login",{operation_type:"protocol",target:"26-3",code:200,succeed:!0},{asyncParams:nr.net.getNetworkStatus()}),this.loginClientOfThisConnection=a7(I),this.core.clientSocket.setSessionId(I.consid),nr.localStorage.setItem(this.lastLoginClientKey,JSON.stringify(Object.assign({account:this.auth.account},this.loginClientOfThisConnection))),this.loginClientOfThisConnection})}refreshLoginToken(t){return wn(this,void 0,void 0,function*(){if(this.auth.loginOption.authType===0)return this.auth.token;if(typeof this.auth.loginOption.tokenProvider!="function")return this.auth.token;try{var n=yield this.auth.loginOption.tokenProvider(t);if(typeof n=="string")return n;throw this.core.logger.error("V2NIMLoginService::excute tokenProvider complete but got Unexpected value:",n),new pn({code:Mt.V2NIM_ERROR_CODE_CALLBACK_FAILED,detail:{reason:"Excute tokenProvider complete but got Unexpected value",rawData:n}})}catch(d){var r=d,i=r;throw r.code!==Mt.V2NIM_ERROR_CODE_CALLBACK_FAILED&&(this.core.logger.error("V2NIMLoginService::excute tokenProvider error:",r),i=new pn({code:Mt.V2NIM_ERROR_CODE_CALLBACK_FAILED,desc:"Excute tokenProvider error",detail:{rawError:d}})),this.processLoginFailed(r),i}})}refreshThirdPartyExt(t){return wn(this,void 0,void 0,function*(){if(typeof this.auth.loginOption.loginExtensionProvider!="function")return"";try{var n=yield this.auth.loginOption.loginExtensionProvider(t);if(typeof n=="string")return n;throw this.core.logger.error("V2NIMLoginService::excute loginExtensionProvider complete but got Unexpected value:",n),new pn({code:Mt.V2NIM_ERROR_CODE_CALLBACK_FAILED,detail:{reason:"Excute loginExtensionProvider complete but got Unexpected value",rawData:n}})}catch(d){var r=d,i=r;if(r.code!==Mt.V2NIM_ERROR_CODE_CALLBACK_FAILED&&(this.core.logger.error("V2NIMLoginService::excute loginExtensionProvider error:",r),i=new pn({code:Mt.V2NIM_ERROR_CODE_CALLBACK_FAILED,detail:{reason:"Excute loginExtensionProvider error",rawError:d}})),this.auth.loginOption.authType===2)throw this.processLoginFailed(r),i;return""}})}processLoginFailed(t){this.auth.clientSocket.doDisconnect(us.ACTIVE,t),this.checkLoginTerminalCode(t.code)&&(this.auth.authenticator.reset(),this.auth.authenticator.clearLastLoginClient()),this.auth.lifeCycle.processEvent("loginFail",t)}changeLoginClient(t,n){var r=n.map(g=>a7(g));if(t===1)this.loginClients=r,this.auth.emit("onLoginClientChanged",t,this.loginClients);else if(t===2){var i=r.filter(g=>{var v=this.loginClients.filter(S=>S.clientId===g.clientId);return this.loginClients.push(g),v.length===0});i.length>0&&this.auth.emit("onLoginClientChanged",t,i)}else if(t===3){var d=r.filter(g=>(function(S,I){I=I||(()=>!0);for(var T=[],_=(S=S||[]).length,N=0,A=0;A<_;A++)I(S[A-N])&&(T.push(S.splice(A-N,1)[0]),N+=1);return T}(this.loginClients,v=>v.clientId===g.clientId&&v.consid===g.consid),this.loginClients.filter(v=>v.clientId===g.clientId).length===0));d.length>0&&this.auth.emit("onLoginClientChanged",t,d)}}checkAutoLogin(t){if(t)return!1;var n=nr.localStorage.getItem(this.lastLoginClientKey);if(!n)return!1;var r="",i="";try{var d=JSON.parse(n);r=fr(d,"clientId"),i=fr(d,"account")}catch{return!1}return r===this.auth.deviceId&&i===this.auth.account}checkLoginTerminalCode(t){return[Mt.V2NIM_ERROR_CODE_CANCELLED,Mt.V2NIM_ERROR_CODE_TIMEOUT,Mt.V2NIM_ERROR_CODE_HANDSHAKE,302,317,Mt.V2NIM_ERROR_CODE_FORBIDDEN,Mt.V2NIM_ERROR_CODE_NOT_FOUND,Mt.V2NIM_ERROR_CODE_PARAMETER_ERROR,Mt.V2NIM_ERROR_CODE_MULTI_LOGIN_FORBIDDEN,422,Mt.V2NIM_ERROR_CODE_IM_DISABLED,Mt.V2NIM_ERROR_CODE_APPKEY_NOT_EXIST,Mt.V2NIM_ERROR_CODE_BUNDLEID_CHECK_FAILED,Mt.V2NIM_ERROR_CODE_APPKEY_BLOCKED,Mt.V2NIM_ERROR_CODE_INVALID_TOKEN,Mt.V2NIM_ERROR_CODE_ROBOT_NOT_ALLOWED,Mt.V2NIM_ERROR_CODE_ACCOUNT_NOT_EXIST,Mt.V2NIM_ERROR_CODE_ACCOUNT_BANNED,Mt.V2NIM_ERROR_CODE_USER_PROFILE_NOT_EXIST].includes(t)}reset(){this.loginClients=[],this.loginClientOfThisConnection={}}clearLastLoginClient(){nr.localStorage.removeItem(this.lastLoginClientKey)}}class bg extends g0{constructor(t,n){super(),this.name=t,this.logger=n.logger,this.core=n}checkV2(){var t=this.core.options.apiVersion;if(t==="v2")return!0;throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:`The version "${t}" of client is not supported.`}})}checkLogin(){if(this.core.V2NIMLoginService.getLoginStatus()===0)throw new pn({code:Mt.V2NIM_ERROR_CODE_ILLEGAL_STATE,detail:{reason:"Client logout."}})}emit(t,...n){this.logger.debug(`${this.name}::emit event: '${t.toString()}',`,n[0]!==void 0?n[0]:"",n[1]!==void 0?n[1]:"",n[2]!==void 0?n[2]:"");try{return super.emit(t,...n)}catch(r){return setTimeout(()=>{throw this.logger.error(`${this.name}::emit throw error in setTimeout. event: ${t.toString()}. Error`,r),r},0),!1}}process(t){var n=this[t.cmd+"Handler"],r=this.handler&&this.handler[t.cmd+"Handler"];if(typeof n=="function"||typeof r=="function"){if(t.error)return this.logger.error(`${t.cmd}::recvError`,t.error),Promise.reject(t.error);try{var i=n?n.call(this,t):r.call(this.handler,t);return Promise.resolve(i)}catch(g){return Promise.reject(g)}}var d=fr(t,"error.detail.ignore");return t.error&&!d?Promise.reject(t.error):Promise.resolve(t)}}class _De{constructor(t){this.name="V2NIMLoginLifeCycle",this.loginStatus=0,this.connectStatus=0,this.core=t,this.auth=t.V2NIMLoginService,this.logger=t.logger}processEvent(t,n,r){var i=this.getConnectStatus();switch(t){case"addressing":this.logger.log(`${this.name}::addressing`),this.setLoginStatus(2),this.setConnectStatus(2);break;case"connect":this.logger.log(`${this.name}::connecting`),this.setLoginStatus(2),this.setConnectStatus(2);break;case"connectSucc":this.logger.log(`${this.name}::connect success`),this.setLoginStatus(2),this.setConnectStatus(1);break;case"connectFail":this.logger.log(`${this.name}::connect fail`,n),this.setLoginStatus(3),this.setConnectStatus(0,n);break;case"connectionBroken":this.logger.log(`${this.name}::connectionBroken:`,n),this.setLoginStatus(3),this.setConnectStatus(0,n),this.core.eventBus.emit("V2NIMLoginService/loginLifeCycleDisconnected",n);break;case"loginSucc":this.logger.log(`${this.name}::login success, verify authentication success`),this.setLoginStatus(1),this.core.eventBus.emit("V2NIMLoginService/loginLifeCycleLoginSucc",r);break;case"loginFail":if(this.logger.log(`${this.name}::login fail due to verify authentication failed:`,n),!n)return;this.setLoginStatus(this.auth.authenticator.checkLoginTerminalCode(n.code)?0:3),this.setConnectStatus(0,n),this.auth.emit("onLoginFailed",n);break;case"logout":this.logger.log(`${this.name}::logout`),this.setLoginStatus(0),this.setConnectStatus(0),this.core.eventBus.emit("V2NIMLoginService/loginLifeCycleLogout");break;case"kicked":this.logger.log(`${this.name}::kicked`,r),this.setLoginStatus(0),this.setConnectStatus(0,n),this.core.eventBus.emit("V2NIMLoginService/loginLifeCycleKicked");break;case"exited":this.logger.log(`${this.name}::exited`,n),this.setLoginStatus(0),this.setConnectStatus(0,n);break;case"waiting":this.logger.log(`${this.name}::waiting to reconnect`),this.setLoginStatus(3),this.setConnectStatus(3),i!==2&&this.auth.reconnect.attempToReLogin()}}getConnectStatus(){return this.connectStatus}getLoginStatus(){return this.loginStatus}setLoginStatus(t){t!==this.loginStatus&&(this.loginStatus=t,this.auth.emit("onLoginStatus",t))}setConnectStatus(t,n){if(t!==this.connectStatus){var r=this.connectStatus;this.connectStatus=t,this.auth.emit("onConnectStatus",t),this.delegateConnectEvent(r,t,n)}}delegateConnectEvent(t,n,r){t===1&&n===0&&r&&this.auth.emit("onDisconnected",r),t===2&&n===0&&r&&this.auth.emit("onConnectFailed",r)}}class xDe{constructor(t){this.core=t,this.auth=t.V2NIMLoginService,this.datas=[]}switchDataSync(t){return wn(this,void 0,void 0,function*(){var{type:n,state:r,error:i,subType:d}=t,g=this.datas.filter(S=>S.type===n&&S.subType===d);g.length>0?(g[0].state=r,g[0].error=i):this.datas.push({type:n,state:r,subType:d});var v=this.datas.every(S=>S.state===3);n===1&&(r===2&&d==="mainSync"?(this.core.eventBus.emit("V2NIMLoginService/syncing"),this.auth.emit("onDataSync",n,r)):r===3&&v&&(this.core.eventBus.emit("V2NIMLoginService/syncDone",i),this.auth.emit("onDataSync",n,r,i)))})}checkSyncing(){return this.datas.some(t=>t.subType==="mainSync"&&t.state===2)}reset(){this.datas=[]}}var wDe={"6_3":"notifylog","6_4":"uploadLog","6_23":"getServerTime","6_31":"notifyDetect","6_32":"uploadDetect","6_37":"wsDetect"},c7={type:1,params:2,result:3,t1:100,t2:101,t3:102,t4:103,t5:104,t6:105},u7={k1:1,k2:2,k3:3,k4:4,k5:5,k6:6,k7:7,k8:8,k9:9,k10:10},NDe={notifylog:{sid:6,cid:3,service:"misc"},uploadLog:{sid:6,cid:4,service:"misc",hasPacketResponse:!1,params:[{type:"String",name:"url"},{type:"Property",name:"data",reflectMapper:{type:1,content:2}}]},getServerTime:{sid:6,cid:23,service:"misc",response:[{type:"Long",name:"time"}]},notifyDetect:{sid:6,cid:31,service:"misc",response:[{type:"Property",name:"data",reflectMapper:ht(c7)}]},uploadDetect:{sid:6,cid:32,service:"misc",hasPacketResponse:!1,params:[{type:"Property",name:"data",reflectMapper:c7}]},wsDetect:{sid:6,cid:37,service:"misc",params:[{type:"Property",name:"tag",reflectMapper:u7}],response:[{type:"Property",name:"data",reflectMapper:ht(u7)}]}},RDe={type:{type:"number"},t1:{type:"number"},t2:{type:"number"},t3:{type:"number"},t4:{type:"number"},t5:{type:"number"},t6:{type:"number"}};class ADe extends class{constructor(n,r){this.name=n,this.core=r,this.name=n,this.logger=r.logger,this.core=r}process(n){var r=this[n.cmd+"Handler"];if(typeof r=="function")return r.call(this,n);var i=fr(n,"error.detail.ignore");return n.error&&!i?Promise.reject(n.error):Promise.resolve(n)}}{constructor(t){super("misc",t),this.logLock=!1,this.core=t,dg({cmdMap:wDe,cmdConfig:NDe}),this.setListener()}setListener(){this.core.eventBus.on("BinaryClientSocket/unpackError",this.wsDetect.bind(this)),this.core.eventBus.on("V2NIMLoginService/loginLifeCycleLoginSucc",()=>{this.core.timeOrigin.setOriginTimetick()}),this.core.eventBus.on("logined",()=>{this.core.timeOrigin.setOriginTimetick()})}getServerTime(){return wn(this,void 0,void 0,function*(){var t=yield this.core.clientSocket.sendCmd("getServerTime");return parseInt(t.content.time)})}wsDetect(t){return wn(this,void 0,void 0,function*(){var n=Object.assign({k1:"val1",k2:"val2"},t),r=null;try{r=(yield this.core.clientSocket.sendCmd("wsDetect",{tag:n})).content.data}catch(d){var i=d;return void(i.code===Mt.V2NIM_ERROR_CODE_UNPACK_ERROR?(this.logger.warn("misc::wsDetect:998"),this.wsDetectUnreliable(),this.reportBinarySocketDetectResult("packet 998")):this.logger.warn(`misc::wsDetect:failed ${i.code}`))}r&&JSON.stringify(r)!==JSON.stringify(n)?(this.logger.warn("misc::wsDetect:content unreliable"),this.wsDetectUnreliable(),this.reportBinarySocketDetectResult("content unreliable")):this.logger.log("misc::wsDetect:success")})}wsDetectUnreliable(){this.core.clientSocket.doDisconnect(3,"WSDetectUnreliable")}reportBinarySocketDetectResult(t){var n;this.core.reporter.reportTraceStart("exceptions",{user_id:this.core.account,trace_id:(n=this.core.clientSocket.socket)===null||n===void 0?void 0:n.sessionId,start_time:Date.now(),action:2,exception_service:9}),this.core.reporter.reportTraceUpdateV2("exceptions",{code:998,description:`wsDetect::reconnect cause: ${t}`,operation_type:"5",target:"6-37"}),this.core.reporter.reportTraceEnd("exceptions",1)}notifyDetectHandler(t){return wn(this,void 0,void 0,function*(){var n=function(i){return qj(RDe,i)}(t.content.data);n.t3=t.__receiveTimeNode.time,n.t4=Date.now();try{yield this.core.clientSocket.sendCmd("uploadDetect",{data:n})}catch(r){this.core.logger.warn("misc::notifyDetectHandler:upload failed",r)}})}notifylogHandler(){return wn(this,void 0,void 0,function*(){var t=void 0;if(this.logLock)this.core.logger.warn("misc::notifylogHandler:locked");else{this.logLock=!0;try{t=yield this.core.logger.extractLogs()}catch{return void(this.logLock=!1)}if(t){var n="";try{n=(yield this.core.cloudStorage.uploadFile(typeof t=="string"?{type:"file",filePath:t}:{type:"file",file:t})).url}catch{return void(this.logLock=!1)}if(n){n+=(n.indexOf("?")>0?"&":"?")+"download="+new Date().getTime()+"_web.log";try{yield this.core.clientSocket.sendCmd("uploadLog",{url:n})}catch{return void(this.logLock=!1)}try{yield this.logger.afterUpload()}catch{}this.logLock=!1}else this.logLock=!1}else this.logLock=!1}})}}function d7(e,t){e=e||{};var n={};return(t=t||[]).forEach(r=>{e[r]!==void 0&&(n[r]=e[r])}),n}var ODe=["https://lbs.netease.im/lbs/webconf.jsp"],Rk={retryCount:3,timeout:6e4,forceMode:!1,authType:0,syncLevel:0},kDe={"27_1":"v2NIMSync","27_10":"v2QChatSync"},LDe={v2NIMSync:{sid:27,cid:1,service:"V2NIMSyncService",hasPacketTimer:!1,params:[{type:"Property",name:"tag",reflectMapper:{myInfo:1,offlineMsgs:2,teams:3,roamingMsgs:7,relations:9,friends:11,friendUsers:13,msgReceipts:14,myTeamMembers:15,donnop:16,recallMsg:17,sessionAck:18,broadcastMsgs:20,avSignal:21,superTeams:22,mySuperTeamMembers:23,superTeamRoamingMsgs:24,deleteSuperTeamMsg:25,superTeamSessionAck:26,deleteSelfMsgs:27,stickTopSessions:28,sessionHistoryMsgsDelete:29,p2pTeamModifyMessage:30,superTeamModifyMessage:31,filterMsgs:100}}],response:[{type:"Long",name:"timetag"}]},v2QChatSync:{sid:27,cid:10,service:"V2NIMSyncService",hasPacketTimer:!1,params:[{type:"Property",name:"tag",reflectMapper:{systemNotification:1,pushConfig:2}}],response:[{type:"Long",name:"timetag"}]}},sQ={debug(...e){},log(...e){},warn(...e){},error(...e){}};function PDe(e){sQ=e}function DDe(){return sQ}function lQ(){return!navigator||!navigator.userAgent?!1:[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(e=>navigator.userAgent.match(e))}function Hj(){return!(!navigator||!navigator.userAgent)&&typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0}function cQ(){return navigator&&navigator.userAgent}function jDe(){return Hj()?"Electron":lQ()?"H5":cQ()?"BROWSER":"Unset"}function VDe(){return Hj()?5:lQ()?101:cQ()?100:0}var $De=$0(function(e,t){e.exports=function(){function n(d){if(d){var g="";return Object.keys(d).forEach(function(v,S){g+=S===0?"?":"&",g+=`${v}=${d[v]}`}),g}return""}class r extends Error{constructor(g,v,S,I){super(S),this.source=g,this.code=v,this.desc=S,this.detail=I||{}}}function i(d,g={dataType:"json",method:"GET",timeout:5e3}){var v=g.dataType==="text"?"text/plain; charset=UTF-8":"application/json; charset=UTF-8",S=g.method==="GET"?n(g.params):"";return new Promise(function(I,T){if(window.XMLHttpRequest){var _,N=new XMLHttpRequest;if(N.onreadystatechange=function(){if(N.readyState===4)if(N.status===200){try{_=JSON.parse(N.response||"{}")}catch{_=N.response}I({status:N.status,data:_})}else setTimeout(()=>{T(new r(1,N.status,`readyState: ${N.readyState}; statusText: ${N.statusText}`))},0)},N.open(g.method,`${d}${S}`),N.timeout=g.timeout||5e3,N.setRequestHeader("Content-Type",v),g.headers)for(var A in g.headers)N.setRequestHeader(A,g.headers[A]);N.ontimeout=function(w){T(new r(1,408,w&&w.message?w.message:"request timeout"))},N.send(JSON.stringify(g.data))}else T(new r(2,10400,"request no suppout"))})}return i}()}),jI=$0(function(e,t){e.exports=function(){var n={d:function(H,V){for(var K in V)n.o(V,K)&&!n.o(H,K)&&Object.defineProperty(H,K,{enumerable:!0,get:V[K]})},o:function(H,V){return Object.prototype.hasOwnProperty.call(H,V)}},r={};n.d(r,{default:function(){return z}});var i=function H(V){for(var K in function(J,te){if(!(J instanceof te))throw new TypeError("Cannot call a class as a function")}(this,H),this.directUploadAddr="https://wanproxy-web.127.net",this.retryCount=4,this.trunkSize=4194304,this.trunkUploadTimeout=5e4,this.getOffsetTimeout=1e4,this.version="1.0",this.enableCache=!0,this.logger=console,this.onError=function(J){},this.onProgress=function(J){},this.onUploadProgress=function(J){},this.onComplete=function(J){},V)this[K]=V[K]};function d(H,V){var K=typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(!K){if(Array.isArray(H)||(K=function(ee,ae){if(ee){if(typeof ee=="string")return g(ee,ae);var de=Object.prototype.toString.call(ee).slice(8,-1);return de==="Object"&&ee.constructor&&(de=ee.constructor.name),de==="Map"||de==="Set"?Array.from(ee):de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de)?g(ee,ae):void 0}}(H))||V){K&&(H=K);var J=0,te=function(){};return{s:te,n:function(){return J>=H.length?{done:!0}:{done:!1,value:H[J++]}},e:function(ee){throw ee},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z,X=!0,re=!1;return{s:function(){K=K.call(H)},n:function(){var ee=K.next();return X=ee.done,ee},e:function(ee){re=!0,Z=ee},f:function(){try{X||K.return==null||K.return()}finally{if(re)throw Z}}}}function g(H,V){(V==null||V>H.length)&&(V=H.length);for(var K=0,J=new Array(V);K<V;K++)J[K]=H[K];return J}var v={privateObj:{},setItem:function(H,V){v.privateObj[H]=V},getItem:function(H){return v.privateObj[H]},removeItem:function(H){delete v.privateObj[H]},getKeys:function(){return Object.keys(v.privateObj)}},S={getFileKey:function(H){var V=H.size.toString(),K=H.lastModified.toString();return"_NosUploader_"+H.name+V.slice(V.length-5)+K.slice(K.length-5)},getFileInfo:function(H){var V=v.getItem(H);if(!V)return null;try{return JSON.parse(V)}catch{return null}},initFile:function(H,V,K){S.clearExpiredInfo();var J=this.getFileKey(V),te={ctx:H.ctx!==void 0?H.ctx:"",bucket:H.bucketName,obj:H.objectName,token:H.token,modifyAt:Date.now(),end:!1};return H.payload&&(te.payload=H.payload),K&&v.setItem(J,JSON.stringify(te)),J},setUploadContext:function(H,V,K){var J=this.getFileInfo(H);J&&(J.ctx=V,K&&v.setItem(H,JSON.stringify(J)))},setComplete:function(H,V){var K=this.getFileInfo(H);K&&(K.modifyAt=Date.now(),K.end=!0,V&&v.setItem(H,JSON.stringify(K)))},getUploadContext:function(H){var V=this.getFileInfo(H);return V?V.ctx:""},removeFileInfo:function(H){H.indexOf("_NosUploader_")===0&&v.removeItem(H)},clearExpiredInfo:function(){var H,V=typeof v.getKeys=="function"?v.getKeys():Object.keys(v),K=Date.now(),J=[],te=d(V);try{for(te.s();!(H=te.n()).done;){var Z=H.value;if(Z.indexOf("_NosUploader_")===0){var X=S.getFileInfo(Z);X===null||K-X.modifyAt>z.expireTime?v.removeItem(Z):J.push({fileInfo:X,key:Z})}}}catch(de){te.e(de)}finally{te.f()}if(J.length>z.maxFileCache){var re,ee=d(J.sort(function(de,he){return he.fileInfo.modifyAt-de.fileInfo.modifyAt}).slice(z.maxFileCache));try{for(ee.s();!(re=ee.n()).done;){var ae=re.value;ae.key.indexOf("_NosUploader_")===0&&v.removeItem(ae.key)}}catch(de){ee.e(de)}finally{ee.f()}}}},I=S;function T(H){return(T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(H)}function _(H,V){return!V||T(V)!=="object"&&typeof V!="function"?function(K){if(K===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}(H):V}function N(H){var V=typeof Map=="function"?new Map:void 0;return(N=function(K){if(K===null||(J=K,Function.toString.call(J).indexOf("[native code]")===-1))return K;var J;if(typeof K!="function")throw new TypeError("Super expression must either be null or a function");if(V!==void 0){if(V.has(K))return V.get(K);V.set(K,te)}function te(){return A(K,arguments,R(this).constructor)}return te.prototype=Object.create(K.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),O(te,K)})(H)}function A(H,V,K){return(A=w()?Reflect.construct:function(J,te,Z){var X=[null];X.push.apply(X,te);var re=new(Function.bind.apply(J,X));return Z&&O(re,Z.prototype),re}).apply(null,arguments)}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O(H,V){return(O=Object.setPrototypeOf||function(K,J){return K.__proto__=J,K})(H,V)}function R(H){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)})(H)}var D=function(H){(function(Z,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(X&&X.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),X&&O(Z,X)})(te,H);var V,K,J=(V=te,K=w(),function(){var Z,X=R(V);if(K){var re=R(this).constructor;Z=Reflect.construct(X,arguments,re)}else Z=X.apply(this,arguments);return _(this,Z)});function te(Z,X){var re;return function(ee,ae){if(!(ee instanceof ae))throw new TypeError("Cannot call a class as a function")}(this,te),(re=J.call(this,"NosUploadError:"+Z)).errCode=X,re.errMsg=Z,re}return te}(N(Error)),j=function H(V,K,J){if(V.uploadState==="uploading"){var te=V.config,Z=V.param,X=I.getUploadContext(V.fileKey);if(!X)return J(0);var re=new XMLHttpRequest,ee=te.directUploadAddr+"/".concat(Z.bucketName)+"/".concat(encodeURIComponent(Z.objectName))+"?uploadContext"+"&context=".concat(X)+"&version=".concat(te.version);re.onreadystatechange=function(){var ae;if(V.uploadState!=="abort"&&re.readyState===4){var de;try{de=JSON.parse(re.responseText)}catch{de={errMsg:"JsonParseError in getOffset. xhr.status = "+re.status+". xhr.responseText: "+re.responseText,errCode:500}}re.status===200?de.errCode?V.config.onError(new D(de.errMsg,de.errCode)):J(de.offset):re.status.toString().match(/^5/)?H(V,K-1,J):K>0?(typeof((ae=te.logger)===null||ae===void 0?void 0:ae.error)=="function"&&te.logger.error("getOffset(".concat(ee,") error. retry after 3 seconds. ").concat(new Date().toTimeString())),setTimeout(function(){H(V,K-1,J)},3500)):re.status?(I.removeFileInfo(V.fileKey),te.onError(new D("getOffset(".concat(ee,") error: ").concat(re.status," ").concat(re.statusText)))):te.onError(new D("getOffset(".concat(ee,") error. no Error Code")))}},re.open("get",ee),re.setRequestHeader("x-nos-token",Z.token),re.timeout=te.getOffsetTimeout,re.send()}},L=function H(V,K,J,te){if(V.uploadState==="uploading"){var Z=V.param,X=V.config,re=File.prototype.slice,ee=Z.ctx!==void 0?Z.ctx:"",ae=K+X.trunkSize>=V.file.size,de=ae?V.file.size:K+X.trunkSize,he=new XMLHttpRequest,ue=X.directUploadAddr+"/".concat(Z.bucketName)+"/".concat(encodeURIComponent(Z.objectName));if(he.upload.onprogress=function(be){if(V.uploadState!=="abort"){var oe=0;be.lengthComputable?(oe=(K+be.loaded)/V.file.size,X.onProgress(oe),X.onUploadProgress({loaded:be.loaded,total:V.file.size,percentage:oe,percentageText:(100*oe).toFixed(2)+"%"})):X.onError(new D("browser does not support query upload progress"))}},he.onreadystatechange=function(){var be,oe;if(V.uploadState!=="abort"&&he.readyState===4){var pe;try{pe=JSON.parse(he.responseText)}catch(fe){typeof((be=X.logger)===null||be===void 0?void 0:be.error)=="function"&&X.logger.error("JsonParseError in uploadTrunk. xhr.status = "+he.status+". xhr.responseText: "+he.responseText,fe),pe={errMsg:"JsonParseError in uploadTrunk. xhr.status = "+he.status+". xhr.responseText: "+he.responseText}}he.status===200?(V.setContext(pe.context),ae?(te(),V.setComplete()):H(V,pe.offset,X.retryCount,te)):he.status.toString().match(/^5/)?J>0?H(V,K,J-1,te):(I.removeFileInfo(V.fileKey),X.onError(new D(pe.errMsg,pe.errCode))):J>0?(typeof((oe=X.logger)===null||oe===void 0?void 0:oe.error)=="function"&&X.logger.error("uploadTrunk(".concat(ue,") error. retry after 3 seconds. ").concat(new Date().toTimeString())),setTimeout(function(){H(V,K,J-1,te)},3500)):he.status?(I.removeFileInfo(V.fileKey),X.onError(new D("uploadTrunk(".concat(ue,") error: ").concat(he.status," ").concat(he.statusText)))):X.onError(new D("uploadTrunk(".concat(ue,") error. no Error Code. Please check your network")))}},he.open("post",ue+"?offset=".concat(K)+"&complete=".concat(ae)+"&context=".concat(ee)+"&version=".concat(X.version)),he.setRequestHeader("x-nos-token",Z.token),Z.md5&&he.setRequestHeader("content-md5",Z.md5),V.file.type&&he.setRequestHeader("content-type",V.file.type),he.timeout=X.trunkUploadTimeout,typeof FileReader<"u"){var ye=new FileReader;ye.addEventListener("load",function(be){var oe;((oe=be==null?void 0:be.target)===null||oe===void 0?void 0:oe.result)instanceof ArrayBuffer&&be.target.result.byteLength>0?he.send(be.target.result):X.onError(new D("Read ArrayBuffer failed",194003))}),ye.addEventListener("error",function(be){var oe=be.target.error;X.onError(new D("Read ArrayBuffer error. ".concat(oe.toString()),194003))}),ye.readAsArrayBuffer(re.call(V.file,K,de))}else he.send(re.call(V.file,K,de))}};function U(H,V){for(var K=0;K<V.length;K++){var J=V[K];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(H,J.key,J)}}var $=function(){function H(K,J,te){(function(Z,X){if(!(Z instanceof X))throw new TypeError("Cannot call a class as a function")})(this,H),this.uploadState="paused",this.config=te,this.file=K,this.param=J,this.fileKey=I.initFile(J,K,this.config.enableCache),this.resume()}var V;return(V=[{key:"resume",value:function(){var K=this;if(this.uploadState!=="uploading"){this.setUploadState("uploading");var J=this.config;j(this,J.retryCount,function(te){L(K,te,J.retryCount,function(){K.setUploadState("ended"),typeof J.onComplete=="function"&&J.onComplete(K.param)})})}}},{key:"pause",value:function(){this.setUploadState("paused")}},{key:"abort",value:function(){this.uploadState!=="ended"&&this.uploadState!=="abort"&&(this.setUploadState("abort"),this.config.onError(new D("Upload Aborted",10499)))}},{key:"setUploadState",value:function(K){K!==this.uploadState&&(this.uploadState=K)}},{key:"setContext",value:function(K){I.setUploadContext(this.fileKey,K,this.config.enableCache),this.param.ctx=K}},{key:"setComplete",value:function(){I.setComplete(this.fileKey,this.config.enableCache),this.setUploadState("ended")}}])&&U(H.prototype,V),H}(),F={maxFileCache:1/0,expireTime:864e5,getFileUploadInformation:function(H){var V=I.getFileKey(H),K=I.getFileInfo(V);return K===null?null:Date.now()-K.modifyAt>F.expireTime?(I.removeFileInfo(V),null):{uploadInfo:Object.assign({bucketName:K.bucket,objectName:K.obj,token:K.token,ctx:K.ctx},K.payload?{payload:K.payload}:{}),complete:K.end}},setMaxFileCache:function(H){F.maxFileCache=H},setExpireTime:function(H){F.expireTime=H},printCaches:function(){if(typeof localStorage<"u")for(var H=0,V=Object.keys(localStorage);H<V.length;H++){var K=V[H],J=I.getFileInfo(K);J&&console.log(J,"modifiedAt",new Date(J.modifyAt).toTimeString())}},createConfig:function(H){return new i(H)},createTask:function(H,V,K){return new $(H,V,K)}},z=F;return r.default}()});function UDe(e){return wn(this,void 0,void 0,function*(){var t,n=DDe();if(!e.fileInput&&!e.file)throw new Error("File not exist");if(e.file)t=e.file;else if(typeof e.fileInput=="string"){var r=document.getElementById(e.fileInput);if(!(r&&r.files&&r.files[0]))throw new Error("Can not get file from fileInput");t=r.files[0]}else{if(!(e.fileInput&&e.fileInput.files&&e.fileInput.files[0]))throw new Error(`Can not get file from fileInput ${e.fileInput}`);t=e.fileInput.files[0]}if(e.maxSize&&t.size>e.maxSize)throw new Error(`The file exceeds maxSize limit. maxSize: ${e.maxSize}, get ${t.size}`);var i=yield new Promise((d,g)=>{var v,S=jI.getFileUploadInformation(t),I=jI.createConfig({enableCache:!0,retryCount:0,directUploadAddr:e.chunkUploadHost,onError:function(T){g(T)},onUploadProgress:e.onUploadProgress||function(){},onComplete:function(T){d(T)}});if(S)if(S.complete)e.onUploadProgress&&e.onUploadProgress({total:t.size,loaded:t.size,percentage:1,percentageText:"100%"}),d(S.uploadInfo);else{v=jI.createTask(t,S.uploadInfo,I);try{e.onUploadStart&&e.onUploadStart(v)}catch(T){n.error("Adapter uploadFile: options.onUploadStart error",T&&T.message),v.abort(),g(T)}}else{v=jI.createTask(t,Object.assign(Object.assign({bucketName:e.nosToken.bucket,objectName:decodeURIComponent(e.nosToken.objectName),token:e.nosToken.token},e.md5?{md5:e.md5}:{}),e.payload?{payload:e.payload}:{}),I);try{e.onUploadStart&&e.onUploadStart(v)}catch(T){n.error("Adapter uploadFile: options.onUploadStart error",T&&T.message),v.abort(),g(T)}}});return i.name=t.name,i.size=t.size,i.type=t.type,i.ext=i.name.lastIndexOf(".")>-1?i.name.slice(i.name.lastIndexOf(".")+1).toLowerCase():"",i})}function BDe(e){var t;if(e.file)t=e.file;else if(typeof e.fileInput=="string"){var n=document.getElementById(e.fileInput);if(!(n&&n.files&&n.files[0]))throw new Error("Can not get file from fileInput");t=n.files[0]}else{if(!(e.fileInput&&e.fileInput.files&&e.fileInput.files[0]))throw new Error(`Can not get file from fileInput ${e.fileInput}`);t=e.fileInput.files[0]}return jI.getFileUploadInformation(t)}/*!
 * Platform.js v1.3.6
 * Copyright 2014-2020 Benjamin Tan
 * Copyright 2011-2013 John-David Dalton
 * Available under MIT license
 */var Bv=$0(function(e,t){(function(){var n={function:!0,object:!0}[typeof window]&&window||this,r=t,i=e&&!e.nodeType&&e,d=r&&i&&typeof Mk=="object"&&Mk;!d||d.global!==d&&d.window!==d&&d.self!==d||(n=d);var g=Math.pow(2,53)-1,v=/\bOpera/,S=Object.prototype,I=S.hasOwnProperty,T=S.toString;function _(L){return(L=String(L)).charAt(0).toUpperCase()+L.slice(1)}function N(L){return L=D(L),/^(?:webOS|i(?:OS|P))/.test(L)?L:_(L)}function A(L,U){for(var $ in L)I.call(L,$)&&U(L[$],$,L)}function w(L){return L==null?_(L):T.call(L).slice(8,-1)}function O(L){return String(L).replace(/([ -])(?!$)/g,"$1?")}function R(L,U){var $=null;return function(z,H){var V=-1,K=z?z.length:0;if(typeof K=="number"&&K>-1&&K<=g)for(;++V<K;)H(z[V],V,z);else A(z,H)}(L,function(F,z){$=U($,F,z,L)}),$}function D(L){return String(L).replace(/^ +| +$/g,"")}var j=function L(U){var $=n,F=U&&typeof U=="object"&&w(U)!="String";F&&($=U,U=null);var z=$.navigator||{},H=z.userAgent||"";U||(U=H);var V,K,J=F?!!z.likeChrome:/\bChrome\b/.test(U)&&!/internal|\n/i.test(T.toString()),te="Object",Z=F?te:"ScriptBridgingProxyObject",X=F?te:"Environment",re=F&&$.java?"JavaPackage":w($.java),ee=F?te:"RuntimeObject",ae=/\bJava/.test(re)&&$.java,de=ae&&w($.environment)==X,he=ae?"a":"α",ue=ae?"b":"β",ye=$.document||{},be=$.operamini||$.opera,oe=v.test(oe=F&&be?be["[[Class]]"]:w(be))?oe:be=null,pe=U,fe=[],_e=null,Te=U==H,Se=Te&&be&&typeof be.version=="function"&&be.version(),De=function(Je){return R(Je,function(ut,lt){return ut||RegExp("\\b"+(lt.pattern||O(lt))+"\\b","i").exec(U)&&(lt.label||lt)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),je=function(Je){return R(Je,function(ut,lt){return ut||RegExp("\\b"+(lt.pattern||O(lt))+"\\b","i").exec(U)&&(lt.label||lt)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),ke=qe([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),Oe=function(Je){return R(Je,function(ut,lt,et){return ut||(lt[ke]||lt[/^[a-z]+(?: +[a-z]+\b)*/i.exec(ke)]||RegExp("\\b"+O(et)+"(?:\\b|\\w*\\d)","i").exec(U))&&et})}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),Ne=function(Je){return R(Je,function(ut,lt){var et=lt.pattern||O(lt);return!ut&&(ut=RegExp("\\b"+et+"(?:/[\\d.]+|[ \\w.]*)","i").exec(U))&&(ut=function(pt,ct,xt){var jt={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return ct&&xt&&/^Win/i.test(pt)&&!/^Windows Phone /i.test(pt)&&(jt=jt[/[\d.]+$/.exec(pt)])&&(pt="Windows "+jt),pt=String(pt),ct&&xt&&(pt=pt.replace(RegExp(ct,"i"),xt)),N(pt.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(ut,et,lt.label||lt)),ut})}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function qe(nt){return R(nt,function(Je,ut){var lt=ut.pattern||O(ut);return!Je&&(Je=RegExp("\\b"+lt+" *\\d+[.\\w_]*","i").exec(U)||RegExp("\\b"+lt+" *\\w+-[\\w]*","i").exec(U)||RegExp("\\b"+lt+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(U))&&((Je=String(ut.label&&!RegExp(lt,"i").test(ut.label)?ut.label:Je).split("/"))[1]&&!/[\d.]+/.test(Je[0])&&(Je[0]+=" "+Je[1]),ut=ut.label||ut,Je=N(Je[0].replace(RegExp(lt,"i"),ut).replace(RegExp("; *(?:"+ut+"[_-])?","i")," ").replace(RegExp("("+ut+")[-_.]?(\\w)","i"),"$1 $2"))),Je})}function Ke(nt){return R(nt,function(Je,ut){return Je||(RegExp(ut+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(U)||0)[1]||null})}if(De&&(De=[De]),/\bAndroid\b/.test(Ne)&&!ke&&(V=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(U))&&(ke=D(V[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),Oe&&!ke?ke=qe([Oe]):Oe&&ke&&(ke=ke.replace(RegExp("^("+O(Oe)+")[-_.\\s]","i"),Oe+" ").replace(RegExp("^("+O(Oe)+")[-_.]?(\\w)","i"),Oe+" $2")),(V=/\bGoogle TV\b/.exec(ke))&&(ke=V[0]),/\bSimulator\b/i.test(U)&&(ke=(ke?ke+" ":"")+"Simulator"),je=="Opera Mini"&&/\bOPiOS\b/.test(U)&&fe.push("running in Turbo/Uncompressed mode"),je=="IE"&&/\blike iPhone OS\b/.test(U)?(Oe=(V=L(U.replace(/like iPhone OS/,""))).manufacturer,ke=V.product):/^iP/.test(ke)?(je||(je="Safari"),Ne="iOS"+((V=/ OS ([\d_]+)/i.exec(U))?" "+V[1].replace(/_/g,"."):"")):je=="Konqueror"&&/^Linux\b/i.test(Ne)?Ne="Kubuntu":Oe&&Oe!="Google"&&(/Chrome/.test(je)&&!/\bMobile Safari\b/i.test(U)||/\bVita\b/.test(ke))||/\bAndroid\b/.test(Ne)&&/^Chrome/.test(je)&&/\bVersion\//i.test(U)?(je="Android Browser",Ne=/\bAndroid\b/.test(Ne)?Ne:"Android"):je=="Silk"?(/\bMobi/i.test(U)||(Ne="Android",fe.unshift("desktop mode")),/Accelerated *= *true/i.test(U)&&fe.unshift("accelerated")):je=="UC Browser"&&/\bUCWEB\b/.test(U)?fe.push("speed mode"):je=="PaleMoon"&&(V=/\bFirefox\/([\d.]+)\b/.exec(U))?fe.push("identifying as Firefox "+V[1]):je=="Firefox"&&(V=/\b(Mobile|Tablet|TV)\b/i.exec(U))?(Ne||(Ne="Firefox OS"),ke||(ke=V[1])):!je||(V=!/\bMinefield\b/i.test(U)&&/\b(?:Firefox|Safari)\b/.exec(je))?(je&&!ke&&/[\/,]|^[^(]+?\)/.test(U.slice(U.indexOf(V+"/")+8))&&(je=null),(V=ke||Oe||Ne)&&(ke||Oe||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(Ne))&&(je=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(Ne)?Ne:V)+" Browser")):je=="Electron"&&(V=(/\bChrome\/([\d.]+)\b/.exec(U)||0)[1])&&fe.push("Chromium "+V),Se||(Se=Ke(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",O(je),"(?:Firefox|Minefield|NetFront)"])),(V=(De=="iCab"&&parseFloat(Se)>3?"WebKit":/\bOpera\b/.test(je)&&(/\bOPR\b/.test(U)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(U)&&!/^(?:Trident|EdgeHTML)$/.test(De)&&"WebKit"||!De&&/\bMSIE\b/i.test(U)&&(Ne=="Mac OS"?"Tasman":"Trident")||De=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(je)&&"NetFront")&&(De=[V]),je=="IE"&&(V=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(U)||0)[1])?(je+=" Mobile",Ne="Windows Phone "+(/\+$/.test(V)?V:V+".x"),fe.unshift("desktop mode")):/\bWPDesktop\b/i.test(U)?(je="IE Mobile",Ne="Windows Phone 8.x",fe.unshift("desktop mode"),Se||(Se=(/\brv:([\d.]+)/.exec(U)||0)[1])):je!="IE"&&De=="Trident"&&(V=/\brv:([\d.]+)/.exec(U))&&(je&&fe.push("identifying as "+je+(Se?" "+Se:"")),je="IE",Se=V[1]),Te){if(function(Je,ut){var lt=Je!=null?typeof Je[ut]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(lt)||lt=="object"&&!Je[ut])}($,"global"))if(ae&&(pe=(V=ae.lang.System).getProperty("os.arch"),Ne=Ne||V.getProperty("os.name")+" "+V.getProperty("os.version")),de){try{Se=$.require("ringo/engine").version.join("."),je="RingoJS"}catch{(V=$.system)&&V.global.system==$.system&&(je="Narwhal",Ne||(Ne=V[0].os||null))}je||(je="Rhino")}else typeof $.process=="object"&&!$.process.browser&&(V=$.process)&&(typeof V.versions=="object"&&(typeof V.versions.electron=="string"?(fe.push("Node "+V.versions.node),je="Electron",Se=V.versions.electron):typeof V.versions.nw=="string"&&(fe.push("Chromium "+Se,"Node "+V.versions.node),je="NW.js",Se=V.versions.nw)),je||(je="Node.js",pe=V.arch,Ne=V.platform,Se=(Se=/[\d.]+/.exec(V.version))?Se[0]:null));else w(V=$.runtime)==Z?(je="Adobe AIR",Ne=V.flash.system.Capabilities.os):w(V=$.phantom)==ee?(je="PhantomJS",Se=(V=V.version||null)&&V.major+"."+V.minor+"."+V.patch):typeof ye.documentMode=="number"&&(V=/\bTrident\/(\d+)/i.exec(U))?(Se=[Se,ye.documentMode],(V=+V[1]+4)!=Se[1]&&(fe.push("IE "+Se[1]+" mode"),De&&(De[1]=""),Se[1]=V),Se=je=="IE"?String(Se[1].toFixed(1)):Se[0]):typeof ye.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(je)&&(fe.push("masking as "+je+" "+Se),je="IE",Se="11.0",De=["Trident"],Ne="Windows");Ne=Ne&&N(Ne)}if(Se&&(V=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(Se)||/(?:alpha|beta)(?: ?\d)?/i.exec(U+";"+(Te&&z.appMinorVersion))||/\bMinefield\b/i.test(U)&&"a")&&(_e=/b/i.test(V)?"beta":"alpha",Se=Se.replace(RegExp(V+"\\+?$"),"")+(_e=="beta"?ue:he)+(/\d+\+?/.exec(V)||"")),je=="Fennec"||je=="Firefox"&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(Ne))je="Firefox Mobile";else if(je=="Maxthon"&&Se)Se=Se.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(ke))ke=="Xbox 360"&&(Ne=null),ke=="Xbox 360"&&/\bIEMobile\b/.test(U)&&fe.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(je)&&(!je||ke||/Browser|Mobi/.test(je))||Ne!="Windows CE"&&!/Mobi/i.test(U))if(je=="IE"&&Te)try{$.external===null&&fe.unshift("platform preview")}catch{fe.unshift("embedded")}else(/\bBlackBerry\b/.test(ke)||/\bBB10\b/.test(U))&&(V=(RegExp(ke.replace(/ +/g," *")+"/([.\\d]+)","i").exec(U)||0)[1]||Se)?(Ne=((V=[V,/BB10/.test(U)])[1]?(ke=null,Oe="BlackBerry"):"Device Software")+" "+V[0],Se=null):this!=A&&ke!="Wii"&&(Te&&be||/Opera/.test(je)&&/\b(?:MSIE|Firefox)\b/i.test(U)||je=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(Ne)||je=="IE"&&(Ne&&!/^Win/.test(Ne)&&Se>5.5||/\bWindows XP\b/.test(Ne)&&Se>8||Se==8&&!/\bTrident\b/.test(U)))&&!v.test(V=L.call(A,U.replace(v,"")+";"))&&V.name&&(V="ing as "+V.name+((V=V.version)?" "+V:""),v.test(je)?(/\bIE\b/.test(V)&&Ne=="Mac OS"&&(Ne=null),V="identify"+V):(V="mask"+V,je=oe?N(oe.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(V)&&(Ne=null),Te||(Se=null)),De=["Presto"],fe.push(V));else je+=" Mobile";(V=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(U)||0)[1])&&(V=[parseFloat(V.replace(/\.(\d)$/,".0$1")),V],je=="Safari"&&V[1].slice(-1)=="+"?(je="WebKit Nightly",_e="alpha",Se=V[1].slice(0,-1)):Se!=V[1]&&Se!=(V[2]=(/\bSafari\/([\d.]+\+?)/i.exec(U)||0)[1])||(Se=null),V[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(U)||0)[1],V[0]==537.36&&V[2]==537.36&&parseFloat(V[1])>=28&&De=="WebKit"&&(De=["Blink"]),Te&&(J||V[1])?(De&&(De[1]="like Chrome"),V=V[1]||((V=V[0])<530?1:V<532?2:V<532.05?3:V<533?4:V<534.03?5:V<534.07?6:V<534.1?7:V<534.13?8:V<534.16?9:V<534.24?10:V<534.3?11:V<535.01?12:V<535.02?"13+":V<535.07?15:V<535.11?16:V<535.19?17:V<536.05?18:V<536.1?19:V<537.01?20:V<537.11?"21+":V<537.13?23:V<537.18?24:V<537.24?25:V<537.36?26:De!="Blink"?"27":"28")):(De&&(De[1]="like Safari"),V=(V=V[0])<400?1:V<500?2:V<526?3:V<533?4:V<534?"4+":V<535?5:V<537?6:V<538?7:V<601?8:V<602?9:V<604?10:V<606?11:V<608?12:"12"),De&&(De[1]+=" "+(V+=typeof V=="number"?".x":/[.+]/.test(V)?"":"+")),je=="Safari"&&(!Se||parseInt(Se)>45)?Se=V:je=="Chrome"&&/\bHeadlessChrome/i.test(U)&&fe.unshift("headless")),je=="Opera"&&(V=/\bzbov|zvav$/.exec(Ne))?(je+=" ",fe.unshift("desktop mode"),V=="zvav"?(je+="Mini",Se=null):je+="Mobile",Ne=Ne.replace(RegExp(" *"+V+"$"),"")):je=="Safari"&&/\bChrome\b/.exec(De&&De[1])?(fe.unshift("desktop mode"),je="Chrome Mobile",Se=null,/\bOS X\b/.test(Ne)?(Oe="Apple",Ne="iOS 4.3+"):Ne=null):/\bSRWare Iron\b/.test(je)&&!Se&&(Se=Ke("Chrome")),Se&&Se.indexOf(V=/[\d.]+$/.exec(Ne))==0&&U.indexOf("/"+V+"-")>-1&&(Ne=D(Ne.replace(V,""))),Ne&&Ne.indexOf(je)!=-1&&!RegExp(je+" OS").test(Ne)&&(Ne=Ne.replace(RegExp(" *"+O(je)+" *"),"")),De&&!/\b(?:Avant|Nook)\b/.test(je)&&(/Browser|Lunascape|Maxthon/.test(je)||je!="Safari"&&/^iOS/.test(Ne)&&/\bSafari\b/.test(De[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(je)&&De[1])&&(V=De[De.length-1])&&fe.push(V),fe.length&&(fe=["("+fe.join("; ")+")"]),Oe&&ke&&ke.indexOf(Oe)<0&&fe.push("on "+Oe),ke&&fe.push((/^on /.test(fe[fe.length-1])?"":"on ")+ke),Ne&&(V=/ ([\d.+]+)$/.exec(Ne),K=V&&Ne.charAt(Ne.length-V[0].length-1)=="/",Ne={architecture:32,family:V&&!K?Ne.replace(V[0],""):Ne,version:V?V[1]:null,toString:function(){var nt=this.version;return this.family+(nt&&!K?" "+nt:"")+(this.architecture==64?" 64-bit":"")}}),(V=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(pe))&&!/\bi686\b/i.test(pe)?(Ne&&(Ne.architecture=64,Ne.family=Ne.family.replace(RegExp(" *"+V),"")),je&&(/\bWOW64\b/i.test(U)||Te&&/\w(?:86|32)$/.test(z.cpuClass||z.platform)&&!/\bWin64; x64\b/i.test(U))&&fe.unshift("32-bit")):Ne&&/^OS X/.test(Ne.family)&&je=="Chrome"&&parseFloat(Se)>=39&&(Ne.architecture=64),U||(U=null);var He={};return He.description=U,He.layout=De&&De[0],He.manufacturer=Oe,He.name=je,He.prerelease=_e,He.product=ke,He.ua=U,He.version=je&&Se,He.os=Ne||{architecture:null,family:null,version:null,toString:function(){return"null"}},He.parse=L,He.toString=function(){return this.description||""},He.version&&fe.unshift(Se),He.name&&fe.unshift(je),Ne&&je&&(Ne!=String(Ne).split(" ")[0]||Ne!=je.split(" ")[0]&&!ke)&&fe.push(ke?"("+Ne+")":"on "+Ne),fe.length&&(He.description=fe.join(" ")),He}();r&&i?A(j,function(L,U){r[U]=L}):n.platform=j}).call(Mk)});function FDe(){var e,t,n=Bv.version||"";if(Hj())try{var r=navigator.userAgent.match(/Electron\/([\d.]+\d+)/);r&&r[1]&&typeof r[1]=="string"&&(n=r[1])}catch{}return{os:((e=Bv.os)===null||e===void 0?void 0:e.family)||"",osVer:((t=Bv.os)===null||t===void 0?void 0:t.version)||"",browser:Bv.name||"",browserVer:Bv.version||"",libEnv:"BROWSER",hostEnv:jDe(),hostEnvEnum:VDe(),hostEnvVer:n,userAgent:navigator&&navigator.userAgent,model:n,manufactor:Bv.name||""}}var MI=null,_I=null,qDe={getNetworkStatus:()=>Promise.resolve({net_type:0,net_connect:typeof navigator>"u"||typeof navigator.onLine!="boolean"||navigator.onLine}),onNetworkStatusChange(e){MI=function(){e({isConnected:!0,networkType:0})},_I=function(){e({isConnected:!1,networkType:0})},window.addEventListener("online",MI),window.addEventListener("offline",_I)},offNetworkStatusChange(){MI&&window.removeEventListener("online",MI),_I&&window.removeEventListener("offline",_I),MI=null,_I=null}};class zDe{constructor(t,n){this.db=null,this.stores=[],this.name=t,this.version=n}getDB(){if(!this.db)throw new Error("DB not ready");return this.db}getStore(t){var n=this.stores.find(r=>r.storeName===t);if(!n)throw new Error(`LogStorage: store not found. ${t}`);return n}open(){var t=window.indexedDB.open(this.name,this.version);return new Promise((n,r)=>{t.onerror=i=>{var d=i.target;r(d.error)},t.onsuccess=i=>{var d=i.target;this.db=d.result,this.db.removeEventListener("close",this.triggerDBCloseEvt.bind(this)),this.db.addEventListener("close",this.triggerDBCloseEvt.bind(this)),this.stores.push(new HDe("log",this)),n()},t.onupgradeneeded=i=>{var d=i.target;this.upgradeDBBySchema(d)}})}triggerDBCloseEvt(){try{this.db&&this.db.close(),this.db=null}catch{}this.open()}upgradeDBBySchema(t){var n=t.result,r=t.transaction&&n.objectStoreNames.contains("log")?t.transaction.objectStore("log"):n.createObjectStore("log",{keyPath:"id",autoIncrement:!0});try{r.index("time")}catch{r.createIndex("time","time",{unique:!1})}}close(){this.db&&(this.db.removeEventListener("close",this.triggerDBCloseEvt.bind(this)),this.db.close(),this.stores=[],this.db=null)}}class HDe{constructor(t,n){this.idb=null,this.storeName=t,this.idb=n}getDB(){if(!this.idb)throw new Error("DB not ready");return this.idb.getDB()}getStoreName(){return this.storeName}bulkCreate(t){var n=this.getDB(),r=this.getStoreName(),i=n.transaction(r,"readwrite"),d=i.objectStore(r);return t.forEach(g=>{d.add(g)}),new Promise(function(g,v){i.oncomplete=function(){g()},i.onerror=function(S){var I=S.target;v(I.error)},i.onabort=function(S){var I=S.target;I.error instanceof Error?v(I.error):v(new Error("TransactionAborted"))}})}bulkDelete(t){var{keyName:n,lower:r,upper:i,lowerOpen:d=!1,upperOpen:g=!1}=t,v=IDBKeyRange.bound(r,i,d,g),S=this.getDB(),I=this.getStoreName(),T=S.transaction(I,"readwrite"),_=T.objectStore(I).index(n).openCursor(v),N=0;return _.onsuccess=function(A){var w=A.target.result;w&&(w.delete(),N++,w.continue())},new Promise(function(A,w){T.oncomplete=function(){A(N)},T.onerror=function(O){var R=O.target;w(R.error)},T.onabort=function(O){var R=O.target;R.error instanceof Error?w(R.error):w(new Error("TransactionAborted"))}})}readAll(){var t=this.getDB(),n=this.getStoreName(),r=t.transaction(n,"readonly").objectStore(n);if(!r.getAll)throw new Error("IDBExtract not support");var i=r.getAll();return new Promise((d,g)=>{i.onsuccess=function(v){var S=v.target;d(S.result)},i.onerror=function(v){var S=v.target;g(S.error)}})}}class GDe{constructor(t="nim_logs"){this.idb=new zDe(t,1)}open(){return wn(this,void 0,void 0,function*(){yield this.idb.open();var t=this.idb.getStore("log");try{yield t.bulkDelete({keyName:"time",lower:0,upper:Date.now()-2592e5})}catch{}})}close(){this.idb.close()}addLogs(t){return this.idb.getStore("log").bulkCreate(t)}extractLogs(){return wn(this,void 0,void 0,function*(){var t=this.idb.getStore("log"),n=yield t.readAll();if(n.length!==0){var r=n.reduce((d,g)=>{var v=g.iid;return d[v]||(d[v]=[]),d[v].push(g),d},{}),i=Object.keys(r).map(d=>`==========iid:${d}==========
 ${r[d].map(g=>g.text).join(`
`)}`).join(`
`);return new File([i],"nim-logs.txt",{type:"text/plain"})}})}afterUpload(){return Promise.resolve()}}var KDe=()=>({setLogger:PDe,platform:"BROWSER",localStorage:window.localStorage,request:$De,WebSocket:window.WebSocket,uploadFile:UDe,getFileUploadInformation:BDe,getSystemInfo:FDe,net:qDe,logStorage:GDe});class uQ{constructor(t){this.name="V2NIMConversationIdUtil",this.core=t}conversationId(t,n){return`${this.core.account}|${t}|${n}`}p2pConversationId(t){return`${this.core.account}|1|${t}`}teamConversationId(t){return`${this.core.account}|2|${t}`}superTeamConversationId(t){return`${this.core.account}|3|${t}`}messageConversationId(t){return t.conversationType===1?t.senderId===this.core.account?this.p2pConversationId(t.receiverId):this.p2pConversationId(t.senderId):t.conversationType===2?this.teamConversationId(t.receiverId):this.superTeamConversationId(t.receiverId)}parseConversationType(t){try{if(t&&t.startsWith(`${this.core.account}|`)){var n=t.replace(`${this.core.account}|`,"");return Number(n[0])}return this.core.logger.warn(`conversationId is not start with ${this.core.account}`),0}catch{return 0}}parseConversationTargetId(t){try{return t&&t.startsWith(`${this.core.account}|`)?t.replace(`${this.core.account}|`,"").slice(2):(this.core.logger.warn(`conversationId is not start with ${this.core.account}`),"")}catch{return""}}convertToV1ConversationId(t){var n=this.parseConversationType(t);return`${n===1?"p2p":n===2?"team":"superTeam"}|${this.parseConversationTargetId(t)}`}}class dQ{constructor(){this.messages=new Map,this.capacity=1e4}reset(){this.messages.clear()}getMessageById(t){if(t)return this.messages.get(t)}getMessagesByConversationId(t){var n=[];return this.messages.forEach(r=>{r.conversationId===t&&n.push(r)}),n}getLastMessageOfConversation(t){var n=this.getMessagesByConversationId(t);if(n.length!==0)return n.reduce((r,i)=>i.createTime>r.createTime?i:r,n[0])}upsertMessages(t){t.forEach(n=>{this.setLRU(n.messageClientId,n)})}setLRU(t,n){if(this.messages.has(t))this.messages.delete(t);else if(this.messages.size>=this.capacity){var r=this.messages.keys().next().value;r&&this.messages.delete(r)}this.messages.set(t,n)}deleteMessage(t){this.messages.delete(t)}deleteMessages(t,n){this.messages.forEach(r=>{t===r.conversationId&&(!n||n&&r.createTime<n)&&this.messages.delete(r.messageClientId)})}}var Gj={accountId:{type:"string",allowEmpty:!1},content:{type:"object",required:!1,rules:{msg:{type:"string",allowEmpty:!1},type:{type:"number",allowEmpty:!1}}},messages:{type:"array",required:!1,rules:{msg:{type:"string",allowEmpty:!1},type:{type:"number"},role:{type:"enum",values:["assistant","user","system"]}}},promptVariables:{type:"jsonstr",required:!1},modelConfigParams:{type:"object",required:!1,rules:{prompt:{type:"string",required:!1},maxTokens:{type:"number",required:!1},topP:{type:"number",required:!1},temperature:{type:"number",required:!1}}},aiStream:{type:"boolean",required:!1}};Object.assign({requestId:{type:"string",allowEmpty:!1}},Gj);var pQ=[1,3,2,0],mQ=[2,7,12,100,6,1,-1,4,5,11,0,10,3],fQ={routeEnabled:{type:"boolean",required:!1},routeEnvironment:{type:"string",required:!1}},gQ={pushEnabled:{type:"boolean",required:!1},pushNickEnabled:{type:"boolean",required:!1},pushContent:{type:"string",required:!1},pushPayload:{type:"string",required:!1},forcePush:{type:"boolean",required:!1},forceContent:{type:"string",required:!1},forcePushAccountIds:{type:"array",required:!1,itemType:"string"}},hQ={antispamEnabled:{type:"boolean",required:!1},antispamBusinessId:{type:"string",required:!1},antispamCustomMessage:{type:"string",required:!1},antispamCheating:{type:"string",required:!1},antispamExtension:{type:"string",required:!1}},vQ={messageConfig:{type:"object",required:!1,rules:{readReceiptEnabled:{type:"boolean",required:!1},lastMessageUpdateEnabled:{type:"boolean",required:!1},historyEnabled:{type:"boolean",required:!1},roamingEnabled:{type:"boolean",required:!1},onlineSyncEnabled:{type:"boolean",required:!1},offlineEnabled:{type:"boolean",required:!1},unreadEnabled:{type:"boolean",required:!1}}},routeConfig:{type:"object",required:!1,rules:fQ},pushConfig:{type:"object",required:!1,rules:gQ},antiSpamConfig:{type:"object",required:!1,rules:hQ},robotConfig:{type:"object",required:!1,rules:{accountId:{type:"string",required:!1},topic:{type:"string",required:!1},function:{type:"string",required:!1},customContent:{type:"string",required:!1}}},aiConfig:{type:"object",required:!1,rules:Gj},targetConfig:{type:"object",required:!1,rules:{receiverIds:{type:"array",itemType:"string"},inclusive:{type:"boolean"},newMemberVisible:{type:"boolean",required:!1}}},clientAntispamEnabled:{type:"boolean",required:!1},clientAntispamReplace:{type:"string",required:!1}},WDe={message:{type:"object",rules:{text:{type:"string",required:!1},messageType:{type:"enum",values:mQ},messageClientId:{type:"string",allowEmpty:!1}}},params:{type:"object",rules:vQ,required:!1},replyMessage:{type:"object",rules:{conversationType:{type:"enum",values:[1,3,2,0]},receiverId:{type:"string",allowEmpty:!1},senderId:{type:"string",allowEmpty:!1},messageClientId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1},createTime:{type:"number"}}}},yQ={conversationId:{type:"string",allowEmpty:!1},message:{type:"object",rules:{text:{type:"string",required:!1},messageType:{type:"enum",values:mQ},messageClientId:{type:"string",allowEmpty:!1},attachment:{type:"object",required:!1,rules:{file:{type:"file",required:!1}}}}},params:{type:"object",required:!1,rules:vQ}},YDe={message:{type:"object",rules:{messageClientId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1},conversationType:{type:"enum",values:pQ},createTime:{type:"number"}}},params:{type:"object",rules:{postscript:{type:"string",required:!1},serverExtension:{type:"string",required:!1},pushContent:{type:"string",required:!1},pushPayload:{type:"string",required:!1},env:{type:"string",required:!1}},required:!1}},bQ={conversationId:{type:"string",allowEmpty:!1},conversationType:{type:"enum",values:pQ},receiverId:{type:"string",allowEmpty:!1},senderId:{type:"string",allowEmpty:!1},messageClientId:{type:"string",allowEmpty:!1},createTime:{type:"number"}},XDe={messages:{type:"array",rules:bQ}},JDe={messageClientId:{type:"string",allowEmpty:!1},conversationType:{type:"enum",values:[1]},receiverId:{type:"string",allowEmpty:!1},createTime:{type:"number"}},QDe={messages:{type:"array",rules:{messageClientId:{type:"string",allowEmpty:!1},conversationType:{type:"enum",values:[2]},receiverId:{type:"string",allowEmpty:!1},createTime:{type:"number"}},min:1}},ZDe={message:{type:"object",rules:{receiverId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1},conversationType:{type:"enum",values:[2]}}}},eje={messages:{type:"array",rules:{receiverId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1},conversationType:{type:"enum",values:[2]}},min:1}},Kj={sceneName:{type:"string",required:!1},name:{type:"string",required:!1}},SQ=Object.assign(Object.assign({},Kj),{duration:{type:"number",required:!1}}),tje=Object.assign(Object.assign({},SQ),{width:{type:"number",required:!1},height:{type:"number",required:!1}}),nje=Object.assign(Object.assign({},Kj),{width:{type:"number",required:!1},height:{type:"number",required:!1}}),rje={senderId:{type:"string",allowEmpty:!1},receiverId:{type:"string",allowEmpty:!1},createTime:{type:"number"},messageClientId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1}},aje={subType:{type:"number",min:0,required:!1},text:{type:"string",required:!1},attachment:{type:"object",required:!1},serverExtension:{type:"string",required:!1},routeConfig:{type:"object",required:!1,rules:fQ},pushConfig:{type:"object",required:!1,rules:gQ},antiSpamConfig:{type:"object",required:!1,rules:hQ},clientAntispamEnabled:{type:"boolean",required:!1},clientAntispamReplace:{type:"string",required:!1}},p7={messageClientId:{type:"string",allowEmpty:!1},messageServerId:{type:"string",allowEmpty:!1},createTime:{type:"number"},aiConfig:{type:"object",rules:Gj}},ije={operationType:{type:"enum",values:[0,1,2]},updateContent:{type:"string",allowEmpty:!0,required:!1}},oje={operationType:{type:"enum",values:[2,1],required:!0}};class sje{constructor(t,n){this.p2pMessageReceipts={},this.core=t,this.service=n}reset(){this.p2pMessageReceipts={}}sendP2PMessageReceipt(t){return wn(this,void 0,void 0,function*(){if(yr(JDe,t,"",!0),t.senderId===this.core.account)throw new Eu({detail:{reason:`sendP2PMessageReceipt. sender: ${t.senderId} is not allowed to send msg receipt`}});yield this.core.sendCmd("v2SendP2PMessageReceipt",{tag:{receiverId:t.senderId,messageClientId:t.messageClientId,createTime:t.createTime}})})}isPeerRead(t){if(t.conversationType!==1||t.senderId!==this.core.account)return!1;if(t.senderId===this.core.account&&t.receiverId===this.core.account)return!0;var n=this.core.V2NIMConversationIdUtil.messageConversationId(t),r=this.p2pMessageReceipts[n]||0;return t.createTime<=r}getP2PMessageReceipt(t){return wn(this,void 0,void 0,function*(){if(yy(this.core.account,t),this.core.V2NIMConversationIdUtil.parseConversationType(t)!==1)throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getP2PMessageReceipt: conversationId is not p2p conversationId"}});return{conversationId:t,timestamp:this.p2pMessageReceipts[t]||0}})}getTeamMessageReceipts(t){return wn(this,void 0,void 0,function*(){if(yr(eje,{messages:t},"",!0),t.some(n=>n.senderId!==this.core.account))throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getTeamMessageReceipts: exist messages senderId is not current user"}});if(t.some(n=>n.receiverId!==t[0].receiverId))throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"getTeamMessageReceipts: exist messages receiverId is not same"}});return(yield this.core.sendCmd("v2GetTeamMessageReceipts",{tag:t})).content.data.map(n=>Object.assign(Object.assign({},n),{conversationId:this.core.V2NIMConversationIdUtil.teamConversationId(n.receiverId)}))})}getTeamMessageReceiptDetail(t){return wn(this,void 0,void 0,function*(){if(yr(ZDe,{message:t},"",!0),t.senderId!==this.core.account)throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:`getTeamMessageReceiptDetail::senderId ${t.senderId} incorrect`}});var n=yield this.core.sendCmd("v2GetTeamMessageReceiptDetail",{tag:t});return{readReceipt:{conversationId:this.core.V2NIMConversationIdUtil.teamConversationId(t.receiverId),messageClientId:t.messageClientId,messageServerId:t.messageServerId,readCount:n.content.readAccountList.length,unreadCount:n.content.unreadAccountList.length},readAccountList:n.content.readAccountList,unreadAccountList:n.content.unreadAccountList}})}sendTeamMessageReceipts(t){return wn(this,void 0,void 0,function*(){if(t.some(n=>n.conversationId!==t[0].conversationId))throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"getTeamMessageReceipts: conversationId not same"}});if(yr(QDe,{messages:t},"",!0),t.some(n=>n.senderId===this.core.account))throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"getTeamMessageReceipts: exist messages senderId is not current user"}});yield this.core.sendCmd("v2SendTeamMessageReceipts",{tag:t})})}syncP2PMessagReceiptsHandler(t){var n=t.content.data.map(r=>{var i=this.core.V2NIMConversationIdUtil.p2pConversationId(r.senderId),d=r.createTime;return this.p2pMessageReceipts[i]=d,{conversationId:i,timestamp:d}});this.service.emit("onReceiveP2PMessageReadReceipts",n)}onP2PMessageReceiptsHandler(t){var n=this.core.V2NIMConversationIdUtil.p2pConversationId(t.content.data.senderId),r=t.content.data.createTime;this.p2pMessageReceipts[n]=r,this.service.emit("onReceiveP2PMessageReadReceipts",[{conversationId:n,timestamp:r}])}onTeamMessageReceiptsHandler(t){var n=t.content.data.map(r=>({conversationId:this.core.V2NIMConversationIdUtil.teamConversationId(r.receiverId),messageServerId:r.messageServerId,messageClientId:r.messageClientId,readCount:r.readCount,unreadCount:r.unreadCount,latestReadAccount:r.latestReadAccount}));this.service.emit("onReceiveTeamMessageReadReceipts",n)}}var Ts={teamId:1,name:3,teamType:{id:4,retConverter:e=>+e==0?1:+e},ownerAccountId:5,memberLimit:{id:6,retType:"number"},isValidTeam:{id:8,retConverter:(e,t)=>+e==1&&(t[13]===void 0||+t[13]==1)},memberCount:{id:9,retType:"number"},memberUpdateTime:{id:10,retType:"number"},createTime:{id:11,retType:"number"},updateTime:{id:12,retType:"number"},intro:14,announcement:15,joinMode:{id:16,retType:"number"},serverExtension:18,customerExtension:19,avatar:20,agreeMode:{id:21,retType:"number"},inviteMode:{id:22,retType:"number"},updateInfoMode:{id:23,retType:"number"},updateExtensionMode:{id:24,retType:"number"},chatBannedMode:{id:101,retType:"number"}},xI={teamId:1,accountId:3,memberRole:{id:4,retType:"number"},teamNick:5,bits:{id:7,retType:"number"},inTeam:{id:9,retType:"boolean"},joinTime:{id:10,retType:"number"},updateTime:{id:11,retType:"number"},serverExtension:12,chatBanned:{id:13,retType:"boolean"},invitorAccountId:14,followAccountIds:{id:16,retConverter:e=>{try{return JSON.parse(e)}catch{return[]}}}},wT={teamId:1,accountId:3,memberRole:{id:4,retType:"number"},teamNick:5,bits:{id:7,retType:"number"},inTeam:{id:9,retType:"boolean"},updateTime:{id:11,retType:"number"},serverExtension:12,chatBanned:{id:13,retType:"boolean"},invitorAccountId:14,joinTime:{id:15,retType:"number"},followAccountIds:{id:17,retConverter:e=>{try{return JSON.parse(e)}catch{return[]}}}};ht(Ts),ht(Ts),ht(Ts),ht(Ts),ht(Ts),ht(Ts),ht(Ts),ht(Ts),ht(Ts),ht(Ts),ht(xI),ht(wT),ht(xI),ht(wT),ht(xI),ht(Ts),ht(Ts),ht(xI),ht(xI),ht(Ts),ht(Ts),ht(wT),ht(wT);function lje(e,t){if(!e)return{};var n=e;return n.tinfo&&(n.tinfo=function(i){return KM(i,ht(Ts))}(n.tinfo),n.tinfo.teamType=t),n.uinfos,n.mute!==void 0&&(n.mute=parseInt(n.mute)),n}function mm(e,t){var n,r=Object.assign(Object.assign({},t),{conversationId:e.V2NIMConversationIdUtil.messageConversationId(t),isSelf:t.senderId===e.account,sendingState:1,messageStatus:{errorCode:((n=t==null?void 0:t.messageStatus)===null||n===void 0?void 0:n.errorCode)||200}});if(r.threadReply&&(r.threadReply=Object.assign(Object.assign({},r.threadReply),{conversationType:r.conversationType,conversationId:r.conversationId})),r.threadRoot&&(r.threadRoot=Object.assign(Object.assign({},r.threadRoot),{conversationType:r.conversationType,conversationId:r.conversationId})),r.isInBlackList&&(r.sendingState=2,r.messageStatus.errorCode=Mt.V2NIM_ERROR_CODE_ACCOUNT_IN_BLOCK_LIST,delete r.isInBlackList),r.streamConfig){var i=fr(r.streamConfig,"isStream");if(i===!1)delete r.streamConfig;else if(i===!0&&r.streamConfig.status===void 0)delete r.streamConfig,t.aiConfig&&(t.aiConfig.aiStream=!0,t.aiConfig.aiStreamStatus=0);else if(typeof r.streamConfig.status=="number")return r.streamConfig={status:r.streamConfig.status},function(g){if(g.streamConfig&&g.aiConfig&&(g.aiConfig.aiStream=!0,g.aiConfig.aiStreamStatus=g.streamConfig.status),g.attachment&&g.streamConfig){var v=g.attachment;g.streamConfig.lastChunk={content:v.msg,messageTime:g.createTime,chunkTime:v.timestamp,type:v.type,index:v.index},g.aiConfig&&(g.aiConfig.aiStreamLastChunk=g.streamConfig.lastChunk),delete g.attachment}return g}(r)}return IQ(r,e)}function IQ(e,t){return e.messageType===5?function(r,i){var d,g,v,S,I,T=i.attachment||{};if(i.attachment&&"type"in i.attachment)return i;var _=void 0;if(!((d=T.data)===null||d===void 0)&&d.tinfo){var{id:N,data:A}=T,w=N>400?2:1,{tinfo:O}=lje(Object.assign({},A),w);_={},_=yg(O,["teamId"])}var R=Object.assign(Object.assign(Object.assign(Object.assign({raw:T.raw,type:uje(r,T.id)},_?{updatedTeamInfo:_}:{}),{targetIds:((g=T.data)===null||g===void 0?void 0:g.ids)||(!((v=T.data)===null||v===void 0)&&v.id?[T.data.id]:[])}),typeof((S=T.data)===null||S===void 0?void 0:S.attach)=="string"?{serverExtension:T.data.attach}:{}),typeof((I=T.data)===null||I===void 0?void 0:I.mute)=="number"?{chatBanned:T.data.mute!==0}:{});return Object.assign(Object.assign({},i),{attachment:R})}(t,e):e.messageType===100?function(r,i){var d,g,v;if(typeof((d=i.attachment)===null||d===void 0?void 0:d.raw)=="string"&&((v=(g=r.V2NIMMessageService)===null||g===void 0?void 0:g.customAttachmentParsers)===null||v===void 0?void 0:v.length)>0){var S=i.subType||0,I=r.V2NIMMessageService.customAttachmentParsers,T=i.attachment.raw;I.some(_=>{try{var N=_(S,T);if(h0(N))return N.raw=T,i.attachment=N,!0}catch(A){return r.logger.warn(`customAttachmentParser: subType ${S}, raw: ${T}. parse error with ${A}`),!1}return!1})}return i}(t,e):e}function Ak(e,t){return Object.assign(Object.assign({},t),{conversationId:e.V2NIMConversationIdUtil.messageConversationId(t)})}function NT(e,t){var{createTime:n,senderId:r,receiverId:i,conversationType:d}=t;return{conversationType:d,conversationId:e.V2NIMConversationIdUtil.messageConversationId({conversationType:d,senderId:r,receiverId:i}),senderId:t.senderId,receiverId:t.receiverId,messageServerId:t.messageServerId,createTime:n,messageClientId:t.messageClientId}}function cje(e,t){var n={7:1,8:2,12:3,13:1,14:2}[t.sysMsgType];return{postscript:t.postscript,revokeType:{7:1,8:2,12:3,13:4,14:5}[t.sysMsgType]||0,revokeAccountId:t.opeAccount||t.senderId,callbackExtension:t.callbackExtension,serverExtension:t.attach||"",messageRefer:{conversationType:n,conversationId:e.V2NIMConversationIdUtil.messageConversationId(Object.assign(Object.assign({},t),{conversationType:n,senderId:t.senderId,receiverId:t.receiverId})),senderId:t.senderId,receiverId:t.receiverId,messageServerId:t.messageServerId,createTime:t.deleteMsgCreatetime,messageClientId:t.messageClientId}}}function uje(e,t){var n={0:0,401:401,1:1,402:402,2:2,403:403,3:3,404:404,4:4,405:405,5:5,410:410,6:6,406:406,7:7,407:407,8:8,408:408,9:9,411:411,10:10,409:409};return n[t]===void 0&&e.logger.warn(`[V2NIMMessageService] undefined notification type: ${t}`),typeof n[t]=="number"?n[t]:-1}function y0(e,t){if(!t)return"";switch(e){case 100:return t.raw||"";case 1:case 3:case 2:case 6:return function(r){var i=r,{width:d,height:g,duration:v,path:S,file:I,raw:T,ctx:_,payload:N,bucketName:A,objectName:w,token:O,ext:R}=i,D=yg(i,["width","height","duration","path","file","raw","ctx","payload","bucketName","objectName","token","ext"]),j=typeof R=="string"&&R[0]==="."?R.slice(1):R;return JSON.stringify(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},D),R===void 0?{}:{ext:j}),d===void 0?{}:{w:d}),g===void 0?{}:{h:g}),v===void 0?{}:{dur:v}))}(t);case 4:return function(r){return JSON.stringify({lat:r.latitude,lng:r.longitude,title:r.address})}(t);case 12:return function(r){var i=yg(r,["raw"]);try{return JSON.stringify(Object.assign(Object.assign({},i),{durations:r.durations.map(d=>({accid:d.accountId,duration:d.duration}))}))}catch{return JSON.stringify(r)}}(t);default:return t.raw||JSON.stringify(t)}}function dje(e,t){var n;try{switch(n=JSON.parse(e),t){case 100:return{raw:e};case 4:return function(i,d){return{latitude:d.lat,longitude:d.lng,address:d.title,raw:i}}(e,n);case 2:case 3:case 1:case 6:return function(i,d){var{w:g,h:v,dur:S,ext:I}=d,T=yg(d,["w","h","dur","ext"]),_=typeof I=="string"&&I[0]!=="."?`.${I}`:I;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},T),I===void 0?{}:{ext:_}),g===void 0?{}:{width:g}),v===void 0?{}:{height:v}),S===void 0?{}:{duration:S}),{raw:i})}(e,n);case 12:return function(i,d){return Object.assign(Object.assign({},d),{durations:d.durations.map(g=>({accountId:g.accid,duration:g.duration})),raw:i})}(e,n);default:return typeof n=="object"&&n?Object.assign(Object.assign({},n),{raw:e}):{raw:e}}}catch{return typeof n=="object"&&n?Object.assign(Object.assign({},n),{raw:e}):{raw:e}}}class EQ{constructor(t){this.core=t}doSendFile(t,n){return wn(this,void 0,void 0,function*(){var r=t.attachment;try{var[i,d]=yield this.core.V2NIMStorageService._uploadFile({taskId:t.messageClientId,uploadParams:{fileObj:(r==null?void 0:r.file)||(r==null?void 0:r.path),sceneName:r==null?void 0:r.sceneName}},n,{fileType:t.messageType}),g=Object.assign(Object.assign({},r),{uploadState:1});d.w!==void 0&&(g.width=g.width||d.w),d.h!==void 0&&(g.height=g.height||d.h),d.dur!==void 0&&(g.duration=g.duration||d.dur),g.ext=g.ext&&g.ext.indexOf(".")===-1?`.${g.ext}`:g.ext;var v=["w","h","dur","ext","name"];for(var S in d)v.includes(S)||(g[S]=d[S]);var{raw:I,file:T,path:_}=g,N=yg(g,["raw","file","path"]);t.attachment=JSON.parse(JSON.stringify(N)),t.attachment&&(t.attachment.raw=y0(t.messageType,t.attachment))}catch(A){throw t.attachment&&(t.attachment.uploadState=2),A}})}cancelMessageAttachmentUpload(t){return wn(this,void 0,void 0,function*(){if(yr({messageClientId:{type:"string",allowEmpty:!1}},t,"",!0),![2,6,1,3].includes(t.messageType))throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:`cancelMessageAttachmentUpload: messageType ${t.messageType} incorrect`}});if(t.sendingState===2||t.sendingState===1)throw new pn({code:Mt.V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST,detail:{reason:"cancelMessageAttachmentUpload: message is already failed or succeeded"}});yield this.core.V2NIMStorageService._cancelUploadFile(t.messageClientId)})}}var Ka="V2NIMMessageService",pje={"30_1":"v2SendP2pMessage","31_2":"v2SendTeamMessage","30_31":"v2MessageP2pModify","31_37":"v2MessageTeamModify","32_38":"v2MessageSuperTeamModify","7_33":"v2MessageOnModified","4_27":"v2MessageSyncModified","4_28":"v2MessageSuperTeamSyncModified","4_5":"v2BatchMarkRead","4_12":"syncP2PMessagReceipts","30_11":"v2SendP2PMessageReceipt","31_28":"v2SendTeamMessageReceipts","32_2":"v2SendSuperTeamMessage","7_12":"onP2PMessageReceipts","8_31":"onTeamMessageReceipts","31_29":"v2GetTeamMessageReceipts","31_30":"v2GetTeamMessageReceiptDetail","7_2":"onMsg","8_3":"onMsg","7_101":"onMsg","8_102":"onMsg","21_3":"onMsg","21_102":"onMsg","4_4":"syncOfflineMsgs","4_9":"syncRoamingMsgs","4_17":"syncRoamingMsgs","30_13":"v2RevokeMessage","32_17":"v2RevokeSuperTeamMessage","7_14":"onRevokeMessage","7_15":"syncRevokeMessage","21_18":"onRevokeMessage","21_117":"onRevokeMessage","30_23":"v2DeleteMessage","30_24":"v2DeleteMessages","4_21":"syncOnDeleteMessages","7_123":"onDeleteMessage","7_124":"onDeleteMessages","29_17":"v2DownloadLocalAntiSpamVocabs"},Yr={conversationType:{id:0,converter:WM,retConverter:Wj},receiverId:1,senderId:2,fromClientType:4,fromDeviceId:5,fromNick:6,createTime:{id:7,retType:"number"},messageType:{id:8,retType:"number"},text:9,attachment:{id:10,converter:(e,t)=>y0(t.messageType,e),retConverter:(e,t)=>dje(e,Number(t[8]))},messageClientId:11,messageServerId:12,resend:{id:13,converter:ya,retType:"boolean"},userUpdateTime:{id:14,retType:"number"},serverExtension:15,pushPayload:{id:16,access:"pushConfig.pushPayload"},pushContent:{id:17,access:"pushConfig.pushContent"},forcePushAccountIds:{id:18,access:"pushConfig.forcePushAccountIds",def:e=>{if(e["pushConfig.forcePush"])return"#%@all@%#"},converter:(e,t)=>{if(t["pushConfig.forcePush"])return e?JSON.stringify(e):"#%@all@%#"},retConverter(e){if(e!=="#%@all@%#"&&e)try{return JSON.parse(e)}catch{return[]}}},forcePushContent:{id:19,access:"pushConfig.forcePushContent"},forcePush:{id:20,access:"pushConfig.forcePush",converter:ya,retType:"boolean"},antispamCustomMessageEnabled:{id:21,def:e=>fr(e,"antispamConfig.antispamCustomMessage")?1:void 0,retConverter:()=>{}},antispamCustomMessage:{id:22,access:"antispamConfig.antispamCustomMessage"},antispamBusinessId:{id:23,access:"antispamConfig.antispamBusinessId"},clientAntispamHit:{id:24,access:"clientAntispamHit",converter:ya,retType:"boolean"},antispamEnabled:{id:25,access:"antispamConfig.antispamEnabled",converter:ya,retType:"boolean"},needAck:{id:26,access:"messageConfig.readReceiptEnabled",converter:ya,retType:"boolean"},lastMessageUpdateEnabled:{id:28,access:"messageConfig.lastMessageUpdateEnabled",converter:ya,retType:"boolean"},threadReplySenderId:{id:29,access:"threadReply.senderId"},threadReplyReceiverId:{id:30,access:"threadReply.receiverId"},threadReplyTime:{id:31,access:"threadReply.createTime",retType:"number"},threadReplyServerId:{id:32,access:"threadReply.messageServerId"},threadReplyClientId:{id:33,access:"threadReply.messageClientId"},threadRootSenderId:{id:34,access:"threadRoot.senderId"},threadRootReceiverId:{id:35,access:"threadRoot.receiverId"},threadRootTime:{id:36,access:"threadRoot.createTime",retType:"number"},threadRootServerId:{id:37,access:"threadRoot.messageServerId"},threadRootClientId:{id:38,access:"threadRoot.messageClientId"},isDeleted:{id:39,converter:ya,retType:"boolean"},callbackExtension:40,subType:{id:41,retType:"number"},antispamCheating:{id:42,access:"antispamConfig.antispamCheating"},routeEnvironment:{id:43,access:"routeConfig.routeEnvironment"},antispamExtension:{id:44,access:"antispamConfig.antispamExtension"},antispamResult:45,__clientExt:{id:46,converter:TI,retConverter:v0},robotFunction:{id:47,access:"robotConfig.function"},robotTopic:{id:48,access:"robotConfig.topic"},robotCustomContent:{id:49,access:"robotConfig.customContent"},robotAccount:{id:50,access:"robotConfig.accountId"},_conversationOnlineSyncNotify:{id:51},_conversationOnlineSyncData:{id:52},aiAgentMsgDirection:{id:55,access:"aiConfig.aiStatus",retAccess:"aiConfig.aiStatus",retType:"number"},aiAgentAccount:{id:56,access:"aiConfig.accountId",retAccess:"aiConfig.accountId"},aiAgentContent:{id:57,access:"aiConfig.content",converter:TI,retConverter:CI},aiAgentMessages:{id:58,access:"aiConfig.messages",converter:TI,retConverter:CI},aiAgentPromptVariables:{id:59,access:"aiConfig.promptVariables",retConverter:CI},aiAgentModelConfigParams:{id:60,access:"aiConfig.modelConfigParams",converter:TI,retConverter:CI},errorCode:{id:61,access:"messageStatus.errorCode",converter:CI,retType:"number"},modifyTime:{id:62,retType:"number"},modifyAccountId:63,aiStream:{id:65,access:"aiConfig.aiStream",retAccess:"streamConfig.isStream",converter:ya,retConverter:oDe},aiRAGs:{id:66,access:"aiConfig.aiRAGs",retConverter:function(t){try{var n=JSON.parse(t);return n&&n.length>0?n.map(r=>(r.description=r.desc,delete r.desc,r)):[]}catch{return[]}}},aiStreamStatus:{id:67,access:"streamConfig.status",retType:"number"},historyEnabled:{id:100,access:"messageConfig.historyEnabled",converter:ya,retType:"boolean"},roamingEnabled:{id:101,access:"messageConfig.roamingEnabled",converter:ya,retType:"boolean"},onlineSyncEnabled:{id:102,access:"messageConfig.onlineSyncEnabled",converter:ya,retType:"boolean"},routeEnabled:{id:105,access:"routeConfig.routeEnabled",converter:ya,retType:"boolean"},isInBlackList:{id:106,access:"isInBlackList",converter:ya,retType:"boolean"},pushEnable:{id:107,access:"pushConfig.pushEnabled",converter:ya,retType:"boolean"},offlineEnabled:{id:108,access:"messageConfig.offlineEnabled",converter:ya,retType:"boolean"},unreadEnabled:{id:109,access:"messageConfig.unreadEnabled",converter:ya,retType:"boolean"},pushNickEnabled:{id:110,access:"pushConfig.pushNickEnabled",converter:ya,retType:"boolean"},msgAckSnapshot:{id:112,retType:"number"},receiverIds:{id:154,access:"targetConfig.receiverIds",converter:TI,retConverter:()=>{}},inclusive:{id:155,access:"targetConfig.inclusive",converter:e=>e?1:2,retConverter:()=>{}},newMemberVisible:{id:156,access:"targetConfig.newMemberVisible",converter:e=>e?1:2,retConverter:()=>{}}};ht(Yr);var Gv={conversationType:{id:1,access:"messageRefer.conversationType",retType:"number"},senderId:{id:2,access:"messageRefer.senderId"},receiverId:{id:3,access:"messageRefer.receiverId"},messageServerId:{id:4,access:"messageRefer.messageServerId"},messageClientId:{id:5,access:"messageRefer.messageClientId"},createTime:{id:6,access:"messageRefer.createTime",retType:"number"},deleteTime:{id:7,retType:"number"},serverExtension:8};ht(Gv);var m7={version:1,md5:2,nosurl:3,thesaurus:4},RT={createTime:{id:0,retType:"number"},sysMsgType:1,receiverId:2,senderId:3,postscript:4,attach:5,pushContent:8,pushPayload:9,messageClientId:10,messageServerId:11,deleteMsgCreatetime:{id:14,retType:"number"},opeAccount:16,env:21,callbackExtension:22},tg={receiverId:0,messageServerId:1,readCount:{id:100,retType:"number"},unreadCount:{id:101,retType:"number"},messageClientId:102,latestReadAccount:103},mje={v2BatchMarkRead:{sid:4,cid:5,service:Ka,hasPacketResponse:!1,params:[{type:"Byte",name:"sid"},{type:"Byte",name:"cid"},{type:"LongArray",name:"ids"}]},v2SendP2pMessage:{sid:30,cid:1,service:Ka,params:[{type:"Property",name:"tag",reflectMapper:Yr}],response:[{type:"Property",name:"data",reflectMapper:ht(Yr)}]},onMsg:{sid:7,cid:2,service:Ka,response:[{type:"Property",name:"msg",reflectMapper:ht(Yr)}]},syncOfflineMsgs:{sid:4,cid:4,service:Ka,response:[{type:"PropertyArray",name:"datas",reflectMapper:ht(Yr)}]},syncRoamingMsgs:{sid:4,cid:9,service:Ka,response:[{type:"PropertyArray",name:"datas",reflectMapper:ht(Yr)}]},v2SendP2PMessageReceipt:{sid:30,cid:11,service:Ka,params:[{type:"Property",name:"tag",reflectMapper:Yr}],response:[{type:"Property",name:"data",reflectMapper:ht(Yr)}]},v2RevokeMessage:{sid:30,cid:13,service:Ka,params:[{type:"Property",name:"tag",reflectMapper:RT}]},v2DeleteMessage:{sid:30,cid:23,service:Ka,params:[{type:"Property",name:"tag",reflectMapper:Gv}],response:[{type:"Long",name:"timetag"}]},v2DeleteMessages:{sid:30,cid:24,service:Ka,params:[{type:"PropertyArray",name:"tag",reflectMapper:Gv}],response:[{type:"Long",name:"timetag"}]},v2SendTeamMessage:{sid:31,cid:2,service:Ka,params:[{type:"Property",name:"tag",reflectMapper:Yr}],response:[{type:"Property",name:"data",reflectMapper:ht(Yr)}]},v2SendTeamMessageReceipts:{sid:31,cid:28,service:Ka,params:[{type:"PropertyArray",name:"tag",reflectMapper:tg}],response:[{type:"PropertyArray",name:"tag",reflectMapper:ht(tg)}]},v2SendSuperTeamMessage:{sid:32,cid:2,service:Ka,params:[{type:"Property",name:"tag",reflectMapper:Yr}],response:[{type:"Property",name:"data",reflectMapper:ht(Yr)}]},v2RevokeSuperTeamMessage:{sid:32,cid:17,service:Ka,params:[{type:"Property",name:"tag",reflectMapper:RT}]},syncP2PMessagReceipts:{sid:4,cid:12,service:Ka,response:[{type:"PropertyArray",name:"data",reflectMapper:ht(Yr)}]},onP2PMessageReceipts:{sid:7,cid:12,service:Ka,response:[{type:"Property",name:"data",reflectMapper:ht(Yr)}]},v2GetTeamMessageReceipts:{sid:31,cid:29,service:Ka,params:[{type:"PropertyArray",name:"tag",reflectMapper:tg}],response:[{type:"PropertyArray",name:"data",reflectMapper:ht(tg)}]},v2GetTeamMessageReceiptDetail:{sid:31,cid:30,service:Ka,params:[{type:"Property",name:"tag",reflectMapper:tg,select:["receiverId","messageServerId"]}],response:[{type:"Property",name:"data",reflectMapper:ht(tg)},{type:"StrArray",name:"readAccountList"},{type:"StrArray",name:"unreadAccountList"}]},onTeamMessageReceipts:{sid:8,cid:31,service:Ka,response:[{type:"PropertyArray",name:"data",reflectMapper:ht(tg)}]},onRevokeMessage:{sid:7,cid:14,service:Ka,response:[{type:"Property",name:"data",reflectMapper:ht(RT)}]},syncRevokeMessage:{sid:7,cid:15,service:Ka,response:[{type:"PropertyArray",name:"datas",reflectMapper:ht(RT)}]},syncOnDeleteMessages:{sid:4,cid:21,service:Ka,response:[{type:"PropertyArray",name:"datas",reflectMapper:ht(Gv)}]},onDeleteMessage:{sid:7,cid:123,service:Ka,response:[{type:"Property",name:"data",reflectMapper:ht(Gv)}]},onDeleteMessages:{sid:7,cid:124,service:Ka,response:[{type:"PropertyArray",name:"data",reflectMapper:ht(Gv)}]},v2DownloadLocalAntiSpamVocabs:{sid:29,cid:17,service:Ka,params:[{type:"Property",name:"tag",reflectMapper:m7}],response:[{type:"Property",name:"data",reflectMapper:ht(m7)}]},v2MessageP2pModify:{sid:30,cid:31,service:Ka,params:[{type:"Property",name:"tag",reflectMapper:Yr}],response:[{type:"Property",name:"data",reflectMapper:ht(Yr)}]},v2MessageTeamModify:{sid:31,cid:37,service:Ka,params:[{type:"Property",name:"tag",reflectMapper:Yr}],response:[{type:"Property",name:"data",reflectMapper:ht(Yr)}]},v2MessageSuperTeamModify:{sid:32,cid:38,service:Ka,params:[{type:"Property",name:"tag",reflectMapper:Yr}],response:[{type:"Property",name:"data",reflectMapper:ht(Yr)}]},v2MessageOnModified:{sid:7,cid:33,service:Ka,response:[{type:"Property",name:"data",reflectMapper:ht(Yr)}]},v2MessageSyncModified:{sid:4,cid:27,service:Ka,response:[{type:"PropertyArray",name:"datas",reflectMapper:ht(Yr)},{type:"Long",name:"time"}]},v2MessageSuperTeamSyncModified:{sid:4,cid:28,service:Ka,response:[{type:"PropertyArray",name:"datas",reflectMapper:ht(Yr)},{type:"Long",name:"time"}]}};function WM(e){return e===1?0:e===2?1:e===3?5:void 0}function Wj(e){var t=parseInt(e);return t===0?1:t===1?2:t===5?3:0}var lg={timestamp:{id:0,retType:"number"},type:{id:1,retType:"number"},receiverId:2,senderId:3,postscript:4,content:5,idServer:6,offlineEnabled:{id:7,converter:ya,retConverter:function(e,t){return t[6]!=="0"&&!!parseInt(e)},access:"notificationConfig.offlineEnabled"},pushContent:{id:8,access:"pushConfig.pushContent"},pushPayload:{id:9,access:"pushConfig.pushPayload"},deletedIdClient:10,deletedIdServer:11,antispamEnabled:{id:12,converter:ya,retType:"boolean",access:"antispamConfig.antispamEnabled"},antispamCustomNotification:{id:13,access:"antispamConfig.antispamCustomNotification"},deletedMsgCreateTime:14,deletedMsgFromNick:15,opeAccount:16,forcePushAccountIds:{id:18,access:"pushConfig.forcePushAccountIds",def:e=>{if(e.type===101&&e["pushConfig.forcePush"])return"#%@all@%#"},converter:(e,t)=>{if(t["pushConfig.forcePush"])return e?JSON.stringify(e):"#%@all@%#"},retConverter(e){if(e!=="#%@all@%#"&&e)try{return JSON.parse(e)}catch{return[]}}},forcePushContent:{id:19,access:"pushConfig.forcePushContent"},forcePush:{id:20,converter:ya,retType:"boolean",access:"pushConfig.forcePush"},routeEnvironment:{id:21,access:"routeConfig.routeEnvironment"},callbackExt:22,clientNotificationId:{id:23,access:"notificationConfig.clientNotificationId"},conversationOnlineSyncNotify:24,conversationOnlineSyncData:25,routeEnabled:{id:105,converter:ya,retType:"boolean",access:"routeConfig.routeEnabled"},pushEnabled:{id:107,converter:ya,retType:"boolean",access:"pushConfig.pushEnabled"},unreadEnabled:{id:109,converter:ya,retType:"boolean",access:"notificationConfig.unreadEnabled"},pushNickEnabled:{id:110,converter:ya,retType:"boolean",access:"pushConfig.pushNickEnabled"}},f7={id:1,senderId:2,timestamp:{id:4,retType:"number"},content:5};ht(lg),ht(f7),ht(f7),ht(lg),ht(lg),ht(lg);var fje={"4_5":"ysfBatchMarkRead","101_1":"ysfSendMessage","101_2":"ysfOnMsg","4_100":"ysfSyncOfflineMsgs","101_3":"ysfOnSysNotification","101_7":"ysfSendCustomNotification","4_101":"ysfSyncSysNotification"},gje={ysfBatchMarkRead:{sid:4,cid:5,service:"YSFService",hasPacketResponse:!1,params:[{type:"Byte",name:"sid"},{type:"Byte",name:"cid"},{type:"LongArray",name:"ids"}]},ysfSendMessage:{sid:101,cid:1,service:"YSFService",params:[{type:"Property",name:"tag",reflectMapper:Yr}],response:[{type:"Property",name:"data",reflectMapper:ht(Yr)}]},ysfOnMsg:{sid:101,cid:2,service:"YSFService",response:[{type:"Property",name:"data",reflectMapper:ht(Yr)}]},ysfSyncOfflineMsgs:{sid:4,cid:100,service:"YSFService",response:[{type:"PropertyArray",name:"datas",reflectMapper:ht(Yr)}]},ysfOnSysNotification:{sid:101,cid:3,service:"YSFService",response:[{type:"Property",name:"data",reflectMapper:ht(lg)}]},ysfSendCustomNotification:{sid:101,cid:7,service:"YSFService",params:[{type:"Property",name:"tag",reflectMapper:lg}]},ysfSyncSysNotification:{sid:4,cid:101,service:"YSFService",response:[{type:"PropertyArray",name:"datas",reflectMapper:ht(lg)}]}},hje={content:{type:"string",allowEmpty:!1},params:{type:"object",required:!1,rules:{notificationConfig:{type:"object",required:!1,rules:{offlineEnabled:{type:"boolean",required:!1},unreadEnabled:{type:"boolean",required:!1}}},pushConfig:{type:"object",required:!1,rules:{pushEnabled:{type:"boolean",required:!1},pushNickEnabled:{type:"boolean",required:!1},pushContent:{type:"string",required:!1},pushPayload:{type:"string",required:!1},forcePush:{type:"boolean",required:!1},forcePushContent:{type:"string",required:!1},forcePushAccountIds:{type:"array",required:!1,itemType:"string"}}},antispamConfig:{type:"object",required:!1,rules:{antispamEnabled:{type:"boolean",required:!1},antispamCustomNotification:{type:"string",required:!1}}},routeConfig:{type:"object",required:!1,rules:{routeEnabled:{type:"boolean",required:!1},routeEnvironment:{type:"string",required:!1}}}}}};class vje{constructor(t){this.core=t}generateNotificationTag(t,n,r={}){var i=this.core.V2NIMConversationIdUtil.parseConversationType(t),d=this.core.V2NIMConversationIdUtil.parseConversationTargetId(t),g=Date.now(),v={1:100,2:101,3:103};return Object.assign(Object.assign({},r),{notificationConfig:Object.assign({unreadEnabled:!0,offlineEnabled:!0},r==null?void 0:r.notificationConfig),pushConfig:Object.assign({pushEnabled:!0,pushNickEnabled:!0},r==null?void 0:r.pushConfig),antispamConfig:Object.assign({antispamEnabled:!0},r==null?void 0:r.antispamConfig),routeConfig:Object.assign({routeEnabled:!0},r==null?void 0:r.routeConfig),timestamp:g,type:v[i],receiverId:d,content:n})}}function CQ(e){var t=typeof e=="object"?e:void 0,n=typeof e=="string"?e:void 0;if(!t&&!n)throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"getFileOrPath::incorrect file and path"}});if(typeof n=="string"){if(n.indexOf("nim-external")===0){var r=document.getElementById(n);if(!(r&&r.files&&r.files[0]))throw new pn({code:Mt.V2NIM_ERROR_CODE_FILE_NOT_FOUND,detail:{reason:`getFileOrPath::file not exist: ${n}`}});t=r.files[0]}else if(nr.platform==="BROWSER")throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:`getFileOrPath::incorrect path: ${n}`}})}if(typeof t=="object"&&t.size===void 0)throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"getFileOrPath::file no size"}});return{file:t,path:n}}var g7={attachment:{type:"object",rules:{url:{type:"string",allowEmpty:!1}}},thumbSize:{type:"object",rules:{width:{type:"number",required:!1,min:0},height:{type:"number",required:!1,min:0}}}};class yje extends bg{constructor(t){super("V2NIMStorageUtil",t),this.core=t}imageThumbUrl(t,n){return t+`?imageView&thumbnail=${n}z${n}`}videoCoverUrl(t,n){return t+`?vframe&offset=${n}`}getImageThumbUrl(t,n){return wn(this,void 0,void 0,function*(){this.checkV2();var r=t;yr(g7,{attachment:r,thumbSize:n},"",!0),n.width=n.width||0,n.height=n.height||0,n.width===0&&n.height===0&&(n.width=150);var i=r.url;try{i=yield this.core.V2NIMStorageService.shortUrlToLong(r.url)}catch(d){this.core.logger.warn("shortUrlToLong error:",d)}return{url:this.core.cloudStorage.getThumbUrl(i,n)}})}getVideoCoverUrl(t,n){return wn(this,void 0,void 0,function*(){this.checkV2();var r=t;yr(g7,{attachment:r,thumbSize:n},"",!0),n.width=n.width||0,n.height=n.height||0,n.width===0&&n.height===0&&(n.width=150);var i=r.url;try{i=yield this.core.V2NIMStorageService.shortUrlToLong(r.url)}catch(d){this.core.logger.warn("shortUrlToLong error:",d)}return{url:this.core.cloudStorage.getVideoCoverUrl(i,n)}})}}var h7,v7,bje={file:{md5:"$(Etag)",size:"$(ObjectSize)"},image:{md5:"$(Etag)",size:"$(ObjectSize)",w:"$(ImageInfo.Width)",h:"$(ImageInfo.Height)",orientation:"$(ImageInfo.Orientation)"},audio:{md5:"$(Etag)",size:"$(ObjectSize)",dur:"$(AVinfo.Audio.Duration)"},video:{md5:"$(Etag)",size:"$(ObjectSize)",dur:"$(AVinfo.Video.Duration)",w:"$(AVinfo.Video.Width)",h:"$(AVinfo.Video.Height)"}},Sje={accessKeyId:"",secretAccessKey:"",sessionToken:"",region:"",maxRetries:0,bucket:"",objectName:"",token:"",shortUrl:""};function TQ(e="file"){var t=bje[e]||{};return JSON.stringify(t).replace(/"/gi,'\\"')}(function(e){e[e.nos=1]="nos",e[e.s3=2]="s3"})(h7||(h7={})),function(e){e[e.dontNeed=-1]="dontNeed",e[e.time=2]="time",e[e.urls=3]="urls"}(v7||(v7={}));var Ije={chunkUploadHost:"https://wannos-web.127.net",chunkUploadHostBackupList:["https://fileup.chatnos.com","https://oss.chatnos.com"],commonUploadHost:"https://fileup.chatnos.com",commonUploadHostBackupList:["https://oss.chatnos.com"],chunkMaxSize:4194304e4,commonMaxSize:104857600,uploadReplaceFormat:"https://{host}/{object}",cdn:{defaultCdnDomain:"nim-nosdn.netease.im",cdnDomain:"",bucket:"",objectNamePrefix:""},downloadUrl:"https://{bucket}-nosdn.netease.im/{object}",downloadHostList:["nos.netease.com"],nosCdnEnable:!0,isNeedToGetUploadPolicyFromServer:!0};function MQ(e,t){e=e||{},t=t||(()=>!0);var n={};for(var r in e)t(e[r])&&(n[r]=e[r]);return n}class Eje{constructor(t,n){this.nosCdnHostTimer=0,this.nosErrorCount=0,this.core=t,this.cloudStorage=n}get config(){return this.cloudStorage.config}reset(){this.nosErrorCount=0}getNosAccessToken(t){return wn(this,void 0,void 0,function*(){var n=fr(yield this.core.sendCmd("getNosAccessToken",{tag:t}),"content.nosAccessTokenTag.token"),r=t.url;return{token:n,url:r.indexOf("?")!==-1?r+"&token="+n:r+"?token="+n}})}deleteNosAccessToken(t){return wn(this,void 0,void 0,function*(){yield this.core.sendCmd("deleteNosAccessToken",{tag:t})})}nosUpload(t,n){var r,i,d,g,v,S,I,T;return wn(this,void 0,void 0,function*(){var _=fr(this.core,"config.cdn.bucket"),N={tag:t.nosScenes||_||"nim"};t.nosSurvivalTime&&(N.expireSec=t.nosSurvivalTime);var A,w=this.core.adapters.getFileUploadInformation(t);if(!n&&!w)try{A=yield this.core.sendCmd("getNosToken",{responseBody:TQ(t.type),nosToken:N})}catch(Z){throw this.core.logger.error("uploadFile:: getNosToken error",Z),Z instanceof pn?Z:new Nd({code:fr(this.core,"options.apiVersion")==="v2"?Mt.V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:400,detail:{reason:"getNosToken error",rawError:Z,curProvider:1}})}var O=this.config.uploadReplaceFormat.replace("{host}",this.config.cdn.cdnDomain||this.config.cdn.defaultCdnDomain).replace("{object}",w?(r=w.uploadInfo)===null||r===void 0?void 0:r.objectName:n?n==null?void 0:n.objectName:A.content.nosToken.objectName),R="";n&&n.shortUrl&&(R=n.shortUrl),!((g=(d=(i=w==null?void 0:w.uploadInfo)===null||i===void 0?void 0:i.payload)===null||d===void 0?void 0:d.mixStoreToken)===null||g===void 0)&&g.shortUrl&&(R=w.uploadInfo.payload.mixStoreToken.shortUrl);var D,j=R||O;try{var L=w?{token:(v=w==null?void 0:w.uploadInfo)===null||v===void 0?void 0:v.token,bucket:(S=w==null?void 0:w.uploadInfo)===null||S===void 0?void 0:S.bucketName,objectName:(I=w==null?void 0:w.uploadInfo)===null||I===void 0?void 0:I.objectName}:n||A.content.nosToken;this.core.logger.log("uploadFile:: uploadFile params",{nosToken:L,chunkUploadHost:this.config.chunkUploadHost,chunkUploadHostBackupList:this.config.chunkUploadHostBackupList,commonUploadHost:this.config.commonUploadHost,commonUploadHostBackupList:this.config.commonUploadHostBackupList,platform:nr.platform});var U=nr.platform==="BROWSER"?this.config.chunkUploadHost:`${this.config.commonUploadHost}/${L&&L.bucket}`;this.core.reporterHookCloudStorage.update({remote_addr:U,operation_type:n?2:0}),D=yield this.core.adapters.uploadFile(Object.assign(Object.assign(Object.assign({},t),{nosToken:L,chunkUploadHost:this.config.chunkUploadHost,chunkUploadHostBackupList:this.config.chunkUploadHostBackupList,commonUploadHost:this.config.commonUploadHost,commonUploadHostBackupList:this.config.commonUploadHostBackupList,maxSize:t.maxSize||this.config.chunkMaxSize}),n?{payload:{mixStoreToken:n}}:{}))}catch(Z){this.core.logger.error("uploadFile::nos uploadFile error:",Z);var $=fr(this.core,"options.apiVersion")==="v2";if(Z.code===Mt.V2NIM_ERROR_CODE_CANCELLED||Z.errCode===10499)throw new Nd({code:$?Mt.V2NIM_ERROR_CODE_CANCELLED:400,detail:{reason:fr(Z,"message")||"Request abort",rawError:Z,curProvider:1}});if($&&Z.errCode===Mt.V2NIM_ERROR_CODE_FILE_OPEN_FAILED)throw new pn({code:Mt.V2NIM_ERROR_CODE_FILE_OPEN_FAILED,detail:{reason:fr(Z,"message")||"Read file failed",rawError:Z,curProvider:1}});var{net_connect:F}=yield nr.net.getNetworkStatus();if(F===!1)throw new Nd({code:fr(this.core,"options.apiVersion")==="v2"?Mt.V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:400,detail:{reason:"No network",rawError:Z,curProvider:1}});if(n){if(this.nosErrorCount<=0){try{this.cloudStorage.mixStorage._addCircuitTimer()}catch(X){throw new Nd({code:fr(this.core,"options.apiVersion")==="v2"?Mt.V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:400,detail:{reason:"All upload attempts failed",rawError:X,curProvider:this.cloudStorage.mixStorage.curProvider,mixStorePolicy:this.cloudStorage.mixStorage.mixStorePolicy,file:t.file||t.filePath}})}return this.nosErrorCount=fr(this.cloudStorage,"mixStorePolicy.nosPolicy.uploadConfig.retryPolicy.retry"),this.cloudStorage._uploadFile(t)}return this.nosErrorCount--,this.nosUpload(t,n)}throw new Nd({code:fr(this.core,"options.apiVersion")==="v2"?Mt.V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:400,detail:{reason:"NOS attempts failed",rawError:Z,curProvider:1}})}var z=D==null?void 0:D.type,H=z&&z.indexOf("/")>-1?z.slice(0,z.indexOf("/")):"";H||(H=t.type||"");var V,K={image:"imageInfo",video:"vinfo",audio:"vinfo"};if(!K[H])return Object.assign({url:j},D);try{V=yield this.core.adapters.request(`${O}?${K[H]}`,{method:"GET",dataType:"json",timeout:5e3},{exception_service:3})}catch(Z){return this.core.logger.error("uploadFile:: fetch file info error",Z),Object.assign({url:j},D)}if(V){var{data:J}=V,te=K[H]==="imageInfo"?J:(T=J==null?void 0:J.GetVideoInfo)===null||T===void 0?void 0:T.VideoInfo;return MQ({url:j,name:D.name,size:D.size,ext:D.ext,w:te==null?void 0:te.Width,h:te==null?void 0:te.Height,orientation:te==null?void 0:te.Orientation,dur:te==null?void 0:te.Duration,audioCodec:te==null?void 0:te.AudioCodec,videoCodec:te==null?void 0:te.VideoCodec,container:te==null?void 0:te.Container},function(Z){return Z!==void 0})}return Object.assign({url:j},D)})}_getNosCdnHost(){var t;return wn(this,void 0,void 0,function*(){var n;try{n=yield this.core.sendCmd("getNosCdnHost")}catch(d){return void this.core.logger.error("getNosCdnHost::error",d)}if(n){var r=(t=n==null?void 0:n.content)===null||t===void 0?void 0:t.nosConfigTag,i=parseInt(r==null?void 0:r.expire);i!==0&&r.cdnDomain?i===-1?(this.config.cdn.bucket=r.bucket,this.config.cdn.cdnDomain=r.cdnDomain,this.config.cdn.objectNamePrefix=r.objectNamePrefix):(this.config.cdn.bucket=r.bucket,this.config.cdn.cdnDomain=r.cdnDomain,this.config.cdn.objectNamePrefix=r.objectNamePrefix,this.nosCdnHostTimer=this.core.timerManager.addTimer(()=>{this._getNosCdnHost()},1e3*i)):(this.config.cdn.bucket="",this.config.cdn.cdnDomain="",this.config.cdn.objectNamePrefix="")}})}}var Cje={"6_2":"getNosToken","6_22":"getOriginUrl","6_24":"getNosAccessToken","6_25":"deleteNosAccessToken","6_26":"getNosCdnHost","6_27":"getGrayscaleConfig","6_28":"getMixStorePolicy","6_29":"getMixStoreToken","6_30":"getFileAuthToken"},Hs={nosToken:{objectName:1,token:2,bucket:3,expireTime:4,expireSec:7,tag:8,shortUrl:9},mixStoreTokenReqTag:{provider:0,tokenCount:1,nosSurvivalTime:2,tag:3,returnBody:4,policyVersion:5},nosConfigTag:{bucket:1,cdnDomain:2,expire:3,objectNamePrefix:4},grayConfigTag:{config:0,ttl:1},mixStorePolicyTag:{providers:0,ttl:1,mixEnable:2,nosPolicy:3,s3Policy:4,policyVersion:5},mixStoreTokenResTag:{provider:0,accessKeyId:1,secretAccessKey:2,sessionToken:3,token:4,expireTime:5,bucket:6,objectName:7,fileExpireSec:8,tag:9,shortUrl:10,region:11},nosSafeUrlTag:{safeUrl:0,originUrl:1},mixStoreAuthTokenReqTag:{type:1,urls:2},mixStoreAuthTokenResTag:{type:1,tokens:2,token:3,ttl:4},nosAccessTokenTag:{token:0,url:1,userAgent:2,ext:3}},Tje={getNosToken:{sid:6,cid:2,service:"cloudStorage",params:[{type:"String",name:"responseBody"},{type:"Property",name:"nosToken",entity:"nosToken",reflectMapper:Hs.nosToken}],response:[{type:"Property",name:"nosToken",reflectMapper:ht(Hs.nosToken)}]},getOriginUrl:{sid:6,cid:22,service:"cloudStorage",params:[{type:"Property",name:"nosSafeUrlTag",reflectMapper:Hs.nosSafeUrlTag}],response:[{type:"Property",name:"nosSafeUrlTag",reflectMapper:ht(Hs.nosSafeUrlTag)}]},getNosCdnHost:{sid:6,cid:26,service:"cloudStorage",response:[{type:"Property",name:"nosConfigTag",reflectMapper:ht(Hs.nosConfigTag)}]},getGrayscaleConfig:{sid:6,cid:27,service:"cloudStorage",params:[{type:"Property",name:"config"}],response:[{type:"Property",name:"grayConfigTag",reflectMapper:ht(Hs.grayConfigTag)}]},getMixStorePolicy:{sid:6,cid:28,service:"cloudStorage",params:[{type:"LongArray",name:"supportType"}],response:[{type:"Property",name:"mixStorePolicyTag",reflectMapper:ht(Hs.mixStorePolicyTag)}]},getMixStoreToken:{sid:6,cid:29,service:"cloudStorage",params:[{type:"Property",name:"mixStoreTokenReqTag",reflectMapper:Hs.mixStoreTokenReqTag}],response:[{type:"Property",name:"mixStoreTokenResTag",reflectMapper:ht(Hs.mixStoreTokenResTag)}]},getFileAuthToken:{sid:6,cid:30,service:"cloudStorage",params:[{type:"Property",name:"mixStoreAuthTokenReqTag",reflectMapper:Hs.mixStoreAuthTokenReqTag}],response:[{type:"Property",name:"mixStoreAuthTokenResTag",reflectMapper:ht(Hs.mixStoreAuthTokenResTag)}]},getNosAccessToken:{sid:6,cid:24,service:"cloudStorage",params:[{type:"Property",name:"tag",reflectMapper:Hs.nosAccessTokenTag}],response:[{type:"Property",name:"tag",reflectMapper:ht(Hs.nosAccessTokenTag)}]},deleteNosAccessToken:{sid:6,cid:25,service:"cloudStorage",params:[{type:"Property",name:"tag",reflectMapper:Hs.nosAccessTokenTag}]}};class Mje{constructor(t,n){this.GRAYKEY="AllGrayscaleConfig",this.MIXSTOREKEY="AllMixStorePolicy",this.grayConfig={mixStoreEnable:!1,timeStamp:0,ttl:0},this.mixStorePolicy={providers:[],timeStamp:0,ttl:0,s3Policy:null,nosPolicy:null,policyVersion:void 0},this.curProvider=1,this.mixStoreErrorCount=10,this.circuitTimer=0,this.core=t,this.cloudStorage=n,this.logger=t.logger}reset(){this.grayConfig=null,this.mixStorePolicy={providers:[],timeStamp:0,ttl:0,s3Policy:null,nosPolicy:null,policyVersion:void 0},this.curProvider=1,this.mixStoreErrorCount=10}getGrayscaleConfig(t,n){var r;return wn(this,void 0,void 0,function*(){if(nr.localStorage)try{nr.localStorage.getItem&&nr.localStorage.getItem(this.GRAYKEY)&&(this.grayConfig=JSON.parse(nr.localStorage.getItem(this.GRAYKEY))[t])}catch(g){nr.localStorage.getItem(this.GRAYKEY)&&this.core.logger.error("uploadFile:: JSON.parse grayscaleConfig error ",g)}if(!this.grayConfig||this.grayConfig.timeStamp+1e3*this.grayConfig.ttl<n){var i=yield this.core.sendCmd("getGrayscaleConfig",{config:{}});if(i.content&&i.content.grayConfigTag){this.logger.log("uploadFile::getAppGrayConfigRequest success ");try{this.grayConfig=JSON.parse(i.content.grayConfigTag.config),this.grayConfig.ttl=JSON.parse(i.content.grayConfigTag.ttl)}catch(g){this.logger.error("getGrayscaleConfig error",g)}if(!this.grayConfig)return;var d=nr.localStorage.getItem(this.GRAYKEY)?JSON.parse(nr.localStorage.getItem(this.GRAYKEY)):{};this.grayConfig.timeStamp=new Date().getTime(),d[t]=this.grayConfig,nr.localStorage.setItem(this.GRAYKEY,JSON.stringify(d))}else this.logger.log("uploadFile:: result grayConfig:",i.content)}!((r=this.grayConfig)===null||r===void 0)&&r.mixStoreEnable&&(yield this._getMixStorePolicy(t))})}_getMixStorePolicy(t){return wn(this,void 0,void 0,function*(){var n=new Date().getTime();if(nr.localStorage)try{if(this.mixStorePolicy=JSON.parse(nr.localStorage.getItem(this.MIXSTOREKEY))[t],this.curProvider=parseInt(this.mixStorePolicy.providers[0]),this.mixStorePolicy.timeStamp&&this.mixStorePolicy.timeStamp+1e3*this.mixStorePolicy.ttl>n){var r=this.mixStorePolicy.timeStamp+1e3*this.mixStorePolicy.ttl-n;this.core.timerManager.addTimer(this._getMixStorePolicy.bind(this,t),r)}}catch(g){nr.localStorage.getItem(this.MIXSTOREKEY)&&JSON.parse(nr.localStorage.getItem(this.MIXSTOREKEY))[t]&&this.core.logger.error("uploadFile:: JSON.parse mixStorePolicy error ",g)}if(!this.mixStorePolicy||this.mixStorePolicy.timeStamp+1e3*this.mixStorePolicy.ttl<=n)try{var i=(yield this.core.sendCmd("getMixStorePolicy",{supportType:this.cloudStorage.aws.s3?[1,2]:[1]})).content.mixStorePolicyTag;this.mixStorePolicy={providers:[],timeStamp:0,ttl:0,s3Policy:null,nosPolicy:null,policyVersion:void 0},this.mixStorePolicy.policyVersion=i.policyVersion,this.mixStorePolicy.ttl=Number(i.ttl),this.mixStorePolicy.providers=i.providers.split(","),this.circuitTimer&&this.core.timerManager.deleteTimer(this.circuitTimer),this.curProvider=parseInt(this.mixStorePolicy.providers[0]),this.mixStorePolicy.nosPolicy=i.nosPolicy?JSON.parse(i.nosPolicy):null,this.mixStorePolicy.s3Policy=i.s3Policy?JSON.parse(i.s3Policy):null,this.mixStorePolicy.s3Policy===null?this.mixStorePolicy.providers=["1"]:this.mixStorePolicy.nosPolicy===null?this.mixStorePolicy.providers=["2"]:this.mixStorePolicy.providers=this.mixStorePolicy.s3Policy.priority<this.mixStorePolicy.nosPolicy.priority?["2","1"]:["1","2"],this.core.timerManager.addTimer(this._getMixStorePolicy.bind(this,t),1e3*this.mixStorePolicy.ttl);var d=nr.localStorage.getItem(this.MIXSTOREKEY)?JSON.parse(nr.localStorage.getItem(this.MIXSTOREKEY)):{};this.mixStorePolicy.timeStamp=new Date().getTime(),d[t]=this.mixStorePolicy,nr.localStorage.setItem(this.MIXSTOREKEY,JSON.stringify(d))}catch(g){if(this.logger.error("getMixStorePolicy error",g),this.mixStoreErrorCount===0)throw new Error("getMixStorePolicy all count error");this._getMixStorePolicy(t),this.mixStoreErrorCount--}this.mixStorePolicy.nosPolicy&&(this.cloudStorage.nos.nosErrorCount=this.mixStorePolicy.nosPolicy.uploadConfig.retryPolicy.retry)})}_addCircuitTimer(){var t=this.mixStorePolicy.providers,n=t[(t.indexOf(String(this.curProvider))+1)%t.length];if(!n)throw new Error("uploadFile nextProvider error");if(n===t[0])throw new Error("uploadFile all policy fail");if(this.logger.log(`uploadFile:: upload policy will change,now policy:${this.curProvider} nextProvider:${n}`),this.curProvider=parseInt(n),this.mixStorePolicy.nosPolicy&&this.mixStorePolicy.s3Policy){var r=this.mixStorePolicy[this.curProvider===1?"nosPolicy":"s3Policy"].uploadConfig.retryPolicy.circuit;if(!r||r===0)throw new Error("uploadFile circuit error");this.circuitTimer=this.core.timerManager.addTimer(()=>{this.logger.log(`uploadFile:: upload policy will change,now policy:${this.curProvider} nextProvider:${parseInt(this.mixStorePolicy.providers[0])}`),this.curProvider=parseInt(this.mixStorePolicy.providers[0]),this.core.timerManager.deleteTimer(this.circuitTimer)},1e3*r)}throw new Error("uploadFile will not retry again")}getFileAuthToken(t){return wn(this,void 0,void 0,function*(){return(yield this.core.sendCmd("getFileAuthToken",{mixStoreAuthTokenReqTag:t})).content.mixStoreAuthTokenResTag})}}var Ok=-1;class _je{constructor(t,n){this.s3=null,this.core=t,this.cloudStorage=n,this.logger=t.logger}get mixStorePolicy(){return this.cloudStorage.mixStorage.mixStorePolicy}s3Upload(t,n){return wn(this,void 0,void 0,function*(){var r;if(Ok+=1,t.file)r=t.file;else if(typeof t.fileInput=="string"){this.logger.warn("fileInput will abandon,Please use file or filepath");var i=document.getElementById(t.fileInput);if(!(i&&i.files&&i.files[0]))throw new Error("Can not get file from fileInput");r=i.files[0]}else{if(!(t.fileInput&&t.fileInput.files&&t.fileInput.files[0]))throw new Error(`Can not get file from fileInput ${t.fileInput}`);r=t.fileInput.files[0]}if(!this.mixStorePolicy.s3Policy)throw new Error("dont get s3 policy");var d={accessKeyId:n.accessKeyId,secretAccessKey:n.secretAccessKey,sessionToken:n.sessionToken,region:n.region,maxRetries:this.mixStorePolicy.s3Policy.uploadConfig.retryPolicy.retry},g=this.s3,v=decodeURIComponent(n.bucket),S=decodeURIComponent(n.objectName),I=r,T=`https://${v}.s3.amazonaws.com/${S}`,_={},N=this.mixStorePolicy.s3Policy;if(N&&N.uploadConfig&&Array.isArray(N.uploadConfig.uploadUrl)&&N.uploadConfig.uploadUrl.length>0){var A=N.uploadConfig.uploadUrl.length;Ok%=A,_.endpoint=N.uploadConfig.uploadUrl[Ok],_.s3ForcePathStyle=!0,T=`${_.endpoint}/${v}/${S}`}this.core.reporterHookCloudStorage.update({remote_addr:T,operation_type:1});var w=new g(_);w.config.update(d);var O={Bucket:v,Key:S,Body:I,Metadata:{token:n.token},ContentType:I.type||"application/octet-stream"};this.core.logger.log("uploadFile:: s3 upload params:",O);var R=w.upload(O);return R.on("httpUploadProgress",D=>{var j=parseFloat((D.loaded/D.total).toFixed(2));t.onUploadProgress&&t.onUploadProgress({total:D.total,loaded:D.loaded,percentage:j,percentageText:Math.round(100*j)+"%"})}),new Promise((D,j)=>{var L=new Date().getTime();R.send((U,$)=>wn(this,void 0,void 0,function*(){var F,z,H;if(U&&U.code==="RequestAbortedError")this.logger.error("uploadFile:","api::s3:upload file abort.",U),j(new Nd({code:fr(this.core,"options.apiVersion")==="v2"?Mt.V2NIM_ERROR_CODE_CANCELLED:400,detail:{reason:"S3RequestAbortedError",rawError:U,curProvider:2}}));else{if(!U){var V=this.mixStorePolicy.s3Policy.cdnSchema;V=(V=V.replace("{cdnDomain}",this.mixStorePolicy.s3Policy.dlcdn)).replace("{objectName}",$.Key);var K={size:I.size,name:I.name,url:n.shortUrl?n.shortUrl:V,ext:I.name.split(".")[1]||"unknown"},J=t.type||"",te={image:"imageInfo"};return D(te[J]?yield this.getS3FileInfo({url:V,infoSuffix:te[J],s3Result:K}):K)}this.logger.error("uploadFile:","api::s3:upload file failed.",U),this.core.reporter.reportTraceStart("exceptions",{user_id:this.core.options.account||((z=(F=this.core)===null||F===void 0?void 0:F.auth)===null||z===void 0?void 0:z.account),trace_id:(H=this.core.clientSocket.socket)===null||H===void 0?void 0:H.sessionId,start_time:L,action:1,exception_service:4}),this.core.reporter.reportTraceUpdateV2("exceptions",{code:typeof U.status=="number"?U.status:typeof U.code=="number"?U.code:0,description:U.message||`${U.code}`,operation_type:1,target:JSON.stringify({bucket:v,object:S})},{asyncParams:nr.net.getNetworkStatus()}),this.core.reporter.reportTraceEnd("exceptions",1);var{net_connect:Z}=yield nr.net.getNetworkStatus();if(Z===!1)return j(new Nd({code:fr(this.core,"options.apiVersion")==="v2"?Mt.V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:400,detail:{reason:"No network",rawError:U,curProvider:this.cloudStorage.mixStorage.curProvider}}));try{this.cloudStorage.mixStorage._addCircuitTimer()}catch(X){return j(new Nd({code:fr(this.core,"options.apiVersion")==="v2"?Mt.V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:400,detail:{reason:"All upload attempts failed",rawError:X,curProvider:this.cloudStorage.mixStorage.curProvider,mixStorePolicy:this.mixStorePolicy,file:t.file||t.filePath}}))}D(this.cloudStorage._uploadFile(t))}})),t.onUploadStart&&t.onUploadStart(R)})})}getS3FileInfo(t){var n;return wn(this,void 0,void 0,function*(){var r,{url:i,infoSuffix:d,s3Result:g}=t;try{r=yield this.core.adapters.request(`${i}?${d}`,{method:"GET",dataType:"text",timeout:5e3},{exception_service:3})}catch(I){return this.core.logger.error("uploadFile:: fetch file info error",I),g}if(r){var{data:v}=r,S=d==="imageInfo"?v:(n=v==null?void 0:v.GetVideoInfo)===null||n===void 0?void 0:n.VideoInfo;return MQ(Object.assign(Object.assign({},g),{w:S==null?void 0:S.Width,h:S==null?void 0:S.Height,orientation:S==null?void 0:S.Orientation,dur:S==null?void 0:S.Duration,audioCodec:S==null?void 0:S.AudioCodec,videoCodec:S==null?void 0:S.VideoCodec,container:S==null?void 0:S.Container}),function(I){return I!==void 0})}return this.core.logger.error("uploadFile:: fetch s3 file info no result",`${i}?${d}`),g})}}class xje{constructor(t,n={}){this.config={},this.uploadTaskMap={},this.name="cloudStorage",this.logger=t.logger,this.core=t,this.nos=new Eje(t,this),this.mixStorage=new Mje(t,this),this.aws=new _je(t,this),dg({cmdMap:Cje,cmdConfig:Tje}),this.setOptions(n),this.setListeners()}setOptions(t={}){var n=t.storageKeyPrefix||"NIMClient";this.mixStorage.GRAYKEY=n+"-AllGrayscaleConfig",this.mixStorage.MIXSTOREKEY=n+"-AllMixStorePolicy";var{s3:r}=t,i=yg(t,["s3"]),d=Object.assign({},Ije,this.config);if(i&&Object.prototype.hasOwnProperty.call(i,"cdn")){var g=Object.assign(Object.assign({},d.cdn),i.cdn);this.config=Object.assign({},d,i),this.config.cdn=g}else this.config=Object.assign({},d,i);r&&(this.aws.s3=r)}setListeners(){this.core.eventBus.on("kicked",this._clearUnCompleteTask.bind(this)),this.core.eventBus.on("disconnect",this._clearUnCompleteTask.bind(this)),this.core.eventBus.on("V2NIMLoginService/loginLifeCycleLogout",this._clearUnCompleteTask.bind(this)),this.core.eventBus.on("V2NIMLoginService/loginLifeCycleKicked",this._clearUnCompleteTask.bind(this))}_clearUnCompleteTask(){Object.keys(this.uploadTaskMap).forEach(t=>{var n=this.uploadTaskMap[t];n&&n.abort&&n.abort()}),this.uploadTaskMap={}}init(t=Date.now()){return wn(this,void 0,void 0,function*(){this.mixStorage.reset(),this.nos.reset(),this.config.isNeedToGetUploadPolicyFromServer&&(yield this.mixStorage.getGrayscaleConfig(this.core.options.appkey,t)),yield this.nos._getNosCdnHost()})}processCallback(t,n){var r=t.onUploadProgress,i=t.onUploadDone,d=t.onUploadStart;return{onUploadStart:typeof d=="function"?g=>{this.uploadTaskMap[n]=g;try{d(g)}catch(v){this.logger.error("CloudStorage::uploadFile:options.onUploadStart execute error",v)}}:g=>{this.uploadTaskMap[n]=g},onUploadProgress:typeof r=="function"?g=>{this.core.reporterHookCloudStorage.update({transferred_size:g.loaded,full_size:g.total});try{r(g)}catch(v){this.logger.error("CloudStorage::uploadFile:options.onUploadProgress execute error",v)}}:g=>{this.core.reporterHookCloudStorage.update({transferred_size:g.loaded,full_size:g.total})},onUploadDone:typeof i=="function"?g=>{this.core.reporterHookCloudStorage.end(0);try{i(g)}catch(v){this.logger.error("CloudStorage::uploadFile:options.onUploadDone execute error",v)}}:()=>{this.core.reporterHookCloudStorage.end(0)},taskKey:n}}uploadFile(t){return wn(this,void 0,void 0,function*(){if(yr({maxSize:{type:"number",required:!1},type:{type:"enum",values:["file","image","audio","video"]}},t),!t.fileInput&&!t.file&&!t.filePath)throw new Error("uploadFile needs target file object or a filePath");if(t.type&&t.type!=="file"){var n=fr(t,"file.type");if(n&&typeof n=="string"&&n.indexOf(t.type)===-1)throw new Error(`The meta type "${n}" does not match "${t.type}"`)}if(this.core.reporterHookCloudStorage.start(),t.file)this.core.reporterHookCloudStorage.update({full_size:t.file.size});else if(typeof t.fileInput=="string"){var r=document.getElementById(t.fileInput);r&&r.files&&r.files[0]&&this.core.reporterHookCloudStorage.update({full_size:r.files[0].size})}else t.fileInput&&t.fileInput.files&&t.fileInput.files[0]&&this.core.reporterHookCloudStorage.update({full_size:t.fileInput.files[0].size});var i=fl(),{onUploadStart:d,onUploadProgress:g,onUploadDone:v}=this.processCallback(t,i);t.onUploadStart=d,t.onUploadProgress=g,t.onUploadDone=v;var S=null;try{S=yield this._uploadFile(t),t.md5&&(S.md5=t.md5),delete this.uploadTaskMap[i]}catch(I){throw delete this.uploadTaskMap[i],this.core.reporterHookCloudStorage.end((I&&I.code)===Mt.V2NIM_ERROR_CODE_CANCELLED?3:1),I}return S&&(S.size=S.size===void 0?void 0:Number(S.size),S.w=S.w===void 0?void 0:Number(S.w),S.h=S.h===void 0?void 0:Number(S.h),S.dur=S.dur===void 0?void 0:Number(S.dur)),S.url=decodeURIComponent(S.url),t.onUploadDone({size:S.size,name:S.name,url:S.url,ext:S.name.split(".")[1]||"unknown"}),S})}_uploadFile(t){var n,r;return wn(this,void 0,void 0,function*(){if(!fr(this.mixStorage,"grayConfig.mixStoreEnable")||!fr(this.mixStorage,"mixStorePolicy.providers.length"))return this.logger.log("uploadFile:: uploadFile begin, use old nos"),this.nos.nosUpload(t);this.logger.log(`uploadFile::_uploadFile, grayConfig enable:${fr(this.mixStorage,"grayConfig.mixStoreEnable")} curProvider:${fr(this.mixStorage,"curProvider")}`);var i=this.core.adapters.getFileUploadInformation(t),d=!0;i?i.complete===!1&&this.mixStorage.curProvider===2&&(d=!1):d=!1,this.aws.s3||(this.mixStorage.curProvider=1);var g=Sje;if(!d)try{g=(yield this.core.sendCmd("getMixStoreToken",{mixStoreTokenReqTag:{provider:this.mixStorage.curProvider,tokenCount:1,tag:"qchat",nosSurvivalTime:t.nosSurvivalTime,returnBody:TQ(t.type),policyVersion:this.mixStorage.mixStorePolicy.policyVersion}})).content.mixStoreTokenResTag}catch(v){throw this.core.logger.error("uploadFile:: getMixStoreToken error",v),v instanceof pn?v:new Nd({code:fr(this.core,"options.apiVersion")==="v2"?Mt.V2NIM_ERROR_CODE_FILE_UPLOAD_FAILED:400,detail:{reason:"getMixStoreToken error",rawError:v,curProvider:this.mixStorage.curProvider,mixStorePolicy:this.mixStorage.mixStorePolicy}})}return d?this.nos.nosUpload(t,(r=(n=i==null?void 0:i.uploadInfo)===null||n===void 0?void 0:n.payload)===null||r===void 0?void 0:r.mixStoreToken):this.mixStorage.curProvider===2?this.aws.s3Upload(t,g):this.nos.nosUpload(t,g)})}getThumbUrl(t,n){var r,i,d,g,v;if(!new RegExp(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- ./?%&=]*)?/).test(t))return this.logger.error("illegal file url:"+t),t;var[S,I,T,_,N,A,w,O]=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(t);if(!((r=this.grayConfig)===null||r===void 0)&&r.mixStoreEnable){var R=this._getUrlType(t);if(R===2&&this.mixStorePolicy.s3Policy&&fr(this.mixStorePolicy,"s3Policy.thumbPolicy.imagethumb"))return((d=(i=this.mixStorePolicy.s3Policy)===null||i===void 0?void 0:i.thumbPolicy)===null||d===void 0?void 0:d.imagethumb).replace("{cdnDomain}",this.mixStorePolicy.s3Policy.dlcdn).replace("{objectName}",A).replace("{x}",n.width.toString()).replace("{y}",n.height.toString());if(R===1&&this.mixStorePolicy.nosPolicy&&fr(this.mixStorePolicy,"nosPolicy.thumbPolicy.imagethumb"))return((v=(g=this.mixStorePolicy.nosPolicy)===null||g===void 0?void 0:g.thumbPolicy)===null||v===void 0?void 0:v.imagethumb).replace("{cdnDomain}",this.mixStorePolicy.nosPolicy.dlcdn).replace("{objectName}",A).replace("{x}",n.width.toString()).replace("{y}",n.height.toString())}return t.includes("?")?t+`&imageView&thumbnail=${n.width}x${n.height}`:t+`?imageView&thumbnail=${n.width}x${n.height}`}getVideoCoverUrl(t,n){var r,i,d,g,v;if(!new RegExp(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- ./?%&=]*)?/).test(t))return this.logger.error("illegal file url:"+t),t;var[S,I,T,_,N,A,w,O]=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(t);if(!((r=this.grayConfig)===null||r===void 0)&&r.mixStoreEnable){var R=this._getUrlType(t);if(R===2&&this.mixStorePolicy.s3Policy&&fr(this.mixStorePolicy,"s3Policy.thumbPolicy.vframe"))return((d=(i=this.mixStorePolicy.s3Policy)===null||i===void 0?void 0:i.thumbPolicy)===null||d===void 0?void 0:d.vframe).replace("{cdnDomain}",this.mixStorePolicy.s3Policy.dlcdn).replace("{objectName}",A).replace("{x}",n.width.toString()).replace("{y}",n.height.toString()).replace("{offset}","0").replace("{type}","png");if(R===1&&this.mixStorePolicy.nosPolicy&&fr(this.mixStorePolicy,"nosPolicy.thumbPolicy.vframe"))return((v=(g=this.mixStorePolicy.nosPolicy)===null||g===void 0?void 0:g.thumbPolicy)===null||v===void 0?void 0:v.vframe).replace("{cdnDomain}",this.mixStorePolicy.nosPolicy.dlcdn).replace("{objectName}",A).replace("{x}",n.width.toString()).replace("{y}",n.height.toString()).replace("{offset}","0").replace("{type}","png")}return t.includes("?")?t+`&vframe&offset=0&resize=${n.width}x${n.height}&type=png`:t+`?vframe&offset=0&resize=${n.width}x${n.height}&type=png`}getPrivateUrl(t){var n;if(!new RegExp(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- ./?%&=]*)?/).test(t))return this.logger.error("illegal file url:"+t),"";var[r,i,d,g,v,S,I,T]=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(t);if(!((n=this.grayConfig)===null||n===void 0)&&n.mixStoreEnable){var _=this._getUrlType(t);return _===2&&this.mixStorePolicy.s3Policy&&(t=this.mixStorePolicy.s3Policy.cdnSchema.replace("{cdnDomain}",this.mixStorePolicy.s3Policy.dlcdn).replace("{objectName}",S)),_===1&&this.mixStorePolicy.nosPolicy&&(t=this.mixStorePolicy.nosPolicy.cdnSchema.replace("{cdnDomain}",this.mixStorePolicy.nosPolicy.dlcdn).replace("{objectName}",S)),t}var{downloadUrl:N,downloadHostList:A,nosCdnEnable:w}=this.config,O=this.config.cdn.cdnDomain,R=this.config.cdn.objectNamePrefix?decodeURIComponent(this.config.cdn.objectNamePrefix):"",D=decodeURIComponent(S),j=D.indexOf(R);if(O&&j>-1&&w)return`${i}${O}/${D.slice(j)}`;if(A.includes(g)&&S.includes("/")){var L=S.indexOf("/"),U=S.substring(0,L),$=S.substring(L+1);return N.replace("{bucket}",U).replace("{object}",$)}var F=A.filter(H=>typeof g=="string"&&g.includes(H))[0],z=F?g.replace(F,"").replace(/\W/g,""):null;return z?N.replace("{bucket}",z).replace("{object}",S):t}getOriginUrl(t){return wn(this,void 0,void 0,function*(){return typeof t=="string"&&t.includes("_im_url=1")?(yield this.core.sendCmd("getOriginUrl",{nosSafeUrlTag:{safeUrl:t}})).content.nosSafeUrlTag.originUrl:t})}getFileToken(t){return wn(this,void 0,void 0,function*(){yr({type:{type:"number",min:2,max:3},urls:{type:"array",required:!1,itemType:"string"}},t);var n=this.mixStorePolicy.nosPolicy?this.mixStorePolicy.nosPolicy.authPolicy.policyType:null,r=this.mixStorePolicy.s3Policy?this.mixStorePolicy.s3Policy.authPolicy.policyType:null;if(n===String(-1)&&r===String(-1))throw this.logger.error("don't need token"),new Error("don't need token");if(t.type===2){if(n&&n.indexOf(String(2))>=0||r&&r.indexOf(String(2))>0)return this.mixStorage.getFileAuthToken(t);throw this.logger.error("don't support time token "),new Error("don't support type time token ")}if(!t.urls||!t.urls.length)throw this.logger.error("urls is required when urls token"),new Error("urls is required when urls token");var i=[],d=[];if(t.urls.forEach(g=>{var v=this._getUrlType(g);v===1&&d.push(g),v===2&&i.push(g)}),(!r||i.length!==0&&r.indexOf(String(3))<0)&&(this.logger.warn("s3 url don't support url token"),i=[]),(!n||d.length!==0&&n.indexOf(String(3))<0)&&(this.logger.warn("nos url don't support url token"),d=[]),i.length===0&&d.length===0)throw this.logger.error("not support urls"),new Error("not support urls");if(i.length===0||d.length===0)return t.urls=JSON.stringify(t.urls),this.mixStorage.getFileAuthToken(t)})}_getUrlType(t){return this.mixStorePolicy.nosPolicy&&this.mixStorePolicy.nosPolicy.dlcdns.some(n=>t.indexOf(n)>=0)?1:this.mixStorePolicy.s3Policy&&this.mixStorePolicy.s3Policy.dlcdns.some(n=>t.indexOf(n)>=0)?2:null}getNosAccessToken(t){return yr({url:{type:"string",allowEmpty:!1}},t),this.nos.getNosAccessToken(t)}deleteNosAccessToken(t){return yr({token:{type:"string",allowEmpty:!1}},t),this.nos.deleteNosAccessToken(t)}get grayConfig(){return this.mixStorage.grayConfig}get mixStorePolicy(){return this.mixStorage.mixStorePolicy}process(t){var n=fr(t,"error.detail.ignore");return t.error&&!n?Promise.reject(t.error):Promise.resolve(t)}}class wje extends bg{constructor(t){super("V2NIMStorageService",t),this.sceneMap={nim_default_profile_icon:{sceneName:"nim_default_profile_icon",expireTime:0},nim_default_im:{sceneName:"nim_default_im",expireTime:0},nim_system_nos_scene:{sceneName:"nim_system_nos_scene",expireTime:0},nim_security:{sceneName:"nim_security",expireTime:0}},this.uploadingMessageInfo={},this.core=t,this.core._registerDep(xje,"cloudStorage"),this.core._registerDep(yje,"V2NIMStorageUtil")}addCustomStorageScene(t,n){return this.checkV2(),yr({sceneName:{type:"string",allowEmpty:!1},expireTime:{type:"number",min:0}},{sceneName:t,expireTime:n},"",!0),this.sceneMap[t]={sceneName:t,expireTime:n},{sceneName:t,expireTime:n}}getStorageSceneList(){return this.checkV2(),Object.values(this.sceneMap)}getStorageScene(t){return t&&this.sceneMap[t]||this.sceneMap.nim_default_im}hasStorageScene(t){return this.sceneMap[t]!==void 0}createUploadFileTask(t){if(this.checkV2(),typeof t.fileObj=="string"&&t.fileObj.indexOf("nim-external")===0){var n=document.getElementById(t.fileObj);n&&n.files&&n.files[0]&&(t.fileObj=n.files[0])}return{taskId:fl(),uploadParams:t}}uploadFile(t,n){return wn(this,void 0,void 0,function*(){return this.checkV2(),yr({taskId:{type:"string",allowEmpty:!1}},t,"fileTask",!0),(yield this._uploadFile(t,n))[0]})}uploadFileWithMetaInfo(t,n){return wn(this,void 0,void 0,function*(){return this.checkV2(),yr({taskId:{type:"string",allowEmpty:!1}},t,"fileTask",!0),function(i){var{url:d,name:g,size:v,ext:S,md5:I,h:T,w:_,orientation:N,dur:A,audioCodec:w,videoCodec:O,container:R}=i;return JSON.parse(JSON.stringify({url:d,name:g,size:v,ext:S,md5:I,height:T,width:_,orientation:N,duration:A,audioCodec:w,videoCodec:O,container:R}))}((yield this._uploadFile(t,n))[1])})}_uploadFile(t,n,r){var i;return wn(this,void 0,void 0,function*(){if(!this.core.cloudStorage||!this.core.cloudStorage.uploadFile)throw new Error('Service "cloudStorage" does not exist');var{uploadParams:d,taskId:g}=t,{file:v,path:S}=CQ(d.fileObj),{fileType:I}=r||{};if(this.uploadingMessageInfo[g])throw new pn({code:Mt.V2NIM_ERROR_CODE_RESOURCE_ALREADY_EXIST,detail:{reason:"V2NIMStorageService.uploadFile: repeat upload"}});try{var T={};v?T.file=v:S&&((S==null?void 0:S.indexOf("nim-external"))===0?T.fileInput=S:T.filePath=S);var _=this.getStorageScene(d.sceneName);if(T.nosScenes=_.sceneName,T.nosSurvivalTime=_.expireTime,T.type=I===1?"image":I===2?"audio":I===3?"video":"file",T.file&&this.core.pluginMap["browser-md5-file"]){var N=yield this.getFileMd5(this.core.pluginMap["browser-md5-file"],g,T.file);T.md5=N}T.onUploadProgress=w=>{typeof n=="function"&&n(Math.round(100*w.percentage))},T.onUploadStart=w=>{var O;if(!((O=this.uploadingMessageInfo[g])===null||O===void 0)&&O.abort)return w.abort(),void delete this.uploadingMessageInfo[g];this.uploadingMessageInfo[g]={abort:!1,task:w}},this.uploadingMessageInfo[g]={abort:!1};var A=yield this.core.cloudStorage.uploadFile(T);if(!((i=this.uploadingMessageInfo[g])===null||i===void 0)&&i.abort)throw new pn({code:Mt.V2NIM_ERROR_CODE_CANCELLED,detail:{reason:"upload file aborted"}});return delete this.uploadingMessageInfo[g],[A.url,A]}catch(w){throw delete this.uploadingMessageInfo[g],this.core.logger.error("sendFile:: upload File error or abort.",w),w}})}cancelUploadFile(t){return wn(this,void 0,void 0,function*(){this.checkV2(),yield this._cancelUploadFile(t.taskId)})}_cancelUploadFile(t){return wn(this,void 0,void 0,function*(){this.checkV2();var n=this.uploadingMessageInfo[t];if(n!=null&&n.task)try{this.logger.log("V2NIMStorageService.cancelUploadFile: uploadInfo task exist"),yield n.task.abort(),delete this.uploadingMessageInfo[t]}catch(r){delete this.uploadingMessageInfo[t],this.core.logger.error("cancelMessageAttachmentUpload::abort error.",r)}else{if(!n)throw new pn({code:Mt.V2NIM_ERROR_CODE_RESOURCE_NOT_EXIST,detail:{reason:"V2NIMStorageService.cancelUploadFile: uploadInfo not exist"}});this.logger.log("V2NIMStorageService.cancelUploadFile: uploadInfo task not exist"),n.abort=!0}})}getFileMd5(t,n,r){return wn(this,void 0,void 0,function*(){return new Promise((i,d)=>{var g,v=new t;!((g=this.uploadingMessageInfo[n])===null||g===void 0)&&g.abort?d(new pn({code:Mt.V2NIM_ERROR_CODE_CANCELLED,detail:{reason:"upload file aborted"}})):this.uploadingMessageInfo[n]={abort:!1,task:v};try{v.md5(r,(S,I)=>{S==="aborted"?d(new pn({code:Mt.V2NIM_ERROR_CODE_CANCELLED,detail:{reason:S}})):S?d(new pn({code:Mt.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:"md5 calculate error in callback",rawError:S}})):i(I)})}catch(S){d(new pn({code:Mt.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:"md5 calculate error",rawError:S}}))}})})}shortUrlToLong(t){return wn(this,void 0,void 0,function*(){return this.checkV2(),this.core.cloudStorage.getOriginUrl(t)})}getImageThumbUrl(t,n){return wn(this,void 0,void 0,function*(){return this.core.V2NIMStorageUtil.getImageThumbUrl(t,n)})}getVideoCoverUrl(t,n){return wn(this,void 0,void 0,function*(){return this.core.V2NIMStorageUtil.getVideoCoverUrl(t,n)})}}class _Q extends bg{constructor(t){super("V2NIMMessageCreator",t),this.name="V2NIMMessageCreator",this.defaultNosSceneName="nim_default_im",this.core=t}createMessage(t,n){return Object.assign(Object.assign(Object.assign({messageClientId:fl(),messageType:t,createTime:this.core.timeOrigin.getNTPTime(),sendingState:0,messageStatus:{errorCode:200},isSelf:!0},n),n.attachment?{attachment:Object.assign(Object.assign({},n.attachment),{raw:y0(t,n.attachment)})}:{}),{senderId:"",receiverId:"",conversationType:0,conversationId:"",messageServerId:"",messageConfig:Object.assign({unreadEnabled:!0,roamingEnabled:!0,readReceiptEnabled:!1,lastMessageUpdateEnabled:!0,historyEnabled:!0,onlineSyncEnabled:!0,offlineEnabled:!0},n.messageConfig),pushConfig:Object.assign({pushEnabled:!0,pushNickEnabled:!0,forcePush:!1},n.pushConfig),routeConfig:Object.assign({routeEnabled:!0},n.routeConfig),antispamConfig:Object.assign({antispamEnabled:!0},n.antispamConfig)})}createTextMessage(t){return this.checkV2(),yr({text:{type:"string",allowEmpty:!1}},{text:t},"",!0),this.createMessage(0,{text:t})}createImageMessage(t,n,r,i,d){this.checkV2(),yr(nje,{name:n,sceneName:r,width:i,height:d},"",!0);var g=this.createGenericFileMessageAttachment(t,n,r,void 0,i,d,"jpeg");return this.createMessage(1,{attachment:g,attachmentUploadState:0})}createAudioMessage(t,n,r,i){this.checkV2(),yr(SQ,{name:n,sceneName:r,duration:i},"",!0);var d=this.createGenericFileMessageAttachment(t,n,r,i,void 0,void 0,"aac");return this.createMessage(2,{attachment:d,attachmentUploadState:0})}createVideoMessage(t,n,r,i,d,g){this.checkV2(),yr(tje,{name:n,sceneName:r,duration:i,width:d,height:g},"",!0);var v=this.createGenericFileMessageAttachment(t,n,r,i,d,g,"mp4");return this.createMessage(3,{attachment:v,attachmentUploadState:0})}createFileMessage(t,n,r){this.checkV2(),yr(Kj,{name:n,sceneName:r},"",!0);var i=this.createGenericFileMessageAttachment(t,n,r,void 0,void 0,void 0,"txt");return this.createMessage(6,{attachment:i,attachmentUploadState:0})}createGenericFileMessageAttachment(t,n,r,i,d,g,v){if(r=r||this.defaultNosSceneName,!this.core.V2NIMStorageService.hasStorageScene)throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"V2NIMStorageService not exist"}});if(!this.core.V2NIMStorageService.hasStorageScene(r))throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"sceneName: "+r+" has not been added"}});var{file:S,path:I}=CQ(t),T=Object.assign(Object.assign(Object.assign({name:n,uploadState:0,sceneName:r||this.defaultNosSceneName},i?{duration:i}:{}),d?{width:d}:{}),g?{height:g}:{});if(S){var _=S.name.lastIndexOf("."),N=_===-1?S.name:S.name.substring(0,_);T.name=T.name||N,T.size=S.size,T.ext=`.${MT(S.name)||MT(n||"")||v}`}else if(I){var A=I.lastIndexOf("/"),w=I.lastIndexOf("."),O=w===-1?I.substring(A+1):I.substring(A+1,w);T.name=T.name||O,T.ext=`.${MT(I)||MT(n||"")||v}`}return T=JSON.parse(JSON.stringify(T)),I?T.path=I:S&&(T.file=S),T}createLocationMessage(t,n,r){return this.checkV2(),yr({latitude:{type:"number",allowEmpty:!1},longitude:{type:"number",allowEmpty:!1},address:{type:"string",allowEmpty:!1}},{latitude:t,longitude:n,address:r},"",!0),this.createMessage(4,{attachment:{latitude:t,longitude:n,address:r}})}createCustomMessage(t,n){return this.checkV2(),yr({text:{type:"string"}},{text:t},"",!0),yr({rawAttachment:{type:"string"}},{rawAttachment:n},"",!0),this.createMessage(100,{text:t,attachment:{raw:n}})}createCustomMessageWithAttachment(t,n){return this.checkV2(),yr({raw:{type:"string"}},t,"attachment",!0),yr({subType:{type:"number",min:0,required:!1}},{subType:n},"",!0),this.createMessage(100,n?{attachment:t,subType:n}:{attachment:t})}createCallMessage(t,n,r,i,d){return this.checkV2(),yr({type:{type:"number",allowEmpty:!1}},{type:t},"",!0),yr({channelId:{type:"string",allowEmpty:!1}},{channelId:n},"",!0),yr({status:{type:"number",allowEmpty:!1}},{status:r},"",!0),yr({durations:{type:"array",allowEmpty:!1}},{durations:i},"",!0),this.createMessage(12,{text:d||"",attachment:{type:t,channelId:n,durations:i,status:r}})}createForwardMessage(t){if(this.checkV2(),!t||[11,5,7,10].includes(t.messageType))return null;var n={messageClientId:fl(),messageType:t.messageType};return t.text&&(n.text=t.text),t.attachment&&(n.attachment=t.attachment),t.attachment&&"uploadState"in t.attachment&&(n.attachmentUploadState=t.attachment.uploadState),this.createMessage(t.messageType,n)}createTipsMessage(t){return this.checkV2(),yr({text:{type:"string",allowEmpty:!1}},{text:t},"",!0),this.createMessage(10,{text:t})}}class xQ{constructor(){this.name="V2NIMMessageAttachmentCreator"}createLocationMessageAttachment(t,n,r){return{latitude:typeof t=="number"?t:0,longitude:typeof n=="number"?n:0,address:typeof r=="string"?r:""}}createCustomMessageAttachment(t){return{raw:typeof t=="string"?t:""}}}class wQ{constructor(t){this.config={enable:!1},this.name="V2NIMClientAntispamUtil",this.core=t}setOptions(t){this.config=Object.assign(this.config,t)}reset(t){t==="destroy"&&(this.vocabInfo=void 0)}downloadLocalAntiSpamVocabs(){return wn(this,void 0,void 0,function*(){if(this.config.enable&&!this.vocabInfo)try{var t=yield this.core.sendCmd("v2DownloadLocalAntiSpamVocabs",{tag:{version:0,md5:""}});this.vocabInfo=Object.assign(Object.assign({},t.content.data),{thesaurus:JSON.parse(t.content.data.thesaurus).thesaurus})}catch(n){this.core.logger.warn("V2NIMLocalAntispamUtil::downloadLocalAntiSpamVocabs error",n)}})}checkTextAntispam(t,n="**"){if(!this.config.enable)return{operateType:0,replacedText:t};if(yr({text:{type:"string",required:!0,allowEmpty:!1},replace:{type:"string"}},{text:t,replace:n},"",!0),!this.vocabInfo)return{operateType:0,replacedText:t};for(var r=t,i=0;i<this.vocabInfo.thesaurus.length;i++){var d=this.filterContent(r,this.vocabInfo.thesaurus[i],n);if(r=d.replacedText,d.operateType===2||d.operateType===3)return d}return{operateType:r===t?0:1,replacedText:r}}filterContent(t,n,r){for(var i=0;i<n.keys.length;i++){var d=n.keys[i],g=d.match||n.match,v=d.operate||n.operate,S=void 0;try{S=this.matchContent(t,d.key,g,v,r)}catch{}if(S&&(t=S.replacedText,S.operateType===2||S.operateType===3))return S}return{operateType:1,replacedText:t}}matchContent(t,n,r,i,d){var g=!1,v=null;if(r===1){if(t.indexOf(n)>=0){g=!0;var S=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");v=new RegExp(S,"g")}}else r===2&&(v=new RegExp(n,"g")).test(t)&&(g=!0);if(g&&v)switch(i){case 1:return{operateType:1,replacedText:t.replace(v,d)};case 2:return{operateType:2,replacedText:t};case 3:return{operateType:3,replacedText:t}}return{operateType:0,replacedText:t}}}class Nje extends bg{constructor(t){super("YSFService",t),this.core._registerDep(uQ,"V2NIMConversationIdUtil"),this.core._registerDep(_Q,"V2NIMMessageCreator"),this.core._registerDep(xQ,"V2NIMMessageAttachmentCreator"),this.core._registerDep(wQ,"V2NIMClientAntispamUtil"),this.core._registerDep(wje,"V2NIMStorageService"),this.sendUtil=new NQ(this.core,this),this.fileUtil=new EQ(this.core),this.model=new dQ,this.notificationUtil=new vje(this.core),dg({cmdMap:fje,cmdConfig:gje})}emit(t,...n){var r,i=`${this.name}::emit ${t.toString()}`;if(t==="onSendMessage"){var d=n[0];this.logger.log(`${i}`,`${d.messageClientId}/${d.messageServerId};createTime:${d.createTime};`,`sendingState:${d.sendingState};attachmentUploadState:${d.attachmentUploadState||0};messageStatus:${(r=d.messageStatus)===null||r===void 0?void 0:r.errorCode}`)}else if(t==="onReceiveMessages"){var g=n[0];this.logger.log(`${i}`,g.map(S=>`${S.messageClientId}/${S.messageServerId};createTime:${S.createTime}`))}else if(t==="onReceiveCustomNotifications"){var v=n[0];this.logger.log(`${i}`,v.map(S=>`sender:${S.senderId};receiver:${S.receiverId};ctype:${S.conversationType};time:${S.timestamp}`))}else this.logger.log(`${i}`,...n);return super.emit(t,...n)}sendMessage(t,n,r={},i){return wn(this,void 0,void 0,function*(){yr({message:{type:"object"}},{message:t},"",!0),t.messageClientId=t.messageClientId||fl(),yr(yQ,{conversationId:n,message:t,params:r},"",!0),yy(this.core.account,n);var d=this.core.timeOrigin.getTimeNode(),{messageBeforeSend:g,clientAntispamResult:v,hiddenParams:S}=this.sendUtil.prepareMessage(t,n,r),I=yield this.sendUtil.doSendMessage({apiCallingTimeNode:d,messageBeforeSend:g,clientAntispamResult:v,hiddenParams:S,progress:i});return I.message.senderId===I.message.receiverId&&this.markMsgsAck([I.message]),I})}sendCustomNotification(t,n,r){return wn(this,void 0,void 0,function*(){this.checkV2(),yy(this.core.account,t),yr(hje,{content:n,params:r},"",!0);var i=this.notificationUtil.generateNotificationTag(t,n,r);i.type=100,yield this.core.sendCmd("ysfSendCustomNotification",{tag:i})})}sendMessageFn(t){}cancelMessageAttachmentUpload(t){return this.fileUtil.cancelMessageAttachmentUpload(t)}markMsgsAck(t){if(t&&t.length>0){var n=t.map(r=>r.messageServerId).filter(r=>r&&r!=="0");n.length!==0&&this.core.sendCmd("ysfBatchMarkRead",{sid:101,cid:2,ids:n})}}markNotificationAck(t){if(t&&t.length>0){var n=t.map(r=>r.idServer).filter(r=>r&&r!=="0");n.length!==0&&this.core.sendCmd("ysfBatchMarkRead",{sid:101,cid:3,ids:n})}}ysfOnMsgHandler(t){var n=KP(t,t.content.data,"messageServerId"),r=mm(this.core,n);delete r.__clientExt,this.emit("onReceiveMessages",[r]),this.model.upsertMessages([r]),this.markMsgsAck([r])}ysfSyncOfflineMsgsHandler(t){var n=t.content.datas;n=n.map(r=>mm(this.core,r)),this.markMsgsAck(n),this.emit("onReceiveMessages",n),this.model.upsertMessages(n)}ysfOnSysNotificationHandler(t){var n=KP(t,t.content.data,"idServer");this.markNotificationAck([n]);var r=this.processSystemNotification(n);r&&this.emit("onReceiveCustomNotifications",[r])}processSystemNotification(t){var n=Object.assign(Object.assign({},t),{conversationType:1});return delete n.type,n}ysfSyncSysNotificationHandler(t){this.markNotificationAck(t.content.datas);var n=t.content.datas.sort((r,i)=>r.timestamp-i.timestamp).map(r=>this.processSystemNotification(r)).filter(r=>r);n&&this.emit("onReceiveCustomNotifications",n)}}class NQ{constructor(t,n){this.uploadingMessageInfo={},this.core=t,this.service=n}prepareMessage(t,n,r,i){var d=this.checkIfResend(t),g=this.generateSendMessage({message:t,params:r,resend:d,conversationId:n,replyMessage:i}),v=Object.assign({},r.targetConfig?{targetConfig:r.targetConfig}:{}),{clientAntispamResult:S,text:I}=this.checkIfAntispam(r,g);return g.text=I,g.clientAntispamHit=!!S&&S.operateType===3,{messageBeforeSend:g,clientAntispamResult:S,hiddenParams:v}}checkIfAntispam(t,n){var r,i=n.text;if(t.clientAntispamEnabled&&(n.messageType===0||n.messageType===10)){if((r=this.core.V2NIMClientAntispamUtil.checkTextAntispam?this.core.V2NIMClientAntispamUtil.checkTextAntispam(n.text||"",t.clientAntispamReplace):{operateType:0,replacedText:""}).operateType===1)i=r.replacedText;else if(r.operateType===2)throw this.service.emit("onSendMessage",Object.assign(Object.assign({},n),{sendingState:2,messageStatus:{errorCode:Mt.V2NIM_ERROR_CODE_CLIENT_ANTISPAM}})),new pn({code:Mt.V2NIM_ERROR_CODE_CLIENT_ANTISPAM,detail:{reason:"sendMessage: text intercepted by client antispam"}})}return{clientAntispamResult:r,text:i}}doMsgReceiveReport(t,n){if(t.senderId!==this.core.account){var r=fr(t,"__clientExt.statistics.apiCallingTime")||0,i=fr(t,"__clientExt.statistics.sendTime")||0,d=fr(t,"__clientExt.statistics.attachUploadDuration")||0,g=this.core.timeOrigin.getNTPTime(),v=t.createTime,S=this.core.timeOrigin.checkNodeReliable(n.__receiveTimeNode)?this.core.timeOrigin.getNTPTime(n.__receiveTimeNode):g;this.core.reporter.report("msgReceive",{msgId:t.messageServerId,clientId:t.messageClientId,serverTime:t.createTime,receiveTime:S,fromAccid:t.conversationType===1?t.senderId:"",toAccid:t.receiverId,type:WM(t.conversationType),tid:t.conversationType===1?"":t.receiverId,apiCallingTime:r,sendTime:i,attachUploadDuration:d,callbackTime:g,preHandleTime:g,result:200,failReason:"",rt:g-v})}}checkIfResend(t){var n=this.service.model.getMessageById(t.messageClientId),r=!1;if(t.messageServerId||t.sendingState===1)throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"sendMessage: message has already been sent"}});if((n==null?void 0:n.sendingState)===1)throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"sendMessage: message has already been sent"}});return n&&(r=!0),r}doSendMessage(t){var n;return wn(this,void 0,void 0,function*(){var r,i,{apiCallingTimeNode:d,messageBeforeSend:g,clientAntispamResult:v,hiddenParams:S,progress:I}=t,T={},_=this.service instanceof Nje;if(_)r="ysfSendMessage";else if(g.conversationType===1)r="v2SendP2pMessage";else if(g.conversationType===2)r="v2SendTeamMessage";else{if(g.conversationType!==3)throw new Eu({detail:{reason:`conversationType: ${g.conversationType} is not supported`}});r="v2SendSuperTeamMessage"}if(this.service.sendMessageFn(g),!_&&this.core.eventBus.emit("forwardSend/V2NIMMessageService/sendMsg",g),!g.attachment||!("uploadState"in g.attachment)||g.attachment.url||g.attachment.uploadState!==0&&g.attachment.uploadState!==2)this.service.emit("onSendMessage",g);else{var N=Date.now();try{g.attachmentUploadState=3,g.attachment.uploadState=3,this.service.emit("onSendMessage",g),yield this.service.fileUtil.doSendFile(g,I),g.attachmentUploadState=1,g.attachment.uploadState=1,this.service.emit("onSendMessage",g)}catch(R){throw g.attachmentUploadState=2,g.attachment.uploadState=2,g.sendingState=2,g.messageStatus={errorCode:R.code||Mt.V2NIM_ERROR_CODE_UNKNOWN},this.service.emit("onSendMessage",g),T.attachUploadDuration=Date.now()-N,this.doSendMessageFailed(d,T,g,R),R}T.attachUploadDuration=Date.now()-N}this.core.timeOrigin.checkNodeReliable(d)&&(T.apiCallingTime=this.core.timeOrigin.getNTPTime(d),T.sendTime=this.core.timeOrigin.getNTPTime(),g.__clientExt={statistics:T});try{i=yield this.core.sendCmd(r,{tag:Object.assign({},g,S)})}catch(R){throw this.doSendMessageFailed(d,T,g,R),g.sendingState=2,g.messageStatus={errorCode:R.code||Mt.V2NIM_ERROR_CODE_UNKNOWN},this.service.emit("onSendMessage",g),R}var A=fr(i,"content.data.errorCode"),w=Object.assign(Object.assign(Object.assign(Object.assign({},g),i.content.data),g.aiConfig?{aiConfig:Object.assign(Object.assign({},g.aiConfig),((n=i.content.data)===null||n===void 0?void 0:n.aiConfig)||{})}:{}),{sendingState:1,messageStatus:{errorCode:A&&A!==200?A:200}});this.service.sendMessageFn(w),!_&&this.core.eventBus.emit("forwardSend/V2NIMMessageService/sendMsg",w),this.doMsgSendReport(d,T,g);var O=w.antispamResult;return O&&(w.messageStatus.errorCode=Mt.V2NIM_ERROR_CODE_SERVER_ANTISPAM),delete w.antispamResult,this.service.emit("onSendMessage",w),Object.assign(Object.assign({message:w},O?{antispamResult:O}:{}),v?{clientAntispamResult:v}:{})})}doSendMessageFailed(t,n,r,i){var d=Object.assign(Object.assign({},r),{sendingState:2});this.core.eventBus.emit("forwardSend/V2NIMMessageService/sendMsg",d),this.service.sendMessageFn(d),this.doMsgSendReport(t,n,r,i)}doMsgSendReport(t,n,r,i){n.apiCallingTime=this.core.timeOrigin.getNTPTime(t),n.sendTime=this.core.timeOrigin.getNTPTime();var d=this.core.timeOrigin.getNTPTime(),g=fr(i,"detail.reason");this.core.reporter.report("msgSend",{msgId:r.messageServerId,clientId:r.messageClientId,msgTime:r.createTime,fromAccid:r.conversationType===1?r.senderId:"",toAccid:r.receiverId,type:WM(r.conversationType),tid:r.conversationType===1?"":r.receiverId,result:i?i.code:200,failReason:g||(i==null?void 0:i.message)||"",rt:d-n.apiCallingTime,apiCallingTime:n.apiCallingTime,sendTime:n.sendTime,attachUploadDuration:n.attachUploadDuration,apiCallbackTime:d})}generateSendMessage(t){var n,r,{conversationId:i,replyMessage:d,resend:g,message:v,params:S}=t,I={};if(d){var T=d.threadRoot;I={threadReply:{senderId:d.senderId,receiverId:d.receiverId,messageServerId:d.messageServerId,createTime:d.createTime,messageClientId:d.messageClientId,conversationType:d.conversationType,conversationId:d.conversationId},threadRoot:{senderId:T?T.senderId:d.senderId,receiverId:T?T.receiverId:d.receiverId,messageServerId:T?T.messageServerId:d.messageServerId,createTime:T?T.createTime:d.createTime,messageClientId:T?T.messageClientId:d.messageClientId,conversationType:T?T.conversationType:d.conversationType,conversationId:T?T.conversationId:d.conversationId}}}var _=this.core.V2NIMConversationIdUtil.parseConversationType(i),N=this.core.V2NIMConversationIdUtil.parseConversationTargetId(i);S.pushConfig&&S.pushConfig.forcePush!==!0&&(delete S.pushConfig.forcePushContent,delete S.pushConfig.forcePushAccountIds);var A={},w={};if(S.aiConfig){var O=fr(S,"aiConfig.content.msg"),R=fr(S,"aiConfig.content.type")||0;O?w={msg:O,type:R}:O===void 0&&v.messageType===0&&(w={msg:v.text||"",type:R}),(A=Object.assign({aiStreamStatus:0,aiStream:!1},S.aiConfig)).aiStatus=1,w.msg!==void 0&&(A.content=w)}var D=(r=(n=this.core.V2NIMUserService)===null||n===void 0?void 0:n.model)===null||r===void 0?void 0:r.getUser(this.core.account),j=(D==null?void 0:D.updateTime)||0;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},v),I),{messageConfig:Object.assign(Object.assign({},v.messageConfig),S.messageConfig),routeConfig:Object.assign(Object.assign({},v.routeConfig),S.routeConfig),pushConfig:Object.assign(Object.assign({},v.pushConfig),S.pushConfig),antispamConfig:Object.assign(Object.assign({},v.antispamConfig),S.antispamConfig),robotConfig:Object.assign(Object.assign({},v.robotConfig),S.robotConfig)}),A&&A.accountId?{aiConfig:A}:{}),v.attachment?{attachment:Object.assign({},v.attachment)}:{}),{resend:g,senderId:this.core.account,conversationType:_,receiverId:N,conversationId:this.core.V2NIMConversationIdUtil.messageConversationId({conversationType:_,senderId:this.core.account,receiverId:N})}),j?{userUpdateTime:j}:{}),{sendingState:3})}}class Rje{constructor(t,n){this.core=t,this.service=n}checkIfModify(t,n){if(t.messageServerId==="0")throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"modifyMessage: messageServerId cannot be empty"}});if(![0,1,2,3,4,6,10,12,100].includes(t.messageType))throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:`modifyMessage: messageType ${t.messageType} not correct`}});if([0,1,2,3,6,10,12].includes(t.messageType)&&n.attachment)throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:`modifyMessage: messageType ${t.messageType} can not modify attachment`}});var r=["subType","text","serverExtension","attachment"];if(!r.some(i=>fr(n,i)!==void 0))throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"modifyMessage: missing modified params"}});if(r.every(i=>i==="attachment"?t.attachment&&n.attachment?y0(t.messageType,t.attachment)===y0(t.messageType,n.attachment):!n.attachment:fr(t,i)===fr(n,i)))throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"modifyMessage: no change"}})}prepareMessage(t,n){var r=this.generateSendMessage(t,n),{clientAntispamResult:i,text:d}=this.checkIfAntispam(n,r);return r.text=d,r.clientAntispamHit=!!i&&i.operateType===3,{messageBeforeSend:r,clientAntispamResult:i}}modifyMessage(t,n){return wn(this,void 0,void 0,function*(){var r;if(t.conversationType===1)r="v2MessageP2pModify";else if(t.conversationType===2)r="v2MessageTeamModify";else{if(t.conversationType!==3)throw new Eu({detail:{reason:`conversationType: ${t.conversationType} is not supported`}});r="v2MessageSuperTeamModify"}var i=yield this.core.sendCmd(r,{tag:t});if(n&&n.operateType===3)return{errorCode:Mt.V2NIM_ERROR_CODE_CLIENT_ANTISPAM,clientAntispamResult:n};var d=Object.assign(Object.assign({},t),i.content.data),g=d.antispamResult;if(g)return Object.assign({errorCode:Mt.V2NIM_ERROR_CODE_SERVER_ANTISPAM,antispamResult:g},n?{clientAntispamResult:n}:{});delete d.antispamResult;var v=mm(this.core,d);return this.service.model.upsertMessages([v]),this.core.eventBus.emit("V2NIMMessageService/modifyMsg",v),this.core.eventBus.emit("forwardSend/V2NIMMessageService/modifyMsg",v),Object.assign(Object.assign({errorCode:200,message:v},g?{antispamResult:g}:{}),n?{clientAntispamResult:n}:{})})}checkIfAntispam(t,n){var r,i=n.text;if(t.clientAntispamEnabled&&(n.messageType===0||n.messageType===10)){if((r=this.core.V2NIMClientAntispamUtil.checkTextAntispam?this.core.V2NIMClientAntispamUtil.checkTextAntispam(n.text||"",t.clientAntispamReplace):{operateType:0,replacedText:""}).operateType===1)i=r.replacedText;else if(r.operateType===2)throw new pn({code:Mt.V2NIM_ERROR_CODE_CLIENT_ANTISPAM,detail:{reason:"sendMessage: text intercepted by client antispam"}})}return{clientAntispamResult:r,text:i}}generateSendMessage(t,n){var r;return Object.assign(Object.assign({messageConfig:{lastMessageUpdateEnabled:(r=t.messageConfig)===null||r===void 0?void 0:r.lastMessageUpdateEnabled},routeConfig:Object.assign({routeEnabled:!0},n.routeConfig),pushConfig:Object.assign({pushEnabled:!0,pushNickEnabled:!0,forcePush:!1},n.pushConfig),antispamConfig:Object.assign({antispamEnabled:!0},n.antispamConfig)},n.attachment?{attachment:n.attachment}:{}),{conversationType:t.conversationType,senderId:t.senderId,receiverId:t.receiverId,createTime:t.createTime,messageClientId:t.messageClientId,messageServerId:t.messageServerId,messageType:t.messageType,subType:n.subType,text:n.text,serverExtension:n.serverExtension})}}class Aje{constructor(t,n){this.emitRevokeMessage=r=>{var i=r.map(d=>{var g=cje(this.core,d);return g.messageRefer.conversationType===3?this.core.eventBus.emit("V2NIMSync/updateTimetag",{deleteSuperTeamMsg:d.createTime}):this.core.eventBus.emit("V2NIMSync/updateTimetag",{recallMsg:d.createTime}),g});i.forEach(d=>{this.service.model.deleteMessage(d.messageRefer.messageClientId)}),this.service.emit("onMessageRevokeNotifications",i),this.core.eventBus.emit("V2NIMMessageService/revokeMessages",i)},this.core=t,this.service=n,this.logger=t.logger}revokeMessage(t,n){return wn(this,void 0,void 0,function*(){if(yr(YDe,{message:t,params:n},"",!0),yy(this.core.account,t.conversationId),t.conversationType===1&&t.senderId!==this.core.account)throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"revokeMessage: p2p message senderId is not current user"}});if(!t.messageServerId||t.messageServerId==="0")throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"revokeMessage: cannot revoke message with invalid messageServerId: "+t.messageServerId}});var r=t.conversationType===3?"v2RevokeSuperTeamMessage":"v2RevokeMessage",i={1:7,2:8,3:12},d=Object.assign(Object.assign(Object.assign({},t),n),{attach:n&&n.serverExtension,sysMsgType:i[t.conversationType],opeAccount:this.core.account});yield this.core.sendCmd(r,{tag:d});var g={1:1,2:2,3:3},v=[JSON.parse(JSON.stringify({postscript:n&&n.postscript,revokeType:g[t.conversationType],revokeAccountId:this.core.account,serverExtension:n&&n.serverExtension,messageRefer:NT(this.core,t)}))];this.revokeMessagesFn(v),this.core.eventBus.emit("forwardSend/V2NIMMessageService/revokeMessage",d)})}deleteMessage(t,n){return wn(this,void 0,void 0,function*(){if(yr(bQ,t,"",!0),t.sendingState===3)this.service.fileUtil.cancelMessageAttachmentUpload(t);else if(t.sendingState&&t.sendingState!==1)throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"deleteMessage: cannot delete unsent message"}});var r={messageRefer:NT(this.core,t),serverExtension:n},i=Date.now();t.messageServerId&&t.messageServerId!=="0"&&(i=(yield this.core.sendCmd("v2DeleteMessage",{tag:r})).content.timetag);var d=[{serverExtension:n,messageRefer:NT(this.core,t),deleteTime:i}];this.core.eventBus.emit("forwardSend/V2NIMMessageService/deleteSelfMsgs",[Object.assign(Object.assign({},r),{deleteTime:i})]),this.deleteMessagesFn(d)})}deleteMessages(t,n){return wn(this,void 0,void 0,function*(){yr(XDe,{messages:t},"",!0);var r=[],i=[];if(t.length===0)throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"deleteMessages: message array length is 0"}});for(var d=t[0].conversationId,g=0;g<t.length;g++){if(t[g].sendingState===3)this.service.fileUtil.cancelMessageAttachmentUpload(t[g]);else if(t[g].sendingState&&t[g].sendingState!==1)throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:`deleteMessage: sendingState should be succeeded, please check message at index: ${g}`}});if(g>=1&&t[g].conversationId!==d)throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"deleteMessages: only allow to delete messages from same conversation"}});t[g].messageServerId&&t[g].messageServerId!=="0"?r.push(t[g]):i.push(t[g])}var v=Date.now(),S=[...i];try{if(r.length>0){var I=yield this.core.sendCmd("v2DeleteMessages",{tag:r.map(_=>({messageRefer:_,serverExtension:n}))});v=I.content.timetag,S=[...S,...r]}}catch(_){if(i.length===0)throw _;this.logger.warn("V2NIMMessageService:deleteMessages: delete messages with serverId failed")}var T=S.map(_=>({serverExtension:n,messageRefer:NT(this.core,_),deleteTime:v}));this.core.eventBus.emit("forwardSend/V2NIMMessageService/deleteSelfMsgs",S.map(_=>({messageRefer:_,serverExtension:n,deleteTime:v}))),this.deleteMessagesFn(T)})}revokeMessagesFn(t){t.forEach(n=>{this.service.model.deleteMessage(n.messageRefer.messageClientId)}),this.service.emit("onMessageRevokeNotifications",t),this.core.eventBus.emit("V2NIMMessageService/revokeMessages",t)}deleteMessagesFn(t){t.forEach(n=>{this.service.model.deleteMessage(n.messageRefer.messageClientId),this.core.eventBus.emit("V2NIMSync/updateTimetag",{deleteSelfMsgs:n.deleteTime})}),this.service.emit("onMessageDeletedNotifications",t),this.core.eventBus.emit("V2NIMMessageService/deleteMessages",t)}}class Oje{constructor(t,n){this.core=t,this.service=n,this.logger=t.logger}stopAIStreamMessage(t,n){var r;return wn(this,void 0,void 0,function*(){this.checkAI(),yield this.core.sendCmd("v2AIStopModelStreamCall",{tag:{serverId:t.messageServerId,clientId:t.messageClientId,type:t.conversationType,from:t.senderId,to:t.receiverId,aiAccount:(r=t.aiConfig)===null||r===void 0?void 0:r.accountId,opeType:n.operationType,updateContent:n.updateContent,messageTime:t.createTime}}),this.logger.log(`V2AIUtil::streamMessageStop,clientId:${t.messageClientId}`),this.core.V2NIMAIService.model.completeAiStream(t.messageClientId)})}regenAIMessage(t,n){var r,i,d,g,v,S,I,T;return wn(this,void 0,void 0,function*(){this.checkAI();var _=this.core.V2NIMAIService.model.getAiStream(t.messageClientId);if(_){if(!(_!=null&&_.isComplete))throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:`msg::regenAIMessage streamCache is not complete, msgId:${t.messageClientId}`}})}else if(((r=t.streamConfig)===null||r===void 0?void 0:r.status)===-1||((i=t.streamConfig)===null||i===void 0?void 0:i.status)===1)throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:`msg::regenAIMessage message streamConfig.status forbidden ${t.streamConfig.status}`}});yield this.core.sendCmd("v2AIRegenMessage",{tag:{fromAccount:t.senderId,to:t.receiverId,aiAccount:(d=t.aiConfig)===null||d===void 0?void 0:d.accountId,serverId:t.messageServerId,clientId:t.messageClientId,time:t.createTime,type:t.conversationType,opeType:n.operationType,replyMsgFromAccount:(g=t.threadReply)===null||g===void 0?void 0:g.senderId,replyMsgToAccount:(v=t.threadReply)===null||v===void 0?void 0:v.receiverId,replyMsgTime:(S=t.threadReply)===null||S===void 0?void 0:S.createTime,replyMsgIdServer:(I=t.threadReply)===null||I===void 0?void 0:I.messageServerId,replyMsgIdClient:(T=t.threadReply)===null||T===void 0?void 0:T.messageClientId}}),n.operationType===1&&this.core.V2NIMAIService.model.setAiStream(t.messageClientId,{isComplete:!1,queryStatus:0,chunks:[]})})}checkAI(){if(!this.hasAI())throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"V2NIMAIService is not registered"}})}hasAI(){var t;return!!(!((t=this.core.V2NIMAIService)===null||t===void 0)&&t.name)}}class kje{constructor(t,n){this.core=t,this.service=n,this.model=n.model,this.receiptUtil=n.receiptUtil,this.logger=this.core.logger}setAIStreamPlaceholder(t){this.service.aiUtil.hasAI()&&t.forEach(n=>{var r;((r=n.streamConfig)===null||r===void 0?void 0:r.status)===1&&this.core.V2NIMAIService.model.setAiStream(n.messageClientId,{isComplete:!1,queryStatus:0,chunks:[],msg:n},!0)})}onMsgHandler(t){var n=KP(t,t.content.msg,"messageServerId"),{_conversationOnlineSyncNotify:r,_conversationOnlineSyncData:i}=n,d=yg(n,["_conversationOnlineSyncNotify","_conversationOnlineSyncData"]),g=mm(this.core,d),v=this.service._filterMessage(g);this.logger.log(`v2OnMsgHandler::recvMsg ${g.messageClientId}/${g.messageServerId}/${g.createTime};isHitFilter:${v}`),g.conversationType===3?this.core.eventBus.emit("V2NIMSync/updateTimetag",{superTeamRoamingMsgs:g.createTime,offlineMsgs:g.createTime}):this.core.eventBus.emit("V2NIMSync/updateTimetag",{roamingMsgs:g.createTime,offlineMsgs:g.createTime}),this.service.config.compatibleWithV1||(this.service.markMsgsAck([g]),this.service.sendUtil.doMsgReceiveReport(g,t)),delete g.__clientExt,this.setAIStreamPlaceholder([g]),g.messageType!==5&&this.core.V2NIMUserService.checkUserUpdate&&this.core.V2NIMUserService.checkUserUpdate(g,g.userUpdateTime),g.messageType===5&&this.core.eventBus.emit("V2NIMTeamService/notification",n),v||(this.service.emit("onReceiveMessages",[g]),this.model.upsertMessages([g]),r&&this.core.eventBus.emit("V2NIMConversationService/conversationOnlineSyncNotify",{content:{info:JSON.parse(r),data:JSON.parse(i)}},g),this.core.eventBus.emit("V2NIMMessageService/onMsg",g))}syncOfflineMsgsHandler(t){var n=t.content.datas;n=n.map(r=>mm(this.core,r)),(n=this.service._filterMessagesByFn(n)).length!==0&&(!this.service.config.compatibleWithV1&&this.service.markMsgsAck(n),this.service.emit("onReceiveMessages",n),this.model.upsertMessages(n),this.core.eventBus.emit("V2NIMMessageService/offlineMsgs",n))}syncRoamingMsgsHandler(t){var n=t.content.datas;n=n.map(r=>mm(this.core,r)),this.setAIStreamPlaceholder(n),(n=this.service._filterMessagesByFn(n)).length!==0&&(this.service.emit("onReceiveMessages",n),this.model.upsertMessages(n),this.core.eventBus.emit("V2NIMMessageService/roamingMsgs",n))}onP2PMessageReceiptsHandler(t){this.receiptUtil.onP2PMessageReceiptsHandler(t)}onTeamMessageReceiptsHandler(t){this.receiptUtil.onTeamMessageReceiptsHandler(t)}syncP2PMessagReceiptsHandler(t){this.receiptUtil.syncP2PMessagReceiptsHandler(t)}syncRevokeMessageHandler(t){this.service.deleteUtil.emitRevokeMessage(t.content.datas)}onRevokeMessageHandler(t){var n=t.content.data;this.service.deleteUtil.emitRevokeMessage([n])}onDeleteMessageHandler(t){var n=t.content.data,r={serverExtension:n.serverExtension,deleteTime:n.deleteTime,messageRefer:Ak(this.core,n.messageRefer)};this.service.deleteUtil.deleteMessagesFn([r])}onDeleteMessagesHandler(t){var n=t.content.data.map(r=>({serverExtension:r.serverExtension,deleteTime:r.deleteTime,messageRefer:Ak(this.core,r.messageRefer)}));this.service.deleteUtil.deleteMessagesFn(n)}syncOnDeleteMessagesHandler(t){var n=t.content.datas.map(r=>({serverExtension:r.serverExtension,deleteTime:r.deleteTime,messageRefer:Ak(this.core,r.messageRefer)}));this.service.emit("onMessageDeletedNotifications",n)}v2MessageOnModifiedHandler(t){var n=mm(this.core,t.content.data);this.model.upsertMessages([n]),this.service.aiUtil.hasAI()&&this.core.V2NIMAIService.model.completeAiStream(n.messageClientId),this.core.eventBus.emit("forwardSend/V2NIMMessageService/modifyMsg",n),this.core.eventBus.emit("V2NIMMessageService/modifyMsg",n),this.core.eventBus.emit("V2NIMSync/updateTimetag",n.conversationType===3?{superTeamModifyMessage:n.modifyTime}:{p2pTeamModifyMessage:n.modifyTime}),this.service.emit("onReceiveMessagesModified",[n])}v2MessageSyncModifiedHandler(t){var n=t.content.datas.map(r=>mm(this.core,r)).filter(r=>{var i,d=((i=this.model.getMessageById(r.messageClientId))===null||i===void 0?void 0:i.modifyTime)||0;return(r.modifyTime||0)>d});n.length>0&&(this.model.upsertMessages(n),n.forEach(r=>{this.service.aiUtil.hasAI()&&this.core.V2NIMAIService.model.completeAiStream(r.messageClientId),this.core.eventBus.emit("forwardSend/V2NIMMessageService/modifyMsg",r)}),this.service.emit("onReceiveMessagesModified",n))}v2MessageSyncSuperTeamModifiedHandler(t){this.v2MessageSyncModifiedHandler(t)}}class Lje{constructor(t,n){this.core=t,this.service=n,this.logger=this.core.logger}setListener(){this.core.eventBus.on("forwardReceive/V2NIMMessageService/sendMsg",this.service.sendMessageFn.bind(this.service)),this.core.eventBus.on("forwardReceive/V2NIMMessageService/revokeMessages",this.service.deleteUtil.emitRevokeMessage.bind(this.service.deleteUtil)),this.core.eventBus.on("forwardReceive/V2NIMMessageService/deleteMessages",this.service.deleteUtil.deleteMessagesFn.bind(this.service.deleteUtil)),this.core.eventBus.on("V2NIMConversationService/deleteConversation",t=>{t.forEach(n=>this.service.model.deleteMessages(n))}),this.core.eventBus.on("V2NIMAIService/receiveMessagesModified",t=>this.service.emit("onReceiveMessagesModified",t))}beforeEmit(t,...n){var r,i,d,g=`${this.service.name}::emit ${t.toString()}`;if(t==="onSendMessage"){var v=n[0];this.logger.log(`${g}`,`${v.messageClientId}/${v.messageServerId}/${v.createTime};`,`sendingState:${v.sendingState};attachmentUploadState:${v.attachmentUploadState||0};messageStatus:${(r=v.messageStatus)===null||r===void 0?void 0:r.errorCode};config.lastMsg:${(i=v.messageConfig)===null||i===void 0?void 0:i.lastMessageUpdateEnabled};config.unread:${(d=v.messageConfig)===null||d===void 0?void 0:d.unreadEnabled}`)}else if(t==="onReceiveMessages"||t==="onReceiveMessagesModified"){var S=n[0];this.logger.log(`${g}`,S.map(_=>{var N,A;return`${_.messageClientId}/${_.messageServerId}/${_.createTime};config.lastMsg:${(N=_.messageConfig)===null||N===void 0?void 0:N.lastMessageUpdateEnabled};config.unread:${(A=_.messageConfig)===null||A===void 0?void 0:A.unreadEnabled}`}))}else if(t==="onMessageRevokeNotifications"){var I=n[0];this.logger.log(`${g}`,I.map(_=>`msg:${_.messageRefer.messageClientId}/${_.messageRefer.messageServerId};revokeAccountId:${_.revokeAccountId}`))}else if(t==="onMessageDeletedNotifications"){var T=n[0];this.logger.log(`${g}`,T.map(_=>`msg:${_.messageRefer.messageClientId}/${_.messageRefer.messageServerId};deleteTime:${_.deleteTime}`))}else this.logger.log(`${g}`,...n)}}class Pje extends bg{constructor(t,n={}){super("V2NIMMessageService",t),this.customAttachmentParsers=[],this.config={compatibleWithV1:!0},this.filterFn=void 0,this.core._registerDep(uQ,"V2NIMConversationIdUtil"),this.core._registerDep(_Q,"V2NIMMessageCreator"),this.core._registerDep(xQ,"V2NIMMessageAttachmentCreator"),this.core._registerDep(wQ,"V2NIMClientAntispamUtil"),this.receiptUtil=new sje(this.core,this),this.fileUtil=new EQ(this.core),this.sendUtil=new NQ(this.core,this),this.modifyUtil=new Rje(this.core,this),this.deleteUtil=new Aje(this.core,this),this.aiUtil=new Oje(this.core,this),this.model=new dQ,this.event=new Lje(this.core,this),this.handler=new kje(this.core,this),this.core.options.apiVersion==="v2"&&(dg({cmdMap:pje,cmdConfig:mje}),this.setOptions(n),this.setListener())}setOptions(t){var n;!((n=this.core.msg)===null||n===void 0)&&n.name?this.config.compatibleWithV1=!0:this.config.compatibleWithV1=!1,this.config=Object.assign(this.config,t)}setListener(){this.event.setListener()}reset(){this.model.reset(),this.receiptUtil.reset()}emit(t,...n){return this.event.beforeEmit(t,...n),super.emit(t,...n)}checkExtendUtil(){var t;if(!(!((t=this.core.V2NIMMessageExtendUtil)===null||t===void 0)&&t.name))throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"V2NIMMessageLogUtil is not registered"}})}checkLogUtil(){var t;if(!(!((t=this.core.V2NIMMessageLogUtil)===null||t===void 0)&&t.name))throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:"V2NIMMessageExtendUtil is not registered"}})}getMessageList(t){return wn(this,void 0,void 0,function*(){this.checkV2(),this.checkLogUtil();var n=yield this.core.V2NIMMessageLogUtil.getMessageList(t);return n=this._filterMessageByClearTime(t.conversationId,n),n=this._filterMessagesByFn(n)})}getMessageListEx(t){return wn(this,void 0,void 0,function*(){this.checkV2(),this.checkLogUtil();var n=yield this.core.V2NIMMessageLogUtil.getMessageList(t);return n=this._filterMessageByClearTime(t.conversationId,n),{messages:this._filterMessagesByFn(n),anchorMessage:n.length>0?n[n.length-1]:null}})}getMessageListByRefers(t){return this.checkV2(),this.checkLogUtil(),this.core.V2NIMMessageLogUtil.getMessageListByRefers(t)}clearHistoryMessage(t){return this.checkV2(),this.checkLogUtil(),this.core.V2NIMMessageLogUtil.clearHistoryMessage(t)}pinMessage(t,n){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.pinMessage(t,n)}unpinMessage(t,n){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.unpinMessage(t,n)}updatePinMessage(t,n){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.updatePinMessage(t,n)}voiceToText(t){return this.checkV2(),this.checkExtendUtil(),typeof t.duration=="string"&&(t.duration=Number(t.duration)),this.core.V2NIMMessageExtendUtil.voiceToText(t)}getPinnedMessageList(t){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.getPinnedMessageList(t)}addQuickComment(t,n,r,i){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.addQuickComment(t,n,r,i)}removeQuickComment(t,n,r){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.removeQuickComment(t,n,r)}getQuickCommentList(t){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.getQuickCommentList(t)}addCollection(t){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.addCollection(t)}removeCollections(t){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.removeCollections(t)}updateCollectionExtension(t,n){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.updateCollectionExtension(t,n)}getCollectionListByOption(t){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.getCollectionListByOption(t)}getCollectionListExByOption(t){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.getCollectionListExByOption(t)}searchCloudMessages(t){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.searchCloudMessages(t)}searchCloudMessagesEx(t){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.searchCloudMessagesEx(t)}getThreadMessageList(t){return this.checkV2(),this.checkExtendUtil(),this.core.V2NIMMessageExtendUtil.getThreadMessageList(t)}registerCustomAttachmentParser(t){typeof t=="function"&&this.customAttachmentParsers.indexOf(t)===-1&&this.customAttachmentParsers.unshift(t)}unregisterCustomAttachmentParser(t){var n=this.customAttachmentParsers.indexOf(t);n>-1&&this.customAttachmentParsers.splice(n,1)}sendP2PMessageReceipt(t){return this.checkV2(),this.receiptUtil.sendP2PMessageReceipt(t)}isPeerRead(t){return this.checkV2(),this.receiptUtil.isPeerRead(t)}getP2PMessageReceipt(t){return this.checkV2(),this.receiptUtil.getP2PMessageReceipt(t)}getTeamMessageReceipts(t){return this.checkV2(),this.receiptUtil.getTeamMessageReceipts(t)}getTeamMessageReceiptDetail(t){return this.checkV2(),this.receiptUtil.getTeamMessageReceiptDetail(t)}sendTeamMessageReceipts(t){return this.checkV2(),this.receiptUtil.sendTeamMessageReceipts(t)}revokeMessage(t,n){return wn(this,void 0,void 0,function*(){return this.checkV2(),this.deleteUtil.revokeMessage(t,n)})}deleteMessage(t,n){return this.checkV2(),this.deleteUtil.deleteMessage(t,n)}deleteMessages(t,n){return this.checkV2(),this.deleteUtil.deleteMessages(t,n)}cancelMessageAttachmentUpload(t){return this.checkV2(),this.fileUtil.cancelMessageAttachmentUpload(t)}markMsgsAck(t){if(t&&t.length>0){var n=[],r=[];t.forEach(i=>{i.senderId===this.core.account&&i.senderId!==i.receiverId||(i.conversationType===1?n.push(i):i.conversationType===2&&r.push(i))}),n.length>0&&this.core.sendCmd("v2BatchMarkRead",{sid:7,cid:2,ids:n.map(i=>i.messageServerId)}),r.length>0&&this.core.sendCmd("v2BatchMarkRead",{sid:8,cid:3,ids:r.map(i=>i.messageServerId)})}}sendMessage(t,n,r={},i){var d;return wn(this,void 0,void 0,function*(){if(this.checkV2(),yr({message:{type:"object"}},{message:t},"",!0),t.messageClientId=t.messageClientId||fl(),t.conversationId&&t.conversationId!==n)throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"sendMessage: message.conversationId is not equal to conversationId"}});yr(yQ,{conversationId:n,message:t,params:r},"",!0),yy(this.core.account,n);var g=this.core.V2NIMConversationIdUtil.parseConversationType(n);if((g===2||g===3)&&r.robotConfig&&!r.robotConfig.accountId)throw new Eu({detail:{reason:"When conversationType is team or superTeam, account is required in robotInfo account is required"}});if(g!==2&&g!==3||!r.targetConfig)r.targetConfig=void 0;else{var v=r.targetConfig.receiverIds;if(g===3&&r.targetConfig.inclusive===!1)throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"setting inclusive to false for super teams is not allowed"}});if((v=v.filter(A=>A&&A!==this.core.account)).length===0)throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"receiverIds cannot be empty or only contain yourself"}});r.targetConfig.receiverIds=v}!((d=r.aiConfig)===null||d===void 0)&&d.aiStream&&this.aiUtil.checkAI();var S,I=this.core.timeOrigin.getTimeNode(),{messageBeforeSend:T,clientAntispamResult:_,hiddenParams:N}=this.sendUtil.prepareMessage(t,n,r);this.logger.log(`V2SendMessage start:${T.messageClientId}/${T.createTime};conversation:${n};`,`NTPTime:${this.core.timeOrigin.getNTPTime(I)}`);try{S=yield this.sendUtil.doSendMessage({apiCallingTimeNode:I,messageBeforeSend:T,clientAntispamResult:_,hiddenParams:N,progress:i})}catch(A){throw this.logger.warn(`V2SendMessage end:${T.messageClientId}.`,A instanceof pn?`failed:${A.code}`:"failed"),A}return S.message.senderId===S.message.receiverId&&this.markMsgsAck([S.message]),this.logger.log(`V2SendMessage end:${S.message.messageClientId}/${S.message.messageServerId}/${S.message.createTime}`),S})}replyMessage(t,n,r={},i){return wn(this,void 0,void 0,function*(){if(this.checkV2(),yr({message:{type:"object"}},{message:t},"",!0),t.messageClientId=t.messageClientId||fl(),yr(WDe,{message:t,replyMessage:n,params:r},"",!0),yy(this.core.account,n.conversationId),(t.conversationType===2||t.conversationType===3)&&r.robotConfig&&!r.robotConfig.accountId)throw new Eu({detail:{reason:"When conversationType is team or superTeam, account is required in robotInfo account is required"}});var d=this.core.timeOrigin.getTimeNode(),{messageBeforeSend:g,clientAntispamResult:v,hiddenParams:S}=this.sendUtil.prepareMessage(t,n.conversationId,r,n),I=yield this.sendUtil.doSendMessage({apiCallingTimeNode:d,messageBeforeSend:g,clientAntispamResult:v,hiddenParams:S,progress:i});return I.message.senderId===I.message.receiverId&&this.markMsgsAck([I.message]),I})}modifyMessage(t,n){this.checkV2(),this.checkLogin(),yr(rje,t,"message",!0),yr(aje,n,"params",!0),this.modifyUtil.checkIfModify(t,n);var{messageBeforeSend:r,clientAntispamResult:i}=this.modifyUtil.prepareMessage(t,n);return this.modifyUtil.modifyMessage(r,i)}stopAIStreamMessage(t,n){if(this.checkV2(),this.aiUtil.checkAI(),yr(p7,t,"message",!0),yr(ije,n,"params",!0),n.operationType===2&&!n.updateContent)throw new pn({code:Mt.V2NIM_ERROR_CODE_INVALID_PARAMETER,detail:{reason:"V2NIMMessage::stopAIStreamMessage updateContent empty"}});return this.aiUtil.stopAIStreamMessage(t,n)}regenAIMessage(t,n){return this.checkV2(),this.aiUtil.checkAI(),yr(p7,t,"message",!0),yr(oje,n,"params",!0),this.aiUtil.regenAIMessage(t,n)}sendMessageFn(t){if(t.msgAckSnapshot){var n=t.msgAckSnapshot,r={conversationId:t.conversationId,messageServerId:t.messageServerId,messageClientId:t.messageClientId,readCount:0,unreadCount:Number(n)};delete t.msgAckSnapshot,this.emit("onReceiveTeamMessageReadReceipts",[r])}t=IQ(t,this.core),this.model.upsertMessages([t]),this.core.eventBus.emit("V2NIMMessageService/sendMessage",t,t.sendingState)}setMessageFilter(t){t!=null?t&&typeof t.shouldIgnore=="function"&&(this.filterFn=t.shouldIgnore):this.filterFn=void 0}_filterMessage(t){if(typeof this.filterFn=="function")try{return this.filterFn(t)===!0}catch(n){return this.logger.error(`V2NIMMessage::triggerMessageFilter ${t.messageClientId} error:`,n),!1}return!1}_filterMessagesByFn(t){return t.filter(n=>!this._filterMessage(n))}_filterMessageByClearTime(t,n){var r=nr.localStorage.getItem(`nim_${this.core.account}_${t}_clearTime`),i=r?parseInt(r):0;return i>0?n.filter(d=>d.createTime>=i):n}}var y7,wI={id:1,ext:2,createTime:{id:3,retType:"number"},updateTime:{id:4,retType:"number"}};ht(wI),ht(wI),ht(wI),ht(wI),ht(wI);(function(e){e[e.createConversation=1]="createConversation",e[e.deleteConversation=2]="deleteConversation",e[e.updateConversation=3]="updateConversation",e[e.setConversationTop=4]="setConversationTop",e[e.clearConversationUnread=5]="clearConversationUnread",e[e.addConversationToGroup=6]="addConversationToGroup",e[e.removeConversationFromGroup=7]="removeConversationFromGroup",e[e.modifyConversationOnSendMessage=8]="modifyConversationOnSendMessage",e[e.modifyConversationOnDeleteMessage=9]="modifyConversationOnDeleteMessage",e[e.modifyConversationOnRecallMessage=10]="modifyConversationOnRecallMessage",e[e.modifyConversationOnClearMessage=11]="modifyConversationOnClearMessage",e[e.oneClickClearConversationUnread=12]="oneClickClearConversationUnread",e[e.modifyConversationOnUpdateMessage=13]="modifyConversationOnUpdateMessage"})(y7||(y7={}));var Ms={conversationId:1,type:{id:2,retType:"number"},serverExtension:3,groupIds:{id:4,retConverter:e=>e?JSON.parse(e):void 0},lastMessage:5,lastMessageState:{id:6,retType:"number"},unreadCount:{id:7,retType:"number"},stickTop:{id:8,retType:"boolean"},sortOrder:{id:9,retType:"number"},version:{id:10,retType:"number"},deleteFlag:{id:11,retType:"boolean"},createTime:{id:12,retType:"number"},updateTime:{id:13,retType:"number"},lastReadTime:{id:14,retType:"number"}},AT={type:{id:1,retType:"number"},oneClickClearUnreadType:{id:2,retType:"number"},oneClickClearUnreadConversationType:{id:3,retConverter:v0},oneClickClearUnreadGroupId:{id:4,retType:"string"},oneClickClearUnreadVersion:{id:5,retType:"number"},oneClickClearUnreadLastReadTime:{id:6,retType:"number"}};ht(Ms),ht(Ms),ht(Ms),ht(Ms),ht(Ms),ht(Ms),ht(Ms),ht(Ms),ht(Ms),ht(Ms),ht(Ms),ht(AT),ht(Ms),ht(AT),ht(AT),ht(AT);var b7;(function(e){e[e.createConversationGroup=1]="createConversationGroup",e[e.deleteConversationGroup=2]="deleteConversationGroup",e[e.updateConversationGroup=3]="updateConversationGroup",e[e.addConversationToGroup=4]="addConversationToGroup",e[e.removeConversationFromGroup=5]="removeConversationFromGroup"})(b7||(b7={}));var Fv={groupId:1,name:2,serverExtension:3,createTime:4,updateTime:5};ht(Fv),ht(Ms),ht(Fv),ht(Fv),ht(Fv),ht(Fv),ht(Ms),ht(Ms),ht(Fv);var S7={conversationType:{id:0,retType:"number"},receiverId:1,deleteRoam:{id:2,converter:ya},teamId:3,onlineSync:{id:4,converter:ya},deleteTime:{id:6,retType:"number"},serverExtension:7};ht(Yr),ht(Yr),ht(Yr),ht(Yr),ht(S7),ht(S7);var Dje={conversationType:{id:1,converter:WM,retConverter:Wj,access:"messageRefer.conversationType"},senderId:{id:2,access:"messageRefer.senderId"},receiverId:{id:3,access:"messageRefer.receiverId"},createTime:{id:4,retType:"number",access:"messageRefer.createTime"},messageServerId:{id:5,access:"messageRefer.messageServerId"},messageClientId:{id:6,access:"messageRefer.messageClientId"},detail:7,modify:{id:8,retType:"number"}},jje={conversationType:{id:1,access:"messageRefer.conversationType",retConverter:Wj},senderId:{id:2,access:"messageRefer.senderId"},receiverId:{id:3,access:"messageRefer.receiverId"},time:{id:4,access:"messageRefer.createTime",converter:ya,retType:"number"},messageServerId:{id:5,access:"messageRefer.messageServerId"},messageClientId:{id:6,access:"messageRefer.messageClientId"},operatorId:7,serverExtension:8,createTime:{id:9,converter:ya,retType:"number"},updateTime:{id:10,converter:ya,retType:"number"}},I7={operatorId:1,index:{id:2,retType:"number"},createTime:{id:3,retType:"number"},serverExtension:4,pushEnabled:{id:5,access:"pushConfig.pushEnabled",converter:ya},needBadge:{id:6,access:"pushConfig.needBadge",converter:ya},title:{id:7,access:"pushConfig.title"},pushContent:{id:8,access:"pushConfig.pushContent"},pushPayload:{id:9,access:"pushConfig.pushPayload"}},kk={accid:1,serverExtension:2,createTime:{id:3,retType:"number"},updateTime:{id:4,retType:"number"}},Lk={collectionId:1,collectionType:{id:2,retType:"number"},collectionData:3,serverExtension:4,uniqueId:5,createTime:{id:6,retType:"number"},updateTime:{id:7,retType:"number"}},Vje={keyword:1,beginTime:2,endTime:3,messageLimit:5,sortOrder:{id:6,converter:e=>e===0?2:1},p2pAccountIds:{id:7,converter:e=>e.join(",")},teamIds:{id:8,converter:e=>e.join(",")},senderAccountIds:{id:9,converter:e=>e.join(",")},messageTypes:{id:10,converter:e=>e.join(",")},messageSubtypes:{id:11,converter:e=>e.join(",")}};Object.assign(Object.assign({},Vje),{conversationLimit:4});ht(jje),ht(Yr),ht(I7),ht(Yr),ht(I7),ht(Dje),ht(Yr),ht(kk),ht(Yr),ht(kk),ht(Yr),ht(kk),ht(Lk),ht(Lk),ht(Lk),ht(Yr),ht(Yr),ht(Yr),ht(Yr),ht({total:{id:1,retType:"number"},timestamp:{id:2,retType:"number"}}),ht(Yr);var E7,RQ={joinMode:{type:"enum",values:[1,0,2],required:!1},agreeMode:{type:"enum",values:[0,1],required:!1},inviteMode:{type:"enum",values:[1,0],required:!1},updateInfoMode:{type:"enum",values:[1,0],required:!1},updateExtensionMode:{type:"enum",values:[1,0],required:!1},chatBannedMode:{type:"enum",values:[0,1],required:!1}};Object.assign({name:{type:"string",allowEmpty:!1},teamType:{type:"enum",values:[1,2]},memberLimit:{type:"number",min:1,required:!1}},RQ);var C7={type:"string"};Object.assign(Object.assign({},C7),{required:!1}),Object.assign(Object.assign({},C7),{required:!1});Object.assign({name:{type:"string",allowEmpty:!1,required:!1},memberLimit:{type:"number",min:1,required:!1}},RQ);(function(e){e[e.TEAM_INVITATION=0]="TEAM_INVITATION",e[e.TEAM_KICK=1]="TEAM_KICK",e[e.TEAM_LEAVE=2]="TEAM_LEAVE",e[e.TEAM_UPDATED=3]="TEAM_UPDATED",e[e.TEAM_DISMISS=4]="TEAM_DISMISS",e[e.TEAM_APPLY_ACCEPT=5]="TEAM_APPLY_ACCEPT",e[e.TEAM_TRANSFER_OWNER=6]="TEAM_TRANSFER_OWNER",e[e.TEAM_ADD_MANAGER=7]="TEAM_ADD_MANAGER",e[e.TEAM_REMOVE_MANAGER=8]="TEAM_REMOVE_MANAGER",e[e.TEAM_INVITE_ACCEPT=9]="TEAM_INVITE_ACCEPT",e[e.TEAM_MEMBER_MUTE=10]="TEAM_MEMBER_MUTE",e[e.SUPER_TEAM_INVITATION=401]="SUPER_TEAM_INVITATION",e[e.SUPER_TEAM_KICK=402]="SUPER_TEAM_KICK",e[e.SUPER_TEAM_LEAVE=403]="SUPER_TEAM_LEAVE",e[e.SUPER_TEAM_UPDATE=404]="SUPER_TEAM_UPDATE",e[e.SUPER_TEAM_DISMISS=405]="SUPER_TEAM_DISMISS",e[e.SUPER_TEAM_TRANSFER_OWNER=406]="SUPER_TEAM_TRANSFER_OWNER",e[e.SUPER_TEAM_ADD_MANAGER=407]="SUPER_TEAM_ADD_MANAGER",e[e.SUPER_TEAM_REMOVE_MANAGER=408]="SUPER_TEAM_REMOVE_MANAGER",e[e.SUPER_TEAM_MEMBER_MUTE=409]="SUPER_TEAM_MEMBER_MUTE",e[e.SUPER_TEAM_APPLY_ACCEPT=410]="SUPER_TEAM_APPLY_ACCEPT",e[e.SUPER_TEAM_INVITE_ACCEPT=411]="SUPER_TEAM_INVITE_ACCEPT"})(E7||(E7={}));var CM={accountId:1,name:3,avatar:4,sign:5,gender:{id:6,retType:"number"},email:7,birthday:8,mobile:9,serverExtension:10,createTime:{id:12,retType:"number"},updateTime:{id:13,retType:"number"}};ht(CM),ht(CM),ht({accountId:0,isMute:{id:1,retType:"boolean"},isBlock:{id:2,retType:"boolean"}}),ht(CM);var Pk={accountId:4,relationShip:{id:5,retType:"number"},source:{id:7,retType:"number"},alias:8,serverExtension:10,createTime:{id:11,retType:"number"},updateTime:{id:12,retType:"number"},customerExtension:13};ht({serverExt:1}),ht(Pk),ht(Pk),ht(CM),ht(Pk);var T7={need:{id:1,converter:e=>e?2:1,retConverter:e=>e==="2"}};ht(T7),ht(T7);var Dd=Dd||function(e){var t;typeof window<"u"&&window.crypto&&(t=window.crypto),typeof self<"u"&&self.crypto&&(t=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(t=globalThis.crypto),!t&&typeof window<"u"&&window.msCrypto&&(t=window.msCrypto),!t&&typeof global<"u"&&global.crypto&&(t=global.crypto);var n=function(){if(t){if(typeof t.getRandomValues=="function")try{return t.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof t.randomBytes=="function")try{return t.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function w(){}return function(O){var R;return w.prototype=O,R=new w,w.prototype=null,R}}(),i={},d=i.lib={},g=d.Base={extend:function(w){var O=r(this);return w&&O.mixIn(w),O.hasOwnProperty("init")&&this.init!==O.init||(O.init=function(){O.$super.init.apply(this,arguments)}),O.init.prototype=O,O.$super=this,O},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var O in w)w.hasOwnProperty(O)&&(this[O]=w[O]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}},v=d.WordArray=g.extend({init:function(w,O){w=this.words=w||[],this.sigBytes=O??4*w.length},toString:function(w){return(w||I).stringify(this)},concat:function(w){var O=this.words,R=w.words,D=this.sigBytes,j=w.sigBytes;if(this.clamp(),D%4)for(var L=0;L<j;L++){var U=R[L>>>2]>>>24-L%4*8&255;O[D+L>>>2]|=U<<24-(D+L)%4*8}else for(var $=0;$<j;$+=4)O[D+$>>>2]=R[$>>>2];return this.sigBytes+=j,this},clamp:function(){var w=this.words,O=this.sigBytes;w[O>>>2]&=4294967295<<32-O%4*8,w.length=e.ceil(O/4)},clone:function(){var w=g.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var O=[],R=0;R<w;R+=4)O.push(n());return new v.init(O,w)}}),S=i.enc={},I=S.Hex={stringify:function(w){for(var O=w.words,R=w.sigBytes,D=[],j=0;j<R;j++){var L=O[j>>>2]>>>24-j%4*8&255;D.push((L>>>4).toString(16)),D.push((15&L).toString(16))}return D.join("")},parse:function(w){for(var O=w.length,R=[],D=0;D<O;D+=2)R[D>>>3]|=parseInt(w.substr(D,2),16)<<24-D%8*4;return new v.init(R,O/2)}},T=S.Latin1={stringify:function(w){for(var O=w.words,R=w.sigBytes,D=[],j=0;j<R;j++){var L=O[j>>>2]>>>24-j%4*8&255;D.push(String.fromCharCode(L))}return D.join("")},parse:function(w){for(var O=w.length,R=[],D=0;D<O;D++)R[D>>>2]|=(255&w.charCodeAt(D))<<24-D%4*8;return new v.init(R,O)}},_=S.Utf8={stringify:function(w){try{return decodeURIComponent(escape(T.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return T.parse(unescape(encodeURIComponent(w)))}},N=d.BufferedBlockAlgorithm=g.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=_.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var O,R=this._data,D=R.words,j=R.sigBytes,L=this.blockSize,U=j/(4*L),$=(U=w?e.ceil(U):e.max((0|U)-this._minBufferSize,0))*L,F=e.min(4*$,j);if($){for(var z=0;z<$;z+=L)this._doProcessBlock(D,z);O=D.splice(0,$),R.sigBytes-=F}return new v.init(O,F)},clone:function(){var w=g.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});d.Hasher=N.extend({cfg:g.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){N.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){return w&&this._append(w),this._doFinalize()},blockSize:16,_createHelper:function(w){return function(O,R){return new w.init(R).finalize(O)}},_createHmacHelper:function(w){return function(O,R){return new A.HMAC.init(w,R).finalize(O)}}});var A=i.algo={};return i}(Math);Dd.enc.Utf8;var Yj=Dd,AQ=Yj.lib,M7=AQ.Base,$je=AQ.WordArray,OQ=Yj.algo,Uje=OQ.MD5,Bje=OQ.EvpKDF=M7.extend({cfg:M7.extend({keySize:4,hasher:Uje,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,i=r.hasher.create(),d=$je.create(),g=d.words,v=r.keySize,S=r.iterations;g.length<v;){n&&i.update(n),n=i.update(e).finalize(t),i.reset();for(var I=1;I<S;I++)n=i.finalize(n),i.reset();d.concat(n)}return d.sigBytes=4*v,d}});Yj.EvpKDF=function(e,t,n){return Bje.create(n).compute(e,t)},Dd.EvpKDF;var kQ=Dd,Fje=kQ.lib.WordArray;kQ.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],d=0;d<n;d+=3)for(var g=(t[d>>>2]>>>24-d%4*8&255)<<16|(t[d+1>>>2]>>>24-(d+1)%4*8&255)<<8|t[d+2>>>2]>>>24-(d+2)%4*8&255,v=0;v<4&&d+.75*v<n;v++)i.push(r.charAt(g>>>6*(3-v)&63));var S=r.charAt(64);if(S)for(;i.length%4;)i.push(S);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var d=n.charAt(64);if(d){var g=e.indexOf(d);g!==-1&&(t=g)}return function(S,I,T){for(var _=[],N=0,A=0;A<I;A++)if(A%4){var w=T[S.charCodeAt(A-1)]<<A%4*2|T[S.charCodeAt(A)]>>>6-A%4*2;_[N>>>2]|=w<<24-N%4*8,N++}return Fje.create(_,N)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},Dd.enc.Base64,function(e){e.lib.Cipher||function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,d=n.BufferedBlockAlgorithm,g=t.enc;g.Utf8;var v=g.Base64,S=t.algo.EvpKDF,I=n.Cipher=d.extend({cfg:r.extend(),createEncryptor:function(L,U){return this.create(this._ENC_XFORM_MODE,L,U)},createDecryptor:function(L,U){return this.create(this._DEC_XFORM_MODE,L,U)},init:function(L,U,$){this.cfg=this.cfg.extend($),this._xformMode=L,this._key=U,this.reset()},reset:function(){d.reset.call(this),this._doReset()},process:function(L){return this._append(L),this._process()},finalize:function(L){return L&&this._append(L),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function L(U){return typeof U=="string"?j:R}return function(U){return{encrypt:function($,F,z){return L(F).encrypt(U,$,F,z)},decrypt:function($,F,z){return L(F).decrypt(U,$,F,z)}}}}()});n.StreamCipher=I.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var T=t.mode={},_=n.BlockCipherMode=r.extend({createEncryptor:function(L,U){return this.Encryptor.create(L,U)},createDecryptor:function(L,U){return this.Decryptor.create(L,U)},init:function(L,U){this._cipher=L,this._iv=U}}),N=T.CBC=function(){var L=_.extend();function U($,F,z){var H,V=this._iv;V?(H=V,this._iv=void 0):H=this._prevBlock;for(var K=0;K<z;K++)$[F+K]^=H[K]}return L.Encryptor=L.extend({processBlock:function($,F){var z=this._cipher,H=z.blockSize;U.call(this,$,F,H),z.encryptBlock($,F),this._prevBlock=$.slice(F,F+H)}}),L.Decryptor=L.extend({processBlock:function($,F){var z=this._cipher,H=z.blockSize,V=$.slice(F,F+H);z.decryptBlock($,F),U.call(this,$,F,H),this._prevBlock=V}}),L}(),A=(t.pad={}).Pkcs7={pad:function(L,U){for(var $=4*U,F=$-L.sigBytes%$,z=F<<24|F<<16|F<<8|F,H=[],V=0;V<F;V+=4)H.push(z);var K=i.create(H,F);L.concat(K)},unpad:function(L){var U=255&L.words[L.sigBytes-1>>>2];L.sigBytes-=U}};n.BlockCipher=I.extend({cfg:I.cfg.extend({mode:N,padding:A}),reset:function(){var L;I.reset.call(this);var U=this.cfg,$=U.iv,F=U.mode;this._xformMode==this._ENC_XFORM_MODE?L=F.createEncryptor:(L=F.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==L?this._mode.init(this,$&&$.words):(this._mode=L.call(F,this,$&&$.words),this._mode.__creator=L)},_doProcessBlock:function(L,U){this._mode.processBlock(L,U)},_doFinalize:function(){var L,U=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(U.pad(this._data,this.blockSize),L=this._process(!0)):(L=this._process(!0),U.unpad(L)),L},blockSize:4});var w=n.CipherParams=r.extend({init:function(L){this.mixIn(L)},toString:function(L){return(L||this.formatter).stringify(this)}}),O=(t.format={}).OpenSSL={stringify:function(L){var U=L.ciphertext,$=L.salt;return($?i.create([1398893684,1701076831]).concat($).concat(U):U).toString(v)},parse:function(L){var U,$=v.parse(L),F=$.words;return F[0]==1398893684&&F[1]==1701076831&&(U=i.create(F.slice(2,4)),F.splice(0,4),$.sigBytes-=16),w.create({ciphertext:$,salt:U})}},R=n.SerializableCipher=r.extend({cfg:r.extend({format:O}),encrypt:function(L,U,$,F){F=this.cfg.extend(F);var z=L.createEncryptor($,F),H=z.finalize(U),V=z.cfg;return w.create({ciphertext:H,key:$,iv:V.iv,algorithm:L,mode:V.mode,padding:V.padding,blockSize:L.blockSize,formatter:F.format})},decrypt:function(L,U,$,F){return F=this.cfg.extend(F),U=this._parse(U,F.format),L.createDecryptor($,F).finalize(U.ciphertext)},_parse:function(L,U){return typeof L=="string"?U.parse(L,this):L}}),D=(t.kdf={}).OpenSSL={execute:function(L,U,$,F){F||(F=i.random(8));var z=S.create({keySize:U+$}).compute(L,F),H=i.create(z.words.slice(U),4*$);return z.sigBytes=4*U,w.create({key:z,iv:H,salt:F})}},j=n.PasswordBasedCipher=R.extend({cfg:R.cfg.extend({kdf:D}),encrypt:function(L,U,$,F){var z=(F=this.cfg.extend(F)).kdf.execute($,L.keySize,L.ivSize);F.iv=z.iv;var H=R.encrypt.call(this,L,U,z.key,F);return H.mixIn(z),H},decrypt:function(L,U,$,F){F=this.cfg.extend(F),U=this._parse(U,F.format);var z=F.kdf.execute($,L.keySize,L.ivSize,U.salt);return F.iv=z.iv,R.decrypt.call(this,L,U,z.key,F)}})}()}(Dd);var Y_=Dd,Xj=Y_.lib.StreamCipher,LQ=Y_.algo,TM=LQ.RC4=Xj.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var d=0;i<256;i++){var g=i%n,v=t[g>>>2]>>>24-g%4*8&255;d=(d+r[i]+v)%256;var S=r[i];r[i]=r[d],r[d]=S}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=PQ.call(this)},keySize:8,ivSize:0});function PQ(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var d=e[t];e[t]=e[n],e[n]=d,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}Y_.RC4=Xj._createHelper(TM);var qje=LQ.RC4Drop=TM.extend({cfg:TM.cfg.extend({drop:192}),_doReset:function(){TM._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)PQ.call(this)}});Y_.RC4Drop=Xj._createHelper(qje);Dd.RC4;var zje={accountId:1,name:3,avatar:4,sign:5,gender:{id:6,retType:"number"},email:7,birthday:8,mobile:9,serverExtension:10,modelType:{id:11,retType:"number"},modelConfig:{id:12,retConverter:e=>{if(e=v0(e)){var t=Object.keys(e).reduce((n,r)=>(n[function(d){return(d=d||"").split("_").map((g,v)=>v===0?g:g[0].toUpperCase()+g.slice(1)).join("")}(r)]=e[r],n),{});if(typeof t.promptKeys=="string")try{t.promptKeys=JSON.parse(t.promptKeys)}catch{}return t}}},yunxinConfig:{id:13,retConverter:e=>{if(e=v0(e))return e}},valid:{id:14,retType:"boolean"},createTime:{id:15,retType:"number"},updateTime:{id:16,retType:"number"}};function DQ(e){try{var t=JSON.parse(e);return typeof t.index=="number"?{msg:t.msg||"",type:t.type,lastChunk:{content:t.msg,chunkTime:parseInt(t.timestamp),type:t.type,index:parseInt(t.index)}}:t}catch{return}}function jQ(e){try{var t=JSON.parse(e);return t&&t.length>0?t.map(n=>(n.description=n.desc,delete n.desc,n)):[]}catch{return[]}}var _7={code:{id:1,retType:"number"},accountId:2,requestId:3,content:{id:4,retConverter:DQ},aiRAGs:{id:5,retConverter:jQ},timestamp:{id:6,retType:"number"},aiStreamStatus:{id:7,retType:"number"},aiStream:{id:8,retType:"boolean"}},Hje={serverId:1,clientId:2,type:{id:3,retType:"number"},content:{id:4,retConverter:DQ},aiRAGs:{id:6,retConverter:jQ}};ht(_7),ht(zje),ht({hasMore:{id:16,retType:"boolean"},nextToken:2}),ht(Yr),ht(_7),ht(Hje);var Gje={accountId:1,uid:{id:2,retType:"number"},joinTime:{id:3,retType:"number"},expireTime:{id:4,retType:"number"},deviceId:5},Gs={channelType:{id:1,retType:"number",retAccess:"channelInfo.channelType"},channelName:{id:2,retAccess:"channelInfo.channelName"},channelId:{id:3,retAccess:"channelInfo.channelId"},createTime:{id:4,retType:"number",retAccess:"channelInfo.createTime"},expireTime:{id:5,retType:"number",retAccess:"channelInfo.expireTime"},creatorAccountId:{id:6,retAccess:"channelInfo.creatorAccountId"},channelExtension:{id:7,retAccess:"channelInfo.channelExtension"},channelValid:{id:8,retDef:!0,retAccess:"channelInfo.channelValid",retConverter:e=>parseInt(e)!==1},fromAccid:10,toAccid:11,requestId:12,pushEnabled:{id:13,access:"pushConfig.pushEnabled",converter:ya,retType:"boolean"},pushTitle:{id:14,access:"pushConfig.pushTitle"},pushContent:{id:15,access:"pushConfig.pushContent"},pushPayload:{id:16,access:"pushConfig.pushPayload"},unreadEnabled:{id:17,access:"signallingConfig.unreadEnabled",converter:ya,retType:"boolean",def:1},members:{id:18,retAccess:"members",retConverter:e=>{try{return JSON.parse(e).map(t=>KM(t,ht(Gje)))}catch{return}}},attach:{id:19,retConverter:v0},serverExtension:{id:20,retDef:""},offlineEnabled:{id:21,converter:ya,retType:"boolean",def:1},msgId:22,selfUid:{id:23,retType:"number",access:"signallingConfig.selfUid"},time:{id:24,retType:"number"},rtcChannelName:{id:25,access:"rtcConfig.rtcChannelName"},rtcTokenTtl:{id:26,retType:"number",access:"rtcConfig.rtcTokenTtl",retAccess:"rtcInfo.rtcTokenTtl"},rtcToken:{id:27,retAccess:"rtcInfo.rtcToken"},rtcParams:{id:28,access:"rtcConfig.rtcParams",retAccess:"rtcInfo.rtcParams"},callStatus:{id:30,retType:"number"}};ht(Gs),ht(Gs),ht(Gs),ht(Gs),ht(Gs),ht(Gs),ht(Gs),ht(Gs),ht(Gs),ht(Gs),ht(Gs),ht(Gs),ht(Gs),ht(Gs);var ty,Dk={eventType:{id:1,retType:"number"},statusType:{id:2,retType:"number"},uniqueId:3,extension:4,duration:{id:5,retType:"number"},onlineOnly:{id:6,retType:"boolean",converter:e=>e?1:2},multiSync:{id:7,retType:"boolean",converter:ya},publishTime:{id:10,retType:"number"},serverId:11,clientType:{id:12,retType:"number"},serverExtension:13,extensionReceived:14,accountId:103},x7={eventType:{id:1,retType:"number"},duration:{id:2,retType:"number"},immediateSync:{id:3,retType:"number",converter:ya},accountId:102,subscribeTime:{id:105,retType:"number"}};ht(Dk),ht(Dk),ht(x7),ht(x7),ht(Dk);(function(e){e[e.V2NIM_PROXY_REQUEST_METHOD_GET=1]="V2NIM_PROXY_REQUEST_METHOD_GET",e[e.V2NIM_PROXY_REQUEST_METHOD_POST=2]="V2NIM_PROXY_REQUEST_METHOD_POST",e[e.V2NIM_PROXY_REQUEST_METHOD_PUT=3]="V2NIM_PROXY_REQUEST_METHOD_PUT",e[e.V2NIM_PROXY_REQUEST_METHOD_DELETE=4]="V2NIM_PROXY_REQUEST_METHOD_DELETE"})(ty||(ty={}));var Kje={zone:1,path:2,method:3,header:4,body:5};ht(Kje),ht({fromAccountId:1,body:2,time:{id:3,retType:"number"}});ty.V2NIM_PROXY_REQUEST_METHOD_DELETE,ty.V2NIM_PROXY_REQUEST_METHOD_GET,ty.V2NIM_PROXY_REQUEST_METHOD_POST,ty.V2NIM_PROXY_REQUEST_METHOD_PUT;var YM=ml;YM.registerService(class extends bg{constructor(t,n={}){var r;super("V2NIMLoginService",t),this.account="",this.previousLoginAccount="",this.token="",this.deviceId="",this.clientSession="",this.processId="",this.kickedDetail=null,this.binaryWebsocket=!0,this.core._registerDep(ADe,"misc"),dg({cmdMap:lDe,cmdConfig:uDe}),t.options.apiVersion==="v2"&&(dg({cmdMap:cDe,cmdConfig:dDe}),this.core.auth=this),this.previousLoginManager=new WP,this.doLoginStepsManager=new WP,this.loginTimerManager=new QJ,this.loginOption=Object.assign({},Rk),this.config={lbsUrls:ODe,linkUrl:"weblink.netease.im:443",linkSSL:!0},this.setOptions(n),t.V2NIMLoginService=this,this.core.options.binaryWebsocket!==!1&&typeof Uint8Array=="function"?(this.binaryWebsocket=!0,r=new yDe(this.core)):(this.binaryWebsocket=!1,r=new IDe(this.core)),this.clientSocket=r,this.core.options.apiVersion==="v2"&&(this.core.clientSocket=r),this.lifeCycle=new _De(t),this.reconnect=new EDe(t),this.lbs=new TDe(t),this.authenticator=new MDe(t),this.dataSync=new xDe(t)}get hasSettingService(){var t;return!!(!((t=this.core.V2NIMSettingService)===null||t===void 0)&&t.name)}setOptions(t){var n,r,i;yr({lbsUrls:{type:"array",itemType:"string",min:1,required:!1},linkUrl:{type:"string",allowEmpty:!1,required:!1}},t,"",!0),this.config=Qv(this.config,t),(r=(n=this.core.clientSocket)===null||n===void 0?void 0:n.setLinkSSL)===null||r===void 0||r.call(n,(i=this.config.linkSSL)===null||i===void 0||i);var d="",g="";this.config.isFixedDeviceId?(d=nr.localStorage.getItem("__NIM_DEVC_ID__")||fl(),g=nr.localStorage.getItem("__NIM_CLIENT_SESSION_ID__")||fl(),nr.localStorage.setItem("__NIM_DEVC_ID__",d),nr.localStorage.setItem("__NIM_CLIENT_SESSION_ID__",g)):(d=fl(),g=fl()),this.deviceId=d,this.clientSession=g,this.core.reporter.setConfig({common:{dev_id:d}})}reset(){this.account="",this.token="",this.processId="",this.lbs.reset(),this.reconnect.reset(),this.authenticator.reset(),this.authenticator.clearLastLoginClient(),this.dataSync.reset()}login(t,n,r={}){return wn(this,void 0,void 0,function*(){this._checkApiVersion();var i=nr.getSystemInfo()||{},d=i.os?i.os.toLowerCase():"";if(nr.platform==="React Native"&&d==="android"&&this.hasSettingService&&fr(this.core.V2NIMSettingService,"push.offlinePushPlugin"))try{this.deviceInfo=yield this.core.V2NIMSettingService.push.getRNDeviceInfo()}catch(g){this.logger.error(g)}if(typeof t!="string"||t.trim()==="")throw new Eu({detail:{reason:"Account must be string"}});if(yr({retryCount:{type:"number",min:0,required:!1},forceMode:{type:"boolean",required:!1},authType:{type:"enum",values:[0,1,2],required:!1},syncLevel:{type:"enum",values:[1,0],required:!1}},r,"",!0),(r=Qv(Rk,r)).authType===0&&!n)throw new Eu({detail:{reason:"When authType is 0, token cannot be empty"}});if(this.previousLoginAccount!==""&&this.previousLoginAccount!==t&&this.core._clearModuleData(),this.getLoginStatus()===0)this.logger.log(`V2NIMLoginService::login:allowLogin:${t}`,r);else{if(this.getLoginStatus()===1)return this.smoothForLogined(t,n,r);if(this.getLoginStatus()===2)return this.smoothForLogining(t,n,r)}this.account=t,this.previousLoginAccount=t,this.token=n,this.processId=fl(),this.loginOption=Qv(Rk,r),this.kickedDetail=null,this.loginTimerManager.destroy(),this.loginTimerManager.addTimer(()=>{var g=new pn({code:Mt.V2NIM_ERROR_CODE_TIMEOUT,detail:{reason:"Login API timeout"}});this.doLoginStepsManager.clear(g),this.previousLoginManager.clear(g),this.originLoginPromise=void 0,this.lifeCycle.processEvent("exited",g)},this.loginOption.timeout>0?this.loginOption.timeout:6e4,1);try{yield this.multiTryDoLogin(),this.loginTimerManager.destroy()}catch(g){throw this.loginTimerManager.destroy(),g}})}setAppVisibility(t){this.reconnect.setAppVisibility(t)}getChatroomLinkAddress(t,n){return wn(this,void 0,void 0,function*(){return yr({roomId:{type:"string",regExp:/^\d+$/,required:!0,allowEmpty:!1},miniProgram:{type:"boolean",required:!1}},{roomId:t,miniProgram:n},"",!0),n=n===void 0?Bj():n,(yield this.clientSocket.sendCmd("v2GetChatroomLinkAddress",{roomId:t,miniProgram:n})).content.linkAddress})}multiTryDoLogin(t){return wn(this,void 0,void 0,function*(){for(var n=new pn({code:Mt.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:"loginFailed"}}),r=0;r<=this.loginOption.retryCount;r++){var i=`V2NIMLoginService::times of login try: ${r}`;r>0?this.logger.warn(i):this.logger.log(i);try{this.originLoginPromise=t||this.doLogin(!1),t=void 0;var d=yield this.previousLoginManager.add(this.originLoginPromise);return this.core.reporter.reportTraceEnd("login",!0),this.doLoginStepsManager.clear(),this.previousLoginManager.clear(),this.originLoginPromise=void 0,d}catch(g){if(n=g||n,this.logger.error(`V2NIMLoginService::login failed, times of login try: ${r}, err.code: ${n==null?void 0:n.code}, err.message: "${n==null?void 0:n.message}"`),n.code!==Mt.V2NIM_ERROR_CODE_CANCELLED&&this.core.reporter.reportTraceEnd("login",!1),this.reconnect.clearReconnectTimer(),this.checkLoginTerminalCode(n&&n.code))throw this.lifeCycle.processEvent("exited",n),n;n&&n.code===399&&this.lbs.reset()}}throw this.lifeCycle.processEvent("exited",n),n})}doLogin(t){var n,r;return wn(this,void 0,void 0,function*(){var i=!!t||this.authenticator.checkAutoLogin(this.loginOption.forceMode);this.core.reporter.reportTraceCancel("login"),this.core.reporter.reportTraceStart("login",i?{user_id:this.account,action:"auto_login",process_id:this.processId,binary_websocket:this.binaryWebsocket}:{user_id:this.account,action:"manual_login",process_id:this.processId,binary_websocket:this.binaryWebsocket}),this.core.reporter.reportTraceUpdateV2("login",{code:0,description:JSON.stringify(this.loginOption),operation_type:"conf_init",succeed:!0,duration:0,target:""},{asyncParams:nr.net.getNetworkStatus()});var d=yield this.doLoginStepsManager.add(this.lbs.getLbsInfos());yield this.doLoginStepsManager.add(this.clientSocket.connect(d,t));var g=yield this.doLoginStepsManager.add(this.authenticator.verifyAuthentication(i));if(this.processId=fl(),this.clientSocket.resetSocketConfig(),this.reconnect.reset(),this.dataSync.reset(),this.lifeCycle.processEvent("loginSucc",void 0,Object.assign(Object.assign({},g),{isReconnect:t})),this.clientSocket.ping(),this.core.abtest.abtRequest(),typeof((n=this.core.V2NIMClientAntispamUtil)===null||n===void 0?void 0:n.downloadLocalAntiSpamVocabs)=="function"&&this.core.V2NIMClientAntispamUtil.downloadLocalAntiSpamVocabs(),typeof((r=this.core.cloudStorage)===null||r===void 0?void 0:r.init)=="function")try{yield this.core.cloudStorage.init(g.timestamp)}catch(v){this.logger.warn("doLogin::cloudStorage init error",v)}return g})}smoothForLogined(t,n,r){return wn(this,void 0,void 0,function*(){var i=this.checkIsSameLogin(t,n,r);return this.logger.warn(`V2NIMLoginService::smoothForLogined:Logined, isSameLogin ${i}`),i?void 0:(yield this.logout(),this.login(t,n,r))})}smoothForLogining(t,n,r){return wn(this,void 0,void 0,function*(){var i=this.checkIsSameLogin(t,n,r);if(this.logger.warn(`V2NIMLoginService::smoothForLogining:Logining progress exists, abort the previous login attempt and start next attempt, isSameLogin ${i}`),this.previousLoginManager.clear(),this.reconnect.reset(),this.account=t,this.previousLoginAccount=t,this.token=n,this.loginOption=Qv(this.loginOption,r),!i)return this.doLoginStepsManager.clear(),this.clientSocket.doDisconnect(us.ACTIVE,"Aborted"),this.reset(),this.lifeCycle.processEvent("logout"),yield Promise.resolve(),this.login(t,n,r);if(!this.originLoginPromise)throw new pn({code:Mt.V2NIM_ERROR_CODE_INTERNAL,detail:{reason:"NoPreviousLoginExists"}});this.reconnect.reset(),yield Promise.resolve(),yield this.multiTryDoLogin(this.originLoginPromise)})}checkIsSameLogin(t,n,r){return this.account===t&&this.loginOption.authType===r.authType&&(r.authType!==0||this.token===n)}logout(){return wn(this,void 0,void 0,function*(){this._checkApiVersion(),this.doLoginStepsManager.clear(),this.previousLoginManager.clear(),this.loginTimerManager.destroy(),this.originLoginPromise=void 0;var t=this.getConnectStatus(),n=this.getLoginStatus();switch(n){case 1:try{yield this.clientSocket.sendCmd("v2Logout",void 0,{timeout:1e3}),this.clientSocket.doDisconnect(us.ACTIVE,"UserActiveDisconnect"),this.core._clearModuleData(),this.lifeCycle.processEvent("logout")}catch(r){this.logger.error("Instance::disconnect sendCmd:logout error",r),this.clientSocket.doDisconnect(us.ACTIVE,"UserActiveDisconnect"),this.core._clearModuleData(),this.lifeCycle.processEvent("logout")}break;case 2:case 3:this.clientSocket.doDisconnect(us.ACTIVE,"UserActiveDisconnect"),this.core._clearModuleData(),this.lifeCycle.processEvent("logout");break;case 0:throw this.core._clearModuleData(),new pn({code:Mt.V2NIM_ERROR_CODE_ILLEGAL_STATE,detail:{reason:`Illegal logout. loginStatus ${n}. connectStatus ${t}`}});default:throw this.core._clearModuleData(),new pn({code:Mt.V2NIM_ERROR_CODE_ILLEGAL_STATE,detail:{reason:`Illegal logout. illegal status: loginStatus ${n}. connectStatus ${t}`}})}})}getConnectStatus(){return this.lifeCycle.getConnectStatus()}getLoginStatus(){return this.lifeCycle.getLoginStatus()}getLoginUser(){return this.account}getLoginClients(){return function(n,r){n=n||[],r=r||"";for(var i=[],d=[],g=0;g<n.length;g++){var v=n[g][r];d.indexOf(v)===-1&&(d.push(v),i.push(n[g]))}return i}(this.authenticator.loginClients,"clientId").map(t=>d7(t,["type","os","timestamp","customTag","customClientType","clientId","clientIP"]))}getCurrentLoginClient(){var t;if(!((t=this.authenticator.loginClientOfThisConnection)===null||t===void 0)&&t.clientId)return d7(this.authenticator.loginClientOfThisConnection,["type","os","timestamp","customTag","customClientType","clientId","clientIP"])}getDataSync(){var t=this.dataSync.datas;return t&&t.length>0?t.map(n=>({type:n.type,state:n.state})):null}setReconnectDelayProvider(t){this.reconnect._setReconnectDelayProvider(t)}kickOffline(t){return wn(this,void 0,void 0,function*(){if(this._checkApiVersion(),yr({clientId:{type:"string",allowEmpty:!1}},t,"",!0),fr(yield this.clientSocket.sendCmd("v2KickOffline",{clientIds:[t.clientId]}),"content.clientIds.length")===0)throw new pn({code:Mt.V2NIM_ERROR_CODE_REQUEST_FAILED})})}getKickedOfflineDetail(){return this.kickedDetail}checkLoginTerminalCode(t){return this.authenticator.checkLoginTerminalCode(t)}checkIllegalState(){if(!this.getLoginUser())throw new pn({code:Mt.V2NIM_ERROR_CODE_ILLEGAL_STATE})}_checkApiVersion(){if(this.core.options.apiVersion!=="v2")throw new pn({code:Mt.V2NIM_ERROR_CODE_MISUSE,detail:{reason:'apiVersion is not "v2"'}})}v2LoginHandler(t){if(t.error)throw this.clientSocket.doDisconnect(us.ACTIVE,t.error),t.error;return t}v2LoginClientChangeHandler(t){this.authenticator.changeLoginClient(parseInt(t.content.state),t.content.datas)}nimLoginClientChangeHandler(t){this.authenticator.changeLoginClient(parseInt(t.content.state),t.content.datas)}qchatLoginClientChangeHandler(t){var n=parseInt(t.content.state);n=n===1?2:3,this.authenticator.changeLoginClient(n,[t.content.data])}v2BeKickedHandler(t){if(t.error)this.core.logger.error("v2BeKickedHandler error, ",t.error);else{var n=function(i){return qj({reason:{type:"number"},clientType:{type:"number"},customClientType:{type:"number"}},i)}(t.content);this.core.logger.warn("v2Bekicked::",n),this.kickedDetail=n,this.clientSocket.doDisconnect(us.KICKED,n),this.core._clearModuleData(),this.lifeCycle.processEvent("kicked",new pn({code:Mt.V2NIM_ERROR_CODE_DISCONNECT,detail:{reason:"disconnect due to kicked"}}),n),this.emit("onKickedOffline",n)}}emit(t,...n){var r=`${this.name}::emit ${t.toString()}`;if(t==="onLoginFailed"||t==="onDisconnected"||t==="onConnectFailed"){var i=n[0];this.logger.log(`${r}`,i.toString())}else if(t==="onDataSync"){var d=n[2];this.logger.log(`${r}`,n[0],n[1],d&&d.toString())}else this.logger.log(`${r}`,...n);return super.emit(t,...n)}},"V2NIMLoginService"),YM.registerService(class extends bg{constructor(t){super("V2NIMSyncService",t),this.teamKey=["teams","superTeams","myTeamMembers","mySuperTeamMembers"],this.config={},this.timetags={},this.core.options.apiVersion==="v2"&&(this.initEventListeners(),dg({cmdMap:kDe,cmdConfig:LDe}),this.setListener())}reset(){this.timetags={}}setListener(){this.core.eventBus.on("V2NIMSync/updateTimetag",t=>{Object.keys(t).forEach(n=>{t[n]>(this.timetags[n]||0)&&(this.timetags[n]=t[n])})})}setOptions(t){var n=this.core,r=!(!n.V2NIMConversationService.name&&!n.V2NIMLocalConversationService.name);return this.config=Object.assign({myInfo:!!n.V2NIMUserService.name,offlineMsgs:!!n.V2NIMMessageService.name,roamingMsgs:!!n.V2NIMMessageService.name,relations:!!n.V2NIMUserService.name,friends:!!n.V2NIMFriendService.name,friendUsers:!!n.V2NIMUserService.name,msgReceipts:!!n.V2NIMMessageService.name,broadcastMsgs:!!n.V2NIMNotificationService.name,recallMsg:!!n.V2NIMMessageService.name,sessionAck:r,superTeamSessionAck:r,stickTopSessions:r,superTeamRoamingMsgs:!!n.V2NIMTeamService.name,deleteSuperTeamMsg:!!n.V2NIMTeamService.name,deleteSelfMsgs:!!n.V2NIMMessageService.name,sessionHistoryMsgsDelete:!!n.V2NIMMessageService.name,avSignal:!!n.V2NIMSignallingService.name,teams:!!n.V2NIMTeamService.name,superTeams:!!n.V2NIMTeamService.name,myTeamMembers:!!n.V2NIMTeamService.name,mySuperTeamMembers:!!n.V2NIMTeamService.name,donnop:!!n.V2NIMSettingService.name,p2pTeamModifyMessage:!!n.V2NIMMessageService.name,superTeamModifyMessage:!!n.V2NIMMessageService.name},t),this.config}doBasicSync(){return wn(this,void 0,void 0,function*(){var t=Object.keys(this.config).filter(i=>!this.teamKey.includes(i)&&this.config[i]),n=this.genSyncParams(t);this.logger.log("V2Sync:basic",n);var r=(yield this.core.clientSocket.sendCmd("v2NIMSync",{tag:n})).content.timetag;this.setTimetags(r,t.filter(i=>i!=="broadcastMsgs")),yield this.delaySyncDone(),yield this.handleImmediate(),this.core.logger.log("sync::basic sync complete in",r)})}doTeamSync(){return wn(this,void 0,void 0,function*(){var t=this.teamKey.filter(d=>this.config[d]);if(t.length!==0){var n=this.genSyncParams(t);this.core.eventBus.emit("V2NIMTeamService/onSyncStarted"),this.logger.log("V2Sync:team",n);var r=null;try{r=yield this.core.clientSocket.sendCmd("v2NIMSync",{tag:n})}catch(d){throw this.core.eventBus.emit("V2NIMTeamService/onSyncFailed",d),d}this.core.eventBus.emit("V2NIMTeamService/onSyncFinished");var i=r.content.timetag;this.setTimetags(i,this.teamKey),this.core.logger.log("sync::team sync complete in",i)}})}doQchatSync(){return wn(this,void 0,void 0,function*(){var t=yield this.core.clientSocket.sendCmd("v2QChatSync",{tag:{systemNotification:0}});this.core.logger.log("sync::qchat sync complete in",t.content.timetag)})}doSync(){return wn(this,void 0,void 0,function*(){var t=fr(this.core,"V2NIMLoginService.authenticator.loginClientOfThisConnection.loginType");if(t!==void 0){if(this.logger.log(`sync::doSync:type ${t}`),this.core.V2NIMLoginService.dataSync.switchDataSync({type:1,state:2,subType:"mainSync"}),t===1)try{yield this.doBasicSync(),yield this.doTeamSync()}catch(n){return void this.doSyncComplete(n)}else if(t===2)try{yield this.doQchatSync()}catch(n){return void this.doSyncComplete(n)}else{if(t!==3)return;try{yield this.doBasicSync(),yield this.doTeamSync(),yield this.doQchatSync()}catch(n){return void this.doSyncComplete(n)}}this.doSyncComplete()}else this.logger.warn("sync::doSync: no loginType, stop sync")})}doSyncComplete(t){t&&this.core.logger.log("sync::doSync complete but got error",t),this.core.V2NIMLoginService.dataSync.switchDataSync({type:1,state:3,error:t,subType:"mainSync"})}initEventListeners(){this.core.eventBus.on("V2NIMLoginService/loginLifeCycleLoginSucc",()=>{this.doSync()})}genSyncParams(t){return t.reduce((n,r)=>{var i=r;return n[i]=this.timetags[i]||0,n},{})}setTimetags(t,n){n.forEach(r=>{this.timetags[r]=t})}handleImmediate(){return this.core.session&&this.core.session.onSyncDone&&this.core.session.onSyncDone(),Promise.resolve()}delaySyncDone(){var{hostEnvEnum:t}=nr.getSystemInfo();return t===102?(this.core.logger.log("sync: emit ALIAPP sycnHandler, handle later"),new Promise(n=>{setTimeout(()=>{n()},100)})):Promise.resolve()}},"V2NIMSyncService");const Wje="_moduleWrapper_5lpya_1",Yje={moduleWrapper:Wje},Xje=()=>{const e=E.useRef(null),t=()=>{XPe(KDe),YM.registerService(Pje,"V2NIMMessageService"),e.current=YM.getInstance({appkey:V0,debugLevel:"debug",apiVersion:"v2"},{})},n=()=>{var r,i;(i=(r=e.current)==null?void 0:r.destroy)==null||i.call(r)};return s.jsxs("div",{className:Yje.moduleWrapper,children:[s.jsx(Ze,{type:"primary",onClick:t,style:{marginRight:16},children:"初始化实例"}),s.jsx(Ze,{type:"default",danger:!0,onClick:n,children:"销毁实例"})]})},Jje=`.moduleWrapper {
  padding: 24px;
  border-radius: 8px;
  border: 1px solid #f0f0f0;
}
`,Qje=`import { Button } from 'antd';
import {
  NIM,
  V2NIMMessageService,
  browserAdapters,
  setAdapters,
} from 'nim-web-sdk-ng/dist/esm/nim';
import { useRef } from 'react';

import { TEST_DEMO_APP_KEY } from '@/configs/sceneConfig';

import styles from './index.module.less';

const ESMUse = () => {
  const nimRef = useRef<NIM & { destroy?: () => void }>(null);

  const init = () => {
    setAdapters(browserAdapters);

    // 注册服务，登录模块无需注册，其他服务如果不注册，无法使用
    NIM.registerService(V2NIMMessageService, 'V2NIMMessageService');
    // ...

    // 初始化实例
    nimRef.current = NIM.getInstance(
      {
        appkey: TEST_DEMO_APP_KEY,
        debugLevel: 'debug',
        apiVersion: 'v2',
      },
      {}
    );
  };

  // 销毁实例
  const destroy = () => {
    nimRef.current?.destroy?.();
  };

  return (
    <div className={styles.moduleWrapper}>
      <Button type="primary" onClick={init} style={{ marginRight: 16 }}>
        初始化实例
      </Button>
      <Button type="default" danger onClick={destroy}>
        销毁实例
      </Button>
    </div>
  );
};

export default ESMUse;
`;function w7(e){const t={a:"a",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...e.components};return s.jsxs(s.Fragment,{children:[s.jsx(t.h1,{children:"初始化"}),`
`,s.jsx(t.p,{children:"初始化 SDK 后，才能使用 SDK 提供的功能。"}),`
`,s.jsx(t.h2,{children:"如何使用"}),`
`,s.jsxs(t.ul,{children:[`
`,s.jsxs(t.li,{children:["请确保已根据 ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/guide/TEzOTczMDI?platform=client",children:"接入流程"})," 创建应用并获取 App Key"]}),`
`,s.jsxs(t.li,{children:["详情请参考 ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/guide/zY4OTcyODQ?platform=client",children:"初始化 Web/uni-app/小程序 SDK"})]}),`
`]}),`
`,s.jsx(t.h2,{children:"场景演示"}),`
`,s.jsx(GI,{title:"基础用法",description:"展示如何初始化 NIM SDK",tsCode:GPe,cssCode:HPe,children:s.jsx(zv,{})}),`
`,s.jsx(GI,{title:"ESM引入",description:s.jsxs(t.p,{children:["通过 ESM 引入 SDK 并进行初始化，完整功能请查看"," ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/guide/DcyMjA1Njk?platform=client#方式二esm-引入",children:"集成文档"})]}),tsCode:Qje,cssCode:Jje,children:s.jsx(Xje,{})}),`
`,s.jsx(GI,{title:"事件监听",description:s.jsx(t.p,{children:"初始化完成后，您可以监听事件，获取各个服务的状态变更。"}),tsCode:FPe,cssCode:BPe,children:s.jsx(UPe,{})}),`
`,s.jsx(t.h2,{children:"初始化参数"}),`
`,s.jsx(t.h3,{children:"NIMInitializeOptions"}),`
`,s.jsxs(t.p,{children:["NIMInitializeOptions 详情请参考：",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/interfaces/src_NIMInterface.NIMInitializeOptions.html",children:"API 文档"})]}),`
`,s.jsxs(t.table,{children:[s.jsx(t.thead,{children:s.jsxs(t.tr,{children:[s.jsx(t.th,{children:"属性名"}),s.jsx(t.th,{children:"类型"}),s.jsx(t.th,{children:"默认值"}),s.jsx(t.th,{children:"说明"})]})}),s.jsxs(t.tbody,{children:[s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"appkey"}),s.jsx(t.td,{children:"string"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"应用的 AppKey（必填）"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"account"}),s.jsx(t.td,{children:"string?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"用户账号"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"token"}),s.jsx(t.td,{children:"string?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"登录凭证"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"apiVersion"}),s.jsx(t.td,{children:"string?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"API 版本"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"authType"}),s.jsx(t.td,{children:"number?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"认证类型"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"binaryWebsocket"}),s.jsx(t.td,{children:"boolean?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"是否使用二进制 WebSocket"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"customClientType"}),s.jsx(t.td,{children:"number?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"自定义客户端类型"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"debugLevel"}),s.jsx(t.td,{children:"string?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"调试级别"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"enableV2CloudConversation"}),s.jsx(t.td,{children:"boolean?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"是否启用 V2 云端会话"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"flutterSdkVersion"}),s.jsx(t.td,{children:"string?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"Flutter SDK 版本"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"isAbtestEnable"}),s.jsx(t.td,{children:"boolean?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"是否启用 A/B 测试"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"isFixedDeviceId"}),s.jsx(t.td,{children:"boolean?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"是否固定设备 ID"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"lbsUrls"}),s.jsx(t.td,{children:"string[]?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"负载均衡服务器 URL 列表"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"linkUrl"}),s.jsx(t.td,{children:"string?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"链接 URL"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"loginSDKTypeParamCompat"}),s.jsx(t.td,{children:"boolean?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"登录 SDK 类型参数兼容性"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"needReconnect"}),s.jsx(t.td,{children:"boolean?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"是否需要重连"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"reconnectionAttempts"}),s.jsx(t.td,{children:"number?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"重连尝试次数"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"socketConnectTimeout"}),s.jsx(t.td,{children:"number?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"Socket 连接超时时间"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"xhrConnectTimeout"}),s.jsx(t.td,{children:"number?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"XHR 连接超时时间"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"abtestUrl"}),s.jsx(t.td,{children:"string?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"A/B 测试 URL"})]})]})]}),`
`,s.jsx(t.h3,{children:"NIMOtherOptions"}),`
`,s.jsxs(t.p,{children:["NIMOtherOptions 详情请参考：",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/interfaces/src_NIMInterface.NIMOtherOptions.html",children:"API 文档"})]}),`
`,s.jsxs(t.table,{children:[s.jsx(t.thead,{children:s.jsxs(t.tr,{children:[s.jsx(t.th,{children:"属性名"}),s.jsx(t.th,{children:"类型"}),s.jsx(t.th,{children:"默认值"}),s.jsx(t.th,{children:"说明"})]})}),s.jsxs(t.tbody,{children:[s.jsxs(t.tr,{children:[s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/interfaces/src_V1NIMLoginService.NIMEModuleParamV1Login.html",children:s.jsx(t.strong,{children:"V1NIMLoginServiceConfig"})})}),s.jsx(t.td,{children:"object?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"V1 NIM 登录服务配置"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_NIMInterface.html#NIMEModuleParamV2NIMClientAntispamUtil",children:s.jsx(t.strong,{children:"V2NIMClientAntispamUtilConfig"})})}),s.jsx(t.td,{children:"object?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"V2 NIM 客户端反垃圾工具配置"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLoginService.html#NIMEModuleParamV2Login",children:s.jsx(t.strong,{children:"V2NIMLoginServiceConfig"})})}),s.jsx(t.td,{children:"object?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"V2 NIM 登录服务配置"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/interfaces/src_SyncServiceInterface.SyncOptions.html",children:s.jsx(t.strong,{children:"V2NIMSyncServiceConfig"})})}),s.jsx(t.td,{children:"object?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"V2 NIM 同步服务配置"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_NIMInterface.html#NIMOtherOptionsAbtestConfig",children:s.jsx(t.strong,{children:"abtestConfig"})})}),s.jsx(t.td,{children:"object?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"A/B 测试配置"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/interfaces/src_CloudStorageServiceInterface.NIMEModuleParamCloudStorageConfig.html",children:s.jsx(t.strong,{children:"cloudStorageConfig"})})}),s.jsx(t.td,{children:"object?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"云存储配置"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_NIMInterface.html#NIMOtherOptionsLoggerConfig",children:s.jsx(t.strong,{children:"loggerConfig"})})}),s.jsx(t.td,{children:"object?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"日志记录器配置"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_NIMInterface.html#NIMOtherOptionsPrivateConfig",children:s.jsx(t.strong,{children:"privateConf"})})}),s.jsx(t.td,{children:"object?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"私有配置"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"qchatChannelConfig"}),s.jsx(t.td,{children:"{ autoSubscribe?: boolean }?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"圈组频道配置"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"qchatMediaConfig"}),s.jsx(t.td,{children:"{ neroom?: any }?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"圈组媒体配置"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_NIMInterface.html#NIMOtherOptionsReporterConfig",children:s.jsx(t.strong,{children:"reporterConfig"})})}),s.jsx(t.td,{children:"object?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"报告器配置"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/interfaces/src_SyncServiceInterface.SyncOptions.html",children:s.jsx(t.strong,{children:"syncConfig"})})}),s.jsx(t.td,{children:"object?"}),s.jsx(t.td,{}),s.jsx(t.td,{children:"同步配置"})]})]})]}),`
`,s.jsx(t.h2,{children:"服务事件"}),`
`,s.jsx(t.p,{children:"监听事件分布在不同服务中，请参考对应服务的事件监听。"}),`
`,s.jsxs(t.table,{children:[s.jsx(t.thead,{children:s.jsxs(t.tr,{children:[s.jsx(t.th,{children:"服务模块"}),s.jsx(t.th,{children:"事件详情"})]})}),s.jsxs(t.tbody,{children:[s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMNotificationService"}),s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/classes/src_V2NIMNotificationService.V2NIMNotificationService.html#on",children:"通知服务事件"})})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMSubscriptionService"}),s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/classes/src_V2NIMSubscriptionService.V2NIMSubscriptionService.html#on",children:"订阅服务事件"})})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMConversationGroupService"}),s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/classes/src_V2NIMConversationGroupService.V2NIMConversationGroupService.html#on",children:"会话组服务事件"})})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLocalConversationService"}),s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/classes/src_V2NIMLocalConversationService.V2NIMLocalConversationService.html#on",children:"本地会话服务事件"})})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMConversationService"}),s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/classes/src_V2NIMConversationService.V2NIMConversationService.html#on",children:"会话服务事件"})})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"SignalingServiceInterface"}),s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/classes/src_SignalingServiceInterface.SignalingServiceInterface.html#on",children:"信令服务事件"})})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMAIService"}),s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/classes/src_V2NIMAIService.V2NIMAIService.html#on",children:"AI服务事件"})})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMFriendService"}),s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/classes/src_V2NIMFriendService.V2NIMFriendService.html#on",children:"好友服务事件"})})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLoginService"}),s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/classes/src_V2NIMLoginService.V2NIMLoginService.html#on",children:"登录服务事件"})})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMMessageService"}),s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/classes/src_V2NIMMessageService.V2NIMMessageService.html#on",children:"消息服务事件"})})]})]})]})]})}function Zje(e={}){const{wrapper:t}=e.components||{};return t?s.jsx(t,{...e,children:s.jsx(w7,{...e})}):w7(e)}function Kn(e){try{const t=e();return t&&typeof t=="object"&&"then"in t&&typeof t.then=="function"?t.then(n=>[null,n]).catch(n=>[n,void 0]):Promise.resolve([null,t])}catch(t){const n=t instanceof Error?t:new Error(String(t));return Promise.resolve([n,void 0])}}const eVe="_moduleWrapper_i5397_1",tVe="_loginButton_i5397_6",nVe="_loginButtonWrapper_i5397_9",rVe="_statusCard_i5397_13",aVe="_statusTitle_i5397_20",iVe="_statusAccount_i5397_25",oVe="_conversationCard_i5397_29",sVe="_conversationItem_i5397_35",lVe="_conversationTitle_i5397_44",cVe="_conversationId_i5397_50",uVe="_conversationMeta_i5397_54",dVe="_lastMessage_i5397_59",pVe="_conversationInfo_i5397_67",mVe="_unreadBadge_i5397_74",Ks={moduleWrapper:eVe,loginButton:tVe,loginButtonWrapper:nVe,statusCard:rVe,statusTitle:aVe,statusAccount:iVe,conversationCard:oVe,conversationItem:sVe,conversationTitle:lVe,conversationId:cVe,conversationMeta:uVe,lastMessage:dVe,conversationInfo:pVe,unreadBadge:mVe},fVe={labelCol:{span:6},wrapperCol:{span:14}},gVe=()=>{const[e,t]=E.useState(!1),[n,r]=E.useState(!1),[i,d]=E.useState(""),[g,v]=E.useState([]),[S,I]=E.useState(!1),[T,_]=E.useState(!1),N=E.useRef(null),[A]=Ie.useForm(),w=z=>({1:"P2P",2:"群聊",3:"超大群"})[z]||"未知",O=z=>{if(!z)return"无消息";const H=new Date(z),V=new Date,K=new Date(V.getFullYear(),V.getMonth(),V.getDate()),J=new Date(K.getTime()-24*60*60*1e3);return H>=K?H.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):H>=J?"昨天":H.toLocaleDateString("zh-CN",{month:"2-digit",day:"2-digit"})},R=async()=>{if(!(N.current&&N.current.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}I(!0);const[z,H]=await Kn(()=>{var V;return(V=N.current)==null?void 0:V.V2NIMLocalConversationService.getConversationList(0,50)});if(z){I(!1),ie.error(`获取会话列表失败: ${z}`),console.error("获取会话列表失败:",z.toString()),v([]);return}I(!1),console.log("获取到的会话列表:",H),v((H==null?void 0:H.conversationList)||[]),!(H!=null&&H.conversationList)||H.conversationList.length===0?ie.info("当前没有会话记录"):ie.success(`获取到 ${H.conversationList.length} 个会话`)},D=async()=>{_(!0),await R(),_(!1)},j=()=>{N.current&&(N.current.V2NIMLocalConversationService.on("onConversationCreated",z=>{console.log("会话被创建:",z),R()}),N.current.V2NIMLocalConversationService.on("onConversationChanged",z=>{console.log("会话有更新:",z),R()}),N.current.V2NIMLocalConversationService.on("onConversationDeleted",z=>{console.log("会话被删除:",z),R()}))},L=async({appkey:z,account:H,token:V})=>{var K,J;r(!0);try{N.current&&((J=(K=N.current).destroy)==null||J.call(K)),N.current=j0.getInstance({appkey:z||V0,debugLevel:"debug",apiVersion:"v2"},{V2NIMLoginServiceConfig:{lbsUrls:["https://imtest-gy.netease.im/lbs/webconf"],linkUrl:"weblink-dev-gy.netease.im:443"}});try{await N.current.V2NIMLoginService.login(H,V),ie.success("登录成功"),t(!0),d(H),j(),setTimeout(()=>{R()},1e3)}catch(te){ie.error(`登录失败: ${te.toString()}`);return}}catch(te){ie.error(`操作失败: ${te}`)}finally{r(!1)}},U=async()=>{if(!N.current){ie.error("NIM SDK 未初始化");return}r(!0);try{await N.current.V2NIMLoginService.logout(),ie.success("登出成功"),t(!1),d(""),v([])}catch(z){ie.error(`登出失败: ${z}`)}finally{r(!1)}},$=()=>{var z,H;(H=(z=N.current)==null?void 0:z.destroy)==null||H.call(z),t(!1),d(""),v([]),ie.success("实例已销毁")},F=async z=>{var H;if(!N.current){ie.error("NIM SDK 未初始化");return}try{await((H=N.current)==null?void 0:H.V2NIMLocalConversationService.deleteConversation(z,!0)),ie.success("删除会话成功"),R()}catch(V){ie.error(`删除会话失败: ${V}`)}};return s.jsx("div",{className:Ks.moduleWrapper,children:e?s.jsxs("div",{children:[s.jsxs("div",{className:Ks.statusCard,children:[s.jsx("p",{className:Ks.statusTitle,children:"✓ 登录状态：已登录"}),s.jsxs("p",{className:Ks.statusAccount,children:["当前账号：",i]})]}),s.jsxs(on,{style:{marginBottom:16},children:[s.jsx(Ze,{type:"default",onClick:U,loading:n,children:"登出"}),s.jsx(Ze,{type:"default",danger:!0,onClick:$,children:"销毁实例"}),s.jsx(Ze,{type:"primary",onClick:D,loading:T,children:"刷新会话列表"})]}),s.jsx(_t,{title:"会话列表",className:Ks.conversationCard,children:s.jsx(yM,{loading:S,dataSource:g,locale:{emptyText:"暂无会话记录"},renderItem:z=>{var H;return s.jsx(yM.Item,{className:Ks.conversationItem,actions:[s.jsx(Ze,{type:"link",danger:!0,size:"small",onClick:()=>F(z.conversationId),children:"删除"},"delete")],children:s.jsx(yM.Item.Meta,{title:s.jsxs("div",{className:Ks.conversationTitle,children:[z.stickTop&&s.jsx(ln,{color:"orange",children:"置顶"}),s.jsx(ln,{color:"blue",children:w(z.type)}),s.jsx("span",{className:Ks.conversationId,children:z.conversationId})]}),description:s.jsxs("div",{className:Ks.conversationMeta,children:[s.jsx("div",{className:Ks.lastMessage,children:((H=z.lastMessage)==null?void 0:H.text)||"暂无消息"}),s.jsxs("div",{className:Ks.conversationInfo,children:[s.jsxs("span",{children:["更新时间: ",O(z.updateTime)]}),z.unreadCount>0&&s.jsx(ln,{color:"red",className:Ks.unreadBadge,children:z.unreadCount>99?"99+":z.unreadCount})]})]})})},z.conversationId)}})})]}):s.jsxs(Ie,{...fVe,form:A,onFinish:L,initialValues:{account:KJ,token:WJ},children:[s.jsx(Ie.Item,{label:"AppKey",name:"appkey",children:s.jsx(yn,{placeholder:"可以替换为自己的AppKey"})}),s.jsx(Ie.Item,{label:"账号",name:"account",rules:[{required:!0,message:"请输入账号"}],children:s.jsx(yn,{placeholder:"请输入账号"})}),s.jsx(Ie.Item,{label:"Token",name:"token",rules:[{required:!0,message:"请输入Token"}],children:s.jsx(yn.Password,{placeholder:"请输入Token"})}),s.jsx(Ie.Item,{className:Ks.loginButtonWrapper,children:s.jsx(Ze,{type:"primary",htmlType:"submit",loading:n,className:Ks.loginButton,children:"登录"})})]})})},hVe=`.moduleWrapper {
  padding: 24px;
  border-radius: 8px;
  border: 1px solid #f0f0f0;
}

.loginButton {
  width: 200px;
}

.loginButtonWrapper {
  display: flex;
  justify-content: center;
}

.statusCard {
  margin-bottom: 16px;
  padding: 16px;
  background-color: #f6ffed;
  border: 1px solid #b7eb8f;
  border-radius: 6px;
}

.statusTitle {
  margin: 0;
  color: #52c41a;
  font-weight: bold;
}

.statusAccount {
  margin: 8px 0 0 0;
  color: #666;
}

.conversationCard {
  margin-top: 16px;

  .ant-card-body {
    padding: 16px;
  }
}

.conversationItem {
  border-bottom: 1px solid #f0f0f0;

  &:last-child {
    border-bottom: none;
  }

  &:hover {
    background-color: #fafafa;
  }
}

.conversationTitle {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
}

.conversationId {
  font-weight: 500;
  color: #333;
}

.conversationMeta {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.lastMessage {
  color: #666;
  font-size: 14px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 300px;
}

.conversationInfo {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 12px;
  color: #999;
}

.unreadBadge {
  margin-left: 8px;
}

:global(.ant-list-item-meta) {
  padding: 0 24px;
}
`,vVe=`import { Button, Card, Form, Input, List, Space, Tag, message } from 'antd';
import NIM from 'nim-web-sdk-ng';
import { V2NIMLocalConversation } from 'nim-web-sdk-ng/dist/v2/NIM_BROWSER_SDK/V2NIMLocalConversationService';
import { useRef, useState } from 'react';

import { TEST_DEMO_ACCOUNT, TEST_DEMO_APP_KEY, TEST_DEMO_TOKEN } from '@/configs/sceneConfig';
import { to } from '@/utils/errorHandle';

import styles from './index.module.less';

interface LoginFormValues {
  appkey: string;
  account: string;
  token: string;
}

const layout = {
  labelCol: { span: 6 },
  wrapperCol: { span: 14 },
};

const BasicUse = () => {
  const [isLoggedIn, setIsLoggedIn] = useState(false);
  const [loading, setLoading] = useState(false);
  const [currentAccount, setCurrentAccount] = useState('');
  const [conversations, setConversations] = useState<V2NIMLocalConversation[]>([]);
  const [conversationsLoading, setConversationsLoading] = useState(false);
  const [refreshing, setRefreshing] = useState(false);

  const nimRef = useRef<NIM & { destroy?: () => void }>(null);
  const [form] = Form.useForm();

  // 格式化会话类型
  const formatConversationType = (type: number) => {
    const typeMap: { [key: number]: string } = {
      1: 'P2P',
      2: '群聊',
      3: '超大群',
    };
    return typeMap[type] || '未知';
  };

  // 格式化时间
  const formatTime = (timestamp: number) => {
    if (!timestamp) return '无消息';
    const date = new Date(timestamp);
    const now = new Date();
    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
    const yesterday = new Date(today.getTime() - 24 * 60 * 60 * 1000);

    if (date >= today) {
      return date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' });
    } else if (date >= yesterday) {
      return '昨天';
    } else {
      return date.toLocaleDateString('zh-CN', { month: '2-digit', day: '2-digit' });
    }
  };

  // 获取会话列表
  const getConversationList = async () => {
    if (!(nimRef.current && nimRef.current.V2NIMLoginService.getLoginUser())) {
      message.error('NIM SDK 尚未初始化和登录');
      return;
    }

    setConversationsLoading(true);
    const [error, result] = await to(() =>
      nimRef.current?.V2NIMLocalConversationService.getConversationList(0, 50)
    );
    if (error) {
      setConversationsLoading(false);
      message.error(\`获取会话列表失败: \${error}\`);
      console.error('获取会话列表失败:', error.toString());
      setConversations([]);
      return;
    }
    setConversationsLoading(false);

    console.log('获取到的会话列表:', result);
    setConversations(result?.conversationList || []);

    if (!result?.conversationList || result.conversationList.length === 0) {
      message.info('当前没有会话记录');
    } else {
      message.success(\`获取到 \${result.conversationList.length} 个会话\`);
    }
  };

  // 刷新会话列表
  const handleRefresh = async () => {
    setRefreshing(true);
    await getConversationList();
    setRefreshing(false);
  };

  // 监听会话变化
  const setupConversationListeners = () => {
    if (!nimRef.current) return;

    // 监听会话创建
    nimRef.current.V2NIMLocalConversationService.on(
      'onConversationCreated',
      (conversation: V2NIMLocalConversation) => {
        console.log('会话被创建:', conversation);
        getConversationList(); // 重新获取列表
      }
    );

    // 监听会话变化
    nimRef.current.V2NIMLocalConversationService.on(
      'onConversationChanged',
      (conversationList: V2NIMLocalConversation[]) => {
        console.log('会话有更新:', conversationList);
        getConversationList(); // 重新获取列表
      }
    );

    // 监听会话删除
    nimRef.current.V2NIMLocalConversationService.on(
      'onConversationDeleted',
      (conversationIds: string[]) => {
        console.log('会话被删除:', conversationIds);
        getConversationList(); // 重新获取列表
      }
    );
  };

  // 初始化并登录
  const handleLogin = async ({ appkey, account, token }: LoginFormValues) => {
    setLoading(true);
    try {
      // 先销毁之前的实例
      if (nimRef.current) {
        nimRef.current.destroy?.();
      }

      // 初始化新实例
      nimRef.current = NIM.getInstance(
        {
          appkey: appkey || TEST_DEMO_APP_KEY,
          debugLevel: 'debug',
          apiVersion: 'v2',
        },
        {
          V2NIMLoginServiceConfig: {
            lbsUrls: ['https://imtest-gy.netease.im/lbs/webconf'],
            linkUrl: 'weblink-dev-gy.netease.im:443',
          },
        }
      );

      // 执行登录
      try {
        await nimRef.current.V2NIMLoginService.login(account, token);
        message.success('登录成功');
        setIsLoggedIn(true);
        setCurrentAccount(account);

        // 设置会话监听器
        setupConversationListeners();

        // 登录成功后自动获取会话列表
        setTimeout(() => {
          getConversationList();
        }, 1000);
      } catch (loginError: any) {
        message.error(\`登录失败: \${loginError.toString()}\`);
        return;
      }
    } catch (error: any) {
      message.error(\`操作失败: \${error}\`);
    } finally {
      setLoading(false);
    }
  };

  // 登出
  const handleLogout = async () => {
    if (!nimRef.current) {
      message.error('NIM SDK 未初始化');
      return;
    }

    setLoading(true);
    try {
      await nimRef.current.V2NIMLoginService.logout();
      message.success('登出成功');
      setIsLoggedIn(false);
      setCurrentAccount('');
      setConversations([]);
    } catch (error) {
      message.error(\`登出失败: \${error}\`);
    } finally {
      setLoading(false);
    }
  };

  // 销毁实例
  const destroy = () => {
    nimRef.current?.destroy?.();
    setIsLoggedIn(false);
    setCurrentAccount('');
    setConversations([]);
    message.success('实例已销毁');
  };

  // 删除会话
  const handleDeleteConversation = async (conversationId: string) => {
    if (!nimRef.current) {
      message.error('NIM SDK 未初始化');
      return;
    }

    try {
      await nimRef.current?.V2NIMLocalConversationService.deleteConversation(conversationId, true);
      message.success('删除会话成功');
      getConversationList();
    } catch (error) {
      message.error(\`删除会话失败: \${error}\`);
    }
  };

  return (
    <div className={styles.moduleWrapper}>
      {!isLoggedIn ? (
        <Form
          {...layout}
          form={form}
          onFinish={handleLogin}
          initialValues={{
            account: TEST_DEMO_ACCOUNT,
            token: TEST_DEMO_TOKEN,
          }}
        >
          <Form.Item label="AppKey" name="appkey">
            <Input placeholder="可以替换为自己的AppKey" />
          </Form.Item>

          <Form.Item
            label="账号"
            name="account"
            rules={[{ required: true, message: '请输入账号' }]}
          >
            <Input placeholder="请输入账号" />
          </Form.Item>

          <Form.Item
            label="Token"
            name="token"
            rules={[{ required: true, message: '请输入Token' }]}
          >
            <Input.Password placeholder="请输入Token" />
          </Form.Item>

          <Form.Item className={styles.loginButtonWrapper}>
            <Button
              type="primary"
              htmlType="submit"
              loading={loading}
              className={styles.loginButton}
            >
              登录
            </Button>
          </Form.Item>
        </Form>
      ) : (
        <div>
          <div className={styles.statusCard}>
            <p className={styles.statusTitle}>✓ 登录状态：已登录</p>
            <p className={styles.statusAccount}>当前账号：{currentAccount}</p>
          </div>

          <Space style={{ marginBottom: 16 }}>
            <Button type="default" onClick={handleLogout} loading={loading}>
              登出
            </Button>
            <Button type="default" danger onClick={destroy}>
              销毁实例
            </Button>
            <Button type="primary" onClick={handleRefresh} loading={refreshing}>
              刷新会话列表
            </Button>
          </Space>

          <Card title="会话列表" className={styles.conversationCard}>
            <List
              loading={conversationsLoading}
              dataSource={conversations}
              locale={{ emptyText: '暂无会话记录' }}
              renderItem={conversation => (
                <List.Item
                  key={conversation.conversationId}
                  className={styles.conversationItem}
                  actions={[
                    <Button
                      key="delete"
                      type="link"
                      danger
                      size="small"
                      onClick={() => handleDeleteConversation(conversation.conversationId)}
                    >
                      删除
                    </Button>,
                  ]}
                >
                  <List.Item.Meta
                    title={
                      <div className={styles.conversationTitle}>
                        {conversation.stickTop && <Tag color="orange">置顶</Tag>}
                        <Tag color="blue">{formatConversationType(conversation.type)}</Tag>
                        <span className={styles.conversationId}>{conversation.conversationId}</span>
                      </div>
                    }
                    description={
                      <div className={styles.conversationMeta}>
                        <div className={styles.lastMessage}>
                          {conversation.lastMessage?.text || '暂无消息'}
                        </div>
                        <div className={styles.conversationInfo}>
                          <span>更新时间: {formatTime(conversation.updateTime)}</span>
                          {conversation.unreadCount > 0 && (
                            <Tag color="red" className={styles.unreadBadge}>
                              {conversation.unreadCount > 99 ? '99+' : conversation.unreadCount}
                            </Tag>
                          )}
                        </div>
                      </div>
                    }
                  />
                </List.Item>
              )}
            />
          </Card>
        </div>
      )}
    </div>
  );
};

export default BasicUse;
`;function N7(e){const t={a:"a",h1:"h1",h2:"h2",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...e.components};return s.jsxs(s.Fragment,{children:[s.jsx(t.h1,{children:"本地会话"}),`
`,s.jsx(t.p,{children:"网易云信 IM 支持本地会话管理功能，包括创建、更新、删除本地会话等基础操作，以及置顶会话等进阶操作。本地会话列表由 SDK 维护并提供查询、监听变化的接口，当会话变更时，SDK 会自动更新会话列表并通知，您无需手动更新。"}),`
`,s.jsx(t.h2,{children:"场景演示"}),`
`,s.jsx(GI,{title:"基础用法",description:"本地会话模块的基础用法，包括创建、更新、删除本地会话等。",tsCode:vVe,cssCode:hVe,children:s.jsx(gVe,{})}),`
`,s.jsx(t.h2,{children:"方法列表"}),`
`,s.jsxs(t.p,{children:["方法详情请参考：",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/classes/src_V2NIMLocalConversationService.V2NIMLocalConversationService.html",children:"API 文档"})]}),`
`,s.jsxs(t.table,{children:[s.jsx(t.thead,{children:s.jsxs(t.tr,{children:[s.jsx(t.th,{children:"方法名"}),s.jsx(t.th,{children:"入参"}),s.jsx(t.th,{children:"出参"}),s.jsx(t.th,{children:"说明"})]})}),s.jsxs(t.tbody,{children:[s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"clearTotalUnreadCount"}),s.jsx(t.td,{children:"无"}),s.jsx(t.td,{children:"Promise<void>"}),s.jsx(t.td,{children:"清除总未读数"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"clearUnreadCountByIds"}),s.jsx(t.td,{children:"conversationIds: string[]"}),s.jsxs(t.td,{children:["Promise<",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLocalConversationService.html#V2NIMLocalConversationOperationResult",children:"V2NIMLocalConversationOperationResult"}),"[]>"]}),s.jsx(t.td,{children:"根据会话ID清除未读数"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"clearUnreadCountByTypes"}),s.jsxs(t.td,{children:["types: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/enums/src_V2NIMConversationService.V2NIMConversationType.html",children:"V2NIMConversationType"}),"[]"]}),s.jsx(t.td,{children:"Promise<void>"}),s.jsx(t.td,{children:"根据会话类型清除未读数"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"createConversation"}),s.jsx(t.td,{children:"conversationId: string"}),s.jsxs(t.td,{children:["Promise<",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLocalConversationService.html#V2NIMLocalConversation",children:"V2NIMLocalConversation"}),">"]}),s.jsx(t.td,{children:"创建会话"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"deleteConversation"}),s.jsx(t.td,{children:"conversationId: string, clearMessage?: boolean"}),s.jsx(t.td,{children:"Promise<void>"}),s.jsx(t.td,{children:"删除会话"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"deleteConversationListByIds"}),s.jsx(t.td,{children:"conversationIds: string[], clearMessage?: boolean"}),s.jsxs(t.td,{children:["Promise<",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLocalConversationService.html#V2NIMLocalConversationOperationResult",children:"V2NIMLocalConversationOperationResult"}),"[]>"]}),s.jsx(t.td,{children:"批量删除会话"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getConversation"}),s.jsx(t.td,{children:"conversationId: string"}),s.jsxs(t.td,{children:["Promise<",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLocalConversationService.html#V2NIMLocalConversation",children:"V2NIMLocalConversation"}),">"]}),s.jsx(t.td,{children:"获取单个会话"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getConversationList"}),s.jsx(t.td,{children:"offset: number, limit: number"}),s.jsxs(t.td,{children:["Promise<",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLocalConversationService.html#V2NIMLocalConversationOperationResult",children:"V2NIMLocalConversationResult"}),">"]}),s.jsx(t.td,{children:"获取会话列表"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getConversationListByIds"}),s.jsx(t.td,{children:"conversationIds: string[]"}),s.jsxs(t.td,{children:["Promise<",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLocalConversationService.html#V2NIMLocalConversation",children:"V2NIMLocalConversation"}),"[]>"]}),s.jsx(t.td,{children:"根据ID获取会话列表"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getConversationListByOption"}),s.jsxs(t.td,{children:["offset: number, limit: number, option: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLocalConversationService.html#V2NIMLocalConversationOption",children:"V2NIMLocalConversationOption"})]}),s.jsxs(t.td,{children:["Promise<",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLocalConversationService.html#V2NIMLocalConversationOperationResult",children:"V2NIMLocalConversationResult"}),">"]}),s.jsx(t.td,{children:"根据选项获取会话列表"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getConversationReadTime"}),s.jsx(t.td,{children:"conversationId: string"}),s.jsx(t.td,{children:"Promise<number>"}),s.jsx(t.td,{children:"获取会话已读时间戳"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getStickTopConversationList"}),s.jsx(t.td,{children:"无"}),s.jsxs(t.td,{children:["Promise<",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLocalConversationService.html#V2NIMLocalConversation",children:"V2NIMLocalConversation"}),"[]>"]}),s.jsx(t.td,{children:"获取置顶会话列表"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getTotalUnreadCount"}),s.jsx(t.td,{children:"无"}),s.jsx(t.td,{children:"number"}),s.jsx(t.td,{children:"获取总未读数"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getUnreadCountByFilter"}),s.jsxs(t.td,{children:["filter: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLocalConversationService.html#V2NIMLocalConversationFilter",children:"V2NIMLocalConversationFilter"})]}),s.jsx(t.td,{children:"Promise<number>"}),s.jsx(t.td,{children:"根据过滤器获取未读数"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getUnreadCountByIds"}),s.jsx(t.td,{children:"conversationIds: string[]"}),s.jsx(t.td,{children:"Promise<number>"}),s.jsx(t.td,{children:"根据ID获取未读数"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"markConversationRead"}),s.jsx(t.td,{children:"conversationId: string"}),s.jsx(t.td,{children:"Promise<number>"}),s.jsx(t.td,{children:"标记会话为已读"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"on"}),s.jsx(t.td,{children:"eventName: T, fn: Function"}),s.jsx(t.td,{children:"void"}),s.jsx(t.td,{children:"添加事件监听器"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"off"}),s.jsx(t.td,{children:"eventName: T, fn: Function"}),s.jsx(t.td,{children:"void"}),s.jsx(t.td,{children:"移除事件监听器"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"once"}),s.jsx(t.td,{children:"eventName: T, fn: Function"}),s.jsx(t.td,{children:"void"}),s.jsx(t.td,{children:"添加一次性事件监听器"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"removeAllListeners"}),s.jsx(t.td,{children:"eventName?: T"}),s.jsx(t.td,{children:"void"}),s.jsx(t.td,{children:"移除所有监听器"})]})]})]}),`
`,s.jsx(t.h2,{children:"事件列表"}),`
`,s.jsxs(t.p,{children:["事件详情请参考 ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/interfaces/src_V2NIMLocalConversationService.V2NIMLocalConversationListener.html",children:"API 文档"})]}),`
`,s.jsxs(t.table,{children:[s.jsx(t.thead,{children:s.jsxs(t.tr,{children:[s.jsx(t.th,{children:"服务"}),s.jsx(t.th,{children:"事件"}),s.jsx(t.th,{children:"参数"}),s.jsx(t.th,{children:"说明"})]})}),s.jsxs(t.tbody,{children:[s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLocalConversationService"}),s.jsx(t.td,{children:"onConversationChanged"}),s.jsxs(t.td,{children:["conversation: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLocalConversationService.html#V2NIMLocalConversation",children:"V2NIMLocalConversation"})]}),s.jsx(t.td,{children:"会话有更新"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLocalConversationService"}),s.jsx(t.td,{children:"onConversationCreated"}),s.jsxs(t.td,{children:["conversation: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLocalConversationService.html#V2NIMLocalConversation",children:"V2NIMLocalConversation"})]}),s.jsx(t.td,{children:"会话被创建"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLocalConversationService"}),s.jsx(t.td,{children:"onConversationDeleted"}),s.jsx(t.td,{children:"conversationIds: string[]"}),s.jsx(t.td,{children:"会话被删除"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLocalConversationService"}),s.jsx(t.td,{children:"onConversationReadTimeUpdated"}),s.jsx(t.td,{children:"conversationId: string, readTime: number"}),s.jsx(t.td,{children:"会话已读时间戳更新"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLocalConversationService"}),s.jsx(t.td,{children:"onSyncFailed"}),s.jsxs(t.td,{children:["error: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/interfaces/src_types.V2NIMError.html",children:"V2NIMError"})]}),s.jsx(t.td,{children:"会话模块数据同步失败"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLocalConversationService"}),s.jsx(t.td,{children:"onSyncFinished"}),s.jsx(t.td,{children:"无"}),s.jsx(t.td,{children:"会话模块数据同步结束"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLocalConversationService"}),s.jsx(t.td,{children:"onSyncStarted"}),s.jsx(t.td,{children:"无"}),s.jsx(t.td,{children:"会话模块数据同步开始"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLocalConversationService"}),s.jsx(t.td,{children:"onTotalUnreadCountChanged"}),s.jsx(t.td,{children:"unreadCount: number"}),s.jsx(t.td,{children:"总未读数发生变化"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLocalConversationService"}),s.jsx(t.td,{children:"onUnreadCountChangedByFilter"}),s.jsxs(t.td,{children:["filter: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLocalConversationService.html#V2NIMLocalConversationFilter",children:"V2NIMLocalConversationFilter"}),", unreadCount: number"]}),s.jsx(t.td,{children:"指定过滤条件的未读数变化"})]})]})]})]})}function yVe(e={}){const{wrapper:t}=e.components||{};return t?s.jsx(t,{...e,children:s.jsx(N7,{...e})}):N7(e)}const bVe="_moduleWrapper_1nb81_1",SVe="_loginButton_1nb81_6",IVe="_loginButtonWrapper_1nb81_9",EVe="_statusCard_1nb81_13",CVe="_statusTitle_1nb81_20",TVe="_statusAccount_1nb81_25",qv={moduleWrapper:bVe,loginButton:SVe,loginButtonWrapper:IVe,statusCard:EVe,statusTitle:CVe,statusAccount:TVe},MVe={labelCol:{span:6},wrapperCol:{span:14}},_Ve=()=>{const[e,t]=E.useState(!1),[n,r]=E.useState(!1),[i,d]=E.useState(""),g=E.useRef(null),[v]=Ie.useForm(),S=async({appkey:_,account:N,token:A})=>{var w,O;r(!0);try{g.current&&((O=(w=g.current).destroy)==null||O.call(w)),g.current=j0.getInstance({appkey:_||V0,debugLevel:"debug",apiVersion:"v2"},{V2NIMLoginServiceConfig:{lbsUrls:["https://imtest-gy.netease.im/lbs/webconf"],linkUrl:"weblink-dev-gy.netease.im:443"}});try{await g.current.V2NIMLoginService.login(N,A),ie.success("登录成功"),t(!0),d(N)}catch(R){ie.error(`登录失败: ${R.toString()}`);return}}catch(R){ie.error(`操作失败: ${R}`)}finally{r(!1)}},I=async()=>{if(!g.current){ie.error("NIM SDK 未初始化");return}r(!0);try{await g.current.V2NIMLoginService.logout(),ie.success("登出成功"),t(!1),d("")}catch(_){ie.error(`登出失败: ${_}`)}finally{r(!1)}},T=()=>{var _,N;(N=(_=g.current)==null?void 0:_.destroy)==null||N.call(_),t(!1),d(""),ie.success("实例已销毁")};return s.jsx("div",{className:qv.moduleWrapper,children:e?s.jsxs("div",{children:[s.jsxs("div",{className:qv.statusCard,children:[s.jsx("p",{className:qv.statusTitle,children:"✓ 登录状态：已登录"}),s.jsxs("p",{className:qv.statusAccount,children:["当前账号：",i]})]}),s.jsxs(on,{children:[s.jsx(Ze,{type:"default",onClick:I,loading:n,children:"登出"}),s.jsx(Ze,{type:"default",danger:!0,onClick:T,children:"销毁实例"})]})]}):s.jsxs(Ie,{...MVe,form:v,onFinish:S,initialValues:{account:KJ,token:WJ},children:[s.jsx(Ie.Item,{label:"AppKey",name:"appkey",children:s.jsx(yn,{placeholder:"可以替换为自己的AppKey"})}),s.jsx(Ie.Item,{label:"账号",name:"account",rules:[{required:!0,message:"请输入账号"}],children:s.jsx(yn,{placeholder:"请输入账号"})}),s.jsx(Ie.Item,{label:"Token",name:"token",rules:[{required:!0,message:"请输入Token"}],children:s.jsx(yn.Password,{placeholder:"请输入Token"})}),s.jsx(Ie.Item,{className:qv.loginButtonWrapper,children:s.jsx(Ze,{type:"primary",htmlType:"submit",loading:n,className:qv.loginButton,children:"登录"})})]})})},xVe=`.moduleWrapper {
  padding: 24px;
  border-radius: 8px;
  border: 1px solid #f0f0f0;
}

.loginButton {
  width: 200px;
}

.loginButtonWrapper {
  display: flex;
  justify-content: center;
}

.statusCard {
  margin-bottom: 16px;
  padding: 16px;
  background-color: #f6ffed;
  border: 1px solid #b7eb8f;
  border-radius: 6px;
}

.statusTitle {
  margin: 0;
  color: #52c41a;
  font-weight: bold;
}

.statusAccount {
  margin: 8px 0 0 0;
  color: #666;
}
`,wVe=`import { Button, Form, Input, Space, message } from 'antd';
import NIM from 'nim-web-sdk-ng';
import { useRef, useState } from 'react';

import { TEST_DEMO_ACCOUNT, TEST_DEMO_APP_KEY, TEST_DEMO_TOKEN } from '@/configs/sceneConfig';

import styles from './index.module.less';

interface LoginFormValues {
  appkey: string;
  account: string;
  token: string;
}

const layout = {
  labelCol: { span: 6 },
  wrapperCol: { span: 14 },
};

const BasicUse = () => {
  const [isLoggedIn, setIsLoggedIn] = useState(false);
  const [loading, setLoading] = useState(false);
  const [currentAccount, setCurrentAccount] = useState('');

  const nimRef = useRef<NIM & { destroy?: () => void }>(null);

  const [form] = Form.useForm();

  // 初始化并登录
  const handleLogin = async ({ appkey, account, token }: LoginFormValues) => {
    setLoading(true);
    try {
      // 先销毁之前的实例
      if (nimRef.current) {
        nimRef.current.destroy?.();
      }

      // 初始化新实例
      nimRef.current = NIM.getInstance(
        {
          appkey: appkey || TEST_DEMO_APP_KEY,
          debugLevel: 'debug',
          apiVersion: 'v2',
        },
        {
          V2NIMLoginServiceConfig: {
            lbsUrls: ['https://imtest-gy.netease.im/lbs/webconf'],
            linkUrl: 'weblink-dev-gy.netease.im:443',
          },
        }
      );

      // 执行登录
      try {
        await nimRef.current.V2NIMLoginService.login(account, token);
        message.success('登录成功');
        setIsLoggedIn(true);
        setCurrentAccount(account);
      } catch (loginError: any) {
        message.error(\`登录失败: \${loginError.toString()}\`);
        return;
      }
    } catch (error: any) {
      message.error(\`操作失败: \${error}\`);
    } finally {
      setLoading(false);
    }
  };

  // 登出
  const handleLogout = async () => {
    if (!nimRef.current) {
      message.error('NIM SDK 未初始化');
      return;
    }

    setLoading(true);
    try {
      await nimRef.current.V2NIMLoginService.logout();

      message.success('登出成功');
      setIsLoggedIn(false);
      setCurrentAccount('');
    } catch (error) {
      message.error(\`登出失败: \${error}\`);
    } finally {
      setLoading(false);
    }
  };

  // 销毁实例
  const destroy = () => {
    nimRef.current?.destroy?.();
    setIsLoggedIn(false);
    setCurrentAccount('');
    message.success('实例已销毁');
  };

  return (
    <div className={styles.moduleWrapper}>
      {!isLoggedIn ? (
        <Form
          {...layout}
          form={form}
          onFinish={handleLogin}
          initialValues={{
            account: TEST_DEMO_ACCOUNT,
            token: TEST_DEMO_TOKEN,
          }}
        >
          <Form.Item label="AppKey" name="appkey">
            <Input placeholder="可以替换为自己的AppKey" />
          </Form.Item>

          <Form.Item
            label="账号"
            name="account"
            rules={[{ required: true, message: '请输入账号' }]}
          >
            <Input placeholder="请输入账号" />
          </Form.Item>

          <Form.Item
            label="Token"
            name="token"
            rules={[{ required: true, message: '请输入Token' }]}
          >
            <Input.Password placeholder="请输入Token" />
          </Form.Item>

          <Form.Item className={styles.loginButtonWrapper}>
            <Button
              type="primary"
              htmlType="submit"
              loading={loading}
              className={styles.loginButton}
            >
              登录
            </Button>
          </Form.Item>
        </Form>
      ) : (
        <div>
          <div className={styles.statusCard}>
            <p className={styles.statusTitle}>✓ 登录状态：已登录</p>
            <p className={styles.statusAccount}>当前账号：{currentAccount}</p>
          </div>

          <Space>
            <Button type="default" onClick={handleLogout} loading={loading}>
              登出
            </Button>
            <Button type="default" danger onClick={destroy}>
              销毁实例
            </Button>
          </Space>
        </div>
      )}
    </div>
  );
};

export default BasicUse;
`;function R7(e){const t={a:"a",h1:"h1",h2:"h2",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...e.components};return s.jsxs(s.Fragment,{children:[s.jsx(t.h1,{children:"登录"}),`
`,s.jsx(t.p,{children:"初始化网易云信即时通讯 SDK（NetEase IM SDK，简称 NIM SDK）之后，您可以调用接口登录 IM 应用。账号登录成功后，应用才能正常调用收发消息和创建会话等其他 SDK 接口。本文介绍账号集成与登录的技术原理、实现 IM 登录及登出的流程、IM 登录状态转换流程，以及相关常见问题。"}),`
`,s.jsx(t.h2,{children:"如何使用"}),`
`,s.jsxs(t.ul,{children:[`
`,s.jsxs(t.li,{children:["请确保已根据 ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/guide/TEzOTczMDI?platform=client",children:"接入流程"})," 完成了以下步骤：",`
`,s.jsxs(t.ul,{children:[`
`,s.jsx(t.li,{children:"创建应用并获取 App Key"}),`
`,s.jsx(t.li,{children:"开通 IM 产品"}),`
`,s.jsx(t.li,{children:"注册 IM 账号"}),`
`]}),`
`]}),`
`,s.jsxs(t.li,{children:["登录详情请参考 ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/guide/Dk1MTY4MzA?platform=client",children:"登录及登出 IM"})]}),`
`]}),`
`,s.jsx(t.h2,{children:"场景演示"}),`
`,s.jsx(GI,{title:"基础用法",description:"登录、登出的基础用法",tsCode:wVe,cssCode:xVe,children:s.jsx(_Ve,{})}),`
`,s.jsx(t.h2,{children:"方法列表"}),`
`,s.jsxs(t.p,{children:["方法详情请参考：",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/classes/src_V2NIMLoginService.V2NIMLoginService.html",children:"API 文档"})]}),`
`,s.jsxs(t.table,{children:[s.jsx(t.thead,{children:s.jsxs(t.tr,{children:[s.jsx(t.th,{children:"方法名"}),s.jsx(t.th,{children:"入参"}),s.jsx(t.th,{children:"出参"}),s.jsx(t.th,{children:"说明"})]})}),s.jsxs(t.tbody,{children:[s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"login"}),s.jsxs(t.td,{children:["accountId: string, token: string, loginOption?: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLoginService.html#V2NIMLoginOption",children:"V2NIMLoginOption"})]}),s.jsx(t.td,{children:"Promise<void>"}),s.jsx(t.td,{children:"登录接口"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"logout"}),s.jsx(t.td,{children:"无"}),s.jsx(t.td,{children:"Promise<void>"}),s.jsx(t.td,{children:"登出接口"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getLoginStatus"}),s.jsx(t.td,{children:"无"}),s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/enums/src_V2NIMLoginService.V2NIMLoginStatus.html",children:"V2NIMLoginStatus"})}),s.jsx(t.td,{children:"获取登录状态"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getLoginUser"}),s.jsx(t.td,{children:"无"}),s.jsx(t.td,{children:"string"}),s.jsx(t.td,{children:"获取当前登录用户"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getConnectStatus"}),s.jsx(t.td,{children:"无"}),s.jsx(t.td,{children:s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/enums/src_V2NIMLoginService.V2NIMConnectStatus.html",children:"V2NIMConnectStatus"})}),s.jsx(t.td,{children:"获取连接状态"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getCurrentLoginClient"}),s.jsx(t.td,{children:"无"}),s.jsxs(t.td,{children:["void | ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLoginService.html#V2NIMLoginClient",children:"V2NIMLoginClient"})]}),s.jsx(t.td,{children:"获取当前登录客户端信息"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getLoginClients"}),s.jsx(t.td,{children:"无"}),s.jsxs(t.td,{children:[s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLoginService.html#V2NIMLoginClient",children:"V2NIMLoginClient"}),"[]"]}),s.jsx(t.td,{children:"获取登录客户端列表"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"kickOffline"}),s.jsxs(t.td,{children:["client: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLoginService.html#V2NIMLoginClient",children:"V2NIMLoginClient"})]}),s.jsx(t.td,{children:"Promise<void>"}),s.jsx(t.td,{children:"踢下线指定客户端"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getKickedOfflineDetail"}),s.jsx(t.td,{children:"无"}),s.jsxs(t.td,{children:["null | ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLoginService.html#V2NIMKickedOfflineDetail",children:"V2NIMKickedOfflineDetail"})]}),s.jsx(t.td,{children:"获取被踢下线详情"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getDataSync"}),s.jsx(t.td,{children:"无"}),s.jsxs(t.td,{children:["null | ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_SyncServiceInterface.html#V2NIMDataSyncDetail",children:"V2NIMDataSyncDetail"}),"[]"]}),s.jsx(t.td,{children:"获取数据同步信息"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"getChatroomLinkAddress"}),s.jsx(t.td,{children:"roomId: string, miniProgram: boolean"}),s.jsx(t.td,{children:"Promise<string[]>"}),s.jsx(t.td,{children:"获取聊天室链接地址"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"setAppVisibility"}),s.jsx(t.td,{children:"isVisible: boolean"}),s.jsx(t.td,{children:"void"}),s.jsx(t.td,{children:"设置应用可见性"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"setReconnectDelayProvider"}),s.jsxs(t.td,{children:["fn: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLoginService.html#V2NIMReconnectDelayProvider",children:"V2NIMReconnectDelayProvider"})]}),s.jsx(t.td,{children:"void"}),s.jsx(t.td,{children:"设置重连延迟提供者"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"on"}),s.jsx(t.td,{children:"eventName: T, fn: Function"}),s.jsx(t.td,{children:"void"}),s.jsx(t.td,{children:"添加事件监听器"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"off"}),s.jsx(t.td,{children:"eventName: T, fn: Function"}),s.jsx(t.td,{children:"void"}),s.jsx(t.td,{children:"移除事件监听器"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"once"}),s.jsx(t.td,{children:"eventName: T, fn: Function"}),s.jsx(t.td,{children:"void"}),s.jsx(t.td,{children:"添加一次性事件监听器"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"removeAllListeners"}),s.jsx(t.td,{children:"eventName?: T"}),s.jsx(t.td,{children:"void"}),s.jsx(t.td,{children:"移除所有监听器"})]})]})]}),`
`,s.jsx(t.h2,{children:"事件列表"}),`
`,s.jsxs(t.p,{children:["事件详情请参考 ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/interfaces/src_V2NIMLoginService.V2NIMLoginListener.html",children:"API 文档"})]}),`
`,s.jsxs(t.table,{children:[s.jsx(t.thead,{children:s.jsxs(t.tr,{children:[s.jsx(t.th,{children:"服务"}),s.jsx(t.th,{children:"事件"}),s.jsx(t.th,{children:"参数"}),s.jsx(t.th,{children:"说明"})]})}),s.jsxs(t.tbody,{children:[s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLoginService"}),s.jsx(t.td,{children:"onLoginStatus"}),s.jsxs(t.td,{children:["status: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/enums/src_V2NIMLoginService.V2NIMLoginStatus.html",children:"V2NIMLoginStatus"})]}),s.jsx(t.td,{children:"登录状态变更通知"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLoginService"}),s.jsx(t.td,{children:"onConnectStatus"}),s.jsxs(t.td,{children:["status: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/enums/src_V2NIMLoginService.V2NIMConnectStatus.html",children:"V2NIMConnectStatus"})]}),s.jsx(t.td,{children:"连接状态变更通知"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLoginService"}),s.jsx(t.td,{children:"onLoginFailed"}),s.jsxs(t.td,{children:["error: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMError.html#V2NIMError",children:"V2NIMError"})]}),s.jsx(t.td,{children:"登录鉴权失败通知"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLoginService"}),s.jsx(t.td,{children:"onConnectFailed"}),s.jsxs(t.td,{children:["error: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMError.html#V2NIMError",children:"V2NIMError"})]}),s.jsx(t.td,{children:"连接建立失败通知"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLoginService"}),s.jsx(t.td,{children:"onDisconnected"}),s.jsxs(t.td,{children:["error: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMError.html#V2NIMError",children:"V2NIMError"})]}),s.jsx(t.td,{children:"长连接断开通知"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLoginService"}),s.jsx(t.td,{children:"onKickedOffline"}),s.jsxs(t.td,{children:["detail: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLoginService.html#V2NIMKickedOfflineDetail",children:"V2NIMKickedOfflineDetail"})]}),s.jsx(t.td,{children:"被踢下线通知"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLoginService"}),s.jsx(t.td,{children:"onLoginClientChanged"}),s.jsxs(t.td,{children:["change: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/enums/src_V2NIMLoginService.V2NIMLoginClientChange.html",children:"V2NIMLoginClientChange"}),", clients: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMLoginService.html#V2NIMLoginClient",children:"V2NIMLoginClient"}),"[]"]}),s.jsx(t.td,{children:"多端登录通知"})]}),s.jsxs(t.tr,{children:[s.jsx(t.td,{children:"V2NIMLoginService"}),s.jsx(t.td,{children:"onDataSync"}),s.jsxs(t.td,{children:["type: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/enums/src_SyncServiceInterface.V2NIMDataSyncType.html",children:"V2NIMDataSyncType"}),", state: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/enums/src_SyncServiceInterface.V2NIMDataSyncState.html",children:"V2NIMDataSyncState"}),", error?: ",s.jsx(t.a,{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/modules/src_V2NIMError.html#V2NIMError",children:"V2NIMError"})]}),s.jsx(t.td,{children:"数据同步完成通知"})]})]})]})]})}function NVe(e={}){const{wrapper:t}=e.components||{};return t?s.jsx(t,{...e,children:s.jsx(R7,{...e})}):R7(e)}function A7(e){const t={h1:"h1",h2:"h2",p:"p",...e.components};return s.jsxs(s.Fragment,{children:[s.jsx(t.h1,{children:"场景总览"}),`
`,s.jsx(t.p,{children:"场景总览"}),`
`,s.jsx(t.h2,{children:"初始化"}),`
`,s.jsx(t.p,{children:"场景模块示例"}),`
`,s.jsx(zv,{}),`
`,s.jsx(t.h2,{children:"登录"}),`
`,s.jsx(t.p,{children:"登录模块示例"}),`
`,s.jsx(zv,{}),`
`,s.jsx(t.h2,{children:"会话"}),`
`,s.jsx(t.p,{children:"会话模块示例"}),`
`,s.jsx(zv,{}),`
`,s.jsx(t.h2,{children:"消息"}),`
`,s.jsx(t.p,{children:"消息模块示例"}),`
`,s.jsx(zv,{}),`
`,s.jsx(t.h2,{children:"其他"}),`
`,s.jsx(t.p,{children:"其他模块示例"}),`
`,s.jsx(zv,{})]})}function RVe(e={}){const{wrapper:t}=e.components||{};return t?s.jsx(t,{...e,children:s.jsx(A7,{...e})}):A7(e)}const AVe=[s.jsx(hr,{path:"/scenes",element:s.jsx(ST,{children:s.jsx(RVe,{})})}),s.jsx(hr,{path:"/scenes/init",element:s.jsx(ST,{children:s.jsx(Zje,{})})}),s.jsx(hr,{path:"/scenes/login",element:s.jsx(ST,{children:s.jsx(NVe,{})})}),s.jsx(hr,{path:"/scenes/local-conversation",element:s.jsx(ST,{children:s.jsx(yVe,{})})})],OVe=[{label:"初始化",key:"NIMInit"},{label:"登录服务",key:"V2NIMLoginService",children:[{label:"登录与登出",key:"V2NIMLoginService-login"},{label:"获取当前登录用户",key:"V2NIMLoginService-getLoginUser"},{label:"获取登录状态",key:"V2NIMLoginService-getLoginStatus"},{label:"获取多端登录信息",key:"V2NIMLoginService-getLoginClients"},{label:"踢人",key:"V2NIMLoginService-kickOffline"},{label:"设置监听事件",key:"V2NIMLoginService-on"}]},{label:"本地会话服务",key:"V2NIMLocalConversationService",children:[{label:"获取会话列表",key:"V2NIMLocalConversationService-getConversationList"},{label:"创建本地会话",key:"V2NIMLocalConversationService-createConversation"},{label:"删除本地会话",key:"V2NIMLocalConversationService-deleteConversation"},{label:"置顶会话",key:"V2NIMLocalConversationService-stickTopConversation"},{label:"获取总未读数",key:"V2NIMLocalConversationService-getTotalUnreadCount"},{label:"标记会话已读",key:"V2NIMLocalConversationService-markConversationRead"},{label:"设置会话监听事件",key:"V2NIMLocalConversationService-on"}]},{label:"消息服务",key:"V2NIMMessageService",children:[{label:"发送消息",key:"V2NIMMessageService-sendMessage"},{label:"查询消息列表",key:"V2NIMMessageService-getMessageListEx"},{label:"撤回消息",key:"V2NIMMessageService-revokeMessage"},{label:"单向删除消息-批量",key:"V2NIMMessageService-deleteMessages"},{label:"清空某会话的历史消息",key:"V2NIMMessageService-clearHistoryMessage"},{label:"设置消息监听事件",key:"V2NIMMessageService-on"}]},{label:"用户服务",key:"V2NIMUserService",children:[{label:"获取用户信息-缓存",key:"V2NIMUserService-getUserList"},{label:"获取用户信息-云端",key:"V2NIMUserService-getUserListFromCloud"},{label:"更新用户信息",key:"V2NIMUserService-updateSelfUserProfile"},{label:"黑名单管理",key:"V2NIMUserService-addUserToBlockList"},{label:"设置监听事件",key:"V2NIMUserService-on"}]},{label:"好友服务",key:"V2NIMFriendService",children:[{label:"获取好友列表",key:"V2NIMFriendService-getFriendList"},{label:"按 ID 查好友",key:"V2NIMFriendService-getFriendByIds"},{label:"添加好友",key:"V2NIMFriendService-addFriend"},{label:"删除好友",key:"V2NIMFriendService-deleteFriend"},{label:"接受好友申请",key:"V2NIMFriendService-acceptAddApplication"},{label:"拒绝好友申请",key:"V2NIMFriendService-rejectAddApplication"},{label:"设置监听事件",key:"V2NIMFriendService-on"}]},{label:"群组服务",key:"V2NIMTeamService",children:[{label:"创建群组",key:"V2NIMTeamService-createTeam"},{label:"获取群组列表",key:"V2NIMTeamService-getJoinedTeamList"},{label:"根据 ID 获取群组信息",key:"V2NIMTeamService-getTeamInfoByIds"},{label:"加入群组",key:"V2NIMTeamService-joinTeam"},{label:"离开群组",key:"V2NIMTeamService-leaveTeam"},{label:"解散群组",key:"V2NIMTeamService-dismissTeam"},{label:"踢出某群组成员",key:"V2NIMTeamService-kickMember"},{label:"(管理员)邀请成员",key:"V2NIMTeamService-inviteMemberEx"},{label:"(用户)接受邀请入群",key:"V2NIMTeamService-acceptInvitation"},{label:"(用户)拒绝邀请入群",key:"V2NIMTeamService-rejectInvitation"},{label:"(用户)申请加入群组",key:"V2NIMTeamService-applyJoinTeam"},{label:"(管理员)接受(用户的)入群申请",key:"V2NIMTeamService-acceptJoinApplication"},{label:"(管理员)拒绝(用户的)入群申请",key:"V2NIMTeamService-rejectJoinApplication"},{label:"设置成员角色",key:"V2NIMTeamService-updateTeamMemberRole"},{label:"转让群主身份",key:"V2NIMTeamService-transferTeamOwner"},{label:"群组整体禁言",key:"V2NIMTeamService-setTeamChatBannedMode"},{label:"设置某群组成员禁言",key:"V2NIMTeamService-setTeamMemberChatBannedStatus"},{label:"分页获取群成员列表",key:"V2NIMTeamService-getTeamMemberList"},{label:"根据 ID 获取群成员",key:"V2NIMTeamService-getTeamMemberListByIds"},{label:"设置监听事件",key:"V2NIMTeamService-on"}]},{label:"通知服务",key:"V2NIMNotificationService",children:[{label:"发送自定义通知",key:"V2NIMNotificationService-sendCustomNotification"},{label:"设置监听事件",key:"V2NIMNotificationService-on"}]}],{Sider:kVe,Content:LVe}=hl,{Title:PVe}=yl,OT=OVe,DVe=({children:e})=>{const t=U_(),n=wu(),{service:r,method:i}=E.useMemo(()=>{const w=n.pathname.match(/^\/apis\/([^/]+)\/([^/]+)$/);return w?{service:w[1],method:w[2]}:{service:null,method:null}},[n.pathname]),{cleanedMenuItems:d,findParentKeysFn:g}=E.useMemo(()=>{const w=R=>R.map(D=>{const{renderFn:j,...L}=D;return{...L,children:D.children?w(D.children):void 0}}),O=(R,D)=>{const j=[];for(const L of R)if(L.children){L.children.some(F=>F.key===D)&&j.push(L.key);const $=O(L.children,D);j.push(...$)}return j};return{cleanedMenuItems:w(OT),findParentKeysFn:O}},[]),[v,S]=E.useState(()=>r&&i?`${r}-${i}`:"NIMInit"),[I,T]=E.useState(()=>{if(r&&i){const w=`${r}-${i}`;return g(OT,w)}return[]});E.useEffect(()=>{if(r&&i){const w=`${r}-${i}`;S(w),T(g(OT,w))}else S("NIMInit"),T([])},[r,i,g]);const _=E.useCallback(({key:w})=>{if(w==="NIMInit"){t("/apis");return}const[O,R]=w.split("-");R&&t(`/apis/${O}/${R}`)},[t]),N=E.useCallback(w=>{T(w)},[]),A=E.useMemo(()=>{const w=(O,R)=>{for(const D of O){if(D.key===R)return D.label;if(D.children){const j=w(D.children,R);if(j)return`${D.label} - ${j}`}}return R};return w(OT,v)},[v]);return s.jsx(hl,{children:s.jsxs(hl,{style:{height:"100%",background:"#fff",borderRadius:"8px",display:"flex"},children:[s.jsx(kVe,{width:320,style:{background:"#fff",borderRight:"1px solid #f0f0f0",textAlign:"left"},children:s.jsx("div",{style:{flex:1,paddingTop:"24px",overflow:"auto"},children:s.jsx(jd,{mode:"inline",selectedKeys:[v],openKeys:I,style:{borderRight:0,minHeight:"100%"},items:d,onClick:_,onOpenChange:N})})}),s.jsxs(LVe,{style:{},children:[s.jsx("div",{style:{padding:"24px 24px 0 24px",flexShrink:0},children:s.jsx(PVe,{level:4,style:{marginTop:0,marginBottom:"20px"},children:A})}),s.jsx("div",{style:{flex:1,padding:"0 24px 24px 24px",overflow:"auto"},children:typeof e=="function"?e(v):e})]})]})})},jVe="_switchItem_1sar6_1",VVe="_optBar_1sar6_4",$Ve="_optBarBtn_1sar6_8",sm={switchItem:jVe,optBar:VVe,optBarBtn:$Ve},XM={appkey:"45c6a******************5d0bdd6e",debugLevel:"log",apiVersion:"v2"},pm={V2NIMLoginServiceConfig:{lbsUrls:["https://lbs.netease.im/lbs/webconf.jsp"],linkUrl:"weblink.netease.im:443"},reporterConfig:{enableCompass:!0,compassDataEndpoint:"https://statistic.live.126.net",isDataReportEnable:!0},abtestConfig:{isAbtestEnable:!0,abtestUrl:"https://abt-online.netease.im/v1/api/abt/client/getExperimentInfo"},loggerConfig:{storageEnable:!0,storageName:"nim-logs"},cloudStorageConfig:{commonUploadHost:"https://fileup.chatnos.com",commonUploadHostBackupList:["https://oss.chatnos.com"],chunkUploadHost:"https://wannos-web.127.net",chunkUploadHostBackupList:["https://fileup.chatnos.com","https://oss.chatnos.com"],isNeedToGetUploadPolicyFromServer:!0}},O7=()=>({appkey:XM.appkey,debugLevel:XM.debugLevel,lbsUrls:pm.V2NIMLoginServiceConfig.lbsUrls.join(","),linkUrl:pm.V2NIMLoginServiceConfig.linkUrl,enableReporter:!0,enableAbtest:!0,enableLogger:!0,enableCloudStorage:!0}),UVe=({onInitComplete:e})=>{const[t]=Ie.useForm(),[n,r]=E.useState(!1),i=N=>({appkey:N.appkey,debugLevel:N.debugLevel,apiVersion:"v2"}),d=N=>{const A={};return N.lbsUrls&&(A.V2NIMLoginServiceConfig=A.V2NIMLoginServiceConfig||{},A.V2NIMLoginServiceConfig.lbsUrls=N.lbsUrls.split(",").map(w=>w.trim())),N.linkUrl&&(A.V2NIMLoginServiceConfig=A.V2NIMLoginServiceConfig||{},A.V2NIMLoginServiceConfig.linkUrl=N.linkUrl),N.enableReporter&&(A.reporterConfig=pm.reporterConfig),N.enableAbtest&&(A.abtestConfig=pm.abtestConfig),N.enableLogger&&(A.loggerConfig=pm.loggerConfig),N.enableCloudStorage&&(A.cloudStorageConfig=pm.cloudStorageConfig),A},g=()=>{var N,A,w;try{const O=localStorage.getItem("V2NIM-getInstance-param1"),R=localStorage.getItem("V2NIM-getInstance-param2");if(O&&R){const D=JSON.parse(O),j=JSON.parse(R);return{appkey:D.appkey||XM.appkey,debugLevel:D.debugLevel||XM.debugLevel,lbsUrls:((A=(N=j.V2NIMLoginServiceConfig)==null?void 0:N.lbsUrls)==null?void 0:A.join(","))||pm.V2NIMLoginServiceConfig.lbsUrls.join(","),linkUrl:((w=j.V2NIMLoginServiceConfig)==null?void 0:w.linkUrl)||pm.V2NIMLoginServiceConfig.linkUrl,enableReporter:!!j.reporterConfig,enableAbtest:!!j.abtestConfig,enableLogger:!!j.loggerConfig,enableCloudStorage:!!j.cloudStorageConfig}}}catch(O){console.warn("Failed to load cached config:",O)}return O7()},v=N=>{const A={V2NIMLoginService:["onLoginStatus","onLoginFailed","onKickedOffline","onLoginClientChanged","onDisconnected","onConnectFailed","onDataSync"],V2NIMLocalConversationService:["onSyncStarted","onSyncFinished","onSyncFailed","onConversationCreated","onConversationDeleted","onConversationChanged","onTotalUnreadCountChanged","onUnreadCountChangedByFilter","onConversationReadTimeUpdated"],V2NIMConversationService:["onSyncStarted","onSyncFinished","onSyncFailed","onConversationCreated","onConversationDeleted","onConversationChanged","onTotalUnreadCountChanged","onUnreadCountChangedByFilter","onConversationReadTimeUpdated"],V2NIMConversationGroupService:["onConversationGroupCreated","onConversationGroupDeleted","onConversationGroupChanged","onConversationsAddedToGroup","onConversationsRemovedFromGroup"],V2NIMMessageService:["onSendMessage","onReceiveMessages","onReceiveP2PMessageReadReceipts","onReceiveTeamMessageReadReceipts","onMessageRevokeNotifications","onMessageCollectedNotification","onMessageCommentedNotification","onMessageDeletedNotifications","onMessagePinNotification","onMessageQuickCommentNotification","onClearHistoryNotification","onReceiveMessagesModified"],V2NIMNotificationService:["onReceiveCustomNotifications","onReceiveBroadcastNotifications"],V2NIMTeamService:["onSyncStarted","onSyncFinished","onSyncFailed","onTeamCreated","onTeamDismissed","onTeamJoined","onTeamLeft","onTeamInfoUpdated","onTeamMemberJoined","onTeamMemberKicked","onTeamMemberLeft","onTeamMemberInfoUpdated","onReceiveTeamJoinActionInfo"],V2NIMSettingService:["onTeamMessageMuteModeChanged","onP2PMessageMuteModeChanged"],V2NIMUserService:["onUserProfileChanged","onBlockListAdded","onBlockListRemoved"],V2NIMFriendService:["onSyncStarted","onSyncFinished","onSyncFailed","onFriendAdded","onFriendDeleted","onFriendAddApplication","onFriendAddRejected","onFriendInfoChanged"],V2NIMAIService:["onProxyAIModelCall","onProxyAIModelStreamCall"],V2NIMSignallingService:["onOnlineEvent","onOfflineEvent","onMultiClientEvent","onSyncRoomInfoList"],V2NIMSubscriptionService:["onUserStatusChanged"],YSFService:["onSendMessage","onReceiveMessages","onReceiveCustomNotifications"],V2NIMPassthroughService:["onProxyNotify"]};for(const w in A){const O=w;A[O].forEach(R=>{N[O]&&N[O].on&&N[O].on(R,(...D)=>{console.log(`收到 ${O} 模块的 ${R} 事件：`,...D)})})}},S=async N=>{r(!0);try{const A=i(N),w=d(N);if(console.log("初始化NIM SDK:",{instanceParam1:A,instanceParam2:w}),window.nim){console.log("已经初始化过了"),ie.success("已经初始化过了");return}else{const O=j0.getInstance(A,w);v(O),window.nim=O}ie.success("NIM SDK初始化成功"),localStorage.setItem("V2NIM-getInstance-param1",JSON.stringify(A)),localStorage.setItem("V2NIM-getInstance-param2",JSON.stringify(w)),e&&e()}catch(A){console.error("初始化失败:",A),ie.error("NIM SDK初始化失败")}finally{r(!1)}},I=()=>{localStorage.removeItem("V2NIM-getInstance-param1"),localStorage.removeItem("V2NIM-getInstance-param2"),t.setFieldsValue(O7())},T=()=>{const N=t.getFieldsValue(),A=i(N),w=d(N);ie.success("已输出到控制台"),console.log(`window.nim = NIM.getInstance(${JSON.stringify(A,null,2)}, ${JSON.stringify(w,null,2)})`)},_=async()=>{window.nim&&(await window.nim.destroy(),window.nim=void 0,ie.success("反初始化成功"))};return s.jsxs(Ie,{form:t,labelCol:{span:6},wrapperCol:{span:18},onFinish:S,initialValues:g(),layout:"horizontal",children:[s.jsx(Ie.Item,{name:"appkey",label:"AppKey",rules:[{required:!0,message:"请输入AppKey"}],children:s.jsx(yn,{placeholder:"请输入AppKey"})}),s.jsx(Ie.Item,{name:"debugLevel",label:"调试级别",rules:[{required:!1,message:"请选择调试级别"}],children:s.jsxs(an,{placeholder:"请选择调试级别",children:[s.jsx(an.Option,{value:"off",children:"off"}),s.jsx(an.Option,{value:"debug",children:"debug"}),s.jsx(an.Option,{value:"info",children:"info"}),s.jsx(an.Option,{value:"warn",children:"warn"}),s.jsx(an.Option,{value:"error",children:"error"})]})}),s.jsx(Ie.Item,{name:"lbsUrls",label:"负载均衡 LBS 地址",children:s.jsx(yn,{placeholder:"多个地址用逗号分隔"})}),s.jsx(Ie.Item,{name:"linkUrl",label:"WebSocket 连接地址",children:s.jsx(yn,{placeholder:"请输入连接地址"})}),s.jsx(Ie.Item,{name:"enableReporter",label:"数据上报",valuePropName:"checked",className:sm.switchItem,children:s.jsx(ds,{})}),s.jsx(Ie.Item,{name:"enableAbtest",label:"A/B测试",valuePropName:"checked",className:sm.switchItem,children:s.jsx(ds,{})}),s.jsx(Ie.Item,{name:"enableLogger",label:"日志持久化",valuePropName:"checked",className:sm.switchItem,children:s.jsx(ds,{})}),s.jsx(Ie.Item,{name:"enableCloudStorage",label:"云存储",valuePropName:"checked",className:sm.switchItem,children:s.jsx(ds,{})}),s.jsxs(Ie.Item,{label:null,className:sm.optBar,children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:n,className:sm.optBarBtn,children:"初始化SDK"}),s.jsx(Ze,{type:"default",onClick:I,className:sm.optBarBtn,children:"重置"}),s.jsx(Ze,{type:"default",onClick:T,className:sm.optBarBtn,children:"输出调用语句"}),s.jsx(Ze,{type:"default",danger:!0,onClick:_,children:"反初始化"})]})]})},BVe="_formContainer_2zqn5_1",FVe="_interfaceAPI_2zqn5_6",At={formContainer:BVe,interfaceAPI:FVe},k7={applicationDesc:null},L7="V2NIMFriendService.acceptAddApplication",qVe=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState([]),v=E.useRef(!1),I=k7,T=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0);const D={offset:0,limit:50,status:[0]};console.log("API V2NIMFriendService.getAddApplicationList execute, params:",D);const[j,L]=await Kn(()=>{var U;return(U=window.nim)==null?void 0:U.V2NIMFriendService.getAddApplicationList(D)});if(j)ie.error(`获取好友申请列表失败: ${j.toString()}`),console.error("获取好友申请列表失败:",j),g([]);else{console.log("获取好友申请列表成功, 结果:",L);const U=((L==null?void 0:L.infos)||[]).filter($=>$.status===0);g(U),U.length===0?ie.info("暂无待处理的好友申请"):ie.success(`获取到 ${U.length} 条待处理的好友申请`)}i(!1)};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,T())},[]);const _=async D=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{applicationDesc:j}=D;if(!j){ie.error("请选择要接受的好友申请");return}const L=d.find(F=>`${F.applicantAccountId}-${F.timestamp}`===j);if(!L){ie.error("未找到对应的好友申请");return}n(!0),console.log("API V2NIMFriendService.acceptAddApplication execute, params:",L);const[U,$]=await Kn(()=>{var F;return(F=window.nim)==null?void 0:F.V2NIMFriendService.acceptAddApplication(L)});U?(ie.error(`接受好友申请失败: ${U.toString()}`),console.error("接受好友申请失败:",U.toString())):(ie.success("接受好友申请成功"),console.log("接受好友申请成功, 结果:",$),await T(),e.setFieldsValue({application:null})),n(!1)},N=()=>{localStorage.removeItem(L7),e.setFieldsValue(k7),ie.success("表单已重置为默认值")},A=()=>{const D=e.getFieldsValue(),{application:j}=D;if(!j){ie.error("请先选择要接受的好友申请");return}const L=`await window.nim.V2NIMFriendService.acceptAddApplication(${JSON.stringify(j,null,2)});`;console.log("V2NIMFriendService.acceptAddApplication 调用语句:"),console.log(L),ie.success("调用语句已输出到控制台")},w=()=>{T()},O=D=>new Date(D).toLocaleString("zh-CN"),R=D=>{switch(D){case 0:return s.jsx(ln,{color:"orange",children:"待处理"});case 1:return s.jsx(ln,{color:"green",children:"已同意"});case 2:return s.jsx(ln,{color:"red",children:"已拒绝"});default:return s.jsx(ln,{children:"未知"})}};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:_,style:{marginTop:24},initialValues:I,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMFriendService",target:"_blank",children:L7})})},"api"),s.jsx(Ie.Item,{label:"好友申请列表",children:s.jsx(on,{direction:"vertical",style:{width:"100%"},children:s.jsxs(on,{children:[s.jsx(Ze,{onClick:w,loading:r,size:"small",children:"刷新申请列表"}),s.jsx("span",{style:{color:"#666",fontSize:"12px"},children:r?"正在获取...":`共 ${d.length} 条待处理申请`})]})})}),s.jsx(Ie.Item,{label:"选择申请",name:"applicationDesc",rules:[{required:!0,message:"请选择要接受的好友申请"}],children:s.jsx(an,{placeholder:"请选择要接受的好友申请",loading:r,notFoundContent:r?s.jsx(Vd,{size:"small"}):s.jsx(Wi,{image:Wi.PRESENTED_IMAGE_SIMPLE,description:"暂无待处理的好友申请"}),optionLabelProp:"label",children:d.map(D=>s.jsx(an.Option,{value:`${D.applicantAccountId}-${D.timestamp}`,label:`${D.applicantAccountId} - ${D.postscript||"无申请消息"}`,children:s.jsxs("div",{style:{padding:"8px 0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("span",{style:{fontWeight:"bold"},children:["申请人: ",D.applicantAccountId]}),R(D.status)]}),s.jsxs("div",{style:{color:"#666",fontSize:"12px",marginTop:"4px"},children:["申请消息: ",D.postscript||"无"]}),s.jsxs("div",{style:{color:"#999",fontSize:"12px",marginTop:"2px"},children:["申请时间: ",O(D.timestamp)]}),s.jsxs("div",{style:{color:"#999",fontSize:"12px",marginTop:"2px"},children:["接收人: ",D.recipientAccountId]})]})},`${D.applicantAccountId}-${D.timestamp}`))})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},disabled:d.length===0,children:"接受好友申请"}),s.jsx(Ze,{type:"default",onClick:N,children:"重置"}),s.jsx(Ze,{type:"default",onClick:A,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"自动获取申请列表:"})," 页面加载时会自动调用 getAddApplicationList 获取待处理的好友申请"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"申请状态筛选:"}),' 只显示状态为"待处理"(status=0)的申请']}),s.jsxs("li",{children:[s.jsx("strong",{children:"申请信息展示:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"申请人账号ID"}),s.jsx("li",{children:"申请消息内容"}),s.jsx("li",{children:"申请时间"}),s.jsx("li",{children:"接收人账号ID"}),s.jsx("li",{children:"当前状态"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"实时刷新:"}),' 可以点击"刷新申请列表"按钮获取最新的申请信息']}),s.jsxs("li",{children:[s.jsx("strong",{children:"事件监听:"})," 也可以通过监听 onFriendAddApplication 事件获取实时申请"]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保已登录并完成数据同步"})}),s.jsx("li",{children:"接受好友申请后，双方将建立好友关系"}),s.jsx("li",{children:"接受申请会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:s.jsx("strong",{children:"建议配合 V2NIMFriendService.on 监听好友事件获取实时通知"})}),s.jsx("li",{children:"如果申请列表为空，可能是没有待处理的申请或者数据同步未完成"})]})})]})},jk={accountId:"",params:{addMode:2,postscript:"请求加为好友"}},kT="V2NIMFriendService.addFriend",zVe=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),i=(()=>{try{const S=localStorage.getItem(kT);if(S){const I=JSON.parse(S);return{...jk,...I}}}catch(S){console.error("Failed to parse stored values:",S)}return jk})(),d=async S=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{accountId:I,params:T}=S;if(!I.trim()){ie.error("请输入要添加的好友账号ID");return}n(!0),console.log("API V2NIMFriendService.addFriend execute, params:",I,T);const[_,N]=await Kn(()=>{var A;return(A=window.nim)==null?void 0:A.V2NIMFriendService.addFriend(I,T)});_?(ie.error(`添加好友失败: ${_.toString()}`),console.error("添加好友失败:",_.toString())):(ie.success("添加好友成功"),console.log("添加好友成功, 结果:",N)),n(!1),localStorage.setItem(kT,JSON.stringify(S))},g=()=>{localStorage.removeItem(kT),e.setFieldsValue(jk),ie.success("表单已重置为默认值")},v=()=>{const S=e.getFieldsValue(),{accountId:I,params:T}=S;if(!I.trim()){ie.error("请先输入要添加的好友账号ID");return}const _=`await window.nim.V2NIMFriendService.addFriend(${JSON.stringify(I)}, ${JSON.stringify(T)});`;console.log("V2NIMFriendService.addFriend 调用语句:"),console.log(_),ie.success("调用语句已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:d,style:{marginTop:24},initialValues:i,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMFriendService",target:"_blank",children:kT})})},"api"),s.jsx(Ie.Item,{label:"好友账号ID",name:"accountId",rules:[{required:!0,message:"请输入要添加的好友账号ID"}],children:s.jsx(yn,{placeholder:"请输入要添加的好友账号ID"})}),s.jsx(Ie.Item,{label:"添加模式",name:["params","addMode"],children:s.jsx(Rc,{min:0,max:2,placeholder:"添加模式",style:{width:"100%"}})}),s.jsx(Ie.Item,{label:"申请消息",name:["params","postscript"],children:s.jsx(yn.TextArea,{placeholder:"请输入申请消息",rows:3,maxLength:200,showCount:!0})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"添加好友"}),s.jsx(Ze,{type:"default",onClick:g,children:"重置"}),s.jsx(Ze,{type:"default",onClick:v,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"好友账号ID:"})," 要添加为好友的用户账号ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"添加模式:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"1 - 直接加为好友（无需验证）"}),s.jsx("li",{children:"2 - 需要对方验证"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"申请消息:"})," 发送给对方的好友申请消息，最多200字符"]}),s.jsx("li",{children:"添加成功后，会触发相应的好友事件回调"})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"添加好友前请确保目标账号存在且有效"})}),s.jsx("li",{children:"不同的添加模式会影响添加好友的流程和结果"}),s.jsx("li",{children:"添加好友操作会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:s.jsx("strong",{children:"建议先通过 V2NIMUserService.getUserList 验证目标账号是否存在"})})]})})]})},Vk={accountId:"",params:{deleteAlias:!1}},LT="V2NIMFriendService.deleteFriend",HVe=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),i=(()=>{try{const S=localStorage.getItem(LT);if(S){const I=JSON.parse(S);return{...Vk,...I}}}catch(S){console.error("Failed to parse stored values:",S)}return Vk})(),d=async S=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{accountId:I,params:T}=S;if(!I.trim()){ie.error("请输入要删除的好友账号ID");return}n(!0),console.log("API V2NIMFriendService.deleteFriend execute, params:",I,T);const[_,N]=await Kn(()=>{var A;return(A=window.nim)==null?void 0:A.V2NIMFriendService.deleteFriend(I,T)});_?(ie.error(`删除好友失败: ${_.toString()}`),console.error("删除好友失败:",_.toString())):(ie.success("删除好友成功"),console.log("删除好友成功, 结果:",N)),n(!1),localStorage.setItem(LT,JSON.stringify(S))},g=()=>{localStorage.removeItem(LT),e.setFieldsValue(Vk),ie.success("表单已重置为默认值")},v=()=>{const S=e.getFieldsValue(),{accountId:I,params:T}=S;if(!I.trim()){ie.error("请先输入要删除的好友账号ID");return}const _=`await window.nim.V2NIMFriendService.deleteFriend(${JSON.stringify(I)}, ${JSON.stringify(T)});`;console.log("V2NIMFriendService.deleteFriend 调用语句:"),console.log(_),ie.success("调用语句已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:d,style:{marginTop:24},initialValues:i,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMFriendService",target:"_blank",children:LT})})},"api"),s.jsx(Ie.Item,{label:"好友账号ID",name:"accountId",rules:[{required:!0,message:"请输入要删除的好友账号ID"}],children:s.jsx(yn,{placeholder:"请输入要删除的好友账号ID"})}),s.jsx(Ie.Item,{label:"删除好友备注",name:["params","deleteAlias"],valuePropName:"checked",extra:"是否同时删除对该好友的备注信息",children:s.jsx(ds,{checkedChildren:"删除",unCheckedChildren:"保留"})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"删除好友"}),s.jsx(Ze,{type:"default",onClick:g,children:"重置"}),s.jsx(Ze,{type:"default",onClick:v,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"好友账号ID:"})," 要删除的好友的账号ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"删除好友备注:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"开启：删除好友的同时删除对该好友的备注信息"}),s.jsx("li",{children:"关闭：删除好友但保留备注信息（如果重新添加好友，备注信息会恢复）"})]})]}),s.jsx("li",{children:"删除成功后，会触发相应的好友事件回调"}),s.jsx("li",{children:"删除好友操作是不可逆的，请谨慎操作"})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"删除好友操作是不可逆的，请确认操作"})}),s.jsx("li",{children:"删除好友前请确保目标账号确实是你的好友"}),s.jsx("li",{children:"删除好友会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:s.jsx("strong",{children:"建议先通过 V2NIMFriendService.getFriendList 确认好友关系"})}),s.jsx("li",{children:"删除好友后，双方的聊天记录仍会保留"})]})})]})},PT={accountIds:["cs1","cs2"]},$k="V2NIMFriendService.getFriendByIds",GVe=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(""),[d,g]=E.useState(PT.accountIds),v={...PT},S=()=>{const R=r.trim();if(!R){ie.warning("请输入账号ID");return}if(d.includes(R)){ie.warning("账号ID已存在");return}const D=[...d,R];g(D),i(""),e.setFieldsValue({accountIds:D})},I=R=>{const D=d.filter(j=>j!==R);g(D),e.setFieldsValue({accountIds:D})},T=()=>{g([]),e.setFieldsValue({accountIds:[]})},_=()=>{const R=["cs1","cs2","cs3"],D=[...new Set([...d,...R])];g(D),e.setFieldsValue({accountIds:D})},N=async R=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{accountIds:D}=R;if(!D||D.length===0){ie.error("请至少输入一个账号ID");return}n(!0),console.log("API V2NIMFriendService.getFriendByIds execute, params:",D);const[j,L]=await Kn(()=>{var U;return(U=window.nim)==null?void 0:U.V2NIMFriendService.getFriendByIds(D)});if(j)ie.error(`根据ID获取好友信息失败: ${j.toString()}`),console.error("根据ID获取好友信息失败:",j.toString());else{const U=(L==null?void 0:L.length)||0;ie.success(`根据ID获取好友信息成功，找到 ${U} 个好友`),console.log("根据ID获取好友信息成功, 结果:",L)}n(!1),localStorage.setItem($k,JSON.stringify(R))},A=()=>{localStorage.removeItem($k),g(PT.accountIds),e.setFieldsValue(PT),ie.success("表单已重置为默认值")},w=()=>{const R=e.getFieldsValue(),{accountIds:D}=R;if(!D||D.length===0){ie.error("请先输入账号ID");return}const j=`await window.nim.V2NIMFriendService.getFriendByIds(${JSON.stringify(D)});`;console.log("V2NIMFriendService.getFriendByIds 调用语句:"),console.log(j),ie.success("调用语句已输出到控制台")},O=()=>{S()};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:N,style:{marginTop:24},initialValues:v,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMFriendService",target:"_blank",children:$k})})},"api"),s.jsx(Ie.Item,{label:"好友ID列表",required:!0,children:s.jsxs(on,{direction:"vertical",style:{width:"100%"},children:[s.jsxs(on.Compact,{style:{width:"100%"},children:[s.jsx(yn,{placeholder:"输入好友账号ID",value:r,onChange:R=>i(R.target.value),onPressEnter:O}),s.jsx(Ze,{type:"primary",onClick:S,children:"添加"})]}),s.jsxs(on,{size:"small",style:{marginTop:8},children:[s.jsx(Ze,{size:"small",onClick:_,children:"添加示例账号"}),s.jsx(Ze,{size:"small",onClick:T,danger:!0,children:"清空全部"})]}),d.length>0&&s.jsx("div",{style:{marginTop:8},children:s.jsx(on,{size:[0,8],wrap:!0,children:d.map(R=>s.jsx(ln,{closable:!0,onClose:()=>I(R),children:R},R))})})]})}),s.jsx(Ie.Item,{name:"accountIds",hidden:!0,children:s.jsx(yn,{})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"根据ID获取好友信息"}),s.jsx(Ze,{type:"default",onClick:A,children:"重置"}),s.jsx(Ze,{type:"default",onClick:w,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"此接口根据指定的账号ID列表获取对应的好友信息"})}),s.jsx("li",{children:"只返回ID存在且为好友关系的用户信息，非好友用户不会返回"}),s.jsx("li",{children:"返回结果的顺序与输入参数的顺序保持一致"}),s.jsx("li",{children:"调用时机需要等待 V2NIMLoginService 的 onDataSync 事件，数据同步完毕后才能调用"}),s.jsx("li",{children:s.jsx("strong",{children:"如果某个账号ID不是你的好友，该账号信息不会出现在返回结果中"})})]})}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"支持添加多个好友账号ID进行批量查询"}),s.jsx("li",{children:"账号ID不能为空且不能重复"}),s.jsx("li",{children:"只有与当前用户存在好友关系的账号才会返回信息"}),s.jsx("li",{children:"返回结果包含好友的详细信息如备注、用户资料等"}),s.jsx("li",{children:'可以点击"添加示例账号"快速添加测试用的账号ID'}),s.jsx("li",{children:"表格支持分页和排序，方便查看大量好友数据"})]})}),s.jsx(_t,{title:"接口特点",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"精确查询："})," 根据指定的账号ID精确获取好友信息"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"好友关系验证："})," 只返回确实存在好友关系的用户信息"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"顺序保持："})," 返回结果的顺序与输入参数顺序一致"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"批量处理："})," 支持一次查询多个好友的信息"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"完整信息："})," 返回的 V2NIMFriend 对象包含好友的完整信息和关联的用户资料"]})]})})]})},Uk="V2NIMFriendService.getFriendList",KVe=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState([]),d=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}n(!0),console.log("API V2NIMFriendService.getFriendList execute");const[T,_]=await Kn(()=>{var N;return(N=window.nim)==null?void 0:N.V2NIMFriendService.getFriendList()});T?(ie.error(`获取好友列表失败: ${T.toString()}`),console.error("获取好友列表失败:",T.toString()),i([])):(ie.success(`获取好友列表成功，共 ${(_==null?void 0:_.length)||0} 个好友`),console.log("获取好友列表成功, 结果:",_),i(_||[])),n(!1),localStorage.setItem(Uk,JSON.stringify({}))},g=()=>{localStorage.removeItem(Uk),i([]),ie.success("数据已重置")},v=()=>{const T="await window.nim.V2NIMFriendService.getFriendList();";console.log("V2NIMFriendService.getFriendList 调用语句:"),console.log(T),ie.success("调用语句已输出到控制台")},S=T=>T?new Date(T).toLocaleString():"-",I=[{title:"好友ID",dataIndex:"accountId",key:"accountId",width:"15%",render:T=>s.jsx(ln,{color:"blue",children:T})},{title:"好友备注",dataIndex:"alias",key:"alias",width:"15%",render:T=>T||"无备注"},{title:"用户昵称",key:"userProfile",width:"15%",render:(T,_)=>{var N;return((N=_.userProfile)==null?void 0:N.name)||_.accountId}},{title:"用户头像",key:"avatar",width:"10%",render:(T,_)=>{var N;return(N=_.userProfile)!=null&&N.avatar?s.jsx("img",{src:_.userProfile.avatar,alt:"头像",style:{width:32,height:32,borderRadius:"50%"}}):s.jsx("div",{style:{width:32,height:32,borderRadius:"50%",backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#999"},children:"无"})}},{title:"好友来源",dataIndex:"source",key:"source",width:"10%",render:T=>T??0},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:"15%",render:T=>S(T)},{title:"更新时间",dataIndex:"updateTime",key:"updateTime",width:"15%",render:T=>S(T)},{title:"扩展信息",key:"extension",width:"10%",render:(T,_)=>{const N=_.serverExtension&&_.serverExtension.trim(),A=_.customerExtension&&_.customerExtension.trim();return!N&&!A?"-":s.jsxs(on,{direction:"vertical",size:"small",children:[N&&s.jsx(ln,{color:"green",style:{fontSize:"10px"},children:"服务器扩展"}),A&&s.jsx(ln,{color:"orange",style:{fontSize:"10px"},children:"客户端扩展"})]})}}];return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:d,style:{marginTop:24},children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMFriendService",target:"_blank",children:Uk})})},"api"),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"获取好友列表"}),s.jsx(Ze,{type:"default",onClick:g,children:"清空数据"}),s.jsx(Ze,{type:"default",onClick:v,children:"输出调用语句"})]})})]}),r.length>0&&s.jsx(_t,{title:`好友列表 (共 ${r.length} 个好友)`,style:{marginTop:24},children:s.jsx(fs,{columns:I,dataSource:r,rowKey:"accountId",pagination:{total:r.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:T=>`共 ${T} 个好友`},size:"small",scroll:{x:"max-content"}})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"此接口的数据来源是数据同步时下发的好友信息"})}),s.jsx("li",{children:"因此调用时机需要等待 V2NIMLoginService 的 onDataSync 事件，数据同步完毕后才能调用"}),s.jsx("li",{children:"好友列表包含好友的基本信息和关联的用户资料信息"})]})}),s.jsxs(_t,{title:"V2NIMFriend 数据结构说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"基础字段："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"accountId:"})," 好友账号ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"alias:"})," 好友备注名（可选）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"source:"})," 好友来源，目前默认都是0"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"createTime:"})," 好友关系创建时间"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"updateTime:"})," 好友信息更新时间"]})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"扩展字段："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"serverExtension:"})," 服务器扩展字段"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"customerExtension:"})," 用户扩展字段"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"关联数据："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"userProfile:"})," 关联的用户资料信息（V2NIMUser对象）"]}),s.jsx("li",{children:"包含用户的昵称、头像、签名等详细信息"})]})]})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"此接口用于获取当前用户的好友列表"}),s.jsx("li",{children:"返回的数据是数组形式的 V2NIMFriend 对象列表"}),s.jsx("li",{children:"每个好友对象包含好友基本信息和关联的用户资料"}),s.jsx("li",{children:"表格支持分页和排序，方便查看大量好友数据"}),s.jsx("li",{children:"可以通过备注名、用户昵称等信息快速识别好友"}),s.jsx("li",{children:"扩展字段可用于存储自定义的好友相关信息"})]})})]})},{Text:bi}=yl,WVe="V2NIMFriendService.on",YVe=()=>{const[e]=Ie.useForm(),t=I=>{ie.success("收到 V2NIMFriendService 模块的 onFriendAdded 事件, 详情见控制台"),console.log("好友添加通知:",I)},n=(I,T)=>{ie.warning("收到 V2NIMFriendService 模块的 onFriendDeleted 事件, 详情见控制台"),console.log("好友删除通知:",{accountId:I,deletionType:T})},r=I=>{ie.info("收到 V2NIMFriendService 模块的 onFriendAddApplication 事件, 详情见控制台"),console.log("收到好友申请:",I)},i=I=>{ie.error("收到 V2NIMFriendService 模块的 onFriendAddRejected 事件, 详情见控制台"),console.log("好友申请被拒绝通知:",I)},d=I=>{ie.info("收到 V2NIMFriendService 模块的 onFriendInfoChanged 事件, 详情见控制台"),console.log("好友信息变更通知:",I)},g=async()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}window.nim.V2NIMFriendService.off("onFriendAdded",t),window.nim.V2NIMFriendService.off("onFriendDeleted",n),window.nim.V2NIMFriendService.off("onFriendAddApplication",r),window.nim.V2NIMFriendService.off("onFriendAddRejected",i),window.nim.V2NIMFriendService.off("onFriendInfoChanged",d),window.nim.V2NIMFriendService.on("onFriendAdded",t),window.nim.V2NIMFriendService.on("onFriendDeleted",n),window.nim.V2NIMFriendService.on("onFriendAddApplication",r),window.nim.V2NIMFriendService.on("onFriendAddRejected",i),window.nim.V2NIMFriendService.on("onFriendInfoChanged",d),ie.success("成功设置好友服务监听"),console.log("好友服务监听已设置")},v=()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}window.nim.V2NIMFriendService.removeAllListeners("onFriendAdded"),window.nim.V2NIMFriendService.removeAllListeners("onFriendDeleted"),window.nim.V2NIMFriendService.removeAllListeners("onFriendAddApplication"),window.nim.V2NIMFriendService.removeAllListeners("onFriendAddRejected"),window.nim.V2NIMFriendService.removeAllListeners("onFriendInfoChanged"),ie.success("已取消所有好友服务监听"),console.log("所有好友服务监听已取消")},S=()=>{const I=`
// 设置好友服务监听
const setupFriendServiceListeners = () => {
  // 好友添加通知
  window.nim.V2NIMFriendService.on('onFriendAdded', (friend) => {
    console.log('好友添加通知:', friend);
    // friend 是 V2NIMFriend 对象，包含新添加的好友信息
    // 包含字段：accountId, alias, serverExtension, createTime, updateTime 等
  });

  // 好友删除通知
  window.nim.V2NIMFriendService.on('onFriendDeleted', (accountId, deletionType) => {
    console.log('好友删除通知:', { accountId, deletionType });
    // accountId: 被删除的好友账号ID
    // deletionType: 删除类型 (V2NIMFriendDeletionType 枚举值)
  });

  // 收到好友申请
  window.nim.V2NIMFriendService.on('onFriendAddApplication', (application) => {
    console.log('收到好友申请:', application);
    // application 是 V2NIMFriendAddApplication 对象
    // 包含字段：applicantAccountId, recipientAccountId, postscript, status, timestamp 等
  });

  // 好友申请被拒绝通知
  window.nim.V2NIMFriendService.on('onFriendAddRejected', (rejection) => {
    console.log('好友申请被拒绝通知:', rejection);
    // rejection 是拒绝信息对象，包含拒绝相关的详细信息
  });

  // 好友信息变更通知
  window.nim.V2NIMFriendService.on('onFriendInfoChanged', (friend) => {
    console.log('好友信息变更通知:', friend);
    // friend 是 V2NIMFriend 对象，包含变更后的好友信息
  });
};

// 调用设置函数
setupFriendServiceListeners();
`;console.log("V2NIMFriendService 监听设置代码:"),console.log(I),ie.success("监听设置代码已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},style:{marginTop:24},children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMFriendService",target:"_blank",children:WVe})})},"api"),s.jsx(Ie.Item,{label:"操作项",children:s.jsxs(on,{size:"middle",style:{width:"100%",flexWrap:"wrap"},children:[s.jsx(Ze,{type:"primary",onClick:g,style:{minWidth:120},children:"设置监听"}),s.jsx(Ze,{type:"default",danger:!0,onClick:v,children:"取消所有监听"}),s.jsx(Ze,{type:"default",onClick:S,children:"输出监听代码"})]})})]}),s.jsxs(_t,{title:"监听事件说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(bi,{strong:!0,children:"好友关系事件："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(bi,{code:!0,children:"onFriendAdded"})," - 好友添加通知",s.jsx("div",{style:{marginLeft:20,color:"#666",fontSize:"12px"},children:"触发条件：成功添加好友时，包括本端添加和多端同步"})]}),s.jsxs("li",{children:[s.jsx(bi,{code:!0,children:"onFriendDeleted"})," - 好友删除通知",s.jsx("div",{style:{marginLeft:20,color:"#666",fontSize:"12px"},children:"触发条件：删除好友时，包括本端删除和多端同步"})]}),s.jsxs("li",{children:[s.jsx(bi,{code:!0,children:"onFriendInfoChanged"})," - 好友信息变更通知",s.jsx("div",{style:{marginLeft:20,color:"#666",fontSize:"12px"},children:"触发条件：好友备注、服务端扩展等信息发生变化时"})]})]})]}),s.jsxs("div",{children:[s.jsx(bi,{strong:!0,children:"好友申请相关事件："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(bi,{code:!0,children:"onFriendAddApplication"})," - 收到好友申请",s.jsx("div",{style:{marginLeft:20,color:"#666",fontSize:"12px"},children:"触发条件：收到他人的好友申请时"})]}),s.jsxs("li",{children:[s.jsx(bi,{code:!0,children:"onFriendAddRejected"})," - 好友申请被拒绝通知",s.jsx("div",{style:{marginLeft:20,color:"#666",fontSize:"12px"},children:"触发条件：自己发出的好友申请被对方拒绝时，或多端同步拒绝操作时"})]})]})]})]}),s.jsxs(_t,{title:"事件参数说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(bi,{strong:!0,children:"onFriendAdded 参数："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(bi,{code:!0,children:"friend: V2NIMFriend"})," - 新添加的好友信息"]}),s.jsx("li",{children:"包含字段：accountId（好友账号ID）、alias（好友备注）、serverExtension（服务端扩展）、createTime（创建时间）、updateTime（更新时间）等"})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(bi,{strong:!0,children:"onFriendDeleted 参数："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(bi,{code:!0,children:"accountId: string"})," - 被删除的好友账号ID"]}),s.jsxs("li",{children:[s.jsx(bi,{code:!0,children:"deletionType: V2NIMFriendDeletionType"})," - 删除类型（枚举值）"]})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(bi,{strong:!0,children:"onFriendAddApplication 参数："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(bi,{code:!0,children:"application: V2NIMFriendAddApplication"})," - 好友申请信息"]}),s.jsx("li",{children:"包含字段：applicantAccountId（申请人账号）、recipientAccountId（接收人账号）、postscript（申请消息）、status（申请状态）、timestamp（申请时间）等"})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(bi,{strong:!0,children:"onFriendAddRejected 参数："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(bi,{code:!0,children:"rejection: V2NIMFriendAddRejection"})," - 拒绝申请信息"]}),s.jsx("li",{children:"包含拒绝相关的详细信息，如拒绝原因、拒绝时间等"})]})]}),s.jsxs("div",{children:[s.jsx(bi,{strong:!0,children:"onFriendInfoChanged 参数："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(bi,{code:!0,children:"friend: V2NIMFriend"})," - 信息变更后的好友信息"]}),s.jsx("li",{children:"包含更新后的好友完整信息"})]})]})]}),s.jsx(_t,{title:"测试建议",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(bi,{strong:!0,children:"测试好友添加事件："}),s.jsx("div",{style:{marginLeft:20,color:"#666"},children:'可以去 "添加好友" 或 "接受好友申请" 页面进行操作来触发 onFriendAdded 事件'})]}),s.jsxs("li",{children:[s.jsx(bi,{strong:!0,children:"测试好友删除事件："}),s.jsx("div",{style:{marginLeft:20,color:"#666"},children:'可以去 "删除好友" 页面进行操作来触发 onFriendDeleted 事件'})]}),s.jsxs("li",{children:[s.jsx(bi,{strong:!0,children:"测试好友申请事件："}),s.jsx("div",{style:{marginLeft:20,color:"#666"},children:"让其他用户向当前用户发送好友申请，会触发 onFriendAddApplication 事件"})]}),s.jsxs("li",{children:[s.jsx(bi,{strong:!0,children:"测试申请拒绝事件："}),s.jsx("div",{style:{marginLeft:20,color:"#666"},children:"向其他用户发送好友申请后，如果被拒绝会触发 onFriendAddRejected 事件"})]}),s.jsxs("li",{children:[s.jsx(bi,{strong:!0,children:"多端同步测试："}),s.jsx("div",{style:{marginLeft:20,color:"#666"},children:"在其他设备或客户端上进行好友相关操作，可以测试多端同步的事件触发"})]})]})}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"本页面演示 V2NIMFriendService 的事件监听功能"}),s.jsx("li",{children:"设置监听后，相关的好友操作会触发对应事件并显示消息提示"}),s.jsx("li",{children:"对同一个事件 on 监听多次，都会生效并触发多次，使用时注意防止重复监听"}),s.jsx("li",{children:"所有事件都会在控制台输出详细信息，方便调试和学习"}),s.jsx("li",{children:'使用"取消所有监听"可以一次性移除所有已设置的监听器'}),s.jsx("li",{children:s.jsx(bi,{type:"warning",children:"注意：设置监听后，可以去其他好友相关页面进行操作来触发事件（如添加好友、删除好友、处理好友申请等）"})}),s.jsx("li",{children:s.jsx(bi,{type:"warning",children:"建议：在应用初始化时设置好友事件监听，以便及时收到好友状态变化通知"})})]})})]})},P7={applicationDesc:null,postscript:""},D7="V2NIMFriendService.rejectAddApplication",XVe=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState([]),v=E.useRef(!1),I=P7,T=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0);const D={offset:0,limit:50,status:[0]};console.log("API V2NIMFriendService.getAddApplicationList execute, params:",D);const[j,L]=await Kn(()=>{var U;return(U=window.nim)==null?void 0:U.V2NIMFriendService.getAddApplicationList(D)});if(j)ie.error(`获取好友申请列表失败: ${j.toString()}`),console.error("获取好友申请列表失败:",j),g([]);else{console.log("获取好友申请列表成功, 结果:",L);const U=((L==null?void 0:L.infos)||[]).filter($=>$.status===0);g(U),U.length===0?ie.info("暂无待处理的好友申请"):ie.success(`获取到 ${U.length} 条待处理的好友申请`)}i(!1)};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,T())},[]);const _=async D=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{applicationDesc:j,postscript:L}=D;if(!j){ie.error("请选择要拒绝的好友申请");return}const U=d.find(H=>`${H.applicantAccountId}-${H.timestamp}`===j);if(!U){ie.error("未找到对应的好友申请");return}n(!0);const $={application:U,postscript:L||""};console.log("API V2NIMFriendService.rejectAddApplication execute, params:",$);const[F,z]=await Kn(()=>{var H;return(H=window.nim)==null?void 0:H.V2NIMFriendService.rejectAddApplication($.application,$.postscript)});F?(ie.error(`拒绝好友申请失败: ${F.toString()}`),console.error("拒绝好友申请失败:",F.toString())):(ie.success("拒绝好友申请成功"),console.log("拒绝好友申请成功, 结果:",z),await T(),e.setFieldsValue({applicationDesc:null,postscript:""})),n(!1)},N=()=>{localStorage.removeItem(D7),e.setFieldsValue(P7),ie.success("表单已重置为默认值")},A=()=>{const D=e.getFieldsValue(),{applicationDesc:j,postscript:L}=D;if(!j){ie.error("请先选择要拒绝的好友申请");return}const U=d.find(F=>`${F.applicantAccountId}-${F.timestamp}`===j);if(!U){ie.error("未找到对应的好友申请");return}const $=`await window.nim.V2NIMFriendService.rejectAddApplication(${JSON.stringify(U,null,2)}, "${L||""}");`;console.log("V2NIMFriendService.rejectAddApplication 调用语句:"),console.log($),ie.success("调用语句已输出到控制台")},w=()=>{T()},O=D=>new Date(D).toLocaleString("zh-CN"),R=D=>{switch(D){case 0:return s.jsx(ln,{color:"orange",children:"待处理"});case 1:return s.jsx(ln,{color:"green",children:"已同意"});case 2:return s.jsx(ln,{color:"red",children:"已拒绝"});default:return s.jsx(ln,{children:"未知"})}};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:_,style:{marginTop:24},initialValues:I,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMFriendService",target:"_blank",children:D7})})},"api"),s.jsx(Ie.Item,{label:"好友申请列表",children:s.jsx(on,{direction:"vertical",style:{width:"100%"},children:s.jsxs(on,{children:[s.jsx(Ze,{onClick:w,loading:r,size:"small",children:"刷新申请列表"}),s.jsx("span",{style:{color:"#666",fontSize:"12px"},children:r?"正在获取...":`共 ${d.length} 条待处理申请`})]})})}),s.jsx(Ie.Item,{label:"选择申请",name:"applicationDesc",rules:[{required:!0,message:"请选择要拒绝的好友申请"}],children:s.jsx(an,{placeholder:"请选择要拒绝的好友申请",loading:r,notFoundContent:r?s.jsx(Vd,{size:"small"}):s.jsx(Wi,{image:Wi.PRESENTED_IMAGE_SIMPLE,description:"暂无待处理的好友申请"}),optionLabelProp:"label",children:d.map(D=>s.jsx(an.Option,{value:`${D.applicantAccountId}-${D.timestamp}`,label:`${D.applicantAccountId} - ${D.postscript||"无申请消息"}`,children:s.jsxs("div",{style:{padding:"8px 0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("span",{style:{fontWeight:"bold"},children:["申请人: ",D.applicantAccountId]}),R(D.status)]}),s.jsxs("div",{style:{color:"#666",fontSize:"12px",marginTop:"4px"},children:["申请消息: ",D.postscript||"无"]}),s.jsxs("div",{style:{color:"#999",fontSize:"12px",marginTop:"2px"},children:["申请时间: ",O(D.timestamp)]}),s.jsxs("div",{style:{color:"#999",fontSize:"12px",marginTop:"2px"},children:["接收人: ",D.recipientAccountId]})]})},`${D.applicantAccountId}-${D.timestamp}`))})}),s.jsx(Ie.Item,{label:"拒绝附言",name:"postscript",rules:[{max:100,message:"拒绝附言不能超过100个字符"}],children:s.jsx(yn.TextArea,{placeholder:"请输入拒绝附言（可选）",rows:3,maxLength:100,showCount:!0})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},disabled:d.length===0,danger:!0,children:"拒绝好友申请"}),s.jsx(Ze,{type:"default",onClick:N,children:"重置"}),s.jsx(Ze,{type:"default",onClick:A,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"自动获取申请列表:"})," 页面加载时会自动调用 getAddApplicationList 获取待处理的好友申请"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"申请状态筛选:"}),' 只显示状态为"待处理"(status=0)的申请']}),s.jsxs("li",{children:[s.jsx("strong",{children:"申请信息展示:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"申请人账号ID"}),s.jsx("li",{children:"申请消息内容"}),s.jsx("li",{children:"申请时间"}),s.jsx("li",{children:"接收人账号ID"}),s.jsx("li",{children:"当前状态"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"拒绝附言:"})," 可以在拒绝好友申请时添加附言说明拒绝原因"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"实时刷新:"}),' 可以点击"刷新申请列表"按钮获取最新的申请信息']}),s.jsxs("li",{children:[s.jsx("strong",{children:"事件监听:"})," 也可以通过监听 onFriendAddApplication 事件获取实时申请"]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保已登录并完成数据同步"})}),s.jsx("li",{children:'拒绝好友申请后，申请状态将变为"已拒绝"'}),s.jsx("li",{children:"拒绝申请会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:s.jsx("strong",{children:"建议配合 V2NIMFriendService.on 监听好友事件获取实时通知"})}),s.jsx("li",{children:"如果申请列表为空，可能是没有待处理的申请或者数据同步未完成"}),s.jsx("li",{children:"拒绝附言是可选的，但建议填写以便申请人了解拒绝原因"})]})})]})},j7={conversationId:""},Bk="V2NIMLocalConversationService.createConversation",JVe=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),r=j7,i=()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const S=`user${Math.floor(Math.random()*1e3)}`,I=window.nim.V2NIMConversationIdUtil.p2pConversationId(S);console.log(I),e.setFieldsValue({conversationId:I})},d=async S=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{conversationId:I}=S;if(!I){ie.error("请输入会话ID");return}n(!0),console.log("API V2NIMLocalConversationService.createConversation execute, params:",I);const[T,_]=await Kn(()=>{var N;return(N=window.nim)==null?void 0:N.V2NIMLocalConversationService.createConversation(I)});T?(ie.error(`创建会话失败: ${T.toString()}`),console.error("创建会话失败:",T.toString())):(ie.success("创建会话成功"),console.log("创建会话成功, 结果:",_)),n(!1),localStorage.setItem(Bk,JSON.stringify(S))},g=()=>{localStorage.removeItem(Bk),e.setFieldsValue(j7),ie.success("表单已重置为默认值")},v=()=>{const S=e.getFieldsValue(),{conversationId:I}=S;if(!I){ie.error("请先输入会话ID");return}const T=`await window.nim.V2NIMLocalConversationService.createConversation("${I}");`;console.log("V2NIMLocalConversationService.createConversation 调用语句:"),console.log(T),ie.success("调用语句已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:d,style:{marginTop:24},initialValues:r,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMLocalConversationService",target:"_blank",children:Bk})})},"api"),s.jsx(Ie.Item,{label:null,children:s.jsx(on,{size:"middle",style:{width:"100%"},children:s.jsx(Ze,{type:"dashed",onClick:i,children:"随机生成 p2p 会话ID"})})}),s.jsx(Ie.Item,{label:"会话ID",name:"conversationId",tooltip:"会话的唯一标识符，可以通过右侧按钮随机生成",rules:[{required:!0,message:"请输入会话ID"}],children:s.jsx(yn,{placeholder:"请输入会话ID或点击右侧按钮生成"})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"创建会话"}),s.jsx(Ze,{type:"default",onClick:g,children:"重置"}),s.jsx(Ze,{type:"default",onClick:v,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsx("ul",{style:{margin:0,paddingLeft:20},children:s.jsxs("li",{children:["会话 id 的拼装参见"," ",s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#v2nimconversationidutil",children:"V2NIMConversationIdUtil"})," ","系列接口"]})})})]})},{Option:QVe}=an,V7={conversationId:"",clearMessage:!1},Fk="V2NIMLocalConversationService.deleteConversation",ZVe=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState([]),[d,g]=E.useState(!1),v=E.useRef(!1),S=V7,I=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}g(!0),console.log("API V2NIMLocalConversationService.getConversationList execute");const[w,O]=await Kn(()=>{var R;return(R=window.nim)==null?void 0:R.V2NIMLocalConversationService.getConversationList(0,50)});if(g(!1),w){ie.error(`获取会话列表失败: ${w.toString()}`),console.error("获取会话列表失败:",w.toString()),i([]);return}O&&(console.log("获取到的会话列表:",O),i(O.conversationList||[]),!O.conversationList||O.conversationList.length===0?ie.info("当前没有会话记录"):ie.success(`获取到 ${O.conversationList.length} 个会话`))};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,I())},[]);const T=async w=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{conversationId:O,clearMessage:R}=w;if(!O){ie.error("请选择要删除的会话");return}n(!0),console.log("API V2NIMLocalConversationService.deleteConversation execute, params:",O,R);const[D]=await Kn(()=>{var j;return(j=window.nim)==null?void 0:j.V2NIMLocalConversationService.deleteConversation(O,R)});D?(ie.error(`删除会话失败: ${D.toString()}`),console.error("删除会话失败:",D.toString())):(ie.success("删除会话成功"),I()),n(!1),localStorage.setItem(Fk,JSON.stringify(w))},_=()=>{localStorage.removeItem(Fk),e.setFieldsValue(V7),ie.success("表单已重置为默认值")},N=()=>{const w=e.getFieldsValue(),{conversationId:O,clearMessage:R}=w;if(!O){ie.error("请先选择要删除的会话");return}const D=`await window.nim.V2NIMLocalConversationService.deleteConversation("${O}", ${R});`;console.log("V2NIMLocalConversationService.deleteConversation 调用语句:"),console.log(D),ie.success("调用语句已输出到控制台")},A=w=>{const R={1:"P2P",2:"群聊",3:"超大群"}[w.type]||"未知",D=w.updateTime?new Date(w.updateTime).toLocaleString():"无消息";return`${R} - ${w.conversationId} - ${D}`};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:T,style:{marginTop:24},initialValues:S,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMLocalConversationService",target:"_blank",children:Fk})})},"api"),s.jsx(Ie.Item,{label:"选择会话",name:"conversationId",tooltip:"选择要删除的会话",rules:[{required:!0,message:"请选择要删除的会话"}],children:s.jsx(an,{placeholder:"请选择要删除的会话",loading:d,notFoundContent:d?"获取中...":"暂无会话记录",dropdownRender:w=>s.jsxs("div",{children:[w,s.jsx("div",{style:{padding:8,borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",onClick:I,loading:d,style:{padding:0},children:"刷新会话列表"})})]}),children:r.map(w=>s.jsx(QVe,{value:w.conversationId,children:A(w)},w.conversationId))})}),s.jsx(Ie.Item,{label:"清除消息",name:"clearMessage",valuePropName:"checked",tooltip:"是否删除会话对应的本地缓存的历史消息",children:s.jsx(Ys,{children:"删除会话对应的本地历史消息"})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},danger:!0,children:"删除会话"}),s.jsx(Ze,{type:"default",onClick:_,children:"重置"}),s.jsx(Ze,{type:"default",onClick:N,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"删除会话操作会从本地数据库中移除会话记录"}),s.jsx("li",{children:'如果勾选"清除消息"，会同时删除会话对应的本地历史消息'}),s.jsx("li",{children:"如果需要删除云端的漫游/历史消息，需要调用 V2NIMMessageService.clearHistoryMessage"}),s.jsx("li",{children:"删除成功会触发 V2NIMLocalConversationListener.onConversationDeleted 事件"})]})})]})},{Option:e$e}=an,$7={conversationId:""},qk="V2NIMLocalConversationService.markConversationRead",t$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState([]),[d,g]=E.useState(!1),v=E.useRef(!1),S=$7,I=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}g(!0);const[w,O]=await Kn(()=>{var R;return(R=window.nim)==null?void 0:R.V2NIMLocalConversationService.getConversationList(0,50)});if(w){ie.error(`获取会话列表失败: ${w.toString()}`),console.error("获取会话列表失败:",w.toString()),i([]),g(!1);return}if(!O){ie.error("获取会话列表结果为空"),g(!1);return}console.log("API V2NIMLocalConversationService.getConversationList execute"),console.log("获取到的会话列表:",O),i(O.conversationList||[]),!O.conversationList||O.conversationList.length===0?ie.info("当前没有会话记录"):ie.success(`获取到 ${O.conversationList.length} 个会话`),g(!1)};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,I())},[]);const T=async w=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{conversationId:O}=w;if(!O){ie.error("请选择要标记已读的会话");return}n(!0),console.log("API V2NIMLocalConversationService.markConversationRead execute, params:",O);const[R,D]=await Kn(()=>{var j;return(j=window.nim)==null?void 0:j.V2NIMLocalConversationService.markConversationRead(O)});R?(ie.error(`标记会话已读失败: ${R.toString()}`),console.error("标记会话已读失败:",R.toString())):(ie.success("标记会话已读成功"),console.log("标记会话已读成功, 已读时间戳:",D),I()),n(!1),localStorage.setItem(qk,JSON.stringify(w))},_=()=>{localStorage.removeItem(qk),e.setFieldsValue($7),ie.success("表单已重置为默认值")},N=()=>{const w=e.getFieldsValue(),{conversationId:O}=w;if(!O){ie.error("请先选择要标记已读的会话");return}const R=`await window.nim.V2NIMLocalConversationService.markConversationRead("${O}");`;console.log("V2NIMLocalConversationService.markConversationRead 调用语句:"),console.log(R),ie.success("调用语句已输出到控制台")},A=w=>{const R={1:"P2P",2:"群聊",3:"超大群"}[w.type]||"未知",D=w.updateTime?new Date(w.updateTime).toLocaleString():"无消息",j=w.unreadCount||0;return`${j>0?`🔴 ${j}`:"✅"} ${R} - ${w.conversationId} - ${D}`};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:T,style:{marginTop:24},initialValues:S,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMLocalConversationService",target:"_blank",children:qk})})},"api"),s.jsx(Ie.Item,{label:"选择会话",name:"conversationId",tooltip:"选择要标记已读的会话",rules:[{required:!0,message:"请选择要标记已读的会话"}],children:s.jsx(an,{placeholder:"请选择要标记已读的会话",loading:d,notFoundContent:d?"获取中...":"暂无会话记录",dropdownRender:w=>s.jsxs("div",{children:[w,s.jsx("div",{style:{padding:8,borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",onClick:I,loading:d,style:{padding:0},children:"刷新会话列表"})})]}),children:r.map(w=>s.jsx(e$e,{value:w.conversationId,children:A(w)},w.conversationId))})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"标记已读"}),s.jsx(Ze,{type:"default",onClick:_,children:"重置"}),s.jsx(Ze,{type:"default",onClick:N,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"标记会话已读会将该会话的未读数清零"}),s.jsx("li",{children:"操作会返回一个时间戳，表示本账号已读过该时间戳之前的所有消息"}),s.jsx("li",{children:"有未读消息的会话在选择框中会显示 🔴 和未读数，无未读消息会显示 ✅"}),s.jsx("li",{children:"操作成功会触发 V2NIMLocalConversationListener.onConversationReadTimeUpdated 事件"}),s.jsx("li",{children:"该功能支持 P2P、群聊、超大群等会话类型"}),s.jsx("li",{children:"多端同步：该操作会同步到其他登录设备"})]})})]})},{Text:Tc}=yl,n$e="V2NIMLocalConversationService.on",r$e=()=>{const[e]=Ie.useForm(),t=T=>{ie.success("收到 V2NIMLocalConversationService 模块的 onConversationCreated 事件, 详情见控制台"),console.log("会话被创建:",T)},n=T=>{ie.warning("收到 V2NIMLocalConversationService 模块的 onConversationDeleted 事件, 详情见控制台"),console.log("会话被删除:",T)},r=T=>{ie.info("收到 V2NIMLocalConversationService 模块的 onConversationChanged 事件, 详情见控制台"),console.log("会话有更新:",T)},i=T=>{ie.info("收到 V2NIMLocalConversationService 模块的 onTotalUnreadCountChanged 事件, 详情见控制台"),console.log("总未读数变更:",T)},d=(T,_)=>{ie.info("收到 V2NIMLocalConversationService 模块的 onUnreadCountChangedByFilter 事件, 详情见控制台"),console.log("过滤条件未读数变更:",{filter:T,unreadCount:_})},g=(T,_)=>{const N=new Date(_).toLocaleString();ie.info("收到 V2NIMLocalConversationService 模块的 onConversationReadTimeUpdated 事件, 详情见控制台"),console.log("会话已读时间更新:",{conversationId:T,readTime:_,readTimeStr:N})},v=async()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}window.nim.V2NIMLocalConversationService.off("onConversationCreated",t),window.nim.V2NIMLocalConversationService.off("onConversationDeleted",n),window.nim.V2NIMLocalConversationService.off("onConversationChanged",r),window.nim.V2NIMLocalConversationService.off("onTotalUnreadCountChanged",i),window.nim.V2NIMLocalConversationService.off("onUnreadCountChangedByFilter",d),window.nim.V2NIMLocalConversationService.off("onConversationReadTimeUpdated",g),window.nim.V2NIMLocalConversationService.on("onConversationCreated",t),window.nim.V2NIMLocalConversationService.on("onConversationDeleted",n),window.nim.V2NIMLocalConversationService.on("onConversationChanged",r),window.nim.V2NIMLocalConversationService.on("onTotalUnreadCountChanged",i),window.nim.V2NIMLocalConversationService.on("onUnreadCountChangedByFilter",d),window.nim.V2NIMLocalConversationService.on("onConversationReadTimeUpdated",g),ie.success("成功设置本地会话服务监听"),console.log("本地会话服务监听已设置")},S=()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}window.nim.V2NIMLocalConversationService.removeAllListeners("onConversationCreated"),window.nim.V2NIMLocalConversationService.removeAllListeners("onConversationDeleted"),window.nim.V2NIMLocalConversationService.removeAllListeners("onConversationChanged"),window.nim.V2NIMLocalConversationService.removeAllListeners("onTotalUnreadCountChanged"),window.nim.V2NIMLocalConversationService.removeAllListeners("onUnreadCountChangedByFilter"),window.nim.V2NIMLocalConversationService.removeAllListeners("onConversationReadTimeUpdated"),ie.success("已取消所有本地会话服务监听"),console.log("所有本地会话服务监听已取消")},I=()=>{const T=`
// 设置本地会话服务监听
const setupLocalConversationListeners = () => {
  // 会话被创建
  window.nim.V2NIMLocalConversationService.on('onConversationCreated', (conversation) => {
    console.log('会话被创建:', conversation);
  });

  // 会话被删除
  window.nim.V2NIMLocalConversationService.on('onConversationDeleted', (conversationIds) => {
    console.log('会话被删除:', conversationIds);
  });

  // 会话改变
  window.nim.V2NIMLocalConversationService.on('onConversationChanged', (conversationList) => {
    console.log('会话有更新:', conversationList);
  });

  // 总未读数改变
  window.nim.V2NIMLocalConversationService.on('onTotalUnreadCountChanged', (unreadCount) => {
    console.log('总未读数变更:', unreadCount);
  });

  // 指定过滤条件的未读数改变
  window.nim.V2NIMLocalConversationService.on('onUnreadCountChangedByFilter', (filter, unreadCount) => {
    console.log('过滤条件未读数变更:', { filter, unreadCount });
  });

  // 会话已读时间戳更新
  window.nim.V2NIMLocalConversationService.on('onConversationReadTimeUpdated', (conversationId, readTime) => {
    console.log('会话已读时间更新:', { conversationId, readTime });
  });
};

// 调用设置函数
setupLocalConversationListeners();
`;console.log("V2NIMLocalConversationService 监听设置代码:"),console.log(T),ie.success("监听设置代码已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},style:{marginTop:24},children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMLocalConversationService",target:"_blank",children:n$e})})},"api"),s.jsx(Ie.Item,{label:"操作项",children:s.jsxs(on,{size:"middle",style:{width:"100%",flexWrap:"wrap"},children:[s.jsx(Ze,{type:"primary",onClick:v,style:{minWidth:120},children:"设置监听"}),s.jsx(Ze,{type:"default",danger:!0,onClick:S,children:"取消所有监听"}),s.jsx(Ze,{type:"default",onClick:I,children:"输出监听代码"})]})})]}),s.jsxs(_t,{title:"监听事件说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Tc,{strong:!0,children:"同步相关事件："})," 请直接使用 V2NIMLoginService 模块的 onDataSync 事件来监听数据是否准备完毕"]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Tc,{strong:!0,children:"会话操作事件："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(Tc,{code:!0,children:"onConversationCreated"})," - 会话被创建"]}),s.jsxs("li",{children:[s.jsx(Tc,{code:!0,children:"onConversationDeleted"})," - 会话被删除"]}),s.jsxs("li",{children:[s.jsx(Tc,{code:!0,children:"onConversationChanged"})," - 会话有更新（置顶、免打扰、扩展字段、未读数等）"]})]})]}),s.jsxs("div",{children:[s.jsx(Tc,{strong:!0,children:"未读数相关事件："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(Tc,{code:!0,children:"onTotalUnreadCountChanged"})," - 总未读数发生变化"]}),s.jsxs("li",{children:[s.jsx(Tc,{code:!0,children:"onUnreadCountChangedByFilter"})," - 指定过滤条件的未读数发生变化"]}),s.jsxs("li",{children:[s.jsx(Tc,{code:!0,children:"onConversationReadTimeUpdated"})," - 会话已读时间戳更新"]})]})]})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"本页面演示 V2NIMLocalConversationService 的事件监听功能"}),s.jsx("li",{children:"设置监听后，相关的会话操作会触发对应事件并显示消息提示"}),s.jsx("li",{children:"对同一个事件 on 监听多次，都会生效并触发多次，使用时注意防止重复监听"}),s.jsxs("li",{children:["建议在 ",s.jsx(Tc,{code:!0,children:"onDataSync"})," 事件告知数据准备完毕后, 再使用会话模块数据，以保证数据完整性"]}),s.jsx("li",{children:'使用"取消所有监听"可以一次性移除所有已设置的监听器'}),s.jsx("li",{children:s.jsx(Tc,{type:"warning",children:"注意：设置监听后，可以去其他会话相关页面进行操作来触发事件（如创建会话、删除会话、置顶会话、标记已读等）"})}),s.jsx("li",{children:"所有事件都会在控制台输出详细信息，方便调试和学习"})]})})]})},{Option:a$e}=an,U7={conversationId:"",stickTop:!0},zk="V2NIMLocalConversationService.stickTopConversation",i$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState([]),[d,g]=E.useState(!1),v=E.useRef(!1),S=U7,I=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}g(!0);try{console.log("API V2NIMLocalConversationService.getConversationList execute");const w=await window.nim.V2NIMLocalConversationService.getConversationList(0,50);console.log("获取到的会话列表:",w),i(w.conversationList||[]),!w.conversationList||w.conversationList.length===0?ie.info("当前没有会话记录"):ie.success(`获取到 ${w.conversationList.length} 个会话`)}catch(w){ie.error(`获取会话列表失败: ${w}`),console.error("获取会话列表失败:",w.toString()),i([])}finally{g(!1)}};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,I())},[]);const T=async w=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{conversationId:O,stickTop:R}=w;if(!O){ie.error("请选择要操作的会话");return}n(!0),console.log("API V2NIMLocalConversationService.stickTopConversation execute, params:",O,R);const[D]=await Kn(()=>{var j;return(j=window.nim)==null?void 0:j.V2NIMLocalConversationService.stickTopConversation(O,R)});D?(ie.error(`${R?"置顶":"取消置顶"}会话失败: ${D.toString()}`),console.error("置顶会话操作失败:",D.toString())):(ie.success(`${R?"置顶":"取消置顶"}会话成功`),I()),n(!1),localStorage.setItem(zk,JSON.stringify(w))},_=()=>{localStorage.removeItem(zk),e.setFieldsValue(U7),ie.success("表单已重置为默认值")},N=()=>{const w=e.getFieldsValue(),{conversationId:O,stickTop:R}=w;if(!O){ie.error("请先选择要操作的会话");return}const D=`await window.nim.V2NIMLocalConversationService.stickTopConversation("${O}", ${R});`;console.log("V2NIMLocalConversationService.stickTopConversation 调用语句:"),console.log(D),ie.success("调用语句已输出到控制台")},A=w=>{const R={1:"P2P",2:"群聊",3:"超大群"}[w.type]||"未知",D=w.updateTime?new Date(w.updateTime).toLocaleString():"无消息";return`${w.stickTop?"📌 ":""}${R} - ${w.conversationId} - ${D}`};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:T,style:{marginTop:24},initialValues:S,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMLocalConversationService",target:"_blank",children:zk})})},"api"),s.jsx(Ie.Item,{label:"选择会话",name:"conversationId",tooltip:"选择要进行置顶/取消置顶操作的会话",rules:[{required:!0,message:"请选择要操作的会话"}],children:s.jsx(an,{placeholder:"请选择要操作的会话",loading:d,notFoundContent:d?"获取中...":"暂无会话记录",dropdownRender:w=>s.jsxs("div",{children:[w,s.jsx("div",{style:{padding:8,borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",onClick:I,loading:d,style:{padding:0},children:"刷新会话列表"})})]}),children:r.map(w=>s.jsx(a$e,{value:w.conversationId,children:A(w)},w.conversationId))})}),s.jsx(Ie.Item,{label:"操作类型",name:"stickTop",tooltip:"选择要执行的操作：置顶或取消置顶",rules:[{required:!0,message:"请选择操作类型"}],children:s.jsxs(Dr.Group,{children:[s.jsx(Dr,{value:!0,children:"置顶会话"}),s.jsx(Dr,{value:!1,children:"取消置顶"})]})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"执行操作"}),s.jsx(Ze,{type:"default",onClick:_,children:"重置"}),s.jsx(Ze,{type:"default",onClick:N,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"置顶操作会将会话固定在会话列表的顶部"}),s.jsx("li",{children:"取消置顶操作会将会话从置顶状态恢复到正常状态"}),s.jsx("li",{children:"已置顶的会话在选择框中会显示 📌 标记"}),s.jsx("li",{children:"操作成功会触发 V2NIMLocalConversationListener.onConversationChanged 事件"}),s.jsx("li",{children:"置顶状态会影响会话列表的排序，置顶会话会排在前面"})]})})]})},{Option:o$e}=an,B7={clientId:""},Hk="V2NIMLoginService.kickOffline",s$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState([]),[d,g]=E.useState(!1),v=E.useRef(!1),S=B7,I=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}g(!0);try{console.log("API V2NIMLoginService.getLoginClients execute");const w=window.nim.V2NIMLoginService.getLoginClients();console.log("获取到的登录客户端列表:",w),i(w||[]),!w||w.length===0?ie.info("当前没有其他登录端"):ie.success(`获取到 ${w.length} 个登录端`)}catch(w){ie.error(`获取登录客户端列表失败: ${w}`),i([])}finally{g(!1)}};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,I())},[]);const T=async w=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{clientId:O}=w;if(!O){ie.error("请选择要踢下线的客户端");return}const R=r.find(j=>j.clientId===O);if(!R){ie.error("未找到指定的客户端");return}n(!0),console.log("API V2NIMLoginService.kickOffline execute, params:",R);const[D]=await Kn(()=>{var j;return(j=window.nim)==null?void 0:j.V2NIMLoginService.kickOffline(R)});D?ie.error(`KickOffline 失败: ${D.toString()}`):(ie.success("KickOffline 成功"),I()),n(!1),localStorage.setItem(Hk,JSON.stringify(w))},_=()=>{localStorage.removeItem(Hk),e.setFieldsValue(B7),ie.success("表单已重置为默认值")},N=()=>{const w=e.getFieldsValue(),{clientId:O}=w;if(!O){ie.error("请先选择要踢下线的客户端");return}const R=r.find(j=>j.clientId===O);if(!R){ie.error("未找到指定的客户端");return}const D=`await window.nim.V2NIMLoginService.kickOffline(${JSON.stringify(R,null,2)});`;console.log("V2NIMLoginService.kickOffline 调用语句:"),console.log(D),ie.success("调用语句已输出到控制台")},A=w=>{const R={0:"未知",1:"Android",2:"iOS",4:"PC",16:"Web",32:"REST API",64:"Mac OS",65:"HarmonyOS"}[w.type]||"未知",D=new Date(w.timestamp).toLocaleString();return`${R} (${w.os}) - ${D} - ID: ${w.clientId}`};return s.jsx("div",{className:At.formContainer,children:s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:T,style:{marginTop:24},initialValues:S,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMLoginService",target:"_blank",children:Hk})})},"api"),s.jsx(Ie.Item,{label:"选择客户端",name:"clientId",tooltip:"可以把本账号的其他客户端踢下线",rules:[{required:!0,message:"请选择要踢下线的客户端"}],children:s.jsx(an,{placeholder:"请选择要踢下线的客户端",loading:d,notFoundContent:d?"获取中...":"暂无可踢下线的客户端",dropdownRender:w=>s.jsxs("div",{children:[w,s.jsx("div",{style:{padding:8,borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",onClick:I,loading:d,style:{padding:0},children:"刷新客户端列表"})})]}),children:r.map(w=>s.jsx(o$e,{value:w.clientId,children:A(w)},w.clientId))})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"踢下线"}),s.jsx(Ze,{type:"default",onClick:_,children:"重置"}),s.jsx(Ze,{type:"default",onClick:N,children:"输出调用语句"})]})})]})})};function l$e(e,t){try{const n=localStorage.getItem(e);if(n)return JSON.parse(n)}catch{}return t}function c$e(e,t=2){const n=" ".repeat(t);return`{
${Object.entries(e).map(([i,d])=>typeof d=="function"?`${n}${i}: ${d.toString()}`:typeof d=="string"?`${n}${i}: "${d}"`:`${n}${i}: ${JSON.stringify(d)}`).join(`,
`)}
}`}const{Option:Gk}=an,Kk={accountId:"account1",token:"e10adc3************f20f883e",loginOption:{retryCount:3,timeout:6e4,forceMode:!1,authType:0}},DT="V2NIMLoginService.login",u$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),d=l$e(DT,Kk),g=async _=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}n(!0);const{accountId:N,token:A,loginOption:w}=_;let O=r?{...w}:void 0;r&&(w.authType===1?O={...O,tokenProvider:function(j){return console.log(j,"将会返回一个新的登录 token"),"e10adc3************f20f883e"}}:w.authType===2&&(O={...O,loginExtensionProvider:function(j){return console.log(j,"将会返回一个新的登录扩展字段"),"example login extension"}})),console.log("API V2NIMLoginService.login execute, params:",N,A,O);const[R]=await Kn(()=>{var j;return(j=window.nim)==null?void 0:j.V2NIMLoginService.login(N,A,O)});R?ie.error(`Login 失败: ${R.toString()}`):ie.success("Login 成功"),n(!1);const D={accountId:N,token:A,loginOption:r?w:void 0};localStorage.setItem(DT,JSON.stringify(D))},v=async()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}const[_]=await Kn(()=>{var N;return(N=window.nim)==null?void 0:N.V2NIMLoginService.logout()});if(_){ie.error(`Logout 执行失败: ${_.message}`),console.error(`Logout 执行失败: ${_.toString()}`);return}ie.success("Logout 执行成功")},S=_=>{i(_),_&&e.setFieldsValue({loginOption:Kk.loginOption})},I=()=>{localStorage.removeItem(DT),e.setFieldsValue(Kk),i(!1),ie.success("表单已重置为默认值")},T=()=>{const _=e.getFieldsValue(),{accountId:N,token:A,loginOption:w}=_;let O="";if(!r)O=`await window.nim.V2NIMLoginService.login("${N}", "${A}");`;else{const R={...w};w.authType===1?R.tokenProvider=function(j){return console.log(j,"将会返回一个新的登录 token"),"e10adc3************f20f883e"}:w.authType===2&&(R.loginExtensionProvider=function(j){return console.log(j,"将会返回一个新的登录扩展字段"),"example login extension"});const D=c$e(R);O=`await window.nim.V2NIMLoginService.login("${N}", "${A}", ${D});`}console.log("V2NIMLoginService.login 调用语句:"),console.log(O),ie.success("调用语句已输出到控制台")};return s.jsx("div",{className:At.formContainer,children:s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:g,style:{marginTop:24},initialValues:d,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMLoginService",target:"_blank",children:DT})})},"api"),s.jsx(Ie.Item,{label:"账号 ID",name:"accountId",rules:[{required:!0,message:"请输入用户账号"}],children:s.jsx(yn,{placeholder:"请输入用户账号"})}),s.jsx(Ie.Item,{label:"Token",name:"token",rules:[{required:!0,message:"请输入令牌"}],children:s.jsx(yn.Password,{placeholder:"请输入令牌"})}),s.jsx(Ie.Item,{label:null,children:s.jsx(Ys,{onChange:_=>S(_.target.checked),children:"登录高级参数"})}),r&&s.jsxs(s.Fragment,{children:[s.jsx(Ie.Item,{label:"尝试次数",name:["loginOption","retryCount"],tooltip:"登录失败时的重试次数，默认为 3 次",children:s.jsx(Rc,{min:0,placeholder:"默认 3 次"})}),s.jsx(Ie.Item,{label:"超时时间",name:["loginOption","timeout"],tooltip:"登录操作的超时时间，单位为毫秒，默认 60000ms (60秒)",children:s.jsx(Rc,{min:1e3,step:1e3,placeholder:"默认 60000ms"})}),s.jsx(Ie.Item,{label:"强制登录",name:["loginOption","forceMode"],valuePropName:"checked",tooltip:"是否强制登录，开启后会踢掉其他端的登录状态",children:s.jsx(ds,{})}),s.jsx(Ie.Item,{label:"认证类型",name:["loginOption","authType"],tooltip:"登录认证类型，0表示默认的静态 token 认证",children:s.jsxs(an,{placeholder:"选择认证类型",children:[s.jsx(Gk,{value:0,children:"0 - 默认认证"}),s.jsx(Gk,{value:1,children:"1 - 动态令牌认证, 示例 tokenProvider 回调"}),s.jsx(Gk,{value:2,children:"2 - 第三方认证, 示例 loginExtensionProvider 回调"})]})})]}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"登录"}),s.jsx(Ze,{type:"default",onClick:I,children:"重置"}),s.jsx(Ze,{type:"default",onClick:T,children:"输出调用语句"}),s.jsx(Ze,{type:"default",danger:!0,onClick:v,children:"登出"})]})})]})})},{Text:d$e}=yl,p$e="V2NIMLoginService.on",m$e=()=>{const[e]=Ie.useForm(),t=d=>{ie.info("收到 V2NIMLoginService 模块的 onLoginStatus 事件, 详情见控制台"),d===ng.V2NIMConst.V2NIMLoginStatus.V2NIM_LOGIN_STATUS_LOGINED?console.info("V2NIMLoginService.onLoginStatus => 登录成功(也可以表示断线重连成功)"):d===ng.V2NIMConst.V2NIMLoginStatus.V2NIM_LOGIN_STATUS_LOGINING?console.info("V2NIMLoginService.onLoginStatus => 正在登录中(也可以表示正在重连中)"):d===ng.V2NIMConst.V2NIMLoginStatus.V2NIM_LOGIN_STATUS_LOGOUT?console.warn("V2NIMLoginService.onLoginStatus => 未登录(同时代表初始状态, 已经登出, 已经被踢下线, 断线等情况)"):d===ng.V2NIMConst.V2NIMLoginStatus.V2NIM_LOGIN_STATUS_UNLOGIN&&console.warn("V2NIMLoginService.onLoginStatus => 重连退避中.")},n=(d,g,v)=>{d===ng.V2NIMConst.V2NIMDataSyncType.V2NIM_DATA_SYNC_TYPE_MAIN&&g===ng.V2NIMConst.V2NIMDataSyncState.V2NIM_DATA_SYNC_STATE_COMPLETED&&(v?(console.log("V2NIMLoginService.onDataSync get error",v),ie.info("收到 V2NIMLoginService 模块的 onDataSync 事件, 同步出错")):ie.success("收到 V2NIMLoginService 模块的 onDataSync 事件, 同步成功"))},r=async()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}window.nim.V2NIMLoginService.off("onLoginStatus",t),window.nim.V2NIMLoginService.off("onDataSync",n),window.nim.V2NIMLoginService.on("onLoginStatus",t),window.nim.V2NIMLoginService.on("onDataSync",n),ie.success("成功设置监听")},i=()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}window.nim.V2NIMLoginService.removeAllListeners("onLoginStatus"),window.nim.V2NIMLoginService.removeAllListeners("onDataSync"),ie.success("已取消监听")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},style:{marginTop:24},children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMLoginService",target:"_blank",children:p$e})})},"api"),s.jsx(Ie.Item,{label:"操作项",children:s.jsxs(on,{size:"middle",style:{width:"100%",flexWrap:"wrap"},children:[s.jsx(Ze,{type:"primary",onClick:r,style:{minWidth:120},children:"设置监听"}),s.jsx(Ze,{type:"default",danger:!0,onClick:i,children:"取消所有监听"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"本模块只演示 onLoginStatus 登录状态变化, onDataSync 数据同步进展"}),s.jsx("li",{children:"其他细节事件已经在初始化表单时设置, 请翻阅 NIMInitForm 代码查看"}),s.jsx("li",{children:"对同一个事件 on 监听多次, 是都会生效的, 会触发多次. 使用时注意防止重复监听"}),s.jsx("li",{children:'使用"取消所有监听"可以一次性移除所有已设置的监听器'}),s.jsx("li",{children:s.jsx(d$e,{type:"warning",children:"注意：跳转去“登录与登出”页执行登录动作查看."})})]})})]})},{Option:f$e}=an,{TextArea:g$e}=yn,F7={conversationId:"",deleteRoam:!0,onlineSync:!1,serverExtension:""},Wk="V2NIMMessageService.clearHistoryMessage",h$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState([]),[d,g]=E.useState(!1),v=E.useRef(!1),S=F7,I=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}g(!0),console.log("API V2NIMLocalConversationService.getConversationList execute");const[w,O]=await Kn(()=>{var R;return(R=window.nim)==null?void 0:R.V2NIMLocalConversationService.getConversationList(0,50)});if(g(!1),w){ie.error(`获取会话列表失败: ${w}`),console.error("获取会话列表失败:",w.toString()),i([]);return}O&&(console.log("获取到的会话列表:",O),i(O.conversationList||[]),!O.conversationList||O.conversationList.length===0?ie.info("当前没有会话记录"):ie.success(`获取到 ${O.conversationList.length} 个会话`))};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,I())},[]);const T=async w=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{conversationId:O,deleteRoam:R,onlineSync:D,serverExtension:j}=w;n(!0);const L={conversationId:O,deleteRoam:R,onlineSync:D};j.trim()&&(L.serverExtension=j),console.log("API V2NIMMessageService.clearHistoryMessage execute, params:",L);const[U]=await Kn(()=>{var $;return($=window.nim)==null?void 0:$.V2NIMMessageService.clearHistoryMessage(L)});U?(ie.error(`清空历史消息失败: ${U.toString()}`),console.error("清空历史消息失败:",U.toString())):(ie.success("清空历史消息成功"),localStorage.setItem(Wk,JSON.stringify(w))),n(!1)},_=()=>{localStorage.removeItem(Wk),e.setFieldsValue(F7),ie.success("表单已重置为默认值")},N=()=>{const w=e.getFieldsValue(),{conversationId:O,deleteRoam:R,onlineSync:D,serverExtension:j}=w,L={conversationId:O,deleteRoam:R,onlineSync:D};j.trim()&&(L.serverExtension=j);const U=`await window.nim.V2NIMMessageService.clearHistoryMessage(${JSON.stringify(L,null,2)});`;console.log("V2NIMMessageService.clearHistoryMessage 调用语句:"),console.log(U),ie.success("调用语句已输出到控制台")},A=w=>{const R={1:"P2P",2:"群聊",3:"超大群"}[w.type]||"未知",D=w.updateTime?new Date(w.updateTime).toLocaleString():"无消息";return`${R} - ${w.conversationId} - ${D}`};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:T,style:{marginTop:24},initialValues:S,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMMessageService",target:"_blank",children:Wk})})},"api"),s.jsx(Ie.Item,{label:"选择会话",name:"conversationId",tooltip:"选择要清空历史消息的会话",rules:[{required:!0,message:"请选择会话"}],children:s.jsx(an,{placeholder:"请选择会话",loading:d,notFoundContent:d?"获取中...":"暂无会话记录",dropdownRender:w=>s.jsxs("div",{children:[w,s.jsx("div",{style:{padding:8,borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",onClick:I,loading:d,style:{padding:0},children:"刷新会话列表"})})]}),children:r.map(w=>s.jsx(f$e,{value:w.conversationId,children:A(w)},w.conversationId))})}),s.jsx(Ie.Item,{label:"删除漫游消息",name:"deleteRoam",tooltip:"是否需要删除漫游消息，默认为 true（仅P2P会话时有效）",valuePropName:"checked",children:s.jsx(Ys,{children:"删除漫游消息（仅P2P会话时有效）"})}),s.jsx(Ie.Item,{label:"多端同步",name:"onlineSync",tooltip:"是否需要通知其它多端同步账户，默认不同步",valuePropName:"checked",children:s.jsx(Ys,{children:"通知其它多端同步"})}),s.jsx(Ie.Item,{label:"扩展字段",name:"serverExtension",tooltip:"扩展字段，多端同步时会同步到其它端",children:s.jsx(g$e,{rows:2,placeholder:"扩展字段，多端同步时会同步到其它端"})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},danger:!0,children:"清空历史消息"}),s.jsx(Ze,{type:"default",onClick:_,children:"重置"}),s.jsx(Ze,{type:"default",onClick:N,children:"输出调用语句"})]})})]}),s.jsxs(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:[s.jsx(pD,{message:"危险操作警告",description:"清空历史消息是不可逆操作，请谨慎使用！",type:"warning",showIcon:!0,style:{marginBottom:16}}),s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"此操作会清空选定会话中的所有历史消息，操作不可逆"}),s.jsx("li",{children:'"删除漫游消息" 选项仅在P2P会话中有效，用于控制是否删除服务器端的漫游消息'}),s.jsx("li",{children:'"多端同步" 选项用于控制是否通知其他登录端同步清空操作'}),s.jsx("li",{children:"扩展字段会在多端同步时传递给其他端"}),s.jsx("li",{children:"清空成功会触发相关的消息监听事件"}),s.jsx("li",{children:"建议在清空前先确认会话和消息内容"})]})]})]})},{Option:q7}=an,{TextArea:v$e}=yn,y$e=[{label:"文本消息",value:0},{label:"图片消息",value:1},{label:"音频消息",value:2},{label:"视频消息",value:3},{label:"文件消息",value:4},{label:"位置消息",value:5},{label:"通知消息",value:10},{label:"自定义消息",value:100}],z7={conversationId:"",messageIds:[],serverExtension:'{"reason": "user_delete"}'},Yk="V2NIMMessageService.deleteMessages",b$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState([]),[d,g]=E.useState(!1),[v,S]=E.useState([]),[I,T]=E.useState(!1),[_,N]=E.useState([]),A=E.useRef(!1),w=z7,O=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}g(!0),console.log("API V2NIMLocalConversationService.getConversationList execute");const[V,K]=await Kn(()=>{var J;return(J=window.nim)==null?void 0:J.V2NIMLocalConversationService.getConversationList(0,50)});if(g(!1),V){ie.error(`获取会话列表失败: ${V.toString()}`),console.error("获取会话列表失败:",V.toString()),i([]);return}K&&(console.log("获取到的会话列表:",K),i(K.conversationList||[]),!K.conversationList||K.conversationList.length===0?ie.info("当前没有会话记录"):ie.success(`获取到 ${K.conversationList.length} 个会话`))},R=async V=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}T(!0),S([]),N([]),e.setFieldsValue({messageIds:[]});const K={conversationId:V,limit:50,direction:0,messageTypes:[0,1,2,3,4,5,10,100]},[J,te]=await Kn(()=>{var Z;return(Z=window.nim)==null?void 0:Z.V2NIMMessageService.getMessageListEx(K)});if(J)ie.error(`获取消息列表失败: ${J.toString()}`),console.error("获取消息列表失败:",J.toString()),S([]);else{console.log("获取消息列表成功, 结果:",te);const Z=(te==null?void 0:te.messages)||[];S(Z),Z.length===0?ie.info("该会话中没有消息"):ie.success(`获取到 ${Z.length} 条消息`)}T(!1)};E.useEffect(()=>{!A.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(A.current=!0,O())},[]);const D=async V=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}if(_.length===0){ie.error("请选择要删除的消息");return}if(_.length>50){ie.error("一次最多只能删除50条消息");return}const K=_[0].conversationId;if(!_.every(X=>X.conversationId===K)){ie.error("所删除的消息必须是同一会话的消息");return}const{serverExtension:te}=V;n(!0),console.log("API V2NIMMessageService.deleteMessages execute, params:",_,te);const[Z]=await Kn(()=>{var X;return(X=window.nim)==null?void 0:X.V2NIMMessageService.deleteMessages(_,te)});Z?(ie.error(`批量删除消息失败: ${Z.toString()}`),console.error("批量删除消息失败:",Z.toString())):(ie.success(`成功删除 ${_.length} 条消息`),V.conversationId&&R(V.conversationId),localStorage.setItem(Yk,JSON.stringify(V))),n(!1)},j=()=>{localStorage.removeItem(Yk),e.setFieldsValue(z7),S([]),N([]),ie.success("表单已重置为默认值")},L=()=>{const V=e.getFieldsValue();if(_.length===0){ie.error("请先选择要删除的消息");return}const{serverExtension:K}=V,J=`await window.nim.V2NIMMessageService.deleteMessages(messagesArray, ${JSON.stringify(K)});`;console.log("V2NIMMessageService.deleteMessages 调用语句:"),console.log(J),console.log("messagesArray:",_),ie.success("调用语句已输出到控制台")},U=V=>{const J={1:"P2P",2:"群聊",3:"超大群"}[V.type]||"未知",te=V.updateTime?new Date(V.updateTime).toLocaleString():"无消息";return`${J} - ${V.conversationId} - ${te}`},$=V=>{const K=y$e.find(J=>J.value===V);return K?K.label:`未知类型(${V})`},F=V=>V?new Date(V).toLocaleString():"-";function z(V){const K=v.filter(J=>V.includes(J.messageClientId));N(K)}const H=[{title:"消息ID",dataIndex:"messageClientId",key:"messageClientId",width:120,ellipsis:!0,render:V=>V.slice(-8)},{title:"发送者",dataIndex:"senderId",key:"senderId",width:100,ellipsis:!0},{title:"消息类型",dataIndex:"messageType",key:"messageType",width:100,render:V=>s.jsx(ln,{color:"blue",children:$(V)})},{title:"内容",key:"content",width:200,ellipsis:!0,render:V=>V.messageType===0?V.text||"-":V.attachment?`附件: ${"name"in V.attachment?V.attachment.name:"未知文件"}`:"-"},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:150,render:V=>F(V)},{title:"状态",dataIndex:"sendingState",key:"sendingState",width:80,render:V=>{const J={0:{text:"发送中",color:"processing"},1:{text:"发送成功",color:"success"},2:{text:"发送失败",color:"error"}}[V]||{text:"未知",color:"default"};return s.jsx(ln,{color:J.color,children:J.text})}}];return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:D,style:{marginTop:24},initialValues:w,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMMessageService",target:"_blank",children:Yk})})},"api"),s.jsx(Ie.Item,{label:"选择会话",name:"conversationId",tooltip:"选择要删除消息的会话",rules:[{required:!0,message:"请选择会话"}],children:s.jsx(an,{placeholder:"请选择会话",loading:d,notFoundContent:d?"获取中...":"暂无会话记录",onChange:V=>{V?R(V):(S([]),N([]),e.setFieldsValue({messageIds:[]}))},dropdownRender:V=>s.jsxs("div",{children:[V,s.jsx("div",{style:{padding:8,borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",onClick:O,loading:d,style:{padding:0},children:"刷新会话列表"})})]}),children:r.map(V=>s.jsx(q7,{value:V.conversationId,children:U(V)},V.conversationId))})}),s.jsx(Ie.Item,{label:"选择消息",name:"messageIds",tooltip:"选择要删除的消息（可多选，最多50条）",rules:[{required:!0,message:"请选择要删除的消息"}],children:s.jsx(an,{mode:"multiple",placeholder:v.length===0?"请先选择会话":"选择要删除的消息（可多选）",disabled:v.length===0,value:_.map(V=>V.messageClientId),onChange:z,notFoundContent:I?"获取消息中...":"无消息",maxTagCount:3,maxTagTextLength:8,children:v.map(V=>s.jsxs(q7,{value:V.messageClientId,children:[V.messageClientId.slice(-8)," - ",$(V.messageType)," -"," ",F(V.createTime)]},V.messageClientId))})}),s.jsx(Ie.Item,{label:"服务端扩展",name:"serverExtension",tooltip:"服务端扩展字段，JSON格式",children:s.jsx(v$e,{rows:2,placeholder:"服务端扩展字段，JSON格式"})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsxs(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},danger:!0,disabled:_.length===0,children:["删除消息 (",_.length,")"]}),s.jsx(Ze,{type:"default",onClick:j,children:"重置"}),s.jsx(Ze,{type:"default",onClick:L,children:"输出调用语句"})]})})]}),_.length>0&&s.jsxs(_t,{title:`已选择的消息 (${_.length} 条)`,style:{marginTop:16},size:"small",children:[s.jsx(fs,{dataSource:_,columns:H,rowKey:"messageClientId",size:"small",pagination:!1,scroll:{x:800}}),_.length>50&&s.jsx(pD,{message:"超出限制",description:"一次最多只能删除50条消息，请重新选择",type:"error",style:{marginTop:8}})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"一次最多可以删除50条消息"}),s.jsx("li",{children:"所删除的消息必须是同一会话的消息"}),s.jsx("li",{children:"删除消息会多端同步，其他端也会收到删除通知"}),s.jsx("li",{children:"删除成功会触发 V2NIMMessageListener.onMessageDeletedNotifications 事件"}),s.jsx("li",{children:"选择会话后会自动加载该会话中的所有消息"}),s.jsx("li",{children:"可以通过多选框选择多条消息进行批量删除"}),s.jsx("li",{children:"服务端扩展字段用于传递额外的删除参数"})]})})]})},{Option:jT}=an,H7=[{label:"文本消息",value:0},{label:"图片消息",value:1},{label:"音频消息",value:2},{label:"视频消息",value:3},{label:"文件消息",value:4},{label:"位置消息",value:5},{label:"通知消息",value:10},{label:"自定义消息",value:100}],S$e=[{label:"查询比锚点时间更旧的消息（默认）",value:0},{label:"查询比锚点时间更新的消息",value:1}],G7={conversationId:"",beginTime:0,endTime:0,limit:20,direction:0,messageTypes:[0,1,2,3,4,5,10,100],anchorMessage:""},Xk="V2NIMMessageService.getMessageListEx",I$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState([]),[d,g]=E.useState(!1),[v,S]=E.useState([]),[I,T]=E.useState(!1),_=E.useRef(!1),N=G7,A=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}g(!0),console.log("API V2NIMLocalConversationService.getConversationList execute");const[$,F]=await Kn(()=>{var z;return(z=window.nim)==null?void 0:z.V2NIMLocalConversationService.getConversationList(0,50)});if(g(!1),$){ie.error(`获取会话列表失败: ${$}`),console.error("获取会话列表失败:",$.toString()),i([]);return}F&&(console.log("获取到的会话列表:",F),i(F.conversationList||[]),!F.conversationList||F.conversationList.length===0?ie.info("当前没有会话记录"):ie.success(`获取到 ${F.conversationList.length} 个会话`))};E.useEffect(()=>{!_.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(_.current=!0,A())},[]);const w=async $=>{var ee;if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{conversationId:F,beginTime:z,endTime:H,limit:V,direction:K,messageTypes:J,anchorMessage:te}=$;if(!F){ie.error("请选择会话");return}n(!0);const Z={conversationId:F,beginTime:z||0,endTime:H||0,limit:V||20,direction:K||0,messageTypes:J&&J.length>0?J:void 0};if(te){const ae=v.find(de=>de.messageClientId===te);if(ae)Z.anchorMessage=ae;else{ie.error("选择的锚点消息不存在，请重新选择"),n(!1);return}}console.log("API V2NIMMessageService.getMessageListEx execute, params:",Z);const[X,re]=await Kn(()=>{var ae;return(ae=window.nim)==null?void 0:ae.V2NIMMessageService.getMessageListEx(Z)});X?(ie.error(`查询消息列表失败: ${X.toString()}`),console.error("查询消息列表失败:",X.toString()),S([]),T(!1)):(ie.success(`查询消息列表成功，共获取到 ${((ee=re==null?void 0:re.messages)==null?void 0:ee.length)||0} 条消息`),console.log("查询消息列表成功, 结果:",re),S((re==null?void 0:re.messages)||[]),T(!!(re!=null&&re.messages&&(re==null?void 0:re.messages.length)>0)),localStorage.setItem(Xk,JSON.stringify($))),n(!1)},O=()=>{localStorage.removeItem(Xk),e.setFieldsValue(G7),S([]),T(!1),ie.success("表单已重置为默认值")},R=()=>{const $=e.getFieldsValue(),{conversationId:F,beginTime:z,endTime:H,limit:V,direction:K,messageTypes:J,anchorMessage:te}=$;if(!F){ie.error("请先选择会话");return}const Z={conversationId:F,beginTime:z||0,endTime:H||0,limit:V||20,direction:K||0};if(J&&J.length>0&&(Z.messageTypes=J),te){const re=v.find(ee=>ee.messageClientId===te);re&&(Z.anchorMessage=re)}const X=`const result = await window.nim.V2NIMMessageService.getMessageListEx(${JSON.stringify(Z,null,2)});`;console.log("V2NIMMessageService.getMessageListEx 调用语句:"),console.log(X),ie.success("调用语句已输出到控制台")},D=$=>{const z={1:"P2P",2:"群聊",3:"超大群"}[$.type]||"未知",H=$.updateTime?new Date($.updateTime).toLocaleString():"无消息";return`${z} - ${$.conversationId} - ${H}`},j=$=>{const F=H7.find(z=>z.value===$);return F?F.label:`未知类型(${$})`},L=$=>$?new Date($).toLocaleString():"-",U=[{title:"消息ID",dataIndex:"messageClientId",key:"messageClientId",width:120,ellipsis:!0},{title:"发送者",dataIndex:"senderId",key:"senderId",width:100,ellipsis:!0},{title:"消息类型",dataIndex:"messageType",key:"messageType",width:100,render:$=>s.jsx(ln,{color:"blue",children:j($)})},{title:"内容",key:"content",width:200,ellipsis:!0,render:$=>$.messageType===0?$.text||"-":$.attachment?`附件: ${"name"in $.attachment?$.attachment.name:"未知文件"}`:"-"},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:150,render:$=>L($)},{title:"状态",dataIndex:"sendingState",key:"sendingState",width:80,render:$=>{const z={0:{text:"发送中",color:"processing"},1:{text:"发送成功",color:"success"},2:{text:"发送失败",color:"error"}}[$]||{text:"未知",color:"default"};return s.jsx(ln,{color:z.color,children:z.text})}}];return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:w,style:{marginTop:24},initialValues:N,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMMessageService",target:"_blank",children:Xk})})},"api"),s.jsx(Ie.Item,{label:"选择会话",name:"conversationId",tooltip:"选择要查询消息的会话",rules:[{required:!0,message:"请选择要查询消息的会话"}],children:s.jsx(an,{placeholder:"请选择要查询消息的会话",loading:d,notFoundContent:d?"获取中...":"暂无会话记录",dropdownRender:$=>s.jsxs("div",{children:[$,s.jsx("div",{style:{padding:8,borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",onClick:A,loading:d,style:{padding:0},children:"刷新会话列表"})})]}),children:r.map($=>s.jsx(jT,{value:$.conversationId,children:D($)},$.conversationId))})}),s.jsx(Ie.Item,{label:"开始时间",name:"beginTime",tooltip:"查询的开始时间戳（毫秒），0表示不限制",children:s.jsx(Rc,{style:{width:"100%"},placeholder:"开始时间戳（毫秒），0表示不限制",min:0})}),s.jsx(Ie.Item,{label:"结束时间",name:"endTime",tooltip:"查询的结束时间戳（毫秒），0表示不限制",children:s.jsx(Rc,{style:{width:"100%"},placeholder:"结束时间戳（毫秒），0表示不限制",min:0})}),s.jsx(Ie.Item,{label:"一页数量",name:"limit",tooltip:"单次查询的消息数量限制",rules:[{required:!0,message:"请输入查询数量"}],children:s.jsx(Rc,{style:{width:"100%"},placeholder:"查询数量限制",min:1,max:100})}),s.jsx(Ie.Item,{label:"查询方向",name:"direction",tooltip:"相对于锚点消息的查询方向",children:s.jsx(an,{placeholder:"选择查询方向",children:S$e.map($=>s.jsx(jT,{value:$.value,children:$.label},$.value))})}),s.jsx(Ie.Item,{label:"消息类型",name:"messageTypes",tooltip:"筛选的消息类型，不选择表示查询所有类型",children:s.jsx(an,{mode:"multiple",placeholder:"选择要查询的消息类型（可多选）",allowClear:!0,children:H7.map($=>s.jsx(jT,{value:$.value,children:$.label},$.value))})}),s.jsx(Ie.Item,{label:"锚点消息",name:"anchorMessage",tooltip:"选择作为查询起点的锚点消息",children:s.jsx(an,{placeholder:"请选择锚点消息（可选）",allowClear:!0,showSearch:!0,optionFilterProp:"children",notFoundContent:v.length===0?"请先查询消息列表":"无匹配消息",onChange:($,F)=>{if($&&F){const z=v.find(H=>H.messageClientId===$);z&&(e.setFieldsValue({endTime:z.createTime}),ie.info(`已自动设置结束时间为：${L(z.createTime)}`))}else e.setFieldsValue({endTime:0})},children:v.map($=>s.jsx(jT,{value:$.messageClientId,title:`${$.senderId} - ${L($.createTime)} - ${$.text||"非文本消息"}`,children:s.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[s.jsx("div",{style:{fontWeight:"bold",color:"#1890ff"},children:$.messageClientId.slice(-8)}),s.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:[$.senderId," - ",L($.createTime)]}),s.jsx("div",{style:{fontSize:"12px",color:"#999",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis"},children:$.messageType===0?$.text||"空文本":`${j($.messageType)}`})]})},$.messageClientId))})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"查询消息列表"}),s.jsx(Ze,{type:"default",onClick:O,children:"重置"}),s.jsx(Ze,{type:"default",onClick:R,children:"输出调用语句"})]})})]}),v.length>0&&s.jsxs(_t,{title:`查询结果 (共 ${v.length} 条消息${I?"，还有更多":""})`,style:{marginTop:16},size:"small",children:[s.jsx(fs,{dataSource:v,columns:U,rowKey:"messageClientId",size:"small",pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:$=>`共 ${$} 条消息`},scroll:{x:800}}),I&&s.jsx("div",{style:{textAlign:"center",marginTop:16},children:s.jsx(ln,{color:"orange",children:"还有更多消息，可以选择表格中任意一条消息作为锚点继续查询"})}),s.jsx("div",{style:{textAlign:"center",marginTop:8},children:s.jsx(ln,{color:"blue",children:"提示：选择锚点消息后会自动设置结束时间，便于分页查询"})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"getMessageListEx 是增强版的消息查询接口，支持更多查询条件"}),s.jsx("li",{children:"开始时间和结束时间都为0时，表示不限制时间范围"}),s.jsx("li",{children:"可以通过消息类型筛选特定类型的消息"}),s.jsx("li",{children:"锚点消息用于分页查询，可以从查询结果中选择任意一条消息作为锚点"}),s.jsx("li",{children:"选择锚点消息后会自动设置结束时间为该消息的创建时间"}),s.jsx("li",{children:"严格模式会进行更严格的参数校验和查询"}),s.jsx("li",{children:"查询方向决定了相对于锚点消息是查询更早还是更新的消息"})]})})]})},{Text:Po}=yl,E$e="V2NIMMessageService.on",C$e=()=>{const[e]=Ie.useForm(),t=w=>{ie.success("收到 V2NIMMessageService 模块的 onSendMessage 事件, 详情见控制台"),console.log("消息发送状态更新:",w)},n=w=>{ie.info("收到 V2NIMMessageService 模块的 onReceiveMessages 事件, 详情见控制台"),console.log("收到新消息:",w)},r=w=>{ie.info("收到 V2NIMMessageService 模块的 onReceiveP2PMessageReadReceipts 事件, 详情见控制台"),console.log("收到P2P已读回执:",w)},i=w=>{ie.info("收到 V2NIMMessageService 模块的 onReceiveTeamMessageReadReceipts 事件, 详情见控制台"),console.log("收到群消息已读回执:",w)},d=w=>{ie.warning("收到 V2NIMMessageService 模块的 onMessageRevokeNotifications 事件, 详情见控制台"),console.log("收到消息撤回通知:",w)},g=w=>{ie.warning("收到 V2NIMMessageService 模块的 onMessageDeletedNotifications 事件, 详情见控制台"),console.log("收到消息删除通知:",w)},v=w=>{ie.warning("收到 V2NIMMessageService 模块的 onClearHistoryNotifications 事件, 详情见控制台"),console.log("收到清空历史消息通知:",w)},S=w=>{ie.info("收到 V2NIMMessageService 模块的 onMessagePinNotification 事件, 详情见控制台"),console.log("收到消息Pin状态更新:",w)},I=w=>{ie.info("收到 V2NIMMessageService 模块的 onMessageQuickCommentNotification 事件, 详情见控制台"),console.log("收到消息快捷评论更新:",w)},T=w=>{ie.info("收到 V2NIMMessageService 模块的 onReceiveMessagesModified 事件, 详情见控制台"),console.log("收到消息更新:",w)},_=async()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}if(window.nim.V2NIMMessageService.off("onSendMessage",t),window.nim.V2NIMMessageService.off("onReceiveMessages",n),window.nim.V2NIMMessageService.off("onReceiveP2PMessageReadReceipts",r),window.nim.V2NIMMessageService.off("onReceiveTeamMessageReadReceipts",i),window.nim.V2NIMMessageService.off("onMessageRevokeNotifications",d),window.nim.V2NIMMessageService.off("onMessageDeletedNotifications",g),window.nim.V2NIMMessageService.off("onClearHistoryNotifications",v),window.nim.V2NIMMessageService.off("onMessagePinNotification",S),window.nim.V2NIMMessageService.off("onMessageQuickCommentNotification",I),typeof window.nim.V2NIMMessageService.off=="function")try{window.nim.V2NIMMessageService.off("onReceiveMessagesModified",T)}catch{}if(window.nim.V2NIMMessageService.on("onSendMessage",t),window.nim.V2NIMMessageService.on("onReceiveMessages",n),window.nim.V2NIMMessageService.on("onReceiveP2PMessageReadReceipts",r),window.nim.V2NIMMessageService.on("onReceiveTeamMessageReadReceipts",i),window.nim.V2NIMMessageService.on("onMessageRevokeNotifications",d),window.nim.V2NIMMessageService.on("onMessageDeletedNotifications",g),window.nim.V2NIMMessageService.on("onClearHistoryNotifications",v),window.nim.V2NIMMessageService.on("onMessagePinNotification",S),window.nim.V2NIMMessageService.on("onMessageQuickCommentNotification",I),typeof window.nim.V2NIMMessageService.on=="function")try{window.nim.V2NIMMessageService.on("onReceiveMessagesModified",T)}catch{}ie.success("成功设置消息服务监听"),console.log("消息服务监听已设置")},N=()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}window.nim.V2NIMMessageService.removeAllListeners("onSendMessage"),window.nim.V2NIMMessageService.removeAllListeners("onReceiveMessages"),window.nim.V2NIMMessageService.removeAllListeners("onReceiveP2PMessageReadReceipts"),window.nim.V2NIMMessageService.removeAllListeners("onReceiveTeamMessageReadReceipts"),window.nim.V2NIMMessageService.removeAllListeners("onMessageRevokeNotifications"),window.nim.V2NIMMessageService.removeAllListeners("onMessageDeletedNotifications"),window.nim.V2NIMMessageService.removeAllListeners("onClearHistoryNotifications"),window.nim.V2NIMMessageService.removeAllListeners("onMessagePinNotification"),window.nim.V2NIMMessageService.removeAllListeners("onMessageQuickCommentNotification"),window.nim.V2NIMMessageService.removeAllListeners("onReceiveMessagesModified"),ie.success("已取消所有消息服务监听"),console.log("所有消息服务监听已取消")},A=()=>{const w=`
// 设置消息服务监听
const setupMessageListeners = () => {
  // 发送消息状态回调
  window.nim.V2NIMMessageService.on('onSendMessage', (message) => {
    console.log('消息发送状态更新:', message);
  });

  // 收到新消息
  window.nim.V2NIMMessageService.on('onReceiveMessages', (messages) => {
    console.log('收到新消息:', messages);
  });

  // 收到点对点消息的已读回执
  window.nim.V2NIMMessageService.on('onReceiveP2PMessageReadReceipts', (readReceipts) => {
    console.log('收到P2P已读回执:', readReceipts);
  });

  // 收到高级群消息的已读回执
  window.nim.V2NIMMessageService.on('onReceiveTeamMessageReadReceipts', (readReceipts) => {
    console.log('收到群消息已读回执:', readReceipts);
  });

  // 收到消息撤回回调
  window.nim.V2NIMMessageService.on('onMessageRevokeNotifications', (notifications) => {
    console.log('收到消息撤回通知:', notifications);
  });

  // 收到消息被删除通知
  window.nim.V2NIMMessageService.on('onMessageDeletedNotifications', (notifications) => {
    console.log('收到消息删除通知:', notifications);
  });

  // 清空会话历史消息通知
  window.nim.V2NIMMessageService.on('onClearHistoryNotifications', (notifications) => {
    console.log('收到清空历史消息通知:', notifications);
  });

  // 收到消息 pin 状态更新
  window.nim.V2NIMMessageService.on('onMessagePinNotification', (notification) => {
    console.log('收到消息Pin状态更新:', notification);
  });

  // 收到消息快捷评论更新
  window.nim.V2NIMMessageService.on('onMessageQuickCommentNotification', (notification) => {
    console.log('收到消息快捷评论更新:', notification);
  });

  // 收到消息更新事件（如果支持）
  window.nim.V2NIMMessageService.on('onReceiveMessagesModified', (messages) => {
    console.log('收到消息更新:', messages);
  });
};

// 调用设置函数
setupMessageListeners();
`;console.log("V2NIMMessageService 监听设置代码:"),console.log(w),ie.success("监听设置代码已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},style:{marginTop:24},children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMMessageService",target:"_blank",children:E$e})})},"api"),s.jsx(Ie.Item,{label:"操作项",children:s.jsxs(on,{size:"middle",style:{width:"100%",flexWrap:"wrap"},children:[s.jsx(Ze,{type:"primary",onClick:_,style:{minWidth:120},children:"设置监听"}),s.jsx(Ze,{type:"default",danger:!0,onClick:N,children:"取消所有监听"}),s.jsx(Ze,{type:"default",onClick:A,children:"输出监听代码"})]})})]}),s.jsxs(_t,{title:"监听事件说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Po,{strong:!0,children:"消息发送事件："}),s.jsx("ul",{style:{margin:"8px 0",paddingLeft:20},children:s.jsxs("li",{children:[s.jsx(Po,{code:!0,children:"onSendMessage"})," - 本端发送消息状态回调，可监听发送状态和附件上传状态"]})})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Po,{strong:!0,children:"消息接收事件："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(Po,{code:!0,children:"onReceiveMessages"})," - 收到新消息"]}),s.jsxs("li",{children:[s.jsx(Po,{code:!0,children:"onReceiveMessagesModified"})," - 收到消息更新事件（在线同步、多端同步、漫游、流式消息更新）"]})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Po,{strong:!0,children:"已读回执事件："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(Po,{code:!0,children:"onReceiveP2PMessageReadReceipts"})," - 收到点对点消息的已读回执"]}),s.jsxs("li",{children:[s.jsx(Po,{code:!0,children:"onReceiveTeamMessageReadReceipts"})," - 收到高级群消息的已读回执"]})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Po,{strong:!0,children:"消息操作事件："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(Po,{code:!0,children:"onMessageRevokeNotifications"})," - 收到消息撤回通知"]}),s.jsxs("li",{children:[s.jsx(Po,{code:!0,children:"onMessageDeletedNotifications"})," - 收到消息被删除通知"]}),s.jsxs("li",{children:[s.jsx(Po,{code:!0,children:"onClearHistoryNotifications"})," - 收到清空会话历史消息通知"]})]})]}),s.jsxs("div",{children:[s.jsx(Po,{strong:!0,children:"消息扩展事件："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(Po,{code:!0,children:"onMessagePinNotification"})," - 收到消息 pin 状态更新"]}),s.jsxs("li",{children:[s.jsx(Po,{code:!0,children:"onMessageQuickCommentNotification"})," - 收到消息快捷评论更新"]})]})]})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"本页面演示 V2NIMMessageService 的事件监听功能"}),s.jsx("li",{children:"设置监听后，相关的消息操作会触发对应事件并显示消息提示"}),s.jsx("li",{children:"对同一个事件 on 监听多次，都会生效并触发多次，使用时注意防止重复监听"}),s.jsxs("li",{children:["建议在 ",s.jsx(Po,{code:!0,children:"onDataSync"})," 事件告知数据准备完毕后, 再使用消息模块数据，以保证数据完整性"]}),s.jsx("li",{children:'使用"取消所有监听"可以一次性移除所有已设置的监听器'}),s.jsx("li",{children:s.jsx(Po,{type:"warning",children:"注意：设置监听后，可以去其他消息相关页面进行操作来触发事件（如发送消息、撤回消息、删除消息等）"})}),s.jsx("li",{children:"所有事件都会在控制台输出详细信息，方便调试和学习"})]})})]})},{Option:K7}=an,{TextArea:W7}=yn,T$e=[{label:"文本消息",value:0},{label:"图片消息",value:1},{label:"音频消息",value:2},{label:"视频消息",value:3},{label:"文件消息",value:4},{label:"位置消息",value:5},{label:"通知消息",value:10},{label:"自定义消息",value:100}],Y7={conversationId:"",messageId:"",postscript:"我撤回了一条消息",serverExtension:'{"reason": "user_revoke"}',pushContent:"撤回了一条消息",pushPayload:'{"action": "revoke"}',env:""},Jk="V2NIMMessageService.revokeMessage",M$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState([]),[d,g]=E.useState(!1),[v,S]=E.useState([]),[I,T]=E.useState(!1),[_,N]=E.useState(null),A=E.useRef(!1),w=Y7,O=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}g(!0),console.log("API V2NIMLocalConversationService.getConversationList execute");const[H,V]=await Kn(()=>{var K;return(K=window.nim)==null?void 0:K.V2NIMLocalConversationService.getConversationList(0,50)});if(g(!1),H){ie.error(`获取会话列表失败: ${H}`),console.error("获取会话列表失败:",H.toString()),i([]);return}V&&(console.log("获取到的会话列表:",V),i(V.conversationList||[]),!V.conversationList||V.conversationList.length===0?ie.info("当前没有会话记录"):ie.success(`获取到 ${V.conversationList.length} 个会话`))},R=async H=>{var te;if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}T(!0),S([]),N(null),e.setFieldsValue({messageId:""});const V={conversationId:H,limit:50,direction:0,messageTypes:[0,1,2,3,4,5,10,100]};console.log("API V2NIMMessageService.getMessageListEx execute, params:",V);const[K,J]=await Kn(()=>{var Z;return(Z=window.nim)==null?void 0:Z.V2NIMMessageService.getMessageListEx(V)});if(K)ie.error(`获取消息列表失败: ${K.toString()}`),console.error("获取消息列表失败:",K.toString()),S([]);else{console.log("获取消息列表成功, 结果:",J);const Z=(J==null?void 0:J.messages)||[],X=(te=window.nim)==null?void 0:te.V2NIMLoginService.getLoginUser(),re=Z.filter(ee=>ee.senderId===X);S(re),re.length===0?ie.info("该会话中没有您发送的消息可以撤回"):ie.success(`获取到 ${re.length} 条可撤回的消息`)}T(!1)};E.useEffect(()=>{!A.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(A.current=!0,O())},[]);const D=async H=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}if(!_){ie.error("请选择要撤回的消息");return}const{postscript:V,serverExtension:K,pushContent:J,pushPayload:te,env:Z}=H;n(!0);const X={};if(V.trim()&&(X.postscript=V),K.trim())try{X.serverExtension=K}catch{ie.error("服务端扩展字段格式错误"),n(!1);return}J.trim()&&(X.pushContent=J),te.trim()&&(X.pushPayload=te),Z.trim()&&(X.env=Z),console.log("API V2NIMMessageService.revokeMessage execute, params:",_,X);const[re]=await Kn(()=>{var ee;return(ee=window.nim)==null?void 0:ee.V2NIMMessageService.revokeMessage(_,X)});re?(ie.error(`撤回消息失败: ${re.toString()}`),console.error("撤回消息失败:",re.toString())):(ie.success("撤回消息成功"),H.conversationId&&R(H.conversationId),localStorage.setItem(Jk,JSON.stringify(H))),n(!1)},j=()=>{localStorage.removeItem(Jk),e.setFieldsValue(Y7),S([]),N(null),ie.success("表单已重置为默认值")},L=()=>{const H=e.getFieldsValue();if(!_){ie.error("请先选择要撤回的消息");return}const{postscript:V,serverExtension:K,pushContent:J,pushPayload:te,env:Z}=H,X={};V.trim()&&(X.postscript=V),K.trim()&&(X.serverExtension=K),J.trim()&&(X.pushContent=J),te.trim()&&(X.pushPayload=te),Z.trim()&&(X.env=Z);const re=`await window.nim.V2NIMMessageService.revokeMessage(messageObject, ${JSON.stringify(X,null,2)});`;console.log("V2NIMMessageService.revokeMessage 调用语句:"),console.log(re),console.log("messageObject:",_),ie.success("调用语句已输出到控制台")},U=H=>{const K={1:"P2P",2:"群聊",3:"超大群"}[H.type]||"未知",J=H.updateTime?new Date(H.updateTime).toLocaleString():"无消息";return`${K} - ${H.conversationId} - ${J}`},$=H=>{const V=T$e.find(K=>K.value===H);return V?V.label:`未知类型(${H})`},F=H=>H?new Date(H).toLocaleString():"-";function z(H){N(v.find(V=>V.messageClientId===H)||null)}return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:D,style:{marginTop:24},initialValues:w,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMMessageService",target:"_blank",children:Jk})})},"api"),s.jsx(Ie.Item,{label:"选择会话",name:"conversationId",tooltip:"选择要撤回消息的会话",rules:[{required:!0,message:"请选择会话"}],children:s.jsx(an,{placeholder:"请选择会话",loading:d,notFoundContent:d?"获取中...":"暂无会话记录",onChange:H=>{H?R(H):(S([]),N(null),e.setFieldsValue({messageId:""}))},dropdownRender:H=>s.jsxs("div",{children:[H,s.jsx("div",{style:{padding:8,borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",onClick:O,loading:d,style:{padding:0},children:"刷新会话列表"})})]}),children:r.map(H=>s.jsx(K7,{value:H.conversationId,children:U(H)},H.conversationId))})}),s.jsx(Ie.Item,{label:"选择消息",name:"messageId",tooltip:"选择要撤回的消息",rules:[{required:!0,message:"请选择要撤回的消息"}],children:s.jsx(an,{placeholder:v.length===0?"请先选择会话":"从下方表格中选择消息",disabled:v.length===0,value:_==null?void 0:_.messageClientId,onChange:H=>z(H),notFoundContent:I?"获取消息中...":"无可撤回的消息",children:v.map(H=>s.jsxs(K7,{value:H.messageClientId,children:[H.messageClientId.slice(-8)," - ",$(H.messageType)," -"," ",F(H.createTime)]},H.messageClientId))})}),s.jsx(Ie.Item,{label:"撤回附言",name:"postscript",tooltip:"撤回消息时显示的附言",children:s.jsx(yn,{placeholder:"撤回消息时显示的附言"})}),s.jsx(Ie.Item,{label:"服务端扩展",name:"serverExtension",tooltip:"服务端扩展字段，JSON格式",children:s.jsx(W7,{rows:2,placeholder:"服务端扩展字段，JSON格式"})}),s.jsx(Ie.Item,{label:"推送内容",name:"pushContent",tooltip:"撤回消息的推送内容",children:s.jsx(yn,{placeholder:"撤回消息的推送内容"})}),s.jsx(Ie.Item,{label:"推送附加参数",name:"pushPayload",tooltip:"撤回消息的附加参数，JSON格式",children:s.jsx(W7,{rows:2,placeholder:"撤回消息的推送附加参数，JSON格式"})}),s.jsx(Ie.Item,{label:"环境参数",name:"env",tooltip:"环境参数",children:s.jsx(yn,{placeholder:"环境参数（可选）"})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},danger:!0,disabled:!_,children:"撤回消息"}),s.jsx(Ze,{type:"default",onClick:j,children:"重置"}),s.jsx(Ze,{type:"default",onClick:L,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"只能撤回自己发送的消息，通常只能撤回2分钟内的消息"}),s.jsx("li",{children:"撤回后对方会收到撤回通知，显示您设置的附言"}),s.jsx("li",{children:"服务端扩展和推送载荷需要使用JSON格式"}),s.jsx("li",{children:"撤回成功会触发 V2NIMMessageListener.onMessageRevoked 事件"}),s.jsx("li",{children:"选择会话后会自动加载该会话中您发送的消息"}),s.jsx("li",{children:'表格中标记为"超时"的消息可能无法撤回，但仍可尝试'})]})})]})},{Text:_$e}=yl,{Option:X7}=an,{TextArea:Qk}=yn,Zk=[{value:"text",label:"文本消息"},{value:"image",label:"图片消息"},{value:"audio",label:"音频消息"},{value:"video",label:"视频消息"},{value:"file",label:"文件消息"},{value:"location",label:"位置消息"},{value:"custom",label:"自定义消息"}],J7={messageType:"text",text:"Hello, this is a test message!",latitude:39.9042,longitude:116.4074,address:"北京市朝阳区",customText:"Custom message",rawAttachment:'{"type": "custom", "data": "test"}',fileName:"",sceneName:"nim_default_im",width:0,height:0,duration:0},Q7={conversationId:"",enableAdvanced:!1,params:JSON.stringify({messageConfig:{readReceiptEnabled:!1,historyEnabled:!0,roamingEnabled:!0,onlineSyncEnabled:!0,offlineEnabled:!0,lastMessageUpdateEnabled:!0,unreadEnabled:!0},routeConfig:{routeEnabled:!0},pushConfig:{pushEnabled:!0,pushNickEnabled:!0,forcePush:!1},antispamConfig:{antispamEnabled:!0},clientAntispamEnabled:!1,clientAntispamReplace:"******"},null,2)},eL="V2NIMMessageService.sendMessage",x$e=()=>{const[e]=Ie.useForm(),[t]=Ie.useForm(),[n,r]=E.useState(!1),[i,d]=E.useState([]),[g,v]=E.useState(!1),[S,I]=E.useState(null),[T,_]=E.useState(null),N=E.useRef(!1),A=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}v(!0),console.log("API V2NIMLocalConversationService.getConversationList execute");const[$,F]=await Kn(()=>{var z;return(z=window.nim)==null?void 0:z.V2NIMLocalConversationService.getConversationList(0,50)});if(v(!1),$){ie.error(`获取会话列表失败: ${$}`),console.error("获取会话列表失败:",$.toString()),d([]);return}F&&(console.log("获取到的会话列表:",F),d(F.conversationList||[]),!F.conversationList||F.conversationList.length===0?ie.info("当前没有会话记录"):ie.success(`获取到 ${F.conversationList.length} 个会话`))};E.useEffect(()=>{!N.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(N.current=!0,A())},[]);const w=async $=>{var H;if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{messageType:F}=$;let z=null;try{switch(F){case"text":z=window.nim.V2NIMMessageCreator.createTextMessage($.text||"");break;case"location":z=window.nim.V2NIMMessageCreator.createLocationMessage($.latitude||0,$.longitude||0,$.address||"");break;case"custom":z=window.nim.V2NIMMessageCreator.createCustomMessage($.customText||"",$.rawAttachment||"");break;case"image":if(!T){ie.error("请选择图片文件");return}z=window.nim.V2NIMMessageCreator.createImageMessage(T,$.fileName||T.name,$.sceneName||"nim_default_im",$.width||0,$.height||0);break;case"audio":if(!T){ie.error("请选择音频文件");return}z=window.nim.V2NIMMessageCreator.createAudioMessage(T,$.fileName||T.name,$.sceneName||"nim_default_im",$.duration||0);break;case"video":if(!T){ie.error("请选择视频文件");return}z=window.nim.V2NIMMessageCreator.createVideoMessage(T,$.fileName||T.name,$.sceneName||"nim_default_im",$.duration||0,$.width||0,$.height||0);break;case"file":if(!T){ie.error("请选择文件");return}z=window.nim.V2NIMMessageCreator.createFileMessage(T,$.fileName||T.name,$.sceneName||"nim_default_im");break;default:ie.error("暂不支持该消息类型的演示");return}z&&(I(z),console.log("创建消息成功:",z),ie.success(`${(H=Zk.find(V=>V.value===F))==null?void 0:H.label}创建成功`))}catch(V){console.error("创建消息失败:",V.toString()),ie.error("创建消息失败")}},O=async $=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}if(!S){ie.error("请先创建消息");return}const{conversationId:F,enableAdvanced:z,params:H}=$;if(!F){ie.error("请选择会话");return}r(!0);let V;try{z&&H&&(V=JSON.parse(H))}catch(te){const Z=te;ie.error("参数格式错误，请检查高级配置"),console.error("参数解析失败:",Z.toString())}finally{r(!1)}console.log("API V2NIMMessageService.sendMessage execute, params:",S,F,V);const[K,J]=await Kn(()=>{var te;return(te=window.nim)==null?void 0:te.V2NIMMessageService.sendMessage(S,F,V)});K?(ie.error(`发送消息失败: ${K.toString()}`),console.error("发送消息失败:",K.toString())):(ie.success("发送消息成功"),console.log("发送消息成功, 结果:",J),localStorage.setItem(eL,JSON.stringify({createValues:e.getFieldsValue(),sendValues:$})))},R=()=>{localStorage.removeItem(eL),e.setFieldsValue(J7),t.setFieldsValue(Q7),I(null),_(null),ie.success("表单已重置为默认值")},D=()=>{var J;const $=e.getFieldsValue(),F=t.getFieldsValue();if(!S){ie.error("请先创建消息");return}if(!F.conversationId){ie.error("请先选择会话");return}let z="";const{messageType:H}=$;switch(H){case"text":z=`const message = nim.V2NIMMessageCreator.createTextMessage("${$.text}");`;break;case"location":z=`const message = nim.V2NIMMessageCreator.createLocationMessage(${$.latitude}, ${$.longitude}, "${$.address}");`;break;case"custom":z=`const message = nim.V2NIMMessageCreator.createCustomMessage("${$.customText}", '${$.rawAttachment}');`;break;case"image":z=`const message = nim.V2NIMMessageCreator.createImageMessage(fileObject, "${$.fileName}", "${$.sceneName}", ${$.width}, ${$.height});`;break;case"audio":z=`const message = nim.V2NIMMessageCreator.createAudioMessage(fileObject, "${$.fileName}", "${$.sceneName}", ${$.duration});`;break;case"video":z=`const message = nim.V2NIMMessageCreator.createVideoMessage(fileObject, "${$.fileName}", "${$.sceneName}", ${$.duration}, ${$.width}, ${$.height});`;break;case"file":z=`const message = nim.V2NIMMessageCreator.createFileMessage(fileObject, "${$.fileName}", "${$.sceneName}");`;break;default:z=`// 创建${(J=Zk.find(te=>te.value===H))==null?void 0:J.label}的代码`}const V=F.enableAdvanced&&F.params?`const result = await nim.V2NIMMessageService.sendMessage(message, "${F.conversationId}", ${F.params});`:`const result = await nim.V2NIMMessageService.sendMessage(message, "${F.conversationId}");`,K=`${z}
${V}`;console.log("V2NIMMessageService.sendMessage 调用语句:"),console.log(K),ie.success("调用语句已输出到控制台")},j=$=>{const z={1:"P2P",2:"群聊",3:"超大群"}[$.type]||"未知",H=$.updateTime?new Date($.updateTime).toLocaleString():"无消息";return`${z} - ${$.conversationId} - ${H}`},L=$=>{_($);const F=$.name;if(e.setFieldsValue({fileName:F}),$.type.startsWith("image/")){const z=new Image;z.onload=()=>{e.setFieldsValue({width:z.width,height:z.height})},z.src=URL.createObjectURL($)}else if($.type.startsWith("video/")){const z=document.createElement("video");z.onloadedmetadata=()=>{e.setFieldsValue({duration:Math.floor(z.duration*1e3),width:z.videoWidth,height:z.videoHeight})},z.src=URL.createObjectURL($)}else if($.type.startsWith("audio/")){const z=document.createElement("audio");z.onloadedmetadata=()=>{e.setFieldsValue({duration:Math.floor(z.duration*1e3)})},z.src=URL.createObjectURL($)}return!1},U=$=>{switch($){case"text":return s.jsx(Ie.Item,{label:"文本内容",name:"text",rules:[{required:!0,message:"请输入文本内容"}],children:s.jsx(Qk,{rows:3,placeholder:"请输入要发送的文本内容"})});case"location":return s.jsxs(s.Fragment,{children:[s.jsx(Ie.Item,{label:"纬度",name:"latitude",rules:[{required:!0,message:"请输入纬度"}],children:s.jsx(yn,{type:"number",placeholder:"请输入纬度，如：39.9042"})}),s.jsx(Ie.Item,{label:"经度",name:"longitude",rules:[{required:!0,message:"请输入经度"}],children:s.jsx(yn,{type:"number",placeholder:"请输入经度，如：116.4074"})}),s.jsx(Ie.Item,{label:"地址",name:"address",rules:[{required:!0,message:"请输入地址"}],children:s.jsx(yn,{placeholder:"请输入地址，如：北京市朝阳区"})})]});case"custom":return s.jsxs(s.Fragment,{children:[s.jsx(Ie.Item,{label:"自定义文本",name:"customText",rules:[{required:!0,message:"请输入自定义文本"}],children:s.jsx(yn,{placeholder:"请输入自定义消息的文本内容"})}),s.jsx(Ie.Item,{label:"附件数据",name:"rawAttachment",rules:[{required:!0,message:"请输入附件数据"}],children:s.jsx(Qk,{rows:3,placeholder:"请输入JSON格式的附件数据"})})]});case"image":return s.jsxs(s.Fragment,{children:[s.jsx(Ie.Item,{label:"选择图片",name:"file",rules:[{required:!0,message:"请选择图片文件"}],children:s.jsx(sg,{beforeUpload:L,maxCount:1,accept:"image/*",fileList:T?[{uid:"1",name:T.name,status:"done"}]:[],onRemove:()=>{_(null),e.setFieldsValue({fileName:"",width:0,height:0})},children:s.jsx(Ze,{icon:s.jsx(LI,{}),children:"选择图片文件"})})}),s.jsx(Ie.Item,{label:"文件名",name:"fileName",children:s.jsx(yn,{placeholder:"文件名（自动填充）"})}),s.jsx(Ie.Item,{label:"场景名称",name:"sceneName",children:s.jsx(yn,{placeholder:"请输入场景名称，如：default"})}),s.jsx(Ie.Item,{label:"宽度",name:"width",children:s.jsx(yn,{type:"number",placeholder:"图片宽度（像素，自动获取）"})}),s.jsx(Ie.Item,{label:"高度",name:"height",children:s.jsx(yn,{type:"number",placeholder:"图片高度（像素，自动获取）"})})]});case"audio":return s.jsxs(s.Fragment,{children:[s.jsx(Ie.Item,{label:"选择音频",name:"file",rules:[{required:!0,message:"请选择音频文件"}],children:s.jsx(sg,{beforeUpload:L,maxCount:1,accept:"audio/*",fileList:T?[{uid:"1",name:T.name,status:"done"}]:[],onRemove:()=>{_(null),e.setFieldsValue({fileName:"",duration:0})},children:s.jsx(Ze,{icon:s.jsx(LI,{}),children:"选择音频文件"})})}),s.jsx(Ie.Item,{label:"文件名",name:"fileName",children:s.jsx(yn,{placeholder:"文件名（自动填充）"})}),s.jsx(Ie.Item,{label:"场景名称",name:"sceneName",children:s.jsx(yn,{placeholder:"请输入场景名称，如：default"})}),s.jsx(Ie.Item,{label:"时长（毫秒）",name:"duration",children:s.jsx(yn,{type:"number",placeholder:"音频时长（毫秒，自动获取）"})})]});case"video":return s.jsxs(s.Fragment,{children:[s.jsx(Ie.Item,{label:"选择视频",name:"file",rules:[{required:!0,message:"请选择视频文件"}],children:s.jsx(sg,{beforeUpload:L,maxCount:1,accept:"video/*",fileList:T?[{uid:"1",name:T.name,status:"done"}]:[],onRemove:()=>{_(null),e.setFieldsValue({fileName:"",duration:0,width:0,height:0})},children:s.jsx(Ze,{icon:s.jsx(LI,{}),children:"选择视频文件"})})}),s.jsx(Ie.Item,{label:"文件名",name:"fileName",children:s.jsx(yn,{placeholder:"文件名（自动填充）"})}),s.jsx(Ie.Item,{label:"场景名称",name:"sceneName",children:s.jsx(yn,{placeholder:"请输入场景名称，如：default"})}),s.jsx(Ie.Item,{label:"时长（毫秒）",name:"duration",children:s.jsx(yn,{type:"number",placeholder:"视频时长（毫秒，自动获取）"})}),s.jsx(Ie.Item,{label:"宽度",name:"width",children:s.jsx(yn,{type:"number",placeholder:"视频宽度（像素，自动获取）"})}),s.jsx(Ie.Item,{label:"高度",name:"height",children:s.jsx(yn,{type:"number",placeholder:"视频高度（像素，自动获取）"})})]});case"file":return s.jsxs(s.Fragment,{children:[s.jsx(Ie.Item,{label:"选择文件",name:"file",rules:[{required:!0,message:"请选择文件"}],children:s.jsx(sg,{beforeUpload:L,maxCount:1,fileList:T?[{uid:"1",name:T.name,status:"done"}]:[],onRemove:()=>{_(null),e.setFieldsValue({fileName:""})},children:s.jsx(Ze,{icon:s.jsx(LI,{}),children:"选择文件"})})}),s.jsx(Ie.Item,{label:"文件名",name:"fileName",children:s.jsx(yn,{placeholder:"文件名（自动填充）"})}),s.jsx(Ie.Item,{label:"场景名称",name:"sceneName",children:s.jsx(yn,{placeholder:"请输入场景名称，如：default"})})]});default:return s.jsx("div",{style:{color:"#999",padding:"20px",textAlign:"center"},children:"未知的消息类型"})}};return s.jsxs("div",{className:At.formContainer,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMMessageService",target:"_blank",children:eL})})},"api"),s.jsx(_t,{title:"第一步：创建消息",style:{marginBottom:16},children:s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:w,initialValues:J7,children:[s.jsx(Ie.Item,{label:"消息类型",name:"messageType",rules:[{required:!0,message:"请选择消息类型"}],children:s.jsx(an,{placeholder:"请选择要创建的消息类型",children:Zk.map($=>s.jsx(X7,{value:$.value,children:$.label},$.value))})}),s.jsx(Ie.Item,{noStyle:!0,shouldUpdate:($,F)=>$.messageType!==F.messageType,children:({getFieldValue:$})=>{const F=$("messageType");return U(F)}}),s.jsx(Ie.Item,{label:null,children:s.jsx(Ze,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"创建消息"})})]})}),s.jsx(_t,{title:"第二步：发送消息",style:{marginBottom:16},children:s.jsxs(Ie,{form:t,labelCol:{span:4},wrapperCol:{span:20},onFinish:O,initialValues:Q7,children:[s.jsx(Ie.Item,{label:"选择会话",name:"conversationId",tooltip:"选择要发送消息的会话",rules:[{required:!0,message:"请选择要发送消息的会话"}],children:s.jsx(an,{placeholder:"请选择要发送消息的会话",loading:g,notFoundContent:g?"获取中...":"暂无会话记录",dropdownRender:$=>s.jsxs("div",{children:[$,s.jsx("div",{style:{padding:8,borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",onClick:A,loading:g,style:{padding:0},children:"刷新会话列表"})})]}),children:i.map($=>s.jsx(X7,{value:$.conversationId,children:j($)},$.conversationId))})}),s.jsx(Ie.Item,{label:"高级配置",name:"enableAdvanced",valuePropName:"checked",tooltip:"启用高级配置参数",children:s.jsx(Ys,{children:"启用高级配置（发送参数配置）"})}),s.jsx(Ie.Item,{noStyle:!0,shouldUpdate:($,F)=>$.enableAdvanced!==F.enableAdvanced,children:({getFieldValue:$})=>$("enableAdvanced")?s.jsx(Ie.Item,{label:"发送参数",name:"params",tooltip:"JSON格式的发送参数，包含消息配置、路由配置等",children:s.jsx(Qk,{rows:10,placeholder:"请输入JSON格式的发送参数"})}):null}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:n,style:{flex:1},disabled:!S,children:"发送消息"}),s.jsx(Ze,{type:"default",onClick:R,children:"重置"}),s.jsx(Ze,{type:"default",onClick:D,children:"输出调用语句"})]})})]})}),S&&s.jsx(_t,{title:"已创建的消息",style:{marginBottom:16},size:"small",children:s.jsx("pre",{style:{backgroundColor:"#f5f5f5",padding:12,borderRadius:4,fontFamily:"monospace"},children:JSON.stringify(S,null,2)})}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:'首先在第一个表单中选择消息类型并填写相应参数，然后点击"创建消息"'}),s.jsx("li",{children:'消息创建成功后，在第二个表单中选择会话并点击"发送消息"'}),s.jsx("li",{children:"可以启用高级配置来设置消息的额外参数，如推送配置、反垃圾配置等"}),s.jsx("li",{children:"支持文本、图片、音频、视频、文件、位置、自定义等多种消息类型"}),s.jsx("li",{children:"文件类型消息会自动获取文件信息（如图片尺寸、音视频时长等）"}),s.jsx("li",{children:"发送成功会触发 V2NIMMessageListener.onSendMessage 事件"}),s.jsx("li",{children:s.jsx(_$e,{type:"warning",children:"注意: 如果是小程序/uniapp, 那么是用 chooseImage 等方法选到文件, 然后 createImageMessage 第一参数应该传入起 filePath 字符串"})})]})})]})},{Text:no}=yl,w$e="V2NIMNotificationService.on",N$e=()=>{const[e]=Ie.useForm(),t=g=>{var T,_;const v=g.length,S=g[0],I=S?`发送者: ${S.senderId}, 内容: ${(T=S.content)==null?void 0:T.substring(0,20)}${((_=S.content)==null?void 0:_.length)>20?"...":""}`:"无内容";ie.success(`收到 V2NIMNotificationService 模块的 onReceiveCustomNotifications 事件, 共${v}条通知, ${I}, 详情见控制台`),console.log("收到自定义通知:",g)},n=g=>{var T,_;const v=g.length,S=g[0],I=S?`ID: ${S.id}, 内容: ${(T=S.content)==null?void 0:T.substring(0,20)}${((_=S.content)==null?void 0:_.length)>20?"...":""}`:"无内容";ie.info(`收到 V2NIMNotificationService 模块的 onReceiveBroadcastNotifications 事件, 共${v}条广播, ${I}, 详情见控制台`),console.log("收到广播通知:",g)},r=async()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}window.nim.V2NIMNotificationService.off("onReceiveCustomNotifications",t),window.nim.V2NIMNotificationService.off("onReceiveBroadcastNotifications",n),window.nim.V2NIMNotificationService.on("onReceiveCustomNotifications",t),window.nim.V2NIMNotificationService.on("onReceiveBroadcastNotifications",n),ie.success("成功设置通知服务监听"),console.log("通知服务监听已设置")},i=()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}window.nim.V2NIMNotificationService.removeAllListeners("onReceiveCustomNotifications"),window.nim.V2NIMNotificationService.removeAllListeners("onReceiveBroadcastNotifications"),ie.success("已取消所有通知服务监听"),console.log("所有通知服务监听已取消")},d=()=>{const g=`
// 设置通知服务监听
const setupNotificationServiceListeners = () => {
  // 收到自定义通知
  window.nim.V2NIMNotificationService.on('onReceiveCustomNotifications', (customNotifications) => {
    console.log('收到自定义通知:', customNotifications);
    // 处理自定义通知
    customNotifications.forEach(notification => {
      console.log('通知详情:', {
        会话ID: notification.conversationId,
        发送者: notification.senderId,
        接收者: notification.receiverId,
        内容: notification.content,
        时间戳: notification.timestamp,
        时间: new Date(notification.timestamp).toLocaleString()
      });
    });
  });

  // 收到广播通知
  window.nim.V2NIMNotificationService.on('onReceiveBroadcastNotifications', (broadcastNotifications) => {
    console.log('收到广播通知:', broadcastNotifications);
    // 处理广播通知
    broadcastNotifications.forEach(notification => {
      console.log('广播详情:', {
        ID: notification.id,
        内容: notification.content,
        时间戳: notification.timestamp,
        时间: new Date(notification.timestamp).toLocaleString()
      });
    });
  });
};

// 调用设置函数
setupNotificationServiceListeners();
`;console.log("V2NIMNotificationService 监听设置代码:"),console.log(g),ie.success("监听设置代码已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},style:{marginTop:24},children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMNotificationService",target:"_blank",children:w$e})})},"api"),s.jsx(Ie.Item,{label:"操作项",children:s.jsxs(on,{size:"middle",style:{width:"100%",flexWrap:"wrap"},children:[s.jsx(Ze,{type:"primary",onClick:r,style:{minWidth:120},children:"设置监听"}),s.jsx(Ze,{type:"default",danger:!0,onClick:i,children:"取消所有监听"}),s.jsx(Ze,{type:"default",onClick:d,children:"输出监听代码"})]})})]}),s.jsx(_t,{title:"监听事件说明",style:{marginTop:16},size:"small",children:s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(no,{strong:!0,children:"通知接收事件："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(no,{code:!0,children:"onReceiveCustomNotifications"})," - 收到自定义通知",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"通过 sendCustomNotification 发送的自定义通知"}),s.jsx("li",{children:"包含会话ID、发送者、接收者、内容、时间戳等信息"}),s.jsx("li",{children:"可用于实现自定义业务逻辑的实时通知"})]})]}),s.jsxs("li",{children:[s.jsx(no,{code:!0,children:"onReceiveBroadcastNotifications"})," - 收到广播通知",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"从服务端API发起的广播消息，所有用户均会收到"}),s.jsx("li",{children:"包含通知ID、内容、时间戳等信息"}),s.jsx("li",{children:"通常用于系统级别的全局通知"})]})]})]})]})}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"本页面演示 V2NIMNotificationService 的事件监听功能"}),s.jsx("li",{children:"设置监听后，接收到的通知会触发对应事件并显示消息提示"}),s.jsx("li",{children:"对同一个事件 on 监听多次，都会生效并触发多次，使用时注意防止重复监听"}),s.jsxs("li",{children:[s.jsx(no,{type:"success",children:"触发通知事件的方式："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:["自定义通知：可以通过 ",s.jsx(no,{code:!0,children:"sendCustomNotification"})," ","发送自定义通知给指定用户"]}),s.jsx("li",{children:"广播通知：需要通过服务端API发送，所有在线用户都会收到"}),s.jsx("li",{children:"可以在多个客户端登录同一账号，互相发送自定义通知进行测试"})]})]}),s.jsx("li",{children:'使用"取消所有监听"可以一次性移除所有已设置的监听器'}),s.jsx("li",{children:s.jsx(no,{type:"warning",children:"注意：通知监听在 SDK 初始化且登录成功后才能正常接收通知"})}),s.jsx("li",{children:"所有通知事件都会在控制台输出详细信息，方便调试和学习"})]})}),s.jsxs(_t,{title:"通知对象参数说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(no,{strong:!0,children:"V2NIMCustomNotification 自定义通知对象："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(no,{code:!0,children:"conversationId"})," - 会话ID，标识通知所属的会话"]}),s.jsxs("li",{children:[s.jsx(no,{code:!0,children:"senderId"})," - 发送者账号ID"]}),s.jsxs("li",{children:[s.jsx(no,{code:!0,children:"receiverId"})," - 接收者账号ID"]}),s.jsxs("li",{children:[s.jsx(no,{code:!0,children:"content"})," - 通知内容，最大4096个字符"]}),s.jsxs("li",{children:[s.jsx(no,{code:!0,children:"timestamp"})," - 通知时间戳（毫秒）"]}),s.jsx("li",{children:"其他扩展字段可能包含推送配置、反垃圾配置等信息"})]})]}),s.jsxs("div",{children:[s.jsx(no,{strong:!0,children:"V2NIMBroadcastNotification 广播通知对象："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(no,{code:!0,children:"id"})," - 广播通知的唯一标识ID"]}),s.jsxs("li",{children:[s.jsx(no,{code:!0,children:"content"})," - 广播通知内容"]}),s.jsxs("li",{children:[s.jsx(no,{code:!0,children:"timestamp"})," - 广播通知时间戳（毫秒）"]}),s.jsx("li",{children:"其他扩展字段可能包含广播类型、目标用户等信息"})]})]})]}),s.jsx(_t,{title:"测试建议",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(no,{strong:!0,children:"自定义通知测试："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"在当前页面设置监听"}),s.jsxs("li",{children:["打开 ",s.jsx(no,{code:!0,children:"sendCustomNotification"})," 页面发送自定义通知"]}),s.jsx("li",{children:"可以发送给自己或其他用户进行测试"}),s.jsx("li",{children:"观察控制台输出的通知详细信息"})]})]}),s.jsxs("li",{children:[s.jsx(no,{strong:!0,children:"多端同步测试："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"在多个浏览器窗口登录同一账号"}),s.jsx("li",{children:"在一个窗口发送自定义通知"}),s.jsx("li",{children:"观察其他窗口是否收到通知"})]})]}),s.jsxs("li",{children:[s.jsx(no,{strong:!0,children:"广播通知测试："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"广播通知需要通过服务端API发送"}),s.jsx("li",{children:"可以联系后端开发人员协助测试"}),s.jsx("li",{children:"或者查阅服务端API文档自行发送广播通知"})]})]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保SDK已初始化并登录成功"})}),s.jsx("li",{children:"通知监听在网络断开后重连时会自动恢复"}),s.jsx("li",{children:"自定义通知不会存储在消息历史中，只用于实时通知"}),s.jsx("li",{children:"广播通知的发送需要特殊权限，通常由服务端管理"}),s.jsx("li",{children:s.jsx("strong",{children:"重复设置监听会导致同一通知触发多次"})}),s.jsx("li",{children:"通知内容可能包含敏感信息，注意数据安全"}),s.jsx("li",{children:s.jsx("strong",{children:"及时移除不需要的监听器以避免内存泄漏"})}),s.jsx("li",{children:"通知监听器的回调函数应该尽量简洁，避免阻塞主线程"}),s.jsx("li",{children:"在处理大量通知时，注意性能优化"}),s.jsx("li",{children:s.jsx("strong",{children:"通知服务主要用于轻量级的实时通知，不建议用于传输大量数据"})})]})})]})},tL={conversationType:"p2p",targetId:"",content:'{"text": "Hello, this is a custom notification"}',params:{notificationConfig:{badgeEnabled:!0,needPushNick:!0,apnsText:"",pushPayload:""},pushConfig:{pushTitle:"",pushContent:"",pushPayload:"",forcePush:!1,forcePushList:"",forcePushContent:""},antispamConfig:{antispamEnabled:!1,antispamBusinessId:""},routeConfig:{routeEnabled:!1,routeEnvironment:""}}},VT="V2NIMNotificationService.sendCustomNotification",R$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState([]),v=E.useRef(!1),I=(()=>{try{const L=localStorage.getItem(VT);if(L){const U=JSON.parse(L);return{...tL,...U}}}catch(L){console.error("Failed to parse stored values:",L)}return tL})(),T=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0);const[L,U]=await Kn(()=>{var $;return($=window.nim)==null?void 0:$.V2NIMTeamService.getJoinedTeamList()});if(L)ie.error(`获取群组列表失败: ${L.toString()}`),console.error("获取群组列表失败:",L),g([]);else{console.log("获取群组列表成功, 结果:",U);const $=(U||[]).filter(F=>F.isValidTeam);g($)}i(!1)};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,T())},[]);const _=(L,U)=>{var $,F,z;if(!U.trim())return"";switch(L){case"p2p":return(($=window.nim)==null?void 0:$.V2NIMConversationIdUtil.p2pConversationId(U))||"";case"team":return((F=window.nim)==null?void 0:F.V2NIMConversationIdUtil.teamConversationId(U))||"";case"superTeam":return((z=window.nim)==null?void 0:z.V2NIMConversationIdUtil.superTeamConversationId(U))||"";default:return""}},N=L=>{switch(L){case 1:return"高级群";case 2:return"超大群";default:return`未知(${L})`}},A=L=>{var $,F,z,H,V,K,J,te,Z;const U={};if(L.notificationConfig){const X=L.notificationConfig;(X.badgeEnabled!==void 0||X.needPushNick!==void 0||X.apnsText||X.pushPayload)&&(U.notificationConfig={},X.badgeEnabled!==void 0&&(U.notificationConfig.badgeEnabled=X.badgeEnabled),X.needPushNick!==void 0&&(U.notificationConfig.needPushNick=X.needPushNick),($=X.apnsText)!=null&&$.trim()&&(U.notificationConfig.apnsText=X.apnsText.trim()),(F=X.pushPayload)!=null&&F.trim()&&(U.notificationConfig.pushPayload=X.pushPayload.trim()))}if(L.pushConfig){const X=L.pushConfig;(X.pushTitle||X.pushContent||X.pushPayload||X.forcePush||X.forcePushList||X.forcePushContent)&&(U.pushConfig={},(z=X.pushTitle)!=null&&z.trim()&&(U.pushConfig.pushTitle=X.pushTitle.trim()),(H=X.pushContent)!=null&&H.trim()&&(U.pushConfig.pushContent=X.pushContent.trim()),(V=X.pushPayload)!=null&&V.trim()&&(U.pushConfig.pushPayload=X.pushPayload.trim()),X.forcePush!==void 0&&(U.pushConfig.forcePush=X.forcePush),(K=X.forcePushList)!=null&&K.trim()&&(U.pushConfig.forcePushList=X.forcePushList.trim().split(",").map(re=>re.trim()).filter(re=>re.length>0)),(J=X.forcePushContent)!=null&&J.trim()&&(U.pushConfig.forcePushContent=X.forcePushContent.trim()))}if(L.antispamConfig){const X=L.antispamConfig;(X.antispamEnabled||X.antispamBusinessId)&&(U.antispamConfig={},X.antispamEnabled!==void 0&&(U.antispamConfig.antispamEnabled=X.antispamEnabled),(te=X.antispamBusinessId)!=null&&te.trim()&&(U.antispamConfig.antispamBusinessId=X.antispamBusinessId.trim()))}if(L.routeConfig){const X=L.routeConfig;(X.routeEnabled||X.routeEnvironment)&&(U.routeConfig={},X.routeEnabled!==void 0&&(U.routeConfig.routeEnabled=X.routeEnabled),(Z=X.routeEnvironment)!=null&&Z.trim()&&(U.routeConfig.routeEnvironment=X.routeEnvironment.trim()))}return Object.keys(U).length>0?U:void 0},w=async L=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{conversationType:U,targetId:$,content:F,params:z}=L;if(!$.trim()){ie.error("请输入目标账号");return}if(!F.trim()){ie.error("请输入通知内容");return}const H=_(U,$);if(!H){ie.error("构建会话ID失败，请检查目标账号是否正确");return}n(!0);const V=A(z);console.log("API V2NIMNotificationService.sendCustomNotification execute, params:",{conversationId:H,content:F.trim(),params:V});const[K]=await Kn(()=>{var J;return(J=window.nim)==null?void 0:J.V2NIMNotificationService.sendCustomNotification(H,F.trim(),V)});K?(ie.error(`发送自定义通知失败: ${K.toString()}`),console.error("发送自定义通知失败:",K.toString())):(ie.success("发送自定义通知成功"),console.log("发送自定义通知成功")),n(!1),localStorage.setItem(VT,JSON.stringify(L))},O=()=>{localStorage.removeItem(VT),e.setFieldsValue(tL),ie.success("表单已重置为默认值")},R=()=>{T()},D=()=>{const L=e.getFieldsValue(),{conversationType:U,targetId:$,content:F,params:z}=L;if(!$.trim()){ie.error("请先输入目标账号");return}if(!F.trim()){ie.error("请先输入通知内容");return}const H=_(U,$),V=A(z),K=`await window.nim.V2NIMNotificationService.sendCustomNotification(${JSON.stringify(H)}, ${JSON.stringify(F.trim())}, ${V?JSON.stringify(V):"undefined"});`;console.log("V2NIMNotificationService.sendCustomNotification 调用语句:"),console.log(K),ie.success("调用语句已输出到控制台")},j=[{label:"点对点 (P2P)",value:"p2p"},{label:"群组 (Team)",value:"team"},{label:"超大群 (SuperTeam)",value:"superTeam"}];return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:w,style:{marginTop:24},initialValues:I,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMNotificationService",target:"_blank",children:VT})})},"api"),s.jsx(Ie.Item,{label:"会话类型",name:"conversationType",rules:[{required:!0,message:"请选择会话类型"}],tooltip:"选择要发送通知的会话类型",children:s.jsx(Dr.Group,{options:j,onChange:()=>{e.setFieldsValue({targetId:""})}})}),s.jsx(Ie.Item,{noStyle:!0,dependencies:["conversationType"],children:({getFieldValue:L})=>{const U=L("conversationType");return s.jsx(Ie.Item,{label:"目标ID",name:"targetId",rules:[{required:!0,message:"请输入目标ID"}],tooltip:"点对点会话填写对方账号ID，群组会话填写群组ID",children:s.jsx(yn,{placeholder:U==="p2p"?"请输入对方账号ID":"请输入群组ID",addonAfter:s.jsx(on,{children:(U==="team"||U==="superTeam")&&s.jsx(an,{style:{width:200},placeholder:"选择群组",size:"small",allowClear:!0,loading:r,onSelect:$=>{e.setFieldsValue({targetId:$})},dropdownRender:$=>s.jsxs("div",{children:[$,s.jsx("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",size:"small",onClick:R,loading:r,style:{padding:0},children:"刷新群组列表"})})]}),notFoundContent:r?"正在获取群组列表...":"暂无可用群组",children:d.filter($=>U==="team"?$.teamType===1:$.teamType===2).map($=>s.jsxs(an.Option,{value:$.teamId,children:[$.name||$.teamId," (",N($.teamType),")"]},$.teamId))})})})})}}),s.jsx(Ie.Item,{label:"通知内容",name:"content",rules:[{required:!0,message:"请输入通知内容"}],tooltip:"自定义通知的内容，最大4096个字符",children:s.jsx(yn.TextArea,{placeholder:"请输入自定义通知内容",rows:3,maxLength:4096,showCount:!0})}),s.jsxs(_t,{title:"通知相关配置",size:"small",style:{marginBottom:16},children:[s.jsx(Ie.Item,{label:"角标开关",name:["params","notificationConfig","badgeEnabled"],valuePropName:"checked",tooltip:"是否显示角标",children:s.jsx(ds,{checkedChildren:"开启",unCheckedChildren:"关闭"})}),s.jsx(Ie.Item,{label:"推送昵称",name:["params","notificationConfig","needPushNick"],valuePropName:"checked",tooltip:"是否需要推送昵称",children:s.jsx(ds,{checkedChildren:"需要",unCheckedChildren:"不需要"})}),s.jsx(Ie.Item,{label:"APNS文本",name:["params","notificationConfig","apnsText"],tooltip:"苹果推送的显示文本",children:s.jsx(yn,{placeholder:"APNS推送显示文本"})}),s.jsx(Ie.Item,{label:"推送载荷",name:["params","notificationConfig","pushPayload"],tooltip:"推送时携带的额外数据",children:s.jsx(yn.TextArea,{placeholder:"JSON格式的推送载荷数据",rows:2})})]}),s.jsxs(_t,{title:"推送配置",size:"small",style:{marginBottom:16},children:[s.jsx(Ie.Item,{label:"推送标题",name:["params","pushConfig","pushTitle"],tooltip:"推送通知的标题",children:s.jsx(yn,{placeholder:"推送通知标题"})}),s.jsx(Ie.Item,{label:"推送内容",name:["params","pushConfig","pushContent"],tooltip:"推送通知的内容",children:s.jsx(yn.TextArea,{placeholder:"推送通知内容",rows:2})}),s.jsx(Ie.Item,{label:"推送载荷",name:["params","pushConfig","pushPayload"],tooltip:"推送时携带的额外数据",children:s.jsx(yn.TextArea,{placeholder:"JSON格式的推送载荷数据",rows:2})}),s.jsx(Ie.Item,{label:"强制推送",name:["params","pushConfig","forcePush"],valuePropName:"checked",tooltip:"是否强制推送给所有用户",children:s.jsx(ds,{checkedChildren:"强制",unCheckedChildren:"正常"})}),s.jsx(Ie.Item,{label:"强推用户列表",name:["params","pushConfig","forcePushList"],tooltip:"需要强制推送的用户ID列表，多个用逗号分隔",children:s.jsx(yn,{placeholder:"user1,user2,user3"})}),s.jsx(Ie.Item,{label:"强推内容",name:["params","pushConfig","forcePushContent"],tooltip:"强制推送时的内容",children:s.jsx(yn.TextArea,{placeholder:"强制推送时显示的内容",rows:2})})]}),s.jsxs(_t,{title:"反垃圾配置",size:"small",style:{marginBottom:16},children:[s.jsx(Ie.Item,{label:"反垃圾开关",name:["params","antispamConfig","antispamEnabled"],valuePropName:"checked",tooltip:"是否启用反垃圾检测",children:s.jsx(ds,{checkedChildren:"启用",unCheckedChildren:"禁用"})}),s.jsx(Ie.Item,{label:"反垃圾业务ID",name:["params","antispamConfig","antispamBusinessId"],tooltip:"反垃圾业务标识ID",children:s.jsx(yn,{placeholder:"反垃圾业务ID"})})]}),s.jsxs(_t,{title:"路由配置",size:"small",style:{marginBottom:16},children:[s.jsx(Ie.Item,{label:"路由开关",name:["params","routeConfig","routeEnabled"],valuePropName:"checked",tooltip:"是否启用路由配置",children:s.jsx(ds,{checkedChildren:"启用",unCheckedChildren:"禁用"})}),s.jsx(Ie.Item,{label:"路由环境",name:["params","routeConfig","routeEnvironment"],tooltip:"路由环境标识",children:s.jsx(yn,{placeholder:"路由环境标识"})})]}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"发送自定义通知"}),s.jsx(Ze,{type:"default",onClick:O,children:"重置"}),s.jsx(Ze,{type:"default",onClick:D,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"自定义通知："}),"用于发送自定义的透传通知，接收方会通过 onReceiveCustomNotification 回调收到"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"会话类型："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"点对点 (P2P)：发送给指定用户的私聊通知"}),s.jsx("li",{children:"群组 (Team)：发送给高级群的群组通知"}),s.jsx("li",{children:"超大群 (SuperTeam)：发送给超大群的群组通知"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"通知内容："}),"最大支持4096个字符，会作为 SystemMsgTag.Attach 字段传递"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"配置参数："}),"所有配置参数都是可选的，可以根据实际需求选择性配置",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"通知相关配置：控制角标、昵称、APNS等基础通知属性"}),s.jsx("li",{children:"推送配置：控制离线推送的标题、内容、载荷等"}),s.jsx("li",{children:"反垃圾配置：控制是否启用反垃圾检测"}),s.jsx("li",{children:"路由配置：控制消息路由相关设置"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"会话ID构建："}),"系统会根据会话类型和目标账号自动构建正确的会话ID"]})]})}),s.jsxs(_t,{title:"API 参数说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"基础参数："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"conversationId (string):"})," 会话ID，必填",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"点对点会话：通过 V2NIMConversationIdUtil.p2pConversationId(accountId) 构建"}),s.jsx("li",{children:"群组会话：通过 V2NIMConversationIdUtil.teamConversationId(teamId) 构建"}),s.jsx("li",{children:"超大群会话：通过 V2NIMConversationIdUtil.superTeamConversationId(superTeamId) 构建"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"content (string):"})," 通知内容，必填，最大4096个字符"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"params (V2NIMSendCustomNotificationParams):"})," 发送配置参数，可选"]})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"V2NIMSendCustomNotificationParams 配置："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"notificationConfig (V2NIMNotificationConfig):"})," 通知相关配置",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"badgeEnabled: 是否显示角标"}),s.jsx("li",{children:"needPushNick: 是否需要推送昵称"}),s.jsx("li",{children:"apnsText: APNS推送显示文本"}),s.jsx("li",{children:"pushPayload: 推送载荷数据"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"pushConfig (V2NIMNotificationPushConfig):"})," 推送配置",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"pushTitle: 推送标题"}),s.jsx("li",{children:"pushContent: 推送内容"}),s.jsx("li",{children:"pushPayload: 推送载荷"}),s.jsx("li",{children:"forcePush: 是否强制推送"}),s.jsx("li",{children:"forcePushList: 强制推送用户列表"}),s.jsx("li",{children:"forcePushContent: 强制推送内容"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"antispamConfig (V2NIMNotificationAntispamConfig):"})," 反垃圾配置",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"antispamEnabled: 是否启用反垃圾"}),s.jsx("li",{children:"antispamBusinessId: 反垃圾业务ID"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"routeConfig (V2NIMNotificationRouteConfig):"})," 路由配置",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"routeEnabled: 是否启用路由"}),s.jsx("li",{children:"routeEnvironment: 路由环境"})]})]})]})]})]}),s.jsx(_t,{title:"返回结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"成功："}),"Promise<void>，无返回值表示发送成功"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"失败："}),"抛出 V2NIMError 异常，包含错误码和错误描述"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"接收方回调："}),"接收方会通过 V2NIMNotificationListener.onReceiveCustomNotification 回调收到通知"]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保已登录并完成数据同步"})}),s.jsx("li",{children:"自定义通知不会存储在消息历史中，只用于实时通知"}),s.jsx("li",{children:"接收方需要监听 onReceiveCustomNotification 回调才能收到通知"}),s.jsx("li",{children:"通知内容最大支持4096个字符，超出会发送失败"}),s.jsx("li",{children:s.jsx("strong",{children:"群组通知需要发送者是群成员"})}),s.jsx("li",{children:"推送配置只在接收方离线时生效"}),s.jsx("li",{children:"反垃圾配置需要在云信控制台开启反垃圾服务"}),s.jsx("li",{children:s.jsx("strong",{children:"自定义通知主要用于实时业务通知，不建议用于聊天消息"})}),s.jsx("li",{children:"发送频率有限制，避免过于频繁发送"}),s.jsx("li",{children:"目标用户不存在或不可达时会发送失败"})]})})]})},Z7={invitationInfo:""},nL="V2NIMTeamService.acceptInvitation",A$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState([]),v=E.useRef(!1),I=Z7,T=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0);const L={offset:0,limit:50,types:[2],status:[0]};console.log("API V2NIMTeamService.getTeamJoinActionInfoList execute, params:",L);const[U,$]=await Kn(()=>{var F;return(F=window.nim)==null?void 0:F.V2NIMTeamService.getTeamJoinActionInfoList(L)});if(U)ie.error(`获取群邀请列表失败: ${U.toString()}`),console.error("获取群邀请列表失败:",U),g([]);else{console.log("获取群邀请列表成功, 结果:",$);const F=(($==null?void 0:$.infos)||[]).filter(z=>z.actionType===2&&z.actionStatus===0);g(F),F.length===0?ie.info("暂无待处理的群邀请"):ie.success(`获取到 ${F.length} 条待处理的群邀请`)}i(!1)};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,T())},[]);const _=async L=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{invitationInfo:U}=L;if(!U){ie.error("请选择要接受的群邀请");return}const $=d.find(H=>`${H.teamId}-${H.operatorAccountId}-${H.timestamp}`===U);if(!$){ie.error("未找到对应的申请");return}n(!0),console.log("API V2NIMTeamService.acceptInvitation execute, params:",$);const[F,z]=await Kn(()=>{var H;return(H=window.nim)==null?void 0:H.V2NIMTeamService.acceptInvitation($)});F?(ie.error(`接受群邀请失败: ${F.toString()}`),console.error("接受群邀请失败:",F.toString())):(ie.success("接受群邀请成功"),console.log("接受群邀请成功, 结果:",z),await T(),e.setFieldsValue({invitationInfo:""})),n(!1),localStorage.setItem(nL,JSON.stringify(L))},N=()=>{localStorage.removeItem(nL),e.setFieldsValue(Z7),ie.success("表单已重置为默认值")},A=()=>{const L=e.getFieldsValue(),{invitationInfo:U}=L;if(!U){ie.error("请先选择要接受的群邀请");return}const $=`await window.nim.V2NIMTeamService.acceptInvitation(${JSON.stringify(U,null,2)});`;console.log("V2NIMTeamService.acceptInvitation 调用语句:"),console.log($),ie.success("调用语句已输出到控制台")},w=()=>{T()},O=L=>new Date(L).toLocaleString("zh-CN"),R=L=>{switch(L){case 1:return"高级群";case 2:return"超大群";default:return`未知(${L})`}},D=L=>{switch(L){case 0:return s.jsx(ln,{color:"blue",children:"申请入群"});case 1:return s.jsx(ln,{color:"red",children:"拒绝申请"});case 2:return s.jsx(ln,{color:"green",children:"邀请入群"});case 3:return s.jsx(ln,{color:"orange",children:"拒绝邀请"});default:return s.jsx(ln,{children:"未知"})}},j=L=>{switch(L){case 0:return s.jsx(ln,{color:"orange",children:"待处理"});case 1:return s.jsx(ln,{color:"green",children:"已同意"});case 2:return s.jsx(ln,{color:"red",children:"已拒绝"});case 3:return s.jsx(ln,{color:"gray",children:"已过期"});default:return s.jsx(ln,{children:"未知"})}};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:_,style:{marginTop:24},initialValues:I,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:nL})})},"api"),s.jsx(Ie.Item,{label:"群邀请列表",children:s.jsx(on,{direction:"vertical",style:{width:"100%"},children:s.jsxs(on,{children:[s.jsx(Ze,{onClick:w,loading:r,size:"small",children:"刷新邀请列表"}),s.jsx("span",{style:{color:"#666",fontSize:"12px"},children:r?"正在获取...":`共 ${d.length} 条待处理邀请`})]})})}),s.jsx(Ie.Item,{label:"选择邀请",name:"invitationInfo",rules:[{required:!0,message:"请选择要接受的群邀请"}],children:s.jsx(an,{placeholder:"请选择要接受的群邀请",loading:r,notFoundContent:r?s.jsx(Vd,{size:"small"}):s.jsx(Wi,{image:Wi.PRESENTED_IMAGE_SIMPLE,description:"暂无待处理的群邀请"}),optionLabelProp:"label",style:{width:"100%"},children:d.map(L=>s.jsx(an.Option,{value:`${L.teamId}-${L.operatorAccountId}-${L.timestamp}`,label:`群组: ${L.teamId} - 邀请人: ${L.operatorAccountId}`,children:s.jsxs("div",{style:{padding:"8px 0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[s.jsxs("span",{style:{fontWeight:"bold"},children:["群组: ",L.teamId," (",R(L.teamType),")"]}),s.jsxs(on,{children:[D(L.actionType),j(L.actionStatus)]})]}),s.jsxs("div",{style:{color:"#666",fontSize:"12px",marginBottom:"2px"},children:["邀请人: ",L.operatorAccountId]}),s.jsxs("div",{style:{color:"#666",fontSize:"12px",marginBottom:"2px"},children:["邀请消息: ",L.postscript||"无"]}),s.jsxs("div",{style:{color:"#999",fontSize:"12px",marginBottom:"2px"},children:["邀请时间: ",O(L.timestamp)]}),L.serverExtension&&s.jsxs("div",{style:{color:"#999",fontSize:"12px"},children:["扩展字段: ",L.serverExtension]})]})},`${L.teamId}-${L.operatorAccountId}-${L.timestamp}`))})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},disabled:d.length===0,children:"接受群邀请"}),s.jsx(Ze,{type:"default",onClick:N,children:"重置"}),s.jsx(Ze,{type:"default",onClick:A,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"自动获取邀请列表:"})," 页面加载时会自动调用 getTeamJoinActionInfoList 获取待处理的群邀请"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"邀请筛选条件:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:'操作类型为"邀请入群"(actionType=2)'}),s.jsx("li",{children:'状态为"待处理"(actionStatus=0)'})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"邀请信息展示:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"群组ID和类型"}),s.jsx("li",{children:"邀请人账号ID"}),s.jsx("li",{children:"邀请消息内容"}),s.jsx("li",{children:"邀请时间"}),s.jsx("li",{children:"操作类型和状态"}),s.jsx("li",{children:"扩展字段（如果有）"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"实时刷新:"}),' 可以点击"刷新邀请列表"按钮获取最新的邀请信息']}),s.jsxs("li",{children:[s.jsx("strong",{children:"事件监听:"})," 也可以通过监听相关团队事件获取实时邀请通知"]})]})}),s.jsx(_t,{title:"操作结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"操作成功后的事件触发："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"接受邀请用户端:"})," SDK 会抛出 V2NIMTeamListener.onTeamJoined 事件"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群内其他用户端:"})," SDK 会抛出 V2NIMTeamListener.onTeamMemberJoined 事件"]})]})]}),s.jsx("li",{children:"接受邀请后，用户将成为群组成员"}),s.jsx("li",{children:"用户将开始接收该群组的消息和通知"}),s.jsx("li",{children:'邀请状态将更新为"已同意"'})]})}),s.jsx(_t,{title:"API 参数说明",style:{marginTop:16},size:"small",children:s.jsx("ul",{style:{margin:0,paddingLeft:20},children:s.jsxs("li",{children:[s.jsx("strong",{children:"V2NIMTeamJoinActionInfo 对象包含以下字段:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"actionType:"})," 群操作类型",s.jsxs("ul",{style:{marginTop:2},children:[s.jsx("li",{children:"0 - 申请入群"}),s.jsx("li",{children:"1 - 拒绝申请入群"}),s.jsx("li",{children:"2 - 邀请入群"}),s.jsx("li",{children:"3 - 拒绝邀请入群"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamId:"})," 群组ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamType:"})," 群组类型（1-高级群，2-超大群）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"operatorAccountId:"})," 操作者（邀请人）账号ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"postscript:"})," 邀请附言"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"timestamp:"})," 操作时间戳"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"actionStatus:"})," 操作状态",s.jsxs("ul",{style:{marginTop:2},children:[s.jsx("li",{children:"0 - 待处理"}),s.jsx("li",{children:"1 - 已同意"}),s.jsx("li",{children:"2 - 已拒绝"}),s.jsx("li",{children:"3 - 已过期"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"serverExtension:"})," 扩展字段（可选）"]})]})]})})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保已登录并完成数据同步"})}),s.jsx("li",{children:"接受群邀请后，用户将立即成为群组成员"}),s.jsx("li",{children:"接受邀请会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:s.jsx("strong",{children:"建议配合 V2NIMTeamService.on 监听群组事件获取实时通知"})}),s.jsx("li",{children:"如果邀请列表为空，可能是没有待处理的邀请或者数据同步未完成"}),s.jsx("li",{children:"已过期的邀请无法接受，需要重新邀请"}),s.jsx("li",{children:s.jsx("strong",{children:"只能接受发给当前登录用户的邀请"})})]})})]})},e9={applicationInfo:""},rL="V2NIMTeamService.acceptJoinApplication",O$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState([]),v=E.useRef(!1),I=e9,T=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0);const L={offset:0,limit:50,types:[0],status:[0]};console.log("API V2NIMTeamService.getTeamJoinActionInfoList execute, params:",L);const[U,$]=await Kn(()=>{var F;return(F=window.nim)==null?void 0:F.V2NIMTeamService.getTeamJoinActionInfoList(L)});if(U)ie.error(`获取群申请列表失败: ${U.toString()}`),console.error("获取群申请列表失败:",U),g([]);else{console.log("获取群申请列表成功, 结果:",$);const F=(($==null?void 0:$.infos)||[]).filter(z=>z.actionType===0&&z.actionStatus===0);g(F),F.length===0?ie.info("暂无待处理的群申请"):ie.success(`获取到 ${F.length} 条待处理的群申请`)}i(!1)};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,T())},[]);const _=async L=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{applicationInfo:U}=L;if(!U){ie.error("请选择要接受的群申请");return}const $=d.find(H=>`${H.teamId}-${H.operatorAccountId}-${H.timestamp}`===U);if(!$){ie.error("未找到对应的申请");return}n(!0),console.log("API V2NIMTeamService.acceptJoinApplication execute, params:",$);const[F,z]=await Kn(()=>{var H;return(H=window.nim)==null?void 0:H.V2NIMTeamService.acceptJoinApplication($)});F?(ie.error(`接受群申请失败: ${F.toString()}`),console.error("接受群申请失败:",F.toString())):(ie.success("接受群申请成功"),console.log("接受群申请成功, 结果:",z),await T(),e.setFieldsValue({applicationInfo:""})),n(!1),localStorage.setItem(rL,JSON.stringify(L))},N=()=>{localStorage.removeItem(rL),e.setFieldsValue(e9),ie.success("表单已重置为默认值")},A=()=>{const L=e.getFieldsValue(),{applicationInfo:U}=L;if(!U){ie.error("请先选择要接受的群申请");return}const $=d.find(z=>`${z.teamId}-${z.operatorAccountId}-${z.timestamp}`===U);if(!$){ie.error("未找到对应的申请");return}const F=`await window.nim.V2NIMTeamService.acceptJoinApplication(${JSON.stringify($,null,2)});`;console.log("V2NIMTeamService.acceptJoinApplication 调用语句:"),console.log(F),ie.success("调用语句已输出到控制台")},w=()=>{T()},O=L=>new Date(L).toLocaleString("zh-CN"),R=L=>{switch(L){case 1:return"高级群";case 2:return"超大群";default:return`未知(${L})`}},D=L=>{switch(L){case 0:return s.jsx(ln,{color:"blue",children:"申请入群"});case 1:return s.jsx(ln,{color:"red",children:"拒绝申请"});case 2:return s.jsx(ln,{color:"green",children:"邀请入群"});case 3:return s.jsx(ln,{color:"orange",children:"拒绝邀请"});default:return s.jsx(ln,{children:"未知"})}},j=L=>{switch(L){case 0:return s.jsx(ln,{color:"orange",children:"待处理"});case 1:return s.jsx(ln,{color:"green",children:"已同意"});case 2:return s.jsx(ln,{color:"red",children:"已拒绝"});case 3:return s.jsx(ln,{color:"gray",children:"已过期"});default:return s.jsx(ln,{children:"未知"})}};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:_,style:{marginTop:24},initialValues:I,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:rL})})},"api"),s.jsx(Ie.Item,{label:"群申请列表",children:s.jsx(on,{direction:"vertical",style:{width:"100%"},children:s.jsxs(on,{children:[s.jsx(Ze,{onClick:w,loading:r,size:"small",children:"刷新申请列表"}),s.jsx("span",{style:{color:"#666",fontSize:"12px"},children:r?"正在获取...":`共 ${d.length} 条待处理申请`})]})})}),s.jsx(Ie.Item,{label:"选择申请",name:"applicationInfo",rules:[{required:!0,message:"请选择要接受的群申请"}],children:s.jsx(an,{placeholder:"请选择要接受的群申请",loading:r,notFoundContent:r?s.jsx(Vd,{size:"small"}):s.jsx(Wi,{image:Wi.PRESENTED_IMAGE_SIMPLE,description:"暂无待处理的群申请"}),optionLabelProp:"label",style:{width:"100%"},children:d.map(L=>s.jsx(an.Option,{value:`${L.teamId}-${L.operatorAccountId}-${L.timestamp}`,label:`群组: ${L.teamId} - 申请人: ${L.operatorAccountId}`,children:s.jsxs("div",{style:{padding:"8px 0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[s.jsxs("span",{style:{fontWeight:"bold"},children:["群组: ",L.teamId," (",R(L.teamType),")"]}),s.jsxs(on,{children:[D(L.actionType),j(L.actionStatus)]})]}),s.jsxs("div",{style:{color:"#666",fontSize:"12px",marginBottom:"2px"},children:["申请人: ",L.operatorAccountId]}),s.jsxs("div",{style:{color:"#666",fontSize:"12px",marginBottom:"2px"},children:["申请消息: ",L.postscript||"无"]}),s.jsxs("div",{style:{color:"#999",fontSize:"12px",marginBottom:"2px"},children:["申请时间: ",O(L.timestamp)]}),L.serverExtension&&s.jsxs("div",{style:{color:"#999",fontSize:"12px"},children:["扩展字段: ",L.serverExtension]})]})},`${L.teamId}-${L.operatorAccountId}-${L.timestamp}`))})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},disabled:d.length===0,children:"接受群申请"}),s.jsx(Ze,{type:"default",onClick:N,children:"重置"}),s.jsx(Ze,{type:"default",onClick:A,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"自动获取申请列表:"})," 页面加载时会自动调用 getTeamJoinActionInfoList 获取待处理的群申请"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"申请筛选条件:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:'操作类型为"申请入群"(actionType=0)'}),s.jsx("li",{children:'状态为"待处理"(actionStatus=0)'})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"申请信息展示:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"群组ID和类型"}),s.jsx("li",{children:"申请人账号ID"}),s.jsx("li",{children:"申请消息内容"}),s.jsx("li",{children:"申请时间"}),s.jsx("li",{children:"操作类型和状态"}),s.jsx("li",{children:"扩展字段（如果有）"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"权限要求:"})," 只有群主和管理员才能接受群申请"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"实时刷新:"}),' 可以点击"刷新申请列表"按钮获取最新的申请信息']}),s.jsxs("li",{children:[s.jsx("strong",{children:"事件监听:"})," 也可以通过监听相关团队事件获取实时申请通知"]})]})}),s.jsx(_t,{title:"操作结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"操作成功后的事件触发："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"被操作者（申请人）端:"})," SDK 会抛出 V2NIMTeamListener.onTeamJoined 事件"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群内其他成员端:"})," SDK 会抛出 V2NIMTeamListener.onTeamMemberJoined 事件"]})]})]}),s.jsx("li",{children:"接受申请后，申请人将成为群组成员"}),s.jsx("li",{children:"申请人将开始接收该群组的消息和通知"}),s.jsx("li",{children:'申请状态将更新为"已同意"'})]})}),s.jsx(_t,{title:"API 参数说明",style:{marginTop:16},size:"small",children:s.jsx("ul",{style:{margin:0,paddingLeft:20},children:s.jsxs("li",{children:[s.jsx("strong",{children:"applicationInfo (V2NIMTeamJoinActionInfo):"})," 该申请的相关信息对象",s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"actionType:"})," 群操作类型（",s.jsx("strong",{children:"必须为 0 - 申请入群"}),"）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamId:"})," 群组ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamType:"})," 群组类型（1-高级群，2-超大群）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"operatorAccountId:"})," 操作者（申请人）账号ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"postscript:"})," 申请附言"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"timestamp:"})," 操作时间戳"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"actionStatus:"})," 操作状态（不校验此字段）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"serverExtension:"})," 扩展字段（可选）"]})]})]})})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff4d4f",backgroundColor:"#fff2f0"},size:"small",styles:{header:{backgroundColor:"#ffccc7",color:"#cf1322",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#cf1322"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保已登录并完成数据同步"})}),s.jsx("li",{children:s.jsx("strong",{children:"只有群主和管理员才能接受群申请"})}),s.jsx("li",{children:s.jsx("strong",{children:"applicationInfo 的 actionType 必须为 0（申请入群），否则会抛出参数错误"})}),s.jsx("li",{children:"接受申请后，申请人将立即成为群组成员"}),s.jsx("li",{children:"接受申请会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:s.jsx("strong",{children:"建议配合 V2NIMTeamService.on 监听群组事件获取实时通知"})}),s.jsx("li",{children:"如果申请列表为空，可能是没有待处理的申请或者数据同步未完成"}),s.jsx("li",{children:"已过期的申请无法接受，需要用户重新申请"}),s.jsx("li",{children:s.jsx("strong",{children:"只能处理当前登录用户有管理权限的群组申请"})})]})})]})},t9={teamId:"",teamType:1,postscript:""},$T="V2NIMTeamService.applyJoinTeam",k$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),i=(()=>{const S=localStorage.getItem($T);if(S)try{return JSON.parse(S)}catch(I){console.error("解析 localStorage 中的数据失败:",I)}return t9})(),d=async S=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{teamId:I,teamType:T,postscript:_}=S;if(!I){ie.error("请输入群组ID");return}n(!0),console.log("API V2NIMTeamService.applyJoinTeam execute, params:",{teamId:I,teamType:T,postscript:_});const[N,A]=await Kn(()=>{var w;return(w=window.nim)==null?void 0:w.V2NIMTeamService.applyJoinTeam(I,T,_)});N?(ie.error(`申请加入群组失败: ${N.toString()}`),console.error("申请加入群组失败:",N.toString())):(ie.success("申请加入群组成功"),console.log("申请加入群组成功, 结果:",A)),n(!1),localStorage.setItem($T,JSON.stringify(S))},g=()=>{localStorage.removeItem($T),e.setFieldsValue(t9),ie.success("表单已重置为默认值")},v=()=>{const S=e.getFieldsValue(),{teamId:I,teamType:T,postscript:_}=S;if(!I){ie.error("请先输入群组ID");return}const N=`await window.nim.V2NIMTeamService.applyJoinTeam(${JSON.stringify(I)}, ${T}, ${JSON.stringify(_||"")});`;console.log("V2NIMTeamService.applyJoinTeam 调用语句:"),console.log(N),ie.success("调用语句已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:d,style:{marginTop:24},initialValues:i,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:$T})})},"api"),s.jsx(Ie.Item,{label:"群组ID",name:"teamId",rules:[{required:!0,message:"请输入要加入的群组ID"}],tooltip:"要申请加入的群组的唯一标识符",children:s.jsx(yn,{placeholder:"请输入群组ID"})}),s.jsx(Ie.Item,{label:"群组类型",name:"teamType",rules:[{required:!0,message:"请选择群组类型"}],tooltip:"必须与要加入的群组的实际类型一致",children:s.jsxs(Dr.Group,{children:[s.jsx(Dr,{value:1,children:"高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx(Dr,{value:2,children:"超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})}),s.jsx(Ie.Item,{label:"申请附言",name:"postscript",tooltip:"申请加入群组的理由或说明，可选",children:s.jsx(yn.TextArea,{placeholder:"请输入申请加入群组的理由（可选）",rows:4,maxLength:500,showCount:!0})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"申请加入群组"}),s.jsx(Ze,{type:"default",onClick:g,children:"重置"}),s.jsx(Ze,{type:"default",onClick:v,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"群组ID:"})," 输入要申请加入的群组的唯一标识符"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群组类型:"})," 必须与目标群组的实际类型一致",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"1 - 高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx("li",{children:"2 - 超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"申请附言:"})," 可选，向群主或管理员说明申请加入的理由"]}),s.jsx("li",{children:"操作结果取决于群组的加入模式设置"}),s.jsx("li",{children:"如果群组允许自由加入，申请会立即成功"}),s.jsx("li",{children:"如果需要群主或管理员同意，申请会发送给相关人员审核"})]})}),s.jsx(_t,{title:"操作结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"返回值:"})," 成功时返回群组信息 (V2NIMTeam)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"根据群组的加入模式 (joinMode) 不同，触发的事件也不同:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"自由加入模式:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"操作者端: SDK 会抛出 V2NIMTeamListener.onTeamJoined 事件"}),s.jsx("li",{children:"其他成员端: SDK 会抛出 V2NIMTeamListener.onTeamMemberJoined 事件"}),s.jsx("li",{children:"申请者立即成为群组成员"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"需要群主或管理员同意:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"群主或管理员端: SDK 会抛出 V2NIMTeamListener.onReceiveTeamJoinActionInfo 事件"}),s.jsx("li",{children:"申请者需要等待审核，审核通过后才能加入群组"})]})]})]})]})]})}),s.jsx(_t,{title:"群组加入模式说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"自由加入 (V2NIM_TEAM_JOIN_MODE_FREE):"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"任何人都可以直接加入群组"}),s.jsx("li",{children:"申请会立即成功，无需等待审核"}),s.jsx("li",{children:"适用于开放性的讨论群组"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"需要验证 (V2NIM_TEAM_JOIN_MODE_APPLY):"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"需要群主或管理员同意才能加入"}),s.jsx("li",{children:"申请会发送给群主和管理员"}),s.jsx("li",{children:"等待审核期间，申请者不是群组成员"}),s.jsx("li",{children:"适用于需要管控成员的群组"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"拒绝任何人加入 (V2NIM_TEAM_JOIN_MODE_REJECT_ALL):"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"不允许任何人申请加入"}),s.jsx("li",{children:"只能通过邀请的方式加入群组"}),s.jsx("li",{children:"申请会直接失败"})]})]})]})}),s.jsx(_t,{title:"API 参数说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"teamId (string):"})," 群组ID",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"必填参数，群组的唯一标识符"}),s.jsx("li",{children:"可以通过群组信息或其他渠道获取"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamType (V2NIMTeamType):"})," 群组类型",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"必填参数，必须与目标群组的实际类型一致"}),s.jsx("li",{children:"1 - V2NIM_TEAM_TYPE_NORMAL (高级群)"}),s.jsx("li",{children:"2 - V2NIM_TEAM_TYPE_SUPER (超大群)"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"postscript (string):"})," 申请附言",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"可选参数，向群主或管理员说明申请理由"}),s.jsx("li",{children:"在需要审核的群组中特别有用"}),s.jsx("li",{children:"最多500个字符"})]})]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"群组类型参数必须与目标群组的实际类型一致，否则会操作失败"})}),s.jsx("li",{children:s.jsx("strong",{children:"群组ID必须是有效且存在的群组标识符"})}),s.jsx("li",{children:"操作结果取决于群组的加入模式设置"}),s.jsx("li",{children:"如果群组设置为拒绝任何人加入，申请会直接失败"}),s.jsx("li",{children:s.jsx("strong",{children:"建议在申请前了解群组的加入模式和要求"})}),s.jsx("li",{children:"申请加入群组会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:"重复申请加入已经是成员的群组会失败"}),s.jsx("li",{children:s.jsx("strong",{children:"建议配合 V2NIMTeamService.on 监听群组事件获取实时通知"})}),s.jsx("li",{children:"申请附言在需要审核的群组中非常重要，建议填写清楚的申请理由"})]})})]})},aL={params:{name:"我的群组",teamType:1,memberLimit:200,intro:"这是一个测试群组",announcement:"欢迎加入群组",avatar:"",serverExtension:"",joinMode:0,agreeMode:0,inviteMode:1,updateInfoMode:1,updateExtensionMode:1,chatBannedMode:0},inviteeAccountIds:"",postscript:"邀请您加入群组"},UT="V2NIMTeamService.createTeam",L$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),i=(()=>{try{const S=localStorage.getItem(UT);if(S){const I=JSON.parse(S);return{...aL,...I}}}catch(S){console.error("Failed to parse stored values:",S)}return aL})(),d=async S=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{params:I,inviteeAccountIds:T,postscript:_}=S;if(!I.name.trim()){ie.error("请输入群组名称");return}n(!0);const N=T.split(",").map(O=>O.trim()).filter(O=>O.length>0);console.log("API V2NIMTeamService.createTeam execute, params:",{params:I,inviteeAccountIds:N,postscript:_,antispamConfig:null});const[A,w]=await Kn(()=>{var O;return(O=window.nim)==null?void 0:O.V2NIMTeamService.createTeam(I,N,_)});A?(ie.error(`创建群组失败: ${A.toString()}`),console.error("创建群组失败:",A.toString())):(ie.success("创建群组成功"),console.log("创建群组成功, 结果:",w)),n(!1),localStorage.setItem(UT,JSON.stringify(S))},g=()=>{localStorage.removeItem(UT),e.setFieldsValue(aL),ie.success("表单已重置为默认值")},v=()=>{const S=e.getFieldsValue(),{params:I,inviteeAccountIds:T,postscript:_}=S;if(!I.name.trim()){ie.error("请先输入群组名称");return}const N=T.split(",").map(w=>w.trim()).filter(w=>w.length>0),A=`await window.nim.V2NIMTeamService.createTeam(${JSON.stringify(I)}, ${JSON.stringify(N)}, ${JSON.stringify(_)});`;console.log("V2NIMTeamService.createTeam 调用语句:"),console.log(A),ie.success("调用语句已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:d,style:{marginTop:24},initialValues:i,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:UT})})},"api"),s.jsx(Ie.Item,{label:"群组名称",name:["params","name"],rules:[{required:!0,message:"请输入群组名称"}],children:s.jsx(yn,{placeholder:"请输入群组名称",maxLength:30,showCount:!0})}),s.jsx(Ie.Item,{label:"群组类型",name:["params","teamType"],rules:[{required:!0,message:"请选择群组类型"}],children:s.jsxs(an,{placeholder:"请选择群组类型",children:[s.jsx(an.Option,{value:1,children:"高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx(an.Option,{value:2,children:"超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})}),s.jsx(Ie.Item,{label:"群组人数上限",name:["params","memberLimit"],children:s.jsx(Rc,{min:1,max:5e3,placeholder:"群组人数上限，默认200",style:{width:"100%"}})}),s.jsx(Ie.Item,{label:"群组介绍",name:["params","intro"],children:s.jsx(yn.TextArea,{placeholder:"群组介绍，最多255个字符",rows:2,maxLength:255,showCount:!0})}),s.jsx(Ie.Item,{label:"群组公告",name:["params","announcement"],children:s.jsx(yn.TextArea,{placeholder:"群组公告，最多5000个字符",rows:3,maxLength:5e3,showCount:!0})}),s.jsx(Ie.Item,{label:"群组头像",name:["params","avatar"],children:s.jsx(yn,{placeholder:"群组头像URL"})}),s.jsx(Ie.Item,{label:"服务端扩展",name:["params","serverExtension"],children:s.jsx(yn.TextArea,{placeholder:"服务端扩展字段，由第三方APP自由定义",rows:2})}),s.jsx(Ie.Item,{label:"申请者",name:["params","joinMode"],tooltip:"指申请者是否能发起加入群组",children:s.jsxs(an,{placeholder:"申请入群模式",children:[s.jsx(an.Option,{value:0,children:"自由加入 (V2NIM_TEAM_JOIN_MODE_FREE)"}),s.jsx(an.Option,{value:1,children:"需向管理员发起申请 (V2NIM_TEAM_JOIN_MODE_APPLY)"}),s.jsx(an.Option,{value:2,children:"不许申请, 仅能邀请入群 (V2NIM_TEAM_JOIN_MODE_INVITE)"})]})}),s.jsx(Ie.Item,{label:"受邀者同意",name:["params","agreeMode"],tooltip:"指受邀请者是否需要同意",children:s.jsxs(an,{placeholder:"被邀请人同意模式",children:[s.jsx(an.Option,{value:0,children:"需要同意 (V2NIM_TEAM_AGREE_MODE_AUTH)"}),s.jsx(an.Option,{value:1,children:"直接邀请并加入, 不需要同意 (V2NIM_TEAM_AGREE_MODE_NO_AUTH)"})]})}),s.jsx(Ie.Item,{label:"邀请者",name:["params","inviteMode"],tooltip:"指谁有权限可以发起邀请",children:s.jsxs(an,{placeholder:"邀请入群模式",children:[s.jsx(an.Option,{value:0,children:"所有人 (V2NIM_TEAM_INVITE_MODE_ALL)"}),s.jsx(an.Option,{value:1,children:"仅管理员 (V2NIM_TEAM_INVITE_MODE_MANAGER)"})]})}),s.jsx(Ie.Item,{label:"群信息修改",name:["params","updateInfoMode"],tooltip:"指谁有权限可以修改群信息",children:s.jsxs(an,{placeholder:"群信息修改模式",children:[s.jsx(an.Option,{value:0,children:"所有人 (V2NIM_TEAM_UPDATE_INFO_MODE_ALL)"}),s.jsx(an.Option,{value:1,children:"仅管理员 (V2NIM_TEAM_UPDATE_INFO_MODE_MANAGER)"})]})}),s.jsx(Ie.Item,{label:"扩展修改",name:["params","updateExtensionMode"],tooltip:"指谁有权限可以修改群扩展字段",children:s.jsxs(an,{placeholder:"扩展字段修改模式",children:[s.jsx(an.Option,{value:0,children:"所有人 (V2NIM_TEAM_UPDATE_EXTENSION_MODE_ALL)"}),s.jsx(an.Option,{value:1,children:"仅管理员 (V2NIM_TEAM_UPDATE_EXTENSION_MODE_MANAGER)"})]})}),s.jsx(Ie.Item,{label:"群禁言模式",name:["params","chatBannedMode"],tooltip:"指谁有权限可以控制群禁言",children:s.jsxs(an,{placeholder:"群禁言模式",children:[s.jsx(an.Option,{value:0,children:"不禁言 (V2NIM_TEAM_CHAT_BANNED_MODE_UNBAN)"}),s.jsx(an.Option,{value:1,children:"全员禁言 (V2NIM_TEAM_CHAT_BANNED_MODE_BANNED_NORMAL)"})]})}),s.jsx(Ie.Item,{label:"邀请成员列表",name:"inviteeAccountIds",children:s.jsx(yn.TextArea,{placeholder:"邀请成员的账号ID列表，多个用逗号分隔，如：user1,user2,user3",rows:2})}),s.jsx(Ie.Item,{label:"邀请附言",name:"postscript",children:s.jsx(yn.TextArea,{placeholder:"邀请附言",rows:2,maxLength:200,showCount:!0})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"创建群组"}),s.jsx(Ze,{type:"default",onClick:g,children:"重置"}),s.jsx(Ze,{type:"default",onClick:v,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"群组名称:"})," 必填，群组的显示名称，最多30个字符"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群组类型:"})," 必填，只能选择高级群(1)或超大群(2)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群组人数上限:"})," 可选， 高级群默认200人，而超大群最多支持5000人. 更多请参见官网使用说明."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"邀请成员列表:"})," 可选，创建群组时同时邀请的成员账号ID，多个用逗号分隔"]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"创建群组前请确保已登录并且网络连接正常"})}),s.jsx("li",{children:"群组类型创建后不可修改，请根据实际需求选择合适的类型"}),s.jsx("li",{children:"邀请成员时请确保成员账号存在且有效"}),s.jsx("li",{children:"创建群组操作会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:s.jsx("strong",{children:"建议先通过 V2NIMUserService.getUserList 验证邀请成员账号是否存在"})})]})})]})},n9={teamId:"",teamType:1},r9="V2NIMTeamService.dismissTeam",P$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState([]),v=E.useRef(!1),I=n9,T=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0);const[D,j]=await Kn(()=>{var L;return(L=window.nim)==null?void 0:L.V2NIMTeamService.getJoinedTeamList()});D?(ie.error(`获取群组列表失败: ${D.toString()}`),console.error("获取群组列表失败:",D.toString()),g([])):(console.log("获取群组列表成功:",j),g(j||[])),i(!1)};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,T())},[]);const _=async D=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{teamId:j,teamType:L}=D;if(!j){ie.error("请选择要解散的群组");return}n(!0),console.log("API V2NIMTeamService.dismissTeam execute, params:",{teamId:j,teamType:L});const[U,$]=await Kn(()=>{var F;return(F=window.nim)==null?void 0:F.V2NIMTeamService.dismissTeam(j,L)});U?(ie.error(`解散群组失败: ${U.toString()}`),console.error("解散群组失败:",U.toString())):(ie.success("解散群组成功"),console.log("解散群组成功, 结果:",$)),n(!1)},N=()=>{localStorage.removeItem(r9),e.setFieldsValue(n9),ie.success("表单已重置为默认值")},A=()=>{T()},w=D=>{const j=d.find(L=>L.teamId===D);j&&e.setFieldsValue({teamId:D,teamType:j.teamType})},O=D=>{switch(D){case 1:return"高级群";case 2:return"超大群";default:return`未知(${D})`}},R=()=>{const D=e.getFieldsValue(),{teamId:j,teamType:L}=D;if(!j){ie.error("请先选择要解散的群组");return}const U=`await window.nim.V2NIMTeamService.dismissTeam(${JSON.stringify(j)}, ${L});`;console.log("V2NIMTeamService.dismissTeam 调用语句:"),console.log(U),ie.success("调用语句已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:_,style:{marginTop:24},initialValues:I,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:r9})})},"api"),s.jsx(Ie.Item,{label:"选择群组",name:"teamId",rules:[{required:!0,message:"请选择要解散的群组"}],children:s.jsx(an,{placeholder:"请选择要解散的群组",loading:r,onSelect:w,showSearch:!0,optionFilterProp:"children",dropdownRender:D=>s.jsxs("div",{children:[D,s.jsx("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",size:"small",onClick:A,loading:r,style:{padding:0},children:"刷新群组列表"})})]}),children:d.map(D=>s.jsxs(an.Option,{value:D.teamId,children:[D.name||D.teamId," (",O(D.teamType),") - ",D.teamId]},D.teamId))})}),s.jsx(Ie.Item,{label:"群组类型",name:"teamType",rules:[{required:!0,message:"请选择群组类型"}],tooltip:"必须与要解散的群组类型一致",children:s.jsxs(Dr.Group,{children:[s.jsx(Dr,{value:1,children:"高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx(Dr,{value:2,children:"超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"解散群组"}),s.jsx(Ze,{type:"default",onClick:N,children:"重置"}),s.jsx(Ze,{type:"default",onClick:A,loading:r,children:"刷新群组列表"}),s.jsx(Ze,{type:"default",onClick:R,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"选择群组:"})," 从已加入的群组列表中选择要解散的群组"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群组类型:"})," 必须与要解散的群组的实际类型一致",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"1 - 高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx("li",{children:"2 - 超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})]}),s.jsx("li",{children:"选择群组后，系统会自动填充对应的群组类型"}),s.jsx("li",{children:"支持按群组名称或ID搜索群组"}),s.jsx("li",{children:'可以点击"刷新群组列表"按钮获取最新的群组信息'}),s.jsx("li",{children:"解散群组后，该群组将被永久删除，所有成员都会被移除"}),s.jsx("li",{children:"解散群组操作是不可逆的，请谨慎操作"}),s.jsx("li",{children:s.jsx("strong",{children:"只有群主才能解散群组"})})]})}),s.jsx(_t,{title:"操作结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"操作成功后的事件触发："}),s.jsx("ul",{style:{marginTop:4},children:s.jsxs("li",{children:[s.jsx("strong",{children:"全员:"})," SDK 会抛出 V2NIMTeamListener.onTeamDismissed 事件"]})})]}),s.jsx("li",{children:"解散群组后，该群组将从所有成员的群组列表中移除"}),s.jsx("li",{children:"群组的聊天记录会保留在本地，但群组不再存在"}),s.jsx("li",{children:"解散后的群组无法恢复，也无法重新加入"})]})}),s.jsx(_t,{title:"权限说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"群主:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"拥有解散群组的权限"}),s.jsx("li",{children:"可以解散自己创建的群组"}),s.jsx("li",{children:"解散群组会通知所有群成员"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"管理员和普通成员:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"没有解散群组的权限"}),s.jsx("li",{children:"只能退出群组，不能解散群组"})]})]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"解散群组操作是不可逆的，群组将被永久删除"})}),s.jsx("li",{children:s.jsx("strong",{children:"只有群主才能解散群组，其他成员会收到权限不足的错误"})}),s.jsx("li",{children:"群组类型参数必须与目标群组的实际类型一致，否则会操作失败"}),s.jsx("li",{children:"解散群组后，所有群成员都会收到群组解散的通知"}),s.jsx("li",{children:s.jsx("strong",{children:"建议先通过 V2NIMTeamService.getJoinedTeamList 确认群组存在"})}),s.jsx("li",{children:"解散群组会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:"解散群组不会删除本地的聊天记录"}),s.jsx("li",{children:s.jsx("strong",{children:"请确保你确实需要解散群组，此操作无法撤销"})})]})})]})},iL={teamTypes:[]},BT="V2NIMTeamService.getJoinedTeamList",D$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState([]),g=(()=>{try{const w=localStorage.getItem(BT);if(w){const O=JSON.parse(w);return{...iL,...O}}}catch(w){console.error("Failed to parse stored values:",w)}return iL})(),v=async w=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}n(!0);const{teamTypes:O}=w,R=O.length>0?O:void 0;console.log("API V2NIMTeamService.getJoinedTeamList execute, params:",R);const[D,j]=await Kn(()=>{var L;return(L=window.nim)==null?void 0:L.V2NIMTeamService.getJoinedTeamList(R)});D?(ie.error(`获取已加入群组列表失败: ${D.toString()}`),console.error("获取已加入群组列表失败:",D.toString()),i([])):(ie.success(`获取已加入群组列表成功，共 ${(j==null?void 0:j.length)||0} 个群组`),console.log("获取已加入群组列表成功, 结果:",j),i(j||[])),n(!1),localStorage.setItem(BT,JSON.stringify(w))},S=()=>{localStorage.removeItem(BT),e.setFieldsValue(iL),i([]),ie.success("数据已重置")},I=()=>{const w=e.getFieldsValue(),{teamTypes:O}=w,R=O.length>0?O:void 0,D=R?`await window.nim.V2NIMTeamService.getJoinedTeamList(${JSON.stringify(R)});`:"await window.nim.V2NIMTeamService.getJoinedTeamList();";console.log("V2NIMTeamService.getJoinedTeamList 调用语句:"),console.log(D),ie.success("调用语句已输出到控制台")},T=w=>w?new Date(w).toLocaleString():"-",_=w=>{switch(w){case 1:return"高级群";case 2:return"超大群";default:return`未知(${w})`}},N=(w,O)=>{switch(O){case"join":return w===0?"自由加入":w===1?"需申请":"仅邀请";case"agree":return w===0?"需要同意":"不需要同意";case"invite":return w===0?"所有人":"仅管理员";case"updateInfo":return w===0?"所有人":"仅管理员";case"updateExtension":return w===0?"所有人":"仅管理员";case"chatBanned":return w===0?"不禁言":"全员禁言";default:return String(w)}},A=[{title:"群组ID",dataIndex:"teamId",key:"teamId",width:"12%",render:w=>s.jsx(ln,{color:"blue",children:w})},{title:"群组名称",dataIndex:"name",key:"name",width:"15%",ellipsis:!0},{title:"群组类型",dataIndex:"teamType",key:"teamType",width:"8%",render:w=>s.jsx(ln,{color:w===1?"green":"orange",children:_(w)})},{title:"群主",dataIndex:"ownerAccountId",key:"ownerAccountId",width:"10%",ellipsis:!0},{title:"人数",key:"memberInfo",width:"8%",render:(w,O)=>`${O.memberCount}/${O.memberLimit}`},{title:"群组头像",dataIndex:"avatar",key:"avatar",width:"8%",render:w=>w?s.jsx("img",{src:w,alt:"群头像",style:{width:32,height:32,borderRadius:"50%"}}):s.jsx("div",{style:{width:32,height:32,borderRadius:"50%",backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#999"},children:"无"})},{title:"介绍",dataIndex:"intro",key:"intro",width:"12%",ellipsis:!0,render:w=>w||"-"},{title:"公告",dataIndex:"announcement",key:"announcement",width:"12%",ellipsis:!0,render:w=>w||"-"},{title:"入群模式",dataIndex:"joinMode",key:"joinMode",width:"8%",render:w=>s.jsx(ln,{color:"cyan",style:{fontSize:"10px"},children:N(w,"join")})},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:"12%",render:w=>T(w)},{title:"有效性",dataIndex:"isValidTeam",key:"isValidTeam",width:"8%",render:w=>s.jsx(ln,{color:w?"green":"red",children:w?"有效":"无效"})}];return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:v,style:{marginTop:24},initialValues:g,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:BT})})},"api"),s.jsx(Ie.Item,{label:"群组类型",name:"teamTypes",tooltip:"不选择任何类型时，将获取所有类型的群组",children:s.jsxs(Ys.Group,{children:[s.jsx(Ys,{value:1,children:"高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx(Ys,{value:2,children:"超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"获取已加入群组列表"}),s.jsx(Ze,{type:"default",onClick:S,children:"清空数据"}),s.jsx(Ze,{type:"default",onClick:I,children:"输出调用语句"})]})})]}),r.length>0&&s.jsx(_t,{title:`已加入群组列表 (共 ${r.length} 个群组)`,style:{marginTop:24},children:s.jsx(fs,{columns:A,dataSource:r,rowKey:"teamId",pagination:{total:r.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:w=>`共 ${w} 个群组`},size:"small",scroll:{x:"max-content"}})}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"此接口用于获取当前用户已加入的群组列表"}),s.jsx("li",{children:"返回的数据是数组形式的 V2NIMTeam 对象列表"}),s.jsx("li",{children:"可以通过 teamTypes 参数筛选特定类型的群组，不传则获取所有类型"}),s.jsx("li",{children:"表格支持分页和排序，方便查看大量群组数据"}),s.jsx("li",{children:"只返回群组有效且自己在群中的群组信息"}),s.jsx("li",{children:"群组信息包含基本信息、权限设置、成员统计等详细数据"})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"此接口的数据来源是数据同步时下发的群组信息"})}),s.jsx("li",{children:"因此调用时机需要等待 V2NIMLoginService 的 onDataSync 事件，数据同步完毕后才能调用"}),s.jsx("li",{children:"只会返回群组有效且自己在群中的群组，已解散或已退出的群组不会出现在列表中"}),s.jsx("li",{children:"群组信息会根据群组的实际变更进行实时更新"})]})}),s.jsxs(_t,{title:"V2NIMTeam 数据结构说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"基础字段："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"teamId:"})," 群组ID，唯一标识"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamType:"})," 群组类型（1-高级群, 2-超大群）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"name:"})," 群组名称"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"ownerAccountId:"})," 群主账号ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"memberLimit:"})," 群组人数上限"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"memberCount:"})," 群组当前人数"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"createTime/updateTime:"})," 创建和更新时间"]})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"描述信息："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"intro:"})," 群组介绍，最多255个字符"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"announcement:"})," 群组公告，最多5000个字符"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"avatar:"})," 群组头像URL"]})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"权限设置："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"joinMode:"})," 申请入群模式（0-自由加入, 1-需申请, 2-仅邀请）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"agreeMode:"})," 被邀请人同意模式（0-需要同意, 1-不需要同意）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"inviteMode:"})," 邀请入群模式（0-所有人, 1-仅管理员）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"updateInfoMode:"})," 群信息修改模式（0-所有人, 1-仅管理员）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"chatBannedMode:"})," 群禁言模式（0-不禁言, 1-全员禁言）"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"扩展字段："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"serverExtension:"})," 服务端扩展字段"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"customerExtension:"})," 客户端扩展字段"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"isValidTeam:"})," 是否为有效群组（计算字段）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"messageNotifyMode:"})," 群消息提醒模式（计算字段）"]})]})]})]})]})},oL={teamIds:"",teamType:1},FT="V2NIMTeamService.getTeamInfoByIds",j$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState([]),g=(()=>{try{const w=localStorage.getItem(FT);if(w){const O=JSON.parse(w);return{...oL,...O}}}catch(w){console.error("Failed to parse stored values:",w)}return oL})(),v=async w=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}if(!w.teamIds.trim()){ie.error("请输入群组ID");return}n(!0);const{teamIds:O,teamType:R}=w,D=O.split(",").map(U=>U.trim()).filter(U=>U.length>0);if(D.length===0){ie.error("请输入有效的群组ID"),n(!1);return}if(D.length>100){ie.error("每次最多查询100个群组ID"),n(!1);return}console.log("API V2NIMTeamService.getTeamInfoByIds execute, params:",{teamIds:D,teamType:R});const[j,L]=await Kn(()=>{var U;return(U=window.nim)==null?void 0:U.V2NIMTeamService.getTeamInfoByIds(D,R)});j?(ie.error(`根据ID获取群组信息失败: ${j.toString()}`),console.error("根据ID获取群组信息失败:",j.toString()),i([])):(ie.success(`根据ID获取群组信息成功，共找到 ${(L==null?void 0:L.length)||0} 个群组`),console.log("根据ID获取群组信息成功, 结果:",L),i(L||[])),n(!1),localStorage.setItem(FT,JSON.stringify(w))},S=()=>{localStorage.removeItem(FT),e.setFieldsValue(oL),i([]),ie.success("数据已重置")},I=()=>{const w=e.getFieldsValue(),{teamIds:O,teamType:R}=w,D=O.split(",").map(L=>L.trim()).filter(L=>L.length>0),j=`await window.nim.V2NIMTeamService.getTeamInfoByIds(${JSON.stringify(D)}, ${R});`;console.log("V2NIMTeamService.getTeamInfoByIds 调用语句:"),console.log(j),ie.success("调用语句已输出到控制台")},T=w=>w?new Date(w).toLocaleString():"-",_=w=>{switch(w){case 1:return"高级群";case 2:return"超大群";default:return`未知(${w})`}},N=(w,O)=>{switch(O){case"join":return w===0?"自由加入":w===1?"需申请":"仅邀请";case"agree":return w===0?"需要同意":"不需要同意";case"invite":return w===0?"所有人":"仅管理员";case"updateInfo":return w===0?"所有人":"仅管理员";case"updateExtension":return w===0?"所有人":"仅管理员";case"chatBanned":return w===0?"不禁言":"全员禁言";default:return String(w)}},A=[{title:"群组ID",dataIndex:"teamId",key:"teamId",width:"12%",render:w=>s.jsx(ln,{color:"blue",children:w})},{title:"群组名称",dataIndex:"name",key:"name",width:"15%",ellipsis:!0},{title:"群组类型",dataIndex:"teamType",key:"teamType",width:"8%",render:w=>s.jsx(ln,{color:w===1?"green":"orange",children:_(w)})},{title:"群主",dataIndex:"ownerAccountId",key:"ownerAccountId",width:"10%",ellipsis:!0},{title:"人数",key:"memberInfo",width:"8%",render:(w,O)=>`${O.memberCount}/${O.memberLimit}`},{title:"群组头像",dataIndex:"avatar",key:"avatar",width:"8%",render:w=>w?s.jsx("img",{src:w,alt:"群头像",style:{width:32,height:32,borderRadius:"50%"}}):s.jsx("div",{style:{width:32,height:32,borderRadius:"50%",backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#999"},children:"无"})},{title:"介绍",dataIndex:"intro",key:"intro",width:"12%",ellipsis:!0,render:w=>w||"-"},{title:"公告",dataIndex:"announcement",key:"announcement",width:"12%",ellipsis:!0,render:w=>w||"-"},{title:"入群模式",dataIndex:"joinMode",key:"joinMode",width:"8%",render:w=>s.jsx(ln,{color:"cyan",style:{fontSize:"10px"},children:N(w,"join")})},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:"12%",render:w=>T(w)},{title:"有效性",dataIndex:"isValidTeam",key:"isValidTeam",width:"8%",render:w=>s.jsx(ln,{color:w?"green":"red",children:w?"有效":"无效"})}];return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:v,style:{marginTop:24},initialValues:g,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:FT})})},"api"),s.jsx(Ie.Item,{label:"群组ID列表",name:"teamIds",rules:[{required:!0,message:"请输入群组ID"}],tooltip:"多个群组ID用英文逗号分隔，每次最多100个群组ID",children:s.jsx(yn.TextArea,{placeholder:"请输入群组ID，多个ID用英文逗号分隔，例如：123456,789012,456789",rows:3,showCount:!0,maxLength:2e3})}),s.jsx(Ie.Item,{label:"群组类型",name:"teamType",rules:[{required:!0,message:"请选择群组类型"}],tooltip:"指定要查询的群组类型",children:s.jsxs(Dr.Group,{children:[s.jsx(Dr,{value:1,children:"高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx(Dr,{value:2,children:"超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"根据ID获取群组信息"}),s.jsx(Ze,{type:"default",onClick:S,children:"清空数据"}),s.jsx(Ze,{type:"default",onClick:I,children:"输出调用语句"})]})})]}),r.length>0&&s.jsx(_t,{title:`群组信息列表 (共 ${r.length} 个群组)`,style:{marginTop:24},children:s.jsx(fs,{columns:A,dataSource:r,rowKey:"teamId",pagination:{total:r.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:w=>`共 ${w} 个群组`},size:"small",scroll:{x:"max-content"}})}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"此接口用于根据群组ID列表获取群组信息"}),s.jsx("li",{children:"每次最多可查询100个群组ID"}),s.jsx("li",{children:"先查本地数据，本地缺失再查询云端"}),s.jsx("li",{children:"返回的数据是数组形式的 V2NIMTeam 对象列表"}),s.jsx("li",{children:"需要指定群组类型参数，只返回对应类型的群组信息"}),s.jsx("li",{children:"如果群组不存在或无权限访问，该群组不会出现在结果中"})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"此接口采用混合查询策略：先查本地数据，本地缺失再查询云端"})}),s.jsx("li",{children:"每次最多支持查询100个群组ID，超出限制会返回错误"}),s.jsx("li",{children:"只返回指定类型且有权限访问的群组信息"}),s.jsx("li",{children:"不存在的群组ID或无权限访问的群组不会出现在结果中"}),s.jsx("li",{children:"建议在调用前确保已完成数据同步，以获得更准确的本地数据"})]})}),s.jsxs(_t,{title:"V2NIMTeam 数据结构说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"基础字段："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"teamId:"})," 群组ID，唯一标识"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamType:"})," 群组类型（1-高级群, 2-超大群）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"name:"})," 群组名称"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"ownerAccountId:"})," 群主账号ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"memberLimit:"})," 群组人数上限"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"memberCount:"})," 群组当前人数"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"createTime/updateTime:"})," 创建和更新时间"]})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"描述信息："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"intro:"})," 群组介绍，最多255个字符"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"announcement:"})," 群组公告，最多5000个字符"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"avatar:"})," 群组头像URL"]})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"权限设置："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"joinMode:"})," 申请入群模式（0-自由加入, 1-需申请, 2-仅邀请）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"agreeMode:"})," 被邀请人同意模式（0-需要同意, 1-不需要同意）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"inviteMode:"})," 邀请入群模式（0-所有人, 1-仅管理员）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"updateInfoMode:"})," 群信息修改模式（0-所有人, 1-仅管理员）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"chatBannedMode:"})," 群禁言模式（0-不禁言, 1-全员禁言）"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"扩展字段："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"serverExtension:"})," 服务端扩展字段"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"customerExtension:"})," 客户端扩展字段"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"isValidTeam:"})," 是否为有效群组（计算字段）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"messageNotifyMode:"})," 群消息提醒模式（计算字段）"]})]})]})]})]})},sL={teamId:"",teamType:1,roleQueryType:0,onlyChatBanned:!1,direction:1,limit:20,nextToken:""},qT="V2NIMTeamService.getTeamMemberList",V$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState([]),[v,S]=E.useState([]),[I,T]=E.useState({nextToken:"",finished:!0}),[_,N]=E.useState(0),A=E.useRef(!1),O=(()=>{try{const X=localStorage.getItem(qT);if(X){const re=JSON.parse(X);return{...sL,...re}}}catch(X){console.error("Failed to parse stored values:",X)}return sL})(),R=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0);const[X,re]=await Kn(()=>{var ee;return(ee=window.nim)==null?void 0:ee.V2NIMTeamService.getJoinedTeamList()});if(X)ie.error(`获取群组列表失败: ${X.toString()}`),console.error("获取群组列表失败:",X),g([]);else{console.log("获取群组列表成功, 结果:",re);const ee=(re||[]).filter(ae=>ae.isValidTeam);g(ee)}i(!1)};E.useEffect(()=>{!A.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(A.current=!0,R())},[]);const D=X=>{const re=d.find(ee=>ee.teamId===X);re&&e.setFieldsValue({teamId:X,teamType:re.teamType})},j=async X=>{var fe,_e;if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{teamId:re,teamType:ee,roleQueryType:ae,onlyChatBanned:de,direction:he,limit:ue,nextToken:ye}=X;if(!re.trim()){ie.error("请输入或选择群组ID");return}n(!0);const be={roleQueryType:ae,onlyChatBanned:de,direction:he,limit:ue,nextToken:ye.trim()};console.log("API V2NIMTeamService.getTeamMemberList execute, params:",{teamId:re,teamType:ee,queryOption:be});const[oe,pe]=await Kn(()=>{var Te;return(Te=window.nim)==null?void 0:Te.V2NIMTeamService.getTeamMemberList(re,ee,be)});if(oe)ie.error(`获取群成员列表失败: ${oe.toString()}`),console.error("获取群成员列表失败:",oe.toString()),S([]),T({nextToken:"",finished:!0}),N(0);else{const Te=pe;ie.success(`获取群成员列表成功，当前页 ${((fe=Te==null?void 0:Te.memberList)==null?void 0:fe.length)||0} 个成员`),console.log("获取群成员列表成功, 结果:",Te),S((Te==null?void 0:Te.memberList)||[]),T({nextToken:(Te==null?void 0:Te.nextToken)||"",finished:(Te==null?void 0:Te.finished)||!0}),N((((_e=Te==null?void 0:Te.memberList)==null?void 0:_e.length)||0)+(_||0))}n(!1),localStorage.setItem(qT,JSON.stringify(X))},L=()=>{if(I.finished){ie.info("已经是最后一页了");return}const X=e.getFieldsValue();e.setFieldsValue({...X,nextToken:I.nextToken}),j({...X,nextToken:I.nextToken})},U=()=>{localStorage.removeItem(qT),e.setFieldsValue(sL),S([]),T({nextToken:"",finished:!0}),N(0),ie.success("数据已重置")},$=()=>{R()},F=()=>{const X=e.getFieldsValue(),{teamId:re,teamType:ee,roleQueryType:ae,onlyChatBanned:de,direction:he,limit:ue,nextToken:ye}=X;if(!re.trim()){ie.error("请先输入或选择群组ID");return}const be={roleQueryType:ae,onlyChatBanned:de,direction:he,limit:ue,nextToken:ye.trim()},oe=`await window.nim.V2NIMTeamService.getTeamMemberList("${re}", ${ee}, ${JSON.stringify(be)});`;console.log("V2NIMTeamService.getTeamMemberList 调用语句:"),console.log(oe),ie.success("调用语句已输出到控制台")},z=X=>X?new Date(X).toLocaleString():"-",H=X=>{switch(X){case 1:return"高级群";case 2:return"超大群";default:return`未知(${X})`}},V=X=>{switch(X){case 0:return"普通成员";case 1:return"群主";case 2:return"管理员";default:return`未知(${X})`}},K=X=>{switch(X){case 0:return"default";case 1:return"red";case 2:return"orange";default:return"default"}},J=[{label:"所有成员",value:0},{label:"普通成员",value:1},{label:"管理员(包括群主)",value:2}],te=[{label:"升序",value:0},{label:"降序",value:1}],Z=[{title:"账号ID",dataIndex:"accountId",key:"accountId",width:"15%",render:X=>s.jsx(ln,{color:"blue",children:X})},{title:"群昵称",dataIndex:"teamNick",key:"teamNick",width:"15%",ellipsis:!0,render:X=>X||"-"},{title:"成员角色",dataIndex:"memberRole",key:"memberRole",width:"10%",render:X=>s.jsx(ln,{color:K(X),children:V(X)})},{title:"在群状态",dataIndex:"inTeam",key:"inTeam",width:"8%",render:X=>s.jsx(ln,{color:X?"green":"red",children:X?"在群中":"已退群"})},{title:"禁言状态",dataIndex:"chatBanned",key:"chatBanned",width:"8%",render:X=>s.jsx(ln,{color:X?"red":"green",children:X?"禁言":"正常"})},{title:"头像",dataIndex:"avatar",key:"avatar",width:"8%",render:X=>X?s.jsx("img",{src:X,alt:"头像",style:{width:32,height:32,borderRadius:"50%"}}):s.jsx("div",{style:{width:32,height:32,borderRadius:"50%",backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#999"},children:"无"})},{title:"邀请者",dataIndex:"inviterAccountId",key:"inviterAccountId",width:"12%",ellipsis:!0,render:X=>X||"-"},{title:"加入时间",dataIndex:"joinTime",key:"joinTime",width:"12%",render:X=>z(X)},{title:"更新时间",dataIndex:"updateTime",key:"updateTime",width:"12%",render:X=>z(X)}];return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:j,style:{marginTop:24},initialValues:O,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:qT})})},"api"),s.jsx(Ie.Item,{label:"群组列表",children:s.jsx(on,{direction:"vertical",style:{width:"100%"},children:s.jsxs(on,{children:[s.jsx(Ze,{onClick:$,loading:r,size:"small",children:"刷新群组列表"}),s.jsx("span",{style:{color:"#666",fontSize:"12px"},children:r?"正在获取...":`共 ${d.length} 个群组`})]})})}),s.jsx(Ie.Item,{label:"群组ID",name:"teamId",rules:[{required:!0,message:"请输入或选择群组ID"}],tooltip:"可以从下拉列表中选择，也可以手动输入群组ID",children:s.jsx(an,{placeholder:"请输入或选择群组ID",showSearch:!0,allowClear:!0,onSelect:D,loading:r,dropdownRender:X=>s.jsxs("div",{children:[X,s.jsx("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",size:"small",onClick:$,loading:r,style:{padding:0},children:"刷新群组列表"})})]}),notFoundContent:r?"正在获取群组列表...":"暂无可用群组",children:d.map(X=>s.jsxs(an.Option,{value:X.teamId,children:[X.name||X.teamId," (",H(X.teamType),") - ",X.teamId]},X.teamId))})}),s.jsx(Ie.Item,{label:"群组类型",name:"teamType",rules:[{required:!0,message:"请选择群组类型"}],tooltip:"必须与要查询的群组类型一致",children:s.jsxs(Dr.Group,{children:[s.jsx(Dr,{value:1,children:"高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx(Dr,{value:2,children:"超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})}),s.jsx(Ie.Item,{label:"角色查询类型",name:"roleQueryType",rules:[{required:!0,message:"请选择角色查询类型"}],tooltip:"选择要查询的成员角色类型",children:s.jsx(Dr.Group,{options:J})}),s.jsx(Ie.Item,{label:"仅禁言成员",name:"onlyChatBanned",valuePropName:"checked",tooltip:"是否只返回聊天禁言成员列表",children:s.jsx(ds,{checkedChildren:"是",unCheckedChildren:"否"})}),s.jsx(Ie.Item,{label:"查询方向",name:"direction",rules:[{required:!0,message:"请选择查询方向"}],tooltip:"查询结果的排序方向",children:s.jsx(Dr.Group,{options:te})}),s.jsx(Ie.Item,{label:"分页数量",name:"limit",rules:[{required:!0,message:"请输入分页数量"},{type:"number",min:1,max:100,message:"分页数量必须在1-100之间"}],tooltip:"单页返回的成员数量，建议不超过100",children:s.jsx(Rc,{min:1,max:100,style:{width:"100%"}})}),s.jsx(Ie.Item,{label:"分页Token",name:"nextToken",tooltip:"分页偏移量，首次查询传空字符串，后续使用上一次返回的nextToken",children:s.jsx(yn,{placeholder:"首次查询请留空，后续查询使用上一次返回的nextToken"})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"获取群成员列表"}),s.jsx(Ze,{type:"default",onClick:L,disabled:I.finished||t,children:"加载下一页"}),s.jsx(Ze,{type:"default",onClick:U,children:"清空数据"}),s.jsx(Ze,{type:"default",onClick:F,children:"输出调用语句"})]})})]}),v.length>0&&s.jsx(_t,{size:"small",style:{marginTop:16},children:s.jsxs(on,{children:[s.jsxs(ln,{color:"blue",children:["当前页: ",v.length," 个成员"]}),s.jsx(ln,{color:I.finished?"green":"orange",children:I.finished?"已加载完毕":"还有更多数据"}),!I.finished&&s.jsxs(ln,{color:"purple",children:["NextToken: ",I.nextToken]})]})}),v.length>0&&s.jsx(_t,{title:`群成员列表 (当前页 ${v.length} 个成员)`,style:{marginTop:16},children:s.jsx(fs,{columns:Z,dataSource:v,rowKey:"accountId",pagination:!1,size:"small",scroll:{x:"max-content"}})}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"此接口用于分页获取指定群组的成员列表"}),s.jsx("li",{children:"支持按成员角色类型筛选（所有成员、普通成员、管理员）"}),s.jsx("li",{children:"支持只获取被禁言的成员列表"}),s.jsx("li",{children:"支持设置查询方向（升序/降序）和分页大小"}),s.jsx("li",{children:"首次查询时 nextToken 传空字符串，后续分页使用返回的 nextToken"}),s.jsx("li",{children:"分页大小建议不超过100，避免单次请求数据过多"}),s.jsx("li",{children:"返回结果包含成员的详细信息，如角色、禁言状态、加入时间等"}),s.jsx("li",{children:'可以使用"加载下一页"按钮继续获取后续数据'})]})}),s.jsxs(_t,{title:"API 参数说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"基础参数："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"teamId (string):"})," 群组ID，必填"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamType (V2NIMTeamType):"})," 群组类型，必填",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"1: 高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx("li",{children:"2: 超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})]})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"查询选项 (V2NIMTeamMemberQueryOption)："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"roleQueryType (V2NIMTeamMemberRoleQueryType):"})," 成员角色查询类型",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"0: 所有成员 (V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_ALL)"}),s.jsx("li",{children:"1: 普通成员 (V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_NORMAL)"}),s.jsx("li",{children:"2: 管理员(包括群主) (V2NIM_TEAM_MEMBER_ROLE_QUERY_TYPE_MANAGER)"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"onlyChatBanned (boolean):"})," 是否只返回聊天禁言成员列表，默认 false"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"direction (V2NIMQueryDirection):"})," 查询方向",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"0: 升序 (V2NIM_QUERY_DIRECTION_ASC)"}),s.jsx("li",{children:"1: 降序 (V2NIM_QUERY_DIRECTION_DESC)"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"limit (number):"})," 分页拉取数量，建议不超过100"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"nextToken (string):"})," 分页偏移量，首次传空字符串"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"返回结果 (V2NIMTeamMemberListResult)："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"memberList (V2NIMTeamMember[]):"})," 成员列表"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"nextToken (string):"})," 下一页的分页标记"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"finished (boolean):"})," 是否已获取完所有数据"]})]})]})]}),s.jsxs(_t,{title:"V2NIMTeamMember 数据结构说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"基础字段："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"accountId:"})," 成员账号ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamId:"})," 群组ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamNick:"})," 群昵称"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"memberRole:"})," 成员角色（0-普通成员, 1-群主, 2-管理员）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"inTeam:"})," 是否在群中"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"chatBanned:"})," 是否被禁言"]})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"时间字段："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"joinTime:"})," 加入群组时间"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"updateTime:"})," 信息更新时间"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"其他字段："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"inviterAccountId:"})," 邀请者账号ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"avatar:"})," 成员头像URL"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"serverExtension:"})," 服务端扩展字段"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"customerExtension:"})," 客户端扩展字段"]})]})]})]}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保已登录并完成数据同步"})}),s.jsx("li",{children:"群组ID和群组类型必须准确匹配，否则会查询失败"}),s.jsx("li",{children:"分页大小建议不超过100，避免单次请求数据过多影响性能"}),s.jsx("li",{children:"首次查询时 nextToken 必须传空字符串，后续分页使用返回的 nextToken"}),s.jsx("li",{children:"查询结果会受到成员权限限制，某些情况下可能无法获取完整信息"}),s.jsx("li",{children:s.jsx("strong",{children:"只能查询自己有权限查看的群组成员信息"})}),s.jsx("li",{children:"成员列表会根据实际的成员变动进行实时更新"}),s.jsx("li",{children:"大群的成员数量可能很多，建议合理设置分页大小"})]})})]})},lL={teamId:"",teamType:1,accountIds:""},zT="V2NIMTeamService.getTeamMemberListByIds",$$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState([]),[v,S]=E.useState([]),I=E.useRef(!1),_=(()=>{try{const V=localStorage.getItem(zT);if(V){const K=JSON.parse(V);return{...lL,...K}}}catch(V){console.error("Failed to parse stored values:",V)}return lL})(),N=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0);const[V,K]=await Kn(()=>{var J;return(J=window.nim)==null?void 0:J.V2NIMTeamService.getJoinedTeamList()});if(V)ie.error(`获取群组列表失败: ${V.toString()}`),console.error("获取群组列表失败:",V),g([]);else{console.log("获取群组列表成功, 结果:",K);const J=(K||[]).filter(te=>te.isValidTeam);g(J)}i(!1)};E.useEffect(()=>{!I.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(I.current=!0,N())},[]);const A=V=>{const K=d.find(J=>J.teamId===V);K&&e.setFieldsValue({teamId:V,teamType:K.teamType})},w=V=>V.trim()?V.split(/[,;，；\n\s]+/).map(K=>K.trim()).filter(K=>K.length>0):[],O=async V=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{teamId:K,teamType:J,accountIds:te}=V;if(!K.trim()){ie.error("请输入或选择群组ID");return}if(!te.trim()){ie.error("请输入要查询的账号ID列表");return}const Z=w(te);if(Z.length===0){ie.error("请输入有效的账号ID列表");return}if(Z.length>100){ie.error("一次最多支持查询100个账号ID");return}n(!0),console.log("API V2NIMTeamService.getTeamMemberListByIds execute, params:",{teamId:K,teamType:J,accountIds:Z});const[X,re]=await Kn(()=>{var ee;return(ee=window.nim)==null?void 0:ee.V2NIMTeamService.getTeamMemberListByIds(K,J,Z)});if(X)ie.error(`根据ID获取群成员列表失败: ${X.toString()}`),console.error("根据ID获取群成员列表失败:",X.toString()),S([]);else{const ee=re||[];ie.success(`根据ID获取群成员列表成功，找到 ${ee.length} 个成员（共查询 ${Z.length} 个ID）`),console.log("根据ID获取群成员列表成功, 结果:",ee),S(ee)}n(!1),localStorage.setItem(zT,JSON.stringify(V))},R=()=>{localStorage.removeItem(zT),e.setFieldsValue(lL),S([]),ie.success("数据已重置")},D=()=>{N()},j=()=>{const V=e.getFieldsValue(),{teamId:K,teamType:J,accountIds:te}=V;if(!K.trim()){ie.error("请先输入或选择群组ID");return}if(!te.trim()){ie.error("请先输入要查询的账号ID列表");return}const Z=w(te);if(Z.length===0){ie.error("请输入有效的账号ID列表");return}const X=`await window.nim.V2NIMTeamService.getTeamMemberListByIds("${K}", ${J}, ${JSON.stringify(Z)});`;console.log("V2NIMTeamService.getTeamMemberListByIds 调用语句:"),console.log(X),ie.success("调用语句已输出到控制台")},L=V=>V?new Date(V).toLocaleString():"-",U=V=>{switch(V){case 1:return"高级群";case 2:return"超大群";default:return`未知(${V})`}},$=V=>{switch(V){case 0:return"普通成员";case 1:return"群主";case 2:return"管理员";default:return`未知(${V})`}},F=V=>{switch(V){case 0:return"default";case 1:return"red";case 2:return"orange";default:return"default"}},z=V=>{var te;const K=e.getFieldValue("accountIds")||"";let J="";if(V==="current"){const Z=(te=window.nim)==null?void 0:te.V2NIMLoginService.getLoginUser();if(Z)J=K?`${K}
${Z}`:Z;else{ie.error("无法获取当前用户ID");return}}else if(V==="sample"){const Z="user001, user002, user003";J=K?`${K}
${Z}`:Z}e.setFieldsValue({accountIds:J})},H=[{title:"账号ID",dataIndex:"accountId",key:"accountId",width:"15%",render:V=>s.jsx(ln,{color:"blue",children:V})},{title:"群昵称",dataIndex:"teamNick",key:"teamNick",width:"15%",ellipsis:!0,render:V=>V||"-"},{title:"成员角色",dataIndex:"memberRole",key:"memberRole",width:"10%",render:V=>s.jsx(ln,{color:F(V),children:$(V)})},{title:"在群状态",dataIndex:"inTeam",key:"inTeam",width:"8%",render:V=>s.jsx(ln,{color:V?"green":"red",children:V?"在群中":"已退群"})},{title:"禁言状态",dataIndex:"chatBanned",key:"chatBanned",width:"8%",render:V=>s.jsx(ln,{color:V?"red":"green",children:V?"禁言":"正常"})},{title:"头像",dataIndex:"avatar",key:"avatar",width:"8%",render:V=>V?s.jsx("img",{src:V,alt:"头像",style:{width:32,height:32,borderRadius:"50%"}}):s.jsx("div",{style:{width:32,height:32,borderRadius:"50%",backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#999"},children:"无"})},{title:"邀请者",dataIndex:"inviterAccountId",key:"inviterAccountId",width:"12%",ellipsis:!0,render:V=>V||"-"},{title:"加入时间",dataIndex:"joinTime",key:"joinTime",width:"12%",render:V=>L(V)},{title:"更新时间",dataIndex:"updateTime",key:"updateTime",width:"12%",render:V=>L(V)}];return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:O,style:{marginTop:24},initialValues:_,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:zT})})},"api"),s.jsx(Ie.Item,{label:"群组列表",children:s.jsx(on,{direction:"vertical",style:{width:"100%"},children:s.jsxs(on,{children:[s.jsx(Ze,{onClick:D,loading:r,size:"small",children:"刷新群组列表"}),s.jsx("span",{style:{color:"#666",fontSize:"12px"},children:r?"正在获取...":`共 ${d.length} 个群组`})]})})}),s.jsx(Ie.Item,{label:"群组ID",name:"teamId",rules:[{required:!0,message:"请输入或选择群组ID"}],tooltip:"可以从下拉列表中选择，也可以手动输入群组ID",children:s.jsx(an,{placeholder:"请输入或选择群组ID",showSearch:!0,allowClear:!0,onSelect:A,loading:r,dropdownRender:V=>s.jsxs("div",{children:[V,s.jsx("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",size:"small",onClick:D,loading:r,style:{padding:0},children:"刷新群组列表"})})]}),notFoundContent:r?"正在获取群组列表...":"暂无可用群组",children:d.map(V=>s.jsxs(an.Option,{value:V.teamId,children:[V.name||V.teamId," (",U(V.teamType),") - ",V.teamId]},V.teamId))})}),s.jsx(Ie.Item,{label:"群组类型",name:"teamType",rules:[{required:!0,message:"请选择群组类型"}],tooltip:"必须与要查询的群组类型一致",children:s.jsxs(Dr.Group,{children:[s.jsx(Dr,{value:1,children:"高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx(Dr,{value:2,children:"超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})}),s.jsx(Ie.Item,{label:"账号ID列表",name:"accountIds",rules:[{required:!0,message:"请输入要查询的账号ID列表"}],tooltip:"支持多种分隔符：逗号、分号、换行符、空格。一次最多支持100个ID",children:s.jsx(yn.TextArea,{placeholder:`请输入要查询的账号ID列表，支持多种分隔符
例如：user001, user002; user003
或者每行一个ID`,rows:4,showCount:!0,maxLength:1e4})}),s.jsx(Ie.Item,{label:"便捷操作",children:s.jsxs(on,{wrap:!0,children:[s.jsx(Ze,{size:"small",onClick:()=>z("current"),children:"添加当前用户ID"}),s.jsx(Ze,{size:"small",onClick:()=>z("sample"),children:"添加示例ID"}),s.jsx(Ze,{size:"small",onClick:()=>{const V=e.getFieldValue("accountIds")||"",K=w(V);K.length>0?ie.info(`解析出 ${K.length} 个账号ID: ${K.slice(0,5).join(", ")}${K.length>5?"...":""}`):ie.warning("未解析出有效的账号ID")},children:"解析预览"})]})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"根据ID获取群成员"}),s.jsx(Ze,{type:"default",onClick:R,children:"清空数据"}),s.jsx(Ze,{type:"default",onClick:j,children:"输出调用语句"})]})})]}),v.length>0&&s.jsx(_t,{size:"small",style:{marginTop:16},children:s.jsxs(on,{children:[s.jsxs(ln,{color:"blue",children:["查询到: ",v.length," 个成员"]}),s.jsxs(ln,{color:"green",children:["在群中: ",v.filter(V=>V.inTeam).length," 个"]}),s.jsxs(ln,{color:"red",children:["已退群: ",v.filter(V=>!V.inTeam).length," 个"]}),s.jsxs(ln,{color:"orange",children:["被禁言: ",v.filter(V=>V.chatBanned).length," 个"]})]})}),v.length>0&&s.jsx(_t,{title:`群成员详情 (${v.length} 个成员)`,style:{marginTop:16},children:s.jsx(fs,{columns:H,dataSource:v,rowKey:"accountId",pagination:{total:v.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:V=>`共 ${V} 个成员`},size:"small",scroll:{x:"max-content"}})}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"此接口用于根据账号ID列表批量获取指定群组的成员信息"}),s.jsxs("li",{children:[s.jsx("strong",{children:"输入格式："}),"支持多种分隔符（逗号、分号、换行符、空格）",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"逗号分隔：user001, user002, user003"}),s.jsx("li",{children:"分号分隔：user001; user002; user003"}),s.jsx("li",{children:"换行分隔：每行一个账号ID"}),s.jsx("li",{children:"混合分隔：user001, user002; user003"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"数量限制："}),"一次最多支持查询100个账号ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"查询结果："}),"只返回实际在群中或曾经在群中的成员信息"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"便捷操作："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:'可以使用"添加当前用户ID"快速添加自己的账号'}),s.jsx("li",{children:'可以使用"添加示例ID"快速添加测试数据'}),s.jsx("li",{children:'可以使用"解析预览"查看将要查询的账号ID列表'})]})]}),s.jsx("li",{children:"适用于精确查询特定成员的群组状态和详细信息"})]})}),s.jsxs(_t,{title:"API 参数说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("h4",{children:"基础参数："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"teamId (string):"})," 群组ID，必填"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamType (V2NIMTeamType):"})," 群组类型，必填",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"1: 高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx("li",{children:"2: 超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"accountIds (string[]):"})," 成员的账号ID列表，必填",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"数组格式，每个元素为字符串类型的账号ID"}),s.jsx("li",{children:"一批传入最多支持100个账号ID"}),s.jsx("li",{children:"不存在的账号ID会被忽略，不会在结果中返回"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"返回结果："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"V2NIMTeamMember[]:"})," 群成员列表数组"]}),s.jsx("li",{children:"只返回实际存在且与群组有关联的成员信息"}),s.jsx("li",{children:"不存在的账号ID或从未加入过该群组的账号不会出现在结果中"}),s.jsx("li",{children:"已退群的成员信息仍会返回，但 inTeam 字段为 false"})]})]})]}),s.jsx(_t,{title:"与 getTeamMemberList 接口对比",style:{marginTop:16},size:"small",children:s.jsxs("div",{style:{display:"flex",gap:"20px"},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("h4",{style:{color:"#1890ff"},children:"getTeamMemberListByIds (当前接口)"}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"查询方式："}),"根据指定的账号ID列表查询"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"查询精度："}),"精确查询，只返回指定ID的成员"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"数量限制："}),"一次最多100个ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"分页支持："}),"不支持分页，一次返回所有匹配结果"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"适用场景："}),"已知具体账号ID，需要获取详细信息"]})]})]}),s.jsxs("div",{style:{flex:1},children:[s.jsx("h4",{style:{color:"#52c41a"},children:"getTeamMemberList"}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"查询方式："}),"按条件分页查询所有成员"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"查询精度："}),"支持角色筛选、禁言状态筛选"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"数量限制："}),"分页查询，单页建议不超过100"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"分页支持："}),"支持分页，可获取完整成员列表"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"适用场景："}),"需要遍历或按条件筛选群成员"]})]})]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保已登录并完成数据同步"})}),s.jsx("li",{children:"群组ID和群组类型必须准确匹配，否则会查询失败"}),s.jsxs("li",{children:[s.jsx("strong",{children:"一次最多支持查询100个账号ID"}),"，超出会报错"]}),s.jsx("li",{children:"不存在的账号ID或从未加入过该群组的账号不会出现在结果中"}),s.jsx("li",{children:"查询结果会受到成员权限限制，某些情况下可能无法获取完整信息"}),s.jsx("li",{children:s.jsx("strong",{children:"只能查询自己有权限查看的群组成员信息"})}),s.jsx("li",{children:"已退群的成员信息仍会返回，注意检查 inTeam 字段"}),s.jsx("li",{children:s.jsx("strong",{children:"此接口适合精确查询特定成员，不适合遍历所有成员"})}),s.jsx("li",{children:"账号ID区分大小写，请确保输入准确"}),s.jsx("li",{children:"建议在查询前先验证账号ID的有效性"})]})})]})},a9={teamId:"",teamType:1,inviteeAccountIds:"",postscript:"",serverExtension:""},i9="V2NIMTeamService.inviteMemberEx",U$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState([]),[v,S]=E.useState([]),I=E.useRef(!1),T=U=>!U||typeof U!="string"?[]:U.split(/[,\n]/).map($=>$.trim()).filter($=>$.length>0),N=a9,A=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0);const[U,$]=await Kn(()=>{var F;return(F=window.nim)==null?void 0:F.V2NIMTeamService.getJoinedTeamList()});U?(ie.error(`获取群组列表失败: ${U.toString()}`),console.error("获取群组列表失败:",U.toString()),g([])):(console.log("获取群组列表成功:",$),g($||[])),i(!1)};E.useEffect(()=>{!I.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(I.current=!0,A())},[]);const w=async U=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{teamId:$,teamType:F,inviteeAccountIds:z,postscript:H,serverExtension:V}=U;if(!$){ie.error("请选择要邀请成员的群组");return}const K=T(z);if(!K||K.length===0){ie.error("请输入要邀请的账号ID");return}n(!0);const J={inviteeAccountIds:K,postscript:H||void 0,serverExtension:V||void 0};console.log("API V2NIMTeamService.inviteMemberEx execute, params:",{teamId:$,teamType:F,inviteeParams:J});const[te,Z]=await Kn(()=>{var X;return(X=window.nim)==null?void 0:X.V2NIMTeamService.inviteMemberEx($,F,J)});te?(ie.error(`邀请成员失败: ${te.toString()}`),console.error("邀请成员失败:",te.toString())):Z&&Z.length>0?(ie.warning(`邀请部分成功，失败的账号: ${Z.join(", ")}`),console.log("邀请部分成功，失败的账号:",Z)):(ie.success("邀请成员成功"),console.log("邀请成员成功, 结果:",Z)),n(!1)},O=()=>{localStorage.removeItem(i9),e.setFieldsValue(a9),ie.success("表单已重置为默认值")},R=()=>{A()},D=U=>{const $=d.find(F=>F.teamId===U);$&&e.setFieldsValue({teamId:U,teamType:$.teamType})},j=U=>{switch(U){case 1:return"高级群";case 2:return"超大群";default:return`未知(${U})`}},L=()=>{const U=e.getFieldsValue(),{teamId:$,teamType:F,inviteeAccountIds:z,postscript:H,serverExtension:V}=U;if(!$){ie.error("请先选择要邀请成员的群组");return}const K=T(z);if(!K||K.length===0){ie.error("请先输入要邀请的账号ID");return}const J={inviteeAccountIds:K,postscript:H||void 0,serverExtension:V||void 0},te=`await window.nim.V2NIMTeamService.inviteMemberEx(${JSON.stringify($)}, ${F}, ${JSON.stringify(J)});`;console.log("V2NIMTeamService.inviteMemberEx 调用语句:"),console.log(te),ie.success("调用语句已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:w,style:{marginTop:24},initialValues:N,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:i9})})},"api"),s.jsx(Ie.Item,{label:"选择群组",name:"teamId",rules:[{required:!0,message:"请选择要邀请成员的群组"}],children:s.jsx(an,{placeholder:"请选择要邀请成员的群组",loading:r,onSelect:D,showSearch:!0,optionFilterProp:"children",dropdownRender:U=>s.jsxs("div",{children:[U,s.jsx("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",size:"small",onClick:R,loading:r,style:{padding:0},children:"刷新群组列表"})})]}),children:d.map(U=>s.jsxs(an.Option,{value:U.teamId,children:[U.name||U.teamId," (",j(U.teamType),") - ",U.teamId]},U.teamId))})}),s.jsx(Ie.Item,{label:"群组类型",name:"teamType",rules:[{required:!0,message:"请选择群组类型"}],tooltip:"必须与要邀请成员的群组类型一致",children:s.jsxs(Dr.Group,{children:[s.jsx(Dr,{value:1,children:"高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx(Dr,{value:2,children:"超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})}),s.jsx(Ie.Item,{label:"邀请账号",name:"inviteeAccountIds",rules:[{required:!0,message:"请输入要邀请的账号ID"}],tooltip:"输入要邀请的账号ID，多个账号用换行符或逗号分隔",children:s.jsxs("div",{children:[s.jsx(yn.TextArea,{placeholder:`请输入要邀请的账号ID，一行一个或用逗号分隔
例如：
user001
user002
或者：user001,user002`,rows:4,onChange:U=>{const $=T(U.target.value);S($)}}),v.length>0&&s.jsxs("div",{style:{marginTop:8,padding:8,backgroundColor:"#f6f6f6",borderRadius:4},children:[s.jsxs("div",{style:{fontSize:"12px",color:"#666",marginBottom:4},children:["已输入 ",v.length," 个账号ID:"]}),s.jsx("div",{style:{fontSize:"12px",color:"#333"},children:v.join(", ")})]})]})}),s.jsx(Ie.Item,{label:"邀请附言",name:"postscript",tooltip:"邀请入群的附言，可选",children:s.jsx(yn.TextArea,{placeholder:"请输入邀请附言（可选）",rows:2,maxLength:500,showCount:!0})}),s.jsx(Ie.Item,{label:"扩展字段",name:"serverExtension",tooltip:"邀请入群的扩展字段，最多512个字符，仅支持高级群",children:s.jsx(yn.TextArea,{placeholder:"请输入扩展字段（可选，仅支持高级群）",rows:2,maxLength:512,showCount:!0})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"邀请成员"}),s.jsx(Ze,{type:"default",onClick:O,children:"重置"}),s.jsx(Ze,{type:"default",onClick:R,loading:r,children:"刷新群组列表"}),s.jsx(Ze,{type:"default",onClick:L,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"选择群组:"})," 从已加入的群组列表中选择要邀请成员的群组"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群组类型:"})," 必须与要邀请成员的群组的实际类型一致",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"1 - 高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx("li",{children:"2 - 超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"邀请账号:"})," 输入要邀请的用户账号ID",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"支持多个账号，用换行符或逗号分隔"}),s.jsx("li",{children:"系统会自动去除空格和空行"}),s.jsx("li",{children:"显示已输入的账号数量和列表"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"邀请附言:"})," 可选，邀请时发送给被邀请者的消息"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"扩展字段:"})," 可选，最多512个字符，仅支持高级群"]}),s.jsx("li",{children:"选择群组后，系统会自动填充对应的群组类型"}),s.jsx("li",{children:"支持按群组名称或ID搜索群组"}),s.jsx("li",{children:'可以点击"刷新群组列表"按钮获取最新的群组信息'})]})}),s.jsx(_t,{title:"操作结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"返回值:"})," 邀请失败的账号列表",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"如果全部成功，返回空数组"}),s.jsx("li",{children:"如果部分失败，返回失败的账号ID列表"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"操作成功后的事件触发（根据群组设置）:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"需要被邀请者同意:"})," 被邀请者端会收到 V2NIMTeamListener.onReceiveTeamJoinActionInfo 事件"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"不需要被邀请者同意:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"被邀请者端会收到 V2NIMTeamListener.onTeamJoined 事件"}),s.jsx("li",{children:"其他群成员端会收到 V2NIMTeamListener.onTeamMemberJoined 事件"})]})]})]})]})]})}),s.jsx(_t,{title:"权限说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"群主和管理员:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"拥有邀请成员的权限"}),s.jsx("li",{children:"可以邀请任何用户加入群组"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"普通成员:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"权限取决于群组设置"}),s.jsx("li",{children:"如果群组允许普通成员邀请，则可以邀请"}),s.jsx("li",{children:"如果群组不允许，则会收到权限不足的错误"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"扩展字段限制:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"仅支持高级群，超大群不支持扩展字段"}),s.jsx("li",{children:"最多512个字符"})]})]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"群组类型参数必须与目标群组的实际类型一致，否则会操作失败"})}),s.jsx("li",{children:s.jsx("strong",{children:"被邀请的账号必须是有效的用户账号"})}),s.jsx("li",{children:"扩展字段仅支持高级群，超大群会忽略该字段"}),s.jsx("li",{children:"邀请成员的权限取决于群组设置和用户角色"}),s.jsx("li",{children:s.jsx("strong",{children:"建议先通过 V2NIMTeamService.getJoinedTeamList 确认群组存在"})}),s.jsx("li",{children:"邀请成员会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:"如果部分账号邀请失败，会在返回结果中列出失败的账号"}),s.jsx("li",{children:"被邀请者是否需要同意取决于群组的邀请确认设置"})]})})]})},cL={teamId:"",teamType:1,postscript:"申请加入群组"},HT="V2NIMTeamService.applyJoinTeam",B$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(null),g=(()=>{try{const N=localStorage.getItem(HT);if(N){const A=JSON.parse(N);return{...cL,...A}}}catch(N){console.error("Failed to parse stored values:",N)}return cL})(),v=async N=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{teamId:A,teamType:w,postscript:O}=N;if(!A.trim()){ie.error("请输入要加入的群组ID");return}n(!0),console.log("API V2NIMTeamService.applyJoinTeam execute, params:",{teamId:A,teamType:w,postscript:O});const[R,D]=await Kn(()=>{var j;return(j=window.nim)==null?void 0:j.V2NIMTeamService.applyJoinTeam(A,w,O||void 0)});R?(ie.error(`申请加入群组失败: ${R.toString()}`),console.error("申请加入群组失败:",R.toString()),i(null)):(ie.success("申请加入群组成功"),console.log("申请加入群组成功, 结果:",D),i(D||null)),n(!1),localStorage.setItem(HT,JSON.stringify(N))},S=()=>{localStorage.removeItem(HT),e.setFieldsValue(cL),i(null),ie.success("表单已重置为默认值")},I=()=>{const N=e.getFieldsValue(),{teamId:A,teamType:w,postscript:O}=N;if(!A.trim()){ie.error("请先输入要加入的群组ID");return}const R=O?`await window.nim.V2NIMTeamService.applyJoinTeam(${JSON.stringify(A)}, ${w}, ${JSON.stringify(O)});`:`await window.nim.V2NIMTeamService.applyJoinTeam(${JSON.stringify(A)}, ${w});`;console.log("V2NIMTeamService.applyJoinTeam 调用语句:"),console.log(R),ie.success("调用语句已输出到控制台")},T=N=>N?new Date(N).toLocaleString():"-",_=N=>{switch(N){case 1:return"高级群";case 2:return"超大群";default:return`未知(${N})`}};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:v,style:{marginTop:24},initialValues:g,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:HT})})},"api"),s.jsx(Ie.Item,{label:"群组ID",name:"teamId",rules:[{required:!0,message:"请输入要加入的群组ID"}],children:s.jsx(yn,{placeholder:"请输入要加入的群组ID"})}),s.jsx(Ie.Item,{label:"群组类型",name:"teamType",rules:[{required:!0,message:"请选择群组类型"}],tooltip:"指定要加入的群组类型",children:s.jsxs(Dr.Group,{children:[s.jsx(Dr,{value:1,children:"高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx(Dr,{value:2,children:"超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})}),s.jsx(Ie.Item,{label:"申请消息",name:"postscript",tooltip:"发送给群主或管理员的申请消息，可选参数",children:s.jsx(yn.TextArea,{placeholder:"请输入申请加入群组的消息",rows:3,maxLength:200,showCount:!0})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"申请加入群组"}),s.jsx(Ze,{type:"default",onClick:S,children:"重置"}),s.jsx(Ze,{type:"default",onClick:I,children:"输出调用语句"})]})})]}),r&&s.jsxs(_t,{title:"申请加入群组成功",style:{marginTop:24},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"群组ID:"})," ",r.teamId]}),s.jsxs("div",{children:[s.jsx("strong",{children:"群组名称:"})," ",r.name]}),s.jsxs("div",{children:[s.jsx("strong",{children:"群组类型:"})," ",_(r.teamType)]}),s.jsxs("div",{children:[s.jsx("strong",{children:"群主:"})," ",r.ownerAccountId]}),s.jsxs("div",{children:[s.jsx("strong",{children:"成员数量:"})," ",r.memberCount,"/",r.memberLimit]}),s.jsxs("div",{children:[s.jsx("strong",{children:"创建时间:"})," ",T(r.createTime)]}),s.jsxs("div",{children:[s.jsx("strong",{children:"群组介绍:"})," ",r.intro||"-"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"群组公告:"})," ",r.announcement||"-"]})]}),r.avatar&&s.jsxs("div",{style:{marginTop:16},children:[s.jsx("strong",{children:"群组头像:"}),s.jsx("div",{style:{marginTop:8},children:s.jsx("img",{src:r.avatar,alt:"群头像",style:{width:64,height:64,borderRadius:"8px"}})})]})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"群组ID:"})," 要加入的群组的唯一标识符"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群组类型:"})," 必须与目标群组的实际类型一致",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"1 - 高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx("li",{children:"2 - 超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"申请消息:"})," 发送给群主或管理员的申请消息，可选参数，最多200字符"]}),s.jsx("li",{children:"申请成功后，根据群组的入群模式不同会有不同的结果："}),s.jsx("li",{children:s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"自由加入模式:"})," 直接加入成功，返回群组信息"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"需要申请模式:"})," 申请发送成功，等待群主或管理员审核"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"仅邀请模式:"})," 无法申请加入，只能通过邀请"]})]})})]})}),s.jsx(_t,{title:"操作结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"自由加入模式 (joinMode = 0):"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"操作者端：SDK 会抛出 V2NIMTeamListener.onTeamJoined 事件"}),s.jsx("li",{children:"其他成员端：SDK 会抛出 V2NIMTeamListener.onTeamMemberJoined 事件"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"需要申请模式 (joinMode = 1):"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"群主或管理员端：SDK 会抛出 V2NIMTeamListener.onReceiveTeamJoinActionInfo 事件"}),s.jsx("li",{children:"申请者需要等待群主或管理员的审核结果"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"仅邀请模式 (joinMode = 2):"}),s.jsx("ul",{style:{marginTop:4},children:s.jsx("li",{children:"无法通过申请加入，操作会失败"})})]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"申请加入群组前请确保群组ID存在且有效"})}),s.jsx("li",{children:"群组类型参数必须与目标群组的实际类型一致，否则会申请失败"}),s.jsx("li",{children:"不同的群组入群模式会影响申请的结果和流程"}),s.jsx("li",{children:s.jsx("strong",{children:"建议先通过 V2NIMTeamService.getTeamInfoByIds 获取群组信息验证群组存在"})}),s.jsx("li",{children:"申请操作会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:'如果群组设置为"仅邀请"模式，申请加入会失败'})]})})]})},uL={teamId:"",teamType:1,memberAccountIds:[]},GT="V2NIMTeamService.kickMember",F$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState(!1),[v,S]=E.useState([]),[I,T]=E.useState([]),_=E.useRef(!1),A=(()=>{try{const V=localStorage.getItem(GT);if(V){const K=JSON.parse(V);return{...uL,...K}}}catch(V){console.error("Failed to parse stored values:",V)}return uL})(),w=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0);const[V,K]=await Kn(()=>{var J;return(J=window.nim)==null?void 0:J.V2NIMTeamService.getJoinedTeamList()});V?(ie.error(`获取群组列表失败: ${V.toString()}`),console.error("获取群组列表失败:",V.toString()),S([])):(console.log("获取群组列表成功:",K),S(K||[])),i(!1)};E.useEffect(()=>{!_.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(_.current=!0,w())},[]);const O=async V=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{teamId:K,teamType:J,memberAccountIds:te}=V;if(!K){ie.error("请选择要踢出成员的群组");return}if(!te||te.length===0){ie.error("请输入要踢出的成员账号ID");return}n(!0),console.log("API V2NIMTeamService.kickMember execute, params:",{teamId:K,teamType:J,memberAccountIds:te});const[Z,X]=await Kn(()=>{var re;return(re=window.nim)==null?void 0:re.V2NIMTeamService.kickMember(K,J,te)});Z?(ie.error(`踢出群成员失败: ${Z.toString()}`),console.error("踢出群成员失败:",Z.toString())):(ie.success("踢出群成员成功"),console.log("踢出群成员成功, 结果:",X)),n(!1),localStorage.setItem(GT,JSON.stringify(V))},R=()=>{localStorage.removeItem(GT),e.setFieldsValue(uL),ie.success("表单已重置为默认值")},D=()=>{w()},j=async(V,K)=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}g(!0),T([]);try{let J=[],te="",Z=!1;for(;!Z;){const X={roleQueryType:0,onlyChatBanned:!1,direction:1,limit:100,nextToken:te},[re,ee]=await Kn(()=>{var ae;return(ae=window.nim)==null?void 0:ae.V2NIMTeamService.getTeamMemberList(V,K,X)});if(re){ie.error(`获取群成员列表失败: ${re.toString()}`),console.error("获取群成员列表失败:",re.toString());break}ee&&ee.memberList?(J=[...J,...ee.memberList],te=ee.nextToken||"",Z=ee.finished||!1):Z=!0}console.log("获取群成员列表成功:",J),T(J)}catch(J){ie.error(`获取群成员列表失败: ${J}`),console.error("获取群成员列表失败:",J)}g(!1)},L=V=>{const K=v.find(J=>J.teamId===V);K&&(e.setFieldsValue({teamId:V,teamType:K.teamType,memberAccountIds:[]}),j(V,K.teamType))},U=()=>{const V=e.getFieldValue("teamId"),K=e.getFieldValue("teamType");V&&K?j(V,K):ie.warning("请先选择群组")},$=V=>{const K=F(V.memberRole);return V.teamNick?`${V.teamNick} (${V.accountId}) [${K}]`:`${V.accountId} [${K}]`},F=V=>{switch(V){case 1:return"群主";case 2:return"管理员";case 3:return"普通成员";default:return`未知(${V})`}},z=V=>{switch(V){case 1:return"高级群";case 2:return"超大群";default:return`未知(${V})`}},H=()=>{const V=e.getFieldsValue(),{teamId:K,teamType:J,memberAccountIds:te}=V;if(!K){ie.error("请先选择要踢出成员的群组");return}if(!te||te.length===0){ie.error("请先输入要踢出的成员账号ID");return}const Z=`await window.nim.V2NIMTeamService.kickMember(${JSON.stringify(K)}, ${J}, ${JSON.stringify(te)});`;console.log("V2NIMTeamService.kickMember 调用语句:"),console.log(Z),ie.success("调用语句已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:O,style:{marginTop:24},initialValues:A,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:GT})})},"api"),s.jsx(Ie.Item,{label:"选择群组",name:"teamId",rules:[{required:!0,message:"请选择要踢出成员的群组"}],children:s.jsx(an,{placeholder:"请选择要踢出成员的群组",loading:r,onSelect:L,showSearch:!0,optionFilterProp:"children",dropdownRender:V=>s.jsxs("div",{children:[V,s.jsx("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",size:"small",onClick:D,loading:r,style:{padding:0},children:"刷新群组列表"})})]}),children:v.map(V=>s.jsxs(an.Option,{value:V.teamId,children:[V.name||V.teamId," (",z(V.teamType),") - ",V.teamId]},V.teamId))})}),s.jsx(Ie.Item,{label:"群组类型",name:"teamType",rules:[{required:!0,message:"请选择群组类型"}],tooltip:"必须与要操作的群组类型一致",children:s.jsxs(Dr.Group,{children:[s.jsx(Dr,{value:1,children:"高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx(Dr,{value:2,children:"超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})}),s.jsx(Ie.Item,{label:"选择成员",name:"memberAccountIds",rules:[{required:!0,message:"请选择要踢出的群成员"}],tooltip:"支持选择多个成员，也可以手动输入账号ID",children:s.jsx(an,{mode:"tags",placeholder:"请选择要踢出的群成员（支持多选和手动输入）",loading:d,showSearch:!0,optionFilterProp:"children",dropdownRender:V=>s.jsxs("div",{children:[V,s.jsxs("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:[s.jsx(Ze,{type:"link",size:"small",onClick:U,loading:d,style:{padding:0},children:"刷新成员列表"}),s.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"提示：可以从列表中选择成员，也可以直接输入账号ID"})]})]}),notFoundContent:d?"加载中...":I.length===0?"请先选择群组以加载成员列表":"未找到匹配的成员",children:I.filter(V=>V.inTeam).map(V=>s.jsx(an.Option,{value:V.accountId,children:$(V)},V.accountId))})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"踢出群成员"}),s.jsx(Ze,{type:"default",onClick:R,children:"重置"}),s.jsx(Ze,{type:"default",onClick:H,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"选择群组:"})," 从已加入的群组列表中选择要踢出成员的群组"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群组类型:"})," 必须与要操作的群组的实际类型一致",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"1 - 高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx("li",{children:"2 - 超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"选择成员:"})," 要踢出的群成员",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"支持从群成员列表中选择多个成员"}),s.jsx("li",{children:"也可以手动输入账号ID（如果成员不在列表中）"}),s.jsx("li",{children:"成员列表会显示群昵称、账号ID和身份"}),s.jsx("li",{children:"只显示当前在群中的成员"})]})]}),s.jsx("li",{children:"选择群组后，系统会自动填充对应的群组类型"}),s.jsx("li",{children:"支持按群组名称或ID搜索群组"}),s.jsx("li",{children:"选择群组后会自动加载该群组的成员列表"}),s.jsx("li",{children:'可以点击"刷新群组列表"按钮获取最新的群组信息'}),s.jsx("li",{children:'可以点击"刷新成员列表"按钮获取最新的成员信息'}),s.jsx("li",{children:"支持按成员昵称或账号ID搜索成员"})]})}),s.jsx(_t,{title:"权限说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:s.jsx("strong",{children:"只有群主有权限调用此接口"})}),s.jsx("li",{children:"群主可以踢出群内任何成员（包括管理员）"}),s.jsx("li",{children:"被踢出的成员将立即失去群组访问权限"}),s.jsx("li",{children:"管理员和普通成员无权限踢出其他成员"})]})}),s.jsx(_t,{title:"操作结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"操作成功后的事件触发："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"被踢出的用户端:"})," SDK 会抛出 V2NIMTeamListener.onTeamLeft 事件"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群内其他用户端:"})," SDK 会抛出 V2NIMTeamListener.onTeamMemberKicked 事件"]})]})]}),s.jsx("li",{children:"被踢出的成员将从群组成员列表中移除"}),s.jsx("li",{children:"被踢出的成员不再接收该群组的消息和通知"}),s.jsx("li",{children:"被踢出的成员可以重新申请加入群组（如果群组设置允许）"})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"只有群主有权限操作此接口，其他身份会操作失败"})}),s.jsx("li",{children:"踢出群成员操作是即时生效的，请谨慎操作"}),s.jsx("li",{children:"群组类型参数必须与目标群组的实际类型一致，否则会操作失败"}),s.jsx("li",{children:s.jsx("strong",{children:"建议先通过 V2NIMTeamService.getTeamMemberList 确认成员存在"})}),s.jsx("li",{children:"踢出群成员会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:"被踢出的成员可以重新申请加入群组"}),s.jsx("li",{children:"踢出操作不会删除被踢成员的聊天记录"}),s.jsx("li",{children:"不能踢出群主自己，群主如需离开群组请先转让群主身份"})]})})]})},o9={teamId:"",teamType:1},s9="V2NIMTeamService.leaveTeam",q$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState([]),v=E.useRef(!1),I=o9,T=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0);const[D,j]=await Kn(()=>{var L;return(L=window.nim)==null?void 0:L.V2NIMTeamService.getJoinedTeamList()});D?(ie.error(`获取群组列表失败: ${D.toString()}`),console.error("获取群组列表失败:",D.toString()),g([])):(console.log("获取群组列表成功:",j),g(j||[])),i(!1)};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,T())},[]);const _=async D=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{teamId:j,teamType:L}=D;if(!j){ie.error("请选择要退出的群组");return}n(!0),console.log("API V2NIMTeamService.leaveTeam execute, params:",{teamId:j,teamType:L});const[U,$]=await Kn(()=>{var F;return(F=window.nim)==null?void 0:F.V2NIMTeamService.leaveTeam(j,L)});U?(ie.error(`退出群组失败: ${U.toString()}`),console.error("退出群组失败:",U.toString())):(ie.success("退出群组成功"),console.log("退出群组成功, 结果:",$)),n(!1)},N=()=>{localStorage.removeItem(s9),e.setFieldsValue(o9),ie.success("表单已重置为默认值")},A=()=>{T()},w=D=>{const j=d.find(L=>L.teamId===D);j&&e.setFieldsValue({teamId:D,teamType:j.teamType})},O=D=>{switch(D){case 1:return"高级群";case 2:return"超大群";default:return`未知(${D})`}},R=()=>{const D=e.getFieldsValue(),{teamId:j,teamType:L}=D;if(!j){ie.error("请先选择要退出的群组");return}const U=`await window.nim.V2NIMTeamService.leaveTeam(${JSON.stringify(j)}, ${L});`;console.log("V2NIMTeamService.leaveTeam 调用语句:"),console.log(U),ie.success("调用语句已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:_,style:{marginTop:24},initialValues:I,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:s9})})},"api"),s.jsx(Ie.Item,{label:"选择群组",name:"teamId",rules:[{required:!0,message:"请选择要退出的群组"}],children:s.jsx(an,{placeholder:"请选择要退出的群组",loading:r,onSelect:w,showSearch:!0,optionFilterProp:"children",dropdownRender:D=>s.jsxs("div",{children:[D,s.jsx("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",size:"small",onClick:A,loading:r,style:{padding:0},children:"刷新群组列表"})})]}),children:d.map(D=>s.jsxs(an.Option,{value:D.teamId,children:[D.name||D.teamId," (",O(D.teamType),") - ",D.teamId]},D.teamId))})}),s.jsx(Ie.Item,{label:"群组类型",name:"teamType",rules:[{required:!0,message:"请选择群组类型"}],tooltip:"必须与要退出的群组类型一致",children:s.jsxs(Dr.Group,{children:[s.jsx(Dr,{value:1,children:"高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx(Dr,{value:2,children:"超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"退出群组"}),s.jsx(Ze,{type:"default",onClick:N,children:"重置"}),s.jsx(Ze,{type:"default",onClick:A,loading:r,children:"刷新群组列表"}),s.jsx(Ze,{type:"default",onClick:R,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"选择群组:"})," 从已加入的群组列表中选择要退出的群组"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群组类型:"})," 必须与要退出的群组的实际类型一致",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"1 - 高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx("li",{children:"2 - 超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})]}),s.jsx("li",{children:"选择群组后，系统会自动填充对应的群组类型"}),s.jsx("li",{children:"支持按群组名称或ID搜索群组"}),s.jsx("li",{children:'可以点击"刷新群组列表"按钮获取最新的群组信息'}),s.jsx("li",{children:"退出群组后，将不再接收该群组的消息和通知"}),s.jsx("li",{children:"退出群组操作是不可逆的，需要重新申请才能再次加入"}),s.jsx("li",{children:"群主不能直接退出群组，需要先转让群主身份"})]})}),s.jsx(_t,{title:"操作结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"操作成功后的事件触发："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"操作者（自己本端）:"})," SDK 会抛出 V2NIMTeamListener.onTeamLeft 事件"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群内其他用户端:"})," SDK 会抛出 V2NIMTeamListener.onTeamMemberLeft 事件"]})]})]}),s.jsx("li",{children:"退出群组后，该群组将从你的群组列表中移除"}),s.jsx("li",{children:"群组的聊天记录会保留在本地，但不再接收新消息"}),s.jsx("li",{children:"如需重新加入群组，需要通过申请或邀请的方式"})]})}),s.jsx(_t,{title:"特殊情况说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"群主退出群组:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"群主不能直接退出群组"}),s.jsx("li",{children:"需要先通过 V2NIMTeamService.transferTeam 转让群主身份"}),s.jsx("li",{children:"转让成功后再调用 leaveTeam 退出群组"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"管理员退出群组:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"管理员可以直接退出群组"}),s.jsx("li",{children:"退出后将失去管理员权限"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"普通成员退出群组:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"普通成员可以随时退出群组"}),s.jsx("li",{children:"不需要其他成员同意"})]})]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"退出群组操作是不可逆的，请确认操作"})}),s.jsx("li",{children:"群组类型参数必须与目标群组的实际类型一致，否则会操作失败"}),s.jsx("li",{children:"群主不能直接退出群组，需要先转让群主身份"}),s.jsx("li",{children:s.jsx("strong",{children:"建议先通过 V2NIMTeamService.getJoinedTeamList 确认群组存在"})}),s.jsx("li",{children:"退出群组会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:"退出群组后，需要重新申请或被邀请才能再次加入"}),s.jsx("li",{children:"退出群组不会删除本地的聊天记录"})]})})]})},{Text:Vi}=yl,z$e="V2NIMTeamService.on",H$e=()=>{const[e]=Ie.useForm(),t=()=>{ie.info("收到 V2NIMTeamService 模块的 onSyncStarted 事件, 详情见控制台"),console.log("群组信息同步开始")},n=()=>{ie.success("收到 V2NIMTeamService 模块的 onSyncFinished 事件, 详情见控制台"),console.log("群组信息同步完成")},r=j=>{ie.error("收到 V2NIMTeamService 模块的 onSyncFailed 事件, 详情见控制台"),console.log("群组信息同步失败:",j)},i=j=>{ie.success(`收到 V2NIMTeamService 模块的 onTeamCreated 事件, 群组: ${j.name||j.teamId}, 详情见控制台`),console.log("群组被创建:",j)},d=j=>{ie.warning(`收到 V2NIMTeamService 模块的 onTeamDismissed 事件, 群组: ${j.name||j.teamId}, 详情见控制台`),console.log("群组被解散:",j)},g=j=>{ie.success(`收到 V2NIMTeamService 模块的 onTeamJoined 事件, 群组: ${j.name||j.teamId}, 详情见控制台`),console.log("(自己)加入群组:",j)},v=(j,L)=>{const U=L?"被踢出":"主动离开";ie.warning(`收到 V2NIMTeamService 模块的 onTeamLeft 事件, ${U}群组: ${j.name||j.teamId}, 详情见控制台`),console.log("(自己)离开群组:",{team:j,isKicked:L,reason:U})},S=j=>{ie.info(`收到 V2NIMTeamService 模块的 onTeamInfoUpdated 事件, 群组: ${j.name||j.teamId}, 详情见控制台`),console.log("群组信息更新:",j)},I=j=>{const L=j.map(U=>U.memberRole?`${U.accountId}(${w(U.memberRole)})`:U.accountId).join(", ");ie.success(`收到 V2NIMTeamService 模块的 onTeamMemberJoined 事件, 成员: ${L}, 详情见控制台`),console.log("群组成员加入:",j)},T=(j,L)=>{const U=L.map($=>$.accountId).join(", ");ie.warning(`收到 V2NIMTeamService 模块的 onTeamMemberKicked 事件, 操作者: ${j}, 被踢成员: ${U}, 详情见控制台`),console.log("群组成员被踢:",{operatorAccountId:j,teamMembers:L})},_=j=>{const L=j.map(U=>U.accountId).join(", ");ie.warning(`收到 V2NIMTeamService 模块的 onTeamMemberLeft 事件, 离开成员: ${L}, 详情见控制台`),console.log("群组成员离开:",j)},N=j=>{const L=j.map(U=>U.accountId).join(", ");ie.info(`收到 V2NIMTeamService 模块的 onTeamMemberInfoUpdated 事件, 更新成员: ${L}, 详情见控制台`),console.log("群组成员信息更新:",j)},A=j=>{ie.info("收到 V2NIMTeamService 模块的 onReceiveTeamJoinActionInfo 事件, 详情见控制台"),console.log("收到群组申请动作信息:",j)},w=j=>{switch(j){case 0:return"普通成员";case 1:return"管理员";case 2:return"群主";default:return`未知角色(${j})`}},O=async()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}window.nim.V2NIMTeamService.off("onSyncStarted",t),window.nim.V2NIMTeamService.off("onSyncFinished",n),window.nim.V2NIMTeamService.off("onSyncFailed",r),window.nim.V2NIMTeamService.off("onTeamCreated",i),window.nim.V2NIMTeamService.off("onTeamDismissed",d),window.nim.V2NIMTeamService.off("onTeamJoined",g),window.nim.V2NIMTeamService.off("onTeamLeft",v),window.nim.V2NIMTeamService.off("onTeamInfoUpdated",S),window.nim.V2NIMTeamService.off("onTeamMemberJoined",I),window.nim.V2NIMTeamService.off("onTeamMemberKicked",T),window.nim.V2NIMTeamService.off("onTeamMemberLeft",_),window.nim.V2NIMTeamService.off("onTeamMemberInfoUpdated",N),window.nim.V2NIMTeamService.off("onReceiveTeamJoinActionInfo",A),window.nim.V2NIMTeamService.on("onSyncStarted",t),window.nim.V2NIMTeamService.on("onSyncFinished",n),window.nim.V2NIMTeamService.on("onSyncFailed",r),window.nim.V2NIMTeamService.on("onTeamCreated",i),window.nim.V2NIMTeamService.on("onTeamDismissed",d),window.nim.V2NIMTeamService.on("onTeamJoined",g),window.nim.V2NIMTeamService.on("onTeamLeft",v),window.nim.V2NIMTeamService.on("onTeamInfoUpdated",S),window.nim.V2NIMTeamService.on("onTeamMemberJoined",I),window.nim.V2NIMTeamService.on("onTeamMemberKicked",T),window.nim.V2NIMTeamService.on("onTeamMemberLeft",_),window.nim.V2NIMTeamService.on("onTeamMemberInfoUpdated",N),window.nim.V2NIMTeamService.on("onReceiveTeamJoinActionInfo",A),ie.success("成功设置群组服务监听"),console.log("群组服务监听已设置")},R=()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}window.nim.V2NIMTeamService.removeAllListeners("onSyncStarted"),window.nim.V2NIMTeamService.removeAllListeners("onSyncFinished"),window.nim.V2NIMTeamService.removeAllListeners("onSyncFailed"),window.nim.V2NIMTeamService.removeAllListeners("onTeamCreated"),window.nim.V2NIMTeamService.removeAllListeners("onTeamDismissed"),window.nim.V2NIMTeamService.removeAllListeners("onTeamJoined"),window.nim.V2NIMTeamService.removeAllListeners("onTeamLeft"),window.nim.V2NIMTeamService.removeAllListeners("onTeamInfoUpdated"),window.nim.V2NIMTeamService.removeAllListeners("onTeamMemberJoined"),window.nim.V2NIMTeamService.removeAllListeners("onTeamMemberKicked"),window.nim.V2NIMTeamService.removeAllListeners("onTeamMemberLeft"),window.nim.V2NIMTeamService.removeAllListeners("onTeamMemberInfoUpdated"),window.nim.V2NIMTeamService.removeAllListeners("onReceiveTeamJoinActionInfo"),ie.success("已取消所有群组服务监听"),console.log("所有群组服务监听已取消")},D=()=>{const j=`
// 设置群组服务监听
const setupTeamServiceListeners = () => {
  // 同步相关事件
  window.nim.V2NIMTeamService.on('onSyncStarted', () => {
    console.log('群组信息同步开始');
  });

  window.nim.V2NIMTeamService.on('onSyncFinished', () => {
    console.log('群组信息同步完成');
  });

  window.nim.V2NIMTeamService.on('onSyncFailed', (error) => {
    console.log('群组信息同步失败:', error);
  });

  // 群组操作事件
  window.nim.V2NIMTeamService.on('onTeamCreated', (team) => {
    console.log('群组被创建:', team);
  });

  window.nim.V2NIMTeamService.on('onTeamDismissed', (team) => {
    console.log('群组被解散:', team);
  });

  window.nim.V2NIMTeamService.on('onTeamJoined', (team) => {
    console.log('(自己)加入群组:', team);
  });

  window.nim.V2NIMTeamService.on('onTeamLeft', (team, isKicked) => {
    console.log('(自己)离开群组:', { team, isKicked });
  });

  window.nim.V2NIMTeamService.on('onTeamInfoUpdated', (team) => {
    console.log('群组信息更新:', team);
  });

  // 群组成员事件
  window.nim.V2NIMTeamService.on('onTeamMemberJoined', (teamMembers) => {
    console.log('群组成员加入:', teamMembers);
  });

  window.nim.V2NIMTeamService.on('onTeamMemberKicked', (operatorAccountId, teamMembers) => {
    console.log('群组成员被踢:', { operatorAccountId, teamMembers });
  });

  window.nim.V2NIMTeamService.on('onTeamMemberLeft', (teamMembers) => {
    console.log('群组成员离开:', teamMembers);
  });

  window.nim.V2NIMTeamService.on('onTeamMemberInfoUpdated', (teamMembers) => {
    console.log('群组成员信息更新:', teamMembers);
  });

  // 群组申请事件
  window.nim.V2NIMTeamService.on('onReceiveTeamJoinActionInfo', (joinActionInfo) => {
    console.log('收到群组申请动作信息:', joinActionInfo);
  });
};

// 调用设置函数
setupTeamServiceListeners();
`;console.log("V2NIMTeamService 监听设置代码:"),console.log(j),ie.success("监听设置代码已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},style:{marginTop:24},children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:z$e})})},"api"),s.jsx(Ie.Item,{label:"操作项",children:s.jsxs(on,{size:"middle",style:{width:"100%",flexWrap:"wrap"},children:[s.jsx(Ze,{type:"primary",onClick:O,style:{minWidth:120},children:"设置监听"}),s.jsx(Ze,{type:"default",danger:!0,onClick:R,children:"取消所有监听"}),s.jsx(Ze,{type:"default",onClick:D,children:"输出监听代码"})]})})]}),s.jsxs(_t,{title:"监听事件说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Vi,{strong:!0,children:"同步相关事件："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(Vi,{code:!0,children:"onSyncStarted"})," - 群组信息同步开始"]}),s.jsxs("li",{children:[s.jsx(Vi,{code:!0,children:"onSyncFinished"})," - 群组信息同步完成"]}),s.jsxs("li",{children:[s.jsx(Vi,{code:!0,children:"onSyncFailed"})," - 群组信息同步失败"]})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Vi,{strong:!0,children:"群组操作事件："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(Vi,{code:!0,children:"onTeamCreated"})," - 群组被创建（包括多端同步和初始化同步）"]}),s.jsxs("li",{children:[s.jsx(Vi,{code:!0,children:"onTeamDismissed"})," - 群组被解散"]}),s.jsxs("li",{children:[s.jsx(Vi,{code:!0,children:"onTeamJoined"})," - 自己加入某群（被邀请后接受邀请、申请通过、或直接被拉入群组）"]}),s.jsxs("li",{children:[s.jsx(Vi,{code:!0,children:"onTeamLeft"})," - 自己离开群组（主动离开或被管理员踢出）"]}),s.jsxs("li",{children:[s.jsx(Vi,{code:!0,children:"onTeamInfoUpdated"})," - 群组信息更新"]})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Vi,{strong:!0,children:"群组成员事件："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(Vi,{code:!0,children:"onTeamMemberJoined"})," - 群组成员加入（非本账号的用户加入群组）"]}),s.jsxs("li",{children:[s.jsx(Vi,{code:!0,children:"onTeamMemberKicked"})," - 群组成员被踢"]}),s.jsxs("li",{children:[s.jsx(Vi,{code:!0,children:"onTeamMemberLeft"})," - 群组成员退出群组"]}),s.jsxs("li",{children:[s.jsx(Vi,{code:!0,children:"onTeamMemberInfoUpdated"})," - 群组成员信息变更"]})]})]}),s.jsxs("div",{children:[s.jsx(Vi,{strong:!0,children:"群组申请事件："}),s.jsx("ul",{style:{margin:"8px 0",paddingLeft:20},children:s.jsxs("li",{children:[s.jsx(Vi,{code:!0,children:"onReceiveTeamJoinActionInfo"})," - 群组申请动作",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"管理员收到入群申请"}),s.jsx("li",{children:"申请人收到入群申请被拒绝"}),s.jsx("li",{children:"成员收到入群邀请"}),s.jsx("li",{children:"管理员收到入群邀请被拒绝"})]})]})})]})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"本页面演示 V2NIMTeamService 的事件监听功能"}),s.jsx("li",{children:"设置监听后，相关的群组操作会触发对应事件并显示消息提示"}),s.jsx("li",{children:"对同一个事件 on 监听多次，都会生效并触发多次，使用时注意防止重复监听"}),s.jsxs("li",{children:["建议在 ",s.jsx(Vi,{code:!0,children:"onSyncFinished"})," 事件告知数据同步完毕后， 再使用群组模块数据，以保证数据完整性"]}),s.jsx("li",{children:'使用"取消所有监听"可以一次性移除所有已设置的监听器'}),s.jsxs("li",{children:[s.jsx(Vi,{type:"success",children:"注意：设置监听后，可以去其他群组相关页面进行操作来触发事件："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"创建群组 → 触发 onTeamCreated"}),s.jsx("li",{children:"加入群组 → 触发 onTeamJoined"}),s.jsx("li",{children:"邀请成员 → 触发 onTeamMemberJoined"}),s.jsx("li",{children:"踢出成员 → 触发 onTeamMemberKicked"}),s.jsx("li",{children:"离开群组 → 触发 onTeamLeft"}),s.jsx("li",{children:"解散群组 → 触发 onTeamDismissed"}),s.jsx("li",{children:"修改群组信息 → 触发 onTeamInfoUpdated"}),s.jsx("li",{children:"修改成员角色 → 触发 onTeamMemberInfoUpdated"})]})]}),s.jsx("li",{children:"所有事件都会在控制台输出详细信息，方便调试和学习"})]})}),s.jsxs(_t,{title:"事件回调参数说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Vi,{strong:!0,children:"V2NIMTeam 群组对象："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsx("li",{children:"teamId: 群组ID"}),s.jsx("li",{children:"teamType: 群组类型（1=高级群，2=超大群）"}),s.jsx("li",{children:"name: 群组名称"}),s.jsx("li",{children:"intro: 群组介绍"}),s.jsx("li",{children:"announcement: 群组公告"}),s.jsx("li",{children:"avatar: 群组头像"}),s.jsx("li",{children:"ownerAccountId: 群主账号ID"}),s.jsx("li",{children:"memberCount: 群成员数"}),s.jsx("li",{children:"maxMemberCount: 最大成员数"}),s.jsx("li",{children:"createTime: 创建时间"}),s.jsx("li",{children:"updateTime: 更新时间"})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Vi,{strong:!0,children:"V2NIMTeamMember 群成员对象："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsx("li",{children:"teamId: 群组ID"}),s.jsx("li",{children:"accountId: 成员账号ID"}),s.jsx("li",{children:"memberRole: 成员角色（0=普通成员，1=管理员，2=群主）"}),s.jsx("li",{children:"teamNick: 群昵称"}),s.jsx("li",{children:"joinTime: 加入时间"}),s.jsx("li",{children:"inviterAccountId: 邀请人账号ID"})]})]}),s.jsxs("div",{children:[s.jsx(Vi,{strong:!0,children:"V2NIMTeamJoinActionInfo 申请动作对象："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsx("li",{children:"actionType: 动作类型"}),s.jsx("li",{children:"teamId: 群组ID"}),s.jsx("li",{children:"applicantAccountId: 申请人账号ID"}),s.jsx("li",{children:"actionStatus: 动作状态"}),s.jsx("li",{children:"requestMsg: 申请消息"}),s.jsx("li",{children:"attachmentMsg: 附加消息"})]})]})]}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保SDK已初始化并登录成功"})}),s.jsx("li",{children:"群组事件监听在数据同步完成后才会正常工作"}),s.jsx("li",{children:"建议在 onSyncFinished 事件后再进行群组相关操作"}),s.jsx("li",{children:"onTeamJoined 和 onTeamLeft 事件只针对当前登录用户"}),s.jsx("li",{children:"onTeamMemberJoined、onTeamMemberLeft、onTeamMemberKicked 事件针对其他用户"}),s.jsx("li",{children:s.jsx("strong",{children:"重复设置监听会导致同一事件触发多次"})}),s.jsx("li",{children:"群组申请事件需要根据 actionType 区分不同的申请类型"}),s.jsx("li",{children:s.jsx("strong",{children:"及时移除不需要的监听器以避免内存泄漏"})}),s.jsx("li",{children:"所有群组操作都是异步的，需要通过事件回调获取最终结果"})]})})]})},l9={invitationInfo:"",postscript:""},KT="V2NIMTeamService.rejectInvitation",G$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState([]),v=E.useRef(!1),I=(()=>{const L=localStorage.getItem(KT);if(L)try{return JSON.parse(L)}catch(U){console.error("解析 localStorage 中的数据失败:",U)}return l9})(),T=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0);const L={offset:0,limit:50,types:[2],status:[0]};console.log("API V2NIMTeamService.getTeamJoinActionInfoList execute, params:",L);const[U,$]=await Kn(()=>{var F;return(F=window.nim)==null?void 0:F.V2NIMTeamService.getTeamJoinActionInfoList(L)});if(U)ie.error(`获取群邀请列表失败: ${U.toString()}`),console.error("获取群邀请列表失败:",U),g([]);else{console.log("获取群邀请列表成功, 结果:",$);const F=(($==null?void 0:$.infos)||[]).filter(z=>z.actionType===2&&z.actionStatus===0);g(F),F.length===0?ie.info("暂无待处理的群邀请"):ie.success(`获取到 ${F.length} 条待处理的群邀请`)}i(!1)};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,T())},[]);const _=async L=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{invitationInfo:U,postscript:$}=L;if(!U){ie.error("请选择要拒绝的群邀请");return}const F=d.find(V=>`${V.teamId}-${V.operatorAccountId}-${V.timestamp}`===U);if(!F){ie.error("未找到对应的申请");return}n(!0),console.log("API V2NIMTeamService.rejectInvitation execute, params:",{invitation:F,postscript:$});const[z,H]=await Kn(()=>{var V;return(V=window.nim)==null?void 0:V.V2NIMTeamService.rejectInvitation(F,$)});z?(ie.error(`拒绝群邀请失败: ${z.toString()}`),console.error("拒绝群邀请失败:",z.toString())):(ie.success("拒绝群邀请成功"),console.log("拒绝群邀请成功, 结果:",H),await T(),e.setFieldsValue({invitationInfo:"",postscript:""})),n(!1),localStorage.setItem(KT,JSON.stringify(L))},N=()=>{localStorage.removeItem(KT),e.setFieldsValue(l9),ie.success("表单已重置为默认值")},A=()=>{const L=e.getFieldsValue(),{invitationInfo:U,postscript:$}=L;if(!U){ie.error("请先选择要拒绝的群邀请");return}const F=d.find(H=>`${H.teamId}-${H.operatorAccountId}-${H.timestamp}`===U);if(!F){ie.error("未找到对应的申请");return}const z=`await window.nim.V2NIMTeamService.rejectInvitation(${JSON.stringify(F,null,2)}, "${$||""}");`;console.log("V2NIMTeamService.rejectInvitation 调用语句:"),console.log(z),ie.success("调用语句已输出到控制台")},w=()=>{T()},O=L=>new Date(L).toLocaleString("zh-CN"),R=L=>{switch(L){case 1:return"高级群";case 2:return"超大群";default:return`未知(${L})`}},D=L=>{switch(L){case 0:return s.jsx(ln,{color:"blue",children:"申请入群"});case 1:return s.jsx(ln,{color:"red",children:"拒绝申请"});case 2:return s.jsx(ln,{color:"green",children:"邀请入群"});case 3:return s.jsx(ln,{color:"orange",children:"拒绝邀请"});default:return s.jsx(ln,{children:"未知"})}},j=L=>{switch(L){case 0:return s.jsx(ln,{color:"orange",children:"待处理"});case 1:return s.jsx(ln,{color:"green",children:"已同意"});case 2:return s.jsx(ln,{color:"red",children:"已拒绝"});case 3:return s.jsx(ln,{color:"gray",children:"已过期"});default:return s.jsx(ln,{children:"未知"})}};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:_,style:{marginTop:24},initialValues:I,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:KT})})},"api"),s.jsx(Ie.Item,{label:"群邀请列表",children:s.jsx(on,{direction:"vertical",style:{width:"100%"},children:s.jsxs(on,{children:[s.jsx(Ze,{onClick:w,loading:r,size:"small",children:"刷新邀请列表"}),s.jsx("span",{style:{color:"#666",fontSize:"12px"},children:r?"正在获取...":`共 ${d.length} 条待处理邀请`})]})})}),s.jsx(Ie.Item,{label:"选择邀请",name:"invitationInfo",rules:[{required:!0,message:"请选择要拒绝的群邀请"}],children:s.jsx(an,{placeholder:"请选择要拒绝的群邀请",loading:r,notFoundContent:r?s.jsx(Vd,{size:"small"}):s.jsx(Wi,{image:Wi.PRESENTED_IMAGE_SIMPLE,description:"暂无待处理的群邀请"}),optionLabelProp:"label",style:{width:"100%"},children:d.map(L=>s.jsx(an.Option,{value:`${L.teamId}-${L.operatorAccountId}-${L.timestamp}`,label:`群组: ${L.teamId} - 邀请人: ${L.operatorAccountId}`,children:s.jsxs("div",{style:{padding:"8px 0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[s.jsxs("span",{style:{fontWeight:"bold"},children:["群组: ",L.teamId," (",R(L.teamType),")"]}),s.jsxs(on,{children:[D(L.actionType),j(L.actionStatus)]})]}),s.jsxs("div",{style:{color:"#666",fontSize:"12px",marginBottom:"2px"},children:["邀请人: ",L.operatorAccountId]}),s.jsxs("div",{style:{color:"#666",fontSize:"12px",marginBottom:"2px"},children:["邀请消息: ",L.postscript||"无"]}),s.jsxs("div",{style:{color:"#999",fontSize:"12px",marginBottom:"2px"},children:["邀请时间: ",O(L.timestamp)]}),L.serverExtension&&s.jsxs("div",{style:{color:"#999",fontSize:"12px"},children:["扩展字段: ",L.serverExtension]})]})},`${L.teamId}-${L.operatorAccountId}-${L.timestamp}`))})}),s.jsx(Ie.Item,{label:"拒绝理由",name:"postscript",extra:"可选，拒绝邀请的理由附言",children:s.jsx(yn.TextArea,{placeholder:"请输入拒绝邀请的理由（可选）",rows:3,maxLength:200,showCount:!0})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},disabled:d.length===0,danger:!0,children:"拒绝群邀请"}),s.jsx(Ze,{type:"default",onClick:N,children:"重置"}),s.jsx(Ze,{type:"default",onClick:A,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"自动获取邀请列表:"})," 页面加载时会自动调用 getTeamJoinActionInfoList 获取待处理的群邀请"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"邀请筛选条件:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:'操作类型为"邀请入群"(actionType=2)'}),s.jsx("li",{children:'状态为"待处理"(actionStatus=0)'})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"邀请信息展示:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"群组ID和类型"}),s.jsx("li",{children:"邀请人账号ID"}),s.jsx("li",{children:"邀请消息内容"}),s.jsx("li",{children:"邀请时间"}),s.jsx("li",{children:"操作类型和状态"}),s.jsx("li",{children:"扩展字段（如果有）"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"拒绝理由:"})," 可以填写拒绝邀请的理由，这个信息会传递给邀请人"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"实时刷新:"}),' 可以点击"刷新邀请列表"按钮获取最新的邀请信息']}),s.jsxs("li",{children:[s.jsx("strong",{children:"事件监听:"})," 也可以通过监听相关团队事件获取实时邀请通知"]})]})}),s.jsx(_t,{title:"操作结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"操作成功后的事件触发："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"邀请人端:"})," SDK 会抛出 V2NIMTeamListener.onTeamJoinActionInfoSynced 事件， 通知邀请被拒绝"]}),s.jsx("li",{children:"邀请人可以看到拒绝理由（如果提供了 postscript）"})]})]}),s.jsx("li",{children:"拒绝邀请后，用户不会成为群组成员"}),s.jsx("li",{children:'邀请状态将更新为"已拒绝"'}),s.jsx("li",{children:"如果需要重新加入群组，需要重新申请或重新被邀请"})]})}),s.jsx(_t,{title:"API 参数说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"invitationInfo (V2NIMTeamJoinActionInfo):"})," 收到的邀请入群信息对象",s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"actionType:"})," 群操作类型（必须为 2 - 邀请入群）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamId:"})," 群组ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamType:"})," 群组类型（1-高级群，2-超大群）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"operatorAccountId:"})," 操作者（邀请人）账号ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"postscript:"})," 原邀请附言"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"timestamp:"})," 操作时间戳"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"actionStatus:"})," 操作状态（必须为 0 - 待处理）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"serverExtension:"})," 扩展字段（可选）"]})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"postscript (string):"})," 拒绝入群的附言（可选）",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"用于向邀请人说明拒绝的理由"}),s.jsx("li",{children:"可以为空字符串或 null"}),s.jsx("li",{children:"建议填写具体的拒绝理由以便沟通"})]})]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff4d4f",backgroundColor:"#fff2f0"},size:"small",styles:{header:{backgroundColor:"#ffccc7",color:"#cf1322",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#cf1322"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保已登录并完成数据同步"})}),s.jsx("li",{children:"拒绝群邀请是不可逆操作，拒绝后无法撤销"}),s.jsx("li",{children:"拒绝邀请会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:s.jsx("strong",{children:"建议配合 V2NIMTeamService.on 监听群组事件获取实时通知"})}),s.jsx("li",{children:"如果邀请列表为空，可能是没有待处理的邀请或者数据同步未完成"}),s.jsx("li",{children:"已过期的邀请无法操作，会自动标记为过期状态"}),s.jsx("li",{children:s.jsx("strong",{children:"只能拒绝发给当前登录用户的邀请"})}),s.jsx("li",{children:s.jsx("strong",{children:"拒绝理由会传递给邀请人，请注意用词得当"})})]})})]})},c9={applicationInfo:"",postscript:""},WT="V2NIMTeamService.rejectJoinApplication",K$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState([]),v=E.useRef(!1),I=(()=>{const L=localStorage.getItem(WT);if(L)try{return JSON.parse(L)}catch(U){console.error("解析 localStorage 中的数据失败:",U)}return c9})(),T=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0);const L={offset:0,limit:50,types:[0],status:[0]};console.log("API V2NIMTeamService.getTeamJoinActionInfoList execute, params:",L);const[U,$]=await Kn(()=>{var F;return(F=window.nim)==null?void 0:F.V2NIMTeamService.getTeamJoinActionInfoList(L)});if(U)ie.error(`获取群申请列表失败: ${U.toString()}`),console.error("获取群申请列表失败:",U),g([]);else{console.log("获取群申请列表成功, 结果:",$);const F=(($==null?void 0:$.infos)||[]).filter(z=>z.actionType===0&&z.actionStatus===0);g(F),F.length===0?ie.info("暂无待处理的群申请"):ie.success(`获取到 ${F.length} 条待处理的群申请`)}i(!1)};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,T())},[]);const _=async L=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{applicationInfo:U,postscript:$}=L;if(!U){ie.error("请选择要拒绝的群申请");return}const F=d.find(V=>`${V.teamId}-${V.operatorAccountId}-${V.timestamp}`===U);if(!F){ie.error("未找到对应的申请");return}n(!0),console.log("API V2NIMTeamService.rejectJoinApplication execute, params:",{applicationInfo:F,postscript:$});const[z,H]=await Kn(()=>{var V;return(V=window.nim)==null?void 0:V.V2NIMTeamService.rejectJoinApplication(F,$)});z?(ie.error(`拒绝群申请失败: ${z.toString()}`),console.error("拒绝群申请失败:",z.toString())):(ie.success("拒绝群申请成功"),console.log("拒绝群申请成功, 结果:",H),await T(),e.setFieldsValue({applicationInfo:"",postscript:""})),n(!1),localStorage.setItem(WT,JSON.stringify(L))},N=()=>{localStorage.removeItem(WT),e.setFieldsValue(c9),ie.success("表单已重置为默认值")},A=()=>{const L=e.getFieldsValue(),{applicationInfo:U,postscript:$}=L;if(!U){ie.error("请先选择要拒绝的群申请");return}const F=d.find(H=>`${H.teamId}-${H.operatorAccountId}-${H.timestamp}`===U);if(!F){ie.error("未找到对应的申请");return}const z=`await window.nim.V2NIMTeamService.rejectJoinApplication(${JSON.stringify(F,null,2)}, ${JSON.stringify($||"")});`;console.log("V2NIMTeamService.rejectJoinApplication 调用语句:"),console.log(z),ie.success("调用语句已输出到控制台")},w=()=>{T()},O=L=>new Date(L).toLocaleString("zh-CN"),R=L=>{switch(L){case 1:return"高级群";case 2:return"超大群";default:return`未知(${L})`}},D=L=>{switch(L){case 0:return s.jsx(ln,{color:"blue",children:"申请入群"});case 1:return s.jsx(ln,{color:"red",children:"拒绝申请"});case 2:return s.jsx(ln,{color:"green",children:"邀请入群"});case 3:return s.jsx(ln,{color:"orange",children:"拒绝邀请"});default:return s.jsx(ln,{children:"未知"})}},j=L=>{switch(L){case 0:return s.jsx(ln,{color:"orange",children:"待处理"});case 1:return s.jsx(ln,{color:"green",children:"已同意"});case 2:return s.jsx(ln,{color:"red",children:"已拒绝"});case 3:return s.jsx(ln,{color:"gray",children:"已过期"});default:return s.jsx(ln,{children:"未知"})}};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:_,style:{marginTop:24},initialValues:I,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:WT})})},"api"),s.jsx(Ie.Item,{label:"群申请列表",children:s.jsx(on,{direction:"vertical",style:{width:"100%"},children:s.jsxs(on,{children:[s.jsx(Ze,{onClick:w,loading:r,size:"small",children:"刷新申请列表"}),s.jsx("span",{style:{color:"#666",fontSize:"12px"},children:r?"正在获取...":`共 ${d.length} 条待处理申请`})]})})}),s.jsx(Ie.Item,{label:"选择申请",name:"applicationInfo",rules:[{required:!0,message:"请选择要拒绝的群申请"}],children:s.jsx(an,{placeholder:"请选择要拒绝的群申请",loading:r,notFoundContent:r?s.jsx(Vd,{size:"small"}):s.jsx(Wi,{image:Wi.PRESENTED_IMAGE_SIMPLE,description:"暂无待处理的群申请"}),optionLabelProp:"label",style:{width:"100%"},children:d.map(L=>s.jsx(an.Option,{value:`${L.teamId}-${L.operatorAccountId}-${L.timestamp}`,label:`群组: ${L.teamId} - 申请人: ${L.operatorAccountId}`,children:s.jsxs("div",{style:{padding:"8px 0"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[s.jsxs("span",{style:{fontWeight:"bold"},children:["群组: ",L.teamId," (",R(L.teamType),")"]}),s.jsxs(on,{children:[D(L.actionType),j(L.actionStatus)]})]}),s.jsxs("div",{style:{color:"#666",fontSize:"12px",marginBottom:"2px"},children:["申请人: ",L.operatorAccountId]}),s.jsxs("div",{style:{color:"#666",fontSize:"12px",marginBottom:"2px"},children:["申请消息: ",L.postscript||"无"]}),s.jsxs("div",{style:{color:"#999",fontSize:"12px",marginBottom:"2px"},children:["申请时间: ",O(L.timestamp)]}),L.serverExtension&&s.jsxs("div",{style:{color:"#999",fontSize:"12px"},children:["扩展字段: ",L.serverExtension]})]})},`${L.teamId}-${L.operatorAccountId}-${L.timestamp}`))})}),s.jsx(Ie.Item,{label:"拒绝附言",name:"postscript",tooltip:"拒绝申请的理由或说明，可选",children:s.jsx(yn.TextArea,{placeholder:"请输入拒绝申请的理由（可选）",rows:4,maxLength:500,showCount:!0})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},disabled:d.length===0,danger:!0,children:"拒绝群申请"}),s.jsx(Ze,{type:"default",onClick:N,children:"重置"}),s.jsx(Ze,{type:"default",onClick:A,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"自动获取申请列表:"})," 页面加载时会自动调用 getTeamJoinActionInfoList 获取待处理的群申请"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"申请筛选条件:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:'操作类型为"申请入群"(actionType=0)'}),s.jsx("li",{children:'状态为"待处理"(actionStatus=0)'})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"申请信息展示:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"群组ID和类型"}),s.jsx("li",{children:"申请人账号ID"}),s.jsx("li",{children:"申请消息内容"}),s.jsx("li",{children:"申请时间"}),s.jsx("li",{children:"操作类型和状态"}),s.jsx("li",{children:"扩展字段（如果有）"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"拒绝附言:"})," 可选，向申请人说明拒绝的理由"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"权限要求:"})," 只有群主和管理员才能拒绝群申请"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"实时刷新:"}),' 可以点击"刷新申请列表"按钮获取最新的申请信息']}),s.jsxs("li",{children:[s.jsx("strong",{children:"事件监听:"})," 也可以通过监听相关团队事件获取实时申请通知"]})]})}),s.jsx(_t,{title:"操作结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"操作成功后的事件触发："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"被操作者（申请人）端:"})," SDK 会抛出 V2NIMTeamListener.onReceiveTeamJoinActionInfo 事件"]}),s.jsx("li",{children:"申请人会收到申请被拒绝的通知"})]})]}),s.jsx("li",{children:"拒绝申请后，申请人不会成为群组成员"}),s.jsx("li",{children:'申请状态将更新为"已拒绝"'}),s.jsx("li",{children:"如果提供了拒绝附言，申请人可以看到拒绝理由"})]})}),s.jsx(_t,{title:"API 参数说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"applicationInfo (V2NIMTeamJoinActionInfo):"})," 该申请的相关信息对象",s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"actionType:"})," 群操作类型（",s.jsx("strong",{children:"必须为 0 - 申请入群"}),"）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamId:"})," 群组ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamType:"})," 群组类型（1-高级群，2-超大群）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"operatorAccountId:"})," 操作者（申请人）账号ID"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"postscript:"})," 申请附言"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"timestamp:"})," 操作时间戳"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"actionStatus:"})," 操作状态"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"serverExtension:"})," 扩展字段（可选）"]})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"postscript (string, 可选):"})," 拒绝申请的附言",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"向申请人说明拒绝的理由"}),s.jsx("li",{children:"最多500个字符"}),s.jsx("li",{children:"申请人可以通过事件回调获取到这个附言"})]})]})]})}),s.jsx(_t,{title:"拒绝理由的重要性",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"提供拒绝理由的好处:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"让申请人了解被拒绝的原因"}),s.jsx("li",{children:"提高群组管理的透明度"}),s.jsx("li",{children:"减少重复申请的可能性"}),s.jsx("li",{children:"改善用户体验"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"常见拒绝理由示例:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:'"群组已满，暂不接受新成员"'}),s.jsx("li",{children:'"需要群内成员推荐才能加入"'}),s.jsx("li",{children:'"申请信息不完整"'}),s.jsx("li",{children:'"群组为内部群，仅限特定人员加入"'})]})]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff4d4f",backgroundColor:"#fff2f0"},size:"small",styles:{header:{backgroundColor:"#ffccc7",color:"#cf1322",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#cf1322"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保已登录并完成数据同步"})}),s.jsx("li",{children:s.jsx("strong",{children:"只有群主和管理员才能拒绝群申请"})}),s.jsx("li",{children:s.jsx("strong",{children:"applicationInfo 的 actionType 必须为 0（申请入群）"})}),s.jsx("li",{children:"拒绝申请后，申请人将收到被拒绝的通知"}),s.jsx("li",{children:"拒绝申请会触发相应的事件回调，请注意监听相关事件"}),s.jsx("li",{children:s.jsx("strong",{children:"建议配合 V2NIMTeamService.on 监听群组事件获取实时通知"})}),s.jsx("li",{children:s.jsx("strong",{children:"建议提供明确的拒绝理由，改善用户体验"})}),s.jsx("li",{children:"已过期的申请无法拒绝"}),s.jsx("li",{children:s.jsx("strong",{children:"只能处理当前登录用户有管理权限的群组申请"})}),s.jsx("li",{children:"拒绝申请不可撤销，申请人需要重新申请"})]})})]})},YT={teamId:"",teamType:1,chatBannedMode:0},XT="V2NIMTeamService.setTeamChatBannedMode",W$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState([]),v=E.useRef(!1),I=(()=>{const $=localStorage.getItem(XT);if($)try{const F=JSON.parse($);return{...YT,...F}}catch(F){return console.error("解析存储的表单数据失败:",F),YT}return YT})(),T=async()=>{var z;if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0),console.log("API V2NIMTeamService.getJoinedTeamList execute, params:",void 0);const[$,F]=await Kn(()=>{var H;return(H=window.nim)==null?void 0:H.V2NIMTeamService.getJoinedTeamList([e.getFieldValue("teamType")])});if($)ie.error(`获取群组列表失败: ${$.toString()}`),console.error("获取群组列表失败:",$),g([]);else{console.log("获取群组列表成功, 结果:",F);const H=(z=window.nim)==null?void 0:z.V2NIMLoginService.getLoginUser(),V=(F||[]).filter(K=>K.isValidTeam?K.ownerAccountId===H?!0:K.ownerAccountId===H:!1);g(V),V.length===0?ie.info("暂无可管理的群组（只有群主和管理员才能设置禁言模式）"):ie.success(`获取到 ${V.length} 个可管理的群组`)}i(!1)};E.useEffect(()=>{!v.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(v.current=!0,T())},[]);const _=()=>{e.setFieldsValue({teamId:""}),T()},N=$=>{const F=d.find(z=>z.teamId===$);F&&e.setFieldsValue({teamId:$,teamType:F.teamType})},A=async $=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{teamId:F,teamType:z,chatBannedMode:H}=$;if(!F.trim()){ie.error("请选择群组");return}n(!0),console.log("API V2NIMTeamService.setTeamChatBannedMode execute, params:",{teamId:F,teamType:z,chatBannedMode:H});const[V]=await Kn(()=>{var K;return(K=window.nim)==null?void 0:K.V2NIMTeamService.setTeamChatBannedMode(F,z,H)});V?(ie.error(`设置群组禁言模式失败: ${V.toString()}`),console.error("设置群组禁言模式失败:",V.toString())):(ie.success("设置群组禁言模式成功"),console.log("设置群组禁言模式成功")),n(!1),localStorage.setItem(XT,JSON.stringify($))},w=()=>{localStorage.removeItem(XT),e.setFieldsValue(YT),ie.success("表单已重置为默认值")},O=()=>{T()},R=()=>{const $=e.getFieldsValue(),{teamId:F,teamType:z,chatBannedMode:H}=$;if(!F.trim()){ie.error("请先选择群组");return}const V=`await window.nim.V2NIMTeamService.setTeamChatBannedMode("${F}", ${z}, ${H});`;console.log("V2NIMTeamService.setTeamChatBannedMode 调用语句:"),console.log(V),ie.success("调用语句已输出到控制台")},D=[{label:"不禁言",value:0,description:"群组成员可以自由发言"},{label:"普通成员禁言",value:1,description:"普通成员禁言，不包括管理员和群主"},{label:"全员禁言",value:2,description:"群组所有成员都被禁言，该状态只能通过 OpenAPI 发起"}],j=$=>{switch($){case 1:return"高级群";case 2:return"超大群";default:return`未知(${$})`}},L=$=>{switch($){case 0:return"不禁言";case 1:return"普通成员禁言";case 2:return"全员禁言";default:return`未知(${$})`}},U=$=>{switch($){case 0:return s.jsx(ln,{color:"green",children:"不禁言"});case 1:return s.jsx(ln,{color:"orange",children:"普通成员禁言"});case 2:return s.jsx(ln,{color:"red",children:"全员禁言"});default:return s.jsx(ln,{children:"未知"})}};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:A,style:{marginTop:24},initialValues:I,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:XT})})},"api"),s.jsx(Ie.Item,{label:"群组列表",children:s.jsx(on,{direction:"vertical",style:{width:"100%"},children:s.jsxs(on,{children:[s.jsx(Ze,{onClick:O,loading:r,size:"small",children:"刷新群组列表"}),s.jsx("span",{style:{color:"#666",fontSize:"12px"},children:r?"正在获取...":`共 ${d.length} 个可管理群组`})]})})}),s.jsx(Ie.Item,{label:"选择群组",name:"teamId",rules:[{required:!0,message:"请选择要设置禁言模式的群组"}],children:s.jsx(an,{placeholder:"请选择要设置禁言模式的群组",loading:r,onSelect:N,showSearch:!0,optionFilterProp:"children",style:{width:"100%"},notFoundContent:r?"正在获取群组列表...":"暂无可管理的群组",dropdownRender:$=>s.jsxs("div",{children:[$,s.jsx("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",size:"small",onClick:O,loading:r,style:{padding:0},children:"刷新群组列表"})})]}),children:d.map($=>s.jsxs(an.Option,{value:$.teamId,children:[$.name||$.teamId," (",j($.teamType),") - ",$.teamId]},$.teamId))})}),s.jsx(Ie.Item,{label:"群组类型",name:"teamType",rules:[{required:!0,message:"请选择群组类型"}],tooltip:"必须与要操作的群组类型一致",children:s.jsxs(Dr.Group,{onChange:_,children:[s.jsx(Dr,{value:1,children:"高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx(Dr,{value:2,children:"超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})}),s.jsx(Ie.Item,{label:"禁言模式",name:"chatBannedMode",rules:[{required:!0,message:"请选择禁言模式"}],tooltip:"设置群组的禁言模式",children:s.jsx(Dr.Group,{children:D.map($=>s.jsx(Dr,{value:$.value,style:{display:"block",marginBottom:8},children:s.jsxs(on,{direction:"vertical",size:2,children:[s.jsxs("span",{children:[$.label," (",L($.value),")"]}),s.jsx("span",{style:{color:"#666",fontSize:"12px"},children:$.description})]})},$.value))})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"设置禁言模式"}),s.jsx(Ze,{type:"default",onClick:w,children:"重置"}),s.jsx(Ze,{type:"default",onClick:R,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"选择群组:"})," ","从已加入的群组列表中选择要设置禁言模式的群组（只有群主和管理员才能设置）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"权限要求:"})," 只有群主和管理员才能设置群组禁言模式"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"禁言模式类型:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[U(0)," - 群组成员可以自由发言"]}),s.jsxs("li",{children:[U(1)," - 普通成员禁言，不包括管理员和群主"]}),s.jsxs("li",{children:[U(2)," - 群组所有成员都被禁言，该状态只能通过 OpenAPI 发起"]})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群组类型:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[j(1)," (V2NIM_TEAM_TYPE_NORMAL = 1)"]}),s.jsxs("li",{children:[j(2)," (V2NIM_TEAM_TYPE_SUPER = 2)"]})]})]}),s.jsx("li",{children:"选择群组后，系统会自动填充对应的群组类型"}),s.jsx("li",{children:"支持按群组名称或ID搜索群组"}),s.jsx("li",{children:'可以点击"刷新群组列表"按钮获取最新的群组信息'})]})}),s.jsx(_t,{title:"操作结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"操作成功后的事件触发："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"所有群成员端:"})," SDK 会抛出 V2NIMTeamListener.onTeamInfoUpdated 事件"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群组中的成员:"})," 会收到一条通知类消息，通知类型为 V2NIM_MESSAGE_NOTIFICATION_TYPE_TEAM_UPDATE_TINFO"]})]})]}),s.jsx("li",{children:"设置成功后，禁言模式将立即生效"}),s.jsx("li",{children:"普通成员禁言时，只有群主和管理员可以发言"}),s.jsx("li",{children:"全员禁言时，所有成员都无法发言"})]})}),s.jsx(_t,{title:"API 参数说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"teamId (string):"})," 群组ID，不能为空"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamType (V2NIMTeamType):"})," 群组类型",s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"1:"})," 高级群 (V2NIM_TEAM_TYPE_NORMAL)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"2:"})," 超大群 (V2NIM_TEAM_TYPE_SUPER)"]})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"chatBannedMode (V2NIMTeamChatBannedMode):"})," 禁言模式",s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"0:"})," 不禁言 (V2NIM_TEAM_CHAT_BANNED_MODE_NONE)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"1:"})," 普通成员禁言 (V2NIM_TEAM_CHAT_BANNED_MODE_BANNED_NORMAL)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"2:"})," 全员禁言 (V2NIM_TEAM_CHAT_BANNED_MODE_BANNED_ALL)"]})]})]})]})}),s.jsx(_t,{title:"禁言模式详解",style:{marginTop:16},size:"small",children:s.jsxs("div",{style:{margin:0},children:[s.jsxs("div",{style:{marginBottom:12},children:[s.jsxs("strong",{children:["不禁言 ",U(0),":"]}),s.jsxs("ul",{style:{marginTop:4,paddingLeft:20},children:[s.jsx("li",{children:"所有群成员都可以正常发言"}),s.jsx("li",{children:"没有任何发言限制"}),s.jsx("li",{children:"默认的群组状态"})]})]}),s.jsxs("div",{style:{marginBottom:12},children:[s.jsxs("strong",{children:["普通成员禁言 ",U(1),":"]}),s.jsxs("ul",{style:{marginTop:4,paddingLeft:20},children:[s.jsx("li",{children:"只有群主和管理员可以发言"}),s.jsx("li",{children:"普通成员无法发送消息"}),s.jsx("li",{children:"常用于群公告、重要通知等场景"})]})]}),s.jsxs("div",{children:[s.jsxs("strong",{children:["全员禁言 ",U(2),":"]}),s.jsxs("ul",{style:{marginTop:4,paddingLeft:20},children:[s.jsx("li",{children:"所有群成员都无法发言（包括群主和管理员）"}),s.jsx("li",{children:"该状态只能通过 OpenAPI 发起"}),s.jsx("li",{children:"通常用于紧急情况或群组维护"})]})]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保已登录并完成数据同步"})}),s.jsx("li",{children:s.jsx("strong",{children:"只有群主和管理员才能执行此操作"})}),s.jsx("li",{children:s.jsx("strong",{children:"全员禁言模式只能通过 OpenAPI 发起，客户端 API 无法设置"})}),s.jsx("li",{children:"禁言模式设置后立即生效，请谨慎操作"}),s.jsx("li",{children:"设置成功会触发 onTeamInfoUpdated 事件，请注意监听相关事件"}),s.jsx("li",{children:s.jsx("strong",{children:"建议配合 V2NIMTeamService.on 监听群组事件获取实时通知"})}),s.jsx("li",{children:"普通成员禁言时，被禁言的成员会收到相应的提示"}),s.jsx("li",{children:"群主和管理员在任何禁言模式下都保持发言权限（除了全员禁言）"}),s.jsx("li",{children:s.jsx("strong",{children:"合理使用禁言功能，避免影响群组正常交流"})})]})})]})},JT={teamId:"",teamType:1,accountId:"",chatBanned:!0},QT="V2NIMTeamService.setTeamMemberChatBannedStatus",Y$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState(!1),[v,S]=E.useState([]),[I,T]=E.useState([]),_=E.useRef(!1),A=(()=>{const K=localStorage.getItem(QT);if(K)try{const J=JSON.parse(K);return{...JT,...J}}catch(J){return console.error("解析存储的表单数据失败:",J),JT}return JT})(),w=async()=>{var te;if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0),console.log("API V2NIMTeamService.getJoinedTeamList execute, params:",void 0);const[K,J]=await Kn(()=>{var Z;return(Z=window.nim)==null?void 0:Z.V2NIMTeamService.getJoinedTeamList([e.getFieldValue("teamType")])});if(K)ie.error(`获取群组列表失败: ${K.toString()}`),console.error("获取群组列表失败:",K),S([]);else{console.log("获取群组列表成功, 结果:",J);const Z=(te=window.nim)==null?void 0:te.V2NIMLoginService.getLoginUser(),X=(J||[]).filter(re=>re.isValidTeam?re.ownerAccountId===Z?!0:re.ownerAccountId===Z:!1);S(X),X.length===0?ie.info("暂无可管理的群组（只有群主和管理员才能设置成员禁言状态）"):ie.success(`获取到 ${X.length} 个可管理的群组`)}i(!1)};E.useEffect(()=>{!_.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(_.current=!0,w())},[]);const O=()=>{e.setFieldsValue({teamId:"",accountId:""}),T([]),w()},R=async(K,J)=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}g(!0),T([]);try{let te=[],Z="",X=!1;for(;!X;){const re={roleQueryType:0,onlyChatBanned:!1,direction:1,limit:100,nextToken:Z},[ee,ae]=await Kn(()=>{var de;return(de=window.nim)==null?void 0:de.V2NIMTeamService.getTeamMemberList(K,J,re)});if(ee){ie.error(`获取群成员列表失败: ${ee.toString()}`),console.error("获取群成员列表失败:",ee.toString());break}ae&&ae.memberList?(te=[...te,...ae.memberList],Z=ae.nextToken||"",X=ae.finished||!1):X=!0}console.log("获取群成员列表成功:",te),T(te)}catch(te){ie.error(`获取群成员列表失败: ${te}`),console.error("获取群成员列表失败:",te)}g(!1)},D=K=>{const J=v.find(te=>te.teamId===K);J&&(e.setFieldsValue({teamId:K,teamType:J.teamType,accountId:""}),R(K,J.teamType))},j=()=>{const K=e.getFieldValue("teamId"),J=e.getFieldValue("teamType");K&&J?R(K,J):ie.warning("请先选择群组")},L=K=>{const J=U(K.memberRole),te=K.chatBanned?"已禁言":"未禁言";return K.teamNick?`${K.teamNick} (${K.accountId}) [${J}] [${te}]`:`${K.accountId} [${J}] [${te}]`},U=K=>{switch(K){case 1:return"群主";case 2:return"管理员";case 0:return"普通成员";default:return`未知(${K})`}},$=async K=>{var ae;if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{teamId:J,teamType:te,accountId:Z,chatBanned:X}=K;if(!J.trim()){ie.error("请选择群组");return}if(!Z.trim()){ie.error("请选择群成员");return}const re=(ae=window.nim)==null?void 0:ae.V2NIMLoginService.getLoginUser();if(Z===re){ie.error("不能对自己设置禁言状态");return}n(!0),console.log("API V2NIMTeamService.setTeamMemberChatBannedStatus execute, params:",{teamId:J,teamType:te,accountId:Z,chatBanned:X});const[ee]=await Kn(()=>{var de;return(de=window.nim)==null?void 0:de.V2NIMTeamService.setTeamMemberChatBannedStatus(J,te,Z,X)});if(ee)ie.error(`设置群成员禁言状态失败: ${ee.toString()}`),console.error("设置群成员禁言状态失败:",ee.toString());else{const de=X?"禁言":"解除禁言";ie.success(`设置群成员${de}状态成功`),console.log(`设置群成员${de}状态成功`);const he=e.getFieldValue("teamId"),ue=e.getFieldValue("teamType");he&&ue&&R(he,ue)}n(!1),localStorage.setItem(QT,JSON.stringify(K))},F=()=>{localStorage.removeItem(QT),e.setFieldsValue(JT),T([]),ie.success("表单已重置为默认值")},z=()=>{w()},H=()=>{const K=e.getFieldsValue(),{teamId:J,teamType:te,accountId:Z,chatBanned:X}=K;if(!J.trim()){ie.error("请先选择群组");return}if(!Z.trim()){ie.error("请先选择群成员");return}const re=`await window.nim.V2NIMTeamService.setTeamMemberChatBannedStatus("${J}", ${te}, "${Z}", ${X});`;console.log("V2NIMTeamService.setTeamMemberChatBannedStatus 调用语句:"),console.log(re),ie.success("调用语句已输出到控制台")},V=K=>{switch(K){case 1:return"高级群";case 2:return"超大群";default:return`未知(${K})`}};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:$,style:{marginTop:24},initialValues:A,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:QT})})},"api"),s.jsx(Ie.Item,{label:"群组列表",children:s.jsx(on,{direction:"vertical",style:{width:"100%"},children:s.jsxs(on,{children:[s.jsx(Ze,{onClick:z,loading:r,size:"small",children:"刷新群组列表"}),s.jsx("span",{style:{color:"#666",fontSize:"12px"},children:r?"正在获取...":`共 ${v.length} 个可管理群组`})]})})}),s.jsx(Ie.Item,{label:"选择群组",name:"teamId",rules:[{required:!0,message:"请选择要管理的群组"}],children:s.jsx(an,{placeholder:"请选择要管理的群组",loading:r,onSelect:D,showSearch:!0,optionFilterProp:"children",style:{width:"100%"},notFoundContent:r?"正在获取群组列表...":"暂无可管理的群组",dropdownRender:K=>s.jsxs("div",{children:[K,s.jsx("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",size:"small",onClick:z,loading:r,style:{padding:0},children:"刷新群组列表"})})]}),children:v.map(K=>s.jsxs(an.Option,{value:K.teamId,children:[K.name||K.teamId," (",V(K.teamType),") - ",K.teamId]},K.teamId))})}),s.jsx(Ie.Item,{label:"群组类型",name:"teamType",rules:[{required:!0,message:"请选择群组类型"}],tooltip:"必须与要操作的群组类型一致",children:s.jsxs(Dr.Group,{onChange:O,children:[s.jsx(Dr,{value:1,children:"高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx(Dr,{value:2,children:"超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})}),s.jsx(Ie.Item,{label:"选择成员",name:"accountId",rules:[{required:!0,message:"请选择要设置禁言状态的群成员"}],tooltip:"支持从成员列表中选择，也可以手动输入账号ID",children:s.jsx(an,{placeholder:"请选择要设置禁言状态的群成员",loading:d,showSearch:!0,optionFilterProp:"children",allowClear:!0,dropdownRender:K=>s.jsxs("div",{children:[K,s.jsxs("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:[s.jsx(Ze,{type:"link",size:"small",onClick:j,loading:d,style:{padding:0},children:"刷新成员列表"}),s.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"提示：可以从列表中选择成员，也可以直接输入账号ID"})]})]}),notFoundContent:d?"加载中...":I.length===0?"请先选择群组以加载成员列表":"未找到匹配的成员",children:I.filter(K=>{var J;return K.inTeam&&K.accountId!==((J=window.nim)==null?void 0:J.V2NIMLoginService.getLoginUser())}).map(K=>s.jsx(an.Option,{value:K.accountId,children:L(K)},K.accountId))})}),s.jsx(Ie.Item,{label:"禁言状态",name:"chatBanned",valuePropName:"checked",tooltip:"设置成员的禁言状态：开启表示禁言，关闭表示解除禁言",children:s.jsx(ds,{checkedChildren:"禁言",unCheckedChildren:"解除禁言",style:{backgroundColor:e.getFieldValue("chatBanned")?"#ff4d4f":"#52c41a"}})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"设置禁言状态"}),s.jsx(Ze,{type:"default",onClick:F,children:"重置"}),s.jsx(Ze,{type:"default",onClick:H,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"选择群组:"})," ","从已加入的群组列表中选择要管理的群组（只有群主和管理员才能管理）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"选择成员:"})," 要设置禁言状态的群成员",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"支持从群成员列表中选择成员"}),s.jsx("li",{children:"也可以手动输入账号ID"}),s.jsx("li",{children:"成员列表会显示群昵称、账号ID、身份和当前禁言状态"}),s.jsx("li",{children:"只显示当前在群中的成员（排除当前用户）"}),s.jsx("li",{children:"不能对自己设置禁言状态"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"权限要求:"})," 只有群主和管理员才能设置成员禁言状态"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"禁言状态:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx(ln,{color:"red",children:"禁言"})," - 该成员无法在群组中发送消息"]}),s.jsxs("li",{children:[s.jsx(ln,{color:"green",children:"解除禁言"})," - 该成员可以正常在群组中发送消息"]})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群组类型:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[V(1)," (V2NIM_TEAM_TYPE_NORMAL = 1)"]}),s.jsxs("li",{children:[V(2)," (V2NIM_TEAM_TYPE_SUPER = 2)"]})]})]}),s.jsx("li",{children:"选择群组后，系统会自动填充对应的群组类型"}),s.jsx("li",{children:"支持按群组名称或ID搜索群组"}),s.jsx("li",{children:"选择群组后会自动加载该群组的成员列表"}),s.jsx("li",{children:'可以点击"刷新群组列表"按钮获取最新的群组信息'}),s.jsx("li",{children:'可以点击"刷新成员列表"按钮获取最新的成员信息'}),s.jsx("li",{children:"支持按成员昵称或账号ID搜索成员"}),s.jsx("li",{children:"操作成功后会自动刷新成员列表以显示最新的禁言状态"})]})}),s.jsx(_t,{title:"操作结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"操作成功后的事件触发："}),s.jsx("ul",{style:{marginTop:4},children:s.jsxs("li",{children:[s.jsx("strong",{children:"所有群成员端:"})," SDK 会抛出 V2NIMTeamListener.onTeamMemberInfoUpdated 事件"]})})]}),s.jsx("li",{children:"设置成功后，成员的禁言状态将立即生效"}),s.jsx("li",{children:"被禁言的成员将无法在群组中发送消息"}),s.jsx("li",{children:"解除禁言后，成员可以正常发送消息"}),s.jsx("li",{children:"群主和管理员不受禁言设置影响，始终可以发言"})]})}),s.jsx(_t,{title:"API 参数说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"teamId (string):"})," 群组ID，不能为空"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamType (V2NIMTeamType):"})," 群组类型",s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"1:"})," 高级群 (V2NIM_TEAM_TYPE_NORMAL)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"2:"})," 超大群 (V2NIM_TEAM_TYPE_SUPER)"]})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"accountId (string):"})," 被修改成员的账号ID，不能为空且不能是自己"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"chatBanned (boolean):"})," 群组中聊天是否被禁言",s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"true:"})," 被禁言，该成员无法发送消息"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"false:"})," 未禁言，该成员可以正常发送消息"]})]})]})]})}),s.jsx(_t,{title:"禁言功能详解",style:{marginTop:16},size:"small",children:s.jsxs("div",{style:{margin:0},children:[s.jsxs("div",{style:{marginBottom:12},children:[s.jsx("strong",{children:"个人禁言 vs 群组禁言："}),s.jsxs("ul",{style:{marginTop:4,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"个人禁言（本 API）:"})," 针对特定成员设置禁言状态，被禁言的成员无法发言"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群组禁言:"})," 针对整个群组设置禁言模式，如普通成员禁言、全员禁言等"]})]})]}),s.jsxs("div",{style:{marginBottom:12},children:[s.jsx("strong",{children:"禁言优先级："}),s.jsxs("ul",{style:{marginTop:4,paddingLeft:20},children:[s.jsx("li",{children:"个人禁言状态优先于群组禁言模式"}),s.jsx("li",{children:"即使群组未开启禁言模式，被个人禁言的成员仍无法发言"}),s.jsx("li",{children:"群主和管理员通常不受禁言限制（除非特殊设置）"})]})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"使用场景："}),s.jsxs("ul",{style:{marginTop:4,paddingLeft:20},children:[s.jsx("li",{children:"对违规发言的成员进行处罚"}),s.jsx("li",{children:"临时限制某些成员的发言权限"}),s.jsx("li",{children:"维护群组秩序和讨论质量"}),s.jsx("li",{children:"配合群组管理策略使用"})]})]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保已登录并完成数据同步"})}),s.jsx("li",{children:s.jsx("strong",{children:"只有群主和管理员才能执行此操作"})}),s.jsx("li",{children:s.jsx("strong",{children:"不能对自己设置禁言状态"})}),s.jsx("li",{children:s.jsx("strong",{children:"不能对群主设置禁言状态"})}),s.jsx("li",{children:"管理员之间可能无法相互禁言（取决于具体权限设置）"}),s.jsx("li",{children:"禁言状态设置后立即生效，请谨慎操作"}),s.jsx("li",{children:"设置成功会触发 onTeamMemberInfoUpdated 事件，请注意监听相关事件"}),s.jsx("li",{children:s.jsx("strong",{children:"建议配合 V2NIMTeamService.on 监听群组事件获取实时通知"})}),s.jsx("li",{children:"被禁言的成员会收到相应的提示信息"}),s.jsx("li",{children:s.jsx("strong",{children:"合理使用禁言功能，维护良好的群组氛围"})}),s.jsx("li",{children:"建议在禁言前先警告违规成员，给予改正机会"}),s.jsx("li",{children:s.jsx("strong",{children:"禁言不是目的，维护群组秩序才是目标"})})]})})]})},ZT={teamId:"",teamType:1,accountId:"",leave:!1},eM="V2NIMTeamService.transferTeamOwner",X$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState(!1),[v,S]=E.useState([]),[I,T]=E.useState([]),_=E.useRef(!1),A=(()=>{const K=localStorage.getItem(eM);if(K)try{const J=JSON.parse(K);return{...ZT,...J}}catch(J){return console.error("解析存储的表单数据失败:",J),ZT}return ZT})(),w=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0),console.log("API V2NIMTeamService.getJoinedTeamList execute, params:",void 0);const[K,J]=await Kn(()=>{var te;return(te=window.nim)==null?void 0:te.V2NIMTeamService.getJoinedTeamList([e.getFieldValue("teamType")])});if(K)ie.error(`获取群组列表失败: ${K.toString()}`),console.error("获取群组列表失败:",K),S([]);else{console.log("获取群组列表成功, 结果:",J);const te=(J||[]).filter(Z=>{var X;return Z.isValidTeam&&Z.ownerAccountId===((X=window.nim)==null?void 0:X.V2NIMLoginService.getLoginUser())});S(te),te.length===0?ie.info("暂无可管理的群组（只有群主才能转让群主）"):ie.success(`获取到 ${te.length} 个可管理的群组`)}i(!1)};E.useEffect(()=>{!_.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(_.current=!0,w())},[]);const O=()=>{e.setFieldsValue({teamId:"",accountId:""}),T([]),w()},R=async(K,J)=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}g(!0),T([]);try{let te=[],Z="",X=!1;for(;!X;){const re={roleQueryType:0,onlyChatBanned:!1,direction:1,limit:100,nextToken:Z},[ee,ae]=await Kn(()=>{var de;return(de=window.nim)==null?void 0:de.V2NIMTeamService.getTeamMemberList(K,J,re)});if(ee){ie.error(`获取群成员列表失败: ${ee.toString()}`),console.error("获取群成员列表失败:",ee.toString());break}ae&&ae.memberList?(te=[...te,...ae.memberList],Z=ae.nextToken||"",X=ae.finished||!1):X=!0}console.log("获取群成员列表成功:",te),T(te)}catch(te){ie.error(`获取群成员列表失败: ${te}`),console.error("获取群成员列表失败:",te)}g(!1)},D=K=>{const J=v.find(te=>te.teamId===K);J&&(e.setFieldsValue({teamId:K,teamType:J.teamType,accountId:""}),R(K,J.teamType))},j=()=>{const K=e.getFieldValue("teamId"),J=e.getFieldValue("teamType");K&&J?R(K,J):ie.warning("请先选择群组")},L=K=>{const J=U(K.memberRole);return K.teamNick?`${K.teamNick} (${K.accountId}) [${J}]`:`${K.accountId} [${J}]`},U=K=>{switch(K){case 1:return"群主";case 2:return"管理员";case 0:return"普通成员";default:return`未知(${K})`}},$=async K=>{var ae;if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{teamId:J,teamType:te,accountId:Z,leave:X}=K;if(!J.trim()){ie.error("请选择群组");return}if(!Z.trim()){ie.error("请选择新群主");return}const re=(ae=window.nim)==null?void 0:ae.V2NIMLoginService.getLoginUser();if(Z===re){ie.error("不能转让群主给自己");return}n(!0),console.log("API V2NIMTeamService.transferTeamOwner execute, params:",{teamId:J,teamType:te,accountId:Z,leave:X});const[ee]=await Kn(()=>{var de;return(de=window.nim)==null?void 0:de.V2NIMTeamService.transferTeamOwner(J,te,Z,X)});ee?(ie.error(`转让群主失败: ${ee.toString()}`),console.error("转让群主失败:",ee.toString())):(ie.success("转让群主成功"),console.log("转让群主成功"),X&&(ie.info("您已退出该群组"),w())),n(!1),localStorage.setItem(eM,JSON.stringify(K))},F=()=>{localStorage.removeItem(eM),e.setFieldsValue(ZT),T([]),ie.success("表单已重置为默认值")},z=()=>{w()},H=()=>{const K=e.getFieldsValue(),{teamId:J,teamType:te,accountId:Z,leave:X}=K;if(!J.trim()){ie.error("请先选择群组");return}if(!Z.trim()){ie.error("请先选择新群主");return}const re=`await window.nim.V2NIMTeamService.transferTeamOwner("${J}", ${te}, "${Z}", ${X});`;console.log("V2NIMTeamService.transferTeamOwner 调用语句:"),console.log(re),ie.success("调用语句已输出到控制台")},V=K=>{switch(K){case 1:return"高级群";case 2:return"超大群";default:return`未知(${K})`}};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:$,style:{marginTop:24},initialValues:A,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:eM})})},"api"),s.jsx(Ie.Item,{label:"群组列表",children:s.jsx(on,{direction:"vertical",style:{width:"100%"},children:s.jsxs(on,{children:[s.jsx(Ze,{onClick:z,loading:r,size:"small",children:"刷新群组列表"}),s.jsx("span",{style:{color:"#666",fontSize:"12px"},children:r?"正在获取...":`共 ${v.length} 个可管理群组`})]})})}),s.jsx(Ie.Item,{label:"选择群组",name:"teamId",rules:[{required:!0,message:"请选择要转让群主的群组"}],children:s.jsx(an,{placeholder:"请选择要转让群主的群组",loading:r,onSelect:D,showSearch:!0,optionFilterProp:"children",style:{width:"100%"},notFoundContent:r?"正在获取群组列表...":"暂无可管理的群组",dropdownRender:K=>s.jsxs("div",{children:[K,s.jsx("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",size:"small",onClick:z,loading:r,style:{padding:0},children:"刷新群组列表"})})]}),children:v.map(K=>s.jsxs(an.Option,{value:K.teamId,children:[K.name||K.teamId," (",V(K.teamType),") - ",K.teamId]},K.teamId))})}),s.jsx(Ie.Item,{label:"群组类型",name:"teamType",rules:[{required:!0,message:"请选择群组类型"}],tooltip:"必须与要操作的群组类型一致",children:s.jsxs(Dr.Group,{onChange:O,children:[s.jsx(Dr,{value:1,children:"高级群 (V2NIM_TEAM_TYPE_NORMAL)"}),s.jsx(Dr,{value:2,children:"超大群 (V2NIM_TEAM_TYPE_SUPER)"})]})}),s.jsx(Ie.Item,{label:"选择新群主",name:"accountId",rules:[{required:!0,message:"请选择新的群主"}],tooltip:"支持从成员列表中选择，也可以手动输入账号ID",children:s.jsx(an,{placeholder:"请选择新的群主",loading:d,showSearch:!0,optionFilterProp:"children",allowClear:!0,dropdownRender:K=>s.jsxs("div",{children:[K,s.jsxs("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:[s.jsx(Ze,{type:"link",size:"small",onClick:j,loading:d,style:{padding:0},children:"刷新成员列表"}),s.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"提示：可以从列表中选择成员，也可以直接输入账号ID"})]})]}),notFoundContent:d?"加载中...":I.length===0?"请先选择群组以加载成员列表":"未找到匹配的成员",children:I.filter(K=>{var J;return K.inTeam&&K.memberRole!==1&&K.accountId!==((J=window.nim)==null?void 0:J.V2NIMLoginService.getLoginUser())}).map(K=>s.jsx(an.Option,{value:K.accountId,children:L(K)},K.accountId))})}),s.jsx(Ie.Item,{label:"转让后退出",name:"leave",valuePropName:"checked",tooltip:"转让群主后，是否同时退出该群组",children:s.jsx(ds,{checkedChildren:"是",unCheckedChildren:"否"})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"转让群主"}),s.jsx(Ze,{type:"default",onClick:F,children:"重置"}),s.jsx(Ze,{type:"default",onClick:H,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"选择群组:"})," 从已加入的群组列表中选择要转让群主的群组（只有群主才能转让）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"选择新群主:"})," 要转让群主权限的群成员",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"支持从群成员列表中选择成员"}),s.jsx("li",{children:"也可以手动输入账号ID"}),s.jsx("li",{children:"成员列表会显示群昵称、账号ID和身份"}),s.jsx("li",{children:"只显示当前在群中的成员（排除群主和当前用户）"}),s.jsx("li",{children:"不能转让给自己"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"权限要求:"})," 只有群主才能转让群主权限"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"转让后退出:"})," 可选择转让群主后是否同时退出该群组"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"群组类型:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[V(1)," (V2NIM_TEAM_TYPE_NORMAL = 1)"]}),s.jsxs("li",{children:[V(2)," (V2NIM_TEAM_TYPE_SUPER = 2)"]})]})]}),s.jsx("li",{children:"选择群组后，系统会自动填充对应的群组类型"}),s.jsx("li",{children:"支持按群组名称或ID搜索群组"}),s.jsx("li",{children:"选择群组后会自动加载该群组的成员列表"}),s.jsx("li",{children:'可以点击"刷新群组列表"按钮获取最新的群组信息'}),s.jsx("li",{children:'可以点击"刷新成员列表"按钮获取最新的成员信息'}),s.jsx("li",{children:"支持按成员昵称或账号ID搜索成员"})]})}),s.jsx(_t,{title:"操作结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"操作成功后的事件触发："}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"所有群成员端:"})," SDK 会抛出 V2NIMTeamListener.onTeamInfoUpdated 事件"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"如果选择了转让后退出 (leave = true):"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"操作者端:"})," SDK 会抛出 V2NIMTeamListener.onTeamLeft 事件"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"其他成员端:"})," SDK 会抛出 V2NIMTeamListener.onTeamMemberLeft 事件"]})]})]})]})]}),s.jsx("li",{children:"转让成功后，新群主将立即获得群主权限"}),s.jsx("li",{children:"原群主将失去群主权限，变为普通成员（如果没有选择退出）"}),s.jsx("li",{children:"如果选择了转让后退出，原群主将离开群组"})]})}),s.jsx(_t,{title:"API 参数说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"teamId (string):"})," 群组ID，不能为空"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamType (V2NIMTeamType):"})," 群组类型",s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"1:"})," 高级群 (V2NIM_TEAM_TYPE_NORMAL)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"2:"})," 超大群 (V2NIM_TEAM_TYPE_SUPER)"]})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"accountId (string):"})," 新群主的账号ID，不能为空且不能是自己"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"leave (boolean):"})," 转让群主后是否同时退出该群，默认为 false"]})]})}),s.jsx(_t,{title:"群主权限说明",style:{marginTop:16},size:"small",children:s.jsxs("div",{style:{margin:0},children:[s.jsxs("div",{style:{marginBottom:12},children:[s.jsxs("strong",{children:["群主权限 ",s.jsx(ln,{color:"red",children:"群主"}),":"]}),s.jsxs("ul",{style:{marginTop:4,paddingLeft:20},children:[s.jsx("li",{children:"拥有所有群组管理权限"}),s.jsx("li",{children:"设置和移除管理员"}),s.jsx("li",{children:"转让群主身份"}),s.jsx("li",{children:"解散群组"}),s.jsx("li",{children:"踢出任何成员（包括管理员）"}),s.jsx("li",{children:"修改群信息（如群名称、群介绍等）"}),s.jsx("li",{children:"邀请新成员加入"}),s.jsx("li",{children:"审批入群申请"}),s.jsx("li",{children:"禁言和解禁成员"})]})]}),s.jsxs("div",{style:{color:"#cf1322"},children:[s.jsx("strong",{children:"⚠️ 注意事项："}),s.jsxs("ul",{style:{marginTop:4,paddingLeft:20},children:[s.jsx("li",{children:"群主权限转让后无法撤销，请谨慎操作"}),s.jsx("li",{children:"建议选择信任的群成员作为新群主"}),s.jsx("li",{children:"转让后如果选择不退出群组，您将变为普通成员"})]})]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff4d4f",backgroundColor:"#fff2f0"},size:"small",styles:{header:{backgroundColor:"#ffccc7",color:"#cf1322",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#cf1322"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保已登录并完成数据同步"})}),s.jsx("li",{children:s.jsx("strong",{children:"只有群主才能执行此操作"})}),s.jsx("li",{children:s.jsx("strong",{children:"不能转让群主给自己"})}),s.jsx("li",{children:s.jsx("strong",{children:"群主转让后无法撤销，请谨慎操作"})}),s.jsx("li",{children:"确保新群主确实存在于指定群组中"}),s.jsx("li",{children:"建议选择信任的群成员作为新群主"}),s.jsx("li",{children:"转让成功会触发相关事件，请注意监听相关事件"}),s.jsx("li",{children:s.jsx("strong",{children:"建议配合 V2NIMTeamService.on 监听群组事件获取实时通知"})}),s.jsx("li",{children:"如果选择转让后退出，您将离开该群组且无法自动重新加入"}),s.jsx("li",{children:s.jsx("strong",{children:"转让群主是不可逆操作，请确认后再执行"})})]})})]})},tM={teamId:"",teamType:1,memberAccountIds:[],memberRole:0},nM="V2NIMTeamService.updateTeamMemberRole",J$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),[d,g]=E.useState(!1),[v,S]=E.useState([]),[I,T]=E.useState([]),_=E.useRef(!1),A=(()=>{const X=localStorage.getItem(nM);if(X)try{const re=JSON.parse(X);return{...tM,...re}}catch(re){return console.error("解析存储的表单数据失败:",re),tM}return tM})(),w=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}i(!0),console.log("API V2NIMTeamService.getJoinedTeamList execute, params:",void 0);const[X,re]=await Kn(()=>{var ee;return(ee=window.nim)==null?void 0:ee.V2NIMTeamService.getJoinedTeamList([e.getFieldValue("teamType")])});if(X)ie.error(`获取群组列表失败: ${X.toString()}`),console.error("获取群组列表失败:",X),S([]);else{console.log("获取群组列表成功, 结果:",re);const ee=(re||[]).filter(ae=>{var de;return ae.isValidTeam&&ae.ownerAccountId===((de=window.nim)==null?void 0:de.V2NIMLoginService.getLoginUser())});S(ee),ee.length===0?ie.info("暂无可管理的群组（只有群主才能设置成员角色）"):ie.success(`获取到 ${ee.length} 个可管理的群组`)}i(!1)};E.useEffect(()=>{!_.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(_.current=!0,w())},[]);const O=()=>{e.setFieldsValue({teamId:"",memberAccountIds:[]}),T([]),w()},R=async(X,re)=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}g(!0),T([]);try{let ee=[],ae="",de=!1;for(;!de;){const he={roleQueryType:0,onlyChatBanned:!1,direction:1,limit:100,nextToken:ae},[ue,ye]=await Kn(()=>{var be;return(be=window.nim)==null?void 0:be.V2NIMTeamService.getTeamMemberList(X,re,he)});if(ue){ie.error(`获取群成员列表失败: ${ue.toString()}`),console.error("获取群成员列表失败:",ue.toString());break}ye&&ye.memberList?(ee=[...ee,...ye.memberList],ae=ye.nextToken||"",de=ye.finished||!1):de=!0}console.log("获取群成员列表成功:",ee),T(ee)}catch(ee){ie.error(`获取群成员列表失败: ${ee}`),console.error("获取群成员列表失败:",ee)}g(!1)},D=X=>{const re=v.find(ee=>ee.teamId===X);re&&(e.setFieldsValue({teamId:X,teamType:re.teamType,memberAccountIds:[]}),R(X,re.teamType))},j=()=>{const X=e.getFieldValue("teamId"),re=e.getFieldValue("teamType");X&&re?R(X,re):ie.warning("请先选择群组")},L=X=>{const re=U(X.memberRole);return X.teamNick?`${X.teamNick} (${X.accountId}) [${re}]`:`${X.accountId} [${re}]`},U=X=>{switch(X){case 1:return"群主";case 2:return"管理员";case 0:return"普通成员";default:return`未知(${X})`}},$=async X=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{teamId:re,teamType:ee,memberAccountIds:ae,memberRole:de}=X;if(!re.trim()){ie.error("请输入群组ID");return}if(ae.length===0){ie.error("请至少输入一个成员账号ID");return}n(!0),console.log("API V2NIMTeamService.updateTeamMemberRole execute, params:",{teamId:re,teamType:ee,memberAccountIds:ae,memberRole:de});const[he]=await Kn(()=>{var ue;return(ue=window.nim)==null?void 0:ue.V2NIMTeamService.updateTeamMemberRole(re,ee,ae,de)});he?(ie.error(`设置成员角色失败: ${he.toString()}`),console.error("设置成员角色失败:",he.toString())):(ie.success("设置成员角色成功"),console.log("设置成员角色成功")),n(!1),localStorage.setItem(nM,JSON.stringify(X))},F=()=>{localStorage.removeItem(nM),e.setFieldsValue(tM),ie.success("表单已重置为默认值")},z=()=>{w()},H=()=>{const X=e.getFieldsValue(),{teamId:re,teamType:ee,memberAccountIds:ae,memberRole:de}=X;if(!re.trim()){ie.error("请先输入群组ID");return}if(ae.length===0){ie.error("请先输入成员账号ID");return}const he=`await window.nim.V2NIMTeamService.updateTeamMemberRole("${re}", ${ee}, ${JSON.stringify(ae)}, ${de});`;console.log("V2NIMTeamService.updateTeamMemberRole 调用语句:"),console.log(he),ie.success("调用语句已输出到控制台")},V=[{label:"高级群",value:1},{label:"超大群",value:2}],K=[{label:"普通成员",value:0},{label:"管理员",value:2}],J=X=>{switch(X){case 1:return"高级群";case 2:return"超大群";default:return`未知(${X})`}},te=X=>{switch(X){case 0:return"普通成员";case 1:return"群主";case 2:return"管理员";default:return`未知(${X})`}},Z=X=>{switch(X){case 0:return s.jsx(ln,{color:"default",children:"普通成员"});case 1:return s.jsx(ln,{color:"red",children:"群主"});case 2:return s.jsx(ln,{color:"blue",children:"管理员"});default:return s.jsx(ln,{children:"未知"})}};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:$,style:{marginTop:24},initialValues:A,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMTeamService",target:"_blank",children:nM})})},"api"),s.jsx(Ie.Item,{label:"群组列表",children:s.jsx(on,{direction:"vertical",style:{width:"100%"},children:s.jsxs(on,{children:[s.jsx(Ze,{onClick:z,loading:r,size:"small",children:"刷新群组列表"}),s.jsx("span",{style:{color:"#666",fontSize:"12px"},children:r?"正在获取...":`共 ${v.length} 个可管理群组`})]})})}),s.jsx(Ie.Item,{label:"选择群组",name:"teamId",rules:[{required:!0,message:"请选择要管理的群组"}],children:s.jsx(an,{placeholder:"请选择要管理的群组",loading:r,onSelect:D,showSearch:!0,optionFilterProp:"children",style:{width:"100%"},notFoundContent:r?"正在获取群组列表...":"暂无可管理的群组",dropdownRender:X=>s.jsxs("div",{children:[X,s.jsx("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:s.jsx(Ze,{type:"link",size:"small",onClick:z,loading:r,style:{padding:0},children:"刷新群组列表"})})]}),children:v.map(X=>s.jsxs(an.Option,{value:X.teamId,children:[X.name||X.teamId," (",J(X.teamType),") - ",X.teamId]},X.teamId))})}),s.jsx(Ie.Item,{label:"群组类型",name:"teamType",rules:[{required:!0,message:"请选择群组类型"}],children:s.jsx(an,{placeholder:"请选择群组类型",options:V,onChange:O})}),s.jsx(Ie.Item,{label:"选择成员",name:"memberAccountIds",rules:[{required:!0,message:"请选择要设置角色的群成员"}],tooltip:"支持选择多个成员，也可以手动输入账号ID",children:s.jsx(an,{mode:"tags",placeholder:"请选择要设置角色的群成员（支持多选和手动输入）",loading:d,showSearch:!0,optionFilterProp:"children",dropdownRender:X=>s.jsxs("div",{children:[X,s.jsxs("div",{style:{padding:"8px",borderTop:"1px solid #f0f0f0"},children:[s.jsx(Ze,{type:"link",size:"small",onClick:j,loading:d,style:{padding:0},children:"刷新成员列表"}),s.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"提示：可以从列表中选择成员，也可以直接输入账号ID"})]})]}),notFoundContent:d?"加载中...":I.length===0?"请先选择群组以加载成员列表":"未找到匹配的成员",children:I.filter(X=>X.inTeam&&X.memberRole!==1).map(X=>s.jsx(an.Option,{value:X.accountId,children:L(X)},X.accountId))})}),s.jsx(Ie.Item,{label:"新角色",name:"memberRole",rules:[{required:!0,message:"请选择新的成员角色"}],children:s.jsx(an,{placeholder:"请选择新的成员角色",options:K})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"设置成员角色"}),s.jsx(Ze,{type:"default",onClick:F,children:"重置"}),s.jsx(Ze,{type:"default",onClick:H,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"选择群组:"})," 从已加入的群组列表中选择要管理的群组（只有群主才能管理）"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"选择成员:"})," 要设置角色的群成员",s.jsxs("ul",{style:{marginTop:4},children:[s.jsx("li",{children:"支持从群成员列表中选择多个成员"}),s.jsx("li",{children:"也可以手动输入账号ID（如果成员不在列表中）"}),s.jsx("li",{children:"成员列表会显示群昵称、账号ID和身份"}),s.jsx("li",{children:"只显示当前在群中的成员（排除群主）"})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"权限要求:"})," 只有群主才能设置成员角色"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"角色限制:"})," 只能在普通成员与管理员之间进行角色切换"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"批量操作:"})," 支持同时为多个成员设置相同的角色"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"角色一致性:"})," 如果成员设置的角色与当前角色一致，默认请求成功"]}),s.jsx("li",{children:"选择群组后，系统会自动填充对应的群组类型"}),s.jsx("li",{children:"支持按群组名称或ID搜索群组"}),s.jsx("li",{children:"选择群组后会自动加载该群组的成员列表"}),s.jsx("li",{children:'可以点击"刷新群组列表"按钮获取最新的群组信息'}),s.jsx("li",{children:'可以点击"刷新成员列表"按钮获取最新的成员信息'}),s.jsx("li",{children:"支持按成员昵称或账号ID搜索成员"}),s.jsxs("li",{children:[s.jsx("strong",{children:"群组类型:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[J(1)," (V2NIM_TEAM_TYPE_NORMAL = 1)"]}),s.jsxs("li",{children:[J(2)," (V2NIM_TEAM_TYPE_SUPER = 2)"]})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"成员角色:"}),s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[te(0)," (V2NIM_TEAM_MEMBER_ROLE_NORMAL = 0)"]}),s.jsxs("li",{children:[te(2)," (V2NIM_TEAM_MEMBER_ROLE_MANAGER = 2)"]})]})]})]})}),s.jsx(_t,{title:"操作结果说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"操作成功后的事件触发："}),s.jsx("ul",{style:{marginTop:4},children:s.jsxs("li",{children:[s.jsx("strong",{children:"所有群成员端:"})," SDK 会抛出 V2NIMTeamListener.onTeamMemberInfoUpdated 事件"]})})]}),s.jsx("li",{children:"设置成功后，目标成员的角色将立即生效"}),s.jsx("li",{children:"管理员将获得相应的群组管理权限"}),s.jsx("li",{children:"普通成员将失去管理员权限"})]})}),s.jsx(_t,{title:"API 参数说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"teamId (string):"})," 群组ID，不能为空"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"teamType (V2NIMTeamType):"})," 群组类型",s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"1:"})," 高级群 (V2NIM_TEAM_TYPE_NORMAL)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"2:"})," 超大群 (V2NIM_TEAM_TYPE_SUPER)"]})]})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"memberAccountIds (string[]):"})," 待操作的群组成员账号列表，不能为空"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"memberRole (V2NIMTeamMemberRole):"})," 新的角色类型",s.jsxs("ul",{style:{marginTop:4},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"0:"})," 普通成员 (V2NIM_TEAM_MEMBER_ROLE_NORMAL)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"2:"})," 管理员 (V2NIM_TEAM_MEMBER_ROLE_MANAGER)"]})]})]})]})}),s.jsx(_t,{title:"角色权限对比",style:{marginTop:16},size:"small",children:s.jsxs("div",{style:{margin:0},children:[s.jsxs("div",{style:{marginBottom:12},children:[s.jsxs("strong",{children:["普通成员 ",Z(0),":"]}),s.jsxs("ul",{style:{marginTop:4,paddingLeft:20},children:[s.jsx("li",{children:"发送和接收群消息"}),s.jsx("li",{children:"查看群信息和成员列表"}),s.jsx("li",{children:"退出群组"})]})]}),s.jsxs("div",{style:{marginBottom:12},children:[s.jsxs("strong",{children:["管理员 ",Z(2),":"]}),s.jsxs("ul",{style:{marginTop:4,paddingLeft:20},children:[s.jsx("li",{children:"拥有普通成员的所有权限"}),s.jsx("li",{children:"踢出普通成员"}),s.jsx("li",{children:"邀请新成员加入"}),s.jsx("li",{children:"审批入群申请"}),s.jsx("li",{children:"修改群信息（如群名称、群介绍等）"}),s.jsx("li",{children:"禁言和解禁成员"})]})]}),s.jsxs("div",{children:[s.jsxs("strong",{children:["群主 ",Z(1),":"]}),s.jsxs("ul",{style:{marginTop:4,paddingLeft:20},children:[s.jsx("li",{children:"拥有管理员的所有权限"}),s.jsx("li",{children:"设置和移除管理员"}),s.jsx("li",{children:"转让群主身份"}),s.jsx("li",{children:"解散群组"}),s.jsx("li",{children:"踢出管理员"})]})]})]})}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff4d4f",backgroundColor:"#fff2f0"},size:"small",styles:{header:{backgroundColor:"#ffccc7",color:"#cf1322",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#cf1322"},children:[s.jsx("li",{children:s.jsx("strong",{children:"确保已登录并完成数据同步"})}),s.jsx("li",{children:s.jsx("strong",{children:"只有群主才能执行此操作"})}),s.jsx("li",{children:s.jsx("strong",{children:"不能设置群主角色 (memberRole = 1)，群主身份只能通过转让获得"})}),s.jsx("li",{children:s.jsx("strong",{children:"只能在普通成员(0)和管理员(2)之间切换角色"})}),s.jsx("li",{children:"批量设置时，所有指定成员将被设置为相同角色"}),s.jsx("li",{children:"设置成功会触发 onTeamMemberInfoUpdated 事件，请注意监听相关事件"}),s.jsx("li",{children:s.jsx("strong",{children:"建议配合 V2NIMTeamService.on 监听群组事件获取实时通知"})}),s.jsx("li",{children:"确保要操作的成员确实存在于指定群组中"}),s.jsx("li",{children:s.jsx("strong",{children:"管理员数量可能有限制，请注意应用的具体配置"})})]})})]})},u9={accountId:""},d9={accountId:""},dL="V2NIMUserService.addUserToBlockList",pL="V2NIMUserService.removeUserFromBlockList",Q$e=()=>{const[e]=Ie.useForm(),[t]=Ie.useForm(),[n,r]=E.useState(!1),[i,d]=E.useState(!1),[g,v]=E.useState(!1),[S,I]=E.useState([]),T=E.useRef(!1),_=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}v(!0),console.log("API V2NIMUserService.getBlockList execute");const[L,U]=await Kn(()=>{var $;return($=window.nim)==null?void 0:$.V2NIMUserService.getBlockList()});if(L)ie.error(`获取黑名单列表失败: ${L.toString()}`),console.error("获取黑名单列表失败:",L.toString());else{console.log("获取黑名单列表成功, 结果:",U);const $=(U||[]).map(F=>({accountId:F,nickname:F,avatar:""}));I($),ie.success(`获取黑名单列表成功，共 ${$.length} 个用户`)}v(!1)};E.useEffect(()=>{!T.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(T.current=!0,_())},[]);const N=async L=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{accountId:U}=L;if(!(U!=null&&U.trim())){ie.error("请输入要添加到黑名单的用户ID");return}r(!0),console.log("API V2NIMUserService.addUserToBlockList execute, params:",U);const[$]=await Kn(()=>{var F;return(F=window.nim)==null?void 0:F.V2NIMUserService.addUserToBlockList(U.trim())});$?(ie.error(`添加用户到黑名单失败: ${$.toString()}`),console.error("添加用户到黑名单失败:",$.toString())):(ie.success("添加用户到黑名单成功"),console.log("添加用户到黑名单成功"),await _(),e.resetFields()),r(!1),localStorage.setItem(dL,JSON.stringify(L))},A=async L=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{accountId:U}=L;if(!(U!=null&&U.trim())){ie.error("请选择要从黑名单移除的用户");return}d(!0),console.log("API V2NIMUserService.removeUserFromBlockList execute, params:",U);const[$]=await Kn(()=>{var F;return(F=window.nim)==null?void 0:F.V2NIMUserService.removeUserFromBlockList(U.trim())});$?(ie.error(`从黑名单移除用户失败: ${$.toString()}`),console.error("从黑名单移除用户失败:",$.toString())):(ie.success("从黑名单移除用户成功"),console.log("从黑名单移除用户成功"),await _(),t.resetFields()),d(!1),localStorage.setItem(pL,JSON.stringify(L))},w=()=>{localStorage.removeItem(dL),e.setFieldsValue(u9),ie.success("添加表单已重置")},O=()=>{localStorage.removeItem(pL),t.setFieldsValue(d9),ie.success("移除表单已重置")},R=()=>{const L=e.getFieldsValue(),{accountId:U}=L;if(!(U!=null&&U.trim())){ie.error("请先输入用户ID");return}const $=`await window.nim.V2NIMUserService.addUserToBlockList("${U.trim()}");`;console.log("V2NIMUserService.addUserToBlockList 调用语句:"),console.log($),ie.success("调用语句已输出到控制台")},D=()=>{const L=t.getFieldsValue(),{accountId:U}=L;if(!(U!=null&&U.trim())){ie.error("请先选择用户ID");return}const $=`await window.nim.V2NIMUserService.removeUserFromBlockList("${U.trim()}");`;console.log("V2NIMUserService.removeUserFromBlockList 调用语句:"),console.log($),ie.success("调用语句已输出到控制台")},j=[{title:"用户ID",dataIndex:"accountId",key:"accountId",width:"40%"},{title:"昵称",dataIndex:"nickname",key:"nickname",width:"40%"},{title:"操作",key:"action",width:"20%",render:(L,U)=>s.jsx(Ze,{size:"small",danger:!0,onClick:()=>{t.setFieldsValue({accountId:U.accountId}),A({accountId:U.accountId})},children:"移除"})}];return s.jsxs("div",{className:At.formContainer,children:[s.jsx(_t,{title:"黑名单列表",extra:s.jsx(Ze,{type:"primary",onClick:_,loading:g,children:"刷新列表"}),style:{marginBottom:24},children:s.jsx(fs,{columns:j,dataSource:S,rowKey:"accountId",pagination:!1,size:"small",locale:{emptyText:"暂无黑名单用户"}})}),s.jsx(_t,{title:"添加用户到黑名单",style:{marginBottom:24},children:s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:N,initialValues:u9,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMUserService",target:"_blank",children:dL})})},"api1"),s.jsx(Ie.Item,{label:"用户ID",name:"accountId",rules:[{required:!0,message:"请输入用户ID"},{whitespace:!0,message:"用户ID不能为空"}],children:s.jsx(yn,{placeholder:"请输入要添加到黑名单的用户ID"})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:n,style:{flex:1},children:"添加到黑名单"}),s.jsx(Ze,{type:"default",onClick:w,children:"重置"}),s.jsx(Ze,{type:"default",onClick:R,children:"输出调用语句"})]})})]})}),s.jsx(_t,{title:"从黑名单移除用户",style:{marginBottom:24},children:s.jsxs(Ie,{form:t,labelCol:{span:4},wrapperCol:{span:20},onFinish:A,initialValues:d9,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMUserService",target:"_blank",children:pL})})},"api2"),s.jsx(Ie.Item,{label:"用户ID",name:"accountId",rules:[{required:!0,message:"请选择要移除的用户"}],children:s.jsx(an,{placeholder:"请选择要从黑名单移除的用户",children:S.map(L=>s.jsxs(an.Option,{value:L.accountId,children:[L.accountId," ",L.nickname&&L.nickname!==L.accountId?`(${L.nickname})`:""]},L.accountId))})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:i,style:{flex:1},children:"从黑名单移除"}),s.jsx(Ze,{type:"default",onClick:O,children:"重置"}),s.jsx(Ze,{type:"default",onClick:D,children:"输出调用语句"})]})})]})}),s.jsx(_t,{title:"使用说明",size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"获取黑名单列表参见 API-getBlockList"}),s.jsx("li",{children:"添加到黑名单后，将不会收到该用户发送的消息"}),s.jsx("li",{children:'可以通过表格中的"移除"按钮快速移除黑名单用户'}),s.jsx("li",{children:"也可以通过下方表单选择用户进行移除操作"}),s.jsx("li",{children:"所有操作完成后会自动刷新黑名单列表"})]})})]})},rM={accountIds:["cs1","cs2"]},mL="V2NIMUserService.getUserList",Z$e=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(""),[d,g]=E.useState(rM.accountIds),v={...rM},S=()=>{const R=r.trim();if(!R){ie.warning("请输入账号ID");return}if(d.includes(R)){ie.warning("账号ID已存在");return}const D=[...d,R];g(D),i(""),e.setFieldsValue({accountIds:D})},I=R=>{const D=d.filter(j=>j!==R);g(D),e.setFieldsValue({accountIds:D})},T=()=>{g([]),e.setFieldsValue({accountIds:[]})},_=()=>{const R=["cs1","cs2","cs3"],D=[...new Set([...d,...R])];g(D),e.setFieldsValue({accountIds:D})},N=async R=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{accountIds:D}=R;if(!D||D.length===0){ie.error("请至少输入一个账号ID");return}n(!0),console.log("API V2NIMUserService.getUserList execute, params:",D);const[j,L]=await Kn(()=>{var U;return(U=window.nim)==null?void 0:U.V2NIMUserService.getUserList(D)});j?(ie.error(`获取用户列表失败: ${j.toString()}`),console.error("获取用户列表失败:",j.toString())):(ie.success("获取用户列表成功"),console.log("获取用户列表成功, 结果:",L)),n(!1),localStorage.setItem(mL,JSON.stringify(R))},A=()=>{localStorage.removeItem(mL),g(rM.accountIds),e.setFieldsValue(rM),ie.success("表单已重置为默认值")},w=()=>{const R=e.getFieldsValue(),{accountIds:D}=R;if(!D||D.length===0){ie.error("请先输入账号ID");return}const j=`await window.nim.V2NIMUserService.getUserList(${JSON.stringify(D)});`;console.log("V2NIMUserService.getUserList 调用语句:"),console.log(j),ie.success("调用语句已输出到控制台")},O=()=>{S()};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:N,style:{marginTop:24},initialValues:v,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMUserService",target:"_blank",children:mL})})},"api"),s.jsx(Ie.Item,{label:"账号ID列表",required:!0,children:s.jsxs(on,{direction:"vertical",style:{width:"100%"},children:[s.jsxs(on.Compact,{style:{width:"100%"},children:[s.jsx(yn,{placeholder:"输入账号ID",value:r,onChange:R=>i(R.target.value),onPressEnter:O}),s.jsx(Ze,{type:"primary",onClick:S,children:"添加"})]}),s.jsxs(on,{size:"small",style:{marginTop:8},children:[s.jsx(Ze,{size:"small",onClick:_,children:"添加示例账号"}),s.jsx(Ze,{size:"small",onClick:T,danger:!0,children:"清空全部"})]}),d.length>0&&s.jsx("div",{style:{marginTop:8},children:s.jsx(on,{size:[0,8],wrap:!0,children:d.map(R=>s.jsx(ln,{closable:!0,onClose:()=>I(R),children:R},R))})})]})}),s.jsx(Ie.Item,{name:"accountIds",hidden:!0,children:s.jsx(yn,{})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"获取用户列表"}),s.jsx(Ze,{type:"default",onClick:A,children:"重置"}),s.jsx(Ze,{type:"default",onClick:w,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"此接口的数据来源乃数据同步时下发的某好友的用户信息"})}),s.jsx("li",{children:"因此调用时机依然需要等待 V2NIMLoginService 的 onDataSync 事件, 数据同步完毕后, 才能调用."}),s.jsx("li",{children:"而缓存里查不到的账号回去发协议查一遍后返回, 接着存入内存缓存"}),s.jsx("li",{children:s.jsx("strong",{children:"鉴于用户的信息可能做不到事实更新, 所以推荐在有需要的情况下用另一个接口 getUserListFromCloud 来确保一定从服务器获取最新的信息"})})]})}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"支持添加多个账号ID，最多支持150个账号"}),s.jsx("li",{children:"账号ID不能为空且不能重复"}),s.jsx("li",{children:"返回结果包含用户的基本信息如昵称、头像等"}),s.jsx("li",{children:'可以点击"添加示例账号"快速添加测试用的账号ID'})]})})]})},aM={accountIds:["cs1","cs2"]},fL="V2NIMUserService.getUserListFromCloud",eUe=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(""),[d,g]=E.useState(aM.accountIds),v={...aM},S=()=>{const R=r.trim();if(!R){ie.warning("请输入账号ID");return}if(d.includes(R)){ie.warning("账号ID已存在");return}const D=[...d,R];g(D),i(""),e.setFieldsValue({accountIds:D})},I=R=>{const D=d.filter(j=>j!==R);g(D),e.setFieldsValue({accountIds:D})},T=()=>{g([]),e.setFieldsValue({accountIds:[]})},_=()=>{const R=["cs1","cs2","cs3"],D=[...new Set([...d,...R])];g(D),e.setFieldsValue({accountIds:D})},N=async R=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const{accountIds:D}=R;if(!D||D.length===0){ie.error("请至少输入一个账号ID");return}n(!0),console.log("API V2NIMUserService.getUserListFromCloud execute, params:",D);const[j,L]=await Kn(()=>{var U;return(U=window.nim)==null?void 0:U.V2NIMUserService.getUserListFromCloud(D)});j?(ie.error(`从云端获取用户列表失败: ${j.toString()}`),console.error("从云端获取用户列表失败:",j.toString())):(ie.success("从云端获取用户列表成功"),console.log("从云端获取用户列表成功, 结果:",L)),n(!1),localStorage.setItem(fL,JSON.stringify(R))},A=()=>{localStorage.removeItem(fL),g(aM.accountIds),e.setFieldsValue(aM),ie.success("表单已重置为默认值")},w=()=>{const R=e.getFieldsValue(),{accountIds:D}=R;if(!D||D.length===0){ie.error("请先输入账号ID");return}const j=`await window.nim.V2NIMUserService.getUserListFromCloud(${JSON.stringify(D)});`;console.log("V2NIMUserService.getUserListFromCloud 调用语句:"),console.log(j),ie.success("调用语句已输出到控制台")},O=()=>{S()};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:N,style:{marginTop:24},initialValues:v,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMUserService",target:"_blank",children:fL})})},"api"),s.jsx(Ie.Item,{label:"账号ID列表",required:!0,children:s.jsxs(on,{direction:"vertical",style:{width:"100%"},children:[s.jsxs(on.Compact,{style:{width:"100%"},children:[s.jsx(yn,{placeholder:"输入账号ID",value:r,onChange:R=>i(R.target.value),onPressEnter:O}),s.jsx(Ze,{type:"primary",onClick:S,children:"添加"})]}),s.jsxs(on,{size:"small",style:{marginTop:8},children:[s.jsx(Ze,{size:"small",onClick:_,children:"添加示例账号"}),s.jsx(Ze,{size:"small",onClick:T,danger:!0,children:"清空全部"})]}),d.length>0&&s.jsx("div",{style:{marginTop:8},children:s.jsx(on,{size:[0,8],wrap:!0,children:d.map(R=>s.jsx(ln,{closable:!0,onClose:()=>I(R),children:R},R))})})]})}),s.jsx(Ie.Item,{name:"accountIds",hidden:!0,children:s.jsx(yn,{})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"从云端获取用户列表"}),s.jsx(Ze,{type:"default",onClick:A,children:"重置"}),s.jsx(Ze,{type:"default",onClick:w,children:"输出调用语句"})]})})]}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"此接口用于从云端批量获取用户资料信息"}),s.jsx("li",{children:"支持添加多个账号ID，最多支持150个账号"}),s.jsx("li",{children:"账号ID不能为空且不能重复"}),s.jsx("li",{children:"返回结果包含用户的基本信息如昵称、头像等"}),s.jsx("li",{children:'可以点击"添加示例账号"快速添加测试用的账号ID'}),s.jsx("li",{children:"相比 getUserList，此接口保证获取到的是服务器最新数据."}),s.jsx("li",{children:"建议在需要实时感知用户最新的信息的场景下使用"})]})})]})},{Text:Cs}=yl,tUe="V2NIMUserService.on",nUe=()=>{const[e]=Ie.useForm(),t=v=>{ie.info("收到 V2NIMUserService 模块的 onUserProfileChanged 事件, 详情见控制台"),console.log("用户资料变更:",v)},n=v=>{ie.warning("收到 V2NIMUserService 模块的 onBlockListAdded 事件, 详情见控制台"),console.log("用户被添加到黑名单:",v)},r=v=>{ie.success("收到 V2NIMUserService 模块的 onBlockListRemoved 事件, 详情见控制台"),console.log("用户被从黑名单移除:",v)},i=async()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}window.nim.V2NIMUserService.off("onUserProfileChanged",t),window.nim.V2NIMUserService.off("onBlockListAdded",n),window.nim.V2NIMUserService.off("onBlockListRemoved",r),window.nim.V2NIMUserService.on("onUserProfileChanged",t),window.nim.V2NIMUserService.on("onBlockListAdded",n),window.nim.V2NIMUserService.on("onBlockListRemoved",r),ie.success("成功设置用户服务监听"),console.log("用户服务监听已设置")},d=()=>{if(!window.nim){ie.error("NIM SDK 未初始化，请先进行初始化操作");return}window.nim.V2NIMUserService.removeAllListeners("onUserProfileChanged"),window.nim.V2NIMUserService.removeAllListeners("onBlockListAdded"),window.nim.V2NIMUserService.removeAllListeners("onBlockListRemoved"),ie.success("已取消所有用户服务监听"),console.log("所有用户服务监听已取消")},g=()=>{const v=`
// 设置用户服务监听
const setupUserServiceListeners = () => {
  // 用户资料变更
  window.nim.V2NIMUserService.on('onUserProfileChanged', (users) => {
    console.log('用户资料变更:', users);
    // users 是 V2NIMUser[] 数组，包含变更的用户信息
  });

  // 黑名单添加通知
  window.nim.V2NIMUserService.on('onBlockListAdded', (user) => {
    console.log('用户被添加到黑名单:', user);
    // user 是 V2NIMUser 对象，包含被添加到黑名单的用户信息
  });

  // 黑名单移除通知
  window.nim.V2NIMUserService.on('onBlockListRemoved', (accountId) => {
    console.log('用户被从黑名单移除:', accountId);
    // accountId 是字符串，被移除的用户账号ID
  });
};

// 调用设置函数
setupUserServiceListeners();
`;console.log("V2NIMUserService 监听设置代码:"),console.log(v),ie.success("监听设置代码已输出到控制台")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},style:{marginTop:24},children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMUserService",target:"_blank",children:tUe})})},"api"),s.jsx(Ie.Item,{label:"操作项",children:s.jsxs(on,{size:"middle",style:{width:"100%",flexWrap:"wrap"},children:[s.jsx(Ze,{type:"primary",onClick:i,style:{minWidth:120},children:"设置监听"}),s.jsx(Ze,{type:"default",danger:!0,onClick:d,children:"取消所有监听"}),s.jsx(Ze,{type:"default",onClick:g,children:"输出监听代码"})]})})]}),s.jsxs(_t,{title:"监听事件说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Cs,{strong:!0,children:"用户资料事件："}),s.jsx("ul",{style:{margin:"8px 0",paddingLeft:20},children:s.jsxs("li",{children:[s.jsx(Cs,{code:!0,children:"onUserProfileChanged"})," - 用户资料变更通知",s.jsx("div",{style:{marginLeft:20,color:"#666",fontSize:"12px"},children:"触发条件：用户昵称、头像、签名等资料发生变化时"})]})})]}),s.jsxs("div",{children:[s.jsx(Cs,{strong:!0,children:"黑名单相关事件："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(Cs,{code:!0,children:"onBlockListAdded"})," - 黑名单添加通知",s.jsx("div",{style:{marginLeft:20,color:"#666",fontSize:"12px"},children:"触发条件：本端直接添加黑名单，或多端同步添加黑名单"})]}),s.jsxs("li",{children:[s.jsx(Cs,{code:!0,children:"onBlockListRemoved"})," - 黑名单移除通知",s.jsx("div",{style:{marginLeft:20,color:"#666",fontSize:"12px"},children:"触发条件：本端移除黑名单，或多端同步移除黑名单"})]})]})]})]}),s.jsxs(_t,{title:"事件参数说明",style:{marginTop:16},size:"small",children:[s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Cs,{strong:!0,children:"onUserProfileChanged 参数："}),s.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(Cs,{code:!0,children:"users: V2NIMUser[]"})," - 用户资料变更的用户列表"]}),s.jsx("li",{children:"每个 V2NIMUser 对象包含：accountId（用户ID）、name（昵称）、avatar（头像）、sign（签名）等字段"})]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx(Cs,{strong:!0,children:"onBlockListAdded 参数："}),s.jsx("ul",{style:{margin:"8px 0",paddingLeft:20},children:s.jsxs("li",{children:[s.jsx(Cs,{code:!0,children:"user: V2NIMUser"})," - 加入黑名单的用户信息"]})})]}),s.jsxs("div",{children:[s.jsx(Cs,{strong:!0,children:"onBlockListRemoved 参数："}),s.jsx("ul",{style:{margin:"8px 0",paddingLeft:20},children:s.jsxs("li",{children:[s.jsx(Cs,{code:!0,children:"accountId: string"})," - 移除黑名单的用户账号ID"]})})]})]}),s.jsx(_t,{title:"测试建议",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsxs("li",{children:[s.jsx(Cs,{strong:!0,children:"测试用户资料变更事件："}),s.jsx("div",{style:{marginLeft:20,color:"#666"},children:'可以去 "更新自己的用户资料" 页面修改昵称、头像等信息来触发 onUserProfileChanged 事件'})]}),s.jsxs("li",{children:[s.jsx(Cs,{strong:!0,children:"测试黑名单事件："}),s.jsx("div",{style:{marginLeft:20,color:"#666"},children:'可以去 "黑名单管理" 页面添加或移除黑名单用户来触发 onBlockListAdded 和 onBlockListRemoved 事件'})]}),s.jsxs("li",{children:[s.jsx(Cs,{strong:!0,children:"多端同步测试："}),s.jsx("div",{style:{marginLeft:20,color:"#666"},children:"在其他设备或客户端上进行相同操作，可以测试多端同步的事件触发"})]})]})}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"本页面演示 V2NIMUserService 的事件监听功能"}),s.jsx("li",{children:"设置监听后，相关的用户操作会触发对应事件并显示消息提示"}),s.jsx("li",{children:"对同一个事件 on 监听多次，都会生效并触发多次，使用时注意防止重复监听"}),s.jsx("li",{children:"所有事件都会在控制台输出详细信息，方便调试和学习"}),s.jsx("li",{children:'使用"取消所有监听"可以一次性移除所有已设置的监听器'}),s.jsx("li",{children:s.jsx(Cs,{type:"warning",children:"注意：设置监听后，可以去其他用户相关页面进行操作来触发事件（如更新用户资料、管理黑名单等）"})})]})})]})},rUe={name:"",avatar:"",sign:"",email:"",birthday:"",mobile:"",gender:void 0,serverExtension:""},gL="V2NIMUserService.updateSelfUserProfile",aUe=()=>{const[e]=Ie.useForm(),[t,n]=E.useState(!1),[r,i]=E.useState(!1),d=E.useRef(!1),g={...rUe},v=async()=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){console.warn("NIM SDK 尚未初始化和登录，无法获取用户信息");return}const N=window.nim.V2NIMLoginService.getLoginUser();if(!N){console.warn("无法获取当前用户账号ID");return}i(!0);const[A,w]=await Kn(()=>{var O;return(O=window.nim)==null?void 0:O.V2NIMUserService.getUserList([N])});if(A){console.error("获取当前用户信息失败:",A.toString()),ie.warning("获取当前用户信息失败，将使用默认值"),i(!1);return}if(w&&w.length>0){const O=w[0],R={name:O.name||"",avatar:O.avatar||"",sign:O.sign||"",email:O.email||"",birthday:O.birthday||"",mobile:O.mobile||"",gender:O.gender!==void 0?O.gender:void 0,serverExtension:O.serverExtension||""};e.setFieldsValue(R),console.log("已加载当前用户信息:",R)}i(!1)};E.useEffect(()=>{!d.current&&window.nim&&window.nim.V2NIMLoginService.getLoginUser()&&(d.current=!0,v())},[]);const S=async N=>{if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const A={};if(Object.keys(N).forEach(R=>{const D=N[R];D!==void 0&&D!==""&&(A[R]=D)}),Object.keys(A).length===0){ie.warning("请至少填写一个需要更新的字段");return}n(!0),console.log("API V2NIMUserService.updateSelfUserProfile execute, params:",A);const[w,O]=await Kn(()=>{var R;return(R=window.nim)==null?void 0:R.V2NIMUserService.updateSelfUserProfile(A)});w?(ie.error(`更新用户资料失败: ${w.toString()}`),console.error("更新用户资料失败:",w.toString())):(ie.success("更新用户资料成功"),console.log("更新用户资料成功, 结果:",O)),n(!1),localStorage.setItem(gL,JSON.stringify(A))},I=()=>{localStorage.removeItem(gL),v(),ie.success("表单已重置为当前用户信息")},T=()=>{const N=e.getFieldsValue(),A={};if(Object.keys(N).forEach(O=>{const R=N[O];R!==void 0&&R!==""&&(A[O]=R)}),Object.keys(A).length===0){ie.error("请先填写需要更新的字段");return}const w=`await window.nim.V2NIMUserService.updateSelfUserProfile(${JSON.stringify(A,null,2)});`;console.log("V2NIMUserService.updateSelfUserProfile 调用语句:"),console.log(w),ie.success("调用语句已输出到控制台")},_=()=>{const N={name:"示例昵称",avatar:"https://example.com/avatar.jpg",sign:"这是我的个性签名",email:"example@example.com",birthday:"1990-01-01",mobile:"+86-13800138000",gender:1,serverExtension:'{"customField": "customValue"}'};e.setFieldsValue(N),ie.success("已填充示例数据")};return s.jsxs("div",{className:At.formContainer,children:[s.jsxs(Ie,{form:e,labelCol:{span:4},wrapperCol:{span:20},onFinish:S,style:{marginTop:24},initialValues:g,children:[s.jsx(Ie.Item,{label:null,className:At.leftAligned,children:s.jsx("p",{className:At.interfaceAPI,children:s.jsx("a",{href:"https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#V2NIMUserService",target:"_blank",children:gL})})},"api"),s.jsx(Ie.Item,{label:"用户昵称",name:"name",tooltip:"用户昵称，为空表示不修改该字段",children:s.jsx(yn,{placeholder:"请输入用户昵称"})}),s.jsx(Ie.Item,{label:"用户头像",name:"avatar",tooltip:"用户头像图片地址，长度限制：1024字节",children:s.jsx(yn,{placeholder:"请输入头像图片地址"})}),s.jsx(Ie.Item,{label:"用户签名",name:"sign",tooltip:"用户签名，长度限制：256字符",children:s.jsx(yn.TextArea,{placeholder:"请输入用户签名",rows:3,maxLength:256,showCount:!0})}),s.jsx(Ie.Item,{label:"用户邮箱",name:"email",tooltip:"用户邮箱，长度限制：64字符",children:s.jsx(yn,{placeholder:"请输入用户邮箱",type:"email",maxLength:64})}),s.jsx(Ie.Item,{label:"用户生日",name:"birthday",tooltip:"用户生日，格式如：1990-01-01，长度限制：16字符",children:s.jsx(yn,{placeholder:"请输入生日，如：1990-01-01",maxLength:16})}),s.jsx(Ie.Item,{label:"用户手机号",name:"mobile",tooltip:"用户手机号，长度限制：32字符，非中国大陆手机号码需要填写国家代码",children:s.jsx(yn,{placeholder:"请输入手机号，如：+86-13800138000",maxLength:32})}),s.jsx(Ie.Item,{label:"用户性别",name:"gender",tooltip:"用户性别, 自由映射数值, 推荐：0-保密，1-男性，2-女性",children:s.jsx(Rc,{placeholder:"请输入性别代码",min:0,max:2,style:{width:"100%"}})}),s.jsx(Ie.Item,{label:"扩展字段",name:"serverExtension",tooltip:"用户扩展字段，建议使用JSON格式，长度限制：1024字符",children:s.jsx(yn.TextArea,{placeholder:"请输入扩展字段，建议使用JSON格式",rows:3,maxLength:1024,showCount:!0})}),s.jsx(Ie.Item,{label:null,children:s.jsxs(on,{size:"middle",style:{width:"100%"},children:[s.jsx(Ze,{type:"primary",htmlType:"submit",loading:t,style:{flex:1},children:"更新用户资料"}),s.jsx(Ze,{type:"default",onClick:I,loading:r,children:"重置"}),s.jsx(Ze,{type:"default",onClick:T,children:"输出调用语句"}),s.jsx(Ze,{type:"default",onClick:_,children:"填充示例"})]})})]}),s.jsx(_t,{title:"⚠️ 重要提醒",style:{marginTop:16,border:"2px solid #ff9c6e",backgroundColor:"#fff7e6"},size:"small",styles:{header:{backgroundColor:"#ffe7ba",color:"#d46b08",fontWeight:"bold"}},children:s.jsxs("ul",{style:{margin:0,paddingLeft:20,color:"#d46b08"},children:[s.jsx("li",{children:s.jsx("strong",{children:"调用该 API 后，会触发 onUserProfileChanged 事件"})}),s.jsx("li",{children:s.jsx("strong",{children:"表单会自动加载当前用户的资料信息作为初始值"})}),s.jsx("li",{children:"为空的字段表示不修改该字段，只有填写了内容的字段才会被更新"}),s.jsx("li",{children:"性别字段：0-保密，1-男性，2-女性，设置其他值服务器会返回错误"}),s.jsx("li",{children:"手机号码：非中国大陆手机号码需要填写国家代码，如美国：+1-xxxxxxxxxx"})]})}),s.jsx(_t,{title:"使用说明",style:{marginTop:16},size:"small",children:s.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[s.jsx("li",{children:"页面加载时会自动获取当前用户的资料信息并填入表单"}),s.jsx("li",{children:"所有字段都是可选的，只需修改需要更新的字段"}),s.jsx("li",{children:"昵称不能为空字符串，如果要修改昵称，必须提供有效内容"}),s.jsx("li",{children:"头像地址需要是有效的URL，长度不超过1024字节"}),s.jsx("li",{children:"签名长度限制为256字符"}),s.jsx("li",{children:"邮箱长度限制为64字符，需要符合邮箱格式"}),s.jsx("li",{children:"生日格式建议为：YYYY-MM-DD，长度限制为16字符"}),s.jsx("li",{children:"扩展字段建议使用JSON格式，长度限制为1024字符"}),s.jsx("li",{children:'点击"重置"按钮会重新加载当前用户的最新资料信息'})]})})]})};function YP(e){return e==="__proto__"}function iUe(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}function oUe(e){var t;return typeof e=="string"||typeof e=="symbol"?e:Object.is((t=e==null?void 0:e.valueOf)==null?void 0:t.call(e),-0)?"-0":String(e)}function sUe(e){const t=[],n=e.length;if(n===0)return t;let r=0,i="",d="",g=!1;for(e.charCodeAt(0)===46&&(t.push(""),r++);r<n;){const v=e[r];d?v==="\\"&&r+1<n?(r++,i+=e[r]):v===d?d="":i+=v:g?v==='"'||v==="'"?d=v:v==="]"?(g=!1,t.push(i),i=""):i+=v:v==="["?(g=!0,i&&(t.push(i),i="")):v==="."?i&&(t.push(i),i=""):i+=v,r++}return i&&t.push(i),t}function VQ(e,t,n){if(e==null)return n;switch(typeof t){case"string":{if(YP(t))return n;const r=e[t];return r===void 0?iUe(t)?VQ(e,sUe(t),n):n:r}case"number":case"symbol":{typeof t=="number"&&(t=oUe(t));const r=e[t];return r===void 0?n:r}default:{if(Array.isArray(t))return lUe(e,t,n);if(Object.is(t==null?void 0:t.valueOf(),-0)?t="-0":t=String(t),YP(t))return n;const r=e[t];return r===void 0?n:r}}}function lUe(e,t,n){if(t.length===0)return n;let r=e;for(let i=0;i<t.length;i++){if(r==null||YP(t[i]))return n;r=r[t[i]]}return r===void 0?n:r}function p9(e,t,n){return!e||!e.length?[]:e.map(r=>{switch(r.type){case"string":return String(t[r.name]);case"number":return Number(t[r.name]);case"boolean":return!!t[r.name];case"file":return t[r.name].fileList[0].originFileObj;case"json":if(t[r.name]&&t[r.name].indexOf("[[")===0)return cUe(t[r.name],n);try{return uUe(JSON.parse(t[r.name]),n)}catch(i){const d=i;throw console.error(`参数 "${r.name}", json 格式错误: ${d.message}`),new Error(`参数 "${r.name}", json 格式错误`)}case"function":if(t[r.name]&&t[r.name].indexOf("return function")===0)return n?t[r.name].replace("return function","function"):new Function(t[r.name])();break;default:return t[r.name]}})}function cUe(e,t=!1){if(e.indexOf("[[")===0){const n=e.replace(/\[\[/g,"").replace(/\]\]/g,""),r=window[n];if(r)return t?`window.${n}`:r;throw new Error(`全局变量 "${n}" 不存在`)}return e}function uUe(e,t=!1){for(const n in e)typeof e[n]=="string"&&e[n].indexOf("return function")===0&&(e[n]=t?e[n].replace("return function","function"):new Function(e[n])());return e}const dUe="_btnBar_13u2g_1",pUe="_btn_13u2g_1",mUe="_leftAligned_13u2g_7",fUe="_interfaceAPI_13u2g_10",gUe="_interfaceAPINoParams_13u2g_13",hUe="_formContainer_13u2g_17",yu={btnBar:dUe,btn:pUe,leftAligned:mUe,interfaceAPI:fUe,interfaceAPINoParams:gUe,formContainer:hUe},vUe=({interfaceName:e,methodName:t,methodConfig:n})=>{const[r]=Ie.useForm();E.useEffect(()=>{r.resetFields()},[e,r]);const i=async()=>{var D;if(!(window.nim&&window.nim.V2NIMLoginService.getLoginUser())){ie.error("NIM SDK 尚未初始化和登录");return}const N=r.getFieldsValue();let A=[];try{n.params&&(A=p9(n.params,N,!1))}catch(j){console.error(`${e}.${t} API 执行终止, 格式化参数出错`,j),ie.error("格式化参数出错");return}console.log(`${e}.${t} API 执行开始, 入参为:`,...A),localStorage.setItem(`V2NIM-${e}-${t}`,JSON.stringify(N));const w=VQ(window.nim,`${e}.${t}`);if(!w)return;const[O,R]=await Kn(()=>{var j;return w.apply((j=window.nim)==null?void 0:j[e],A)});if(O){const j=O;let L=`${O.name}
 code: ${j.code}
 message: "${j.message}"
 detail: ${j.detail?JSON.stringify(j.detail):""}`;(D=j==null?void 0:j.detail)!=null&&D.rawError&&(L+=`
 rawError: ${j.detail.rawError.message}`),console.error(`${e}.${t} API 执行出错: ${L}. 
error is`,O),ie.error(`${e}.${t} API 执行出错`);return}console.log(`${e}.${t} API 执行成功, 回参为:`,R),ie.success(`${e}.${t} API 执行成功`),n.returnVar&&(window[n.returnVar]=R,console.log(`${e}.${t} API 的返回值赋值给 window.${n.returnVar}, 即 [[${n.returnVar}]]`))},d=()=>{if(localStorage.removeItem(`V2NIM-${e}-${t}`),n.params){const N=n.params.reduce((A,w)=>(A[w.name]=w.defaultValue,A),{});r.setFieldsValue(N)}},g=()=>{const N=r.getFieldsValue();let A=[];try{n.params&&(A=p9(n.params,N,!0))}catch(O){console.error(`${e}.${t} API 执行终止, 格式化参数出错`,O),ie.error("格式化参数出错");return}let w=JSON.stringify(A,null,2);w=w.slice(1,w.length-1),w=w.replace(/"function\s*\([^)]*\)\s*{[^}]*}"/g,function(O){return O.slice(1,-1)}),w=w.replace(/"window\.__\w+"/g,function(O){return O.slice(1,-1)}),ie.success("已复制调用语句到剪切板, 请粘贴到浏览器控制台执行"),navigator.clipboard.writeText(`await window.nim.${e}.${t}(${w})`)},v=()=>{console.log(n.bestPractice),ie.success("已在控制台输出最佳实践示例")},S=()=>!n||Object.keys(n).length===0?s.jsxs("div",{style:{textAlign:"center",padding:"50px",color:"#999"},children:["未找到方法 ",e,".",t," 的配置"]}):s.jsx("div",{className:yu.formContainer,children:s.jsxs(Ie,{form:r,labelCol:{span:4},wrapperCol:{span:20},children:[I(),s.jsxs(Ie.Item,{label:null,className:yu.btnBar,children:[s.jsx(Ze,{type:"primary",onClick:i,className:yu.btn,children:"执行"}),s.jsx(Ze,{type:"default",onClick:d,className:yu.btn,children:"重置"}),s.jsx(Ze,{type:"default",onClick:g,className:yu.btn,children:"输出调用语句"}),n&&n.bestPractice?s.jsx(Ze,{type:"default",onClick:v,className:yu.btn,children:"输出最佳实践"}):null]})]})}),I=()=>{if(!n||!n.params||!Array.isArray(n.params))return s.jsxs(Ie.Item,{label:null,className:yu.leftAligned,children:[s.jsx("p",{className:yu.interfaceAPINoParams,children:s.jsxs("a",{href:`https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#${e}`,target:"_blank",children:[e,".",t]})}),"无参数"]},"api");let N=[s.jsx(Ie.Item,{label:null,className:yu.leftAligned,children:s.jsx("p",{className:yu.interfaceAPI,children:s.jsxs("a",{href:`https://doc.yunxin.163.com/messaging2/references/web/typedoc/Latest/zh/v2/nim/index.html#${e}`,target:"_blank",children:[e,".",t]})})},"api")];const A=localStorage.getItem(`V2NIM-${e}-${t}`);if(A){const w=JSON.parse(A),O=n.params.map((R,D)=>T(R,D,w[R.name]));return N=N.concat(O),N}else{const w=n.params.map((O,R)=>T(O,R));return N=N.concat(w),N}},T=(N,A,w)=>{const{name:O,type:R,defaultValue:D}=N,j=w||D;switch(R){case"string":case"function":return s.jsx(Ie.Item,{label:O,name:O,initialValue:j||"",style:{textAlign:"left"},children:s.jsx(yn,{placeholder:`请输入 ${O}`})},A);case"number":return s.jsx(Ie.Item,{label:O,name:O,initialValue:j||0,style:{textAlign:"left"},children:s.jsx(Rc,{placeholder:`请输入 ${O}`})},A);case"boolean":return s.jsx(Ie.Item,{label:O,name:O,valuePropName:"checked",initialValue:j||!1,style:{textAlign:"left"},children:s.jsx(ds,{})},A);case"file":return s.jsx(Ie.Item,{label:O,name:O,style:{textAlign:"left"},children:s.jsx(sg,{beforeUpload:()=>!1,maxCount:1,children:s.jsx(Ze,{icon:s.jsx(LI,{}),children:"选择文件"})})},A);case"json":return s.jsx(Ie.Item,{label:O,name:O,initialValue:typeof j=="string"?j:JSON.stringify(j)||"{}",style:{textAlign:"left"},children:s.jsx(yn.TextArea,{rows:10,placeholder:`请输入 JSON 格式的 ${O}`})},A);default:return s.jsx(Ie.Item,{label:O,name:O,initialValue:j||"",style:{textAlign:"left"},children:s.jsx(yn,{placeholder:`请输入 ${O}`})},A)}};return S()},yUe={getAIUserList:{name:"获取 AI 机器人列表",params:[]},proxyAIModelCall:{name:"AI 数字人请求代理接口",params:[{name:"params",type:"json",defaultValue:{accountId:"",requestId:"",aiStream:!1,content:{msg:"",type:0},messages:[{msg:"",type:0,role:"user"},{msg:"",type:0,role:"assistant"}],promptVariables:"",modelConfigParams:{prompt:"",maxTokens:10,topP:.8,temperature:1}}}]},stopAIModelStreamCall:{name:"停止AI数字人流式输出",params:[{name:"params",type:"json",defaultValue:{accountId:"",requestId:""}}]}},bUe={checkTextAntispam:{name:"添加存储场景",params:[{name:"text",type:"string"},{name:"replace",type:"string"}]}},SUe={createConversationGroup:{name:"创建会话分组",params:[{name:"name",type:"string",defaultValue:""},{name:"serverExtension",type:"string",defaultValue:""},{name:"conversationIds",type:"json",defaultValue:[]}]},deleteConversationGroup:{name:"删除会话分组",params:[{name:"groupId",type:"string",defaultValue:""}]},updateConversationGroup:{name:"更新会话分组",params:[{name:"groupId",type:"string",defaultValue:""},{name:"name",type:"string",defaultValue:""},{name:"serverExtension",type:"string",defaultValue:""}]},getConversationGroup:{name:"通过 id 获取会话分组",params:[{name:"groupId",type:"string",defaultValue:""}]},getConversationGroupListByIds:{name:"通过 id 列表获取会话分组列表",params:[{name:"groupIds",type:"json",defaultValue:[]}]},getConversationGroupList:{name:"获取会话分组列表",params:[]},addConversationsToGroup:{name:"添加会话去会话分组",params:[{name:"groupId",type:"string",defaultValue:""},{name:"conversationIds",type:"json",defaultValue:[]}]},removeConversationsFromGroup:{name:"从会话分组中移除会话",params:[{name:"groupId",type:"string",defaultValue:""},{name:"conversationIds",type:"json",defaultValue:[]}]}},IUe={p2pConversationId:{name:"构造点对点会话ID",params:[{name:"accountId",type:"string",defaultValue:""}]},teamConversationId:{name:"构造群会话ID",params:[{name:"teamId",type:"string",defaultValue:""}]},superTeamConversationId:{name:"构造超大群会话ID",params:[{name:"superTeamId",type:"string",defaultValue:""}]},parseConversationType:{name:"解析会话类型",params:[{name:"conversationId",type:"string",defaultValue:""}]},parseConversationTargetId:{name:"解析会话目标账号",params:[{name:"conversationId",type:"string",defaultValue:""}]}},EUe={createConversation:{name:"创建会话",params:[{name:"conversationId",type:"string",defaultValue:"cjhz1|1|cjhz2"}]},deleteConversation:{name:"删除会话",params:[{name:"conversationId",type:"string",defaultValue:""},{name:"clearMessage",type:"boolean",defaultValue:!1}]},deleteConversationListByIds:{name:"按 ID 删除会话",params:[{name:"conversationIds",type:"json",defaultValue:["cs1|1|cs2","cs1|1|cs3"]},{name:"clearMessage",type:"boolean",defaultValue:!1}]},updateConversation:{name:"修改会话",params:[{name:"conversationId",type:"string",defaultValue:""},{name:"updateInfo",type:"json",defaultValue:{serverExtension:"test serverExtension"}}]},updateConversationLocalExtension:{name:"修改会话的本地扩展",params:[{name:"conversationId",type:"string",defaultValue:""},{name:"localExtension",type:"string",defaultValue:"This is a local extension"}]},getConversation:{name:"获取会话",params:[{name:"conversationId",type:"string",defaultValue:""}]},getConversationListByIds:{name:"通过 ID 获取会话列表",params:[{name:"conversationIds",type:"json",defaultValue:[]}]},getConversationList:{name:"分页获取会话列表",params:[{name:"offset",type:"number",defaultValue:0},{name:"limit",type:"number",defaultValue:10}]},getConversationListByOption:{name:"按条件获取会话",params:[{name:"offset",type:"number",defaultValue:0},{name:"limit",type:"number",defaultValue:10},{name:"option",type:"json",defaultValue:{conversationTypes:[1],onlyUnread:!1,conversationGroupIds:[]}}]},stickTopConversation:{name:"置顶会话",params:[{name:"conversationId",type:"string",defaultValue:""},{name:"stickTop",type:"boolean",defaultValue:!1}]},getTotalUnreadCount:{name:"获取总会话未读数",params:[]},getUnreadCountByIds:{name:"根据 id 列表获取会话的未读数",params:[{name:"conversationIds",type:"json",defaultValue:["cs1|1|cs2","cs1|1|cs3"]}]},getUnreadCountByFilter:{name:"根据过滤参数获取相应的未读信息",params:[{name:"filter",type:"json",defaultValue:{conversationTypes:[1],conversationGroupId:[],ignoreMuted:!1}}]},clearTotalUnreadCount:{name:"清空所有会话总的未读数",params:[]},clearUnreadCountByIds:{name:"根据会话 id 列表清空相应会话的未读数",params:[{name:"conversationIds",type:"json",defaultValue:["cs1|1|cs2"]}]},clearUnreadCountByTypes:{name:"清除对应指定类型下的会话的未读数",params:[{name:"types",type:"json",defaultValue:[1,2]}]},clearUnreadCountByGroupId:{name:"清除对应指定分组下的会话的未读数",params:[{name:"groupId",type:"string",defaultValue:""}]},subscribeUnreadCountByFilter:{name:"订阅指定过滤条件的会话未读数变化",params:[{name:"filter",type:"json",defaultValue:{conversationTypes:[1],conversationGroupId:"98775",ignoreMuted:!1}}]},unsubscribeUnreadCountByFilter:{name:"取消订阅指定过滤条件的会话未读数变化",params:[{name:"filter",type:"json",defaultValue:{conversationTypes:[1],conversationGroupId:"98775",ignoreMuted:!1}}]},markConversationRead:{name:"标记会话为已读",params:[{name:"conversationId",type:"string",defaultValue:""}]},getConversationReadTime:{name:"获取会话的已读时间",params:[{name:"conversationId",type:"string",defaultValue:""}]}},CUe={addFriend:{name:"添加好友",params:[{name:"accountId",type:"string"},{name:"params",type:"json",defaultValue:{addMode:0,postscript:"postscript"}}]},deleteFriend:{name:"删除好友",params:[{name:"accountId",type:"string"},{name:"params",type:"json",defaultValue:{deleteAlias:!1}}]},acceptAddApplication:{name:"同意好友申请",params:[{name:"application",type:"json",defaultValue:{applicantAccountId:"cs3",operatorAccountId:"cs3",recipientAccountId:"cs1",postscript:"postscript",timestamp:1699840284411,status:0}}]},rejectAddApplication:{name:"拒绝好友申请",params:[{name:"application",type:"json",defaultValue:{applicantAccountId:"cs3",recipientAccountId:"cs1",operatorAccountId:"cs3",postscript:"postscript",timestamp:1699840284411,status:0}},{name:"postscript",type:"string",defaultValue:"postscript"}]},setFriendInfo:{name:"设置好友信息",params:[{name:"accountId",type:"string"},{name:"params",type:"json",defaultValue:{alias:"alias",serverExtension:"serverExtension"}}]},getFriendList:{name:"获取好友列表",params:[]},getFriendByIds:{name:"通过Ids批量获取好友",params:[{name:"accountIds",type:"json",defaultValue:["cs1","cs2"]}]},checkFriend:{name:"查询是否是好友",params:[{name:"accountIds",type:"json",defaultValue:["cs1","cs2"]}]},getAddApplicationList:{name:"获取好友申请通知列表",params:[{name:"option",type:"json",defaultValue:{offset:0,limit:50,status:[]}}]},getAddApplicationUnreadCount:{name:"获取未读好友申请通知数量",params:[]},setAddApplicationRead:{name:"设置所有的好友申请已读",params:[]},clearAllAddApplication:{name:"清空所有好友申请",params:[]},deleteAddApplication:{name:"删除好友申请",params:[{name:"applicationInfo",type:"json",defaultValue:{applicantAccountId:"ctt1",recipientAccountId:"ctt2",operatorAccountId:"ctt1",postscript:"请求加为好友，第一次",status:0,timestamp:123}}]},searchFriendByOption:{name:"搜索好友",params:[{name:"option",type:"json",defaultValue:{keyword:"name",searchAccountId:!0}}]}},TUe={createConversation:{name:"创建本地会话",params:[{name:"conversationId",type:"string",defaultValue:"cjhz1|1|cjhz2"}]},deleteConversation:{name:"删除本地会话",params:[{name:"conversationId",type:"string",defaultValue:""},{name:"clearMessage",type:"boolean",defaultValue:!1}]},deleteConversationListByIds:{name:"按 ID 删除会话",params:[{name:"conversationIds",type:"json",defaultValue:["cs1|1|cs2","cs1|1|cs3"]},{name:"clearMessage",type:"boolean",defaultValue:!1}]},updateConversationLocalExtension:{name:"修改会话的本地扩展",params:[{name:"conversationId",type:"string",defaultValue:""},{name:"localExtension",type:"string",defaultValue:"This is a local extension"}]},getConversation:{name:"获取会话",params:[{name:"conversationId",type:"string",defaultValue:""}]},getConversationListByIds:{name:"通过 ID 获取会话列表",params:[{name:"conversationIds",type:"json",defaultValue:[]}]},getConversationList:{name:"分页获取会话列表",params:[{name:"offset",type:"number",defaultValue:0},{name:"limit",type:"number",defaultValue:10}]},getConversationListByOption:{name:"按条件获取会话",params:[{name:"offset",type:"number",defaultValue:0},{name:"limit",type:"number",defaultValue:10},{name:"option",type:"json",defaultValue:{conversationTypes:[1],onlyUnread:!1}}]},stickTopConversation:{name:"置顶会话",params:[{name:"conversationId",type:"string",defaultValue:""},{name:"stickTop",type:"boolean",defaultValue:!1}]},getTotalUnreadCount:{name:"获取总会话未读数",params:[]},getUnreadCountByIds:{name:"根据 id 列表获取会话的未读数",params:[{name:"conversationIds",type:"json",defaultValue:["cs1|1|cs2","cs1|1|cs3"]}]},getUnreadCountByFilter:{name:"根据过滤参数获取相应的未读信息",params:[{name:"filter",type:"json",defaultValue:{conversationTypes:[1],ignoreMuted:!1}}]},clearTotalUnreadCount:{name:"清空所有会话总的未读数",params:[]},clearUnreadCountByIds:{name:"根据会话 id 列表清空相应会话的未读数",params:[{name:"conversationIds",type:"json",defaultValue:["cs1|1|cs2"]}]},clearUnreadCountByTypes:{name:"清除对应指定类型下的会话的未读数",params:[{name:"types",type:"json",defaultValue:[1,2]}]},subscribeUnreadCountByFilter:{name:"订阅指定过滤条件的会话未读数变化",params:[{name:"filter",type:"json",defaultValue:{conversationTypes:[1],ignoreMuted:!1}}]},unsubscribeUnreadCountByFilter:{name:"取消订阅指定过滤条件的会话未读数变化",params:[{name:"filter",type:"json",defaultValue:{conversationTypes:[1],ignoreMuted:!1}}]},markConversationRead:{name:"标记会话为已读",params:[{name:"conversationId",type:"string",defaultValue:""}]},getConversationReadTime:{name:"获取会话的已读时间",params:[{name:"conversationId",type:"string",defaultValue:""}]}},MUe={login:{name:"登录",params:[{name:"user",type:"string",defaultValue:"account1"},{name:"token",type:"string",defaultValue:"e10adc3************f20f883e"},{name:"config",type:"json",defaultValue:JSON.stringify({retryCount:3,timeout:6e4,forceMode:!1,authType:0},null,2)}],bestPractice:`
// 事件监听推荐在登录前设置
nim.V2NIMLoginService.on("onLoginStatus", (status) => {
  console.log("登录状态变更：", status);
})
nim.V2NIMLoginService.on("onKickedOffline", (detail) => {
  console.log("被踢下线, 原因", detail.reason);
  // todo 被踢下线提示
})
nim.V2NIMLoginService.on("onDisconnected", function (error) {
  console.log("长连接断开, 明细", error.toString());
  // todo 断线提示
})
nim.V2NIMLoginService.on("onDataSync", function (type, state, error) {
  if (type === 1 && state === 3) {
    // 当同步主任务完毕时, todo 标记可以调用其他查询 API
    // 如 nim.V2NIMLocalConversationService.getConversationList(0, 10)
  }
})
await nim.V2NIMLoginService.login('account1', 'e10adc3************f20f883e', {
  retryCount: 3,
  timeout: 60000,
  forceMode: false,
  authType: 0,
})
    `},getLoginUser:{name:"获取当前登录的用户账号 ID"},getConnectStatus:{name:"获取连接的状态"},getLoginStatus:{name:"获取当前登录状态"},getLoginClients:{name:"获取本账号多端登录的其他端信息"},getCurrentLoginClient:{name:"获取本账号本端的登录信息"},kickOffline:{name:"踢人",params:[{name:"clientId",type:"string",defaultValue:""}]},getKickedOfflineDetail:{name:"获取自己被踢的原因"},getDataSync:{name:"获取同步状态"},setReconnectDelayProvider:{name:"设置断网重连的等待间隔函数",params:[{name:"reconnectDelayProvider",type:"function",defaultValue:"return function(delay) { console.log('触发了 reconnectDelayProvider, 旧的间隔时间为:', delay); return 3000 }"}]},getChatroomLinkAddress:{name:"获取聊天室链接地址",params:[{name:"roomId",type:"string",defaultValue:"36"},{name:"miniProgram",type:"boolean",defaultValue:!1}]}},_Ue={createLocationMessageAttachment:{name:"构造地理位置消息的附件",params:[{name:"latitude",type:"number",defaultValue:0},{name:"longitude",type:"number",defaultValue:0},{name:"address",type:"string",defaultValue:""}]},createCustomMessageAttachment:{name:"构造自定义消息的附件",params:[{name:"rawAttachment",type:"string",defaultValue:'{"test": 123456}'}]}},xUe={messageSerialization:{name:"序列化消息",params:[{name:"message",type:"json",defaultValue:"[[__message]]"}]},messageDeserialization:{returnVar:"__message",name:"反序列化消息",params:[{name:"messageString",type:"string",defaultValue:""}]}},wUe={createTextMessage:{returnVar:"__message",name:"创建文本消息",params:[{name:"text",type:"string",defaultValue:"hello"}]},createImageMessage:{name:"创建图片消息",returnVar:"__message",params:[{name:"imageObj",type:"file"},{name:"name",type:"string"},{name:"sceneName",type:"string"},{name:"width",type:"number"},{name:"height",type:"number"}]},createAudioMessage:{name:"创建音频消息",returnVar:"__message",params:[{name:"audioObj",type:"file"},{name:"name",type:"string"},{name:"sceneName",type:"string"},{name:"duration",type:"number"}]},createVideoMessage:{name:"创建视频消息",returnVar:"__message",params:[{name:"videoObj",type:"file"},{name:"name",type:"string"},{name:"sceneName",type:"string"},{name:"duration",type:"number"},{name:"width",type:"number"},{name:"height",type:"number"}]},createFileMessage:{name:"创建文件消息",returnVar:"__message",params:[{name:"fileObj",type:"file"},{name:"name",type:"string"},{name:"sceneName",type:"string"}]},createLocationMessage:{name:"创建位置消息",returnVar:"__message",params:[{name:"latitude",type:"number"},{name:"longitude",type:"number"},{name:"address",type:"string"}]},createCustomMessage:{name:"创建自定义消息",returnVar:"__message",params:[{name:"text",type:"string"},{name:"rawAttachment",type:"string",defaultValue:'{"test": 123456}'}]},createCustomMessageWithAttachment:{name:"创建自定义消息",returnVar:"__message",params:[{name:"attachment",type:"json",defaultValue:{raw:'{"test":123}',test:123}},{name:"subType",type:"number",defaultValue:0}]},createCallMessage:{name:"创建话单消息",returnVar:"__message",params:[{name:"type",type:"number"},{name:"channelId",type:"string"},{name:"status",type:"number"},{name:"durations",type:"json",defaultValue:'[{"accountId": "123456", "duration": 100}]'},{name:"text",type:"string"}]},createForwardMessage:{name:"创建转发消息",returnVar:"__message",params:[{name:"message",type:"string",defaultValue:"message"}]},createTipsMessage:{name:"创建提示消息",returnVar:"__message",params:[{name:"text",type:"string"}]}},NUe={sendMessage:{name:"发送消息",returnVar:"__message",params:[{name:"message",type:"json",defaultValue:"[[__message]]"},{name:"conversationId",type:"string",defaultValue:"cjhz1|1|cs6"},{name:"params",type:"json",defaultValue:JSON.stringify({messageConfig:{},routeConfig:{},pushConfig:{},antispamConfig:{},robotConfig:{},clientAntispamEnabled:!0,clientAntispamReplace:"******"},null,2)},{name:"progress",type:"function",defaultValue:"return function(progress) { console.log('上传中', progress) }"}],bestPractice:`
const messageBeforeSend = nim.V2NIMMessageCreator.createTextMessage("hello world")
const conversationId = nim.V2NIMConversationIdUtil.p2pConversationId("targetAccid")
const message = await nim.V2NIMMessageService.sendMessage(messageBeforeSend, conversationId, {
  "clientAntispamEnabled": true,
  "clientAntispamReplace": "******"
})
    `},replyMessage:{name:"回复消息",params:[{name:"message",type:"json",defaultValue:"[[__targetMessage]]"},{name:"replyMessage",type:"json",defaultValue:"[[__message]]"},{name:"param",type:"json",defaultValue:{messageConfig:{},routeConfig:{},pushConfig:{},antispamConfig:{},robotConfig:{}}}],bestPractice:`
// 制造一条消息
const messageBeforeSend = nim.V2NIMMessageCreator.createTextMessage("hello world")
const conversationId = nim.V2NIMConversationIdUtil.p2pConversationId("targetAccid")
const targetMessage = await nim.V2NIMMessageService.sendMessage(messageBeforeSend, conversationId, {
  "clientAntispamEnabled": true,
  "clientAntispamReplace": "******"
})

// 回复上面制造的消息
const replyBeforeSend = nim.V2NIMMessageCreator.createTextMessage("The reply message")
const message = await nim.V2NIMMessageService.replyMessage(targetMessage, replyBeforeSend)
    `},modifyMessage:{name:"修改消息",returnVar:"__message",params:[{name:"message",type:"json",defaultValue:"[[__message]]"},{name:"params",type:"json",defaultValue:{subType:0,text:"测试文本12345",serverExtension:'{"a": 123}',routeConfig:{},pushConfig:{},antispamConfig:{},clientAntispamEnabled:!0,clientAntispamReplace:"******"}}],bestPractice:`
// 制造一条消息
const messageBeforeSend = nim.V2NIMMessageCreator.createTextMessage("hello world")
const conversationId = nim.V2NIMConversationIdUtil.p2pConversationId("targetAccid")
const targetMessage = await nim.V2NIMMessageService.sendMessage(messageBeforeSend, conversationId, {
  "clientAntispamEnabled": true,
  "clientAntispamReplace": "******"
})

// 回复上面制造的消息
const message = await nim.V2NIMMessageService.modifyMessage(targetMessage, {
  subType: 0,
  text: "修改后的文本1",
  serverExtension: '{"a": 123}',
})
    `},revokeMessage:{name:"撤回消息",params:[{name:"message",type:"json",defaultValue:"[[__message]]"},{name:"params",type:"json",defaultValue:{postscript:"",serverExtension:"",pushContent:"",pushPayload:"",env:""}}],bestPractice:`
// 制造一条消息
const messageBeforeSend = nim.V2NIMMessageCreator.createTextMessage("hello world")
const conversationId = nim.V2NIMConversationIdUtil.p2pConversationId("targetAccid")
const targetMessage = await nim.V2NIMMessageService.sendMessage(messageBeforeSend, conversationId, {
  "clientAntispamEnabled": true,
  "clientAntispamReplace": "******"
})

// 撤回上面制造的消息
await nim.V2NIMMessageService.revokeMessage(targetMessage, {
  postscript: '撤回的附言',
  serverExtension: '{"reason": 1}',
})
    `},getP2PMessageReceipt:{name:"获取 p2p 消息已读回执(内存获取)",params:[{name:"conversationId",type:"string",defaultValue:"cjhz1|1|cs6"}]},getTeamMessageReceipts:{name:"批量获取 team 消息已读回执",params:[{name:"messages",type:"json",defaultValue:"[[__messages]]"}]},getTeamMessageReceiptDetail:{name:"获取 team 消息已读回执详情",params:[{name:"message",type:"json",defaultValue:"[[__message]]"}]},sendP2PMessageReceipt:{name:"发送 p2p 消息已读回执",params:[{name:"message",type:"json",defaultValue:"[[__message]]"}]},isPeerRead:{name:"判断消息是否被对方已读",params:[{name:"message",type:"json",defaultValue:"[[__message]]"}]},sendTeamMessageReceipts:{name:"批量发送 team 消息已读回执",params:[{name:"messageArr",type:"json"}]},getMessageList:{name:"获取消息列表",returnVar:"__messages",params:[{name:"option",type:"json",defaultValue:{conversationId:"cs1|1|cs6",messageTypes:[0,1,2,3],beginTime:0,endTime:0,limit:50,direction:0}}]},getMessageListByRefers:{name:"根据messageRefer消息列表",params:[{name:"messageRefers",type:"json"}]},deleteMessage:{name:"单向删除消息",params:[{name:"message",type:"json",defaultValue:"[[__message]]"},{name:"serverExtension",type:"string",defaultValue:"{}"}],bestPractice:`
// 制造一条消息
const messageBeforeSend = nim.V2NIMMessageCreator.createTextMessage("hello world")
const conversationId = nim.V2NIMConversationIdUtil.p2pConversationId("targetAccid")
const targetMessage = await nim.V2NIMMessageService.sendMessage(messageBeforeSend, conversationId, {
  "clientAntispamEnabled": true,
  "clientAntispamReplace": "******"
})

// 删除上面制造的消息
await nim.V2NIMMessageService.deleteMessage(targetMessage)
    `},deleteMessages:{name:"批量单向删除消息",params:[{name:"messages",type:"json",defaultValue:"[[__messages]]"},{name:"serverExtension",type:"string",defaultValue:"{}"}],bestPractice:`
// 制造一条消息
const messageBeforeSend = nim.V2NIMMessageCreator.createTextMessage("hello world")
const conversationId = nim.V2NIMConversationIdUtil.p2pConversationId("targetAccid")
const targetMessage = await nim.V2NIMMessageService.sendMessage(messageBeforeSend, conversationId, {
  "clientAntispamEnabled": true,
  "clientAntispamReplace": "******"
})

// 删除上面制造的消息
await nim.V2NIMMessageService.deleteMessages([targetMessage])
    `},clearHistoryMessage:{name:"清空单聊历史消息",params:[{name:"conversationId",type:"string",defaultValue:"cs1|1|cs6"},{name:"deleteRoam",type:"boolean",defaultValue:!0},{name:"onlineSync",type:"boolean",defaultValue:!1},{name:"serverExtension",type:"string",defaultValue:"ext"}]},pinMessage:{name:"pin消息",params:[{name:"message",type:"json",defaultValue:"[[__message]]"},{name:"serverExtension",type:"string",defaultValue:"ext"}]},unpinMessage:{name:"unpin消息",params:[{name:"messageRefer",type:"json",defaultValue:"[[__message]]"},{name:"serverExtension",type:"string",defaultValue:"ext"}]},updatePinMessage:{name:"更新pin消息扩展字段",params:[{name:"message",type:"json",defaultValue:"[[__message]]"},{name:"serverExtension",type:"string",defaultValue:"ext"}]},getPinnedMessageList:{name:"获取pin消息列表",params:[{name:"conversationId",type:"string",defaultValue:"cjhz1|1|cs6"}]},addQuickComment:{name:"添加快捷回复",params:[{name:"message",type:"json",defaultValue:"[[__message]]"},{name:"index",type:"number",defaultValue:0},{name:"serverExtension",type:"string",defaultValue:"ext"},{name:"pushConfig",type:"json",defaultValue:{pushContent:"quickCommentPushContent",pushPayload:"quickCommentPushPayload",title:"quickCommentPushTitle",pushEnabled:!0,needBadge:!0}}]},removeQuickComment:{name:"删除快捷回复",params:[{name:"messageRefer",type:"json",defaultValue:"[[__message]]"},{name:"index",type:"number",defaultValue:0},{name:"serverExtension",type:"string",defaultValue:"ext"}]},getQuickCommentList:{name:"获取快捷回复列表",params:[{name:"message",type:"json",defaultValue:"[[__messages]]"}]},addCollection:{name:"添加收藏",params:[{name:"param",type:"json",defaultValue:{collectionType:1,collectionData:"",serverExtension:"ext",uniqueId:"1"}}]},removeCollections:{name:"批量删除收藏",params:[{name:"collections",type:"json",defaultValue:{}}]},updateCollectionExtension:{name:"更新收藏扩展字段",params:[{name:"collection",type:"json",defaultValue:{}},{name:"serverExtension",type:"string",defaultValue:"ext"}]},getCollectionListByOption:{name:"分页查询收藏",params:[{name:"param",type:"json",defaultValue:{beginTime:0,endTime:0,anchorCollection:{collectionType:1,collectionData:"",serverExtension:"ext",uniqueId:"1"},direction:0,limit:100,collectionType:0}}]},getCollectionListExByOption:{name:"分页查询收藏",params:[{name:"param",type:"json",defaultValue:{beginTime:0,endTime:0,anchorCollection:{collectionType:1,collectionData:"",serverExtension:"ext",uniqueId:"1"},direction:0,limit:100,collectionType:0}}]},voiceToText:{name:"语音转文字",params:[{name:"voiceObj",type:"json",defaultValue:{voiceUrl:"https://nim.nosdn.127.net/MTAxMTAwMg==/bmltYV8xMDMwMzI4XzE2OTI5NDM0NTgxNDlfMmU2Y2YwMGQtOGJkYi00NTNhLWI3MTctMGQ2OWUwZDVjNjEw",mimeType:"",sampleRate:"",duration:3e4,sceneName:""}}],bestPractice:`
// 现成有的 NOS 链接
await nim.V2NIMMessageService.voiceToText({
  voiceUrl:
    'https://nim.nosdn.127.net/MTAxMTAwMg==/bmltYV8xMDMwMzI4XzE2OTI5NDM0NTgxNDlfMmU2Y2YwMGQtOGJkYi00NTNhLWI3MTctMGQ2OWUwZDVjNjEw',
  mimeType: 'audio/mpeg',
  duration: 27000
})

// or 有文件对象
await nim.V2NIMMessageService.voiceToText({
  // 假设有这么一个 DOM 结构 <input type="file" id="nim-external">
  // 获取文件对象. 先上传后解析.
  file: document.getElementById('nim-external').files[0],
  mimeType: 'audio/mpeg',
  duration: 27000
})
    `},cancelMessageAttachmentUpload:{name:"取消消息附件上传",params:[{name:"message",type:"json",defaultValue:"[[__message]]"}]},searchCloudMessages:{name:"云端消息检索",params:[{name:"param",type:"json",defaultValue:{keyword:"keyword",beginTime:0,endTime:0,conversationLimit:0,sortOrder:0,p2pAccountIds:["cs1","cs2"],teamIds:["team1","team2"],senderAccountIds:["zk1","zk2"],messageTypes:[0,1,2,3],messageSubtypes:[0,1,2,3]}}]},getThreadMessageList:{name:"云端获取thread消息列表",params:[{name:"param",type:"json",defaultValue:{messageRefer:{senderId:"cs1",receiverId:"cs2",messageClientId:"clientId",messageServerId:"serverId",createTime:2131232,conversationType:1,conversationId:"cs1|1|cs2"},beginTime:0,limit:50,direction:0}}]},registerCustomAttachmentParser:{name:"注册自定义附件解析器",params:[{name:"parser",type:"function",defaultValue:"return function (subType, raw) { const rawObj = JSON.parse(raw); rawObj.subType = subType;  return rawObj; }"}]},unregisterCustomAttachmentParser:{name:"反注册自定义附件解析器",params:[{name:"parser",type:"string",defaultValue:"[[__parser]]"}]},stopAIStreamMessage:{name:"停止AI流式消息",params:[{name:"message",type:"json",defaultValue:"[[__message]]"},{name:"params",type:"json",defaultValue:{operationType:0}}],bestPractice:`
// 前置获取 AI 数字人列表. 假设有一项目
const aiUserList = await nim.V2NIMAIService.getAIUserList()
// 前置选择一个 AI 数字人
const aiUserAccid = aiUserList[0].accountId

/** step 1: 监听收消息事件 **/
nim.V2NIMMessageService.on('onReceiveMessages', function(msgs) {
  msgs.forEach(msg => {
    // 筛选出 AI 消息且是一个流式消息
    if (msg.aiConfig && msg.aiConfig.accountId && msg.streamConfig) {        
      /** step 3: 过一阵子收到了 AI 响应的消息, 试图停止流式输出 **/
      console.log('Trigger onReceiveMessages and get ai message', msg)
      nim.V2NIMMessageService.stopAIStreamMessage(msg, {
        operationType: 0
      })
    }
  })
})

/** step 2: 制造一条流式 AI 消息 **/
const messageBeforeSend = nim.V2NIMMessageCreator.createTextMessage("如何做一份番茄炒蛋?")
const conversationId = nim.V2NIMConversationIdUtil.p2pConversationId(aiUserAccid)
const targetMessage = await nim.V2NIMMessageService.sendMessage(messageBeforeSend, conversationId, {
  aiConfig: {
    accountId: aiUserAccid,
    // 流式消息输出
    aiStream: true,
  },
})
    `},regenAIMessage:{name:"重新生成AI消息",params:[{name:"message",type:"json",defaultValue:"[[__message]]"},{name:"params",type:"json",defaultValue:{operationType:1}}]},setMessageFilter:{name:"设置消息过滤器",params:[{name:"filter",type:"json",defaultValue:{shouldIgnore:"return function (message) { if (message.subType === 1) return true; return false; }"}}]}},RUe={sendCustomNotification:{name:"发送自定义系统通知",params:[{name:"conversationId",type:"string",defaultValue:"cjhz1|1|cs6"},{name:"content",type:"string",defaultValue:"content"},{name:"params",type:"json",defaultValue:{notificationConfig:{},pushConfig:{},antispamConfig:{},routeConfig:{}}}]}},AUe={httpProxy:{name:"http 服务代理",params:[{name:"proxyRequest",type:"json",defaultValue:JSON.stringify({path:"/nimserver/friend/get.action",zone:"http://imtest.netease.im",method:2,header:'{"Nonce":"EvrYDSfpHwXVbeAUdOji","CheckSum":"589f2778d81e296441f262b4f3b111e89cbaf077","AppKey":"fe416640c8e8a72734219e1847ad2547","CurTime":"1730186843","Content-Type":"application/x-www-form-urlencoded"}',body:"accid=ctt1&updatetime=0"},null,2)}]}},OUe={getConversationMuteStatus:{name:"获取会话消息免打扰状态",params:[{name:"conversationId",type:"string",defaultValue:"cs1|2|23498761"}]},setTeamMessageMuteMode:{name:"设置群消息免打扰模式",params:[{name:"teamId",type:"string",defaultValue:"12312312"},{name:"teamType",type:"number",defaultValue:1},{name:"muteMode",type:"number",defaultValue:1}]},getTeamMessageMuteMode:{name:"获取群消息免打扰模式",params:[{name:"teamId",type:"string",defaultValue:"1231231"},{name:"teamType",type:"number",defaultValue:1}]},setP2PMessageMuteMode:{name:"设置点对点消息免打扰模式",params:[{name:"accountId",type:"string",defaultValue:"cs3"},{name:"muteMode",type:"number",defaultValue:1}]},getP2PMessageMuteMode:{name:"获取用户消息免打扰模式",params:[{name:"accountId",type:"string",defaultValue:"1231231"}]},getP2PMessageMuteList:{name:"获取用户消息免打扰列表",params:[]},setAppBackground:{name:"设置应用前后台状态",params:[{name:"isBackground",type:"boolean",defaultValue:!1},{name:"badge",type:"number",defaultValue:0}]},setPushMobileOnDesktopOnline:{name:"设置桌面端在线时，移动端是否需要推送",params:[{name:"need",type:"boolean",defaultValue:!0}]}},kUe={call:{name:"直接呼叫对方加入房间",params:[{name:"params",type:"json",defaultValue:{calleeAccountId:"autotest80",requestId:"12233",channelType:2,channelName:"name",channelExtension:"channel extension",serverExtension:"server extension",signallingConfig:{offlineEnabled:!0,unreadEnabled:!0,selfUid:2222},pushConfig:{pushEnabled:!0,pushTitle:"push title",pushContent:"push Content"},rtcConfig:{rtcChannelName:"rtc channel name",rtcTokenTtl:3e5}}}]},callSetup:{name:"呼叫建立, 包括加入信令频道房间, 同时接受对方呼叫",params:[{name:"params",type:"json",defaultValue:{channelId:"xxxxxxx",callerAccountId:"acc",requestId:"yyyyyy",serverExtension:"server extension"}}]},createRoom:{name:"创建房间",params:[{name:"channelType",type:"number",defaultValue:2},{name:"channelName",type:"string",defaultValue:"channelName"},{name:"channelExtension",type:"string",defaultValue:"channel Ext"}]},delayRoom:{name:"延迟房间有效期(不对外)",params:[{name:"channelId",type:"string",defaultValue:"xxxxxx"}]},closeRoom:{name:"关闭房间",params:[{name:"channelId",type:"string",defaultValue:"xxxxxx"},{name:"offlineEnabled",type:"boolean",defaultValue:!0},{name:"serverExtension",type:"string",defaultValue:"server Ext"}]},joinRoom:{name:"加入房间",params:[{name:"params",type:"json",defaultValue:{channelId:"12233",serverExtension:"server extension",signallingConfig:{offlineEnabled:!0,unreadEnabled:!0,selfUid:2222},rtcConfig:{rtcChannelName:"rtc channel name",rtcTokenTtl:3e5}}}]},leaveRoom:{name:"离开房间",params:[{name:"channelId",type:"string",defaultValue:"xxxxxx"},{name:"offlineEnabled",type:"boolean",defaultValue:!0},{name:"serverExtension",type:"string",defaultValue:"server Ext"}]},invite:{name:"邀请",params:[{name:"params",type:"json",defaultValue:{channelId:"12233",inviteeAccountId:"invitee",requestId:"xxxxx",serverExtension:"server extension",signallingConfig:{offlineEnabled:!0,unreadEnabled:!0,selfUid:2222},pushConfig:{pushEnabled:!0,pushTitle:"push title",pushContent:"push Content"}}}]},cancelInvite:{name:"取消邀请",params:[{name:"params",type:"json",defaultValue:{channelId:"12233",inviteeAccountId:"invitee",requestId:"xxxxx",serverExtension:"server extension",offlineEnabled:!0}}]},rejectInvite:{name:"拒绝别人的邀请加入信令房间请求",params:[{name:"params",type:"json",defaultValue:{channelId:"test_channelId",inviterAccountId:"test_inviter_accountId",requestId:"test_requestId_1",serverExtension:"",offlineEnabled:!0}}]},acceptInvite:{name:"接受别人的邀请加入信令房间请求",params:[{name:"params",type:"json",defaultValue:{channelId:"test_channelId",inviterAccountId:"test_inviter_accountId",requestId:"test_requestId_1",serverExtension:"",offlineEnabled:!0}}]},sendControl:{name:"发送自定义控制指令",params:[{name:"channelId",type:"string",defaultValue:"dsdsds"},{name:"receiverAccountId",type:"string",defaultValue:""},{name:"serverExtension",type:"string",defaultValue:""}]},getRoomInfoByChannelName:{name:"根据频道名称查询频道房间信息",params:[{name:"channelName",type:"string",defaultValue:"test_channel_name_123"}]}},LUe={addCustomStorageScene:{name:"添加存储场景",params:[{name:"sceneName",type:"string"},{name:"expireTime",type:"number"}]},getStorageSceneList:{name:"查询存储场景列表",params:[]},createUploadFileTask:{name:"创建文件上传任务",externalView:'<input type="file" id="nim-external">',returnVar:"__uploadTask",params:[{name:"fileParams",type:"json",defaultValue:{fileObj:"nim-external",sceneName:"nim_default_im"}}]},uploadFile:{name:"上传文件",params:[{name:"fileTask",type:"json",defaultValue:"[[__uploadTask]]"},{name:"progress",type:"function",defaultValue:"return function(progress) { console.log('上传中', progress) }"}]},uploadFileWithMetaInfo:{name:"上传文件并返回媒体信息",params:[{name:"fileTask",type:"json",defaultValue:"[[__uploadTask]]"},{name:"progress",type:"function",defaultValue:"return function(progress) { console.log('上传中', progress) }"}]},cancelUploadFile:{name:"取消上传文件",params:[{name:"fileTask",type:"json",defaultValue:"[[__uploadTask]]"}]},shortUrlToLong:{name:"短链接转长链接",params:[{name:"url",type:"string"}]},getImageThumbUrl:{name:"生成缩略图链接",instance:"chatroomV2",params:[{name:"attachment",type:"json"},{name:"thumbSize",type:"json",defaultValue:{width:100,height:100}}]},getVideoCoverUrl:{name:"生成视频封面图链接",instance:"chatroomV2",params:[{name:"attachment",type:"json"},{name:"thumbSize",type:"json",defaultValue:{width:100,height:100}}]}},PUe={subscribeUserStatus:{name:"订阅用户状态",params:[{name:"params",type:"json",defaultValue:{accountIds:["autotest80","autotest81"],duration:3e3,immediateSync:!0}}]},unsubscribeUserStatus:{name:"取消订阅用户状态",params:[{name:"params",type:"json",defaultValue:{accountIds:["autotest80","autotest81"]}}]},publishCustomUserStatus:{name:"发布用户自定义状态",params:[{name:"params",type:"json",defaultValue:{statusType:10001,duration:3e3,extension:"extension",onlineOnly:!0,multiSync:!0}}]},queryUserStatusSubscriptions:{name:"查询用户状态订阅",params:[{name:"accountIds",type:"json",defaultValue:["autotest80","autotest81"]}]}},DUe={createTeam:{name:"创建群",params:[{name:"createTeamParams",type:"json",defaultValue:{name:"群名",teamType:1,memberLimit:200,joinMode:0,agreeMode:0,inviteMode:0,updateInfoMode:0,updateExtensionMode:0,chatBannedMode:0}},{name:"inviteeAccountIds",type:"json",defaultValue:["cs1"]},{name:"postscript",type:"string",defaultValue:""},{name:"antispamConfig",type:"json",defaultValue:{}}]},updateTeamInfo:{name:"更新群",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"updateTeamInfoParams",type:"json",defaultValue:{name:"群名1",memberLimit:200,joinMode:0,agreeMode:0,inviteMode:0,updateInfoMode:0,updateExtensionMode:0,chatBannedMode:0}},{name:"antispamConfig",type:"json",defaultValue:{}}]},leaveTeam:{name:"离开群",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1}]},getTeamInfo:{name:"查询某群信息",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1}]},getJoinedTeamList:{name:"获取当前已经加入的群组列表",params:[{name:"teamTypes",type:"json",defaultValue:[1]}]},getJoinedTeamCount:{name:"获取当前已经加入的群组数量",params:[{name:"teamTypes",type:"json",defaultValue:[1]}]},getTeamInfoByIds:{name:"通过 id 列表查询群信息",params:[{name:"teamIds",type:"json",defaultValue:[]},{name:"teamType",type:"number",defaultValue:1}]},dismissTeam:{name:"解散群",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1}]},inviteMember:{name:"邀请成员加入群",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"inviteeAccountIds",type:"json",defaultValue:[]},{name:"postscript",type:"string",defaultValue:""}]},inviteMemberEx:{name:"邀请成员加入群",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"inviteeParams",type:"json",defaultValue:{inviteeAccountIds:[],postscript:"",serverExtension:""}}]},acceptInvitation:{name:"接受邀请入群",params:[{name:"invitationInfo",type:"json",defaultValue:{}}]},rejectInvitation:{name:"拒绝邀请入群",params:[{name:"invitationInfo",type:"json",defaultValue:{}},{name:"postscript",type:"string",defaultValue:""}]},kickMember:{name:"踢出群组成员",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"memberAccountIds",type:"json",defaultValue:[]}]},applyJoinTeam:{name:"(用户)申请加入群组",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"postscript",type:"string",defaultValue:""}]},acceptJoinApplication:{name:"(管理员)接受(用户的)入群申请",params:[{name:"invitationInfo",type:"json",defaultValue:{}}]},rejectJoinApplication:{name:"(管理员)拒绝(用户的)入群申请",params:[{name:"invitationInfo",type:"json",defaultValue:{}},{name:"postscript",type:"string",defaultValue:""}]},updateTeamMemberRole:{name:"设置成员角色",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"memberAccountIds",type:"json",defaultValue:[]},{name:"memberRole",type:"number",defaultValue:0}]},transferTeamOwner:{name:"移交群主",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"accountId",type:"string",defaultValue:""},{name:"leave",type:"boolean",defaultValue:!1}]},updateSelfTeamMemberInfo:{name:"修改自己的群成员信息",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"memberInfoParams",type:"json",defaultValue:{teamNick:"",serverExtension:""}}]},updateTeamMemberNick:{name:"修改群成员昵称",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"accountId",type:"string",defaultValue:""},{name:"nick",type:"string",defaultValue:""}]},setTeamChatBannedMode:{name:"设置群组禁言模式",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"chatBannedMode",type:"number",defaultValue:0}]},setTeamMemberChatBannedStatus:{name:"设置群组成员聊天禁言状态",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"accountId",type:"string",defaultValue:""},{name:"chatBanned",type:"boolean",defaultValue:!1}]},getTeamMemberList:{name:"获取群成员列表",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"queryOption",type:"json",defaultValue:{roleQueryType:0,onlyChatBanned:!1,direction:0,limit:100,nextToken:""}}]},getTeamMemberListByIds:{name:"根据账号 ID 列表获取群组成员列表",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"accountIds",type:"json",defaultValue:[]}]},getTeamMemberInvitor:{name:"根据账号 ID 列表获取群组成员邀请人",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"accountIds",type:"json",defaultValue:[]}]},getTeamJoinActionInfoList:{name:"获取群加入, 邀请等相关信息",params:[{name:"option",type:"json",defaultValue:{types:[0,1,2,3],status:[0,1,2,3],offset:0,limit:50}}]},clearAllTeamJoinActionInfo:{name:"清空所有群申请",params:[]},deleteTeamJoinActionInfo:{name:"删除群申请",params:[{name:"applicationInfo",type:"json",defaultValue:{actionType:0,teamId:"2348598524",teamType:1,operatorAccountId:"ctt1",postscript:"xxx",timestamp:1729240254764,actionStatus:1}}]},searchTeamByKeyword:{name:"根据关键字搜索群组",params:[{name:"keyword",type:"string",defaultValue:""}]},addTeamMembersFollow:{name:"添加群组特别关注",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"accountIds",type:"json",defaultValue:[]}]},removeTeamMembersFollow:{name:"移除群组特别关注",params:[{name:"teamId",type:"string",defaultValue:""},{name:"teamType",type:"number",defaultValue:1},{name:"accountIds",type:"json",defaultValue:[]}]}},jUe={getUserList:{name:"批量获取用户资料",params:[{name:"accountIds",type:"json",defaultValue:["cs1","cs2"]}]},getUserListFromCloud:{name:"从云端获取批量获取用户资料",params:[{name:"accountIds",type:"json",defaultValue:["cs1","cs2"]}]},updateSelfUserProfile:{name:"更新用户资料",params:[{name:"updateParams",type:"json",defaultValue:{name:"newNick",sign:"signature",email:"yunxin@corp.netease.com"}}]},addUserToBlockList:{name:"添加黑名单",params:[{name:"accountId",type:"string",defaultValue:"cs1"}]},removeUserFromBlockList:{name:"移除黑名单",params:[{name:"accountId",type:"string",defaultValue:"cs1"}]},getBlockList:{name:"获取黑名单列表",params:[]},searchUserByOption:{name:"搜索用户",params:[{name:"option",type:"json",defaultValue:{keyword:"name",searchName:!0,searchAccountId:!0,searchMobile:!1}}]}},VUe={V2NIMAIService:yUe,V2NIMLoginService:MUe,V2NIMLocalConversationService:TUe,V2NIMConversationService:EUe,V2NIMConversationIdUtil:IUe,V2NIMConversationGroupService:SUe,V2NIMMessageCreator:wUe,V2NIMMessageAttachmentCreator:_Ue,V2NIMMessageConverter:xUe,V2NIMMessageService:NUe,V2NIMNotificationService:RUe,V2NIMStorageService:LUe,V2NIMClientAntispamUtil:bUe,V2NIMTeamService:DUe,V2NIMUserService:jUe,V2NIMFriendService:CUe,V2NIMSettingService:OUe,V2NIMSignallingService:kUe,V2NIMSubscriptionService:PUe,V2NIMPassthroughService:AUe},$Ue=()=>{const{service:e,method:t}=pwe();return(()=>{var i;if(e===void 0)return s.jsx("div",{children:"empty"});const r=(i=VUe[e])==null?void 0:i[t];return s.jsx(vUe,{interfaceName:e,methodName:t,methodConfig:r})})()},UUe=()=>s.jsx(DVe,{children:s.jsx(xwe,{})}),BUe=[s.jsx(hr,{path:"/",element:s.jsx(_we,{to:"/apis",replace:!0})}),s.jsxs(hr,{path:"/apis",element:s.jsx(UUe,{}),children:[s.jsx(hr,{index:!0,element:s.jsx(UVe,{})}),",",s.jsx(hr,{path:"V2NIMLoginService/login",element:s.jsx(u$e,{})}),",",s.jsx(hr,{path:"V2NIMLoginService/kickOffline",element:s.jsx(s$e,{})}),",",s.jsx(hr,{path:"V2NIMLoginService/on",element:s.jsx(m$e,{})}),",",s.jsx(hr,{path:"V2NIMLocalConversationService/createConversation",element:s.jsx(JVe,{})}),",",s.jsx(hr,{path:"V2NIMLocalConversationService/deleteConversation",element:s.jsx(ZVe,{})}),",",s.jsx(hr,{path:"V2NIMLocalConversationService/stickTopConversation",element:s.jsx(i$e,{})}),",",s.jsx(hr,{path:"V2NIMLocalConversationService/markConversationRead",element:s.jsx(t$e,{})}),",",s.jsx(hr,{path:"V2NIMLocalConversationService/on",element:s.jsx(r$e,{})}),",",s.jsx(hr,{path:"V2NIMMessageService/sendMessage",element:s.jsx(x$e,{})}),",",s.jsx(hr,{path:"V2NIMMessageService/getMessageListEx",element:s.jsx(I$e,{})}),",",s.jsx(hr,{path:"V2NIMMessageService/revokeMessage",element:s.jsx(M$e,{})}),",",s.jsx(hr,{path:"V2NIMMessageService/clearHistoryMessage",element:s.jsx(h$e,{})}),",",s.jsx(hr,{path:"V2NIMMessageService/deleteMessages",element:s.jsx(b$e,{})}),",",s.jsx(hr,{path:"V2NIMMessageService/on",element:s.jsx(C$e,{})}),",",s.jsx(hr,{path:"V2NIMUserService/getUserList",element:s.jsx(Z$e,{})}),",",s.jsx(hr,{path:"V2NIMUserService/getUserListFromCloud",element:s.jsx(eUe,{})}),",",s.jsx(hr,{path:"V2NIMUserService/updateSelfUserProfile",element:s.jsx(aUe,{})}),",",s.jsx(hr,{path:"V2NIMUserService/addUserToBlockList",element:s.jsx(Q$e,{})}),",",s.jsx(hr,{path:"V2NIMUserService/on",element:s.jsx(nUe,{})}),",",s.jsx(hr,{path:"V2NIMFriendService/getFriendList",element:s.jsx(KVe,{})}),",",s.jsx(hr,{path:"V2NIMFriendService/getFriendByIds",element:s.jsx(GVe,{})}),",",s.jsx(hr,{path:"V2NIMFriendService/addFriend",element:s.jsx(zVe,{})}),",",s.jsx(hr,{path:"V2NIMFriendService/deleteFriend",element:s.jsx(HVe,{})}),",",s.jsx(hr,{path:"V2NIMFriendService/acceptAddApplication",element:s.jsx(qVe,{})}),",",s.jsx(hr,{path:"V2NIMFriendService/rejectAddApplication",element:s.jsx(XVe,{})}),",",s.jsx(hr,{path:"V2NIMFriendService/on",element:s.jsx(YVe,{})}),",",s.jsx(hr,{path:"V2NIMTeamService/createTeam",element:s.jsx(L$e,{})}),",",s.jsx(hr,{path:"V2NIMTeamService/getJoinedTeamList",element:s.jsx(D$e,{})}),",",s.jsx(hr,{path:"V2NIMTeamService/getTeamInfoByIds",element:s.jsx(j$e,{})}),",",s.jsx(hr,{path:"V2NIMTeamService/joinTeam",element:s.jsx(B$e,{})}),",",s.jsx(hr,{path:"V2NIMTeamService/leaveTeam",element:s.jsx(q$e,{})}),",",s.jsx(hr,{path:"V2NIMTeamService/kickMember",element:s.jsx(F$e,{})}),",",s.jsx(hr,{path:"V2NIMTeamService/dismissTeam",element:s.jsx(P$e,{})}),",",s.jsx(hr,{path:"V2NIMTeamService/inviteMemberEx",element:s.jsx(U$e,{})}),s.jsx(hr,{path:"V2NIMTeamService/acceptInvitation",element:s.jsx(A$e,{})}),s.jsx(hr,{path:"V2NIMTeamService/rejectInvitation",element:s.jsx(G$e,{})}),s.jsx(hr,{path:"V2NIMTeamService/applyJoinTeam",element:s.jsx(k$e,{})}),s.jsx(hr,{path:"V2NIMTeamService/acceptJoinApplication",element:s.jsx(O$e,{})}),s.jsx(hr,{path:"V2NIMTeamService/rejectJoinApplication",element:s.jsx(K$e,{})}),s.jsx(hr,{path:"V2NIMTeamService/updateTeamMemberRole",element:s.jsx(J$e,{})}),s.jsx(hr,{path:"V2NIMTeamService/transferTeamOwner",element:s.jsx(X$e,{})}),s.jsx(hr,{path:"V2NIMTeamService/setTeamChatBannedMode",element:s.jsx(W$e,{})}),s.jsx(hr,{path:"V2NIMTeamService/setTeamMemberChatBannedStatus",element:s.jsx(Y$e,{})}),s.jsx(hr,{path:"V2NIMTeamService/getTeamMemberList",element:s.jsx(V$e,{})}),s.jsx(hr,{path:"V2NIMTeamService/getTeamMemberListByIds",element:s.jsx($$e,{})}),s.jsx(hr,{path:"V2NIMTeamService/on",element:s.jsx(H$e,{})}),s.jsx(hr,{path:"V2NIMNotificationService/on",element:s.jsx(N$e,{})}),s.jsx(hr,{path:"V2NIMNotificationService/sendCustomNotification",element:s.jsx(R$e,{})}),s.jsx(hr,{path:":service/:method",element:s.jsx($Ue,{})}),","]})],{Header:FUe,Content:qUe}=hl;function zUe(){const[e,t]=E.useState("apis"),n=[{key:"apis",label:s.jsx(GM,{to:"/apis",children:"API 示例"})},{key:"scenes",label:s.jsx(GM,{to:"/scenes",children:"场景示例(敬请期待)"})}];return E.useEffect(()=>{const r=window.location.pathname;r.startsWith("/apis")?t("apis"):r.startsWith("/scenes")&&t("scenes")},[]),s.jsx(Zwe,{children:s.jsxs(hl,{style:{position:"relative",minHeight:"100vh",minWidth:"100vw"},children:[s.jsxs(FUe,{style:{display:"flex",justifyContent:"space-between",background:"#fff",borderBottom:"1px solid #f0f0f0"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[s.jsx("img",{style:{width:28,height:28,marginRight:10},src:"https://yx-web-nosdn.netease.im/common/526c6014b8139bfca69b6a5266fdc7ab/yunxindoc_logo.png",alt:"logo"}),s.jsx("img",{style:{width:"auto",height:28},src:"https://yx-web-nosdn.netease.im/common/22b1a76874a24721be25a8da2f77dac4/yunxindoc_name.png",alt:"logo-text"})]}),s.jsx(jd,{mode:"horizontal",selectedKeys:[e],items:n,onClick:({key:r})=>t(r),style:{flex:1,justifyContent:"flex-end"}})]}),s.jsx(qUe,{style:{position:"relative",height:"calc(100vh - 64px)"},children:s.jsxs(Nwe,{children:[AVe,BUe]})})]})})}nJ.createRoot(document.getElementById("root")).render(s.jsx(E.StrictMode,{children:s.jsx(zUe,{})}));
